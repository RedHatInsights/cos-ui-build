{"version":3,"file":"581.771aa20e.js","mappings":"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","sources":["webpack://cos-ui/./node_modules/ajv/dist/ajv.js","webpack://cos-ui/./node_modules/ajv/dist/compile/codegen/code.js","webpack://cos-ui/./node_modules/ajv/dist/compile/codegen/index.js","webpack://cos-ui/./node_modules/ajv/dist/compile/codegen/scope.js","webpack://cos-ui/./node_modules/ajv/dist/compile/errors.js","webpack://cos-ui/./node_modules/ajv/dist/compile/index.js","webpack://cos-ui/./node_modules/ajv/dist/compile/names.js","webpack://cos-ui/./node_modules/ajv/dist/compile/ref_error.js","webpack://cos-ui/./node_modules/ajv/dist/compile/resolve.js","webpack://cos-ui/./node_modules/ajv/dist/compile/rules.js","webpack://cos-ui/./node_modules/ajv/dist/compile/util.js","webpack://cos-ui/./node_modules/ajv/dist/compile/validate/applicability.js","webpack://cos-ui/./node_modules/ajv/dist/compile/validate/boolSchema.js","webpack://cos-ui/./node_modules/ajv/dist/compile/validate/dataType.js","webpack://cos-ui/./node_modules/ajv/dist/compile/validate/defaults.js","webpack://cos-ui/./node_modules/ajv/dist/compile/validate/index.js","webpack://cos-ui/./node_modules/ajv/dist/compile/validate/keyword.js","webpack://cos-ui/./node_modules/ajv/dist/compile/validate/subschema.js","webpack://cos-ui/./node_modules/ajv/dist/core.js","webpack://cos-ui/./node_modules/ajv/dist/runtime/equal.js","webpack://cos-ui/./node_modules/ajv/dist/runtime/ucs2length.js","webpack://cos-ui/./node_modules/ajv/dist/runtime/validation_error.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/applicator/additionalItems.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/applicator/allOf.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/applicator/anyOf.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/applicator/contains.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/applicator/dependencies.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/applicator/if.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/applicator/index.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/applicator/items.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/applicator/items2020.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/applicator/not.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/applicator/oneOf.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/applicator/patternProperties.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/applicator/prefixItems.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/applicator/properties.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/applicator/propertyNames.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/applicator/thenElse.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/code.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/core/id.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/core/index.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/core/ref.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/discriminator/index.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/discriminator/types.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/draft7.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/format/format.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/format/index.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/metadata.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/validation/const.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/validation/enum.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/validation/index.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/validation/limitItems.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/validation/limitLength.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/validation/limitNumber.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/validation/limitProperties.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/validation/multipleOf.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/validation/pattern.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/validation/required.js","webpack://cos-ui/./node_modules/ajv/dist/vocabularies/validation/uniqueItems.js","webpack://cos-ui/./node_modules/fast-deep-equal/index.js","webpack://cos-ui/./node_modules/json-schema-traverse/index.js","webpack://cos-ui/./node_modules/uri-js/dist/es5/uri.all.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst core_1 = require(\"./core\");\nconst draft7_1 = require(\"./vocabularies/draft7\");\nconst discriminator_1 = require(\"./vocabularies/discriminator\");\nconst draft7MetaSchema = require(\"./refs/json-schema-draft-07.json\");\nconst META_SUPPORT_DATA = [\"/properties\"];\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\";\nclass Ajv extends core_1.default {\n    _addVocabularies() {\n        super._addVocabularies();\n        draft7_1.default.forEach((v) => this.addVocabulary(v));\n        if (this.opts.discriminator)\n            this.addKeyword(discriminator_1.default);\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        if (!this.opts.meta)\n            return;\n        const metaSchema = this.opts.$data\n            ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n            : draft7MetaSchema;\n        this.addMetaSchema(metaSchema, META_SCHEMA_ID, false);\n        this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID;\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n}\nmodule.exports = exports = Ajv;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Ajv;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\n//# sourceMappingURL=ajv.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.regexpCode = exports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\nclass _CodeOrName {\n}\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nclass Name extends _CodeOrName {\n    constructor(s) {\n        super();\n        if (!exports.IDENTIFIER.test(s))\n            throw new Error(\"CodeGen: name must be a valid identifier\");\n        this.str = s;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        return false;\n    }\n    get names() {\n        return { [this.str]: 1 };\n    }\n}\nexports.Name = Name;\nclass _Code extends _CodeOrName {\n    constructor(code) {\n        super();\n        this._items = typeof code === \"string\" ? [code] : code;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        if (this._items.length > 1)\n            return false;\n        const item = this._items[0];\n        return item === \"\" || item === '\"\"';\n    }\n    get str() {\n        var _a;\n        return ((_a = this._str) !== null && _a !== void 0 ? _a : (this._str = this._items.reduce((s, c) => `${s}${c}`, \"\")));\n    }\n    get names() {\n        var _a;\n        return ((_a = this._names) !== null && _a !== void 0 ? _a : (this._names = this._items.reduce((names, c) => {\n            if (c instanceof Name)\n                names[c.str] = (names[c.str] || 0) + 1;\n            return names;\n        }, {})));\n    }\n}\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\nfunction _(strs, ...args) {\n    const code = [strs[0]];\n    let i = 0;\n    while (i < args.length) {\n        addCodeArg(code, args[i]);\n        code.push(strs[++i]);\n    }\n    return new _Code(code);\n}\nexports._ = _;\nconst plus = new _Code(\"+\");\nfunction str(strs, ...args) {\n    const expr = [safeStringify(strs[0])];\n    let i = 0;\n    while (i < args.length) {\n        expr.push(plus);\n        addCodeArg(expr, args[i]);\n        expr.push(plus, safeStringify(strs[++i]));\n    }\n    optimize(expr);\n    return new _Code(expr);\n}\nexports.str = str;\nfunction addCodeArg(code, arg) {\n    if (arg instanceof _Code)\n        code.push(...arg._items);\n    else if (arg instanceof Name)\n        code.push(arg);\n    else\n        code.push(interpolate(arg));\n}\nexports.addCodeArg = addCodeArg;\nfunction optimize(expr) {\n    let i = 1;\n    while (i < expr.length - 1) {\n        if (expr[i] === plus) {\n            const res = mergeExprItems(expr[i - 1], expr[i + 1]);\n            if (res !== undefined) {\n                expr.splice(i - 1, 3, res);\n                continue;\n            }\n            expr[i++] = \"+\";\n        }\n        i++;\n    }\n}\nfunction mergeExprItems(a, b) {\n    if (b === '\"\"')\n        return a;\n    if (a === '\"\"')\n        return b;\n    if (typeof a == \"string\") {\n        if (b instanceof Name || a[a.length - 1] !== '\"')\n            return;\n        if (typeof b != \"string\")\n            return `${a.slice(0, -1)}${b}\"`;\n        if (b[0] === '\"')\n            return a.slice(0, -1) + b.slice(1);\n        return;\n    }\n    if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name))\n        return `\"${a}${b.slice(1)}`;\n    return;\n}\nfunction strConcat(c1, c2) {\n    return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str `${c1}${c2}`;\n}\nexports.strConcat = strConcat;\n// TODO do not allow arrays here\nfunction interpolate(x) {\n    return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n        ? x\n        : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\nfunction stringify(x) {\n    return new _Code(safeStringify(x));\n}\nexports.stringify = stringify;\nfunction safeStringify(x) {\n    return JSON.stringify(x)\n        .replace(/\\u2028/g, \"\\\\u2028\")\n        .replace(/\\u2029/g, \"\\\\u2029\");\n}\nexports.safeStringify = safeStringify;\nfunction getProperty(key) {\n    return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _ `[${key}]`;\n}\nexports.getProperty = getProperty;\nfunction regexpCode(rx) {\n    return new _Code(rx.toString());\n}\nexports.regexpCode = regexpCode;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.or = exports.and = exports.not = exports.CodeGen = exports.operators = exports.varKinds = exports.ValueScopeName = exports.ValueScope = exports.Scope = exports.Name = exports.regexpCode = exports.stringify = exports.getProperty = exports.nil = exports.strConcat = exports.str = exports._ = void 0;\nconst code_1 = require(\"./code\");\nconst scope_1 = require(\"./scope\");\nvar code_2 = require(\"./code\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return code_2._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return code_2.str; } });\nObject.defineProperty(exports, \"strConcat\", { enumerable: true, get: function () { return code_2.strConcat; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return code_2.nil; } });\nObject.defineProperty(exports, \"getProperty\", { enumerable: true, get: function () { return code_2.getProperty; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return code_2.stringify; } });\nObject.defineProperty(exports, \"regexpCode\", { enumerable: true, get: function () { return code_2.regexpCode; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return code_2.Name; } });\nvar scope_2 = require(\"./scope\");\nObject.defineProperty(exports, \"Scope\", { enumerable: true, get: function () { return scope_2.Scope; } });\nObject.defineProperty(exports, \"ValueScope\", { enumerable: true, get: function () { return scope_2.ValueScope; } });\nObject.defineProperty(exports, \"ValueScopeName\", { enumerable: true, get: function () { return scope_2.ValueScopeName; } });\nObject.defineProperty(exports, \"varKinds\", { enumerable: true, get: function () { return scope_2.varKinds; } });\nexports.operators = {\n    GT: new code_1._Code(\">\"),\n    GTE: new code_1._Code(\">=\"),\n    LT: new code_1._Code(\"<\"),\n    LTE: new code_1._Code(\"<=\"),\n    EQ: new code_1._Code(\"===\"),\n    NEQ: new code_1._Code(\"!==\"),\n    NOT: new code_1._Code(\"!\"),\n    OR: new code_1._Code(\"||\"),\n    AND: new code_1._Code(\"&&\"),\n    ADD: new code_1._Code(\"+\"),\n};\nclass Node {\n    optimizeNodes() {\n        return this;\n    }\n    optimizeNames(_names, _constants) {\n        return this;\n    }\n}\nclass Def extends Node {\n    constructor(varKind, name, rhs) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.rhs = rhs;\n    }\n    render({ es5, _n }) {\n        const varKind = es5 ? scope_1.varKinds.var : this.varKind;\n        const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`;\n        return `${varKind} ${this.name}${rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (!names[this.name.str])\n            return;\n        if (this.rhs)\n            this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        return this.rhs instanceof code_1._CodeOrName ? this.rhs.names : {};\n    }\n}\nclass Assign extends Node {\n    constructor(lhs, rhs, sideEffects) {\n        super();\n        this.lhs = lhs;\n        this.rhs = rhs;\n        this.sideEffects = sideEffects;\n    }\n    render({ _n }) {\n        return `${this.lhs} = ${this.rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (this.lhs instanceof code_1.Name && !names[this.lhs.str] && !this.sideEffects)\n            return;\n        this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        const names = this.lhs instanceof code_1.Name ? {} : { ...this.lhs.names };\n        return addExprNames(names, this.rhs);\n    }\n}\nclass AssignOp extends Assign {\n    constructor(lhs, op, rhs, sideEffects) {\n        super(lhs, rhs, sideEffects);\n        this.op = op;\n    }\n    render({ _n }) {\n        return `${this.lhs} ${this.op}= ${this.rhs};` + _n;\n    }\n}\nclass Label extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        return `${this.label}:` + _n;\n    }\n}\nclass Break extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        const label = this.label ? ` ${this.label}` : \"\";\n        return `break${label};` + _n;\n    }\n}\nclass Throw extends Node {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render({ _n }) {\n        return `throw ${this.error};` + _n;\n    }\n    get names() {\n        return this.error.names;\n    }\n}\nclass AnyCode extends Node {\n    constructor(code) {\n        super();\n        this.code = code;\n    }\n    render({ _n }) {\n        return `${this.code};` + _n;\n    }\n    optimizeNodes() {\n        return `${this.code}` ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        this.code = optimizeExpr(this.code, names, constants);\n        return this;\n    }\n    get names() {\n        return this.code instanceof code_1._CodeOrName ? this.code.names : {};\n    }\n}\nclass ParentNode extends Node {\n    constructor(nodes = []) {\n        super();\n        this.nodes = nodes;\n    }\n    render(opts) {\n        return this.nodes.reduce((code, n) => code + n.render(opts), \"\");\n    }\n    optimizeNodes() {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            const n = nodes[i].optimizeNodes();\n            if (Array.isArray(n))\n                nodes.splice(i, 1, ...n);\n            else if (n)\n                nodes[i] = n;\n            else\n                nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            // iterating backwards improves 1-pass optimization\n            const n = nodes[i];\n            if (n.optimizeNames(names, constants))\n                continue;\n            subtractNames(names, n.names);\n            nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    get names() {\n        return this.nodes.reduce((names, n) => addNames(names, n.names), {});\n    }\n}\nclass BlockNode extends ParentNode {\n    render(opts) {\n        return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n;\n    }\n}\nclass Root extends ParentNode {\n}\nclass Else extends BlockNode {\n}\nElse.kind = \"else\";\nclass If extends BlockNode {\n    constructor(condition, nodes) {\n        super(nodes);\n        this.condition = condition;\n    }\n    render(opts) {\n        let code = `if(${this.condition})` + super.render(opts);\n        if (this.else)\n            code += \"else \" + this.else.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        super.optimizeNodes();\n        const cond = this.condition;\n        if (cond === true)\n            return this.nodes; // else is ignored here\n        let e = this.else;\n        if (e) {\n            const ns = e.optimizeNodes();\n            e = this.else = Array.isArray(ns) ? new Else(ns) : ns;\n        }\n        if (e) {\n            if (cond === false)\n                return e instanceof If ? e : e.nodes;\n            if (this.nodes.length)\n                return this;\n            return new If(not(cond), e instanceof If ? [e] : e.nodes);\n        }\n        if (cond === false || !this.nodes.length)\n            return undefined;\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a;\n        this.else = (_a = this.else) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        if (!(super.optimizeNames(names, constants) || this.else))\n            return;\n        this.condition = optimizeExpr(this.condition, names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        addExprNames(names, this.condition);\n        if (this.else)\n            addNames(names, this.else.names);\n        return names;\n    }\n}\nIf.kind = \"if\";\nclass For extends BlockNode {\n}\nFor.kind = \"for\";\nclass ForLoop extends For {\n    constructor(iteration) {\n        super();\n        this.iteration = iteration;\n    }\n    render(opts) {\n        return `for(${this.iteration})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iteration = optimizeExpr(this.iteration, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iteration.names);\n    }\n}\nclass ForRange extends For {\n    constructor(varKind, name, from, to) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.from = from;\n        this.to = to;\n    }\n    render(opts) {\n        const varKind = opts.es5 ? scope_1.varKinds.var : this.varKind;\n        const { name, from, to } = this;\n        return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts);\n    }\n    get names() {\n        const names = addExprNames(super.names, this.from);\n        return addExprNames(names, this.to);\n    }\n}\nclass ForIter extends For {\n    constructor(loop, varKind, name, iterable) {\n        super();\n        this.loop = loop;\n        this.varKind = varKind;\n        this.name = name;\n        this.iterable = iterable;\n    }\n    render(opts) {\n        return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iterable = optimizeExpr(this.iterable, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iterable.names);\n    }\n}\nclass Func extends BlockNode {\n    constructor(name, args, async) {\n        super();\n        this.name = name;\n        this.args = args;\n        this.async = async;\n    }\n    render(opts) {\n        const _async = this.async ? \"async \" : \"\";\n        return `${_async}function ${this.name}(${this.args})` + super.render(opts);\n    }\n}\nFunc.kind = \"func\";\nclass Return extends ParentNode {\n    render(opts) {\n        return \"return \" + super.render(opts);\n    }\n}\nReturn.kind = \"return\";\nclass Try extends BlockNode {\n    render(opts) {\n        let code = \"try\" + super.render(opts);\n        if (this.catch)\n            code += this.catch.render(opts);\n        if (this.finally)\n            code += this.finally.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        var _a, _b;\n        super.optimizeNodes();\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNodes();\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNodes();\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a, _b;\n        super.optimizeNames(names, constants);\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNames(names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        if (this.catch)\n            addNames(names, this.catch.names);\n        if (this.finally)\n            addNames(names, this.finally.names);\n        return names;\n    }\n}\nclass Catch extends BlockNode {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render(opts) {\n        return `catch(${this.error})` + super.render(opts);\n    }\n}\nCatch.kind = \"catch\";\nclass Finally extends BlockNode {\n    render(opts) {\n        return \"finally\" + super.render(opts);\n    }\n}\nFinally.kind = \"finally\";\nclass CodeGen {\n    constructor(extScope, opts = {}) {\n        this._values = {};\n        this._blockStarts = [];\n        this._constants = {};\n        this.opts = { ...opts, _n: opts.lines ? \"\\n\" : \"\" };\n        this._extScope = extScope;\n        this._scope = new scope_1.Scope({ parent: extScope });\n        this._nodes = [new Root()];\n    }\n    toString() {\n        return this._root.render(this.opts);\n    }\n    // returns unique name in the internal scope\n    name(prefix) {\n        return this._scope.name(prefix);\n    }\n    // reserves unique name in the external scope\n    scopeName(prefix) {\n        return this._extScope.name(prefix);\n    }\n    // reserves unique name in the external scope and assigns value to it\n    scopeValue(prefixOrName, value) {\n        const name = this._extScope.value(prefixOrName, value);\n        const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set());\n        vs.add(name);\n        return name;\n    }\n    getScopeValue(prefix, keyOrRef) {\n        return this._extScope.getValue(prefix, keyOrRef);\n    }\n    // return code that assigns values in the external scope to the names that are used internally\n    // (same names that were returned by gen.scopeName or gen.scopeValue)\n    scopeRefs(scopeName) {\n        return this._extScope.scopeRefs(scopeName, this._values);\n    }\n    scopeCode() {\n        return this._extScope.scopeCode(this._values);\n    }\n    _def(varKind, nameOrPrefix, rhs, constant) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (rhs !== undefined && constant)\n            this._constants[name.str] = rhs;\n        this._leafNode(new Def(varKind, name, rhs));\n        return name;\n    }\n    // `const` declaration (`var` in es5 mode)\n    const(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.const, nameOrPrefix, rhs, _constant);\n    }\n    // `let` declaration with optional assignment (`var` in es5 mode)\n    let(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.let, nameOrPrefix, rhs, _constant);\n    }\n    // `var` declaration with optional assignment\n    var(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.var, nameOrPrefix, rhs, _constant);\n    }\n    // assignment code\n    assign(lhs, rhs, sideEffects) {\n        return this._leafNode(new Assign(lhs, rhs, sideEffects));\n    }\n    // `+=` code\n    add(lhs, rhs) {\n        return this._leafNode(new AssignOp(lhs, exports.operators.ADD, rhs));\n    }\n    // appends passed SafeExpr to code or executes Block\n    code(c) {\n        if (typeof c == \"function\")\n            c();\n        else if (c !== code_1.nil)\n            this._leafNode(new AnyCode(c));\n        return this;\n    }\n    // returns code for object literal for the passed argument list of key-value pairs\n    object(...keyValues) {\n        const code = [\"{\"];\n        for (const [key, value] of keyValues) {\n            if (code.length > 1)\n                code.push(\",\");\n            code.push(key);\n            if (key !== value || this.opts.es5) {\n                code.push(\":\");\n                (0, code_1.addCodeArg)(code, value);\n            }\n        }\n        code.push(\"}\");\n        return new code_1._Code(code);\n    }\n    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n    if(condition, thenBody, elseBody) {\n        this._blockNode(new If(condition));\n        if (thenBody && elseBody) {\n            this.code(thenBody).else().code(elseBody).endIf();\n        }\n        else if (thenBody) {\n            this.code(thenBody).endIf();\n        }\n        else if (elseBody) {\n            throw new Error('CodeGen: \"else\" body without \"then\" body');\n        }\n        return this;\n    }\n    // `else if` clause - invalid without `if` or after `else` clauses\n    elseIf(condition) {\n        return this._elseNode(new If(condition));\n    }\n    // `else` clause - only valid after `if` or `else if` clauses\n    else() {\n        return this._elseNode(new Else());\n    }\n    // end `if` statement (needed if gen.if was used only with condition)\n    endIf() {\n        return this._endBlockNode(If, Else);\n    }\n    _for(node, forBody) {\n        this._blockNode(node);\n        if (forBody)\n            this.code(forBody).endFor();\n        return this;\n    }\n    // a generic `for` clause (or statement if `forBody` is passed)\n    for(iteration, forBody) {\n        return this._for(new ForLoop(iteration), forBody);\n    }\n    // `for` statement for a range of values\n    forRange(nameOrPrefix, from, to, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.let) {\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForRange(varKind, name, from, to), () => forBody(name));\n    }\n    // `for-of` statement (in es5 mode replace with a normal for loop)\n    forOf(nameOrPrefix, iterable, forBody, varKind = scope_1.varKinds.const) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (this.opts.es5) {\n            const arr = iterable instanceof code_1.Name ? iterable : this.var(\"_arr\", iterable);\n            return this.forRange(\"_i\", 0, (0, code_1._) `${arr}.length`, (i) => {\n                this.var(name, (0, code_1._) `${arr}[${i}]`);\n                forBody(name);\n            });\n        }\n        return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name));\n    }\n    // `for-in` statement.\n    // With option `ownProperties` replaced with a `for-of` loop for object keys\n    forIn(nameOrPrefix, obj, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.const) {\n        if (this.opts.ownProperties) {\n            return this.forOf(nameOrPrefix, (0, code_1._) `Object.keys(${obj})`, forBody);\n        }\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name));\n    }\n    // end `for` loop\n    endFor() {\n        return this._endBlockNode(For);\n    }\n    // `label` statement\n    label(label) {\n        return this._leafNode(new Label(label));\n    }\n    // `break` statement\n    break(label) {\n        return this._leafNode(new Break(label));\n    }\n    // `return` statement\n    return(value) {\n        const node = new Return();\n        this._blockNode(node);\n        this.code(value);\n        if (node.nodes.length !== 1)\n            throw new Error('CodeGen: \"return\" should have one node');\n        return this._endBlockNode(Return);\n    }\n    // `try` statement\n    try(tryBody, catchCode, finallyCode) {\n        if (!catchCode && !finallyCode)\n            throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');\n        const node = new Try();\n        this._blockNode(node);\n        this.code(tryBody);\n        if (catchCode) {\n            const error = this.name(\"e\");\n            this._currNode = node.catch = new Catch(error);\n            catchCode(error);\n        }\n        if (finallyCode) {\n            this._currNode = node.finally = new Finally();\n            this.code(finallyCode);\n        }\n        return this._endBlockNode(Catch, Finally);\n    }\n    // `throw` statement\n    throw(error) {\n        return this._leafNode(new Throw(error));\n    }\n    // start self-balancing block\n    block(body, nodeCount) {\n        this._blockStarts.push(this._nodes.length);\n        if (body)\n            this.code(body).endBlock(nodeCount);\n        return this;\n    }\n    // end the current self-balancing block\n    endBlock(nodeCount) {\n        const len = this._blockStarts.pop();\n        if (len === undefined)\n            throw new Error(\"CodeGen: not in self-balancing block\");\n        const toClose = this._nodes.length - len;\n        if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n            throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);\n        }\n        this._nodes.length = len;\n        return this;\n    }\n    // `function` heading (or definition if funcBody is passed)\n    func(name, args = code_1.nil, async, funcBody) {\n        this._blockNode(new Func(name, args, async));\n        if (funcBody)\n            this.code(funcBody).endFunc();\n        return this;\n    }\n    // end function definition\n    endFunc() {\n        return this._endBlockNode(Func);\n    }\n    optimize(n = 1) {\n        while (n-- > 0) {\n            this._root.optimizeNodes();\n            this._root.optimizeNames(this._root.names, this._constants);\n        }\n    }\n    _leafNode(node) {\n        this._currNode.nodes.push(node);\n        return this;\n    }\n    _blockNode(node) {\n        this._currNode.nodes.push(node);\n        this._nodes.push(node);\n    }\n    _endBlockNode(N1, N2) {\n        const n = this._currNode;\n        if (n instanceof N1 || (N2 && n instanceof N2)) {\n            this._nodes.pop();\n            return this;\n        }\n        throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`);\n    }\n    _elseNode(node) {\n        const n = this._currNode;\n        if (!(n instanceof If)) {\n            throw new Error('CodeGen: \"else\" without \"if\"');\n        }\n        this._currNode = n.else = node;\n        return this;\n    }\n    get _root() {\n        return this._nodes[0];\n    }\n    get _currNode() {\n        const ns = this._nodes;\n        return ns[ns.length - 1];\n    }\n    set _currNode(node) {\n        const ns = this._nodes;\n        ns[ns.length - 1] = node;\n    }\n}\nexports.CodeGen = CodeGen;\nfunction addNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) + (from[n] || 0);\n    return names;\n}\nfunction addExprNames(names, from) {\n    return from instanceof code_1._CodeOrName ? addNames(names, from.names) : names;\n}\nfunction optimizeExpr(expr, names, constants) {\n    if (expr instanceof code_1.Name)\n        return replaceName(expr);\n    if (!canOptimize(expr))\n        return expr;\n    return new code_1._Code(expr._items.reduce((items, c) => {\n        if (c instanceof code_1.Name)\n            c = replaceName(c);\n        if (c instanceof code_1._Code)\n            items.push(...c._items);\n        else\n            items.push(c);\n        return items;\n    }, []));\n    function replaceName(n) {\n        const c = constants[n.str];\n        if (c === undefined || names[n.str] !== 1)\n            return n;\n        delete names[n.str];\n        return c;\n    }\n    function canOptimize(e) {\n        return (e instanceof code_1._Code &&\n            e._items.some((c) => c instanceof code_1.Name && names[c.str] === 1 && constants[c.str] !== undefined));\n    }\n}\nfunction subtractNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) - (from[n] || 0);\n}\nfunction not(x) {\n    return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : (0, code_1._) `!${par(x)}`;\n}\nexports.not = not;\nconst andCode = mappend(exports.operators.AND);\n// boolean AND (&&) expression with the passed arguments\nfunction and(...args) {\n    return args.reduce(andCode);\n}\nexports.and = and;\nconst orCode = mappend(exports.operators.OR);\n// boolean OR (||) expression with the passed arguments\nfunction or(...args) {\n    return args.reduce(orCode);\n}\nexports.or = or;\nfunction mappend(op) {\n    return (x, y) => (x === code_1.nil ? y : y === code_1.nil ? x : (0, code_1._) `${par(x)} ${op} ${par(y)}`);\n}\nfunction par(x) {\n    return x instanceof code_1.Name ? x : (0, code_1._) `(${x})`;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueScope = exports.ValueScopeName = exports.Scope = exports.varKinds = exports.UsedValueState = void 0;\nconst code_1 = require(\"./code\");\nclass ValueError extends Error {\n    constructor(name) {\n        super(`CodeGen: \"code\" for ${name} not defined`);\n        this.value = name.value;\n    }\n}\nvar UsedValueState;\n(function (UsedValueState) {\n    UsedValueState[UsedValueState[\"Started\"] = 0] = \"Started\";\n    UsedValueState[UsedValueState[\"Completed\"] = 1] = \"Completed\";\n})(UsedValueState = exports.UsedValueState || (exports.UsedValueState = {}));\nexports.varKinds = {\n    const: new code_1.Name(\"const\"),\n    let: new code_1.Name(\"let\"),\n    var: new code_1.Name(\"var\"),\n};\nclass Scope {\n    constructor({ prefixes, parent } = {}) {\n        this._names = {};\n        this._prefixes = prefixes;\n        this._parent = parent;\n    }\n    toName(nameOrPrefix) {\n        return nameOrPrefix instanceof code_1.Name ? nameOrPrefix : this.name(nameOrPrefix);\n    }\n    name(prefix) {\n        return new code_1.Name(this._newName(prefix));\n    }\n    _newName(prefix) {\n        const ng = this._names[prefix] || this._nameGroup(prefix);\n        return `${prefix}${ng.index++}`;\n    }\n    _nameGroup(prefix) {\n        var _a, _b;\n        if (((_b = (_a = this._parent) === null || _a === void 0 ? void 0 : _a._prefixes) === null || _b === void 0 ? void 0 : _b.has(prefix)) || (this._prefixes && !this._prefixes.has(prefix))) {\n            throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`);\n        }\n        return (this._names[prefix] = { prefix, index: 0 });\n    }\n}\nexports.Scope = Scope;\nclass ValueScopeName extends code_1.Name {\n    constructor(prefix, nameStr) {\n        super(nameStr);\n        this.prefix = prefix;\n    }\n    setValue(value, { property, itemIndex }) {\n        this.value = value;\n        this.scopePath = (0, code_1._) `.${new code_1.Name(property)}[${itemIndex}]`;\n    }\n}\nexports.ValueScopeName = ValueScopeName;\nconst line = (0, code_1._) `\\n`;\nclass ValueScope extends Scope {\n    constructor(opts) {\n        super(opts);\n        this._values = {};\n        this._scope = opts.scope;\n        this.opts = { ...opts, _n: opts.lines ? line : code_1.nil };\n    }\n    get() {\n        return this._scope;\n    }\n    name(prefix) {\n        return new ValueScopeName(prefix, this._newName(prefix));\n    }\n    value(nameOrPrefix, value) {\n        var _a;\n        if (value.ref === undefined)\n            throw new Error(\"CodeGen: ref must be passed in value\");\n        const name = this.toName(nameOrPrefix);\n        const { prefix } = name;\n        const valueKey = (_a = value.key) !== null && _a !== void 0 ? _a : value.ref;\n        let vs = this._values[prefix];\n        if (vs) {\n            const _name = vs.get(valueKey);\n            if (_name)\n                return _name;\n        }\n        else {\n            vs = this._values[prefix] = new Map();\n        }\n        vs.set(valueKey, name);\n        const s = this._scope[prefix] || (this._scope[prefix] = []);\n        const itemIndex = s.length;\n        s[itemIndex] = value.ref;\n        name.setValue(value, { property: prefix, itemIndex });\n        return name;\n    }\n    getValue(prefix, keyOrRef) {\n        const vs = this._values[prefix];\n        if (!vs)\n            return;\n        return vs.get(keyOrRef);\n    }\n    scopeRefs(scopeName, values = this._values) {\n        return this._reduceValues(values, (name) => {\n            if (name.scopePath === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return (0, code_1._) `${scopeName}${name.scopePath}`;\n        });\n    }\n    scopeCode(values = this._values, usedValues, getCode) {\n        return this._reduceValues(values, (name) => {\n            if (name.value === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return name.value.code;\n        }, usedValues, getCode);\n    }\n    _reduceValues(values, valueCode, usedValues = {}, getCode) {\n        let code = code_1.nil;\n        for (const prefix in values) {\n            const vs = values[prefix];\n            if (!vs)\n                continue;\n            const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map());\n            vs.forEach((name) => {\n                if (nameSet.has(name))\n                    return;\n                nameSet.set(name, UsedValueState.Started);\n                let c = valueCode(name);\n                if (c) {\n                    const def = this.opts.es5 ? exports.varKinds.var : exports.varKinds.const;\n                    code = (0, code_1._) `${code}${def} ${name} = ${c};${this.opts._n}`;\n                }\n                else if ((c = getCode === null || getCode === void 0 ? void 0 : getCode(name))) {\n                    code = (0, code_1._) `${code}${c}${this.opts._n}`;\n                }\n                else {\n                    throw new ValueError(name);\n                }\n                nameSet.set(name, UsedValueState.Completed);\n            });\n        }\n        return code;\n    }\n}\nexports.ValueScope = ValueScope;\n//# sourceMappingURL=scope.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendErrors = exports.resetErrorsCount = exports.reportExtraError = exports.reportError = exports.keyword$DataError = exports.keywordError = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst util_1 = require(\"./util\");\nconst names_1 = require(\"./names\");\nexports.keywordError = {\n    message: ({ keyword }) => (0, codegen_1.str) `must pass \"${keyword}\" keyword validation`,\n};\nexports.keyword$DataError = {\n    message: ({ keyword, schemaType }) => schemaType\n        ? (0, codegen_1.str) `\"${keyword}\" keyword must be ${schemaType} ($data)`\n        : (0, codegen_1.str) `\"${keyword}\" keyword is invalid ($data)`,\n};\nfunction reportError(cxt, error = exports.keywordError, errorPaths, overrideAllErrors) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    if (overrideAllErrors !== null && overrideAllErrors !== void 0 ? overrideAllErrors : (compositeRule || allErrors)) {\n        addError(gen, errObj);\n    }\n    else {\n        returnErrors(it, (0, codegen_1._) `[${errObj}]`);\n    }\n}\nexports.reportError = reportError;\nfunction reportExtraError(cxt, error = exports.keywordError, errorPaths) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    addError(gen, errObj);\n    if (!(compositeRule || allErrors)) {\n        returnErrors(it, names_1.default.vErrors);\n    }\n}\nexports.reportExtraError = reportExtraError;\nfunction resetErrorsCount(gen, errsCount) {\n    gen.assign(names_1.default.errors, errsCount);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} !== null`, () => gen.if(errsCount, () => gen.assign((0, codegen_1._) `${names_1.default.vErrors}.length`, errsCount), () => gen.assign(names_1.default.vErrors, null)));\n}\nexports.resetErrorsCount = resetErrorsCount;\nfunction extendErrors({ gen, keyword, schemaValue, data, errsCount, it, }) {\n    /* istanbul ignore if */\n    if (errsCount === undefined)\n        throw new Error(\"ajv implementation error\");\n    const err = gen.name(\"err\");\n    gen.forRange(\"i\", errsCount, names_1.default.errors, (i) => {\n        gen.const(err, (0, codegen_1._) `${names_1.default.vErrors}[${i}]`);\n        gen.if((0, codegen_1._) `${err}.instancePath === undefined`, () => gen.assign((0, codegen_1._) `${err}.instancePath`, (0, codegen_1.strConcat)(names_1.default.instancePath, it.errorPath)));\n        gen.assign((0, codegen_1._) `${err}.schemaPath`, (0, codegen_1.str) `${it.errSchemaPath}/${keyword}`);\n        if (it.opts.verbose) {\n            gen.assign((0, codegen_1._) `${err}.schema`, schemaValue);\n            gen.assign((0, codegen_1._) `${err}.data`, data);\n        }\n    });\n}\nexports.extendErrors = extendErrors;\nfunction addError(gen, errObj) {\n    const err = gen.const(\"err\", errObj);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} === null`, () => gen.assign(names_1.default.vErrors, (0, codegen_1._) `[${err}]`), (0, codegen_1._) `${names_1.default.vErrors}.push(${err})`);\n    gen.code((0, codegen_1._) `${names_1.default.errors}++`);\n}\nfunction returnErrors(it, errs) {\n    const { gen, validateName, schemaEnv } = it;\n    if (schemaEnv.$async) {\n        gen.throw((0, codegen_1._) `new ${it.ValidationError}(${errs})`);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, errs);\n        gen.return(false);\n    }\n}\nconst E = {\n    keyword: new codegen_1.Name(\"keyword\"),\n    schemaPath: new codegen_1.Name(\"schemaPath\"),\n    params: new codegen_1.Name(\"params\"),\n    propertyName: new codegen_1.Name(\"propertyName\"),\n    message: new codegen_1.Name(\"message\"),\n    schema: new codegen_1.Name(\"schema\"),\n    parentSchema: new codegen_1.Name(\"parentSchema\"),\n};\nfunction errorObjectCode(cxt, error, errorPaths) {\n    const { createErrors } = cxt.it;\n    if (createErrors === false)\n        return (0, codegen_1._) `{}`;\n    return errorObject(cxt, error, errorPaths);\n}\nfunction errorObject(cxt, error, errorPaths = {}) {\n    const { gen, it } = cxt;\n    const keyValues = [\n        errorInstancePath(it, errorPaths),\n        errorSchemaPath(cxt, errorPaths),\n    ];\n    extraErrorProps(cxt, error, keyValues);\n    return gen.object(...keyValues);\n}\nfunction errorInstancePath({ errorPath }, { instancePath }) {\n    const instPath = instancePath\n        ? (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(instancePath, util_1.Type.Str)}`\n        : errorPath;\n    return [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, instPath)];\n}\nfunction errorSchemaPath({ keyword, it: { errSchemaPath } }, { schemaPath, parentSchema }) {\n    let schPath = parentSchema ? errSchemaPath : (0, codegen_1.str) `${errSchemaPath}/${keyword}`;\n    if (schemaPath) {\n        schPath = (0, codegen_1.str) `${schPath}${(0, util_1.getErrorPath)(schemaPath, util_1.Type.Str)}`;\n    }\n    return [E.schemaPath, schPath];\n}\nfunction extraErrorProps(cxt, { params, message }, keyValues) {\n    const { keyword, data, schemaValue, it } = cxt;\n    const { opts, propertyName, topSchemaRef, schemaPath } = it;\n    keyValues.push([E.keyword, keyword], [E.params, typeof params == \"function\" ? params(cxt) : params || (0, codegen_1._) `{}`]);\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    if (opts.verbose) {\n        keyValues.push([E.schema, schemaValue], [E.parentSchema, (0, codegen_1._) `${topSchemaRef}${schemaPath}`], [names_1.default.data, data]);\n    }\n    if (propertyName)\n        keyValues.push([E.propertyName, propertyName]);\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSchema = exports.getCompilingSchema = exports.resolveRef = exports.compileSchema = exports.SchemaEnv = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst validation_error_1 = require(\"../runtime/validation_error\");\nconst names_1 = require(\"./names\");\nconst resolve_1 = require(\"./resolve\");\nconst util_1 = require(\"./util\");\nconst validate_1 = require(\"./validate\");\nconst URI = require(\"uri-js\");\nclass SchemaEnv {\n    constructor(env) {\n        var _a;\n        this.refs = {};\n        this.dynamicAnchors = {};\n        let schema;\n        if (typeof env.schema == \"object\")\n            schema = env.schema;\n        this.schema = env.schema;\n        this.schemaId = env.schemaId;\n        this.root = env.root || this;\n        this.baseId = (_a = env.baseId) !== null && _a !== void 0 ? _a : (0, resolve_1.normalizeId)(schema === null || schema === void 0 ? void 0 : schema[env.schemaId || \"$id\"]);\n        this.schemaPath = env.schemaPath;\n        this.localRefs = env.localRefs;\n        this.meta = env.meta;\n        this.$async = schema === null || schema === void 0 ? void 0 : schema.$async;\n        this.refs = {};\n    }\n}\nexports.SchemaEnv = SchemaEnv;\n// let codeSize = 0\n// let nodeCount = 0\n// Compiles schema in SchemaEnv\nfunction compileSchema(sch) {\n    // TODO refactor - remove compilations\n    const _sch = getCompilingSchema.call(this, sch);\n    if (_sch)\n        return _sch;\n    const rootId = (0, resolve_1.getFullPath)(sch.root.baseId); // TODO if getFullPath removed 1 tests fails\n    const { es5, lines } = this.opts.code;\n    const { ownProperties } = this.opts;\n    const gen = new codegen_1.CodeGen(this.scope, { es5, lines, ownProperties });\n    let _ValidationError;\n    if (sch.$async) {\n        _ValidationError = gen.scopeValue(\"Error\", {\n            ref: validation_error_1.default,\n            code: (0, codegen_1._) `require(\"ajv/dist/runtime/validation_error\").default`,\n        });\n    }\n    const validateName = gen.scopeName(\"validate\");\n    sch.validateName = validateName;\n    const schemaCxt = {\n        gen,\n        allErrors: this.opts.allErrors,\n        data: names_1.default.data,\n        parentData: names_1.default.parentData,\n        parentDataProperty: names_1.default.parentDataProperty,\n        dataNames: [names_1.default.data],\n        dataPathArr: [codegen_1.nil],\n        dataLevel: 0,\n        dataTypes: [],\n        definedProperties: new Set(),\n        topSchemaRef: gen.scopeValue(\"schema\", this.opts.code.source === true\n            ? { ref: sch.schema, code: (0, codegen_1.stringify)(sch.schema) }\n            : { ref: sch.schema }),\n        validateName,\n        ValidationError: _ValidationError,\n        schema: sch.schema,\n        schemaEnv: sch,\n        rootId,\n        baseId: sch.baseId || rootId,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: sch.schemaPath || (this.opts.jtd ? \"\" : \"#\"),\n        errorPath: (0, codegen_1._) `\"\"`,\n        opts: this.opts,\n        self: this,\n    };\n    let sourceCode;\n    try {\n        this._compilations.add(sch);\n        (0, validate_1.validateFunctionCode)(schemaCxt);\n        gen.optimize(this.opts.code.optimize);\n        // gen.optimize(1)\n        const validateCode = gen.toString();\n        sourceCode = `${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`;\n        // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n        if (this.opts.code.process)\n            sourceCode = this.opts.code.process(sourceCode, sch);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n        const makeValidate = new Function(`${names_1.default.self}`, `${names_1.default.scope}`, sourceCode);\n        const validate = makeValidate(this, this.scope.get());\n        this.scope.value(validateName, { ref: validate });\n        validate.errors = null;\n        validate.schema = sch.schema;\n        validate.schemaEnv = sch;\n        if (sch.$async)\n            validate.$async = true;\n        if (this.opts.code.source === true) {\n            validate.source = { validateName, validateCode, scopeValues: gen._values };\n        }\n        if (this.opts.unevaluated) {\n            const { props, items } = schemaCxt;\n            validate.evaluated = {\n                props: props instanceof codegen_1.Name ? undefined : props,\n                items: items instanceof codegen_1.Name ? undefined : items,\n                dynamicProps: props instanceof codegen_1.Name,\n                dynamicItems: items instanceof codegen_1.Name,\n            };\n            if (validate.source)\n                validate.source.evaluated = (0, codegen_1.stringify)(validate.evaluated);\n        }\n        sch.validate = validate;\n        return sch;\n    }\n    catch (e) {\n        delete sch.validate;\n        delete sch.validateName;\n        if (sourceCode)\n            this.logger.error(\"Error compiling schema, function code:\", sourceCode);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n        throw e;\n    }\n    finally {\n        this._compilations.delete(sch);\n    }\n}\nexports.compileSchema = compileSchema;\nfunction resolveRef(root, baseId, ref) {\n    var _a;\n    ref = (0, resolve_1.resolveUrl)(baseId, ref);\n    const schOrFunc = root.refs[ref];\n    if (schOrFunc)\n        return schOrFunc;\n    let _sch = resolve.call(this, root, ref);\n    if (_sch === undefined) {\n        const schema = (_a = root.localRefs) === null || _a === void 0 ? void 0 : _a[ref]; // TODO maybe localRefs should hold SchemaEnv\n        const { schemaId } = this.opts;\n        if (schema)\n            _sch = new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    if (_sch === undefined)\n        return;\n    return (root.refs[ref] = inlineOrCompile.call(this, _sch));\n}\nexports.resolveRef = resolveRef;\nfunction inlineOrCompile(sch) {\n    if ((0, resolve_1.inlineRef)(sch.schema, this.opts.inlineRefs))\n        return sch.schema;\n    return sch.validate ? sch : compileSchema.call(this, sch);\n}\n// Index of schema compilation in the currently compiled list\nfunction getCompilingSchema(schEnv) {\n    for (const sch of this._compilations) {\n        if (sameSchemaEnv(sch, schEnv))\n            return sch;\n    }\n}\nexports.getCompilingSchema = getCompilingSchema;\nfunction sameSchemaEnv(s1, s2) {\n    return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId;\n}\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(root, // information about the root schema for the current schema\nref // reference to resolve\n) {\n    let sch;\n    while (typeof (sch = this.refs[ref]) == \"string\")\n        ref = sch;\n    return sch || this.schemas[ref] || resolveSchema.call(this, root, ref);\n}\n// Resolve schema, its root and baseId\nfunction resolveSchema(root, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\nref // reference to resolve\n) {\n    const p = URI.parse(ref);\n    const refPath = (0, resolve_1._getFullPath)(p);\n    let baseId = (0, resolve_1.getFullPath)(root.baseId);\n    // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n    if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n        return getJsonPointer.call(this, p, root);\n    }\n    const id = (0, resolve_1.normalizeId)(refPath);\n    const schOrRef = this.refs[id] || this.schemas[id];\n    if (typeof schOrRef == \"string\") {\n        const sch = resolveSchema.call(this, root, schOrRef);\n        if (typeof (sch === null || sch === void 0 ? void 0 : sch.schema) !== \"object\")\n            return;\n        return getJsonPointer.call(this, p, sch);\n    }\n    if (typeof (schOrRef === null || schOrRef === void 0 ? void 0 : schOrRef.schema) !== \"object\")\n        return;\n    if (!schOrRef.validate)\n        compileSchema.call(this, schOrRef);\n    if (id === (0, resolve_1.normalizeId)(ref)) {\n        const { schema } = schOrRef;\n        const { schemaId } = this.opts;\n        const schId = schema[schemaId];\n        if (schId)\n            baseId = (0, resolve_1.resolveUrl)(baseId, schId);\n        return new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    return getJsonPointer.call(this, p, schOrRef);\n}\nexports.resolveSchema = resolveSchema;\nconst PREVENT_SCOPE_CHANGE = new Set([\n    \"properties\",\n    \"patternProperties\",\n    \"enum\",\n    \"dependencies\",\n    \"definitions\",\n]);\nfunction getJsonPointer(parsedRef, { baseId, schema, root }) {\n    var _a;\n    if (((_a = parsedRef.fragment) === null || _a === void 0 ? void 0 : _a[0]) !== \"/\")\n        return;\n    for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n        if (typeof schema === \"boolean\")\n            return;\n        const partSchema = schema[(0, util_1.unescapeFragment)(part)];\n        if (partSchema === undefined)\n            return;\n        schema = partSchema;\n        // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n        const schId = typeof schema === \"object\" && schema[this.opts.schemaId];\n        if (!PREVENT_SCOPE_CHANGE.has(part) && schId) {\n            baseId = (0, resolve_1.resolveUrl)(baseId, schId);\n        }\n    }\n    let env;\n    if (typeof schema != \"boolean\" && schema.$ref && !(0, util_1.schemaHasRulesButRef)(schema, this.RULES)) {\n        const $ref = (0, resolve_1.resolveUrl)(baseId, schema.$ref);\n        env = resolveSchema.call(this, root, $ref);\n    }\n    // even though resolution failed we need to return SchemaEnv to throw exception\n    // so that compileAsync loads missing schema.\n    const { schemaId } = this.opts;\n    env = env || new SchemaEnv({ schema, schemaId, root, baseId });\n    if (env.schema !== env.root.schema)\n        return env;\n    return undefined;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"./codegen\");\nconst names = {\n    // validation function arguments\n    data: new codegen_1.Name(\"data\"),\n    // args passed from referencing schema\n    valCxt: new codegen_1.Name(\"valCxt\"),\n    instancePath: new codegen_1.Name(\"instancePath\"),\n    parentData: new codegen_1.Name(\"parentData\"),\n    parentDataProperty: new codegen_1.Name(\"parentDataProperty\"),\n    rootData: new codegen_1.Name(\"rootData\"),\n    dynamicAnchors: new codegen_1.Name(\"dynamicAnchors\"),\n    // function scoped variables\n    vErrors: new codegen_1.Name(\"vErrors\"),\n    errors: new codegen_1.Name(\"errors\"),\n    this: new codegen_1.Name(\"this\"),\n    // \"globals\"\n    self: new codegen_1.Name(\"self\"),\n    scope: new codegen_1.Name(\"scope\"),\n    // JTD serialize/parse name for JSON string and position\n    json: new codegen_1.Name(\"json\"),\n    jsonPos: new codegen_1.Name(\"jsonPos\"),\n    jsonLen: new codegen_1.Name(\"jsonLen\"),\n    jsonPart: new codegen_1.Name(\"jsonPart\"),\n};\nexports.default = names;\n//# sourceMappingURL=names.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst resolve_1 = require(\"./resolve\");\nclass MissingRefError extends Error {\n    constructor(baseId, ref, msg) {\n        super(msg || `can't resolve reference ${ref} from id ${baseId}`);\n        this.missingRef = (0, resolve_1.resolveUrl)(baseId, ref);\n        this.missingSchema = (0, resolve_1.normalizeId)((0, resolve_1.getFullPath)(this.missingRef));\n    }\n}\nexports.default = MissingRefError;\n//# sourceMappingURL=ref_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSchemaRefs = exports.resolveUrl = exports.normalizeId = exports._getFullPath = exports.getFullPath = exports.inlineRef = void 0;\nconst util_1 = require(\"./util\");\nconst equal = require(\"fast-deep-equal\");\nconst traverse = require(\"json-schema-traverse\");\nconst URI = require(\"uri-js\");\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n    \"type\",\n    \"format\",\n    \"pattern\",\n    \"maxLength\",\n    \"minLength\",\n    \"maxProperties\",\n    \"minProperties\",\n    \"maxItems\",\n    \"minItems\",\n    \"maximum\",\n    \"minimum\",\n    \"uniqueItems\",\n    \"multipleOf\",\n    \"required\",\n    \"enum\",\n    \"const\",\n]);\nfunction inlineRef(schema, limit = true) {\n    if (typeof schema == \"boolean\")\n        return true;\n    if (limit === true)\n        return !hasRef(schema);\n    if (!limit)\n        return false;\n    return countKeys(schema) <= limit;\n}\nexports.inlineRef = inlineRef;\nconst REF_KEYWORDS = new Set([\n    \"$ref\",\n    \"$recursiveRef\",\n    \"$recursiveAnchor\",\n    \"$dynamicRef\",\n    \"$dynamicAnchor\",\n]);\nfunction hasRef(schema) {\n    for (const key in schema) {\n        if (REF_KEYWORDS.has(key))\n            return true;\n        const sch = schema[key];\n        if (Array.isArray(sch) && sch.some(hasRef))\n            return true;\n        if (typeof sch == \"object\" && hasRef(sch))\n            return true;\n    }\n    return false;\n}\nfunction countKeys(schema) {\n    let count = 0;\n    for (const key in schema) {\n        if (key === \"$ref\")\n            return Infinity;\n        count++;\n        if (SIMPLE_INLINED.has(key))\n            continue;\n        if (typeof schema[key] == \"object\") {\n            (0, util_1.eachItem)(schema[key], (sch) => (count += countKeys(sch)));\n        }\n        if (count === Infinity)\n            return Infinity;\n    }\n    return count;\n}\nfunction getFullPath(id = \"\", normalize) {\n    if (normalize !== false)\n        id = normalizeId(id);\n    const p = URI.parse(id);\n    return _getFullPath(p);\n}\nexports.getFullPath = getFullPath;\nfunction _getFullPath(p) {\n    return URI.serialize(p).split(\"#\")[0] + \"#\";\n}\nexports._getFullPath = _getFullPath;\nconst TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n    return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\";\n}\nexports.normalizeId = normalizeId;\nfunction resolveUrl(baseId, id) {\n    id = normalizeId(id);\n    return URI.resolve(baseId, id);\n}\nexports.resolveUrl = resolveUrl;\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i;\nfunction getSchemaRefs(schema, baseId) {\n    if (typeof schema == \"boolean\")\n        return {};\n    const { schemaId } = this.opts;\n    const schId = normalizeId(schema[schemaId] || baseId);\n    const baseIds = { \"\": schId };\n    const pathPrefix = getFullPath(schId, false);\n    const localRefs = {};\n    const schemaRefs = new Set();\n    traverse(schema, { allKeys: true }, (sch, jsonPtr, _, parentJsonPtr) => {\n        if (parentJsonPtr === undefined)\n            return;\n        const fullPath = pathPrefix + jsonPtr;\n        let baseId = baseIds[parentJsonPtr];\n        if (typeof sch[schemaId] == \"string\")\n            baseId = addRef.call(this, sch[schemaId]);\n        addAnchor.call(this, sch.$anchor);\n        addAnchor.call(this, sch.$dynamicAnchor);\n        baseIds[jsonPtr] = baseId;\n        function addRef(ref) {\n            ref = normalizeId(baseId ? URI.resolve(baseId, ref) : ref);\n            if (schemaRefs.has(ref))\n                throw ambiguos(ref);\n            schemaRefs.add(ref);\n            let schOrRef = this.refs[ref];\n            if (typeof schOrRef == \"string\")\n                schOrRef = this.refs[schOrRef];\n            if (typeof schOrRef == \"object\") {\n                checkAmbiguosRef(sch, schOrRef.schema, ref);\n            }\n            else if (ref !== normalizeId(fullPath)) {\n                if (ref[0] === \"#\") {\n                    checkAmbiguosRef(sch, localRefs[ref], ref);\n                    localRefs[ref] = sch;\n                }\n                else {\n                    this.refs[ref] = fullPath;\n                }\n            }\n            return ref;\n        }\n        function addAnchor(anchor) {\n            if (typeof anchor == \"string\") {\n                if (!ANCHOR.test(anchor))\n                    throw new Error(`invalid anchor \"${anchor}\"`);\n                addRef.call(this, `#${anchor}`);\n            }\n        }\n    });\n    return localRefs;\n    function checkAmbiguosRef(sch1, sch2, ref) {\n        if (sch2 !== undefined && !equal(sch1, sch2))\n            throw ambiguos(ref);\n    }\n    function ambiguos(ref) {\n        return new Error(`reference \"${ref}\" resolves to more than one schema`);\n    }\n}\nexports.getSchemaRefs = getSchemaRefs;\n//# sourceMappingURL=resolve.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRules = exports.isJSONType = void 0;\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"];\nconst jsonTypes = new Set(_jsonTypes);\nfunction isJSONType(x) {\n    return typeof x == \"string\" && jsonTypes.has(x);\n}\nexports.isJSONType = isJSONType;\nfunction getRules() {\n    const groups = {\n        number: { type: \"number\", rules: [] },\n        string: { type: \"string\", rules: [] },\n        array: { type: \"array\", rules: [] },\n        object: { type: \"object\", rules: [] },\n    };\n    return {\n        types: { ...groups, integer: true, boolean: true, null: true },\n        rules: [{ rules: [] }, groups.number, groups.string, groups.array, groups.object],\n        post: { rules: [] },\n        all: {},\n        keywords: {},\n    };\n}\nexports.getRules = getRules;\n//# sourceMappingURL=rules.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkStrictMode = exports.getErrorPath = exports.Type = exports.useFunc = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst code_1 = require(\"./codegen/code\");\n// TODO refactor to use Set\nfunction toHash(arr) {\n    const hash = {};\n    for (const item of arr)\n        hash[item] = true;\n    return hash;\n}\nexports.toHash = toHash;\nfunction alwaysValidSchema(it, schema) {\n    if (typeof schema == \"boolean\")\n        return schema;\n    if (Object.keys(schema).length === 0)\n        return true;\n    checkUnknownRules(it, schema);\n    return !schemaHasRules(schema, it.self.RULES.all);\n}\nexports.alwaysValidSchema = alwaysValidSchema;\nfunction checkUnknownRules(it, schema = it.schema) {\n    const { opts, self } = it;\n    if (!opts.strictSchema)\n        return;\n    if (typeof schema === \"boolean\")\n        return;\n    const rules = self.RULES.keywords;\n    for (const key in schema) {\n        if (!rules[key])\n            checkStrictMode(it, `unknown keyword: \"${key}\"`);\n    }\n}\nexports.checkUnknownRules = checkUnknownRules;\nfunction schemaHasRules(schema, rules) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (rules[key])\n            return true;\n    return false;\n}\nexports.schemaHasRules = schemaHasRules;\nfunction schemaHasRulesButRef(schema, RULES) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (key !== \"$ref\" && RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaHasRulesButRef = schemaHasRulesButRef;\nfunction schemaRefOrVal({ topSchemaRef, schemaPath }, schema, keyword, $data) {\n    if (!$data) {\n        if (typeof schema == \"number\" || typeof schema == \"boolean\")\n            return schema;\n        if (typeof schema == \"string\")\n            return (0, codegen_1._) `${schema}`;\n    }\n    return (0, codegen_1._) `${topSchemaRef}${schemaPath}${(0, codegen_1.getProperty)(keyword)}`;\n}\nexports.schemaRefOrVal = schemaRefOrVal;\nfunction unescapeFragment(str) {\n    return unescapeJsonPointer(decodeURIComponent(str));\n}\nexports.unescapeFragment = unescapeFragment;\nfunction escapeFragment(str) {\n    return encodeURIComponent(escapeJsonPointer(str));\n}\nexports.escapeFragment = escapeFragment;\nfunction escapeJsonPointer(str) {\n    if (typeof str == \"number\")\n        return `${str}`;\n    return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\nexports.escapeJsonPointer = escapeJsonPointer;\nfunction unescapeJsonPointer(str) {\n    return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\nexports.unescapeJsonPointer = unescapeJsonPointer;\nfunction eachItem(xs, f) {\n    if (Array.isArray(xs)) {\n        for (const x of xs)\n            f(x);\n    }\n    else {\n        f(xs);\n    }\n}\nexports.eachItem = eachItem;\nfunction makeMergeEvaluated({ mergeNames, mergeToName, mergeValues, resultToName, }) {\n    return (gen, from, to, toName) => {\n        const res = to === undefined\n            ? from\n            : to instanceof codegen_1.Name\n                ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n                : from instanceof codegen_1.Name\n                    ? (mergeToName(gen, to, from), from)\n                    : mergeValues(from, to);\n        return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;\n    };\n}\nexports.mergeEvaluated = {\n    props: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => {\n            gen.if((0, codegen_1._) `${from} === true`, () => gen.assign(to, true), () => gen.assign(to, (0, codegen_1._) `${to} || {}`).code((0, codegen_1._) `Object.assign(${to}, ${from})`));\n        }),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => {\n            if (from === true) {\n                gen.assign(to, true);\n            }\n            else {\n                gen.assign(to, (0, codegen_1._) `${to} || {}`);\n                setEvaluated(gen, to, from);\n            }\n        }),\n        mergeValues: (from, to) => (from === true ? true : { ...from, ...to }),\n        resultToName: evaluatedPropsToName,\n    }),\n    items: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => gen.assign(to, (0, codegen_1._) `${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => gen.assign(to, from === true ? true : (0, codegen_1._) `${to} > ${from} ? ${to} : ${from}`)),\n        mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n        resultToName: (gen, items) => gen.var(\"items\", items),\n    }),\n};\nfunction evaluatedPropsToName(gen, ps) {\n    if (ps === true)\n        return gen.var(\"props\", true);\n    const props = gen.var(\"props\", (0, codegen_1._) `{}`);\n    if (ps !== undefined)\n        setEvaluated(gen, props, ps);\n    return props;\n}\nexports.evaluatedPropsToName = evaluatedPropsToName;\nfunction setEvaluated(gen, props, ps) {\n    Object.keys(ps).forEach((p) => gen.assign((0, codegen_1._) `${props}${(0, codegen_1.getProperty)(p)}`, true));\n}\nexports.setEvaluated = setEvaluated;\nconst snippets = {};\nfunction useFunc(gen, f) {\n    return gen.scopeValue(\"func\", {\n        ref: f,\n        code: snippets[f.code] || (snippets[f.code] = new code_1._Code(f.code)),\n    });\n}\nexports.useFunc = useFunc;\nvar Type;\n(function (Type) {\n    Type[Type[\"Num\"] = 0] = \"Num\";\n    Type[Type[\"Str\"] = 1] = \"Str\";\n})(Type = exports.Type || (exports.Type = {}));\nfunction getErrorPath(dataProp, dataPropType, jsPropertySyntax) {\n    // let path\n    if (dataProp instanceof codegen_1.Name) {\n        const isNumber = dataPropType === Type.Num;\n        return jsPropertySyntax\n            ? isNumber\n                ? (0, codegen_1._) `\"[\" + ${dataProp} + \"]\"`\n                : (0, codegen_1._) `\"['\" + ${dataProp} + \"']\"`\n            : isNumber\n                ? (0, codegen_1._) `\"/\" + ${dataProp}`\n                : (0, codegen_1._) `\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`; // TODO maybe use global escapePointer\n    }\n    return jsPropertySyntax ? (0, codegen_1.getProperty)(dataProp).toString() : \"/\" + escapeJsonPointer(dataProp);\n}\nexports.getErrorPath = getErrorPath;\nfunction checkStrictMode(it, msg, mode = it.opts.strictSchema) {\n    if (!mode)\n        return;\n    msg = `strict mode: ${msg}`;\n    if (mode === true)\n        throw new Error(msg);\n    it.self.logger.warn(msg);\n}\nexports.checkStrictMode = checkStrictMode;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldUseRule = exports.shouldUseGroup = exports.schemaHasRulesForType = void 0;\nfunction schemaHasRulesForType({ schema, self }, type) {\n    const group = self.RULES.types[type];\n    return group && group !== true && shouldUseGroup(schema, group);\n}\nexports.schemaHasRulesForType = schemaHasRulesForType;\nfunction shouldUseGroup(schema, group) {\n    return group.rules.some((rule) => shouldUseRule(schema, rule));\n}\nexports.shouldUseGroup = shouldUseGroup;\nfunction shouldUseRule(schema, rule) {\n    var _a;\n    return (schema[rule.keyword] !== undefined ||\n        ((_a = rule.definition.implements) === null || _a === void 0 ? void 0 : _a.some((kwd) => schema[kwd] !== undefined)));\n}\nexports.shouldUseRule = shouldUseRule;\n//# sourceMappingURL=applicability.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst boolError = {\n    message: \"boolean schema is false\",\n};\nfunction topBoolOrEmptySchema(it) {\n    const { gen, schema, validateName } = it;\n    if (schema === false) {\n        falseSchemaError(it, false);\n    }\n    else if (typeof schema == \"object\" && schema.$async === true) {\n        gen.return(names_1.default.data);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, null);\n        gen.return(true);\n    }\n}\nexports.topBoolOrEmptySchema = topBoolOrEmptySchema;\nfunction boolOrEmptySchema(it, valid) {\n    const { gen, schema } = it;\n    if (schema === false) {\n        gen.var(valid, false); // TODO var\n        falseSchemaError(it);\n    }\n    else {\n        gen.var(valid, true); // TODO var\n    }\n}\nexports.boolOrEmptySchema = boolOrEmptySchema;\nfunction falseSchemaError(it, overrideAllErrors) {\n    const { gen, data } = it;\n    // TODO maybe some other interface should be used for non-keyword validation errors...\n    const cxt = {\n        gen,\n        keyword: \"false schema\",\n        data,\n        schema: false,\n        schemaCode: false,\n        schemaValue: false,\n        params: {},\n        it,\n    };\n    (0, errors_1.reportError)(cxt, boolError, undefined, overrideAllErrors);\n}\n//# sourceMappingURL=boolSchema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;\nconst rules_1 = require(\"../rules\");\nconst applicability_1 = require(\"./applicability\");\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"Correct\"] = 0] = \"Correct\";\n    DataType[DataType[\"Wrong\"] = 1] = \"Wrong\";\n})(DataType = exports.DataType || (exports.DataType = {}));\nfunction getSchemaTypes(schema) {\n    const types = getJSONTypes(schema.type);\n    const hasNull = types.includes(\"null\");\n    if (hasNull) {\n        if (schema.nullable === false)\n            throw new Error(\"type: null contradicts nullable: false\");\n    }\n    else {\n        if (!types.length && schema.nullable !== undefined) {\n            throw new Error('\"nullable\" cannot be used without \"type\"');\n        }\n        if (schema.nullable === true)\n            types.push(\"null\");\n    }\n    return types;\n}\nexports.getSchemaTypes = getSchemaTypes;\nfunction getJSONTypes(ts) {\n    const types = Array.isArray(ts) ? ts : ts ? [ts] : [];\n    if (types.every(rules_1.isJSONType))\n        return types;\n    throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"));\n}\nexports.getJSONTypes = getJSONTypes;\nfunction coerceAndCheckDataType(it, types) {\n    const { gen, data, opts } = it;\n    const coerceTo = coerceToTypes(types, opts.coerceTypes);\n    const checkTypes = types.length > 0 &&\n        !(coerceTo.length === 0 && types.length === 1 && (0, applicability_1.schemaHasRulesForType)(it, types[0]));\n    if (checkTypes) {\n        const wrongType = checkDataTypes(types, data, opts.strictNumbers, DataType.Wrong);\n        gen.if(wrongType, () => {\n            if (coerceTo.length)\n                coerceData(it, types, coerceTo);\n            else\n                reportTypeError(it);\n        });\n    }\n    return checkTypes;\n}\nexports.coerceAndCheckDataType = coerceAndCheckDataType;\nconst COERCIBLE = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"]);\nfunction coerceToTypes(types, coerceTypes) {\n    return coerceTypes\n        ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n        : [];\n}\nfunction coerceData(it, types, coerceTo) {\n    const { gen, data, opts } = it;\n    const dataType = gen.let(\"dataType\", (0, codegen_1._) `typeof ${data}`);\n    const coerced = gen.let(\"coerced\", (0, codegen_1._) `undefined`);\n    if (opts.coerceTypes === \"array\") {\n        gen.if((0, codegen_1._) `${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () => gen\n            .assign(data, (0, codegen_1._) `${data}[0]`)\n            .assign(dataType, (0, codegen_1._) `typeof ${data}`)\n            .if(checkDataTypes(types, data, opts.strictNumbers), () => gen.assign(coerced, data)));\n    }\n    gen.if((0, codegen_1._) `${coerced} !== undefined`);\n    for (const t of coerceTo) {\n        if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n            coerceSpecificType(t);\n        }\n    }\n    gen.else();\n    reportTypeError(it);\n    gen.endIf();\n    gen.if((0, codegen_1._) `${coerced} !== undefined`, () => {\n        gen.assign(data, coerced);\n        assignParentData(it, coerced);\n    });\n    function coerceSpecificType(t) {\n        switch (t) {\n            case \"string\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n                    .assign(coerced, (0, codegen_1._) `\"\" + ${data}`)\n                    .elseIf((0, codegen_1._) `${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `\"\"`);\n                return;\n            case \"number\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"integer\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"boolean\":\n                gen\n                    .elseIf((0, codegen_1._) `${data} === \"false\" || ${data} === 0 || ${data} === null`)\n                    .assign(coerced, false)\n                    .elseIf((0, codegen_1._) `${data} === \"true\" || ${data} === 1`)\n                    .assign(coerced, true);\n                return;\n            case \"null\":\n                gen.elseIf((0, codegen_1._) `${data} === \"\" || ${data} === 0 || ${data} === false`);\n                gen.assign(coerced, null);\n                return;\n            case \"array\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `[${data}]`);\n        }\n    }\n}\nfunction assignParentData({ gen, parentData, parentDataProperty }, expr) {\n    // TODO use gen.property\n    gen.if((0, codegen_1._) `${parentData} !== undefined`, () => gen.assign((0, codegen_1._) `${parentData}[${parentDataProperty}]`, expr));\n}\nfunction checkDataType(dataType, data, strictNums, correct = DataType.Correct) {\n    const EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;\n    let cond;\n    switch (dataType) {\n        case \"null\":\n            return (0, codegen_1._) `${data} ${EQ} null`;\n        case \"array\":\n            cond = (0, codegen_1._) `Array.isArray(${data})`;\n            break;\n        case \"object\":\n            cond = (0, codegen_1._) `${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`;\n            break;\n        case \"integer\":\n            cond = numCond((0, codegen_1._) `!(${data} % 1) && !isNaN(${data})`);\n            break;\n        case \"number\":\n            cond = numCond();\n            break;\n        default:\n            return (0, codegen_1._) `typeof ${data} ${EQ} ${dataType}`;\n    }\n    return correct === DataType.Correct ? cond : (0, codegen_1.not)(cond);\n    function numCond(_cond = codegen_1.nil) {\n        return (0, codegen_1.and)((0, codegen_1._) `typeof ${data} == \"number\"`, _cond, strictNums ? (0, codegen_1._) `isFinite(${data})` : codegen_1.nil);\n    }\n}\nexports.checkDataType = checkDataType;\nfunction checkDataTypes(dataTypes, data, strictNums, correct) {\n    if (dataTypes.length === 1) {\n        return checkDataType(dataTypes[0], data, strictNums, correct);\n    }\n    let cond;\n    const types = (0, util_1.toHash)(dataTypes);\n    if (types.array && types.object) {\n        const notObj = (0, codegen_1._) `typeof ${data} != \"object\"`;\n        cond = types.null ? notObj : (0, codegen_1._) `!${data} || ${notObj}`;\n        delete types.null;\n        delete types.array;\n        delete types.object;\n    }\n    else {\n        cond = codegen_1.nil;\n    }\n    if (types.number)\n        delete types.integer;\n    for (const t in types)\n        cond = (0, codegen_1.and)(cond, checkDataType(t, data, strictNums, correct));\n    return cond;\n}\nexports.checkDataTypes = checkDataTypes;\nconst typeError = {\n    message: ({ schema }) => `must be ${schema}`,\n    params: ({ schema, schemaValue }) => typeof schema == \"string\" ? (0, codegen_1._) `{type: ${schema}}` : (0, codegen_1._) `{type: ${schemaValue}}`,\n};\nfunction reportTypeError(it) {\n    const cxt = getTypeErrorContext(it);\n    (0, errors_1.reportError)(cxt, typeError);\n}\nexports.reportTypeError = reportTypeError;\nfunction getTypeErrorContext(it) {\n    const { gen, data, schema } = it;\n    const schemaCode = (0, util_1.schemaRefOrVal)(it, schema, \"type\");\n    return {\n        gen,\n        keyword: \"type\",\n        data,\n        schema: schema.type,\n        schemaCode,\n        schemaValue: schemaCode,\n        parentSchema: schema,\n        params: {},\n        it,\n    };\n}\n//# sourceMappingURL=dataType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(prop)}`;\n    if (compositeRule) {\n        (0, util_1.checkStrictMode)(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = (0, codegen_1._) `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = (0, codegen_1._) `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, (0, codegen_1._) `${childData} = ${(0, codegen_1.stringify)(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getData = exports.KeywordCxt = exports.validateFunctionCode = void 0;\nconst boolSchema_1 = require(\"./boolSchema\");\nconst dataType_1 = require(\"./dataType\");\nconst applicability_1 = require(\"./applicability\");\nconst dataType_2 = require(\"./dataType\");\nconst defaults_1 = require(\"./defaults\");\nconst keyword_1 = require(\"./keyword\");\nconst subschema_1 = require(\"./subschema\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst resolve_1 = require(\"../resolve\");\nconst util_1 = require(\"../util\");\nconst errors_1 = require(\"../errors\");\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nfunction validateFunctionCode(it) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            topSchemaObjCode(it);\n            return;\n        }\n    }\n    validateFunction(it, () => (0, boolSchema_1.topBoolOrEmptySchema)(it));\n}\nexports.validateFunctionCode = validateFunctionCode;\nfunction validateFunction({ gen, validateName, schema, schemaEnv, opts }, body) {\n    if (opts.code.es5) {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${names_1.default.valCxt}`, schemaEnv.$async, () => {\n            gen.code((0, codegen_1._) `\"use strict\"; ${funcSourceUrl(schema, opts)}`);\n            destructureValCxtES5(gen, opts);\n            gen.code(body);\n        });\n    }\n    else {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () => gen.code(funcSourceUrl(schema, opts)).code(body));\n    }\n}\nfunction destructureValCxt(opts) {\n    return (0, codegen_1._) `{${names_1.default.instancePath}=\"\", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${opts.dynamicRef ? (0, codegen_1._) `, ${names_1.default.dynamicAnchors}={}` : codegen_1.nil}}={}`;\n}\nfunction destructureValCxtES5(gen, opts) {\n    gen.if(names_1.default.valCxt, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.instancePath}`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentData}`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentDataProperty}`);\n        gen.var(names_1.default.rootData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.rootData}`);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`);\n    }, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `\"\"`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.rootData, names_1.default.data);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `{}`);\n    });\n}\nfunction topSchemaObjCode(it) {\n    const { schema, opts, gen } = it;\n    validateFunction(it, () => {\n        if (opts.$comment && schema.$comment)\n            commentKeyword(it);\n        checkNoDefault(it);\n        gen.let(names_1.default.vErrors, null);\n        gen.let(names_1.default.errors, 0);\n        if (opts.unevaluated)\n            resetEvaluated(it);\n        typeAndKeywords(it);\n        returnResults(it);\n    });\n    return;\n}\nfunction resetEvaluated(it) {\n    // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n    const { gen, validateName } = it;\n    it.evaluated = gen.const(\"evaluated\", (0, codegen_1._) `${validateName}.evaluated`);\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicProps`, () => gen.assign((0, codegen_1._) `${it.evaluated}.props`, (0, codegen_1._) `undefined`));\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicItems`, () => gen.assign((0, codegen_1._) `${it.evaluated}.items`, (0, codegen_1._) `undefined`));\n}\nfunction funcSourceUrl(schema, opts) {\n    const schId = typeof schema == \"object\" && schema[opts.schemaId];\n    return schId && (opts.code.source || opts.code.process) ? (0, codegen_1._) `/*# sourceURL=${schId} */` : codegen_1.nil;\n}\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it, valid) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            subSchemaObjCode(it, valid);\n            return;\n        }\n    }\n    (0, boolSchema_1.boolOrEmptySchema)(it, valid);\n}\nfunction schemaCxtHasRules({ schema, self }) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (self.RULES.all[key])\n            return true;\n    return false;\n}\nfunction isSchemaObj(it) {\n    return typeof it.schema != \"boolean\";\n}\nfunction subSchemaObjCode(it, valid) {\n    const { schema, gen, opts } = it;\n    if (opts.$comment && schema.$comment)\n        commentKeyword(it);\n    updateContext(it);\n    checkAsyncSchema(it);\n    const errsCount = gen.const(\"_errs\", names_1.default.errors);\n    typeAndKeywords(it, errsCount);\n    // TODO var\n    gen.var(valid, (0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n}\nfunction checkKeywords(it) {\n    (0, util_1.checkUnknownRules)(it);\n    checkRefsAndKeywords(it);\n}\nfunction typeAndKeywords(it, errsCount) {\n    if (it.opts.jtd)\n        return schemaKeywords(it, [], false, errsCount);\n    const types = (0, dataType_1.getSchemaTypes)(it.schema);\n    const checkedTypes = (0, dataType_1.coerceAndCheckDataType)(it, types);\n    schemaKeywords(it, types, !checkedTypes, errsCount);\n}\nfunction checkRefsAndKeywords(it) {\n    const { schema, errSchemaPath, opts, self } = it;\n    if (schema.$ref && opts.ignoreKeywordsWithRef && (0, util_1.schemaHasRulesButRef)(schema, self.RULES)) {\n        self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`);\n    }\n}\nfunction checkNoDefault(it) {\n    const { schema, opts } = it;\n    if (schema.default !== undefined && opts.useDefaults && opts.strictSchema) {\n        (0, util_1.checkStrictMode)(it, \"default is ignored in the schema root\");\n    }\n}\nfunction updateContext(it) {\n    const schId = it.schema[it.opts.schemaId];\n    if (schId)\n        it.baseId = (0, resolve_1.resolveUrl)(it.baseId, schId);\n}\nfunction checkAsyncSchema(it) {\n    if (it.schema.$async && !it.schemaEnv.$async)\n        throw new Error(\"async schema in sync schema\");\n}\nfunction commentKeyword({ gen, schemaEnv, schema, errSchemaPath, opts }) {\n    const msg = schema.$comment;\n    if (opts.$comment === true) {\n        gen.code((0, codegen_1._) `${names_1.default.self}.logger.log(${msg})`);\n    }\n    else if (typeof opts.$comment == \"function\") {\n        const schemaPath = (0, codegen_1.str) `${errSchemaPath}/$comment`;\n        const rootName = gen.scopeValue(\"root\", { ref: schemaEnv.root });\n        gen.code((0, codegen_1._) `${names_1.default.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`);\n    }\n}\nfunction returnResults(it) {\n    const { gen, schemaEnv, validateName, ValidationError, opts } = it;\n    if (schemaEnv.$async) {\n        // TODO assign unevaluated\n        gen.if((0, codegen_1._) `${names_1.default.errors} === 0`, () => gen.return(names_1.default.data), () => gen.throw((0, codegen_1._) `new ${ValidationError}(${names_1.default.vErrors})`));\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, names_1.default.vErrors);\n        if (opts.unevaluated)\n            assignEvaluated(it);\n        gen.return((0, codegen_1._) `${names_1.default.errors} === 0`);\n    }\n}\nfunction assignEvaluated({ gen, evaluated, props, items }) {\n    if (props instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.props`, props);\n    if (items instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.items`, items);\n}\nfunction schemaKeywords(it, types, typeErrors, errsCount) {\n    const { gen, schema, data, allErrors, opts, self } = it;\n    const { RULES } = self;\n    if (schema.$ref && (opts.ignoreKeywordsWithRef || !(0, util_1.schemaHasRulesButRef)(schema, RULES))) {\n        gen.block(() => keywordCode(it, \"$ref\", RULES.all.$ref.definition)); // TODO typecast\n        return;\n    }\n    if (!opts.jtd)\n        checkStrictTypes(it, types);\n    gen.block(() => {\n        for (const group of RULES.rules)\n            groupKeywords(group);\n        groupKeywords(RULES.post);\n    });\n    function groupKeywords(group) {\n        if (!(0, applicability_1.shouldUseGroup)(schema, group))\n            return;\n        if (group.type) {\n            gen.if((0, dataType_2.checkDataType)(group.type, data, opts.strictNumbers));\n            iterateKeywords(it, group);\n            if (types.length === 1 && types[0] === group.type && typeErrors) {\n                gen.else();\n                (0, dataType_2.reportTypeError)(it);\n            }\n            gen.endIf();\n        }\n        else {\n            iterateKeywords(it, group);\n        }\n        // TODO make it \"ok\" call?\n        if (!allErrors)\n            gen.if((0, codegen_1._) `${names_1.default.errors} === ${errsCount || 0}`);\n    }\n}\nfunction iterateKeywords(it, group) {\n    const { gen, schema, opts: { useDefaults }, } = it;\n    if (useDefaults)\n        (0, defaults_1.assignDefaults)(it, group.type);\n    gen.block(() => {\n        for (const rule of group.rules) {\n            if ((0, applicability_1.shouldUseRule)(schema, rule)) {\n                keywordCode(it, rule.keyword, rule.definition, group.type);\n            }\n        }\n    });\n}\nfunction checkStrictTypes(it, types) {\n    if (it.schemaEnv.meta || !it.opts.strictTypes)\n        return;\n    checkContextTypes(it, types);\n    if (!it.opts.allowUnionTypes)\n        checkMultipleTypes(it, types);\n    checkKeywordTypes(it, it.dataTypes);\n}\nfunction checkContextTypes(it, types) {\n    if (!types.length)\n        return;\n    if (!it.dataTypes.length) {\n        it.dataTypes = types;\n        return;\n    }\n    types.forEach((t) => {\n        if (!includesType(it.dataTypes, t)) {\n            strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`);\n        }\n    });\n    it.dataTypes = it.dataTypes.filter((t) => includesType(types, t));\n}\nfunction checkMultipleTypes(it, ts) {\n    if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n        strictTypesError(it, \"use allowUnionTypes to allow union type keyword\");\n    }\n}\nfunction checkKeywordTypes(it, ts) {\n    const rules = it.self.RULES.all;\n    for (const keyword in rules) {\n        const rule = rules[keyword];\n        if (typeof rule == \"object\" && (0, applicability_1.shouldUseRule)(it.schema, rule)) {\n            const { type } = rule.definition;\n            if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n                strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`);\n            }\n        }\n    }\n}\nfunction hasApplicableType(schTs, kwdT) {\n    return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"));\n}\nfunction includesType(ts, t) {\n    return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"));\n}\nfunction strictTypesError(it, msg) {\n    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n    msg += ` at \"${schemaPath}\" (strictTypes)`;\n    (0, util_1.checkStrictMode)(it, msg, it.opts.strictTypes);\n}\nclass KeywordCxt {\n    constructor(it, def, keyword) {\n        (0, keyword_1.validateKeywordUsage)(it, def, keyword);\n        this.gen = it.gen;\n        this.allErrors = it.allErrors;\n        this.keyword = keyword;\n        this.data = it.data;\n        this.schema = it.schema[keyword];\n        this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data;\n        this.schemaValue = (0, util_1.schemaRefOrVal)(it, this.schema, keyword, this.$data);\n        this.schemaType = def.schemaType;\n        this.parentSchema = it.schema;\n        this.params = {};\n        this.it = it;\n        this.def = def;\n        if (this.$data) {\n            this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it));\n        }\n        else {\n            this.schemaCode = this.schemaValue;\n            if (!(0, keyword_1.validSchemaType)(this.schema, def.schemaType, def.allowUndefined)) {\n                throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);\n            }\n        }\n        if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n            this.errsCount = it.gen.const(\"_errs\", names_1.default.errors);\n        }\n    }\n    result(condition, successAction, failAction) {\n        this.failResult((0, codegen_1.not)(condition), successAction, failAction);\n    }\n    failResult(condition, successAction, failAction) {\n        this.gen.if(condition);\n        if (failAction)\n            failAction();\n        else\n            this.error();\n        if (successAction) {\n            this.gen.else();\n            successAction();\n            if (this.allErrors)\n                this.gen.endIf();\n        }\n        else {\n            if (this.allErrors)\n                this.gen.endIf();\n            else\n                this.gen.else();\n        }\n    }\n    pass(condition, failAction) {\n        this.failResult((0, codegen_1.not)(condition), undefined, failAction);\n    }\n    fail(condition) {\n        if (condition === undefined) {\n            this.error();\n            if (!this.allErrors)\n                this.gen.if(false); // this branch will be removed by gen.optimize\n            return;\n        }\n        this.gen.if(condition);\n        this.error();\n        if (this.allErrors)\n            this.gen.endIf();\n        else\n            this.gen.else();\n    }\n    fail$data(condition) {\n        if (!this.$data)\n            return this.fail(condition);\n        const { schemaCode } = this;\n        this.fail((0, codegen_1._) `${schemaCode} !== undefined && (${(0, codegen_1.or)(this.invalid$data(), condition)})`);\n    }\n    error(append, errorParams, errorPaths) {\n        if (errorParams) {\n            this.setParams(errorParams);\n            this._error(append, errorPaths);\n            this.setParams({});\n            return;\n        }\n        this._error(append, errorPaths);\n    }\n    _error(append, errorPaths) {\n        ;\n        (append ? errors_1.reportExtraError : errors_1.reportError)(this, this.def.error, errorPaths);\n    }\n    $dataError() {\n        (0, errors_1.reportError)(this, this.def.$dataError || errors_1.keyword$DataError);\n    }\n    reset() {\n        if (this.errsCount === undefined)\n            throw new Error('add \"trackErrors\" to keyword definition');\n        (0, errors_1.resetErrorsCount)(this.gen, this.errsCount);\n    }\n    ok(cond) {\n        if (!this.allErrors)\n            this.gen.if(cond);\n    }\n    setParams(obj, assign) {\n        if (assign)\n            Object.assign(this.params, obj);\n        else\n            this.params = obj;\n    }\n    block$data(valid, codeBlock, $dataValid = codegen_1.nil) {\n        this.gen.block(() => {\n            this.check$data(valid, $dataValid);\n            codeBlock();\n        });\n    }\n    check$data(valid = codegen_1.nil, $dataValid = codegen_1.nil) {\n        if (!this.$data)\n            return;\n        const { gen, schemaCode, schemaType, def } = this;\n        gen.if((0, codegen_1.or)((0, codegen_1._) `${schemaCode} === undefined`, $dataValid));\n        if (valid !== codegen_1.nil)\n            gen.assign(valid, true);\n        if (schemaType.length || def.validateSchema) {\n            gen.elseIf(this.invalid$data());\n            this.$dataError();\n            if (valid !== codegen_1.nil)\n                gen.assign(valid, false);\n        }\n        gen.else();\n    }\n    invalid$data() {\n        const { gen, schemaCode, schemaType, def, it } = this;\n        return (0, codegen_1.or)(wrong$DataType(), invalid$DataSchema());\n        function wrong$DataType() {\n            if (schemaType.length) {\n                /* istanbul ignore if */\n                if (!(schemaCode instanceof codegen_1.Name))\n                    throw new Error(\"ajv implementation error\");\n                const st = Array.isArray(schemaType) ? schemaType : [schemaType];\n                return (0, codegen_1._) `${(0, dataType_2.checkDataTypes)(st, schemaCode, it.opts.strictNumbers, dataType_2.DataType.Wrong)}`;\n            }\n            return codegen_1.nil;\n        }\n        function invalid$DataSchema() {\n            if (def.validateSchema) {\n                const validateSchemaRef = gen.scopeValue(\"validate$data\", { ref: def.validateSchema }); // TODO value.code for standalone\n                return (0, codegen_1._) `!${validateSchemaRef}(${schemaCode})`;\n            }\n            return codegen_1.nil;\n        }\n    }\n    subschema(appl, valid) {\n        const subschema = (0, subschema_1.getSubschema)(this.it, appl);\n        (0, subschema_1.extendSubschemaData)(subschema, this.it, appl);\n        (0, subschema_1.extendSubschemaMode)(subschema, appl);\n        const nextContext = { ...this.it, ...subschema, items: undefined, props: undefined };\n        subschemaCode(nextContext, valid);\n        return nextContext;\n    }\n    mergeEvaluated(schemaCxt, toName) {\n        const { it, gen } = this;\n        if (!it.opts.unevaluated)\n            return;\n        if (it.props !== true && schemaCxt.props !== undefined) {\n            it.props = util_1.mergeEvaluated.props(gen, schemaCxt.props, it.props, toName);\n        }\n        if (it.items !== true && schemaCxt.items !== undefined) {\n            it.items = util_1.mergeEvaluated.items(gen, schemaCxt.items, it.items, toName);\n        }\n    }\n    mergeValidEvaluated(schemaCxt, valid) {\n        const { it, gen } = this;\n        if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n            gen.if(valid, () => this.mergeEvaluated(schemaCxt, codegen_1.Name));\n            return true;\n        }\n    }\n}\nexports.KeywordCxt = KeywordCxt;\nfunction keywordCode(it, keyword, def, ruleType) {\n    const cxt = new KeywordCxt(it, def, keyword);\n    if (\"code\" in def) {\n        def.code(cxt, ruleType);\n    }\n    else if (cxt.$data && def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n    else if (\"macro\" in def) {\n        (0, keyword_1.macroKeywordCode)(cxt, def);\n    }\n    else if (def.compile || def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n}\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, { dataLevel, dataNames, dataPathArr }) {\n    let jsonPointer;\n    let data;\n    if ($data === \"\")\n        return names_1.default.rootData;\n    if ($data[0] === \"/\") {\n        if (!JSON_POINTER.test($data))\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        jsonPointer = $data;\n        data = names_1.default.rootData;\n    }\n    else {\n        const matches = RELATIVE_JSON_POINTER.exec($data);\n        if (!matches)\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        const up = +matches[1];\n        jsonPointer = matches[2];\n        if (jsonPointer === \"#\") {\n            if (up >= dataLevel)\n                throw new Error(errorMsg(\"property/index\", up));\n            return dataPathArr[dataLevel - up];\n        }\n        if (up > dataLevel)\n            throw new Error(errorMsg(\"data\", up));\n        data = dataNames[dataLevel - up];\n        if (!jsonPointer)\n            return data;\n    }\n    let expr = data;\n    const segments = jsonPointer.split(\"/\");\n    for (const segment of segments) {\n        if (segment) {\n            data = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)((0, util_1.unescapeJsonPointer)(segment))}`;\n            expr = (0, codegen_1._) `${expr} && ${data}`;\n        }\n    }\n    return expr;\n    function errorMsg(pointerType, up) {\n        return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`;\n    }\n}\nexports.getData = getData;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateKeywordUsage = exports.validSchemaType = exports.funcKeywordCode = exports.macroKeywordCode = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst code_1 = require(\"../../vocabularies/code\");\nconst errors_1 = require(\"../errors\");\nfunction macroKeywordCode(cxt, def) {\n    const { gen, keyword, schema, parentSchema, it } = cxt;\n    const macroSchema = def.macro.call(it.self, schema, parentSchema, it);\n    const schemaRef = useKeyword(gen, keyword, macroSchema);\n    if (it.opts.validateSchema !== false)\n        it.self.validateSchema(macroSchema, true);\n    const valid = gen.name(\"valid\");\n    cxt.subschema({\n        schema: macroSchema,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        topSchemaRef: schemaRef,\n        compositeRule: true,\n    }, valid);\n    cxt.pass(valid, () => cxt.error(true));\n}\nexports.macroKeywordCode = macroKeywordCode;\nfunction funcKeywordCode(cxt, def) {\n    var _a;\n    const { gen, keyword, schema, parentSchema, $data, it } = cxt;\n    checkAsyncKeyword(it, def);\n    const validate = !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate;\n    const validateRef = useKeyword(gen, keyword, validate);\n    const valid = gen.let(\"valid\");\n    cxt.block$data(valid, validateKeyword);\n    cxt.ok((_a = def.valid) !== null && _a !== void 0 ? _a : valid);\n    function validateKeyword() {\n        if (def.errors === false) {\n            assignValid();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => cxt.error());\n        }\n        else {\n            const ruleErrs = def.async ? validateAsync() : validateSync();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => addErrs(cxt, ruleErrs));\n        }\n    }\n    function validateAsync() {\n        const ruleErrs = gen.let(\"ruleErrs\", null);\n        gen.try(() => assignValid((0, codegen_1._) `await `), (e) => gen.assign(valid, false).if((0, codegen_1._) `${e} instanceof ${it.ValidationError}`, () => gen.assign(ruleErrs, (0, codegen_1._) `${e}.errors`), () => gen.throw(e)));\n        return ruleErrs;\n    }\n    function validateSync() {\n        const validateErrs = (0, codegen_1._) `${validateRef}.errors`;\n        gen.assign(validateErrs, null);\n        assignValid(codegen_1.nil);\n        return validateErrs;\n    }\n    function assignValid(_await = def.async ? (0, codegen_1._) `await ` : codegen_1.nil) {\n        const passCxt = it.opts.passContext ? names_1.default.this : names_1.default.self;\n        const passSchema = !((\"compile\" in def && !$data) || def.schema === false);\n        gen.assign(valid, (0, codegen_1._) `${_await}${(0, code_1.callValidateCode)(cxt, validateRef, passCxt, passSchema)}`, def.modifying);\n    }\n    function reportErrs(errors) {\n        var _a;\n        gen.if((0, codegen_1.not)((_a = def.valid) !== null && _a !== void 0 ? _a : valid), errors);\n    }\n}\nexports.funcKeywordCode = funcKeywordCode;\nfunction modifyData(cxt) {\n    const { gen, data, it } = cxt;\n    gen.if(it.parentData, () => gen.assign(data, (0, codegen_1._) `${it.parentData}[${it.parentDataProperty}]`));\n}\nfunction addErrs(cxt, errs) {\n    const { gen } = cxt;\n    gen.if((0, codegen_1._) `Array.isArray(${errs})`, () => {\n        gen\n            .assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`)\n            .assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n        (0, errors_1.extendErrors)(cxt);\n    }, () => cxt.error());\n}\nfunction checkAsyncKeyword({ schemaEnv }, def) {\n    if (def.async && !schemaEnv.$async)\n        throw new Error(\"async keyword in sync schema\");\n}\nfunction useKeyword(gen, keyword, result) {\n    if (result === undefined)\n        throw new Error(`keyword \"${keyword}\" failed to compile`);\n    return gen.scopeValue(\"keyword\", typeof result == \"function\" ? { ref: result } : { ref: result, code: (0, codegen_1.stringify)(result) });\n}\nfunction validSchemaType(schema, schemaType, allowUndefined = false) {\n    // TODO add tests\n    return (!schemaType.length ||\n        schemaType.some((st) => st === \"array\"\n            ? Array.isArray(schema)\n            : st === \"object\"\n                ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n                : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")));\n}\nexports.validSchemaType = validSchemaType;\nfunction validateKeywordUsage({ schema, opts, self, errSchemaPath }, def, keyword) {\n    /* istanbul ignore if */\n    if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n        throw new Error(\"ajv implementation error\");\n    }\n    const deps = def.dependencies;\n    if (deps === null || deps === void 0 ? void 0 : deps.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n        throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`);\n    }\n    if (def.validateSchema) {\n        const valid = def.validateSchema(schema[keyword]);\n        if (!valid) {\n            const msg = `keyword \"${keyword}\" value is invalid at path \"${errSchemaPath}\": ` +\n                self.errorsText(def.validateSchema.errors);\n            if (opts.validateSchema === \"log\")\n                self.logger.error(msg);\n            else\n                throw new Error(msg);\n        }\n    }\n}\nexports.validateKeywordUsage = validateKeywordUsage;\n//# sourceMappingURL=keyword.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendSubschemaMode = exports.extendSubschemaData = exports.getSubschema = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction getSubschema(it, { keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef }) {\n    if (keyword !== undefined && schema !== undefined) {\n        throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');\n    }\n    if (keyword !== undefined) {\n        const sch = it.schema[keyword];\n        return schemaProp === undefined\n            ? {\n                schema: sch,\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n            }\n            : {\n                schema: sch[schemaProp],\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}${(0, codegen_1.getProperty)(schemaProp)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}/${(0, util_1.escapeFragment)(schemaProp)}`,\n            };\n    }\n    if (schema !== undefined) {\n        if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n            throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');\n        }\n        return {\n            schema,\n            schemaPath,\n            topSchemaRef,\n            errSchemaPath,\n        };\n    }\n    throw new Error('either \"keyword\" or \"schema\" must be passed');\n}\nexports.getSubschema = getSubschema;\nfunction extendSubschemaData(subschema, it, { dataProp, dataPropType: dpType, data, dataTypes, propertyName }) {\n    if (data !== undefined && dataProp !== undefined) {\n        throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');\n    }\n    const { gen } = it;\n    if (dataProp !== undefined) {\n        const { errorPath, dataPathArr, opts } = it;\n        const nextData = gen.let(\"data\", (0, codegen_1._) `${it.data}${(0, codegen_1.getProperty)(dataProp)}`, true);\n        dataContextProps(nextData);\n        subschema.errorPath = (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(dataProp, dpType, opts.jsPropertySyntax)}`;\n        subschema.parentDataProperty = (0, codegen_1._) `${dataProp}`;\n        subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty];\n    }\n    if (data !== undefined) {\n        const nextData = data instanceof codegen_1.Name ? data : gen.let(\"data\", data, true); // replaceable if used once?\n        dataContextProps(nextData);\n        if (propertyName !== undefined)\n            subschema.propertyName = propertyName;\n        // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n    }\n    if (dataTypes)\n        subschema.dataTypes = dataTypes;\n    function dataContextProps(_nextData) {\n        subschema.data = _nextData;\n        subschema.dataLevel = it.dataLevel + 1;\n        subschema.dataTypes = [];\n        it.definedProperties = new Set();\n        subschema.parentData = it.data;\n        subschema.dataNames = [...it.dataNames, _nextData];\n    }\n}\nexports.extendSubschemaData = extendSubschemaData;\nfunction extendSubschemaMode(subschema, { jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors }) {\n    if (compositeRule !== undefined)\n        subschema.compositeRule = compositeRule;\n    if (createErrors !== undefined)\n        subschema.createErrors = createErrors;\n    if (allErrors !== undefined)\n        subschema.allErrors = allErrors;\n    subschema.jtdDiscriminator = jtdDiscriminator; // not inherited\n    subschema.jtdMetadata = jtdMetadata; // not inherited\n}\nexports.extendSubschemaMode = extendSubschemaMode;\n//# sourceMappingURL=subschema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst validation_error_1 = require(\"./runtime/validation_error\");\nconst ref_error_1 = require(\"./compile/ref_error\");\nconst rules_1 = require(\"./compile/rules\");\nconst compile_1 = require(\"./compile\");\nconst codegen_2 = require(\"./compile/codegen\");\nconst resolve_1 = require(\"./compile/resolve\");\nconst dataType_1 = require(\"./compile/validate/dataType\");\nconst util_1 = require(\"./compile/util\");\nconst $dataRefSchema = require(\"./refs/data.json\");\nconst defaultRegExp = (str, flags) => new RegExp(str, flags);\ndefaultRegExp.code = \"new RegExp\";\nconst META_IGNORE_OPTIONS = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"];\nconst EXT_SCOPE_NAMES = new Set([\n    \"validate\",\n    \"serialize\",\n    \"parse\",\n    \"wrapper\",\n    \"root\",\n    \"schema\",\n    \"keyword\",\n    \"pattern\",\n    \"formats\",\n    \"validate$data\",\n    \"func\",\n    \"obj\",\n    \"Error\",\n]);\nconst removedOptions = {\n    errorDataPath: \"\",\n    format: \"`validateFormats: false` can be used instead.\",\n    nullable: '\"nullable\" keyword is supported by default.',\n    jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n    extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n    missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n    processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n    sourceCode: \"Use option `code: {source: true}`\",\n    strictDefaults: \"It is default now, see option `strict`.\",\n    strictKeywords: \"It is default now, see option `strict`.\",\n    uniqueItems: '\"uniqueItems\" keyword is always validated.',\n    unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n    cache: \"Map is used as cache, schema object as key.\",\n    serialize: \"Map is used as cache, schema object as key.\",\n    ajvErrors: \"It is default now.\",\n};\nconst deprecatedOptions = {\n    ignoreKeywordsWithRef: \"\",\n    jsPropertySyntax: \"\",\n    unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n};\nconst MAX_EXPRESSION = 200;\n// eslint-disable-next-line complexity\nfunction requiredOptions(o) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z;\n    const s = o.strict;\n    const _optz = (_a = o.code) === null || _a === void 0 ? void 0 : _a.optimize;\n    const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0;\n    const regExp = (_c = (_b = o.code) === null || _b === void 0 ? void 0 : _b.regExp) !== null && _c !== void 0 ? _c : defaultRegExp;\n    return {\n        strictSchema: (_e = (_d = o.strictSchema) !== null && _d !== void 0 ? _d : s) !== null && _e !== void 0 ? _e : true,\n        strictNumbers: (_g = (_f = o.strictNumbers) !== null && _f !== void 0 ? _f : s) !== null && _g !== void 0 ? _g : true,\n        strictTypes: (_j = (_h = o.strictTypes) !== null && _h !== void 0 ? _h : s) !== null && _j !== void 0 ? _j : \"log\",\n        strictTuples: (_l = (_k = o.strictTuples) !== null && _k !== void 0 ? _k : s) !== null && _l !== void 0 ? _l : \"log\",\n        strictRequired: (_o = (_m = o.strictRequired) !== null && _m !== void 0 ? _m : s) !== null && _o !== void 0 ? _o : false,\n        code: o.code ? { ...o.code, optimize, regExp } : { optimize, regExp },\n        loopRequired: (_p = o.loopRequired) !== null && _p !== void 0 ? _p : MAX_EXPRESSION,\n        loopEnum: (_q = o.loopEnum) !== null && _q !== void 0 ? _q : MAX_EXPRESSION,\n        meta: (_r = o.meta) !== null && _r !== void 0 ? _r : true,\n        messages: (_s = o.messages) !== null && _s !== void 0 ? _s : true,\n        inlineRefs: (_t = o.inlineRefs) !== null && _t !== void 0 ? _t : true,\n        schemaId: (_u = o.schemaId) !== null && _u !== void 0 ? _u : \"$id\",\n        addUsedSchema: (_v = o.addUsedSchema) !== null && _v !== void 0 ? _v : true,\n        validateSchema: (_w = o.validateSchema) !== null && _w !== void 0 ? _w : true,\n        validateFormats: (_x = o.validateFormats) !== null && _x !== void 0 ? _x : true,\n        unicodeRegExp: (_y = o.unicodeRegExp) !== null && _y !== void 0 ? _y : true,\n        int32range: (_z = o.int32range) !== null && _z !== void 0 ? _z : true,\n    };\n}\nclass Ajv {\n    constructor(opts = {}) {\n        this.schemas = {};\n        this.refs = {};\n        this.formats = {};\n        this._compilations = new Set();\n        this._loading = {};\n        this._cache = new Map();\n        opts = this.opts = { ...opts, ...requiredOptions(opts) };\n        const { es5, lines } = this.opts.code;\n        this.scope = new codegen_2.ValueScope({ scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines });\n        this.logger = getLogger(opts.logger);\n        const formatOpt = opts.validateFormats;\n        opts.validateFormats = false;\n        this.RULES = (0, rules_1.getRules)();\n        checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\");\n        checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\");\n        this._metaOpts = getMetaSchemaOptions.call(this);\n        if (opts.formats)\n            addInitialFormats.call(this);\n        this._addVocabularies();\n        this._addDefaultMetaSchema();\n        if (opts.keywords)\n            addInitialKeywords.call(this, opts.keywords);\n        if (typeof opts.meta == \"object\")\n            this.addMetaSchema(opts.meta);\n        addInitialSchemas.call(this);\n        opts.validateFormats = formatOpt;\n    }\n    _addVocabularies() {\n        this.addKeyword(\"$async\");\n    }\n    _addDefaultMetaSchema() {\n        const { $data, meta, schemaId } = this.opts;\n        let _dataRefSchema = $dataRefSchema;\n        if (schemaId === \"id\") {\n            _dataRefSchema = { ...$dataRefSchema };\n            _dataRefSchema.id = _dataRefSchema.$id;\n            delete _dataRefSchema.$id;\n        }\n        if (meta && $data)\n            this.addMetaSchema(_dataRefSchema, _dataRefSchema[schemaId], false);\n    }\n    defaultMeta() {\n        const { meta, schemaId } = this.opts;\n        return (this.opts.defaultMeta = typeof meta == \"object\" ? meta[schemaId] || meta : undefined);\n    }\n    validate(schemaKeyRef, // key, ref or schema object\n    data // to be validated\n    ) {\n        let v;\n        if (typeof schemaKeyRef == \"string\") {\n            v = this.getSchema(schemaKeyRef);\n            if (!v)\n                throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`);\n        }\n        else {\n            v = this.compile(schemaKeyRef);\n        }\n        const valid = v(data);\n        if (!(\"$async\" in v))\n            this.errors = v.errors;\n        return valid;\n    }\n    compile(schema, _meta) {\n        const sch = this._addSchema(schema, _meta);\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    compileAsync(schema, meta) {\n        if (typeof this.opts.loadSchema != \"function\") {\n            throw new Error(\"options.loadSchema should be a function\");\n        }\n        const { loadSchema } = this.opts;\n        return runCompileAsync.call(this, schema, meta);\n        async function runCompileAsync(_schema, _meta) {\n            await loadMetaSchema.call(this, _schema.$schema);\n            const sch = this._addSchema(_schema, _meta);\n            return sch.validate || _compileAsync.call(this, sch);\n        }\n        async function loadMetaSchema($ref) {\n            if ($ref && !this.getSchema($ref)) {\n                await runCompileAsync.call(this, { $ref }, true);\n            }\n        }\n        async function _compileAsync(sch) {\n            try {\n                return this._compileSchemaEnv(sch);\n            }\n            catch (e) {\n                if (!(e instanceof ref_error_1.default))\n                    throw e;\n                checkLoaded.call(this, e);\n                await loadMissingSchema.call(this, e.missingSchema);\n                return _compileAsync.call(this, sch);\n            }\n        }\n        function checkLoaded({ missingSchema: ref, missingRef }) {\n            if (this.refs[ref]) {\n                throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`);\n            }\n        }\n        async function loadMissingSchema(ref) {\n            const _schema = await _loadSchema.call(this, ref);\n            if (!this.refs[ref])\n                await loadMetaSchema.call(this, _schema.$schema);\n            if (!this.refs[ref])\n                this.addSchema(_schema, ref, meta);\n        }\n        async function _loadSchema(ref) {\n            const p = this._loading[ref];\n            if (p)\n                return p;\n            try {\n                return await (this._loading[ref] = loadSchema(ref));\n            }\n            finally {\n                delete this._loading[ref];\n            }\n        }\n    }\n    // Adds schema to the instance\n    addSchema(schema, // If array is passed, `key` will be ignored\n    key, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n    ) {\n        if (Array.isArray(schema)) {\n            for (const sch of schema)\n                this.addSchema(sch, undefined, _meta, _validateSchema);\n            return this;\n        }\n        let id;\n        if (typeof schema === \"object\") {\n            const { schemaId } = this.opts;\n            id = schema[schemaId];\n            if (id !== undefined && typeof id != \"string\") {\n                throw new Error(`schema ${schemaId} must be string`);\n            }\n        }\n        key = (0, resolve_1.normalizeId)(key || id);\n        this._checkUnique(key);\n        this.schemas[key] = this._addSchema(schema, _meta, key, _validateSchema, true);\n        return this;\n    }\n    // Add schema that will be used to validate other schemas\n    // options in META_IGNORE_OPTIONS are alway set to false\n    addMetaSchema(schema, key, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n    ) {\n        this.addSchema(schema, key, true, _validateSchema);\n        return this;\n    }\n    //  Validate schema against its meta-schema\n    validateSchema(schema, throwOrLogError) {\n        if (typeof schema == \"boolean\")\n            return true;\n        let $schema;\n        $schema = schema.$schema;\n        if ($schema !== undefined && typeof $schema != \"string\") {\n            throw new Error(\"$schema must be a string\");\n        }\n        $schema = $schema || this.opts.defaultMeta || this.defaultMeta();\n        if (!$schema) {\n            this.logger.warn(\"meta-schema not available\");\n            this.errors = null;\n            return true;\n        }\n        const valid = this.validate($schema, schema);\n        if (!valid && throwOrLogError) {\n            const message = \"schema is invalid: \" + this.errorsText();\n            if (this.opts.validateSchema === \"log\")\n                this.logger.error(message);\n            else\n                throw new Error(message);\n        }\n        return valid;\n    }\n    // Get compiled schema by `key` or `ref`.\n    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n    getSchema(keyRef) {\n        let sch;\n        while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\")\n            keyRef = sch;\n        if (sch === undefined) {\n            const { schemaId } = this.opts;\n            const root = new compile_1.SchemaEnv({ schema: {}, schemaId });\n            sch = compile_1.resolveSchema.call(this, root, keyRef);\n            if (!sch)\n                return;\n            this.refs[keyRef] = sch;\n        }\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    // Remove cached schema(s).\n    // If no parameter is passed all schemas but meta-schemas are removed.\n    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n    removeSchema(schemaKeyRef) {\n        if (schemaKeyRef instanceof RegExp) {\n            this._removeAllSchemas(this.schemas, schemaKeyRef);\n            this._removeAllSchemas(this.refs, schemaKeyRef);\n            return this;\n        }\n        switch (typeof schemaKeyRef) {\n            case \"undefined\":\n                this._removeAllSchemas(this.schemas);\n                this._removeAllSchemas(this.refs);\n                this._cache.clear();\n                return this;\n            case \"string\": {\n                const sch = getSchEnv.call(this, schemaKeyRef);\n                if (typeof sch == \"object\")\n                    this._cache.delete(sch.schema);\n                delete this.schemas[schemaKeyRef];\n                delete this.refs[schemaKeyRef];\n                return this;\n            }\n            case \"object\": {\n                const cacheKey = schemaKeyRef;\n                this._cache.delete(cacheKey);\n                let id = schemaKeyRef[this.opts.schemaId];\n                if (id) {\n                    id = (0, resolve_1.normalizeId)(id);\n                    delete this.schemas[id];\n                    delete this.refs[id];\n                }\n                return this;\n            }\n            default:\n                throw new Error(\"ajv.removeSchema: invalid parameter\");\n        }\n    }\n    // add \"vocabulary\" - a collection of keywords\n    addVocabulary(definitions) {\n        for (const def of definitions)\n            this.addKeyword(def);\n        return this;\n    }\n    addKeyword(kwdOrDef, def // deprecated\n    ) {\n        let keyword;\n        if (typeof kwdOrDef == \"string\") {\n            keyword = kwdOrDef;\n            if (typeof def == \"object\") {\n                this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\");\n                def.keyword = keyword;\n            }\n        }\n        else if (typeof kwdOrDef == \"object\" && def === undefined) {\n            def = kwdOrDef;\n            keyword = def.keyword;\n            if (Array.isArray(keyword) && !keyword.length) {\n                throw new Error(\"addKeywords: keyword must be string or non-empty array\");\n            }\n        }\n        else {\n            throw new Error(\"invalid addKeywords parameters\");\n        }\n        checkKeyword.call(this, keyword, def);\n        if (!def) {\n            (0, util_1.eachItem)(keyword, (kwd) => addRule.call(this, kwd));\n            return this;\n        }\n        keywordMetaschema.call(this, def);\n        const definition = {\n            ...def,\n            type: (0, dataType_1.getJSONTypes)(def.type),\n            schemaType: (0, dataType_1.getJSONTypes)(def.schemaType),\n        };\n        (0, util_1.eachItem)(keyword, definition.type.length === 0\n            ? (k) => addRule.call(this, k, definition)\n            : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t)));\n        return this;\n    }\n    getKeyword(keyword) {\n        const rule = this.RULES.all[keyword];\n        return typeof rule == \"object\" ? rule.definition : !!rule;\n    }\n    // Remove keyword\n    removeKeyword(keyword) {\n        // TODO return type should be Ajv\n        const { RULES } = this;\n        delete RULES.keywords[keyword];\n        delete RULES.all[keyword];\n        for (const group of RULES.rules) {\n            const i = group.rules.findIndex((rule) => rule.keyword === keyword);\n            if (i >= 0)\n                group.rules.splice(i, 1);\n        }\n        return this;\n    }\n    // Add format\n    addFormat(name, format) {\n        if (typeof format == \"string\")\n            format = new RegExp(format);\n        this.formats[name] = format;\n        return this;\n    }\n    errorsText(errors = this.errors, // optional array of validation errors\n    { separator = \", \", dataVar = \"data\" } = {} // optional options with properties `separator` and `dataVar`\n    ) {\n        if (!errors || errors.length === 0)\n            return \"No errors\";\n        return errors\n            .map((e) => `${dataVar}${e.instancePath} ${e.message}`)\n            .reduce((text, msg) => text + separator + msg);\n    }\n    $dataMetaSchema(metaSchema, keywordsJsonPointers) {\n        const rules = this.RULES.all;\n        metaSchema = JSON.parse(JSON.stringify(metaSchema));\n        for (const jsonPointer of keywordsJsonPointers) {\n            const segments = jsonPointer.split(\"/\").slice(1); // first segment is an empty string\n            let keywords = metaSchema;\n            for (const seg of segments)\n                keywords = keywords[seg];\n            for (const key in rules) {\n                const rule = rules[key];\n                if (typeof rule != \"object\")\n                    continue;\n                const { $data } = rule.definition;\n                const schema = keywords[key];\n                if ($data && schema)\n                    keywords[key] = schemaOrData(schema);\n            }\n        }\n        return metaSchema;\n    }\n    _removeAllSchemas(schemas, regex) {\n        for (const keyRef in schemas) {\n            const sch = schemas[keyRef];\n            if (!regex || regex.test(keyRef)) {\n                if (typeof sch == \"string\") {\n                    delete schemas[keyRef];\n                }\n                else if (sch && !sch.meta) {\n                    this._cache.delete(sch.schema);\n                    delete schemas[keyRef];\n                }\n            }\n        }\n    }\n    _addSchema(schema, meta, baseId, validateSchema = this.opts.validateSchema, addSchema = this.opts.addUsedSchema) {\n        let id;\n        const { schemaId } = this.opts;\n        if (typeof schema == \"object\") {\n            id = schema[schemaId];\n        }\n        else {\n            if (this.opts.jtd)\n                throw new Error(\"schema must be object\");\n            else if (typeof schema != \"boolean\")\n                throw new Error(\"schema must be object or boolean\");\n        }\n        let sch = this._cache.get(schema);\n        if (sch !== undefined)\n            return sch;\n        baseId = (0, resolve_1.normalizeId)(id || baseId);\n        const localRefs = resolve_1.getSchemaRefs.call(this, schema, baseId);\n        sch = new compile_1.SchemaEnv({ schema, schemaId, meta, baseId, localRefs });\n        this._cache.set(sch.schema, sch);\n        if (addSchema && !baseId.startsWith(\"#\")) {\n            // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n            if (baseId)\n                this._checkUnique(baseId);\n            this.refs[baseId] = sch;\n        }\n        if (validateSchema)\n            this.validateSchema(schema, true);\n        return sch;\n    }\n    _checkUnique(id) {\n        if (this.schemas[id] || this.refs[id]) {\n            throw new Error(`schema with key or id \"${id}\" already exists`);\n        }\n    }\n    _compileSchemaEnv(sch) {\n        if (sch.meta)\n            this._compileMetaSchema(sch);\n        else\n            compile_1.compileSchema.call(this, sch);\n        /* istanbul ignore if */\n        if (!sch.validate)\n            throw new Error(\"ajv implementation error\");\n        return sch.validate;\n    }\n    _compileMetaSchema(sch) {\n        const currentOpts = this.opts;\n        this.opts = this._metaOpts;\n        try {\n            compile_1.compileSchema.call(this, sch);\n        }\n        finally {\n            this.opts = currentOpts;\n        }\n    }\n}\nexports.default = Ajv;\nAjv.ValidationError = validation_error_1.default;\nAjv.MissingRefError = ref_error_1.default;\nfunction checkOptions(checkOpts, options, msg, log = \"error\") {\n    for (const key in checkOpts) {\n        const opt = key;\n        if (opt in options)\n            this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`);\n    }\n}\nfunction getSchEnv(keyRef) {\n    keyRef = (0, resolve_1.normalizeId)(keyRef); // TODO tests fail without this line\n    return this.schemas[keyRef] || this.refs[keyRef];\n}\nfunction addInitialSchemas() {\n    const optsSchemas = this.opts.schemas;\n    if (!optsSchemas)\n        return;\n    if (Array.isArray(optsSchemas))\n        this.addSchema(optsSchemas);\n    else\n        for (const key in optsSchemas)\n            this.addSchema(optsSchemas[key], key);\n}\nfunction addInitialFormats() {\n    for (const name in this.opts.formats) {\n        const format = this.opts.formats[name];\n        if (format)\n            this.addFormat(name, format);\n    }\n}\nfunction addInitialKeywords(defs) {\n    if (Array.isArray(defs)) {\n        this.addVocabulary(defs);\n        return;\n    }\n    this.logger.warn(\"keywords option as map is deprecated, pass array\");\n    for (const keyword in defs) {\n        const def = defs[keyword];\n        if (!def.keyword)\n            def.keyword = keyword;\n        this.addKeyword(def);\n    }\n}\nfunction getMetaSchemaOptions() {\n    const metaOpts = { ...this.opts };\n    for (const opt of META_IGNORE_OPTIONS)\n        delete metaOpts[opt];\n    return metaOpts;\n}\nconst noLogs = { log() { }, warn() { }, error() { } };\nfunction getLogger(logger) {\n    if (logger === false)\n        return noLogs;\n    if (logger === undefined)\n        return console;\n    if (logger.log && logger.warn && logger.error)\n        return logger;\n    throw new Error(\"logger must implement log, warn and error methods\");\n}\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i;\nfunction checkKeyword(keyword, def) {\n    const { RULES } = this;\n    (0, util_1.eachItem)(keyword, (kwd) => {\n        if (RULES.keywords[kwd])\n            throw new Error(`Keyword ${kwd} is already defined`);\n        if (!KEYWORD_NAME.test(kwd))\n            throw new Error(`Keyword ${kwd} has invalid name`);\n    });\n    if (!def)\n        return;\n    if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n        throw new Error('$data keyword must have \"code\" or \"validate\" function');\n    }\n}\nfunction addRule(keyword, definition, dataType) {\n    var _a;\n    const post = definition === null || definition === void 0 ? void 0 : definition.post;\n    if (dataType && post)\n        throw new Error('keyword with \"post\" flag cannot have \"type\"');\n    const { RULES } = this;\n    let ruleGroup = post ? RULES.post : RULES.rules.find(({ type: t }) => t === dataType);\n    if (!ruleGroup) {\n        ruleGroup = { type: dataType, rules: [] };\n        RULES.rules.push(ruleGroup);\n    }\n    RULES.keywords[keyword] = true;\n    if (!definition)\n        return;\n    const rule = {\n        keyword,\n        definition: {\n            ...definition,\n            type: (0, dataType_1.getJSONTypes)(definition.type),\n            schemaType: (0, dataType_1.getJSONTypes)(definition.schemaType),\n        },\n    };\n    if (definition.before)\n        addBeforeRule.call(this, ruleGroup, rule, definition.before);\n    else\n        ruleGroup.rules.push(rule);\n    RULES.all[keyword] = rule;\n    (_a = definition.implements) === null || _a === void 0 ? void 0 : _a.forEach((kwd) => this.addKeyword(kwd));\n}\nfunction addBeforeRule(ruleGroup, rule, before) {\n    const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before);\n    if (i >= 0) {\n        ruleGroup.rules.splice(i, 0, rule);\n    }\n    else {\n        ruleGroup.rules.push(rule);\n        this.logger.warn(`rule ${before} is not defined`);\n    }\n}\nfunction keywordMetaschema(def) {\n    let { metaSchema } = def;\n    if (metaSchema === undefined)\n        return;\n    if (def.$data && this.opts.$data)\n        metaSchema = schemaOrData(metaSchema);\n    def.validateSchema = this.compile(metaSchema, true);\n}\nconst $dataRef = {\n    $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n};\nfunction schemaOrData(schema) {\n    return { anyOf: [schema, $dataRef] };\n}\n//# sourceMappingURL=core.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://github.com/ajv-validator/ajv/issues/889\nconst equal = require(\"fast-deep-equal\");\nequal.code = 'require(\"ajv/dist/runtime/equal\").default';\nexports.default = equal;\n//# sourceMappingURL=equal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nfunction ucs2length(str) {\n    const len = str.length;\n    let length = 0;\n    let pos = 0;\n    let value;\n    while (pos < len) {\n        length++;\n        value = str.charCodeAt(pos++);\n        if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xfc00) === 0xdc00)\n                pos++; // low surrogate\n        }\n    }\n    return length;\n}\nexports.default = ucs2length;\nucs2length.code = 'require(\"ajv/dist/runtime/ucs2length\").default';\n//# sourceMappingURL=ucs2length.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ValidationError extends Error {\n    constructor(errors) {\n        super(\"validation failed\");\n        this.errors = errors;\n        this.ajv = this.validation = true;\n    }\n}\nexports.default = ValidationError;\n//# sourceMappingURL=validation_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateAdditionalItems = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"additionalItems\",\n    type: \"array\",\n    schemaType: [\"boolean\", \"object\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { parentSchema, it } = cxt;\n        const { items } = parentSchema;\n        if (!Array.isArray(items)) {\n            (0, util_1.checkStrictMode)(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas');\n            return;\n        }\n        validateAdditionalItems(cxt, items);\n    },\n};\nfunction validateAdditionalItems(cxt, items) {\n    const { gen, schema, data, keyword, it } = cxt;\n    it.items = true;\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    if (schema === false) {\n        cxt.setParams({ len: items.length });\n        cxt.pass((0, codegen_1._) `${len} <= ${items.length}`);\n    }\n    else if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n        const valid = gen.var(\"valid\", (0, codegen_1._) `${len} <= ${items.length}`); // TODO var\n        gen.if((0, codegen_1.not)(valid), () => validateItems(valid));\n        cxt.ok(valid);\n    }\n    function validateItems(valid) {\n        gen.forRange(\"i\", items.length, len, (i) => {\n            cxt.subschema({ keyword, dataProp: i, dataPropType: util_1.Type.Num }, valid);\n            if (!it.allErrors)\n                gen.if((0, codegen_1.not)(valid), () => gen.break());\n        });\n    }\n}\nexports.validateAdditionalItems = validateAdditionalItems;\nexports.default = def;\n//# sourceMappingURL=additionalItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must NOT have additional properties\",\n    params: ({ params }) => (0, codegen_1._) `{additionalProperty: ${params.additionalProperty}}`,\n};\nconst def = {\n    keyword: \"additionalProperties\",\n    type: [\"object\"],\n    schemaType: [\"boolean\", \"object\"],\n    allowUndefined: true,\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, errsCount, it } = cxt;\n        /* istanbul ignore if */\n        if (!errsCount)\n            throw new Error(\"ajv implementation error\");\n        const { allErrors, opts } = it;\n        it.props = true;\n        if (opts.removeAdditional !== \"all\" && (0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const props = (0, code_1.allSchemaProperties)(parentSchema.properties);\n        const patProps = (0, code_1.allSchemaProperties)(parentSchema.patternProperties);\n        checkAdditionalProperties();\n        cxt.ok((0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n        function checkAdditionalProperties() {\n            gen.forIn(\"key\", data, (key) => {\n                if (!props.length && !patProps.length)\n                    additionalPropertyCode(key);\n                else\n                    gen.if(isAdditional(key), () => additionalPropertyCode(key));\n            });\n        }\n        function isAdditional(key) {\n            let definedProp;\n            if (props.length > 8) {\n                // TODO maybe an option instead of hard-coded 8?\n                const propsSchema = (0, util_1.schemaRefOrVal)(it, parentSchema.properties, \"properties\");\n                definedProp = (0, code_1.isOwnProperty)(gen, propsSchema, key);\n            }\n            else if (props.length) {\n                definedProp = (0, codegen_1.or)(...props.map((p) => (0, codegen_1._) `${key} === ${p}`));\n            }\n            else {\n                definedProp = codegen_1.nil;\n            }\n            if (patProps.length) {\n                definedProp = (0, codegen_1.or)(definedProp, ...patProps.map((p) => (0, codegen_1._) `${(0, code_1.usePattern)(cxt, p)}.test(${key})`));\n            }\n            return (0, codegen_1.not)(definedProp);\n        }\n        function deleteAdditional(key) {\n            gen.code((0, codegen_1._) `delete ${data}[${key}]`);\n        }\n        function additionalPropertyCode(key) {\n            if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n                deleteAdditional(key);\n                return;\n            }\n            if (schema === false) {\n                cxt.setParams({ additionalProperty: key });\n                cxt.error();\n                if (!allErrors)\n                    gen.break();\n                return;\n            }\n            if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n                const valid = gen.name(\"valid\");\n                if (opts.removeAdditional === \"failing\") {\n                    applyAdditionalSchema(key, valid, false);\n                    gen.if((0, codegen_1.not)(valid), () => {\n                        cxt.reset();\n                        deleteAdditional(key);\n                    });\n                }\n                else {\n                    applyAdditionalSchema(key, valid);\n                    if (!allErrors)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                }\n            }\n        }\n        function applyAdditionalSchema(key, valid, errors) {\n            const subschema = {\n                keyword: \"additionalProperties\",\n                dataProp: key,\n                dataPropType: util_1.Type.Str,\n            };\n            if (errors === false) {\n                Object.assign(subschema, {\n                    compositeRule: true,\n                    createErrors: false,\n                    allErrors: false,\n                });\n            }\n            cxt.subschema(subschema, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"allOf\",\n    schemaType: \"array\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const valid = gen.name(\"valid\");\n        schema.forEach((sch, i) => {\n            if ((0, util_1.alwaysValidSchema)(it, sch))\n                return;\n            const schCxt = cxt.subschema({ keyword: \"allOf\", schemaProp: i }, valid);\n            cxt.ok(valid);\n            cxt.mergeEvaluated(schCxt);\n        });\n    },\n};\nexports.default = def;\n//# sourceMappingURL=allOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"anyOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    code: code_1.validateUnion,\n    error: { message: \"must match a schema in anyOf\" },\n};\nexports.default = def;\n//# sourceMappingURL=anyOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { min, max } }) => max === undefined\n        ? (0, codegen_1.str) `must contain at least ${min} valid item(s)`\n        : (0, codegen_1.str) `must contain at least ${min} and no more than ${max} valid item(s)`,\n    params: ({ params: { min, max } }) => max === undefined ? (0, codegen_1._) `{minContains: ${min}}` : (0, codegen_1._) `{minContains: ${min}, maxContains: ${max}}`,\n};\nconst def = {\n    keyword: \"contains\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        let min;\n        let max;\n        const { minContains, maxContains } = parentSchema;\n        if (it.opts.next) {\n            min = minContains === undefined ? 1 : minContains;\n            max = maxContains;\n        }\n        else {\n            min = 1;\n        }\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        cxt.setParams({ min, max });\n        if (max === undefined && min === 0) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`);\n            return;\n        }\n        if (max !== undefined && min > max) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" > \"maxContains\" is always invalid`);\n            cxt.fail();\n            return;\n        }\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            let cond = (0, codegen_1._) `${len} >= ${min}`;\n            if (max !== undefined)\n                cond = (0, codegen_1._) `${cond} && ${len} <= ${max}`;\n            cxt.pass(cond);\n            return;\n        }\n        it.items = true;\n        const valid = gen.name(\"valid\");\n        if (max === undefined && min === 1) {\n            validateItems(valid, () => gen.if(valid, () => gen.break()));\n        }\n        else if (min === 0) {\n            gen.let(valid, true);\n            if (max !== undefined)\n                gen.if((0, codegen_1._) `${data}.length > 0`, validateItemsWithCount);\n        }\n        else {\n            gen.let(valid, false);\n            validateItemsWithCount();\n        }\n        cxt.result(valid, () => cxt.reset());\n        function validateItemsWithCount() {\n            const schValid = gen.name(\"_valid\");\n            const count = gen.let(\"count\", 0);\n            validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)));\n        }\n        function validateItems(_valid, block) {\n            gen.forRange(\"i\", 0, len, (i) => {\n                cxt.subschema({\n                    keyword: \"contains\",\n                    dataProp: i,\n                    dataPropType: util_1.Type.Num,\n                    compositeRule: true,\n                }, _valid);\n                block();\n            });\n        }\n        function checkLimits(count) {\n            gen.code((0, codegen_1._) `${count}++`);\n            if (max === undefined) {\n                gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true).break());\n            }\n            else {\n                gen.if((0, codegen_1._) `${count} > ${max}`, () => gen.assign(valid, false).break());\n                if (min === 1)\n                    gen.assign(valid, true);\n                else\n                    gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true));\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nexports.error = {\n    message: ({ params: { property, depsCount, deps } }) => {\n        const property_ies = depsCount === 1 ? \"property\" : \"properties\";\n        return (0, codegen_1.str) `must have ${property_ies} ${deps} when property ${property} is present`;\n    },\n    params: ({ params: { property, depsCount, deps, missingProperty } }) => (0, codegen_1._) `{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n};\nconst def = {\n    keyword: \"dependencies\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: exports.error,\n    code(cxt) {\n        const [propDeps, schDeps] = splitDependencies(cxt);\n        validatePropertyDeps(cxt, propDeps);\n        validateSchemaDeps(cxt, schDeps);\n    },\n};\nfunction splitDependencies({ schema }) {\n    const propertyDeps = {};\n    const schemaDeps = {};\n    for (const key in schema) {\n        if (key === \"__proto__\")\n            continue;\n        const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;\n        deps[key] = schema[key];\n    }\n    return [propertyDeps, schemaDeps];\n}\nfunction validatePropertyDeps(cxt, propertyDeps = cxt.schema) {\n    const { gen, data, it } = cxt;\n    if (Object.keys(propertyDeps).length === 0)\n        return;\n    const missing = gen.let(\"missing\");\n    for (const prop in propertyDeps) {\n        const deps = propertyDeps[prop];\n        if (deps.length === 0)\n            continue;\n        const hasProperty = (0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties);\n        cxt.setParams({\n            property: prop,\n            depsCount: deps.length,\n            deps: deps.join(\", \"),\n        });\n        if (it.allErrors) {\n            gen.if(hasProperty, () => {\n                for (const depProp of deps) {\n                    (0, code_1.checkReportMissingProp)(cxt, depProp);\n                }\n            });\n        }\n        else {\n            gen.if((0, codegen_1._) `${hasProperty} && (${(0, code_1.checkMissingProp)(cxt, deps, missing)})`);\n            (0, code_1.reportMissingProp)(cxt, missing);\n            gen.else();\n        }\n    }\n}\nexports.validatePropertyDeps = validatePropertyDeps;\nfunction validateSchemaDeps(cxt, schemaDeps = cxt.schema) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    for (const prop in schemaDeps) {\n        if ((0, util_1.alwaysValidSchema)(it, schemaDeps[prop]))\n            continue;\n        gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties), () => {\n            const schCxt = cxt.subschema({ keyword, schemaProp: prop }, valid);\n            cxt.mergeValidEvaluated(schCxt, valid);\n        }, () => gen.var(valid, true) // TODO var\n        );\n        cxt.ok(valid);\n    }\n}\nexports.validateSchemaDeps = validateSchemaDeps;\nexports.default = def;\n//# sourceMappingURL=dependencies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params }) => (0, codegen_1.str) `must match \"${params.ifClause}\" schema`,\n    params: ({ params }) => (0, codegen_1._) `{failingKeyword: ${params.ifClause}}`,\n};\nconst def = {\n    keyword: \"if\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, parentSchema, it } = cxt;\n        if (parentSchema.then === undefined && parentSchema.else === undefined) {\n            (0, util_1.checkStrictMode)(it, '\"if\" without \"then\" and \"else\" is ignored');\n        }\n        const hasThen = hasSchema(it, \"then\");\n        const hasElse = hasSchema(it, \"else\");\n        if (!hasThen && !hasElse)\n            return;\n        const valid = gen.let(\"valid\", true);\n        const schValid = gen.name(\"_valid\");\n        validateIf();\n        cxt.reset();\n        if (hasThen && hasElse) {\n            const ifClause = gen.let(\"ifClause\");\n            cxt.setParams({ ifClause });\n            gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause));\n        }\n        else if (hasThen) {\n            gen.if(schValid, validateClause(\"then\"));\n        }\n        else {\n            gen.if((0, codegen_1.not)(schValid), validateClause(\"else\"));\n        }\n        cxt.pass(valid, () => cxt.error(true));\n        function validateIf() {\n            const schCxt = cxt.subschema({\n                keyword: \"if\",\n                compositeRule: true,\n                createErrors: false,\n                allErrors: false,\n            }, schValid);\n            cxt.mergeEvaluated(schCxt);\n        }\n        function validateClause(keyword, ifClause) {\n            return () => {\n                const schCxt = cxt.subschema({ keyword }, schValid);\n                gen.assign(valid, schValid);\n                cxt.mergeValidEvaluated(schCxt, valid);\n                if (ifClause)\n                    gen.assign(ifClause, (0, codegen_1._) `${keyword}`);\n                else\n                    cxt.setParams({ ifClause: keyword });\n            };\n        }\n    },\n};\nfunction hasSchema(it, keyword) {\n    const schema = it.schema[keyword];\n    return schema !== undefined && !(0, util_1.alwaysValidSchema)(it, schema);\n}\nexports.default = def;\n//# sourceMappingURL=if.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst additionalItems_1 = require(\"./additionalItems\");\nconst prefixItems_1 = require(\"./prefixItems\");\nconst items_1 = require(\"./items\");\nconst items2020_1 = require(\"./items2020\");\nconst contains_1 = require(\"./contains\");\nconst dependencies_1 = require(\"./dependencies\");\nconst propertyNames_1 = require(\"./propertyNames\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst properties_1 = require(\"./properties\");\nconst patternProperties_1 = require(\"./patternProperties\");\nconst not_1 = require(\"./not\");\nconst anyOf_1 = require(\"./anyOf\");\nconst oneOf_1 = require(\"./oneOf\");\nconst allOf_1 = require(\"./allOf\");\nconst if_1 = require(\"./if\");\nconst thenElse_1 = require(\"./thenElse\");\nfunction getApplicator(draft2020 = false) {\n    const applicator = [\n        // any\n        not_1.default,\n        anyOf_1.default,\n        oneOf_1.default,\n        allOf_1.default,\n        if_1.default,\n        thenElse_1.default,\n        // object\n        propertyNames_1.default,\n        additionalProperties_1.default,\n        dependencies_1.default,\n        properties_1.default,\n        patternProperties_1.default,\n    ];\n    // array\n    if (draft2020)\n        applicator.push(prefixItems_1.default, items2020_1.default);\n    else\n        applicator.push(additionalItems_1.default, items_1.default);\n    applicator.push(contains_1.default);\n    return applicator;\n}\nexports.default = getApplicator;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateTuple = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"array\", \"boolean\"],\n    before: \"uniqueItems\",\n    code(cxt) {\n        const { schema, it } = cxt;\n        if (Array.isArray(schema))\n            return validateTuple(cxt, \"additionalItems\", schema);\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nfunction validateTuple(cxt, extraItems, schArr = cxt.schema) {\n    const { gen, parentSchema, data, keyword, it } = cxt;\n    checkStrictTuple(parentSchema);\n    if (it.opts.unevaluated && schArr.length && it.items !== true) {\n        it.items = util_1.mergeEvaluated.items(gen, schArr.length, it.items);\n    }\n    const valid = gen.name(\"valid\");\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    schArr.forEach((sch, i) => {\n        if ((0, util_1.alwaysValidSchema)(it, sch))\n            return;\n        gen.if((0, codegen_1._) `${len} > ${i}`, () => cxt.subschema({\n            keyword,\n            schemaProp: i,\n            dataProp: i,\n        }, valid));\n        cxt.ok(valid);\n    });\n    function checkStrictTuple(sch) {\n        const { opts, errSchemaPath } = it;\n        const l = schArr.length;\n        const fullTuple = l === sch.minItems && (l === sch.maxItems || sch[extraItems] === false);\n        if (opts.strictTuples && !fullTuple) {\n            const msg = `\"${keyword}\" is ${l}-tuple, but minItems or maxItems/${extraItems} are not specified or different at path \"${errSchemaPath}\"`;\n            (0, util_1.checkStrictMode)(it, msg, opts.strictTuples);\n        }\n    }\n}\nexports.validateTuple = validateTuple;\nexports.default = def;\n//# sourceMappingURL=items.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst additionalItems_1 = require(\"./additionalItems\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { schema, parentSchema, it } = cxt;\n        const { prefixItems } = parentSchema;\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        if (prefixItems)\n            (0, additionalItems_1.validateAdditionalItems)(cxt, prefixItems);\n        else\n            cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nexports.default = def;\n//# sourceMappingURL=items2020.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"not\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            cxt.fail();\n            return;\n        }\n        const valid = gen.name(\"valid\");\n        cxt.subschema({\n            keyword: \"not\",\n            compositeRule: true,\n            createErrors: false,\n            allErrors: false,\n        }, valid);\n        cxt.failResult(valid, () => cxt.reset(), () => cxt.error());\n    },\n    error: { message: \"must NOT be valid\" },\n};\nexports.default = def;\n//# sourceMappingURL=not.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must match exactly one schema in oneOf\",\n    params: ({ params }) => (0, codegen_1._) `{passingSchemas: ${params.passing}}`,\n};\nconst def = {\n    keyword: \"oneOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        if (it.opts.discriminator && parentSchema.discriminator)\n            return;\n        const schArr = schema;\n        const valid = gen.let(\"valid\", false);\n        const passing = gen.let(\"passing\", null);\n        const schValid = gen.name(\"_valid\");\n        cxt.setParams({ passing });\n        // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n        gen.block(validateOneOf);\n        cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n        function validateOneOf() {\n            schArr.forEach((sch, i) => {\n                let schCxt;\n                if ((0, util_1.alwaysValidSchema)(it, sch)) {\n                    gen.var(schValid, true);\n                }\n                else {\n                    schCxt = cxt.subschema({\n                        keyword: \"oneOf\",\n                        schemaProp: i,\n                        compositeRule: true,\n                    }, schValid);\n                }\n                if (i > 0) {\n                    gen\n                        .if((0, codegen_1._) `${schValid} && ${valid}`)\n                        .assign(valid, false)\n                        .assign(passing, (0, codegen_1._) `[${passing}, ${i}]`)\n                        .else();\n                }\n                gen.if(schValid, () => {\n                    gen.assign(valid, true);\n                    gen.assign(passing, i);\n                    if (schCxt)\n                        cxt.mergeEvaluated(schCxt, codegen_1.Name);\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=oneOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst util_2 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"patternProperties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, data, parentSchema, it } = cxt;\n        const { opts } = it;\n        const patterns = (0, code_1.allSchemaProperties)(schema);\n        const alwaysValidPatterns = patterns.filter((p) => (0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (patterns.length === 0 ||\n            (alwaysValidPatterns.length === patterns.length &&\n                (!it.opts.unevaluated || it.props === true))) {\n            return;\n        }\n        const checkProperties = opts.strictSchema && !opts.allowMatchingProperties && parentSchema.properties;\n        const valid = gen.name(\"valid\");\n        if (it.props !== true && !(it.props instanceof codegen_1.Name)) {\n            it.props = (0, util_2.evaluatedPropsToName)(gen, it.props);\n        }\n        const { props } = it;\n        validatePatternProperties();\n        function validatePatternProperties() {\n            for (const pat of patterns) {\n                if (checkProperties)\n                    checkMatchingProperties(pat);\n                if (it.allErrors) {\n                    validateProperties(pat);\n                }\n                else {\n                    gen.var(valid, true); // TODO var\n                    validateProperties(pat);\n                    gen.if(valid);\n                }\n            }\n        }\n        function checkMatchingProperties(pat) {\n            for (const prop in checkProperties) {\n                if (new RegExp(pat).test(prop)) {\n                    (0, util_1.checkStrictMode)(it, `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`);\n                }\n            }\n        }\n        function validateProperties(pat) {\n            gen.forIn(\"key\", data, (key) => {\n                gen.if((0, codegen_1._) `${(0, code_1.usePattern)(cxt, pat)}.test(${key})`, () => {\n                    const alwaysValid = alwaysValidPatterns.includes(pat);\n                    if (!alwaysValid) {\n                        cxt.subschema({\n                            keyword: \"patternProperties\",\n                            schemaProp: pat,\n                            dataProp: key,\n                            dataPropType: util_2.Type.Str,\n                        }, valid);\n                    }\n                    if (it.opts.unevaluated && props !== true) {\n                        gen.assign((0, codegen_1._) `${props}[${key}]`, true);\n                    }\n                    else if (!alwaysValid && !it.allErrors) {\n                        // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n                        // or if all properties were evaluated (props === true)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                    }\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=patternProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst items_1 = require(\"./items\");\nconst def = {\n    keyword: \"prefixItems\",\n    type: \"array\",\n    schemaType: [\"array\"],\n    before: \"uniqueItems\",\n    code: (cxt) => (0, items_1.validateTuple)(cxt, \"items\"),\n};\nexports.default = def;\n//# sourceMappingURL=prefixItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validate_1 = require(\"../../compile/validate\");\nconst code_1 = require(\"../code\");\nconst util_1 = require(\"../../compile/util\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst def = {\n    keyword: \"properties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n            additionalProperties_1.default.code(new validate_1.KeywordCxt(it, additionalProperties_1.default, \"additionalProperties\"));\n        }\n        const allProps = (0, code_1.allSchemaProperties)(schema);\n        for (const prop of allProps) {\n            it.definedProperties.add(prop);\n        }\n        if (it.opts.unevaluated && allProps.length && it.props !== true) {\n            it.props = util_1.mergeEvaluated.props(gen, (0, util_1.toHash)(allProps), it.props);\n        }\n        const properties = allProps.filter((p) => !(0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (properties.length === 0)\n            return;\n        const valid = gen.name(\"valid\");\n        for (const prop of properties) {\n            if (hasDefault(prop)) {\n                applyPropertySchema(prop);\n            }\n            else {\n                gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties));\n                applyPropertySchema(prop);\n                if (!it.allErrors)\n                    gen.else().var(valid, true);\n                gen.endIf();\n            }\n            cxt.it.definedProperties.add(prop);\n            cxt.ok(valid);\n        }\n        function hasDefault(prop) {\n            return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined;\n        }\n        function applyPropertySchema(prop) {\n            cxt.subschema({\n                keyword: \"properties\",\n                schemaProp: prop,\n                dataProp: prop,\n            }, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=properties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"property name must be valid\",\n    params: ({ params }) => (0, codegen_1._) `{propertyName: ${params.propertyName}}`,\n};\nconst def = {\n    keyword: \"propertyNames\",\n    type: \"object\",\n    schemaType: [\"object\", \"boolean\"],\n    error,\n    code(cxt) {\n        const { gen, schema, data, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const valid = gen.name(\"valid\");\n        gen.forIn(\"key\", data, (key) => {\n            cxt.setParams({ propertyName: key });\n            cxt.subschema({\n                keyword: \"propertyNames\",\n                data: key,\n                dataTypes: [\"string\"],\n                propertyName: key,\n                compositeRule: true,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), () => {\n                cxt.error(true);\n                if (!it.allErrors)\n                    gen.break();\n            });\n        });\n        cxt.ok(valid);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=propertyNames.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: [\"then\", \"else\"],\n    schemaType: [\"object\", \"boolean\"],\n    code({ keyword, parentSchema, it }) {\n        if (parentSchema.if === undefined)\n            (0, util_1.checkStrictMode)(it, `\"${keyword}\" without \"if\" is ignored`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=thenElse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUnion = exports.validateArray = exports.usePattern = exports.callValidateCode = exports.schemaProperties = exports.allSchemaProperties = exports.noPropertyInData = exports.propertyInData = exports.isOwnProperty = exports.hasPropFunc = exports.reportMissingProp = exports.checkMissingProp = exports.checkReportMissingProp = void 0;\nconst codegen_1 = require(\"../compile/codegen\");\nconst util_1 = require(\"../compile/util\");\nconst names_1 = require(\"../compile/names\");\nconst util_2 = require(\"../compile/util\");\nfunction checkReportMissingProp(cxt, prop) {\n    const { gen, data, it } = cxt;\n    gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n        cxt.setParams({ missingProperty: (0, codegen_1._) `${prop}` }, true);\n        cxt.error();\n    });\n}\nexports.checkReportMissingProp = checkReportMissingProp;\nfunction checkMissingProp({ gen, data, it: { opts } }, properties, missing) {\n    return (0, codegen_1.or)(...properties.map((prop) => (0, codegen_1.and)(noPropertyInData(gen, data, prop, opts.ownProperties), (0, codegen_1._) `${missing} = ${prop}`)));\n}\nexports.checkMissingProp = checkMissingProp;\nfunction reportMissingProp(cxt, missing) {\n    cxt.setParams({ missingProperty: missing }, true);\n    cxt.error();\n}\nexports.reportMissingProp = reportMissingProp;\nfunction hasPropFunc(gen) {\n    return gen.scopeValue(\"func\", {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        ref: Object.prototype.hasOwnProperty,\n        code: (0, codegen_1._) `Object.prototype.hasOwnProperty`,\n    });\n}\nexports.hasPropFunc = hasPropFunc;\nfunction isOwnProperty(gen, data, property) {\n    return (0, codegen_1._) `${hasPropFunc(gen)}.call(${data}, ${property})`;\n}\nexports.isOwnProperty = isOwnProperty;\nfunction propertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} !== undefined`;\n    return ownProperties ? (0, codegen_1._) `${cond} && ${isOwnProperty(gen, data, property)}` : cond;\n}\nexports.propertyInData = propertyInData;\nfunction noPropertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} === undefined`;\n    return ownProperties ? (0, codegen_1.or)(cond, (0, codegen_1.not)(isOwnProperty(gen, data, property))) : cond;\n}\nexports.noPropertyInData = noPropertyInData;\nfunction allSchemaProperties(schemaMap) {\n    return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : [];\n}\nexports.allSchemaProperties = allSchemaProperties;\nfunction schemaProperties(it, schemaMap) {\n    return allSchemaProperties(schemaMap).filter((p) => !(0, util_1.alwaysValidSchema)(it, schemaMap[p]));\n}\nexports.schemaProperties = schemaProperties;\nfunction callValidateCode({ schemaCode, data, it: { gen, topSchemaRef, schemaPath, errorPath }, it }, func, context, passSchema) {\n    const dataAndSchema = passSchema ? (0, codegen_1._) `${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data;\n    const valCxt = [\n        [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, errorPath)],\n        [names_1.default.parentData, it.parentData],\n        [names_1.default.parentDataProperty, it.parentDataProperty],\n        [names_1.default.rootData, names_1.default.rootData],\n    ];\n    if (it.opts.dynamicRef)\n        valCxt.push([names_1.default.dynamicAnchors, names_1.default.dynamicAnchors]);\n    const args = (0, codegen_1._) `${dataAndSchema}, ${gen.object(...valCxt)}`;\n    return context !== codegen_1.nil ? (0, codegen_1._) `${func}.call(${context}, ${args})` : (0, codegen_1._) `${func}(${args})`;\n}\nexports.callValidateCode = callValidateCode;\nconst newRegExp = (0, codegen_1._) `new RegExp`;\nfunction usePattern({ gen, it: { opts } }, pattern) {\n    const u = opts.unicodeRegExp ? \"u\" : \"\";\n    const { regExp } = opts.code;\n    const rx = regExp(pattern, u);\n    return gen.scopeValue(\"pattern\", {\n        key: rx.toString(),\n        ref: rx,\n        code: (0, codegen_1._) `${regExp.code === \"new RegExp\" ? newRegExp : (0, util_2.useFunc)(gen, regExp)}(${pattern}, ${u})`,\n    });\n}\nexports.usePattern = usePattern;\nfunction validateArray(cxt) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    if (it.allErrors) {\n        const validArr = gen.let(\"valid\", true);\n        validateItems(() => gen.assign(validArr, false));\n        return validArr;\n    }\n    gen.var(valid, true);\n    validateItems(() => gen.break());\n    return valid;\n    function validateItems(notValid) {\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        gen.forRange(\"i\", 0, len, (i) => {\n            cxt.subschema({\n                keyword,\n                dataProp: i,\n                dataPropType: util_1.Type.Num,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), notValid);\n        });\n    }\n}\nexports.validateArray = validateArray;\nfunction validateUnion(cxt) {\n    const { gen, schema, keyword, it } = cxt;\n    /* istanbul ignore if */\n    if (!Array.isArray(schema))\n        throw new Error(\"ajv implementation error\");\n    const alwaysValid = schema.some((sch) => (0, util_1.alwaysValidSchema)(it, sch));\n    if (alwaysValid && !it.opts.unevaluated)\n        return;\n    const valid = gen.let(\"valid\", false);\n    const schValid = gen.name(\"_valid\");\n    gen.block(() => schema.forEach((_sch, i) => {\n        const schCxt = cxt.subschema({\n            keyword,\n            schemaProp: i,\n            compositeRule: true,\n        }, schValid);\n        gen.assign(valid, (0, codegen_1._) `${valid} || ${schValid}`);\n        const merged = cxt.mergeValidEvaluated(schCxt, schValid);\n        // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n        // or if all properties and items were evaluated (it.props === true && it.items === true)\n        if (!merged)\n            gen.if((0, codegen_1.not)(valid));\n    }));\n    cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n}\nexports.validateUnion = validateUnion;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst def = {\n    keyword: \"id\",\n    code() {\n        throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID');\n    },\n};\nexports.default = def;\n//# sourceMappingURL=id.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst id_1 = require(\"./id\");\nconst ref_1 = require(\"./ref\");\nconst core = [\n    \"$schema\",\n    \"$id\",\n    \"$defs\",\n    \"$vocabulary\",\n    { keyword: \"$comment\" },\n    \"definitions\",\n    id_1.default,\n    ref_1.default,\n];\nexports.default = core;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callRef = exports.getValidate = void 0;\nconst ref_error_1 = require(\"../../compile/ref_error\");\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"$ref\",\n    schemaType: \"string\",\n    code(cxt) {\n        const { gen, schema: $ref, it } = cxt;\n        const { baseId, schemaEnv: env, validateName, opts, self } = it;\n        const { root } = env;\n        if (($ref === \"#\" || $ref === \"#/\") && baseId === root.baseId)\n            return callRootRef();\n        const schOrEnv = compile_1.resolveRef.call(self, root, baseId, $ref);\n        if (schOrEnv === undefined)\n            throw new ref_error_1.default(baseId, $ref);\n        if (schOrEnv instanceof compile_1.SchemaEnv)\n            return callValidate(schOrEnv);\n        return inlineRefSchema(schOrEnv);\n        function callRootRef() {\n            if (env === root)\n                return callRef(cxt, validateName, env, env.$async);\n            const rootName = gen.scopeValue(\"root\", { ref: root });\n            return callRef(cxt, (0, codegen_1._) `${rootName}.validate`, root, root.$async);\n        }\n        function callValidate(sch) {\n            const v = getValidate(cxt, sch);\n            callRef(cxt, v, sch, sch.$async);\n        }\n        function inlineRefSchema(sch) {\n            const schName = gen.scopeValue(\"schema\", opts.code.source === true ? { ref: sch, code: (0, codegen_1.stringify)(sch) } : { ref: sch });\n            const valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({\n                schema: sch,\n                dataTypes: [],\n                schemaPath: codegen_1.nil,\n                topSchemaRef: schName,\n                errSchemaPath: $ref,\n            }, valid);\n            cxt.mergeEvaluated(schCxt);\n            cxt.ok(valid);\n        }\n    },\n};\nfunction getValidate(cxt, sch) {\n    const { gen } = cxt;\n    return sch.validate\n        ? gen.scopeValue(\"validate\", { ref: sch.validate })\n        : (0, codegen_1._) `${gen.scopeValue(\"wrapper\", { ref: sch })}.validate`;\n}\nexports.getValidate = getValidate;\nfunction callRef(cxt, v, sch, $async) {\n    const { gen, it } = cxt;\n    const { allErrors, schemaEnv: env, opts } = it;\n    const passCxt = opts.passContext ? names_1.default.this : codegen_1.nil;\n    if ($async)\n        callAsyncRef();\n    else\n        callSyncRef();\n    function callAsyncRef() {\n        if (!env.$async)\n            throw new Error(\"async schema referenced by sync schema\");\n        const valid = gen.let(\"valid\");\n        gen.try(() => {\n            gen.code((0, codegen_1._) `await ${(0, code_1.callValidateCode)(cxt, v, passCxt)}`);\n            addEvaluatedFrom(v); // TODO will not work with async, it has to be returned with the result\n            if (!allErrors)\n                gen.assign(valid, true);\n        }, (e) => {\n            gen.if((0, codegen_1._) `!(${e} instanceof ${it.ValidationError})`, () => gen.throw(e));\n            addErrorsFrom(e);\n            if (!allErrors)\n                gen.assign(valid, false);\n        });\n        cxt.ok(valid);\n    }\n    function callSyncRef() {\n        cxt.result((0, code_1.callValidateCode)(cxt, v, passCxt), () => addEvaluatedFrom(v), () => addErrorsFrom(v));\n    }\n    function addErrorsFrom(source) {\n        const errs = (0, codegen_1._) `${source}.errors`;\n        gen.assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`); // TODO tagged\n        gen.assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n    }\n    function addEvaluatedFrom(source) {\n        var _a;\n        if (!it.opts.unevaluated)\n            return;\n        const schEvaluated = (_a = sch === null || sch === void 0 ? void 0 : sch.validate) === null || _a === void 0 ? void 0 : _a.evaluated;\n        // TODO refactor\n        if (it.props !== true) {\n            if (schEvaluated && !schEvaluated.dynamicProps) {\n                if (schEvaluated.props !== undefined) {\n                    it.props = util_1.mergeEvaluated.props(gen, schEvaluated.props, it.props);\n                }\n            }\n            else {\n                const props = gen.var(\"props\", (0, codegen_1._) `${source}.evaluated.props`);\n                it.props = util_1.mergeEvaluated.props(gen, props, it.props, codegen_1.Name);\n            }\n        }\n        if (it.items !== true) {\n            if (schEvaluated && !schEvaluated.dynamicItems) {\n                if (schEvaluated.items !== undefined) {\n                    it.items = util_1.mergeEvaluated.items(gen, schEvaluated.items, it.items);\n                }\n            }\n            else {\n                const items = gen.var(\"items\", (0, codegen_1._) `${source}.evaluated.items`);\n                it.items = util_1.mergeEvaluated.items(gen, items, it.items, codegen_1.Name);\n            }\n        }\n    }\n}\nexports.callRef = callRef;\nexports.default = def;\n//# sourceMappingURL=ref.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst types_1 = require(\"../discriminator/types\");\nconst error = {\n    message: ({ params: { discrError, tagName } }) => discrError === types_1.DiscrError.Tag\n        ? `tag \"${tagName}\" must be string`\n        : `value of tag \"${tagName}\" must be in oneOf`,\n    params: ({ params: { discrError, tag, tagName } }) => (0, codegen_1._) `{error: ${discrError}, tag: ${tagName}, tagValue: ${tag}}`,\n};\nconst def = {\n    keyword: \"discriminator\",\n    type: \"object\",\n    schemaType: \"object\",\n    error,\n    code(cxt) {\n        const { gen, data, schema, parentSchema, it } = cxt;\n        const { oneOf } = parentSchema;\n        if (!it.opts.discriminator) {\n            throw new Error(\"discriminator: requires discriminator option\");\n        }\n        const tagName = schema.propertyName;\n        if (typeof tagName != \"string\")\n            throw new Error(\"discriminator: requires propertyName\");\n        if (schema.mapping)\n            throw new Error(\"discriminator: mapping is not supported\");\n        if (!oneOf)\n            throw new Error(\"discriminator: requires oneOf keyword\");\n        const valid = gen.let(\"valid\", false);\n        const tag = gen.const(\"tag\", (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(tagName)}`);\n        gen.if((0, codegen_1._) `typeof ${tag} == \"string\"`, () => validateMapping(), () => cxt.error(false, { discrError: types_1.DiscrError.Tag, tag, tagName }));\n        cxt.ok(valid);\n        function validateMapping() {\n            const mapping = getMapping();\n            gen.if(false);\n            for (const tagValue in mapping) {\n                gen.elseIf((0, codegen_1._) `${tag} === ${tagValue}`);\n                gen.assign(valid, applyTagSchema(mapping[tagValue]));\n            }\n            gen.else();\n            cxt.error(false, { discrError: types_1.DiscrError.Mapping, tag, tagName });\n            gen.endIf();\n        }\n        function applyTagSchema(schemaProp) {\n            const _valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({ keyword: \"oneOf\", schemaProp }, _valid);\n            cxt.mergeEvaluated(schCxt, codegen_1.Name);\n            return _valid;\n        }\n        function getMapping() {\n            var _a;\n            const oneOfMapping = {};\n            const topRequired = hasRequired(parentSchema);\n            let tagRequired = true;\n            for (let i = 0; i < oneOf.length; i++) {\n                const sch = oneOf[i];\n                const propSch = (_a = sch.properties) === null || _a === void 0 ? void 0 : _a[tagName];\n                if (typeof propSch != \"object\") {\n                    throw new Error(`discriminator: oneOf schemas must have \"properties/${tagName}\"`);\n                }\n                tagRequired = tagRequired && (topRequired || hasRequired(sch));\n                addMappings(propSch, i);\n            }\n            if (!tagRequired)\n                throw new Error(`discriminator: \"${tagName}\" must be required`);\n            return oneOfMapping;\n            function hasRequired({ required }) {\n                return Array.isArray(required) && required.includes(tagName);\n            }\n            function addMappings(sch, i) {\n                if (sch.const) {\n                    addMapping(sch.const, i);\n                }\n                else if (sch.enum) {\n                    for (const tagValue of sch.enum) {\n                        addMapping(tagValue, i);\n                    }\n                }\n                else {\n                    throw new Error(`discriminator: \"properties/${tagName}\" must have \"const\" or \"enum\"`);\n                }\n            }\n            function addMapping(tagValue, i) {\n                if (typeof tagValue != \"string\" || tagValue in oneOfMapping) {\n                    throw new Error(`discriminator: \"${tagName}\" values must be unique strings`);\n                }\n                oneOfMapping[tagValue] = i;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiscrError = void 0;\nvar DiscrError;\n(function (DiscrError) {\n    DiscrError[\"Tag\"] = \"tag\";\n    DiscrError[\"Mapping\"] = \"mapping\";\n})(DiscrError = exports.DiscrError || (exports.DiscrError = {}));\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"./core\");\nconst validation_1 = require(\"./validation\");\nconst applicator_1 = require(\"./applicator\");\nconst format_1 = require(\"./format\");\nconst metadata_1 = require(\"./metadata\");\nconst draft7Vocabularies = [\n    core_1.default,\n    validation_1.default,\n    (0, applicator_1.default)(),\n    format_1.default,\n    metadata_1.metadataVocabulary,\n    metadata_1.contentVocabulary,\n];\nexports.default = draft7Vocabularies;\n//# sourceMappingURL=draft7.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match format \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{format: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"format\",\n    type: [\"number\", \"string\"],\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt, ruleType) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        const { opts, errSchemaPath, schemaEnv, self } = it;\n        if (!opts.validateFormats)\n            return;\n        if ($data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fDef = gen.const(\"fDef\", (0, codegen_1._) `${fmts}[${schemaCode}]`);\n            const fType = gen.let(\"fType\");\n            const format = gen.let(\"format\");\n            // TODO simplify\n            gen.if((0, codegen_1._) `typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`, () => gen.assign(fType, (0, codegen_1._) `${fDef}.type || \"string\"`).assign(format, (0, codegen_1._) `${fDef}.validate`), () => gen.assign(fType, (0, codegen_1._) `\"string\"`).assign(format, fDef));\n            cxt.fail$data((0, codegen_1.or)(unknownFmt(), invalidFmt()));\n            function unknownFmt() {\n                if (opts.strictSchema === false)\n                    return codegen_1.nil;\n                return (0, codegen_1._) `${schemaCode} && !${format}`;\n            }\n            function invalidFmt() {\n                const callFormat = schemaEnv.$async\n                    ? (0, codegen_1._) `(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n                    : (0, codegen_1._) `${format}(${data})`;\n                const validData = (0, codegen_1._) `(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`;\n                return (0, codegen_1._) `${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`;\n            }\n        }\n        function validateFormat() {\n            const formatDef = self.formats[schema];\n            if (!formatDef) {\n                unknownFormat();\n                return;\n            }\n            if (formatDef === true)\n                return;\n            const [fmtType, format, fmtRef] = getFormat(formatDef);\n            if (fmtType === ruleType)\n                cxt.pass(validCondition());\n            function unknownFormat() {\n                if (opts.strictSchema === false) {\n                    self.logger.warn(unknownMsg());\n                    return;\n                }\n                throw new Error(unknownMsg());\n                function unknownMsg() {\n                    return `unknown format \"${schema}\" ignored in schema at path \"${errSchemaPath}\"`;\n                }\n            }\n            function getFormat(fmtDef) {\n                const code = fmtDef instanceof RegExp\n                    ? (0, codegen_1.regexpCode)(fmtDef)\n                    : opts.code.formats\n                        ? (0, codegen_1._) `${opts.code.formats}${(0, codegen_1.getProperty)(schema)}`\n                        : undefined;\n                const fmt = gen.scopeValue(\"formats\", { key: schema, ref: fmtDef, code });\n                if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n                    return [fmtDef.type || \"string\", fmtDef.validate, (0, codegen_1._) `${fmt}.validate`];\n                }\n                return [\"string\", fmtDef, fmt];\n            }\n            function validCondition() {\n                if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n                    if (!schemaEnv.$async)\n                        throw new Error(\"async format in sync schema\");\n                    return (0, codegen_1._) `await ${fmtRef}(${data})`;\n                }\n                return typeof format == \"function\" ? (0, codegen_1._) `${fmtRef}(${data})` : (0, codegen_1._) `${fmtRef}.test(${data})`;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=format.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst format_1 = require(\"./format\");\nconst format = [format_1.default];\nexports.default = format;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.contentVocabulary = exports.metadataVocabulary = void 0;\nexports.metadataVocabulary = [\n    \"title\",\n    \"description\",\n    \"default\",\n    \"deprecated\",\n    \"readOnly\",\n    \"writeOnly\",\n    \"examples\",\n];\nexports.contentVocabulary = [\n    \"contentMediaType\",\n    \"contentEncoding\",\n    \"contentSchema\",\n];\n//# sourceMappingURL=metadata.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to constant\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValue: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"const\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schemaCode, schema } = cxt;\n        if ($data || (schema && typeof schema == \"object\")) {\n            cxt.fail$data((0, codegen_1._) `!${(0, util_1.useFunc)(gen, equal_1.default)}(${data}, ${schemaCode})`);\n        }\n        else {\n            cxt.fail((0, codegen_1._) `${schema} !== ${data}`);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=const.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to one of the allowed values\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValues: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"enum\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        if (!$data && schema.length === 0)\n            throw new Error(\"enum must have non-empty array\");\n        const useLoop = schema.length >= it.opts.loopEnum;\n        const eql = (0, util_1.useFunc)(gen, equal_1.default);\n        let valid;\n        if (useLoop || $data) {\n            valid = gen.let(\"valid\");\n            cxt.block$data(valid, loopEnum);\n        }\n        else {\n            /* istanbul ignore if */\n            if (!Array.isArray(schema))\n                throw new Error(\"ajv implementation error\");\n            const vSchema = gen.const(\"vSchema\", schemaCode);\n            valid = (0, codegen_1.or)(...schema.map((_x, i) => equalCode(vSchema, i)));\n        }\n        cxt.pass(valid);\n        function loopEnum() {\n            gen.assign(valid, false);\n            gen.forOf(\"v\", schemaCode, (v) => gen.if((0, codegen_1._) `${eql}(${data}, ${v})`, () => gen.assign(valid, true).break()));\n        }\n        function equalCode(vSchema, i) {\n            const sch = schema[i];\n            return typeof sch === \"object\" && sch !== null\n                ? (0, codegen_1._) `${eql}(${data}, ${vSchema}[${i}])`\n                : (0, codegen_1._) `${data} === ${sch}`;\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=enum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst limitNumber_1 = require(\"./limitNumber\");\nconst multipleOf_1 = require(\"./multipleOf\");\nconst limitLength_1 = require(\"./limitLength\");\nconst pattern_1 = require(\"./pattern\");\nconst limitProperties_1 = require(\"./limitProperties\");\nconst required_1 = require(\"./required\");\nconst limitItems_1 = require(\"./limitItems\");\nconst uniqueItems_1 = require(\"./uniqueItems\");\nconst const_1 = require(\"./const\");\nconst enum_1 = require(\"./enum\");\nconst validation = [\n    // number\n    limitNumber_1.default,\n    multipleOf_1.default,\n    // string\n    limitLength_1.default,\n    pattern_1.default,\n    // object\n    limitProperties_1.default,\n    required_1.default,\n    // array\n    limitItems_1.default,\n    uniqueItems_1.default,\n    // any\n    { keyword: \"type\", schemaType: [\"string\", \"array\"] },\n    { keyword: \"nullable\", schemaType: \"boolean\" },\n    const_1.default,\n    enum_1.default,\n];\nexports.default = validation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxItems\", \"minItems\"],\n    type: \"array\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxItems\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `${data}.length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst ucs2length_1 = require(\"../../runtime/ucs2length\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} characters`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxLength\", \"minLength\"],\n    type: \"string\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode, it } = cxt;\n        const op = keyword === \"maxLength\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        const len = it.opts.unicode === false ? (0, codegen_1._) `${data}.length` : (0, codegen_1._) `${(0, util_1.useFunc)(cxt.gen, ucs2length_1.default)}(${data})`;\n        cxt.fail$data((0, codegen_1._) `${len} ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitLength.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    maximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    minimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    exclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    exclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => (0, codegen_1.str) `must be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => (0, codegen_1._) `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: Object.keys(KWDs),\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        cxt.fail$data((0, codegen_1._) `${data} ${KWDs[keyword].fail} ${schemaCode} || isNaN(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitNumber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxProperties\", \"minProperties\"],\n    type: \"object\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxProperties\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `Object.keys(${data}).length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must be multiple of ${schemaCode}`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{multipleOf: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"multipleOf\",\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, it } = cxt;\n        // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n        const prec = it.opts.multipleOfPrecision;\n        const res = gen.let(\"res\");\n        const invalid = prec\n            ? (0, codegen_1._) `Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n            : (0, codegen_1._) `${res} !== parseInt(${res})`;\n        cxt.fail$data((0, codegen_1._) `(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=multipleOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match pattern \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{pattern: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"pattern\",\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { data, $data, schema, schemaCode, it } = cxt;\n        // TODO regexp should be wrapped in try/catchs\n        const u = it.opts.unicodeRegExp ? \"u\" : \"\";\n        const regExp = $data ? (0, codegen_1._) `(new RegExp(${schemaCode}, ${u}))` : (0, code_1.usePattern)(cxt, schema);\n        cxt.fail$data((0, codegen_1._) `!${regExp}.test(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=pattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { missingProperty } }) => (0, codegen_1.str) `must have required property '${missingProperty}'`,\n    params: ({ params: { missingProperty } }) => (0, codegen_1._) `{missingProperty: ${missingProperty}}`,\n};\nconst def = {\n    keyword: \"required\",\n    type: \"object\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, schema, schemaCode, data, $data, it } = cxt;\n        const { opts } = it;\n        if (!$data && schema.length === 0)\n            return;\n        const useLoop = schema.length >= opts.loopRequired;\n        if (it.allErrors)\n            allErrorsMode();\n        else\n            exitOnErrorMode();\n        if (opts.strictRequired) {\n            const props = cxt.parentSchema.properties;\n            const { definedProperties } = cxt.it;\n            for (const requiredKey of schema) {\n                if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n                    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n                    const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n                    (0, util_1.checkStrictMode)(it, msg, it.opts.strictRequired);\n                }\n            }\n        }\n        function allErrorsMode() {\n            if (useLoop || $data) {\n                cxt.block$data(codegen_1.nil, loopAllRequired);\n            }\n            else {\n                for (const prop of schema) {\n                    (0, code_1.checkReportMissingProp)(cxt, prop);\n                }\n            }\n        }\n        function exitOnErrorMode() {\n            const missing = gen.let(\"missing\");\n            if (useLoop || $data) {\n                const valid = gen.let(\"valid\", true);\n                cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n                cxt.ok(valid);\n            }\n            else {\n                gen.if((0, code_1.checkMissingProp)(cxt, schema, missing));\n                (0, code_1.reportMissingProp)(cxt, missing);\n                gen.else();\n            }\n        }\n        function loopAllRequired() {\n            gen.forOf(\"prop\", schemaCode, (prop) => {\n                cxt.setParams({ missingProperty: prop });\n                gen.if((0, code_1.noPropertyInData)(gen, data, prop, opts.ownProperties), () => cxt.error());\n            });\n        }\n        function loopUntilMissing(missing, valid) {\n            cxt.setParams({ missingProperty: missing });\n            gen.forOf(missing, schemaCode, () => {\n                gen.assign(valid, (0, code_1.propertyInData)(gen, data, missing, opts.ownProperties));\n                gen.if((0, codegen_1.not)(valid), () => {\n                    cxt.error();\n                    gen.break();\n                });\n            }, codegen_1.nil);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=required.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dataType_1 = require(\"../../compile/validate/dataType\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: ({ params: { i, j } }) => (0, codegen_1.str) `must NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n    params: ({ params: { i, j } }) => (0, codegen_1._) `{i: ${i}, j: ${j}}`,\n};\nconst def = {\n    keyword: \"uniqueItems\",\n    type: \"array\",\n    schemaType: \"boolean\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, parentSchema, schemaCode, it } = cxt;\n        if (!$data && !schema)\n            return;\n        const valid = gen.let(\"valid\");\n        const itemTypes = parentSchema.items ? (0, dataType_1.getSchemaTypes)(parentSchema.items) : [];\n        cxt.block$data(valid, validateUniqueItems, (0, codegen_1._) `${schemaCode} === false`);\n        cxt.ok(valid);\n        function validateUniqueItems() {\n            const i = gen.let(\"i\", (0, codegen_1._) `${data}.length`);\n            const j = gen.let(\"j\");\n            cxt.setParams({ i, j });\n            gen.assign(valid, true);\n            gen.if((0, codegen_1._) `${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j));\n        }\n        function canOptimize() {\n            return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\");\n        }\n        function loopN(i, j) {\n            const item = gen.name(\"item\");\n            const wrongType = (0, dataType_1.checkDataTypes)(itemTypes, item, it.opts.strictNumbers, dataType_1.DataType.Wrong);\n            const indices = gen.const(\"indices\", (0, codegen_1._) `{}`);\n            gen.for((0, codegen_1._) `;${i}--;`, () => {\n                gen.let(item, (0, codegen_1._) `${data}[${i}]`);\n                gen.if(wrongType, (0, codegen_1._) `continue`);\n                if (itemTypes.length > 1)\n                    gen.if((0, codegen_1._) `typeof ${item} == \"string\"`, (0, codegen_1._) `${item} += \"_\"`);\n                gen\n                    .if((0, codegen_1._) `typeof ${indices}[${item}] == \"number\"`, () => {\n                    gen.assign(j, (0, codegen_1._) `${indices}[${item}]`);\n                    cxt.error();\n                    gen.assign(valid, false).break();\n                })\n                    .code((0, codegen_1._) `${indices}[${item}] = ${i}`);\n            });\n        }\n        function loopN2(i, j) {\n            const eql = (0, util_1.useFunc)(gen, equal_1.default);\n            const outer = gen.name(\"outer\");\n            gen.label(outer).for((0, codegen_1._) `;${i}--;`, () => gen.for((0, codegen_1._) `${j} = ${i}; ${j}--;`, () => gen.if((0, codegen_1._) `${eql}(${data}[${i}], ${data}[${j}])`, () => {\n                cxt.error();\n                gen.assign(valid, false).break(outer);\n            })));\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=uniqueItems.js.map","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true,\n  if: true,\n  then: true,\n  else: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  $defs: true,\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.URI = global.URI || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction merge() {\n    for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {\n        sets[_key] = arguments[_key];\n    }\n\n    if (sets.length > 1) {\n        sets[0] = sets[0].slice(0, -1);\n        var xl = sets.length - 1;\n        for (var x = 1; x < xl; ++x) {\n            sets[x] = sets[x].slice(1, -1);\n        }\n        sets[xl] = sets[xl].slice(1);\n        return sets.join('');\n    } else {\n        return sets[0];\n    }\n}\nfunction subexp(str) {\n    return \"(?:\" + str + \")\";\n}\nfunction typeOf(o) {\n    return o === undefined ? \"undefined\" : o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase();\n}\nfunction toUpperCase(str) {\n    return str.toUpperCase();\n}\nfunction toArray(obj) {\n    return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];\n}\nfunction assign(target, source) {\n    var obj = target;\n    if (source) {\n        for (var key in source) {\n            obj[key] = source[key];\n        }\n    }\n    return obj;\n}\n\nfunction buildExps(isIRI) {\n    var ALPHA$$ = \"[A-Za-z]\",\n        CR$ = \"[\\\\x0D]\",\n        DIGIT$$ = \"[0-9]\",\n        DQUOTE$$ = \"[\\\\x22]\",\n        HEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),\n        //case-insensitive\n    LF$$ = \"[\\\\x0A]\",\n        SP$$ = \"[\\\\x20]\",\n        PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),\n        //expanded\n    GEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n        SUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n        RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n        UCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",\n        //subset, excludes bidi control characters\n    IPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",\n        //subset\n    UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n        SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n        USERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n        DEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n        DEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),\n        //relaxed parsing rules\n    IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n        H16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n        LS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n        IPV6ADDRESS1$ = subexp(subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$),\n        //                           6( h16 \":\" ) ls32\n    IPV6ADDRESS2$ = subexp(\"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$),\n        //                      \"::\" 5( h16 \":\" ) ls32\n    IPV6ADDRESS3$ = subexp(subexp(H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$),\n        //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n    IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$),\n        //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n    IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$),\n        //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n    IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" + H16$ + \"\\\\:\" + LS32$),\n        //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n    IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\" + LS32$),\n        //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n    IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\" + H16$),\n        //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n    IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"),\n        //[ *6( h16 \":\" ) h16 ] \"::\"\n    IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n        ZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),\n        //RFC 6874\n    IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),\n        //RFC 6874\n    IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),\n        //RFC 6874, with relaxed parsing rules\n    IPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n        IP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),\n        //RFC 6874\n    REG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n        HOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n        PORT$ = subexp(DIGIT$$ + \"*\"),\n        AUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n        PCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n        SEGMENT$ = subexp(PCHAR$ + \"*\"),\n        SEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n        SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n        PATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n        PATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),\n        //simplified\n    PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n        PATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        QUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n        FRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n        HIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        RELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n        RELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        URI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n        ABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n        GENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        RELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        ABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n        SAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        AUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\";\n    return {\n        NOT_SCHEME: new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n        NOT_USERINFO: new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_HOST: new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH: new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH_NOSCHEME: new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_QUERY: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n        NOT_FRAGMENT: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n        ESCAPE: new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        UNRESERVED: new RegExp(UNRESERVED$$, \"g\"),\n        OTHER_CHARS: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n        PCT_ENCODED: new RegExp(PCT_ENCODED$, \"g\"),\n        IPV4ADDRESS: new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n        IPV6ADDRESS: new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\") //RFC 6874, with relaxed parsing rules\n    };\n}\nvar URI_PROTOCOL = buildExps(false);\n\nvar IRI_PROTOCOL = buildExps(true);\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/** Highest positive signed 32-bit float value */\n\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nvar regexPunycode = /^xn--/;\nvar regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nvar regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nvar errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error$1(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tvar result = [];\n\tvar length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tvar parts = string.split('@');\n\tvar result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tvar labels = string.split('.');\n\tvar encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t// Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nvar ucs2encode = function ucs2encode(array) {\n\treturn String.fromCodePoint.apply(String, toConsumableArray(array));\n};\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nvar basicToDigit = function basicToDigit(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nvar digitToBasic = function digitToBasic(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nvar adapt = function adapt(delta, numPoints, firstTime) {\n\tvar k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nvar decode = function decode(input) {\n\t// Don't use UCS-2.\n\tvar output = [];\n\tvar inputLength = input.length;\n\tvar i = 0;\n\tvar n = initialN;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tvar basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (var j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror$1('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (var index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tvar oldi = i;\n\t\tfor (var w = 1, k = base;; /* no condition */k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror$1('invalid-input');\n\t\t\t}\n\n\t\t\tvar digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvar baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\t\t}\n\n\t\tvar out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\t}\n\n\treturn String.fromCodePoint.apply(String, output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nvar encode = function encode(input) {\n\tvar output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tvar inputLength = input.length;\n\n\t// Initialize the state.\n\tvar n = initialN;\n\tvar delta = 0;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points.\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar _currentValue2 = _step.value;\n\n\t\t\tif (_currentValue2 < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(_currentValue2));\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t_iterator.return();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar basicLength = output.length;\n\tvar handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tvar m = maxInt;\n\t\tvar _iteratorNormalCompletion2 = true;\n\t\tvar _didIteratorError2 = false;\n\t\tvar _iteratorError2 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\tvar currentValue = _step2.value;\n\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow.\n\t\t} catch (err) {\n\t\t\t_didIteratorError2 = true;\n\t\t\t_iteratorError2 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t_iterator2.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tvar _iteratorNormalCompletion3 = true;\n\t\tvar _didIteratorError3 = false;\n\t\tvar _iteratorError3 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\tvar _currentValue = _step3.value;\n\n\t\t\t\tif (_currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror$1('overflow');\n\t\t\t\t}\n\t\t\t\tif (_currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\t\tvar q = delta;\n\t\t\t\t\tfor (var k = base;; /* no condition */k += base) {\n\t\t\t\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar qMinusT = q - t;\n\t\t\t\t\t\tvar baseMinusT = base - t;\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError3 = true;\n\t\t\t_iteratorError3 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t_iterator3.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nvar toUnicode = function toUnicode(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nvar toASCII = function toASCII(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nvar punycode = {\n\t/**\n  * A string representing the current Punycode.js version number.\n  * @memberOf punycode\n  * @type String\n  */\n\t'version': '2.1.0',\n\t/**\n  * An object of methods to convert from JavaScript's internal character\n  * representation (UCS-2) to Unicode code points, and back.\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode\n  * @type Object\n  */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\n/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\nvar SCHEMES = {};\nfunction pctEncChar(chr) {\n    var c = chr.charCodeAt(0);\n    var e = void 0;\n    if (c < 16) e = \"%0\" + c.toString(16).toUpperCase();else if (c < 128) e = \"%\" + c.toString(16).toUpperCase();else if (c < 2048) e = \"%\" + (c >> 6 | 192).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();else e = \"%\" + (c >> 12 | 224).toString(16).toUpperCase() + \"%\" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();\n    return e;\n}\nfunction pctDecChars(str) {\n    var newStr = \"\";\n    var i = 0;\n    var il = str.length;\n    while (i < il) {\n        var c = parseInt(str.substr(i + 1, 2), 16);\n        if (c < 128) {\n            newStr += String.fromCharCode(c);\n            i += 3;\n        } else if (c >= 194 && c < 224) {\n            if (il - i >= 6) {\n                var c2 = parseInt(str.substr(i + 4, 2), 16);\n                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);\n            } else {\n                newStr += str.substr(i, 6);\n            }\n            i += 6;\n        } else if (c >= 224) {\n            if (il - i >= 9) {\n                var _c = parseInt(str.substr(i + 4, 2), 16);\n                var c3 = parseInt(str.substr(i + 7, 2), 16);\n                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);\n            } else {\n                newStr += str.substr(i, 9);\n            }\n            i += 9;\n        } else {\n            newStr += str.substr(i, 3);\n            i += 3;\n        }\n    }\n    return newStr;\n}\nfunction _normalizeComponentEncoding(components, protocol) {\n    function decodeUnreserved(str) {\n        var decStr = pctDecChars(str);\n        return !decStr.match(protocol.UNRESERVED) ? str : decStr;\n    }\n    if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n    if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    return components;\n}\n\nfunction _stripLeadingZeros(str) {\n    return str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\nfunction _normalizeIPv4(host, protocol) {\n    var matches = host.match(protocol.IPV4ADDRESS) || [];\n\n    var _matches = slicedToArray(matches, 2),\n        address = _matches[1];\n\n    if (address) {\n        return address.split(\".\").map(_stripLeadingZeros).join(\".\");\n    } else {\n        return host;\n    }\n}\nfunction _normalizeIPv6(host, protocol) {\n    var matches = host.match(protocol.IPV6ADDRESS) || [];\n\n    var _matches2 = slicedToArray(matches, 3),\n        address = _matches2[1],\n        zone = _matches2[2];\n\n    if (address) {\n        var _address$toLowerCase$ = address.toLowerCase().split('::').reverse(),\n            _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),\n            last = _address$toLowerCase$2[0],\n            first = _address$toLowerCase$2[1];\n\n        var firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n        var lastFields = last.split(\":\").map(_stripLeadingZeros);\n        var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n        var fieldCount = isLastFieldIPv4Address ? 7 : 8;\n        var lastFieldsStart = lastFields.length - fieldCount;\n        var fields = Array(fieldCount);\n        for (var x = 0; x < fieldCount; ++x) {\n            fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n        }\n        if (isLastFieldIPv4Address) {\n            fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n        }\n        var allZeroFields = fields.reduce(function (acc, field, index) {\n            if (!field || field === \"0\") {\n                var lastLongest = acc[acc.length - 1];\n                if (lastLongest && lastLongest.index + lastLongest.length === index) {\n                    lastLongest.length++;\n                } else {\n                    acc.push({ index: index, length: 1 });\n                }\n            }\n            return acc;\n        }, []);\n        var longestZeroFields = allZeroFields.sort(function (a, b) {\n            return b.length - a.length;\n        })[0];\n        var newHost = void 0;\n        if (longestZeroFields && longestZeroFields.length > 1) {\n            var newFirst = fields.slice(0, longestZeroFields.index);\n            var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n            newHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n        } else {\n            newHost = fields.join(\":\");\n        }\n        if (zone) {\n            newHost += \"%\" + zone;\n        }\n        return newHost;\n    } else {\n        return host;\n    }\n}\nvar URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nvar NO_MATCH_IS_UNDEFINED = \"\".match(/(){0}/)[1] === undefined;\nfunction parse(uriString) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var components = {};\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    if (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n    var matches = uriString.match(URI_PARSE);\n    if (matches) {\n        if (NO_MATCH_IS_UNDEFINED) {\n            //store each component\n            components.scheme = matches[1];\n            components.userinfo = matches[3];\n            components.host = matches[4];\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = matches[7];\n            components.fragment = matches[8];\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = matches[5];\n            }\n        } else {\n            //IE FIX for improper RegExp matching\n            //store each component\n            components.scheme = matches[1] || undefined;\n            components.userinfo = uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined;\n            components.host = uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined;\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined;\n            components.fragment = uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined;\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined;\n            }\n        }\n        if (components.host) {\n            //normalize IP hosts\n            components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n        }\n        //determine reference type\n        if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n            components.reference = \"same-document\";\n        } else if (components.scheme === undefined) {\n            components.reference = \"relative\";\n        } else if (components.fragment === undefined) {\n            components.reference = \"absolute\";\n        } else {\n            components.reference = \"uri\";\n        }\n        //check for reference errors\n        if (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n            components.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n        }\n        //find scheme handler\n        var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n        //check if scheme can't handle IRIs\n        if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n            //if host component is a domain name\n            if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            }\n            //convert IRI -> URI\n            _normalizeComponentEncoding(components, URI_PROTOCOL);\n        } else {\n            //normalize encodings\n            _normalizeComponentEncoding(components, protocol);\n        }\n        //perform scheme specific parsing\n        if (schemeHandler && schemeHandler.parse) {\n            schemeHandler.parse(components, options);\n        }\n    } else {\n        components.error = components.error || \"URI can not be parsed.\";\n    }\n    return components;\n}\n\nfunction _recomposeAuthority(components, options) {\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    if (components.userinfo !== undefined) {\n        uriTokens.push(components.userinfo);\n        uriTokens.push(\"@\");\n    }\n    if (components.host !== undefined) {\n        //normalize IP hosts, add brackets and escape zone separator for IPv6\n        uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {\n            return \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\";\n        }));\n    }\n    if (typeof components.port === \"number\" || typeof components.port === \"string\") {\n        uriTokens.push(\":\");\n        uriTokens.push(String(components.port));\n    }\n    return uriTokens.length ? uriTokens.join(\"\") : undefined;\n}\n\nvar RDS1 = /^\\.\\.?\\//;\nvar RDS2 = /^\\/\\.(\\/|$)/;\nvar RDS3 = /^\\/\\.\\.(\\/|$)/;\nvar RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\nfunction removeDotSegments(input) {\n    var output = [];\n    while (input.length) {\n        if (input.match(RDS1)) {\n            input = input.replace(RDS1, \"\");\n        } else if (input.match(RDS2)) {\n            input = input.replace(RDS2, \"/\");\n        } else if (input.match(RDS3)) {\n            input = input.replace(RDS3, \"/\");\n            output.pop();\n        } else if (input === \".\" || input === \"..\") {\n            input = \"\";\n        } else {\n            var im = input.match(RDS5);\n            if (im) {\n                var s = im[0];\n                input = input.slice(s.length);\n                output.push(s);\n            } else {\n                throw new Error(\"Unexpected dot segment condition\");\n            }\n        }\n    }\n    return output.join(\"\");\n}\n\nfunction serialize(components) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    //find scheme handler\n    var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n    //perform scheme specific serialization\n    if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n    if (components.host) {\n        //if host component is an IPv6 address\n        if (protocol.IPV6ADDRESS.test(components.host)) {}\n        //TODO: normalize IPv6 address as per RFC 5952\n\n        //if host component is a domain name\n        else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {\n                //convert IDN via punycode\n                try {\n                    components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n            }\n    }\n    //normalize encoding\n    _normalizeComponentEncoding(components, protocol);\n    if (options.reference !== \"suffix\" && components.scheme) {\n        uriTokens.push(components.scheme);\n        uriTokens.push(\":\");\n    }\n    var authority = _recomposeAuthority(components, options);\n    if (authority !== undefined) {\n        if (options.reference !== \"suffix\") {\n            uriTokens.push(\"//\");\n        }\n        uriTokens.push(authority);\n        if (components.path && components.path.charAt(0) !== \"/\") {\n            uriTokens.push(\"/\");\n        }\n    }\n    if (components.path !== undefined) {\n        var s = components.path;\n        if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n            s = removeDotSegments(s);\n        }\n        if (authority === undefined) {\n            s = s.replace(/^\\/\\//, \"/%2F\"); //don't allow the path to start with \"//\"\n        }\n        uriTokens.push(s);\n    }\n    if (components.query !== undefined) {\n        uriTokens.push(\"?\");\n        uriTokens.push(components.query);\n    }\n    if (components.fragment !== undefined) {\n        uriTokens.push(\"#\");\n        uriTokens.push(components.fragment);\n    }\n    return uriTokens.join(\"\"); //merge tokens into a string\n}\n\nfunction resolveComponents(base, relative) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var skipNormalization = arguments[3];\n\n    var target = {};\n    if (!skipNormalization) {\n        base = parse(serialize(base, options), options); //normalize base components\n        relative = parse(serialize(relative, options), options); //normalize relative components\n    }\n    options = options || {};\n    if (!options.tolerant && relative.scheme) {\n        target.scheme = relative.scheme;\n        //target.authority = relative.authority;\n        target.userinfo = relative.userinfo;\n        target.host = relative.host;\n        target.port = relative.port;\n        target.path = removeDotSegments(relative.path || \"\");\n        target.query = relative.query;\n    } else {\n        if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n            //target.authority = relative.authority;\n            target.userinfo = relative.userinfo;\n            target.host = relative.host;\n            target.port = relative.port;\n            target.path = removeDotSegments(relative.path || \"\");\n            target.query = relative.query;\n        } else {\n            if (!relative.path) {\n                target.path = base.path;\n                if (relative.query !== undefined) {\n                    target.query = relative.query;\n                } else {\n                    target.query = base.query;\n                }\n            } else {\n                if (relative.path.charAt(0) === \"/\") {\n                    target.path = removeDotSegments(relative.path);\n                } else {\n                    if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n                        target.path = \"/\" + relative.path;\n                    } else if (!base.path) {\n                        target.path = relative.path;\n                    } else {\n                        target.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n                    }\n                    target.path = removeDotSegments(target.path);\n                }\n                target.query = relative.query;\n            }\n            //target.authority = base.authority;\n            target.userinfo = base.userinfo;\n            target.host = base.host;\n            target.port = base.port;\n        }\n        target.scheme = base.scheme;\n    }\n    target.fragment = relative.fragment;\n    return target;\n}\n\nfunction resolve(baseURI, relativeURI, options) {\n    var schemelessOptions = assign({ scheme: 'null' }, options);\n    return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n}\n\nfunction normalize(uri, options) {\n    if (typeof uri === \"string\") {\n        uri = serialize(parse(uri, options), options);\n    } else if (typeOf(uri) === \"object\") {\n        uri = parse(serialize(uri, options), options);\n    }\n    return uri;\n}\n\nfunction equal(uriA, uriB, options) {\n    if (typeof uriA === \"string\") {\n        uriA = serialize(parse(uriA, options), options);\n    } else if (typeOf(uriA) === \"object\") {\n        uriA = serialize(uriA, options);\n    }\n    if (typeof uriB === \"string\") {\n        uriB = serialize(parse(uriB, options), options);\n    } else if (typeOf(uriB) === \"object\") {\n        uriB = serialize(uriB, options);\n    }\n    return uriA === uriB;\n}\n\nfunction escapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);\n}\n\nfunction unescapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);\n}\n\nvar handler = {\n    scheme: \"http\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        //report missing host\n        if (!components.host) {\n            components.error = components.error || \"HTTP URIs must have a host.\";\n        }\n        return components;\n    },\n    serialize: function serialize(components, options) {\n        var secure = String(components.scheme).toLowerCase() === \"https\";\n        //normalize the default port\n        if (components.port === (secure ? 443 : 80) || components.port === \"\") {\n            components.port = undefined;\n        }\n        //normalize the empty path\n        if (!components.path) {\n            components.path = \"/\";\n        }\n        //NOTE: We do not parse query strings for HTTP URIs\n        //as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n        //and not the HTTP spec.\n        return components;\n    }\n};\n\nvar handler$1 = {\n    scheme: \"https\",\n    domainHost: handler.domainHost,\n    parse: handler.parse,\n    serialize: handler.serialize\n};\n\nfunction isSecure(wsComponents) {\n    return typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === \"wss\";\n}\n//RFC 6455\nvar handler$2 = {\n    scheme: \"ws\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        var wsComponents = components;\n        //indicate if the secure flag is set\n        wsComponents.secure = isSecure(wsComponents);\n        //construct resouce name\n        wsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '');\n        wsComponents.path = undefined;\n        wsComponents.query = undefined;\n        return wsComponents;\n    },\n    serialize: function serialize(wsComponents, options) {\n        //normalize the default port\n        if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === \"\") {\n            wsComponents.port = undefined;\n        }\n        //ensure scheme matches secure flag\n        if (typeof wsComponents.secure === 'boolean') {\n            wsComponents.scheme = wsComponents.secure ? 'wss' : 'ws';\n            wsComponents.secure = undefined;\n        }\n        //reconstruct path from resource name\n        if (wsComponents.resourceName) {\n            var _wsComponents$resourc = wsComponents.resourceName.split('?'),\n                _wsComponents$resourc2 = slicedToArray(_wsComponents$resourc, 2),\n                path = _wsComponents$resourc2[0],\n                query = _wsComponents$resourc2[1];\n\n            wsComponents.path = path && path !== '/' ? path : undefined;\n            wsComponents.query = query;\n            wsComponents.resourceName = undefined;\n        }\n        //forbid fragment component\n        wsComponents.fragment = undefined;\n        return wsComponents;\n    }\n};\n\nvar handler$3 = {\n    scheme: \"wss\",\n    domainHost: handler$2.domainHost,\n    parse: handler$2.parse,\n    serialize: handler$2.serialize\n};\n\nvar O = {};\nvar isIRI = true;\n//RFC 3986\nvar UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nvar HEXDIG$$ = \"[0-9A-Fa-f]\"; //case-insensitive\nvar PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)); //expanded\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nvar ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nvar QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nvar VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nvar SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nvar UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nvar PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nvar NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nvar NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nvar NOT_HFVALUE = NOT_HFNAME;\nfunction decodeUnreserved(str) {\n    var decStr = pctDecChars(str);\n    return !decStr.match(UNRESERVED) ? str : decStr;\n}\nvar handler$4 = {\n    scheme: \"mailto\",\n    parse: function parse$$1(components, options) {\n        var mailtoComponents = components;\n        var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(\",\") : [];\n        mailtoComponents.path = undefined;\n        if (mailtoComponents.query) {\n            var unknownHeaders = false;\n            var headers = {};\n            var hfields = mailtoComponents.query.split(\"&\");\n            for (var x = 0, xl = hfields.length; x < xl; ++x) {\n                var hfield = hfields[x].split(\"=\");\n                switch (hfield[0]) {\n                    case \"to\":\n                        var toAddrs = hfield[1].split(\",\");\n                        for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {\n                            to.push(toAddrs[_x]);\n                        }\n                        break;\n                    case \"subject\":\n                        mailtoComponents.subject = unescapeComponent(hfield[1], options);\n                        break;\n                    case \"body\":\n                        mailtoComponents.body = unescapeComponent(hfield[1], options);\n                        break;\n                    default:\n                        unknownHeaders = true;\n                        headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n                        break;\n                }\n            }\n            if (unknownHeaders) mailtoComponents.headers = headers;\n        }\n        mailtoComponents.query = undefined;\n        for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {\n            var addr = to[_x2].split(\"@\");\n            addr[0] = unescapeComponent(addr[0]);\n            if (!options.unicodeSupport) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n                } catch (e) {\n                    mailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            } else {\n                addr[1] = unescapeComponent(addr[1], options).toLowerCase();\n            }\n            to[_x2] = addr.join(\"@\");\n        }\n        return mailtoComponents;\n    },\n    serialize: function serialize$$1(mailtoComponents, options) {\n        var components = mailtoComponents;\n        var to = toArray(mailtoComponents.to);\n        if (to) {\n            for (var x = 0, xl = to.length; x < xl; ++x) {\n                var toAddr = String(to[x]);\n                var atIdx = toAddr.lastIndexOf(\"@\");\n                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n                var domain = toAddr.slice(atIdx + 1);\n                //convert IDN via punycode\n                try {\n                    domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);\n                } catch (e) {\n                    components.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n                to[x] = localPart + \"@\" + domain;\n            }\n            components.path = to.join(\",\");\n        }\n        var headers = mailtoComponents.headers = mailtoComponents.headers || {};\n        if (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n        if (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n        var fields = [];\n        for (var name in headers) {\n            if (headers[name] !== O[name]) {\n                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + \"=\" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));\n            }\n        }\n        if (fields.length) {\n            components.query = fields.join(\"&\");\n        }\n        return components;\n    }\n};\n\nvar URN_PARSE = /^([^\\:]+)\\:(.*)/;\n//RFC 2141\nvar handler$5 = {\n    scheme: \"urn\",\n    parse: function parse$$1(components, options) {\n        var matches = components.path && components.path.match(URN_PARSE);\n        var urnComponents = components;\n        if (matches) {\n            var scheme = options.scheme || urnComponents.scheme || \"urn\";\n            var nid = matches[1].toLowerCase();\n            var nss = matches[2];\n            var urnScheme = scheme + \":\" + (options.nid || nid);\n            var schemeHandler = SCHEMES[urnScheme];\n            urnComponents.nid = nid;\n            urnComponents.nss = nss;\n            urnComponents.path = undefined;\n            if (schemeHandler) {\n                urnComponents = schemeHandler.parse(urnComponents, options);\n            }\n        } else {\n            urnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n        }\n        return urnComponents;\n    },\n    serialize: function serialize$$1(urnComponents, options) {\n        var scheme = options.scheme || urnComponents.scheme || \"urn\";\n        var nid = urnComponents.nid;\n        var urnScheme = scheme + \":\" + (options.nid || nid);\n        var schemeHandler = SCHEMES[urnScheme];\n        if (schemeHandler) {\n            urnComponents = schemeHandler.serialize(urnComponents, options);\n        }\n        var uriComponents = urnComponents;\n        var nss = urnComponents.nss;\n        uriComponents.path = (nid || options.nid) + \":\" + nss;\n        return uriComponents;\n    }\n};\n\nvar UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\n//RFC 4122\nvar handler$6 = {\n    scheme: \"urn:uuid\",\n    parse: function parse(urnComponents, options) {\n        var uuidComponents = urnComponents;\n        uuidComponents.uuid = uuidComponents.nss;\n        uuidComponents.nss = undefined;\n        if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n            uuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n        }\n        return uuidComponents;\n    },\n    serialize: function serialize(uuidComponents, options) {\n        var urnComponents = uuidComponents;\n        //normalize UUID\n        urnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n        return urnComponents;\n    }\n};\n\nSCHEMES[handler.scheme] = handler;\nSCHEMES[handler$1.scheme] = handler$1;\nSCHEMES[handler$2.scheme] = handler$2;\nSCHEMES[handler$3.scheme] = handler$3;\nSCHEMES[handler$4.scheme] = handler$4;\nSCHEMES[handler$5.scheme] = handler$5;\nSCHEMES[handler$6.scheme] = handler$6;\n\nexports.SCHEMES = SCHEMES;\nexports.pctEncChar = pctEncChar;\nexports.pctDecChars = pctDecChars;\nexports.parse = parse;\nexports.removeDotSegments = removeDotSegments;\nexports.serialize = serialize;\nexports.resolveComponents = resolveComponents;\nexports.resolve = resolve;\nexports.normalize = normalize;\nexports.equal = equal;\nexports.escapeComponent = escapeComponent;\nexports.unescapeComponent = unescapeComponent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=uri.all.js.map\n"],"names":["Object","defineProperty","exports","value","CodeGen","Name","nil","stringify","str","_","KeywordCxt","core_1","draft7_1","discriminator_1","draft7MetaSchema","META_SUPPORT_DATA","META_SCHEMA_ID","Ajv","default","_addVocabularies","super","forEach","v","this","addVocabulary","opts","discriminator","addKeyword","_addDefaultMetaSchema","meta","metaSchema","$data","$dataMetaSchema","addMetaSchema","refs","defaultMeta","getSchema","undefined","module","validate_1","enumerable","get","codegen_1","regexpCode","getProperty","safeStringify","strConcat","addCodeArg","_Code","IDENTIFIER","_CodeOrName","constructor","s","test","Error","toString","emptyStr","names","code","_items","length","item","_a","_str","reduce","c","_names","strs","args","i","push","plus","expr","res","mergeExprItems","splice","optimize","arg","x","Array","isArray","join","a","b","slice","JSON","replace","c1","c2","key","rx","or","and","not","operators","varKinds","ValueScopeName","ValueScope","Scope","code_1","scope_1","code_2","scope_2","GT","GTE","LT","LTE","EQ","NEQ","NOT","OR","AND","ADD","Node","optimizeNodes","optimizeNames","_constants","Def","varKind","name","rhs","render","es5","_n","var","constants","optimizeExpr","Assign","lhs","sideEffects","addExprNames","AssignOp","op","Label","label","Break","Throw","error","AnyCode","ParentNode","nodes","n","subtractNames","addNames","BlockNode","Root","Else","kind","If","condition","else","cond","e","ns","For","ForLoop","iteration","ForRange","from","to","ForIter","loop","iterable","Func","async","Return","Try","catch","finally","_b","Catch","Finally","replaceName","some","items","par","extScope","_values","_blockStarts","lines","_extScope","_scope","parent","_nodes","_root","prefix","scopeName","scopeValue","prefixOrName","Set","add","getScopeValue","keyOrRef","getValue","scopeRefs","scopeCode","_def","nameOrPrefix","constant","toName","_leafNode","const","_constant","let","assign","object","keyValues","if","thenBody","elseBody","_blockNode","endIf","elseIf","_elseNode","_endBlockNode","_for","node","forBody","endFor","for","forRange","forOf","arr","forIn","obj","ownProperties","break","return","try","tryBody","catchCode","finallyCode","_currNode","throw","block","body","nodeCount","endBlock","len","pop","toClose","func","funcBody","endFunc","N1","N2","andCode","mappend","orCode","y","UsedValueState","ValueError","prefixes","_prefixes","_parent","_newName","_nameGroup","index","has","nameStr","setValue","property","itemIndex","scopePath","line","scope","ref","valueKey","vs","_name","Map","set","values","_reduceValues","usedValues","getCode","valueCode","nameSet","Started","def","Completed","extendErrors","resetErrorsCount","reportExtraError","reportError","keyword$DataError","keywordError","util_1","names_1","addError","gen","errObj","err","vErrors","errors","returnErrors","it","errs","validateName","schemaEnv","$async","ValidationError","message","keyword","schemaType","cxt","errorPaths","overrideAllErrors","compositeRule","allErrors","errorObjectCode","errsCount","schemaValue","data","instancePath","errorPath","errSchemaPath","verbose","E","schemaPath","params","propertyName","schema","parentSchema","createErrors","errorInstancePath","errorSchemaPath","topSchemaRef","messages","extraErrorProps","errorObject","instPath","getErrorPath","Type","Str","schPath","resolveSchema","getCompilingSchema","resolveRef","compileSchema","SchemaEnv","validation_error_1","resolve_1","URI","env","dynamicAnchors","schemaId","root","baseId","normalizeId","localRefs","sch","_sch","call","rootId","getFullPath","_ValidationError","schemaCxt","parentData","parentDataProperty","dataNames","dataPathArr","dataLevel","dataTypes","definedProperties","source","jtd","self","sourceCode","_compilations","validateFunctionCode","validateCode","process","validate","Function","makeValidate","scopeValues","unevaluated","props","evaluated","dynamicProps","dynamicItems","logger","delete","inlineOrCompile","inlineRef","inlineRefs","schEnv","s2","s1","resolve","schemas","p","parse","refPath","_getFullPath","keys","getJsonPointer","id","schOrRef","schId","resolveUrl","schOrFunc","PREVENT_SCOPE_CHANGE","parsedRef","fragment","part","split","partSchema","unescapeFragment","$ref","schemaHasRulesButRef","RULES","valCxt","rootData","json","jsonPos","jsonLen","jsonPart","MissingRefError","msg","missingRef","missingSchema","getSchemaRefs","equal","traverse","SIMPLE_INLINED","limit","hasRef","countKeys","REF_KEYWORDS","count","Infinity","eachItem","normalize","serialize","TRAILING_SLASH_HASH","ANCHOR","baseIds","pathPrefix","schemaRefs","allKeys","jsonPtr","parentJsonPtr","fullPath","addRef","ambiguos","checkAmbiguosRef","addAnchor","anchor","$anchor","$dynamicAnchor","sch1","sch2","getRules","isJSONType","jsonTypes","groups","number","type","rules","string","array","types","integer","boolean","null","post","all","keywords","checkStrictMode","useFunc","setEvaluated","evaluatedPropsToName","mergeEvaluated","unescapeJsonPointer","escapeJsonPointer","escapeFragment","schemaRefOrVal","schemaHasRules","checkUnknownRules","alwaysValidSchema","toHash","strictSchema","makeMergeEvaluated","mergeNames","mergeToName","mergeValues","resultToName","ps","hash","decodeURIComponent","encodeURIComponent","xs","f","Math","max","snippets","mode","warn","dataProp","dataPropType","jsPropertySyntax","isNumber","Num","shouldUseGroup","group","rule","shouldUseRule","definition","implements","kwd","schemaHasRulesForType","boolOrEmptySchema","topBoolOrEmptySchema","errors_1","boolError","falseSchemaError","schemaCode","valid","reportTypeError","checkDataTypes","checkDataType","coerceAndCheckDataType","getJSONTypes","getSchemaTypes","DataType","rules_1","applicability_1","ts","every","includes","nullable","coerceTo","coerceTypes","filter","t","COERCIBLE","coerceToTypes","checkTypes","wrongType","strictNumbers","Wrong","dataType","coerced","coerceSpecificType","assignParentData","coerceData","strictNums","correct","Correct","numCond","_cond","notObj","typeError","getTypeErrorContext","assignDefaults","assignDefault","prop","defaultValue","childData","useDefaults","ty","properties","getData","boolSchema_1","dataType_1","dataType_2","defaults_1","keyword_1","subschema_1","validateFunction","funcSourceUrl","dynamicRef","destructureValCxtES5","destructureValCxt","subschemaCode","isSchemaObj","checkKeywords","schemaCxtHasRules","$comment","commentKeyword","updateContext","checkAsyncSchema","typeAndKeywords","subSchemaObjCode","ignoreKeywordsWithRef","checkRefsAndKeywords","schemaKeywords","rootName","typeErrors","groupKeywords","iterateKeywords","strictTypes","includesType","strictTypesError","checkContextTypes","allowUnionTypes","checkMultipleTypes","hasApplicableType","checkKeywordTypes","checkStrictTypes","keywordCode","schTs","kwdT","checkNoDefault","resetEvaluated","assignEvaluated","returnResults","topSchemaObjCode","validateKeywordUsage","validSchemaType","allowUndefined","trackErrors","result","successAction","failAction","failResult","pass","fail","fail$data","invalid$data","append","errorParams","setParams","_error","$dataError","reset","ok","block$data","codeBlock","$dataValid","check$data","validateSchema","st","wrong$DataType","validateSchemaRef","invalid$DataSchema","subschema","appl","getSubschema","extendSubschemaData","extendSubschemaMode","nextContext","mergeValidEvaluated","ruleType","funcKeywordCode","macroKeywordCode","compile","JSON_POINTER","RELATIVE_JSON_POINTER","jsonPointer","matches","exec","up","errorMsg","segments","segment","pointerType","modifyData","useKeyword","macroSchema","macro","schemaRef","checkAsyncKeyword","validateRef","assignValid","_await","passCxt","passContext","passSchema","callValidateCode","modifying","reportErrs","ruleErrs","validateAsync","validateErrs","validateSync","addErrs","deps","dependencies","prototype","hasOwnProperty","errorsText","schemaProp","dpType","dataContextProps","_nextData","jtdDiscriminator","jtdMetadata","ref_error_1","compile_1","codegen_2","$dataRefSchema","defaultRegExp","flags","RegExp","META_IGNORE_OPTIONS","EXT_SCOPE_NAMES","removedOptions","errorDataPath","format","jsonPointers","extendRefs","missingRefs","processCode","strictDefaults","strictKeywords","uniqueItems","unknownFormats","cache","ajvErrors","deprecatedOptions","unicode","requiredOptions","o","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","strict","_optz","regExp","strictTuples","strictRequired","loopRequired","loopEnum","addUsedSchema","validateFormats","unicodeRegExp","int32range","formats","_loading","_cache","noLogs","console","log","getLogger","formatOpt","checkOptions","_metaOpts","getMetaSchemaOptions","addInitialFormats","addInitialKeywords","addInitialSchemas","_dataRefSchema","$id","schemaKeyRef","_meta","_addSchema","_compileSchemaEnv","compileAsync","loadSchema","runCompileAsync","_schema","loadMetaSchema","$schema","_compileAsync","checkLoaded","loadMissingSchema","_loadSchema","addSchema","_validateSchema","_checkUnique","throwOrLogError","keyRef","getSchEnv","removeSchema","_removeAllSchemas","clear","cacheKey","definitions","kwdOrDef","checkKeyword","addRule","keywordMetaschema","k","getKeyword","removeKeyword","findIndex","addFormat","separator","dataVar","map","text","keywordsJsonPointers","seg","schemaOrData","regex","startsWith","_compileMetaSchema","currentOpts","checkOpts","options","opt","optsSchemas","defs","metaOpts","KEYWORD_NAME","ruleGroup","find","before","addBeforeRule","_rule","$dataRef","anyOf","ucs2length","pos","charCodeAt","ajv","validation","validateAdditionalItems","validateItems","additionalProperty","removeAdditional","allSchemaProperties","patProps","patternProperties","deleteAdditional","additionalPropertyCode","applyAdditionalSchema","definedProp","propsSchema","isOwnProperty","usePattern","isAdditional","schCxt","validateUnion","min","minContains","maxContains","next","validateItemsWithCount","schValid","checkLimits","_valid","validateSchemaDeps","validatePropertyDeps","depsCount","property_ies","missingProperty","propDeps","schDeps","propertyDeps","schemaDeps","splitDependencies","missing","hasProperty","propertyInData","depProp","checkReportMissingProp","checkMissingProp","reportMissingProp","ifClause","then","hasThen","hasSchema","hasElse","validateIf","validateClause","additionalItems_1","prefixItems_1","items_1","items2020_1","contains_1","dependencies_1","propertyNames_1","additionalProperties_1","properties_1","patternProperties_1","not_1","anyOf_1","oneOf_1","allOf_1","if_1","thenElse_1","draft2020","applicator","validateTuple","validateArray","extraItems","schArr","l","fullTuple","minItems","maxItems","checkStrictTuple","prefixItems","passing","util_2","patterns","alwaysValidPatterns","checkProperties","allowMatchingProperties","checkMatchingProperties","pat","validateProperties","alwaysValid","validatePatternProperties","additionalProperties","allProps","hasDefault","applyPropertySchema","schemaProperties","noPropertyInData","hasPropFunc","schemaMap","context","dataAndSchema","newRegExp","pattern","u","validArr","notValid","id_1","ref_1","core","callRef","getValidate","callRootRef","schOrEnv","callValidate","schName","inlineRefSchema","addErrorsFrom","addEvaluatedFrom","schEvaluated","callAsyncRef","types_1","discrError","tagName","DiscrError","Tag","tag","oneOf","mapping","applyTagSchema","oneOfMapping","topRequired","hasRequired","tagRequired","propSch","addMappings","required","addMapping","enum","tagValue","getMapping","Mapping","validateMapping","validation_1","applicator_1","format_1","metadata_1","draft7Vocabularies","metadataVocabulary","contentVocabulary","fmts","fDef","fType","callFormat","validData","invalidFmt","validate$DataFormat","formatDef","unknownMsg","unknownFormat","fmtType","fmtRef","fmtDef","fmt","getFormat","validCondition","validateFormat","equal_1","useLoop","eql","vSchema","equalCode","limitNumber_1","multipleOf_1","limitLength_1","pattern_1","limitProperties_1","required_1","limitItems_1","uniqueItems_1","const_1","enum_1","comp","ucs2length_1","ops","KWDs","maximum","okStr","minimum","exclusiveMaximum","exclusiveMinimum","prec","multipleOfPrecision","invalid","loopAllRequired","allErrorsMode","loopUntilMissing","exitOnErrorMode","requiredKey","j","itemTypes","loopN","indices","loopN2","outer","valueOf","cb","_traverse","pre","rootSchema","parentKeyword","keyIndex","arrayKeywords","propsKeywords","skipKeywords","additionalItems","contains","propertyNames","allOf","$defs","multipleOf","maxLength","minLength","maxProperties","minProperties","merge","_len","arguments","sets","_key","xl","subexp","typeOf","shift","toLowerCase","toUpperCase","toArray","setInterval","target","buildExps","isIRI","ALPHA$$","DIGIT$$","HEXDIG$$","PCT_ENCODED$","SUB_DELIMS$$","RESERVED$$","IPRIVATE$$","UNRESERVED$$","SCHEME$","USERINFO$","DEC_OCTET_RELAXED$","IPV4ADDRESS$","H16$","LS32$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","IPV6ADDRESS$","ZONEID$","IPV6ADDRZ_RELAXED$","IPVFUTURE$","IP_LITERAL$","REG_NAME$","HOST$","PORT$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","PATH_NOSCHEME$","PATH_ROOTLESS$","PATH_EMPTY$","QUERY$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","NOT_SCHEME","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","OTHER_CHARS","PCT_ENCODED","IPV4ADDRESS","IPV6ADDRESS","URI_PROTOCOL","IRI_PROTOCOL","slicedToArray","sliceIterator","_arr","_i","Symbol","iterator","done","TypeError","toConsumableArray","arr2","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","baseMinusTMin","floor","stringFromCharCode","String","fromCharCode","error$1","RangeError","fn","mapDomain","parts","ucs2decode","output","counter","extra","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","input","inputLength","bias","basic","lastIndexOf","oldi","w","baseMinusT","out","fromCodePoint","apply","encode","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_currentValue2","basicLength","handledCPCount","m","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","currentValue","handledCPCountPlusOne","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_currentValue","q","qMinusT","toUnicode","toASCII","punycode","SCHEMES","pctEncChar","chr","pctDecChars","newStr","il","parseInt","substr","c3","_normalizeComponentEncoding","components","protocol","decodeUnreserved","decStr","match","scheme","userinfo","host","path","query","_stripLeadingZeros","_normalizeIPv4","address","_normalizeIPv6","_matches2","zone","_address$toLowerCase$","reverse","_address$toLowerCase$2","last","first","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","longestZeroFields","acc","field","lastLongest","sort","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","uriString","iri","reference","port","isNaN","indexOf","schemeHandler","unicodeSupport","domainHost","_recomposeAuthority","uriTokens","$1","$2","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","authority","charAt","absolutePath","resolveComponents","relative","tolerant","baseURI","relativeURI","schemelessOptions","uri","uriA","uriB","escapeComponent","unescapeComponent","handler","secure","handler$1","isSecure","wsComponents","handler$2","resourceName","_wsComponents$resourc","_wsComponents$resourc2","handler$3","O","ATEXT$$","VCHAR$$","SOME_DELIMS$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","handler$4","mailtoComponents","unknownHeaders","headers","hfields","hfield","toAddrs","_xl","subject","_x2","_xl2","addr","toAddr","atIdx","localPart","domain","URN_PARSE","handler$5","urnComponents","nid","nss","urnScheme","uriComponents","UUID","handler$6","uuidComponents","uuid","factory"],"sourceRoot":""}