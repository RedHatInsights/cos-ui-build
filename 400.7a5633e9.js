"use strict";(self.webpackChunkcos_ui=self.webpackChunkcos_ui||[]).push([[400],{3054:(e,t,n)=>{n.r(t);var o=n(75418),a=n.n(o),r=n(66235),l=n(47091),i=(n(49901),n(74651),n(18391),n(56594),n(94694),n(99521),n(15202),n(70655)),c=n(21012),s=n(9980);const u=({children:e})=>{const[t,n]=(0,o.useState)([]),[r,l]=(0,o.useState)([]);(0,o.useEffect)((()=>{const e=r.map((e=>e.key)),n=t.filter((t=>!e.includes(null==t?void 0:t.id))).map((e=>{const{id:t=""}=e,n=setTimeout((()=>i(t)),8e3);return{key:e.id,timeOut:n}}));return l([...r,...n]),()=>r.forEach((e=>(null==e?void 0:e.timeOut)&&clearTimeout(e.timeOut)))}),[t]);const i=e=>{n((t=>[...t.filter((t=>t.id!==e))])),l((t=>[...t.filter((t=>t.key===e))]))};return a().createElement(s.AlertContext.Provider,{value:{addAlert:e=>{const o=(new Date).getTime().toString();n([...t,Object.assign(Object.assign({},e),{id:o})])}}},a().createElement(d,{alerts:t,onCloseAlert:i}),e)},d=({alerts:e,onCloseAlert:t})=>a().createElement(c.AlertGroup,{isToast:!0},e.map((e=>{var{id:n,variant:o,title:r,description:l,dataTestId:u}=e,d=(0,i._T)(e,["id","variant","title","description","dataTestId"]);return a().createElement(c.Alert,Object.assign({key:n,isLiveRegion:!0,variant:s.AlertVariant[o],variantLabel:"",title:r,actionClose:a().createElement(c.AlertActionCloseButton,{title:r,onClose:()=>t(n)}),"data-testid":u},d),l)})));var m=n(31521),v=n(98068);const p=n.p+"f940137c.svg",g=({children:e})=>{const[t,n]=(0,o.useState)(!0),[r,l]=(0,o.useState)(!0),[i,s]=(0,o.useState)(!1),{t:u}=(0,m.useTranslation)(),d=a().createElement(c.PageHeaderTools,null,"email"),p=a().createElement(c.PageHeader,{logo:a().createElement(E,null),showNavToggle:!0,isNavOpen:t,headerTools:d,onNavToggle:r?()=>{s(!i)}:()=>{n(!t)},"aria-label":"global_navigation"}),g=a().createElement(c.Nav,{id:"nav-primary-simple",role:"navigation",theme:"dark","aria-label":"global"},a().createElement(c.NavList,{id:"nav-list-simple"},a().createElement(c.NavItem,{id:"connectors"},a().createElement(v.NavLink,{to:"/",activeClassName:"pf-m-current"},u("managedConnectors"))))),h=a().createElement(c.PageSidebar,{theme:"dark",nav:g,isNavOpen:r?i:t});return a().createElement(c.Page,{mainContainerId:"primary-app-container",role:"main",header:p,sidebar:h,onPageResize:e=>{l(e.mobileView)}},e)};function E(){const e=(0,v.useHistory)();return a().createElement("img",{src:p,onClick:function(){e.push("/")},alt:"PatternFly Logo"})}var h=n(91031),f=n(78800),k=n(79701),b=n(32385),y=n.n(b);let P;const C=()=>(0,i.mG)(void 0,void 0,void 0,(function*(){return P||(yield A()),P})),A=()=>(0,i.mG)(void 0,void 0,void 0,(function*(){try{P=new(y())({realm:"redhat-external",url:"https://sso.redhat.com/auth/",clientId:"cloud-services",promiseType:"native"}),P&&(yield P.init({onLoad:"login-required",promiseType:"native"}))}catch(e){P=void 0,console.warn("Auth: Unable to initialize keycloak. Client side will not be configured to use authentication",e)}})),T=()=>(0,i.mG)(void 0,void 0,void 0,(function*(){return yield null==P?void 0:P.updateToken(50),(null==P?void 0:P.token)?P.token:(console.error("No keycloak token available"),"foo")})),z=a().createContext({keycloak:void 0}),B=e=>{const t={kas:{getToken:T},getUsername:()=>(0,i.mG)(void 0,void 0,void 0,(function*(){return yield null==P?void 0:P.updateToken(50),(null==P?void 0:P.tokenParsed)?P.tokenParsed:(console.error("No keycloak token available"),{})})).then((e=>e.username))};return a().createElement(s.AuthContext.Provider,{value:t},e.children)};let x;const N=()=>{const[e,t]=(0,o.useState)(!1),n=(0,o.useCallback)((()=>"/"),[]);(0,o.useEffect)((()=>{(0,i.mG)(void 0,void 0,void 0,(function*(){x=yield C(),t(!0)}))}),[]);return a().createElement(z.Provider,{value:{keycloak:x,profile:null==x?void 0:x.profile}},a().createElement(B,null,a().createElement(s.BasenameContext.Provider,{value:{getBasename:n}},a().createElement(s.ConfigContext.Provider,{value:{cos:{apiBasePath:"https://wxn4aqqc8bqvxcy6unfe.api.stage.openshift.com",configurators:{debezium:{remoteEntry:"https://qaprodauth.cloud.redhat.com/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js",scope:"debezium_ui",module:"./config"}}}}},a().createElement(m.I18nextProvider,{i18n:f.Z},a().createElement(u,null,a().createElement(a().Suspense,{fallback:a().createElement(h.g,null)},a().createElement(v.BrowserRouter,null,a().createElement(g,null,e?a().createElement(S,null):a().createElement(c.Spinner,null))))))))))},S=()=>{const e=(0,s.useAuth)(),t=(0,s.useConfig)();return a().createElement(k.e,{getToken:()=>(0,i.mG)(void 0,void 0,void 0,(function*(){return(yield null==e?void 0:e.kas.getToken())||""})),connectorsApiBasePath:(null==t?void 0:t.cos.apiBasePath)||"",kafkaManagementApiBasePath:"https://api.openshift.com"})},w=()=>{const e=(0,o.useCallback)((()=>"/"),[]),t={kas:{getToken:()=>Promise.resolve("dummy")},getUsername:()=>Promise.resolve("username")};return a().createElement(s.AuthContext.Provider,{value:t},a().createElement(s.BasenameContext.Provider,{value:{getBasename:e}},a().createElement(s.ConfigContext.Provider,{value:{cos:{apiBasePath:"localhost",configurators:{"debezium-mongodb-1.9.0.Alpha1":{remoteEntry:"https://qaprodauth.cloud.redhat.com/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js",scope:"debezium_ui",module:"./config"},"debezium-mysql-1.9.0.Alpha1":{remoteEntry:"https://qaprodauth.cloud.redhat.com/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js",scope:"debezium_ui",module:"./config"},"debezium-postgres-1.9.0.Alpha1":{remoteEntry:"https://qaprodauth.cloud.redhat.com/apps/dbz-ui-build/dbz-connector-configurator.remoteEntry.js",scope:"debezium_ui",module:"./config"}}}}},a().createElement(m.I18nextProvider,{i18n:f.Z},a().createElement(u,null,a().createElement(a().Suspense,{fallback:a().createElement(h.g,null)},a().createElement(v.BrowserRouter,null,a().createElement(g,null,a().createElement(I,null)))))))))},I=()=>{const e=(0,s.useAuth)(),t=(0,s.useConfig)();return a().createElement(k.e,{getToken:()=>(0,i.mG)(void 0,void 0,void 0,(function*(){return(yield null==e?void 0:e.kas.getToken())||""})),connectorsApiBasePath:(null==t?void 0:t.cos.apiBasePath)||"",kafkaManagementApiBasePath:"https://api.openshift.com"})};"MISSING_ENV_VAR".DEMO_APP?((0,l.XY)({iframe:!1}),r.render(o.createElement(N,null),document.getElementById("root"))):r.render(o.createElement(w,null),document.getElementById("root"))}}]);
//# sourceMappingURL=400.7a5633e9.js.map