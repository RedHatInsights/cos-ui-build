"use strict";(self.webpackChunk_cos_ui_apps_cos_ui=self.webpackChunk_cos_ui_apps_cos_ui||[]).push([[487],{11615:(module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('// extracted by mini-css-extract-plugin\n\n    if(true) {\n      // 1627469878827\n      var cssReload = __webpack_require__(42779)(module.id, {"locals":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE2MTUuanMiLCJtYXBwaW5ncyI6IkFBQUE7b0JBQ1U7QUFDVixPQUFPLElBQVU7QUFDakI7QUFDQSxzQkFBc0IsbUJBQU8sQ0FBQyxLQUE4SCxjQUFjLGVBQWU7QUFDekwsTUFBTSxVQUFVO0FBQ2hCLE1BQU0saUJBQWlCO0FBQ3ZCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwcC9kaXN0L2Nvcy11aS1hcHAuY3NzPzIzNWUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307XG4gICAgaWYobW9kdWxlLmhvdCkge1xuICAgICAgLy8gMTYyNzQ2OTg3ODgyN1xuICAgICAgdmFyIGNzc1JlbG9hZCA9IHJlcXVpcmUoXCIvVXNlcnMvcmljY2FyZG9mb3JpbmEvQ29kZS9iZjJmYzZjYzcxMWFlZTFhMGMyYS9jb3MtdWkvbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvaG1yL2hvdE1vZHVsZVJlcGxhY2VtZW50LmpzXCIpKG1vZHVsZS5pZCwge1wibG9jYWxzXCI6ZmFsc2V9KTtcbiAgICAgIG1vZHVsZS5ob3QuZGlzcG9zZShjc3NSZWxvYWQpO1xuICAgICAgbW9kdWxlLmhvdC5hY2NlcHQodW5kZWZpbmVkLCBjc3NSZWxvYWQpO1xuICAgIH1cbiAgIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///11615\n')},64751:(module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('// extracted by mini-css-extract-plugin\n\n    if(true) {\n      // 1627469878832\n      var cssReload = __webpack_require__(42779)(module.id, {"locals":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQ3NTEuanMiLCJtYXBwaW5ncyI6IkFBQUE7b0JBQ1U7QUFDVixPQUFPLElBQVU7QUFDakI7QUFDQSxzQkFBc0IsbUJBQU8sQ0FBQyxLQUE4SCxjQUFjLGVBQWU7QUFDekwsTUFBTSxVQUFVO0FBQ2hCLE1BQU0saUJBQWlCO0FBQ3ZCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2NyZWF0aW9uV2l6YXJkL2Rpc3QvY29zLXVpLWNyZWF0aW9uLXdpemFyZC5jc3M/ODU1YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTtcbiAgICBpZihtb2R1bGUuaG90KSB7XG4gICAgICAvLyAxNjI3NDY5ODc4ODMyXG4gICAgICB2YXIgY3NzUmVsb2FkID0gcmVxdWlyZShcIi9Vc2Vycy9yaWNjYXJkb2ZvcmluYS9Db2RlL2JmMmZjNmNjNzExYWVlMWEwYzJhL2Nvcy11aS9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9obXIvaG90TW9kdWxlUmVwbGFjZW1lbnQuanNcIikobW9kdWxlLmlkLCB7XCJsb2NhbHNcIjpmYWxzZX0pO1xuICAgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGNzc1JlbG9hZCk7XG4gICAgICBtb2R1bGUuaG90LmFjY2VwdCh1bmRlZmluZWQsIGNzc1JlbG9hZCk7XG4gICAgfVxuICAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///64751\n')},71487:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": () => (/* binding */ federated)\n});\n\n// EXTERNAL MODULE: ../../packages/app/dist/cos-ui-app.css\nvar cos_ui_app = __webpack_require__(11615);\n// EXTERNAL MODULE: ../../packages/creationWizard/dist/cos-ui-creation-wizard.css\nvar cos_ui_creation_wizard = __webpack_require__(64751);\n// EXTERNAL MODULE: consume shared module (default) react@=17.0.1 (singleton) (fallback: ../../node_modules/react/index.js) (eager)\nvar index_js_eager_ = __webpack_require__(10791);\nvar index_js_eager_default = /*#__PURE__*/__webpack_require__.n(index_js_eager_);\n// EXTERNAL MODULE: consume shared module (default) @patternfly/react-core@=4.135.0 (strict) (fallback: ../../node_modules/@patternfly/react-core/dist/esm/index.js)\nvar index_js_ = __webpack_require__(78817);\n// EXTERNAL MODULE: consume shared module (default) @bf2/ui-shared@=0.5.0 (singleton) (fallback: ../../node_modules/@bf2/ui-shared/dist/esm/index.js) (eager)\nvar esm_index_js_eager_ = __webpack_require__(29815);\n// EXTERNAL MODULE: consume shared module (default) react-router-dom@=5.2.0 (singleton) (fallback: ../../node_modules/react-router-dom/esm/react-router-dom.js) (eager)\nvar react_router_dom_js_eager_ = __webpack_require__(36978);\n// EXTERNAL MODULE: consume shared module (default) react-i18next@=11.11.4 (strict) (fallback: ../../node_modules/react-i18next/dist/es/index.js)\nvar es_index_js_ = __webpack_require__(57426);\n// EXTERNAL MODULE: ../../packages/utils/dist/utils.esm.js\nvar utils_esm = __webpack_require__(41361);\n// EXTERNAL MODULE: consume shared module (default) i18next@=20.3.5 (strict) (fallback: ../../node_modules/i18next/dist/esm/i18next.js)\nvar i18next_js_ = __webpack_require__(85556);\nvar i18next_js_default = /*#__PURE__*/__webpack_require__.n(i18next_js_);\n// EXTERNAL MODULE: consume shared module (default) i18next-http-backend@=1.2.8 (strict) (fallback: ../../node_modules/i18next-http-backend/esm/index.js)\nvar esm_index_js_ = __webpack_require__(92546);\nvar esm_index_js_default = /*#__PURE__*/__webpack_require__.n(esm_index_js_);\n// EXTERNAL MODULE: consume shared module (default) i18next-browser-languagedetector@=6.1.2 (strict) (fallback: ../../node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js)\nvar i18nextBrowserLanguageDetector_js_ = __webpack_require__(5628);\nvar i18nextBrowserLanguageDetector_js_default = /*#__PURE__*/__webpack_require__.n(i18nextBrowserLanguageDetector_js_);\n// EXTERNAL MODULE: ../../node_modules/keycloak-js/dist/keycloak.js\nvar keycloak = __webpack_require__(34482);\n// EXTERNAL MODULE: ../../packages/machines/dist/machines.esm.js\nvar machines_esm = __webpack_require__(83255);\n// EXTERNAL MODULE: consume shared module (default) @patternfly/react-styles@=4.11.0 (strict) (fallback: ../../node_modules/@patternfly/react-styles/dist/esm/index.js)\nvar dist_esm_index_js_ = __webpack_require__(79419);\n// EXTERNAL MODULE: consume shared module (default) @patternfly/react-table@=4.29.0 (strict) (fallback: ../../node_modules/@patternfly/react-table/dist/esm/index.js)\nvar react_table_dist_esm_index_js_ = __webpack_require__(53036);\n// EXTERNAL MODULE: consume shared module (default) @patternfly/react-icons@=4.11.0 (strict) (fallback: ../../node_modules/@patternfly/react-icons/dist/esm/index.js)\nvar react_icons_dist_esm_index_js_ = __webpack_require__(99237);\n// EXTERNAL MODULE: ../../packages/creationWizard/dist/index.js\nvar dist = __webpack_require__(70793);\n;// CONCATENATED MODULE: ../../packages/app/dist/app.esm.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar runtime_1 = /*#__PURE__*/createCommonjsModule(function (module) {\n  /**\n   * Copyright (c) 2014-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  var runtime = function (exports) {\n\n    var Op = Object.prototype;\n    var hasOwn = Op.hasOwnProperty;\n    var undefined$1; // More compressible than void 0.\n\n    var $Symbol = typeof Symbol === "function" ? Symbol : {};\n    var iteratorSymbol = $Symbol.iterator || "@@iterator";\n    var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";\n    var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";\n\n    function define(obj, key, value) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n      return obj[key];\n    }\n\n    try {\n      // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n      define({}, "");\n    } catch (err) {\n      define = function define(obj, key, value) {\n        return obj[key] = value;\n      };\n    }\n\n    function wrap(innerFn, outerFn, self, tryLocsList) {\n      // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n      var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n      var generator = Object.create(protoGenerator.prototype);\n      var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next,\n      // .throw, and .return methods.\n\n      generator._invoke = makeInvokeMethod(innerFn, self, context);\n      return generator;\n    }\n\n    exports.wrap = wrap; // Try/catch helper to minimize deoptimizations. Returns a completion\n    // record like context.tryEntries[i].completion. This interface could\n    // have been (and was previously) designed to take a closure to be\n    // invoked without arguments, but in all the cases we care about we\n    // already have an existing method we want to call, so there\'s no need\n    // to create a new function object. We can even get away with assuming\n    // the method takes exactly one argument, since that happens to be true\n    // in every case, so we don\'t have to touch the arguments object. The\n    // only additional allocation required is the completion record, which\n    // has a stable shape and so hopefully should be cheap to allocate.\n\n    function tryCatch(fn, obj, arg) {\n      try {\n        return {\n          type: "normal",\n          arg: fn.call(obj, arg)\n        };\n      } catch (err) {\n        return {\n          type: "throw",\n          arg: err\n        };\n      }\n    }\n\n    var GenStateSuspendedStart = "suspendedStart";\n    var GenStateSuspendedYield = "suspendedYield";\n    var GenStateExecuting = "executing";\n    var GenStateCompleted = "completed"; // Returning this object from the innerFn has the same effect as\n    // breaking out of the dispatch switch statement.\n\n    var ContinueSentinel = {}; // Dummy constructor functions that we use as the .constructor and\n    // .constructor.prototype properties for functions that return Generator\n    // objects. For full spec compliance, you may wish to configure your\n    // minifier not to mangle the names of these two functions.\n\n    function Generator() {}\n\n    function GeneratorFunction() {}\n\n    function GeneratorFunctionPrototype() {} // This is a polyfill for %IteratorPrototype% for environments that\n    // don\'t natively support it.\n\n\n    var IteratorPrototype = {};\n\n    IteratorPrototype[iteratorSymbol] = function () {\n      return this;\n    };\n\n    var getProto = Object.getPrototypeOf;\n    var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n\n    if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n      // This environment has a native %IteratorPrototype%; use it instead\n      // of the polyfill.\n      IteratorPrototype = NativeIteratorPrototype;\n    }\n\n    var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n    GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n    GeneratorFunctionPrototype.constructor = GeneratorFunction;\n    GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"); // Helper for defining the .next, .throw, and .return methods of the\n    // Iterator interface in terms of a single ._invoke method.\n\n    function defineIteratorMethods(prototype) {\n      ["next", "throw", "return"].forEach(function (method) {\n        define(prototype, method, function (arg) {\n          return this._invoke(method, arg);\n        });\n      });\n    }\n\n    exports.isGeneratorFunction = function (genFun) {\n      var ctor = typeof genFun === "function" && genFun.constructor;\n      return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can\n      // do is to check its .name property.\n      (ctor.displayName || ctor.name) === "GeneratorFunction" : false;\n    };\n\n    exports.mark = function (genFun) {\n      if (Object.setPrototypeOf) {\n        Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n      } else {\n        genFun.__proto__ = GeneratorFunctionPrototype;\n        define(genFun, toStringTagSymbol, "GeneratorFunction");\n      }\n\n      genFun.prototype = Object.create(Gp);\n      return genFun;\n    }; // Within the body of any async function, `await x` is transformed to\n    // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n    // `hasOwn.call(value, "__await")` to determine if the yielded value is\n    // meant to be awaited.\n\n\n    exports.awrap = function (arg) {\n      return {\n        __await: arg\n      };\n    };\n\n    function AsyncIterator(generator, PromiseImpl) {\n      function invoke(method, arg, resolve, reject) {\n        var record = tryCatch(generator[method], generator, arg);\n\n        if (record.type === "throw") {\n          reject(record.arg);\n        } else {\n          var result = record.arg;\n          var value = result.value;\n\n          if (value && typeof value === "object" && hasOwn.call(value, "__await")) {\n            return PromiseImpl.resolve(value.__await).then(function (value) {\n              invoke("next", value, resolve, reject);\n            }, function (err) {\n              invoke("throw", err, resolve, reject);\n            });\n          }\n\n          return PromiseImpl.resolve(value).then(function (unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration.\n            result.value = unwrapped;\n            resolve(result);\n          }, function (error) {\n            // If a rejected Promise was yielded, throw the rejection back\n            // into the async generator function so it can be handled there.\n            return invoke("throw", error, resolve, reject);\n          });\n        }\n      }\n\n      var previousPromise;\n\n      function enqueue(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n\n        return previousPromise = // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later\n        // invocations of the iterator.\n        callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      } // Define the unified helper method that is used to implement .next,\n      // .throw, and .return (see defineIteratorMethods).\n\n\n      this._invoke = enqueue;\n    }\n\n    defineIteratorMethods(AsyncIterator.prototype);\n\n    AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n      return this;\n    };\n\n    exports.AsyncIterator = AsyncIterator; // Note that simple async functions are implemented on top of\n    // AsyncIterator objects; they just return a Promise for the value of\n    // the final result produced by the iterator.\n\n    exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n      if (PromiseImpl === void 0) PromiseImpl = Promise;\n      var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n      return exports.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function (result) {\n        return result.done ? result.value : iter.next();\n      });\n    };\n\n    function makeInvokeMethod(innerFn, self, context) {\n      var state = GenStateSuspendedStart;\n      return function invoke(method, arg) {\n        if (state === GenStateExecuting) {\n          throw new Error("Generator is already running");\n        }\n\n        if (state === GenStateCompleted) {\n          if (method === "throw") {\n            throw arg;\n          } // Be forgiving, per 25.3.3.3.3 of the spec:\n          // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n\n\n          return doneResult();\n        }\n\n        context.method = method;\n        context.arg = arg;\n\n        while (true) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (context.method === "next") {\n            // Setting context._sent for legacy support of Babel\'s\n            // function.sent implementation.\n            context.sent = context._sent = context.arg;\n          } else if (context.method === "throw") {\n            if (state === GenStateSuspendedStart) {\n              state = GenStateCompleted;\n              throw context.arg;\n            }\n\n            context.dispatchException(context.arg);\n          } else if (context.method === "return") {\n            context.abrupt("return", context.arg);\n          }\n\n          state = GenStateExecuting;\n          var record = tryCatch(innerFn, self, context);\n\n          if (record.type === "normal") {\n            // If an exception is thrown from innerFn, we leave state ===\n            // GenStateExecuting and loop back for another invocation.\n            state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n            if (record.arg === ContinueSentinel) {\n              continue;\n            }\n\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          } else if (record.type === "throw") {\n            state = GenStateCompleted; // Dispatch the exception by looping back around to the\n            // context.dispatchException(context.arg) call above.\n\n            context.method = "throw";\n            context.arg = record.arg;\n          }\n        }\n      };\n    } // Call delegate.iterator[context.method](context.arg) and handle the\n    // result, either by returning a { value, done } result from the\n    // delegate iterator, or by modifying context.method and context.arg,\n    // setting context.delegate to null, and returning the ContinueSentinel.\n\n\n    function maybeInvokeDelegate(delegate, context) {\n      var method = delegate.iterator[context.method];\n\n      if (method === undefined$1) {\n        // A .throw or .return when the delegate iterator has no .throw\n        // method always terminates the yield* loop.\n        context.delegate = null;\n\n        if (context.method === "throw") {\n          // Note: ["return"] must be used for ES3 parsing compatibility.\n          if (delegate.iterator["return"]) {\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            context.method = "return";\n            context.arg = undefined$1;\n            maybeInvokeDelegate(delegate, context);\n\n            if (context.method === "throw") {\n              // If maybeInvokeDelegate(context) changed context.method from\n              // "return" to "throw", let that override the TypeError below.\n              return ContinueSentinel;\n            }\n          }\n\n          context.method = "throw";\n          context.arg = new TypeError("The iterator does not provide a \'throw\' method");\n        }\n\n        return ContinueSentinel;\n      }\n\n      var record = tryCatch(method, delegate.iterator, context.arg);\n\n      if (record.type === "throw") {\n        context.method = "throw";\n        context.arg = record.arg;\n        context.delegate = null;\n        return ContinueSentinel;\n      }\n\n      var info = record.arg;\n\n      if (!info) {\n        context.method = "throw";\n        context.arg = new TypeError("iterator result is not an object");\n        context.delegate = null;\n        return ContinueSentinel;\n      }\n\n      if (info.done) {\n        // Assign the result of the finished delegate to the temporary\n        // variable specified by delegate.resultName (see delegateYield).\n        context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield).\n\n        context.next = delegate.nextLoc; // If context.method was "throw" but the delegate handled the\n        // exception, let the outer generator proceed normally. If\n        // context.method was "next", forget context.arg since it has been\n        // "consumed" by the delegate iterator. If context.method was\n        // "return", allow the original .return call to continue in the\n        // outer generator.\n\n        if (context.method !== "return") {\n          context.method = "next";\n          context.arg = undefined$1;\n        }\n      } else {\n        // Re-yield the result returned by the delegate method.\n        return info;\n      } // The delegate iterator is finished, so forget it and continue with\n      // the outer generator.\n\n\n      context.delegate = null;\n      return ContinueSentinel;\n    } // Define Generator.prototype.{next,throw,return} in terms of the\n    // unified ._invoke helper method.\n\n\n    defineIteratorMethods(Gp);\n    define(Gp, toStringTagSymbol, "Generator"); // A Generator should always return itself as the iterator object when the\n    // @@iterator function is called on it. Some browsers\' implementations of the\n    // iterator prototype chain incorrectly implement this, causing the Generator\n    // object to not be returned from this call. This ensures that doesn\'t happen.\n    // See https://github.com/facebook/regenerator/issues/274 for more details.\n\n    Gp[iteratorSymbol] = function () {\n      return this;\n    };\n\n    Gp.toString = function () {\n      return "[object Generator]";\n    };\n\n    function pushTryEntry(locs) {\n      var entry = {\n        tryLoc: locs[0]\n      };\n\n      if (1 in locs) {\n        entry.catchLoc = locs[1];\n      }\n\n      if (2 in locs) {\n        entry.finallyLoc = locs[2];\n        entry.afterLoc = locs[3];\n      }\n\n      this.tryEntries.push(entry);\n    }\n\n    function resetTryEntry(entry) {\n      var record = entry.completion || {};\n      record.type = "normal";\n      delete record.arg;\n      entry.completion = record;\n    }\n\n    function Context(tryLocsList) {\n      // The root entry object (effectively a try statement without a catch\n      // or a finally block) gives us a place to store values thrown from\n      // locations where there is no enclosing try statement.\n      this.tryEntries = [{\n        tryLoc: "root"\n      }];\n      tryLocsList.forEach(pushTryEntry, this);\n      this.reset(true);\n    }\n\n    exports.keys = function (object) {\n      var keys = [];\n\n      for (var key in object) {\n        keys.push(key);\n      }\n\n      keys.reverse(); // Rather than returning an object with a next method, we keep\n      // things simple and return the next function itself.\n\n      return function next() {\n        while (keys.length) {\n          var key = keys.pop();\n\n          if (key in object) {\n            next.value = key;\n            next.done = false;\n            return next;\n          }\n        } // To avoid creating an additional object, we just hang the .value\n        // and .done properties off the next function object itself. This\n        // also ensures that the minifier will not anonymize the function.\n\n\n        next.done = true;\n        return next;\n      };\n    };\n\n    function values(iterable) {\n      if (iterable) {\n        var iteratorMethod = iterable[iteratorSymbol];\n\n        if (iteratorMethod) {\n          return iteratorMethod.call(iterable);\n        }\n\n        if (typeof iterable.next === "function") {\n          return iterable;\n        }\n\n        if (!isNaN(iterable.length)) {\n          var i = -1,\n              next = function next() {\n            while (++i < iterable.length) {\n              if (hasOwn.call(iterable, i)) {\n                next.value = iterable[i];\n                next.done = false;\n                return next;\n              }\n            }\n\n            next.value = undefined$1;\n            next.done = true;\n            return next;\n          };\n\n          return next.next = next;\n        }\n      } // Return an iterator with no values.\n\n\n      return {\n        next: doneResult\n      };\n    }\n\n    exports.values = values;\n\n    function doneResult() {\n      return {\n        value: undefined$1,\n        done: true\n      };\n    }\n\n    Context.prototype = {\n      constructor: Context,\n      reset: function reset(skipTempReset) {\n        this.prev = 0;\n        this.next = 0; // Resetting context._sent for legacy support of Babel\'s\n        // function.sent implementation.\n\n        this.sent = this._sent = undefined$1;\n        this.done = false;\n        this.delegate = null;\n        this.method = "next";\n        this.arg = undefined$1;\n        this.tryEntries.forEach(resetTryEntry);\n\n        if (!skipTempReset) {\n          for (var name in this) {\n            // Not sure about the optimal order of these conditions:\n            if (name.charAt(0) === "t" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n              this[name] = undefined$1;\n            }\n          }\n        }\n      },\n      stop: function stop() {\n        this.done = true;\n        var rootEntry = this.tryEntries[0];\n        var rootRecord = rootEntry.completion;\n\n        if (rootRecord.type === "throw") {\n          throw rootRecord.arg;\n        }\n\n        return this.rval;\n      },\n      dispatchException: function dispatchException(exception) {\n        if (this.done) {\n          throw exception;\n        }\n\n        var context = this;\n\n        function handle(loc, caught) {\n          record.type = "throw";\n          record.arg = exception;\n          context.next = loc;\n\n          if (caught) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            context.method = "next";\n            context.arg = undefined$1;\n          }\n\n          return !!caught;\n        }\n\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          var record = entry.completion;\n\n          if (entry.tryLoc === "root") {\n            // Exception thrown outside of any try block that could handle\n            // it, so set the completion value of the entire function to\n            // throw the exception.\n            return handle("end");\n          }\n\n          if (entry.tryLoc <= this.prev) {\n            var hasCatch = hasOwn.call(entry, "catchLoc");\n            var hasFinally = hasOwn.call(entry, "finallyLoc");\n\n            if (hasCatch && hasFinally) {\n              if (this.prev < entry.catchLoc) {\n                return handle(entry.catchLoc, true);\n              } else if (this.prev < entry.finallyLoc) {\n                return handle(entry.finallyLoc);\n              }\n            } else if (hasCatch) {\n              if (this.prev < entry.catchLoc) {\n                return handle(entry.catchLoc, true);\n              }\n            } else if (hasFinally) {\n              if (this.prev < entry.finallyLoc) {\n                return handle(entry.finallyLoc);\n              }\n            } else {\n              throw new Error("try statement without catch or finally");\n            }\n          }\n        }\n      },\n      abrupt: function abrupt(type, arg) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n\n          if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {\n            var finallyEntry = entry;\n            break;\n          }\n        }\n\n        if (finallyEntry && (type === "break" || type === "continue") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n          // Ignore the finally entry if control is not jumping to a\n          // location outside the try/catch block.\n          finallyEntry = null;\n        }\n\n        var record = finallyEntry ? finallyEntry.completion : {};\n        record.type = type;\n        record.arg = arg;\n\n        if (finallyEntry) {\n          this.method = "next";\n          this.next = finallyEntry.finallyLoc;\n          return ContinueSentinel;\n        }\n\n        return this.complete(record);\n      },\n      complete: function complete(record, afterLoc) {\n        if (record.type === "throw") {\n          throw record.arg;\n        }\n\n        if (record.type === "break" || record.type === "continue") {\n          this.next = record.arg;\n        } else if (record.type === "return") {\n          this.rval = this.arg = record.arg;\n          this.method = "return";\n          this.next = "end";\n        } else if (record.type === "normal" && afterLoc) {\n          this.next = afterLoc;\n        }\n\n        return ContinueSentinel;\n      },\n      finish: function finish(finallyLoc) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n\n          if (entry.finallyLoc === finallyLoc) {\n            this.complete(entry.completion, entry.afterLoc);\n            resetTryEntry(entry);\n            return ContinueSentinel;\n          }\n        }\n      },\n      "catch": function _catch(tryLoc) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n\n          if (entry.tryLoc === tryLoc) {\n            var record = entry.completion;\n\n            if (record.type === "throw") {\n              var thrown = record.arg;\n              resetTryEntry(entry);\n            }\n\n            return thrown;\n          }\n        } // The context.catch method must only be called with a location\n        // argument that corresponds to a known catch block.\n\n\n        throw new Error("illegal catch attempt");\n      },\n      delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n        this.delegate = {\n          iterator: values(iterable),\n          resultName: resultName,\n          nextLoc: nextLoc\n        };\n\n        if (this.method === "next") {\n          // Deliberately forget the last sent value so that we don\'t\n          // accidentally pass it on to the delegate.\n          this.arg = undefined$1;\n        }\n\n        return ContinueSentinel;\n      }\n    }; // Regardless of whether this script is executing as a CommonJS module\n    // or not, return the runtime object so that we can declare the variable\n    // regeneratorRuntime in the outer scope, which allows this module to be\n    // injected easily by `bin/regenerator --include-runtime script.js`.\n\n    return exports;\n  }( // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   module.exports );\n\n  try {\n    regeneratorRuntime = runtime;\n  } catch (accidentalStrictMode) {\n    // This module should not be running in strict mode, so the above\n    // assignment should always work unless something is misconfigured. Just\n    // in case runtime.js accidentally runs in strict mode, we can escape\n    // strict mode using a global Function call. This could conceivably fail\n    // if a Content Security Policy forbids using Function, but in that case\n    // the proper solution is to fix the accidental strict mode problem. If\n    // you\'ve misconfigured your bundler to force strict mode and applied a\n    // CSP to forbid Function, and you\'re not willing to fix either of those\n    // problems, please detail your unique predicament in a GitHub issue.\n    Function("r", "regeneratorRuntime = r")(runtime);\n  }\n});\n\n// have a look at the Quick start guide\n// for passing in lng and translations on init\n\ni18next_js_default().use((esm_index_js_default())) // detect user language\n// learn more: https://github.com/i18next/i18next-browser-languageDetector\n.use((i18nextBrowserLanguageDetector_js_default())) // pass the i18n instance to react-i18next.\n.use(es_index_js_.initReactI18next) // init i18next\n// for all options read: https://www.i18next.com/overview/configuration-options\n.init({\n  // Commenting it as we have fallbackLng for case of language detected as en-GB or en-US\n  // supportedLngs: [\'en\',\'it\'],\n  backend: {\n    loadPath: __webpack_require__.p + "locales/{{lng}}/{{ns}}.json"\n  },\n  fallbackLng: \'en\',\n  load: \'all\',\n  debug: true,\n  // add any namespaces you\'re using here for loading purposes\n  ns: [\'public\'],\n  defaultNS: \'public\',\n  nsSeparator: \':\',\n  keySeparator: \'.\',\n  react: {\n    useSuspense: true,\n    wait: true\n  },\n  interpolation: {\n    defaultVariables: undefined,\n    escapeValue: false // not needed for react as it escapes by default\n\n  }\n});\n\nvar app_esm_keycloak;\n/**\r\n * Get keycloak instance\r\n *\r\n * @return an initiated keycloak instance or `undefined`\r\n * if keycloak isn\'t configured\r\n *\r\n */\n\nvar getKeycloakInstance = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {\n  var _ref = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee() {\n    return runtime_1.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (app_esm_keycloak) {\n              _context.next = 3;\n              break;\n            }\n\n            _context.next = 3;\n            return init();\n\n          case 3:\n            return _context.abrupt("return", app_esm_keycloak);\n\n          case 4:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getKeycloakInstance() {\n    return _ref.apply(this, arguments);\n  };\n}()));\n/**\r\n * Initiate keycloak instance.\r\n *\r\n * Set keycloak to undefined if\r\n * keycloak isn\'t configured\r\n *\r\n */\n\nvar init = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {\n  var _ref2 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee2() {\n    return runtime_1.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            app_esm_keycloak = new Keycloak({\n              realm: \'redhat-external\',\n              url: \'https://sso.redhat.com/auth/\',\n              clientId: \'cloud-services\'\n            });\n\n            if (!app_esm_keycloak) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 5;\n            return app_esm_keycloak.init({\n              onLoad: \'login-required\'\n            });\n\n          case 5:\n            _context2.next = 11;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2["catch"](0);\n            app_esm_keycloak = undefined;\n            console.warn(\'Auth: Unable to initialize keycloak. Client side will not be configured to use authentication\', _context2.t0);\n\n          case 11:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 7]]);\n  }));\n\n  return function init() {\n    return _ref2.apply(this, arguments);\n  };\n}()));\n/**\r\n * Use keycloak update token function to retrieve\r\n * keycloak token\r\n *\r\n * @return keycloak token or empty string if keycloak\r\n * isn\'t configured\r\n *\r\n */\n\nvar getKeyCloakToken = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {\n  var _ref4 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee4() {\n    var _keycloak, _keycloak2;\n\n    return runtime_1.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return (_keycloak = app_esm_keycloak) == null ? void 0 : _keycloak.updateToken(50);\n\n          case 2:\n            if (!((_keycloak2 = app_esm_keycloak) == null ? void 0 : _keycloak2.token)) {\n              _context4.next = 4;\n              break;\n            }\n\n            return _context4.abrupt("return", app_esm_keycloak.token);\n\n          case 4:\n            console.error(\'No keycloak token available\');\n            return _context4.abrupt("return", \'foo\');\n\n          case 6:\n          case "end":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function getKeyCloakToken() {\n    return _ref4.apply(this, arguments);\n  };\n}()));\n/**\r\n * Use keycloak update token function to retrieve\r\n * keycloak token\r\n *\r\n * @return keycloak token or empty string if keycloak\r\n * isn\'t configured\r\n *\r\n */\n\nvar getParsedKeyCloakToken = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {\n  var _ref5 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee5() {\n    var _keycloak3, _keycloak4;\n\n    return runtime_1.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return (_keycloak3 = app_esm_keycloak) == null ? void 0 : _keycloak3.updateToken(50);\n\n          case 2:\n            if (!((_keycloak4 = app_esm_keycloak) == null ? void 0 : _keycloak4.tokenParsed)) {\n              _context5.next = 4;\n              break;\n            }\n\n            return _context5.abrupt("return", app_esm_keycloak.tokenParsed);\n\n          case 4:\n            console.error(\'No keycloak token available\');\n            return _context5.abrupt("return", {});\n\n          case 6:\n          case "end":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function getParsedKeyCloakToken() {\n    return _ref5.apply(this, arguments);\n  };\n}()));\n\nvar KeycloakContext = /*#__PURE__*/index_js_eager_default().createContext({\n  keycloak: undefined\n});\nvar KeycloakAuthProvider = function KeycloakAuthProvider(props) {\n  var getUsername = function getUsername() {\n    return getParsedKeyCloakToken().then(function (token) {\n      return token[\'username\'];\n    });\n  };\n\n  var authTokenContext = {\n    kas: {\n      getToken: getKeyCloakToken\n    },\n    getUsername: getUsername\n  };\n  return React__default.createElement(AuthContext.Provider, {\n    value: authTokenContext\n  }, props.children);\n};\n\nvar logo = "data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%22175px%22%20height%3D%2232px%22%20viewBox%3D%220%200%20175%2032%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%20%20%20%20%3Ctitle%3EPatternFly%20Logo%3C%2Ftitle%3E%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%2250.0004769%25%22%20y1%3D%223.02475509%25%22%20x2%3D%2250.0004769%25%22%20y2%3D%2295.3620086%25%22%20id%3D%22linearGradient-1%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%2360EFFF%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%231F89C7%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Symbols%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Nav-bar-%28desktop%29%22%20transform%3D%22translate%28-150.000000%2C%20-16.000000%29%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22PatternFly-Logo%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20transform%3D%22translate%28150.000000%2C%2016.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%2844.748858%2C%2011.200000%29%22%20fill%3D%22%23FFFFFF%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0.302054795%2C9.3488%20L0.302054795%2C0.3264%20L4.16883562%2C0.3264%20C4.73858447%2C0.3264%205.21723744%2C0.4096%205.60719178%2C0.5744%20C5.99714612%2C0.7408%206.31358447%2C0.9576%206.55650685%2C1.2296%20C6.79942922%2C1.5008%206.97442922%2C1.8048%207.08150685%2C2.1456%20C7.18778539%2C2.4856%207.24212329%2C2.8288%207.24212329%2C3.1768%20C7.24212329%2C3.3936%207.2173516%2C3.616%207.16541096%2C3.8408%20C7.11506849%2C4.064%207.03835616%2C4.284%206.9336758%2C4.496%20C6.82819635%2C4.708%206.69474886%2C4.9048%206.53093607%2C5.0912%20C6.36712329%2C5.2752%206.17054795%2C5.4384%205.94280822%2C5.5784%20C5.71426941%2C5.7184%205.45376712%2C5.828%205.15810502%2C5.908%20C4.86164384%2C5.988%204.53242009%2C6.0272%204.16803653%2C6.0272%20L2.04246575%2C6.0272%20L2.04246575%2C9.3472%20L0.302054795%2C9.3488%20L0.302054795%2C9.3488%20Z%20M4.24315068%2C4.372%20C4.4652968%2C4.372%204.65308219%2C4.3368%204.8033105%2C4.2664%20C4.95353881%2C4.1936%205.07579909%2C4.1024%205.17089041%2C3.988%20C5.26598174%2C3.8744%205.33310502%2C3.7464%205.37465753%2C3.6048%20C5.41700913%2C3.4616%205.43938356%2C3.32%205.43938356%2C3.176%20C5.43938356%2C3.0464%205.42100457%2C2.9112%205.38424658%2C2.7688%20C5.34908676%2C2.6304%205.2859589%2C2.5024%205.19646119%2C2.3832%20C5.10616438%2C2.2664%204.98230594%2C2.1696%204.82888128%2C2.0952%20C4.67305936%2C2.0192%204.47888128%2C1.9808%204.24394977%2C1.9808%20L2.04406393%2C1.9808%20L2.04406393%2C4.3712%20L4.24315068%2C4.372%20L4.24315068%2C4.372%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M19.2555936%2C9.3488%20L18.5571918%2C7.4816%20L15.0803653%2C7.4816%20L14.3899543%2C9.3488%20L12.5216895%2C9.3488%20L15.9737443%2C0.3264%20L17.6694064%2C0.3264%20L21.1214612%2C9.3488%20L19.2555936%2C9.3488%20Z%20M17.1052511%2C3.548%20C17.0589041%2C3.44%2017.0093607%2C3.3088%2016.956621%2C3.1584%20C16.9062785%2C3.0056%2016.8599315%2C2.8664%2016.8223744%2C2.7352%20C16.7880137%2C2.8672%2016.7440639%2C3.0056%2016.689726%2C3.1584%20C16.6361872%2C3.3088%2016.5858447%2C3.44%2016.5386986%2C3.548%20L15.6461187%2C5.8952%20L17.9922374%2C5.8952%20L17.1052511%2C3.548%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%2230.9038813%202.0064%2030.9038813%209.3488%2029.169863%209.3488%2029.169863%202.0064%2026.5920091%202.0064%2026.5920091%200.3264%2033.4809361%200.3264%2033.4809361%202.0064%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%2244.3932648%202.0064%2044.3932648%209.3488%2042.6584475%209.3488%2042.6584475%202.0064%2040.0805936%202.0064%2040.0805936%200.3264%2046.9695205%200.3264%2046.9695205%202.0064%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%2254.1509132%209.3488%2054.1509132%200.3264%2060.3022831%200.3264%2060.3022831%201.9816%2055.8905251%201.9816%2055.8905251%203.8752%2058.4859589%203.8752%2058.4859589%205.5232%2055.8905251%205.5232%2055.8905251%207.7016%2060.5715753%207.7016%2060.5715753%209.3512%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M67.8848174%2C9.3488%20L67.8848174%2C0.3264%20L72.0704338%2C0.3264%20C72.6401826%2C0.3264%2073.1172374%2C0.4032%2073.5%2C0.5624%20C73.8827626%2C0.7192%2074.1928082%2C0.928%2074.4269406%2C1.188%20C74.6594749%2C1.4488%2074.8296804%2C1.7488%2074.9295662%2C2.088%20C75.0278539%2C2.428%2075.0805936%2C2.7832%2075.0805936%2C3.152%20C75.0805936%2C3.4072%2075.0422374%2C3.6664%2074.9679224%2C3.928%20C74.8928082%2C4.1904%2074.7849315%2C4.4392%2074.6394977%2C4.6744%20C74.4900685%2C4.9096%2074.310274%2C5.1216%2074.0905251%2C5.3128%20C73.8739726%2C5.504%2073.6190639%2C5.6536%2073.3305936%2C5.756%20L75.0789954%2C9.3488%20L73.122032%2C9.3488%20L71.4375571%2C5.984%20L69.6228311%2C5.984%20L69.6228311%2C9.3488%20L67.8848174%2C9.3488%20L67.8848174%2C9.3488%20Z%20M72.0960046%2C4.3344%20C72.3165525%2C4.3344%2072.5067352%2C4.3016%2072.6545662%2C4.236%20C72.8047945%2C4.1704%2072.9278539%2C4.084%2073.0181507%2C3.9752%20C73.1108447%2C3.8656%2073.1787671%2C3.74%2073.2179224%2C3.596%20C73.2586758%2C3.4536%2073.2754566%2C3.3056%2073.2754566%2C3.1504%20C73.2754566%2C3.008%2073.2586758%2C2.8648%2073.2243151%2C2.724%20C73.186758%2C2.5832%2073.1260274%2C2.4584%2073.0413242%2C2.3456%20C72.9542237%2C2.236%2072.8295662%2C2.1464%2072.6793379%2C2.0792%20C72.5291096%2C2.012%2072.3317352%2C1.9792%2072.0968037%2C1.9792%20L69.6260274%2C1.9792%20L69.6260274%2C4.3328%20L72.0968037%2C4.3328%20L72.0968037%2C4.3344%20L72.0960046%2C4.3344%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M88.1552511%2C9.3488%20L84.5793379%2C4.0888%20C84.5202055%2C4.0016%2084.4578767%2C3.892%2084.3875571%2C3.7648%20C84.3172374%2C3.6376%2084.2597032%2C3.5192%2084.2061644%2C3.4104%20C84.2221461%2C3.5056%2084.2277397%2C3.6184%2084.2341324%2C3.7496%20C84.2413242%2C3.8792%2084.2469178%2C3.9936%2084.2469178%2C4.0888%20L84.2469178%2C9.3488%20L82.5176941%2C9.3488%20L82.5176941%2C0.3264%20L84.1502283%2C0.3264%20L87.6390411%2C5.5216%20C87.693379%2C5.6056%2087.7565068%2C5.7136%2087.8252283%2C5.8384%20C87.8979452%2C5.9632%2087.9610731%2C6.0856%2088.0122146%2C6.2024%20C88.0002283%2C6.0824%2087.9938356%2C5.9568%2087.9858447%2C5.8352%20C87.9778539%2C5.7112%2087.9746575%2C5.6056%2087.9746575%2C5.52%20L87.9746575%2C0.3248%20L89.6958904%2C0.3248%20L89.6958904%2C9.3472%20L88.1552511%2C9.3488%20L88.1552511%2C9.3488%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%2297.4590183%209.3488%2097.4590183%200.3264%20103.501712%200.3264%20103.501712%201.9816%2099.2002283%201.9816%2099.2002283%203.8752%20101.926712%203.8752%20101.926712%205.5232%2099.2002283%205.5232%2099.2002283%209.3496%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%22110.555251%209.3488%20110.555251%200.3264%20112.298059%200.3264%20112.298059%207.6752%20116.646689%207.6752%20116.646689%209.3488%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%22124.973973%209.3488%20124.973973%205.832%20121.634589%200.3264%20123.608333%200.3264%20125.835388%204.0144%20128.058447%200.3264%20130.03379%200.3264%20126.695205%205.832%20126.695205%209.3488%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M33.5144977%2C16.5608%20L16.7584475%2C0.1536%20L0%2C16.5608%20L6.6803653%2C26.036%20L11.7769406%2C24.864%20L16.790411%2C31.9208%20L21.7942922%2C24.8768%20L26.8341324%2C26.0352%20L33.5144977%2C16.5608%20Z%20M16.0624429%2C3.196%20L13.8921233%2C23.2768%20L9.74805936%2C17.6176%20L16.0624429%2C3.196%20Z%20M9.293379%2C16.9968%20L6.71232877%2C13.472%20L15.5877854%2C2.68%20L9.293379%2C16.9968%20Z%20M13.2041096%2C23.464%20L13.2041096%2C23.464%20L13.4454338%2C23.7968%20L12.0614155%2C24.1144%20L8.86666667%2C19.6184%20L9.43721461%2C18.3208%20L13.2041096%2C23.464%20Z%20M16.7576484%2C2.9296%20L18.9391553%2C24.2184%20L16.7528539%2C27.2176%20L14.5745434%2C24.2184%20L16.7576484%2C2.9296%20Z%20M20.309589%2C23.4648%20L24.1180365%2C18.2648%20L24.7141553%2C19.6184%20L21.5106164%2C24.128%20L20.0714612%2C23.7968%20L20.3119863%2C23.4664%20L20.309589%2C23.4648%20Z%20M19.6223744%2C23.2768%20L17.4800228%2C3.1792%20L23.8079909%2C17.5608%20L19.6223744%2C23.2768%20Z%20M17.9850457%2C2.6768%20L26.8021689%2C13.472%20L24.2626712%2C16.94%20L17.9850457%2C2.6768%20Z%20M6.96643836%2C25.2856%20L0.870205479%2C16.6408%20L12.7989726%2C4.9672%20L5.87089041%2C13.4504%20L8.98413242%2C17.7008%20L8.10593607%2C19.696%20L11.3598174%2C24.2768%20L6.96643836%2C25.2856%20Z%20M16.790411%2C30.7712%20L12.4785388%2C24.7032%20L13.8705479%2C24.3824%20L16.7512557%2C28.3496%20L19.6415525%2C24.3824%20L21.0910959%2C24.7168%20L16.790411%2C30.7712%20Z%20M22.2114155%2C24.2896%20L25.4740868%2C19.696%20L24.5719178%2C17.6448%20L27.6436073%2C13.4504%20L20.7155251%2C4.9672%20L32.6434932%2C16.6408%20L26.5480594%2C25.2864%20L22.2114155%2C24.2896%20Z%22%20id%3D%22Shape%22%20fill%3D%22url%28%23linearGradient-1%29%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";\n\nvar AppLayout = function AppLayout(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState(true),\n      isNavOpen = _useState[0],\n      setIsNavOpen = _useState[1];\n\n  var _useState2 = useState(true),\n      isMobileView = _useState2[0],\n      setIsMobileView = _useState2[1];\n\n  var _useState3 = useState(false),\n      isNavOpenMobile = _useState3[0],\n      setIsNavOpenMobile = _useState3[1];\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var onNavToggleMobile = function onNavToggleMobile() {\n    setIsNavOpenMobile(!isNavOpenMobile);\n  };\n\n  var onNavToggle = function onNavToggle() {\n    setIsNavOpen(!isNavOpen);\n  };\n\n  var onPageResize = function onPageResize(props) {\n    setIsMobileView(props.mobileView);\n  };\n\n  var HeaderTools = React__default.createElement(PageHeaderTools, null, \'email\');\n  var Header = React__default.createElement(PageHeader, {\n    logo: React__default.createElement(LogoImg, null),\n    showNavToggle: true,\n    isNavOpen: isNavOpen,\n    headerTools: HeaderTools,\n    onNavToggle: isMobileView ? onNavToggleMobile : onNavToggle,\n    "aria-label": \'global_navigation\'\n  });\n  var Navigation = React__default.createElement(Nav, {\n    id: "nav-primary-simple",\n    role: "navigation",\n    theme: "dark",\n    "aria-label": \'global\'\n  }, React__default.createElement(NavList, {\n    id: "nav-list-simple"\n  }, React__default.createElement(NavItem, {\n    id: \'connectors\'\n  }, React__default.createElement(NavLink, {\n    to: \'/\',\n    activeClassName: "pf-m-current"\n  }, t(\'managedConnectors\')))));\n  var Sidebar = React__default.createElement(PageSidebar, {\n    theme: "dark",\n    nav: Navigation,\n    isNavOpen: isMobileView ? isNavOpenMobile : isNavOpen\n  });\n  return React__default.createElement(Page, {\n    mainContainerId: "primary-app-container",\n    role: "main",\n    header: Header,\n    sidebar: Sidebar,\n    onPageResize: onPageResize\n  }, children);\n};\n\nfunction LogoImg() {\n  var history = useHistory();\n\n  function handleClick() {\n    history.push(\'/\');\n  }\n\n  return React__default.createElement("img", {\n    src: logo,\n    onClick: handleClick,\n    alt: "PatternFly Logo"\n  });\n}\n\nvar AppContext = /*#__PURE__*/(0,index_js_eager_.createContext)(null);\nvar AppContextProvider = function AppContextProvider(_ref) {\n  var getToken = _ref.getToken,\n      basePath = _ref.basePath,\n      children = _ref.children;\n  return index_js_eager_default().createElement(AppContext.Provider, {\n    value: {\n      getToken: getToken,\n      basePath: basePath\n    }\n  }, children);\n};\nvar useAppContext = function useAppContext() {\n  var context = (0,index_js_eager_.useContext)(AppContext);\n  if (!context) throw new Error(\'useAppContext must be used inside an AppContextProvider\');\n  return _extends({}, context);\n};\n\nvar ConnectorDrawer = function ConnectorDrawer(_ref) {\n  var children = _ref.children;\n\n  var _useTranslation = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation.t;\n\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine = (0,machines_esm.useConnectorsMachine)(service),\n      selectedConnector = _useConnectorsMachine.selectedConnector,\n      deselectConnector = _useConnectorsMachine.deselectConnector;\n\n  var _useState = (0,index_js_eager_.useState)(0),\n      activeTabKey = _useState[0],\n      setActiveTabKey = _useState[1];\n\n  var selectActiveKey = function selectActiveKey(_, eventKey) {\n    setActiveTabKey(eventKey);\n  };\n\n  var textListItem = function textListItem(title, value) {\n    return index_js_eager_default().createElement((index_js_eager_default()).Fragment, null, value && index_js_eager_default().createElement((index_js_eager_default()).Fragment, null, index_js_eager_default().createElement(index_js_.TextListItem, {\n      component: index_js_.TextListItemVariants.dt\n    }, title), index_js_eager_default().createElement(index_js_.TextListItem, {\n      component: index_js_.TextListItemVariants.dd\n    }, value)));\n  };\n\n  var panelContent = function panelContent() {\n    var _selectedConnector$me, _selectedConnector$ka, _selectedConnector$me2, _selectedConnector$me3, _selectedConnector$me4;\n\n    return index_js_eager_default().createElement(index_js_.DrawerPanelContent, {\n      widths: {\n        "default": \'width_50\'\n      }\n    }, index_js_eager_default().createElement(index_js_.DrawerHead, null, index_js_eager_default().createElement(index_js_.TextContent, null, index_js_eager_default().createElement(index_js_.Text, {\n      component: index_js_.TextVariants.small,\n      className: "connector-drawer__header-text"\n    }, "Connector name"), index_js_eager_default().createElement(index_js_.Title, {\n      headingLevel: \'h2\',\n      size: index_js_.TitleSizes.xl,\n      className: "connector-drawer__header-title"\n    }, selectedConnector == null ? void 0 : (_selectedConnector$me = selectedConnector.metadata) == null ? void 0 : _selectedConnector$me.name)), index_js_eager_default().createElement(index_js_.DrawerActions, null, index_js_eager_default().createElement(index_js_.DrawerCloseButton, {\n      onClick: deselectConnector\n    }))), index_js_eager_default().createElement(index_js_.DrawerPanelBody, null, index_js_eager_default().createElement(index_js_.Tabs, {\n      activeKey: activeTabKey,\n      onSelect: selectActiveKey\n    }, index_js_eager_default().createElement(index_js_.Tab, {\n      eventKey: 0,\n      title: index_js_eager_default().createElement(index_js_.TabTitleText, null, t(\'overview\'))\n    }, index_js_eager_default().createElement("div", {\n      className: "connector-drawer__tab-content"\n    }, index_js_eager_default().createElement(index_js_.TextContent, null, index_js_eager_default().createElement(index_js_.TextList, {\n      component: index_js_.TextListVariants.dl\n    }, textListItem(\'Bootstrap server\', selectedConnector == null ? void 0 : (_selectedConnector$ka = selectedConnector.kafka) == null ? void 0 : _selectedConnector$ka.bootstrap_server), textListItem(\'Connector\', selectedConnector == null ? void 0 : (_selectedConnector$me2 = selectedConnector.metadata) == null ? void 0 : _selectedConnector$me2.name), textListItem(\'Kafka_instance\', selectedConnector == null ? void 0 : (_selectedConnector$me3 = selectedConnector.metadata) == null ? void 0 : _selectedConnector$me3.kafka_id), textListItem(\'Owner\', selectedConnector == null ? void 0 : (_selectedConnector$me4 = selectedConnector.metadata) == null ? void 0 : _selectedConnector$me4.owner))))))));\n  };\n\n  return index_js_eager_default().createElement(index_js_.Drawer, {\n    isExpanded: selectedConnector !== undefined\n  }, index_js_eager_default().createElement(index_js_.DrawerContent, {\n    panelContent: panelContent()\n  }, children));\n};\n\nvar ConnectorStatusIcon = function ConnectorStatusIcon(_ref) {\n  var id = _ref.id,\n      status = _ref.status;\n\n  switch (status == null ? void 0 : status.toLowerCase()) {\n    case \'ready\':\n      return index_js_eager_default().createElement(react_icons_dist_esm_index_js_.CheckCircleIcon, {\n        className: "cos--connectors__table--icon--completed"\n      });\n\n    case \'failed\':\n      return index_js_eager_default().createElement(react_icons_dist_esm_index_js_.ExclamationCircleIcon, {\n        className: "cos--connectors__table--icon--failed"\n      });\n\n    case \'accepted\':\n      return index_js_eager_default().createElement(react_icons_dist_esm_index_js_.PendingIcon, null);\n\n    case \'provisioning\':\n    case \'preparing\':\n      return index_js_eager_default().createElement(index_js_.Spinner, {\n        size: "md",\n        "aria-label": id,\n        "aria-valuetext": "Creation in progress"\n      });\n\n    case \'deprovision\':\n    case \'deleted\':\n      return null;\n  }\n\n  return index_js_eager_default().createElement(react_icons_dist_esm_index_js_.PendingIcon, null);\n};\n\nvar ConnectorsPagination = function ConnectorsPagination(_ref) {\n  var _ref$isCompact = _ref.isCompact,\n      isCompact = _ref$isCompact === void 0 ? false : _ref$isCompact;\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine = (0,machines_esm.useConnectorsMachine)(service),\n      request = _useConnectorsMachine.request,\n      response = _useConnectorsMachine.response;\n\n  var onChange = function onChange(request) {\n    return service.send(_extends({\n      type: \'api.query\'\n    }, request));\n  };\n\n  var defaultPerPageOptions = [{\n    title: \'1\',\n    value: 1\n  }, {\n    title: \'5\',\n    value: 5\n  }, {\n    title: \'10\',\n    value: 10\n  }];\n  return index_js_eager_default().createElement(index_js_.Pagination, {\n    itemCount: (response == null ? void 0 : response.total) || 0,\n    page: request.page,\n    perPage: request.size,\n    perPageOptions: defaultPerPageOptions,\n    onSetPage: function onSetPage(_, page, size) {\n      return onChange(_extends({}, request, {\n        page: page,\n        size: size || request.size\n      }));\n    },\n    onPerPageSelect: function onPerPageSelect() {\n      return false;\n    },\n    variant: isCompact ? \'top\' : \'bottom\',\n    isCompact: isCompact\n  });\n};\n\nvar ConnectorsToolbar = function ConnectorsToolbar() {\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine = (0,machines_esm.useConnectorsMachine)(service),\n      request = _useConnectorsMachine.request;\n\n  var onChange = function onChange(request) {\n    return service.send(_extends({\n      type: \'api.query\'\n    }, request));\n  };\n\n  var searchInputRef = (0,index_js_eager_.useRef)(null);\n  var debouncedOnChange = (0,utils_esm.useDebounce)(onChange, 1000); // const [statuses, setStatuses] = useState<string[]>([\n  //   \'Pending\',\n  //   \'Created\',\n  //   \'Cancelled\',\n  // ]);\n  // const [statusesToggled, setStatusesToggled] = useState(false);\n  // const clearAllFilters = useCallback(() => {\n  //   setSearchValue(\'\');\n  //   setStatuses([]);\n  // }, []);\n  // const toggleStatuses = useCallback(\n  //   () => setStatusesToggled(prev => !prev),\n  //   []\n  // );\n  // const onSelectStatus = useCallback(\n  //   (_, status) =>\n  //     setStatuses(prev =>\n  //       prev.includes(status)\n  //         ? prev.filter(s => s !== status)\n  //         : [...prev, status]\n  //     ),\n  //   []\n  // );\n  // const statusMenuItems = [\n  //   <SelectOption key="statusPending" value="Pending" />,\n  //   <SelectOption key="statusCreated" value="Created" />,\n  //   <SelectOption key="statusCancelled" value="Cancelled" />,\n  // ];\n  // ensure the search input value reflects what\'s specified in the request object\n  // useEffect(() => {\n  //   if (searchInputRef.current) {\n  //     searchInputRef.current.value = (request.name as string | undefined) || \'\';\n  //   }\n  // }, [searchInputRef, request]);\n\n  var toggleGroupItems = index_js_eager_default().createElement((index_js_eager_default()).Fragment, null, index_js_eager_default().createElement(index_js_.ToolbarItem, null, index_js_eager_default().createElement(index_js_.InputGroup, null, index_js_eager_default().createElement(index_js_.TextInput, {\n    name: "name",\n    id: "name",\n    type: "search",\n    "aria-label": "filter by connector name",\n    onChange: function onChange(value) {\n      return debouncedOnChange({\n        size: request.size,\n        page: 1,\n        name: value\n      });\n    },\n    ref: searchInputRef\n  }), index_js_eager_default().createElement(index_js_.Button, {\n    variant: \'control\',\n    "aria-label": "search button for search input"\n  }, index_js_eager_default().createElement(react_icons_dist_esm_index_js_.SearchIcon, null)))));\n  var toolbarItems = index_js_eager_default().createElement((index_js_eager_default()).Fragment, null, index_js_eager_default().createElement(index_js_.ToolbarToggleGroup, {\n    toggleIcon: index_js_eager_default().createElement(react_icons_dist_esm_index_js_.FilterIcon, null),\n    breakpoint: "xl"\n  }, toggleGroupItems), index_js_eager_default().createElement(index_js_.ToolbarGroup, {\n    variant: "icon-button-group"\n  }, index_js_eager_default().createElement(index_js_.ToolbarItem, null, index_js_eager_default().createElement(react_router_dom_js_eager_.NavLink, {\n    className: "pf-c-button pf-m-primary",\n    to: \'/create-connector\'\n  }, "Create Connector"))), index_js_eager_default().createElement(index_js_.ToolbarItem, {\n    variant: "pagination",\n    alignment: {\n      "default": \'alignRight\'\n    }\n  }, index_js_eager_default().createElement(ConnectorsPagination, {\n    isCompact: true\n  })));\n  return index_js_eager_default().createElement(index_js_.Toolbar, {\n    id: "toolbar-group-types",\n    collapseListedFiltersBreakpoint: "xl"\n  }, index_js_eager_default().createElement(index_js_.ToolbarContent, null, toolbarItems));\n};\n\n/**\r\n * A modal dialog to display confirmation for connector deletion.\r\n */\n\nvar DeleteDialog = function DeleteDialog(_ref) {\n  var connectorName = _ref.connectorName,\n      i18nCancel = _ref.i18nCancel,\n      i18nDelete = _ref.i18nDelete,\n      i18nTitle = _ref.i18nTitle,\n      onCancel = _ref.onCancel,\n      onConfirm = _ref.onConfirm,\n      showDialog = _ref.showDialog;\n\n  var _useState = (0,index_js_eager_.useState)(\'\'),\n      nameValue = _useState[0],\n      setNameValue = _useState[1];\n\n  var canDelete = nameValue === connectorName;\n\n  var onCancelDelete = function onCancelDelete() {\n    setNameValue(\'\');\n    onCancel();\n  };\n\n  var onConfirmDelete = function onConfirmDelete() {\n    setNameValue(\'\');\n    onConfirm();\n  };\n\n  return index_js_eager_default().createElement(index_js_.Modal, {\n    variant: index_js_.ModalVariant.small,\n    title: i18nTitle,\n    titleIconVariant: "warning",\n    isOpen: showDialog,\n    onClose: onCancel,\n    actions: [index_js_eager_default().createElement(index_js_.Button, {\n      key: "confirm",\n      variant: "danger",\n      isDisabled: !canDelete,\n      onClick: onConfirmDelete\n    }, i18nDelete), index_js_eager_default().createElement(index_js_.Button, {\n      key: "cancel",\n      variant: "link",\n      onClick: onCancelDelete\n    }, i18nCancel)]\n  }, index_js_eager_default().createElement(index_js_.Stack, null, index_js_eager_default().createElement(index_js_.StackItem, null, index_js_eager_default().createElement(es_index_js_.Trans, {\n    i18nKey: "deleteConfirmMessage"\n  }, "Connector ", index_js_eager_default().createElement("strong", null, {\n    connectorName: connectorName\n  }), " will be deleted.")), index_js_eager_default().createElement(index_js_.StackItem, null, index_js_eager_default().createElement(es_index_js_.Trans, {\n    i18nKey: "deleteTypeNameMessage"\n  }, "Type ", index_js_eager_default().createElement("strong", null, {\n    connectorName: connectorName\n  }), " to confirm the deletion.")), index_js_eager_default().createElement(index_js_.StackItem, null, index_js_eager_default().createElement(index_js_.TextInput, {\n    value: nameValue,\n    type: "text",\n    onChange: setNameValue,\n    "aria-label": "name input"\n  }))));\n};\n\nvar ConnectorsTable = function ConnectorsTable() {\n  var _response$items;\n\n  var _useTranslation = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation.t;\n\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine = (0,machines_esm.useConnectorsMachine)(service),\n      response = _useConnectorsMachine.response;\n\n  return index_js_eager_default().createElement(index_js_.Card, {\n    className: \'pf-u-pb-xl\'\n  }, index_js_eager_default().createElement(ConnectorsToolbar, null), index_js_eager_default().createElement("div", {\n    className: \'pf-u-p-md\'\n  }, index_js_eager_default().createElement(react_table_dist_esm_index_js_.TableComposable, {\n    "aria-label": "Sortable Table",\n    className: (0,dist_esm_index_js_.css)(\'connectors-table-view__table\')\n  }, index_js_eager_default().createElement(react_table_dist_esm_index_js_.Thead, null, index_js_eager_default().createElement(react_table_dist_esm_index_js_.Tr, null, index_js_eager_default().createElement(react_table_dist_esm_index_js_.Th, null, t(\'name\')), index_js_eager_default().createElement(react_table_dist_esm_index_js_.Th, null, t(\'type\')), index_js_eager_default().createElement(react_table_dist_esm_index_js_.Th, null, t(\'category\')), index_js_eager_default().createElement(react_table_dist_esm_index_js_.Th, null, t(\'status\')))), index_js_eager_default().createElement(react_table_dist_esm_index_js_.Tbody, null, response == null ? void 0 : (_response$items = response.items) == null ? void 0 : _response$items.map(function (ref) {\n    return index_js_eager_default().createElement(ConnectorRow, {\n      connectorRef: ref,\n      key: ref.id\n    });\n  })))), index_js_eager_default().createElement(ConnectorsPagination, {\n    isCompact: false\n  }));\n};\nvar ConnectorRow = function ConnectorRow(_ref) {\n  var _connector$metadata, _connector$metadata2;\n\n  var connectorRef = _ref.connectorRef;\n\n  var _useTranslation2 = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation2.t;\n\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine2 = (0,machines_esm.useConnectorsMachine)(service),\n      selectedConnector = _useConnectorsMachine2.selectedConnector;\n\n  var _useConnector = (0,machines_esm.useConnector)(connectorRef),\n      connector = _useConnector.connector,\n      canStart = _useConnector.canStart,\n      canStop = _useConnector.canStop,\n      canDelete = _useConnector.canDelete,\n      onStart = _useConnector.onStart,\n      onStop = _useConnector.onStop,\n      onDelete = _useConnector.onDelete,\n      onSelect = _useConnector.onSelect;\n\n  var _useState = (0,index_js_eager_.useState)(false),\n      showDeleteConnectorConfirm = _useState[0],\n      setShowDeleteConnectorConfirm = _useState[1];\n\n  var doCancelDeleteConnector = function doCancelDeleteConnector() {\n    setShowDeleteConnectorConfirm(false);\n  };\n\n  var doDeleteConnector = function doDeleteConnector() {\n    setShowDeleteConnectorConfirm(false);\n    onDelete();\n  };\n\n  var actions = [{\n    title: \'Start\',\n    onClick: onStart,\n    isDisabled: !canStart\n  }, {\n    title: \'Stop\',\n    onClick: onStop,\n    isDisabled: !canStop\n  }, {\n    title: \'Delete\',\n    onClick: function onClick() {\n      return setShowDeleteConnectorConfirm(true);\n    },\n    isDisabled: !canDelete\n  }, {\n    isSeparator: true\n  }, {\n    title: \'Overview\',\n    onClick: onSelect\n  }];\n  var statusOptions = [{\n    value: \'ready\',\n    label: t(\'Running\')\n  }, {\n    value: \'failed\',\n    label: t(\'Failed\')\n  }, {\n    value: \'assigning\',\n    label: t(\'Creation pending\')\n  }, {\n    value: \'assigned\',\n    label: t(\'Creation in progress\')\n  }, {\n    value: \'updating\',\n    label: t(\'Creation in progress\')\n  }, {\n    value: \'provisioning\',\n    label: t(\'Creation in progress\')\n  }, {\n    value: \'deleting\',\n    label: t(\'Deleting\')\n  }, {\n    value: \'deleted\',\n    label: t(\'Deleting\')\n  }];\n\n  var getStatusLabel = function getStatusLabel(status) {\n    var _statusOptions$find;\n\n    return ((_statusOptions$find = statusOptions.find(function (s) {\n      return s.value === status;\n    })) == null ? void 0 : _statusOptions$find.label) || status;\n  };\n\n  return index_js_eager_default().createElement((index_js_eager_default()).Fragment, null, index_js_eager_default().createElement(DeleteDialog, {\n    connectorName: (_connector$metadata = connector.metadata) == null ? void 0 : _connector$metadata.name,\n    i18nCancel: t(\'cancel\'),\n    i18nDelete: t(\'delete\'),\n    i18nTitle: t(\'deleteConnector\'),\n    showDialog: showDeleteConnectorConfirm,\n    onCancel: doCancelDeleteConnector,\n    onConfirm: doDeleteConnector\n  }), index_js_eager_default().createElement(react_table_dist_esm_index_js_.Tr, {\n    onClick: function onClick(event) {\n      var _event$target;\n\n      // send the event only if the click didn\'t happen on the actions button\n      if (((_event$target = event.target) == null ? void 0 : _event$target.type) !== \'button\') {\n        onSelect();\n      }\n    },\n    className: (0,dist_esm_index_js_.css)(\'pf-c-table-row__item\', \'pf-m-selectable\', (selectedConnector == null ? void 0 : selectedConnector.id) === connector.id && \'pf-m-selected\')\n  }, index_js_eager_default().createElement(react_table_dist_esm_index_js_.Td, {\n    dataLabel: t(\'name\')\n  }, (_connector$metadata2 = connector.metadata) == null ? void 0 : _connector$metadata2.name), index_js_eager_default().createElement(react_table_dist_esm_index_js_.Td, {\n    dataLabel: t(\'type\')\n  }, connector.connector_type_id), index_js_eager_default().createElement(react_table_dist_esm_index_js_.Td, {\n    dataLabel: t(\'category\')\n  }, "TODO: MISSING"), index_js_eager_default().createElement(react_table_dist_esm_index_js_.Td, {\n    dataLabel: t(\'status\')\n  }, index_js_eager_default().createElement(index_js_.Flex, null, index_js_eager_default().createElement(index_js_.FlexItem, {\n    spacer: {\n      "default": \'spacerSm\'\n    }\n  }, index_js_eager_default().createElement(ConnectorStatusIcon, {\n    id: connector.id,\n    status: connector.status\n  })), index_js_eager_default().createElement(index_js_.FlexItem, null, getStatusLabel(connector.status)))), index_js_eager_default().createElement(react_table_dist_esm_index_js_.Td, {\n    actions: {\n      items: actions\n    },\n    "data-testid": "actions-for-" + connector.id\n  })));\n};\n\nvar ConnectedConnectorsPage = function ConnectedConnectorsPage(_ref) {\n  var onCreateConnector = _ref.onCreateConnector;\n\n  var _useTranslation = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation.t;\n\n  var _useAlert = (0,esm_index_js_eager_.useAlert)(),\n      addAlert = _useAlert.addAlert;\n\n  var _useAppContext = useAppContext(),\n      basePath = _useAppContext.basePath,\n      getToken = _useAppContext.getToken;\n\n  var onError = (0,index_js_eager_.useCallback)(function (description) {\n    addAlert({\n      id: \'connectors-table-error\',\n      variant: esm_index_js_eager_.AlertVariant.danger,\n      title: t(\'common.something_went_wrong\'),\n      description: description\n    });\n  }, [addAlert, t]);\n  return index_js_eager_default().createElement(machines_esm.ConnectorsMachineProvider, {\n    accessToken: getToken,\n    basePath: basePath,\n    onError: onError\n  }, index_js_eager_default().createElement(ConnectorsPage, {\n    onCreateConnector: onCreateConnector\n  }));\n};\nvar ConnectorsPage = function ConnectorsPage(_ref2) {\n  var onCreateConnector = _ref2.onCreateConnector;\n  var service = (0,machines_esm.useConnectorsMachineService)();\n  var isReady = (0,machines_esm.useConnectorsMachineIsReady)(service);\n  return isReady ? index_js_eager_default().createElement(ConnectorsPageBody, {\n    onCreateConnector: onCreateConnector\n  }) : index_js_eager_default().createElement(utils_esm.Loading, null);\n};\n\nvar ConnectorsPageBody = function ConnectorsPageBody(_ref3) {\n  var onCreateConnector = _ref3.onCreateConnector;\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine = (0,machines_esm.useConnectorsMachine)(service),\n      loading = _useConnectorsMachine.loading,\n      error = _useConnectorsMachine.error,\n      noResults = _useConnectorsMachine.noResults,\n      queryEmpty = _useConnectorsMachine.queryEmpty,\n      firstRequest = _useConnectorsMachine.firstRequest;\n\n  switch (true) {\n    case firstRequest:\n      return index_js_eager_default().createElement(utils_esm.Loading, null);\n\n    case queryEmpty:\n      return index_js_eager_default().createElement(utils_esm.NoMatchFound, {\n        onClear: function onClear() {\n          return service.send({\n            type: \'api.query\',\n            page: 1,\n            size: 10\n          });\n        }\n      });\n\n    case loading:\n      return index_js_eager_default().createElement((index_js_eager_default()).Fragment, null, index_js_eager_default().createElement(index_js_.PageSection, {\n        variant: \'light\'\n      }, index_js_eager_default().createElement(ConnectorsPageTitle, null)), index_js_eager_default().createElement(index_js_.PageSection, {\n        padding: {\n          "default": \'noPadding\'\n        },\n        isFilled: true\n      }, index_js_eager_default().createElement(index_js_.Card, null, index_js_eager_default().createElement(ConnectorsToolbar, null), index_js_eager_default().createElement(utils_esm.Loading, null))));\n\n    case noResults || error:\n      return index_js_eager_default().createElement(utils_esm.EmptyState, {\n        emptyStateProps: {\n          variant: utils_esm.EmptyStateVariant.GettingStarted\n        },\n        titleProps: {\n          title: \'cos.welcome_to_cos\'\n        },\n        emptyStateBodyProps: {\n          body: \'cos.welcome_empty_state_body\'\n        },\n        buttonProps: {\n          title: \'cos.create_cos\',\n          variant: index_js_.ButtonVariant.primary,\n          onClick: onCreateConnector\n        }\n      });\n\n    default:\n      return index_js_eager_default().createElement(ConnectorDrawer, null, index_js_eager_default().createElement(index_js_.PageSection, {\n        variant: \'light\'\n      }, index_js_eager_default().createElement(ConnectorsPageTitle, null)), index_js_eager_default().createElement(index_js_.PageSection, {\n        padding: {\n          "default": \'noPadding\'\n        },\n        isFilled: true\n      }, index_js_eager_default().createElement(ConnectorsTable, null)));\n  }\n};\n\nvar ConnectorsPageTitle = function ConnectorsPageTitle() {\n  var _useTranslation2 = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation2.t;\n\n  return index_js_eager_default().createElement(index_js_.TextContent, null, index_js_eager_default().createElement(index_js_.Title, {\n    headingLevel: "h1"\n  }, t(\'managedConnectors\')));\n};\n\nvar fetchConfigurator = /*#__PURE__*/function () {\n  var _ref = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee2(connector, config) {\n    var defaultConfig;\n    return runtime_1.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            defaultConfig = Promise.resolve({\n              steps: false,\n              Configurator: false\n            });\n            return _context2.abrupt("return", new Promise( /*#__PURE__*/function () {\n              var _ref2 = _asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee(resolve) {\n                var federatedConfigurator;\n                return runtime_1.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.prev = 0;\n                        _context.next = 3;\n                        return maybeGetFederatedConfiguratorForConnector(config, connector);\n\n                      case 3:\n                        federatedConfigurator = _context.sent;\n                        _context.next = 6;\n                        return injectFederatedModuleScript(federatedConfigurator.remoteEntry);\n\n                      case 6:\n                        resolve(loadFederatedConfigurator(federatedConfigurator.scope, federatedConfigurator.module));\n                        _context.next = 12;\n                        break;\n\n                      case 9:\n                        _context.prev = 9;\n                        _context.t0 = _context["catch"](0);\n                        resolve(defaultConfig);\n\n                      case 12:\n                      case "end":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, null, [[0, 9]]);\n              }));\n\n              return function (_x3) {\n                return _ref2.apply(this, arguments);\n              };\n            }()));\n\n          case 2:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function fetchConfigurator(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar isValidConf = function isValidConf(maybeConf) {\n  return maybeConf && maybeConf.remoteEntry && typeof maybeConf.remoteEntry === \'string\' && maybeConf.scope && typeof maybeConf.scope === \'string\' && maybeConf.module && typeof maybeConf.module === \'string\';\n};\n\nvar maybeGetFederatedConfiguratorForConnector = /*#__PURE__*/function () {\n  var _ref3 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee3(config, connector) {\n    var maybeConfiguration;\n    return runtime_1.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            console.log(\'Fetched federated configurator remotes configuration\', config);\n            maybeConfiguration = config[connector.id];\n            console.log("Candidate configuration for \\"" + connector.id + "\\"", maybeConfiguration);\n\n            if (maybeConfiguration) {\n              _context3.next = 6;\n              break;\n            }\n\n            console.log("Couldn\'t find any configuration for the requested connector");\n            return _context3.abrupt("return", Promise.reject());\n\n          case 6:\n            if (!isValidConf(maybeConfiguration)) {\n              _context3.next = 9;\n              break;\n            }\n\n            console.log(\'Found a generic configuration for the connector\', maybeConfiguration);\n            return _context3.abrupt("return", maybeConfiguration);\n\n          case 9:\n            console.log("Couldn\'t find a valid configuration for the requested connector");\n            return _context3.abrupt("return", Promise.reject());\n\n          case 11:\n          case "end":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function maybeGetFederatedConfiguratorForConnector(_x4, _x5) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar injectFederatedModuleScript = /*#__PURE__*/function () {\n  var _ref4 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee4(url) {\n    return runtime_1.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt("return", new Promise(function (resolve, reject) {\n              var element = document.createElement(\'script\');\n              element.src = url;\n              element.type = \'text/javascript\';\n              element.async = true;\n\n              element.onload = function () {\n                console.log("Dynamic federated module loaded: " + url);\n                document.head.removeChild(element);\n                resolve();\n              };\n\n              element.onerror = function () {\n                console.error("Dynamic federated module Error: " + url);\n                console.log("Dynamic federated module Removed: " + url);\n                document.head.removeChild(element);\n                reject();\n              };\n\n              document.head.appendChild(element);\n            }));\n\n          case 1:\n          case "end":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function injectFederatedModuleScript(_x6) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nfunction loadFederatedConfigurator(_x7, _x8) {\n  return _loadFederatedConfigurator.apply(this, arguments);\n}\n\nfunction _loadFederatedConfigurator() {\n  _loadFederatedConfigurator = _asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee5(scope, module) {\n    var container, factory, federatedConfigurationConfig;\n    return runtime_1.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return __webpack_require__.I(\'default\');\n\n          case 2:\n            container = window[scope]; // or get the container somewhere else\n            // Initialize the container, it may provide shared modules\n\n            _context5.next = 5;\n            return container.init(__webpack_require__.S["default"]);\n\n          case 5:\n            _context5.next = 7;\n            return window[scope].get(module);\n\n          case 7:\n            factory = _context5.sent;\n            federatedConfigurationConfig = factory();\n            console.log("loaded federated configurator configuration from " + scope, federatedConfigurationConfig);\n            return _context5.abrupt("return", federatedConfigurationConfig["default"]);\n\n          case 11:\n          case "end":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _loadFederatedConfigurator.apply(this, arguments);\n}\n\nvar CreateConnectorPage = function CreateConnectorPage(_ref) {\n  var onSave = _ref.onSave,\n      onClose = _ref.onClose;\n\n  var _useTranslation = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation.t;\n\n  var _useConfig = (0,esm_index_js_eager_.useConfig)(),\n      cos = _useConfig.cos;\n\n  var _useBasename = (0,esm_index_js_eager_.useBasename)(),\n      getBasename = _useBasename.getBasename;\n\n  var _useAppContext = useAppContext(),\n      basePath = _useAppContext.basePath,\n      getToken = _useAppContext.getToken;\n\n  var basename = getBasename();\n\n  var _useState = (0,index_js_eager_.useState)(false),\n      askForLeaveConfirm = _useState[0],\n      setAskForLeaveConfirm = _useState[1];\n\n  var openLeaveConfirm = function openLeaveConfirm() {\n    return setAskForLeaveConfirm(true);\n  };\n\n  var closeLeaveConfirm = function closeLeaveConfirm() {\n    return setAskForLeaveConfirm(false);\n  };\n\n  return index_js_eager_default().createElement((index_js_eager_default()).Fragment, null, index_js_eager_default().createElement(index_js_.PageSection, {\n    variant: \'light\',\n    hasShadowBottom: true\n  }, index_js_eager_default().createElement(index_js_.Breadcrumb, null, index_js_eager_default().createElement(index_js_.BreadcrumbItem, {\n    to: basename\n  }, t(\'Connectors\')), index_js_eager_default().createElement(index_js_.BreadcrumbItem, {\n    isActive: true\n  }, t(\'Create connector\'))), index_js_eager_default().createElement(index_js_.Level, {\n    className: \'pf-u-pt-md pf-u-pb-md\'\n  }, index_js_eager_default().createElement(index_js_.Title, {\n    headingLevel: "h1"\n  }, t(\'Create connector\')))), index_js_eager_default().createElement(index_js_.PageSection, {\n    padding: {\n      "default": \'noPadding\'\n    },\n    style: {\n      zIndex: 0\n    },\n    type: \'wizard\'\n  }, index_js_eager_default().createElement(machines_esm.CreationWizardMachineProvider, {\n    accessToken: getToken,\n    basePath: basePath,\n    fetchConfigurator: function fetchConfigurator$1(connector) {\n      return fetchConfigurator(connector, cos.configurators);\n    },\n    onSave: onSave\n  }, index_js_eager_default().createElement(dist.CreationWizard, {\n    onClose: openLeaveConfirm\n  }), index_js_eager_default().createElement(index_js_.Modal, {\n    title: t(\'Leave page?\'),\n    variant: \'small\',\n    isOpen: askForLeaveConfirm,\n    onClose: closeLeaveConfirm,\n    actions: [index_js_eager_default().createElement(index_js_.Button, {\n      key: "confirm",\n      variant: "primary",\n      onClick: onClose\n    }, "Confirm"), index_js_eager_default().createElement(index_js_.Button, {\n      key: "cancel",\n      variant: "link",\n      onClick: closeLeaveConfirm\n    }, "Cancel")]\n  }, t(\'Changes you have made will be lost and no connector will be created.\')))));\n};\n\nvar CosUiRoutes = function CosUiRoutes(_ref) {\n  var getToken = _ref.getToken,\n      apiBasepath = _ref.apiBasepath;\n\n  var _useTranslation = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation.t;\n\n  var _useAlert = (0,esm_index_js_eager_.useAlert)(),\n      addAlert = _useAlert.addAlert;\n\n  var history = (0,react_router_dom_js_eager_.useHistory)();\n  var goToConnectorsList = (0,index_js_eager_.useCallback)(function () {\n    return history.push(\'/\');\n  }, [history]);\n  var goToCreateConnector = (0,index_js_eager_.useCallback)(function () {\n    return history.push(\'/create-connector\');\n  }, [history]);\n  var onConnectorSave = (0,index_js_eager_.useCallback)(function () {\n    addAlert({\n      id: \'connector-created\',\n      variant: esm_index_js_eager_.AlertVariant.success,\n      title: t(\'wizard.creation-success\')\n    });\n    goToConnectorsList();\n  }, [addAlert, goToConnectorsList, t]);\n  return index_js_eager_default().createElement(AppContextProvider, {\n    getToken: getToken,\n    basePath: apiBasepath\n  }, index_js_eager_default().createElement(react_router_dom_js_eager_.Switch, null, index_js_eager_default().createElement(react_router_dom_js_eager_.Route, {\n    path: \'/\',\n    exact: true\n  }, index_js_eager_default().createElement(ConnectedConnectorsPage, {\n    onCreateConnector: goToCreateConnector\n  })), index_js_eager_default().createElement(react_router_dom_js_eager_.Route, {\n    path: \'/create-connector\'\n  }, index_js_eager_default().createElement(CreateConnectorPage, {\n    onSave: onConnectorSave,\n    onClose: goToConnectorsList\n  }))));\n};\n\nvar Alerts = function Alerts(_ref) {\n  var alerts = _ref.alerts,\n      onCloseAlert = _ref.onCloseAlert;\n  return React__default.createElement(AlertGroup, {\n    isToast: true\n  }, alerts.map(function (_ref2) {\n    var id = _ref2.id,\n        variant = _ref2.variant,\n        title = _ref2.title,\n        description = _ref2.description,\n        dataTestId = _ref2.dataTestId,\n        rest = _objectWithoutPropertiesLoose(_ref2, ["id", "variant", "title", "description", "dataTestId"]);\n\n    return React__default.createElement(Alert, _extends({\n      key: id,\n      isLiveRegion: true,\n      variant: AlertVariant$1[variant],\n      variantLabel: "",\n      title: title,\n      actionClose: React__default.createElement(AlertActionCloseButton, {\n        title: title,\n        onClose: function onClose() {\n          return onCloseAlert(id);\n        }\n      }),\n      "data-testid": dataTestId\n    }, rest), description);\n  }));\n};\n\nvar AlertProvider = function AlertProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState([]),\n      alerts = _useState[0],\n      setAlerts = _useState[1];\n\n  var _useState2 = useState([]),\n      timers = _useState2[0],\n      setTimers = _useState2[1];\n\n  useEffect(function () {\n    var timersKeys = timers.map(function (timer) {\n      return timer.key;\n    });\n    var timeOuts = alerts.filter(function (alert) {\n      return !timersKeys.includes(alert == null ? void 0 : alert.id);\n    }).map(function (alert) {\n      var _alert$id = alert.id,\n          id = _alert$id === void 0 ? \'\' : _alert$id;\n      var timeOut = setTimeout(function () {\n        return hideAlert(id);\n      }, 8000);\n      return {\n        key: alert.id,\n        timeOut: timeOut\n      };\n    });\n    setTimers([].concat(timers, timeOuts));\n    return function () {\n      return timers.forEach(function (timer) {\n        return (timer == null ? void 0 : timer.timeOut) && clearTimeout(timer.timeOut);\n      });\n    };\n  }, [alerts]);\n\n  var createId = function createId() {\n    return new Date().getTime();\n  };\n\n  var hideAlert = function hideAlert(key) {\n    setAlerts(function (alerts) {\n      return [].concat(alerts.filter(function (el) {\n        return el.id !== key;\n      }));\n    });\n    setTimers(function (timers) {\n      return [].concat(timers.filter(function (timer) {\n        return timer.key === key;\n      }));\n    });\n  };\n\n  var addAlert = function addAlert(props) {\n    var id = createId().toString();\n    setAlerts([].concat(alerts, [_extends({}, props, {\n      id: id\n    })]));\n  };\n\n  return React__default.createElement(AlertContext.Provider, {\n    value: {\n      addAlert: addAlert\n    }\n  }, React__default.createElement(Alerts, {\n    alerts: alerts,\n    onCloseAlert: hideAlert\n  }), children);\n};\n\nvar keycloak$1;\nvar DemoApp = function DemoApp() {\n  var _keycloak;\n\n  var _useState = useState(false),\n      initialized = _useState[0],\n      setInitialized = _useState[1];\n\n  var getBasename = useCallback(function () {\n    return \'/\';\n  }, []); // Initialize the client\n\n  useEffect(function () {\n    var init = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee() {\n        return runtime_1.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getKeycloakInstance();\n\n              case 2:\n                keycloak$1 = _context.sent;\n                setInitialized(true);\n\n              case 4:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function init() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    init();\n  }, []);\n  var config = {\n    cos: {\n      apiBasePath: "https://cos-fm.apps.kammellol.rhmw-integrations.net",\n      configurators: {\n        \'debezium-mongodb-1.5.0.Final\': {\n          remoteEntry: \'https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js\',\n          scope: \'debezium_ui\',\n          module: \'./config\'\n        },\n        \'debezium-mysql-1.5.0.Final\': {\n          remoteEntry: \'https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js\',\n          scope: \'debezium_ui\',\n          module: \'./config\'\n        },\n        \'debezium-postgres-1.5.0.Final\': {\n          remoteEntry: \'https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js\',\n          scope: \'debezium_ui\',\n          module: \'./config\'\n        }\n      }\n    }\n  };\n  return React__default.createElement(KeycloakContext.Provider, {\n    value: {\n      keycloak: keycloak$1,\n      profile: (_keycloak = keycloak$1) == null ? void 0 : _keycloak.profile\n    }\n  }, React__default.createElement(KeycloakAuthProvider, null, React__default.createElement(BasenameContext.Provider, {\n    value: {\n      getBasename: getBasename\n    }\n  }, React__default.createElement(ConfigContext.Provider, {\n    value: config\n  }, React__default.createElement(I18nextProvider, {\n    i18n: i18n\n  }, React__default.createElement(AlertProvider, null, React__default.createElement(React__default.Suspense, {\n    fallback: React__default.createElement(Loading, null)\n  }, React__default.createElement(BrowserRouter, null, React__default.createElement(AppLayout, null, initialized ? React__default.createElement(ConnectedRoutes, null) : React__default.createElement(Spinner, null))))))))));\n};\n\nvar ConnectedRoutes = function ConnectedRoutes() {\n  var auth = useAuth();\n\n  var _useConfig = useConfig(),\n      cos = _useConfig.cos;\n\n  return React__default.createElement(CosUiRoutes, {\n    getToken: auth.kas.getToken,\n    apiBasepath: cos.apiBasePath\n  });\n};\n\nvar E2EApp = function E2EApp() {\n  var getBasename = useCallback(function () {\n    return \'/\';\n  }, []);\n  var config = {\n    cos: {\n      apiBasePath: \'localhost\',\n      configurators: {\n        \'debezium-mongodb-1.5.0.Final\': {\n          remoteEntry: \'https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js\',\n          scope: \'debezium_ui\',\n          module: \'./config\'\n        },\n        \'debezium-mysql-1.5.0.Final\': {\n          remoteEntry: \'https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js\',\n          scope: \'debezium_ui\',\n          module: \'./config\'\n        },\n        \'debezium-postgres-1.5.0.Final\': {\n          remoteEntry: \'https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js\',\n          scope: \'debezium_ui\',\n          module: \'./config\'\n        }\n      }\n    }\n  };\n  var authTokenContext = {\n    kas: {\n      getToken: function getToken() {\n        return Promise.resolve(\'dummy\');\n      }\n    },\n    getUsername: function getUsername() {\n      return Promise.resolve(\'username\');\n    }\n  };\n  return React__default.createElement(AuthContext.Provider, {\n    value: authTokenContext\n  }, React__default.createElement(BasenameContext.Provider, {\n    value: {\n      getBasename: getBasename\n    }\n  }, React__default.createElement(ConfigContext.Provider, {\n    value: config\n  }, React__default.createElement(I18nextProvider, {\n    i18n: i18n\n  }, React__default.createElement(AlertProvider, null, React__default.createElement(React__default.Suspense, {\n    fallback: React__default.createElement(Loading, null)\n  }, React__default.createElement(BrowserRouter, null, React__default.createElement(AppLayout, null, React__default.createElement(ConnectedRoutes$1, null)))))))));\n};\n\nvar ConnectedRoutes$1 = function ConnectedRoutes() {\n  var auth = useAuth();\n\n  var _useConfig = useConfig(),\n      cos = _useConfig.cos;\n\n  return React__default.createElement(CosUiRoutes, {\n    getToken: auth.kas.getToken,\n    apiBasepath: cos.apiBasePath\n  });\n};\n\nvar FederatedApp = function FederatedApp() {\n  var _useConfig = (0,esm_index_js_eager_.useConfig)(),\n      cos = _useConfig.cos;\n\n  var _useAuth = (0,esm_index_js_eager_.useAuth)(),\n      kas = _useAuth.kas;\n\n  var _useBasename = (0,esm_index_js_eager_.useBasename)(),\n      getBasename = _useBasename.getBasename;\n\n  return index_js_eager_default().createElement(es_index_js_.I18nextProvider, {\n    i18n: (i18next_js_default())\n  }, index_js_eager_default().createElement((index_js_eager_default()).Suspense, {\n    fallback: index_js_eager_default().createElement(utils_esm.Loading, null)\n  }, index_js_eager_default().createElement(react_router_dom_js_eager_.BrowserRouter, {\n    basename: getBasename()\n  }, index_js_eager_default().createElement(CosUiRoutes, {\n    getToken: kas.getToken,\n    apiBasepath: cos.apiBasePath\n  }))));\n};\n\n\n//# sourceMappingURL=app.esm.js.map\n\n;// CONCATENATED MODULE: ./src/federated.ts\n\n\n\n/* harmony default export */ const federated = (FederatedApp);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHLE9BQU87O0FBRVY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsbUJBQW1CLHFEQUFxQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLG1CQUFtQixpQ0FBUztBQUM1Qjs7QUFFQSxpQkFBaUIsK0JBQU87QUFDeEI7O0FBRUEscUJBQXFCLG1DQUFXO0FBQ2hDOztBQUVBLFNBQVMsc0NBQTRCLENBQUMsNEJBQWU7QUFDckQsVUFBVSxzQkFBSTtBQUNkLEdBQUcsRUFBRSxzQ0FBNEIsQ0FBQyxtQ0FBdUI7QUFDekQsY0FBYyxzQ0FBNEIsQ0FBQyxpQkFBTztBQUNsRCxHQUFHLEVBQUUsc0NBQTRCLENBQUMsd0NBQWE7QUFDL0M7QUFDQSxHQUFHLEVBQUUsc0NBQTRCO0FBQ2pDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O2tCQUV5QztBQUN6Qzs7O2NDM3ZFeUM7Y0FDd0I7Y0FDdEI7QUFFM0MsZ0RBQWUsWUFBWSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNvcy11aS1hcHBzL2Nvcy11aS8uLi8uLi9wYWNrYWdlcy9hcHAvZGlzdC9hcHAuZXNtLmpzP2M2NjIiLCJ3ZWJwYWNrOi8vQGNvcy11aS1hcHBzL2Nvcy11aS8uL3NyYy9mZWRlcmF0ZWQudHM/YzlkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3RfX2RlZmF1bHQsIHsgdXNlU3RhdGUsIGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVJlZiwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFBhZ2VIZWFkZXJUb29scywgUGFnZUhlYWRlciwgTmF2LCBOYXZMaXN0LCBOYXZJdGVtLCBQYWdlU2lkZWJhciwgUGFnZSwgRHJhd2VyLCBEcmF3ZXJDb250ZW50LCBEcmF3ZXJQYW5lbENvbnRlbnQsIERyYXdlckhlYWQsIFRleHRDb250ZW50LCBUZXh0LCBUZXh0VmFyaWFudHMsIFRpdGxlLCBUaXRsZVNpemVzLCBEcmF3ZXJBY3Rpb25zLCBEcmF3ZXJDbG9zZUJ1dHRvbiwgRHJhd2VyUGFuZWxCb2R5LCBUYWJzLCBUYWIsIFRhYlRpdGxlVGV4dCwgVGV4dExpc3QsIFRleHRMaXN0VmFyaWFudHMsIFRleHRMaXN0SXRlbSwgVGV4dExpc3RJdGVtVmFyaWFudHMsIFNwaW5uZXIsIFBhZ2luYXRpb24sIFRvb2xiYXJJdGVtLCBJbnB1dEdyb3VwLCBUZXh0SW5wdXQsIEJ1dHRvbiwgVG9vbGJhclRvZ2dsZUdyb3VwLCBUb29sYmFyR3JvdXAsIFRvb2xiYXIsIFRvb2xiYXJDb250ZW50LCBNb2RhbCwgTW9kYWxWYXJpYW50LCBTdGFjaywgU3RhY2tJdGVtLCBDYXJkLCBGbGV4LCBGbGV4SXRlbSwgUGFnZVNlY3Rpb24sIEJ1dHRvblZhcmlhbnQsIEJyZWFkY3J1bWIsIEJyZWFkY3J1bWJJdGVtLCBMZXZlbCwgQWxlcnRHcm91cCwgQWxlcnQsIEFsZXJ0VmFyaWFudCBhcyBBbGVydFZhcmlhbnQkMSwgQWxlcnRBY3Rpb25DbG9zZUJ1dHRvbiB9IGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LWNvcmUnO1xuaW1wb3J0IHsgQXV0aENvbnRleHQsIHVzZUFsZXJ0LCBBbGVydFZhcmlhbnQsIHVzZUNvbmZpZywgdXNlQmFzZW5hbWUsIEFsZXJ0Q29udGV4dCwgQmFzZW5hbWVDb250ZXh0LCBDb25maWdDb250ZXh0LCB1c2VBdXRoIH0gZnJvbSAnQGJmMi91aS1zaGFyZWQnO1xuaW1wb3J0IHsgTmF2TGluaywgdXNlSGlzdG9yeSwgU3dpdGNoLCBSb3V0ZSwgQnJvd3NlclJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHsgaW5pdFJlYWN0STE4bmV4dCwgdXNlVHJhbnNsYXRpb24sIFRyYW5zLCBJMThuZXh0UHJvdmlkZXIgfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IHVzZURlYm91bmNlLCBMb2FkaW5nLCBFbXB0eVN0YXRlLCBFbXB0eVN0YXRlVmFyaWFudCwgTm9NYXRjaEZvdW5kIH0gZnJvbSAnQGNvcy11aS91dGlscyc7XG5pbXBvcnQgaTE4biBmcm9tICdpMThuZXh0JztcbmltcG9ydCBCYWNrZW5kIGZyb20gJ2kxOG5leHQtaHR0cC1iYWNrZW5kJztcbmltcG9ydCBMYW5ndWFnZURldGVjdG9yIGZyb20gJ2kxOG5leHQtYnJvd3Nlci1sYW5ndWFnZWRldGVjdG9yJztcbmltcG9ydCBLZXljbG9hayBmcm9tICdrZXljbG9hay1qcyc7XG5pbXBvcnQgeyB1c2VDb25uZWN0b3JzTWFjaGluZVNlcnZpY2UsIHVzZUNvbm5lY3RvcnNNYWNoaW5lLCB1c2VDb25uZWN0b3IsIENvbm5lY3RvcnNNYWNoaW5lUHJvdmlkZXIsIHVzZUNvbm5lY3RvcnNNYWNoaW5lSXNSZWFkeSwgQ3JlYXRpb25XaXphcmRNYWNoaW5lUHJvdmlkZXIgfSBmcm9tICdAY29zLXVpL21hY2hpbmVzJztcbmltcG9ydCB7IGNzcyB9IGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LXN0eWxlcyc7XG5pbXBvcnQgeyBUYWJsZUNvbXBvc2FibGUsIFRoZWFkLCBUciwgVGgsIFRib2R5LCBUZCB9IGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LXRhYmxlJztcbmltcG9ydCB7IFBlbmRpbmdJY29uLCBFeGNsYW1hdGlvbkNpcmNsZUljb24sIENoZWNrQ2lyY2xlSWNvbiwgU2VhcmNoSWNvbiwgRmlsdGVySWNvbiB9IGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LWljb25zJztcbmltcG9ydCB7IENyZWF0aW9uV2l6YXJkIH0gZnJvbSAnQGNvcy11aS9jcmVhdGlvbi13aXphcmQnO1xuXG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7XG4gIHRyeSB7XG4gICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpO1xuICAgIHZhciB2YWx1ZSA9IGluZm8udmFsdWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVqZWN0KGVycm9yKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoaW5mby5kb25lKSB7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7XG5cbiAgICAgIGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gX3Rocm93KGVycikge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTtcbiAgICAgIH1cblxuICAgICAgX25leHQodW5kZWZpbmVkKTtcbiAgICB9KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZuLCBtb2R1bGUpIHtcblx0cmV0dXJuIG1vZHVsZSA9IHsgZXhwb3J0czoge30gfSwgZm4obW9kdWxlLCBtb2R1bGUuZXhwb3J0cyksIG1vZHVsZS5leHBvcnRzO1xufVxuXG52YXIgcnVudGltZV8xID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgLyoqXG4gICAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICAgKlxuICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAgICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKi9cbiAgdmFyIHJ1bnRpbWUgPSBmdW5jdGlvbiAoZXhwb3J0cykge1xuXG4gICAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gICAgdmFyIHVuZGVmaW5lZCQxOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cblxuICAgIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gICAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcbiAgICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICAgIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgICBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvYmpba2V5XTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gSUUgOCBoYXMgYSBicm9rZW4gT2JqZWN0LmRlZmluZVByb3BlcnR5IHRoYXQgb25seSB3b3JrcyBvbiBET00gb2JqZWN0cy5cbiAgICAgIGRlZmluZSh7fSwgXCJcIik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBkZWZpbmUgPSBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBvYmpba2V5XSA9IHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkIGFuZCBvdXRlckZuLnByb3RvdHlwZSBpcyBhIEdlbmVyYXRvciwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pOyAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG5cbiAgICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiBnZW5lcmF0b3I7XG4gICAgfVxuXG4gICAgZXhwb3J0cy53cmFwID0gd3JhcDsgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uXG4gICAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gICAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gICAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZVxuICAgIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gICAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWVcbiAgICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gICAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxuXG4gICAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFwibm9ybWFsXCIsXG4gICAgICAgICAgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKVxuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogXCJ0aHJvd1wiLFxuICAgICAgICAgIGFyZzogZXJyXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gICAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gICAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiOyAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzXG4gICAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuXG4gICAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTsgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gICAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yXG4gICAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuXG4gICAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cblxuICAgIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cblxuICAgIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge30gLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAgIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG5cblxuICAgIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4gICAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgICB2YXIgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7XG5cbiAgICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiYgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgICAvLyBvZiB0aGUgcG9seWZpbGwuXG4gICAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICAgIH1cblxuICAgIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb247XG4gICAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBkZWZpbmUoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpOyAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAgIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG5cbiAgICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICAgIGRlZmluZShwcm90b3R5cGUsIG1ldGhvZCwgZnVuY3Rpb24gKGFyZykge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uIChnZW5GdW4pIHtcbiAgICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICAgIHJldHVybiBjdG9yID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHwgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiIDogZmFsc2U7XG4gICAgfTtcblxuICAgIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uIChnZW5GdW4pIHtcbiAgICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgICBkZWZpbmUoZ2VuRnVuLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKTtcbiAgICAgIH1cblxuICAgICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgICAgcmV0dXJuIGdlbkZ1bjtcbiAgICB9OyAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAgIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuXG5cbiAgICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgX19hd2FpdDogYXJnXG4gICAgICB9O1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHtcbiAgICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuXG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcblxuICAgICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24gKHVud3JhcHBlZCkge1xuICAgICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLlxuICAgICAgICAgICAgcmV0dXJuIGludm9rZShcInRocm93XCIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID0gLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLCAvLyBBdm9pZCBwcm9wYWdhdGluZyBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieSBsYXRlclxuICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgICB9IC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cblxuXG4gICAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICAgIH1cblxuICAgIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG5cbiAgICBBc3luY0l0ZXJhdG9yLnByb3RvdHlwZVthc3luY0l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yOyAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gICAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gICAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG5cbiAgICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24gKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgICAgaWYgKFByb21pc2VJbXBsID09PSB2b2lkIDApIFByb21pc2VJbXBsID0gUHJvbWlzZTtcbiAgICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3Iod3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksIFByb21pc2VJbXBsKTtcbiAgICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgICAgfSAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcblxuXG4gICAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG5cbiAgICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZSA/IEdlblN0YXRlQ29tcGxldGVkIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkOyAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuXG4gICAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gICAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gICAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG5cblxuICAgIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG5cbiAgICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCQxKSB7XG4gICAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIC8vIE5vdGU6IFtcInJldHVyblwiXSBtdXN0IGJlIHVzZWQgZm9yIEVTMyBwYXJzaW5nIGNvbXBhdGliaWxpdHkuXG4gICAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCQxO1xuICAgICAgICAgICAgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAgIC8vIFwicmV0dXJuXCIgdG8gXCJ0aHJvd1wiLCBsZXQgdGhhdCBvdmVycmlkZSB0aGUgVHlwZUVycm9yIGJlbG93LlxuICAgICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgICBpZiAoIWluZm8pIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7IC8vIFJlc3VtZSBleGVjdXRpb24gYXQgdGhlIGRlc2lyZWQgbG9jYXRpb24gKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cblxuICAgICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jOyAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZlxuICAgICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgICAgLy8gXCJyZXR1cm5cIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGVcbiAgICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCAhPT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQkMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgIH0gLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXG5cblxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9IC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gICAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuXG5cbiAgICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuICAgIGRlZmluZShHcCwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yXCIpOyAvLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZVxuICAgIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gICAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgICAvLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi5cbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIEdwW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgICAgdmFyIGVudHJ5ID0ge1xuICAgICAgICB0cnlMb2M6IGxvY3NbMF1cbiAgICAgIH07XG5cbiAgICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdO1xuICAgICAgfVxuXG4gICAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICAgIGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdO1xuICAgICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgICB9XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgICAvLyBUaGUgcm9vdCBlbnRyeSBvYmplY3QgKGVmZmVjdGl2ZWx5IGEgdHJ5IHN0YXRlbWVudCB3aXRob3V0IGEgY2F0Y2hcbiAgICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICAgIHRoaXMudHJ5RW50cmllcyA9IFt7XG4gICAgICAgIHRyeUxvYzogXCJyb290XCJcbiAgICAgIH1dO1xuICAgICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpO1xuICAgICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgICB9XG5cbiAgICBleHBvcnRzLmtleXMgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgfVxuXG4gICAgICBrZXlzLnJldmVyc2UoKTsgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcblxuICAgICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuXG5cbiAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG5cbiAgICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgICB2YXIgaSA9IC0xLFxuICAgICAgICAgICAgICBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICAgIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXTtcbiAgICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkJDE7XG4gICAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICB9IC8vIFJldHVybiBhbiBpdGVyYXRvciB3aXRoIG5vIHZhbHVlcy5cblxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBuZXh0OiBkb25lUmVzdWx0XG4gICAgICB9O1xuICAgIH1cblxuICAgIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gICAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB1bmRlZmluZWQkMSxcbiAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KHNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgICAgdGhpcy5uZXh0ID0gMDsgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cblxuICAgICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkJDE7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQkMTtcbiAgICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJiBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJiAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQkMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdO1xuICAgICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICAgIH0sXG4gICAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24gZGlzcGF0Y2hFeGNlcHRpb24oZXhjZXB0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG5cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjtcbiAgICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLFxuICAgICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCQxO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiAhIWNhdWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xuICAgICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYWJydXB0OiBmdW5jdGlvbiBhYnJ1cHQodHlwZSwgYXJnKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG5cbiAgICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJiBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaW5hbGx5RW50cnkgJiYgKHR5cGUgPT09IFwiYnJlYWtcIiB8fCB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZShyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8IHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH0sXG4gICAgICBmaW5pc2g6IGZ1bmN0aW9uIGZpbmlzaChmaW5hbGx5TG9jKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG5cbiAgICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24gX2NhdGNoKHRyeUxvYykge1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuXG4gICAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb25cbiAgICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuXG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgICAgfSxcbiAgICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQkMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuICAgIH07IC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGVcbiAgICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgICAvLyByZWdlbmVyYXRvclJ1bnRpbWUgaW4gdGhlIG91dGVyIHNjb3BlLCB3aGljaCBhbGxvd3MgdGhpcyBtb2R1bGUgdG8gYmVcbiAgICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLlxuXG4gICAgcmV0dXJuIGV4cG9ydHM7XG4gIH0oIC8vIElmIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZSwgdXNlIG1vZHVsZS5leHBvcnRzXG4gIC8vIGFzIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgbmFtZXNwYWNlLiBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGVtcHR5XG4gIC8vIG9iamVjdC4gRWl0aGVyIHdheSwgdGhlIHJlc3VsdGluZyBvYmplY3Qgd2lsbCBiZSB1c2VkIHRvIGluaXRpYWxpemVcbiAgLy8gdGhlIHJlZ2VuZXJhdG9yUnVudGltZSB2YXJpYWJsZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZS5cbiAgIG1vZHVsZS5leHBvcnRzICk7XG5cbiAgdHJ5IHtcbiAgICByZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xuICB9IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAgIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gICAgLy8gYXNzaWdubWVudCBzaG91bGQgYWx3YXlzIHdvcmsgdW5sZXNzIHNvbWV0aGluZyBpcyBtaXNjb25maWd1cmVkLiBKdXN0XG4gICAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCB3ZSBjYW4gZXNjYXBlXG4gICAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gICAgLy8gaWYgYSBDb250ZW50IFNlY3VyaXR5IFBvbGljeSBmb3JiaWRzIHVzaW5nIEZ1bmN0aW9uLCBidXQgaW4gdGhhdCBjYXNlXG4gICAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAgIC8vIENTUCB0byBmb3JiaWQgRnVuY3Rpb24sIGFuZCB5b3UncmUgbm90IHdpbGxpbmcgdG8gZml4IGVpdGhlciBvZiB0aG9zZVxuICAgIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICAgIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG4gIH1cbn0pO1xuXG4vLyBoYXZlIGEgbG9vayBhdCB0aGUgUXVpY2sgc3RhcnQgZ3VpZGVcbi8vIGZvciBwYXNzaW5nIGluIGxuZyBhbmQgdHJhbnNsYXRpb25zIG9uIGluaXRcblxuaTE4biAvLyBsb2FkIHRyYW5zbGF0aW9uIHVzaW5nIGh0dHAgLT4gc2VlIC9wdWJsaWMvbG9jYWxlcyAoaS5lLiBodHRwczovL2dpdGh1Yi5jb20vaTE4bmV4dC9yZWFjdC1pMThuZXh0L3RyZWUvbWFzdGVyL2V4YW1wbGUvcmVhY3QvcHVibGljL2xvY2FsZXMpXG4vLyBsZWFybiBtb3JlOiBodHRwczovL2dpdGh1Yi5jb20vaTE4bmV4dC9pMThuZXh0LWh0dHAtYmFja2VuZFxuLnVzZShCYWNrZW5kKSAvLyBkZXRlY3QgdXNlciBsYW5ndWFnZVxuLy8gbGVhcm4gbW9yZTogaHR0cHM6Ly9naXRodWIuY29tL2kxOG5leHQvaTE4bmV4dC1icm93c2VyLWxhbmd1YWdlRGV0ZWN0b3Jcbi51c2UoTGFuZ3VhZ2VEZXRlY3RvcikgLy8gcGFzcyB0aGUgaTE4biBpbnN0YW5jZSB0byByZWFjdC1pMThuZXh0LlxuLnVzZShpbml0UmVhY3RJMThuZXh0KSAvLyBpbml0IGkxOG5leHRcbi8vIGZvciBhbGwgb3B0aW9ucyByZWFkOiBodHRwczovL3d3dy5pMThuZXh0LmNvbS9vdmVydmlldy9jb25maWd1cmF0aW9uLW9wdGlvbnNcbi5pbml0KHtcbiAgLy8gQ29tbWVudGluZyBpdCBhcyB3ZSBoYXZlIGZhbGxiYWNrTG5nIGZvciBjYXNlIG9mIGxhbmd1YWdlIGRldGVjdGVkIGFzIGVuLUdCIG9yIGVuLVVTXG4gIC8vIHN1cHBvcnRlZExuZ3M6IFsnZW4nLCdpdCddLFxuICBiYWNrZW5kOiB7XG4gICAgbG9hZFBhdGg6IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJsb2NhbGVzL3t7bG5nfX0ve3tuc319Lmpzb25cIlxuICB9LFxuICBmYWxsYmFja0xuZzogJ2VuJyxcbiAgbG9hZDogJ2FsbCcsXG4gIGRlYnVnOiB0cnVlLFxuICAvLyBhZGQgYW55IG5hbWVzcGFjZXMgeW91J3JlIHVzaW5nIGhlcmUgZm9yIGxvYWRpbmcgcHVycG9zZXNcbiAgbnM6IFsncHVibGljJ10sXG4gIGRlZmF1bHROUzogJ3B1YmxpYycsXG4gIG5zU2VwYXJhdG9yOiAnOicsXG4gIGtleVNlcGFyYXRvcjogJy4nLFxuICByZWFjdDoge1xuICAgIHVzZVN1c3BlbnNlOiB0cnVlLFxuICAgIHdhaXQ6IHRydWVcbiAgfSxcbiAgaW50ZXJwb2xhdGlvbjoge1xuICAgIGRlZmF1bHRWYXJpYWJsZXM6IHVuZGVmaW5lZCxcbiAgICBlc2NhcGVWYWx1ZTogZmFsc2UgLy8gbm90IG5lZWRlZCBmb3IgcmVhY3QgYXMgaXQgZXNjYXBlcyBieSBkZWZhdWx0XG5cbiAgfVxufSk7XG5cbnZhciBrZXljbG9haztcbi8qKlxyXG4gKiBHZXQga2V5Y2xvYWsgaW5zdGFuY2VcclxuICpcclxuICogQHJldHVybiBhbiBpbml0aWF0ZWQga2V5Y2xvYWsgaW5zdGFuY2Ugb3IgYHVuZGVmaW5lZGBcclxuICogaWYga2V5Y2xvYWsgaXNuJ3QgY29uZmlndXJlZFxyXG4gKlxyXG4gKi9cblxudmFyIGdldEtleWNsb2FrSW5zdGFuY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZiA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3J1bnRpbWVfMS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgcmV0dXJuIHJ1bnRpbWVfMS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgaWYgKGtleWNsb2FrKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7XG4gICAgICAgICAgICByZXR1cm4gaW5pdCgpO1xuXG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBrZXljbG9hayk7XG5cbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWUpO1xuICB9KSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGdldEtleWNsb2FrSW5zdGFuY2UoKSB7XG4gICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKTtcbi8qKlxyXG4gKiBJbml0aWF0ZSBrZXljbG9hayBpbnN0YW5jZS5cclxuICpcclxuICogU2V0IGtleWNsb2FrIHRvIHVuZGVmaW5lZCBpZlxyXG4gKiBrZXljbG9hayBpc24ndCBjb25maWd1cmVkXHJcbiAqXHJcbiAqL1xuXG52YXIgaW5pdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIHZhciBfcmVmMiA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3J1bnRpbWVfMS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkge1xuICAgIHJldHVybiBydW50aW1lXzEud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7XG4gICAgICAgICAgICBrZXljbG9hayA9IG5ldyBLZXljbG9hayh7XG4gICAgICAgICAgICAgIHJlYWxtOiAncmVkaGF0LWV4dGVybmFsJyxcbiAgICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9zc28ucmVkaGF0LmNvbS9hdXRoLycsXG4gICAgICAgICAgICAgIGNsaWVudElkOiAnY2xvdWQtc2VydmljZXMnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFrZXljbG9haykge1xuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7XG4gICAgICAgICAgICByZXR1cm4ga2V5Y2xvYWsuaW5pdCh7XG4gICAgICAgICAgICAgIG9uTG9hZDogJ2xvZ2luLXJlcXVpcmVkJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDc7XG4gICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbXCJjYXRjaFwiXSgwKTtcbiAgICAgICAgICAgIGtleWNsb2FrID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdBdXRoOiBVbmFibGUgdG8gaW5pdGlhbGl6ZSBrZXljbG9hay4gQ2xpZW50IHNpZGUgd2lsbCBub3QgYmUgY29uZmlndXJlZCB0byB1c2UgYXV0aGVudGljYXRpb24nLCBfY29udGV4dDIudDApO1xuXG4gICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzAsIDddXSk7XG4gIH0pKTtcblxuICByZXR1cm4gZnVuY3Rpb24gaW5pdCgpIHtcbiAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKTtcbi8qKlxyXG4gKiBVc2Uga2V5Y2xvYWsgdXBkYXRlIHRva2VuIGZ1bmN0aW9uIHRvIHJldHJpZXZlXHJcbiAqIGtleWNsb2FrIHRva2VuXHJcbiAqXHJcbiAqIEByZXR1cm4ga2V5Y2xvYWsgdG9rZW4gb3IgZW1wdHkgc3RyaW5nIGlmIGtleWNsb2FrXHJcbiAqIGlzbid0IGNvbmZpZ3VyZWRcclxuICpcclxuICovXG5cbnZhciBnZXRLZXlDbG9ha1Rva2VuID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWY0ID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcnVudGltZV8xLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7XG4gICAgdmFyIF9rZXljbG9haywgX2tleWNsb2FrMjtcblxuICAgIHJldHVybiBydW50aW1lXzEud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7XG4gICAgICAgICAgICByZXR1cm4gKF9rZXljbG9hayA9IGtleWNsb2FrKSA9PSBudWxsID8gdm9pZCAwIDogX2tleWNsb2FrLnVwZGF0ZVRva2VuKDUwKTtcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGlmICghKChfa2V5Y2xvYWsyID0ga2V5Y2xvYWspID09IG51bGwgPyB2b2lkIDAgOiBfa2V5Y2xvYWsyLnRva2VuKSkge1xuICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdChcInJldHVyblwiLCBrZXljbG9hay50b2tlbik7XG5cbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdObyBrZXljbG9hayB0b2tlbiBhdmFpbGFibGUnKTtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KFwicmV0dXJuXCIsICdmb28nKTtcblxuICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWU0KTtcbiAgfSkpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBnZXRLZXlDbG9ha1Rva2VuKCkge1xuICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpO1xuLyoqXHJcbiAqIFVzZSBrZXljbG9hayB1cGRhdGUgdG9rZW4gZnVuY3Rpb24gdG8gcmV0cmlldmVcclxuICoga2V5Y2xvYWsgdG9rZW5cclxuICpcclxuICogQHJldHVybiBrZXljbG9hayB0b2tlbiBvciBlbXB0eSBzdHJpbmcgaWYga2V5Y2xvYWtcclxuICogaXNuJ3QgY29uZmlndXJlZFxyXG4gKlxyXG4gKi9cblxudmFyIGdldFBhcnNlZEtleUNsb2FrVG9rZW4gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZjUgPSAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9ydW50aW1lXzEubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHtcbiAgICB2YXIgX2tleWNsb2FrMywgX2tleWNsb2FrNDtcblxuICAgIHJldHVybiBydW50aW1lXzEud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7XG4gICAgICAgICAgICByZXR1cm4gKF9rZXljbG9hazMgPSBrZXljbG9haykgPT0gbnVsbCA/IHZvaWQgMCA6IF9rZXljbG9hazMudXBkYXRlVG9rZW4oNTApO1xuXG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgaWYgKCEoKF9rZXljbG9hazQgPSBrZXljbG9haykgPT0gbnVsbCA/IHZvaWQgMCA6IF9rZXljbG9hazQudG9rZW5QYXJzZWQpKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwicmV0dXJuXCIsIGtleWNsb2FrLnRva2VuUGFyc2VkKTtcblxuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIGtleWNsb2FrIHRva2VuIGF2YWlsYWJsZScpO1xuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIiwge30pO1xuXG4gICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTUpO1xuICB9KSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGdldFBhcnNlZEtleUNsb2FrVG9rZW4oKSB7XG4gICAgcmV0dXJuIF9yZWY1LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59KCk7XG5cbnZhciBLZXljbG9ha0NvbnRleHQgPSAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlQ29udGV4dCh7XG4gIGtleWNsb2FrOiB1bmRlZmluZWRcbn0pO1xudmFyIEtleWNsb2FrQXV0aFByb3ZpZGVyID0gZnVuY3Rpb24gS2V5Y2xvYWtBdXRoUHJvdmlkZXIocHJvcHMpIHtcbiAgdmFyIGdldFVzZXJuYW1lID0gZnVuY3Rpb24gZ2V0VXNlcm5hbWUoKSB7XG4gICAgcmV0dXJuIGdldFBhcnNlZEtleUNsb2FrVG9rZW4oKS50aGVuKGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgcmV0dXJuIHRva2VuWyd1c2VybmFtZSddO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBhdXRoVG9rZW5Db250ZXh0ID0ge1xuICAgIGthczoge1xuICAgICAgZ2V0VG9rZW46IGdldEtleUNsb2FrVG9rZW5cbiAgICB9LFxuICAgIGdldFVzZXJuYW1lOiBnZXRVc2VybmFtZVxuICB9O1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChBdXRoQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBhdXRoVG9rZW5Db250ZXh0XG4gIH0sIHByb3BzLmNoaWxkcmVuKTtcbn07XG5cbnZhciBsb2dvID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sJTIwdmVyc2lvbiUzRCUyMjEuMCUyMiUyMGVuY29kaW5nJTNEJTIyVVRGLTglMjIlM0YlM0UlM0NzdmclMjB3aWR0aCUzRCUyMjE3NXB4JTIyJTIwaGVpZ2h0JTNEJTIyMzJweCUyMiUyMHZpZXdCb3glM0QlMjIwJTIwMCUyMDE3NSUyMDMyJTIyJTIwdmVyc2lvbiUzRCUyMjEuMSUyMiUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIweG1sbnMlM0F4bGluayUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMTk5OSUyRnhsaW5rJTIyJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDdGl0bGUlM0VQYXR0ZXJuRmx5JTIwTG9nbyUzQyUyRnRpdGxlJTNFJTIwJTIwJTIwJTIwJTNDZGVzYyUzRUNyZWF0ZWQlMjB3aXRoJTIwU2tldGNoLiUzQyUyRmRlc2MlM0UlMjAlMjAlMjAlMjAlM0NkZWZzJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbGluZWFyR3JhZGllbnQlMjB4MSUzRCUyMjUwLjAwMDQ3NjklMjUlMjIlMjB5MSUzRCUyMjMuMDI0NzU1MDklMjUlMjIlMjB4MiUzRCUyMjUwLjAwMDQ3NjklMjUlMjIlMjB5MiUzRCUyMjk1LjM2MjAwODYlMjUlMjIlMjBpZCUzRCUyMmxpbmVhckdyYWRpZW50LTElMjIlM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NzdG9wJTIwc3RvcC1jb2xvciUzRCUyMiUyMzYwRUZGRiUyMiUyMG9mZnNldCUzRCUyMjAlMjUlMjIlM0UlM0MlMkZzdG9wJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDc3RvcCUyMHN0b3AtY29sb3IlM0QlMjIlMjMxRjg5QzclMjIlMjBvZmZzZXQlM0QlMjIxMDAlMjUlMjIlM0UlM0MlMkZzdG9wJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGbGluZWFyR3JhZGllbnQlM0UlMjAlMjAlMjAlMjAlM0MlMkZkZWZzJTNFJTIwJTIwJTIwJTIwJTNDZyUyMGlkJTNEJTIyU3ltYm9scyUyMiUyMHN0cm9rZSUzRCUyMm5vbmUlMjIlMjBzdHJva2Utd2lkdGglM0QlMjIxJTIyJTIwZmlsbCUzRCUyMm5vbmUlMjIlMjBmaWxsLXJ1bGUlM0QlMjJldmVub2RkJTIyJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDZyUyMGlkJTNEJTIyTmF2LWJhci0lMjhkZXNrdG9wJTI5JTIyJTIwdHJhbnNmb3JtJTNEJTIydHJhbnNsYXRlJTI4LTE1MC4wMDAwMDAlMkMlMjAtMTYuMDAwMDAwJTI5JTIyJTIwZmlsbC1ydWxlJTNEJTIybm9uemVybyUyMiUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ2clMjBpZCUzRCUyMlBhdHRlcm5GbHktTG9nbyUyMiUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ2clMjB0cmFuc2Zvcm0lM0QlMjJ0cmFuc2xhdGUlMjgxNTAuMDAwMDAwJTJDJTIwMTYuMDAwMDAwJTI5JTIyJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDZyUyMGlkJTNEJTIyR3JvdXAlMjIlMjB0cmFuc2Zvcm0lM0QlMjJ0cmFuc2xhdGUlMjg0NC43NDg4NTglMkMlMjAxMS4yMDAwMDAlMjklMjIlMjBmaWxsJTNEJTIyJTIzRkZGRkZGJTIyJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNMC4zMDIwNTQ3OTUlMkM5LjM0ODglMjBMMC4zMDIwNTQ3OTUlMkMwLjMyNjQlMjBMNC4xNjg4MzU2MiUyQzAuMzI2NCUyMEM0LjczODU4NDQ3JTJDMC4zMjY0JTIwNS4yMTcyMzc0NCUyQzAuNDA5NiUyMDUuNjA3MTkxNzglMkMwLjU3NDQlMjBDNS45OTcxNDYxMiUyQzAuNzQwOCUyMDYuMzEzNTg0NDclMkMwLjk1NzYlMjA2LjU1NjUwNjg1JTJDMS4yMjk2JTIwQzYuNzk5NDI5MjIlMkMxLjUwMDglMjA2Ljk3NDQyOTIyJTJDMS44MDQ4JTIwNy4wODE1MDY4NSUyQzIuMTQ1NiUyMEM3LjE4Nzc4NTM5JTJDMi40ODU2JTIwNy4yNDIxMjMyOSUyQzIuODI4OCUyMDcuMjQyMTIzMjklMkMzLjE3NjglMjBDNy4yNDIxMjMyOSUyQzMuMzkzNiUyMDcuMjE3MzUxNiUyQzMuNjE2JTIwNy4xNjU0MTA5NiUyQzMuODQwOCUyMEM3LjExNTA2ODQ5JTJDNC4wNjQlMjA3LjAzODM1NjE2JTJDNC4yODQlMjA2LjkzMzY3NTglMkM0LjQ5NiUyMEM2LjgyODE5NjM1JTJDNC43MDglMjA2LjY5NDc0ODg2JTJDNC45MDQ4JTIwNi41MzA5MzYwNyUyQzUuMDkxMiUyMEM2LjM2NzEyMzI5JTJDNS4yNzUyJTIwNi4xNzA1NDc5NSUyQzUuNDM4NCUyMDUuOTQyODA4MjIlMkM1LjU3ODQlMjBDNS43MTQyNjk0MSUyQzUuNzE4NCUyMDUuNDUzNzY3MTIlMkM1LjgyOCUyMDUuMTU4MTA1MDIlMkM1LjkwOCUyMEM0Ljg2MTY0Mzg0JTJDNS45ODglMjA0LjUzMjQyMDA5JTJDNi4wMjcyJTIwNC4xNjgwMzY1MyUyQzYuMDI3MiUyMEwyLjA0MjQ2NTc1JTJDNi4wMjcyJTIwTDIuMDQyNDY1NzUlMkM5LjM0NzIlMjBMMC4zMDIwNTQ3OTUlMkM5LjM0ODglMjBMMC4zMDIwNTQ3OTUlMkM5LjM0ODglMjBaJTIwTTQuMjQzMTUwNjglMkM0LjM3MiUyMEM0LjQ2NTI5NjglMkM0LjM3MiUyMDQuNjUzMDgyMTklMkM0LjMzNjglMjA0LjgwMzMxMDUlMkM0LjI2NjQlMjBDNC45NTM1Mzg4MSUyQzQuMTkzNiUyMDUuMDc1Nzk5MDklMkM0LjEwMjQlMjA1LjE3MDg5MDQxJTJDMy45ODglMjBDNS4yNjU5ODE3NCUyQzMuODc0NCUyMDUuMzMzMTA1MDIlMkMzLjc0NjQlMjA1LjM3NDY1NzUzJTJDMy42MDQ4JTIwQzUuNDE3MDA5MTMlMkMzLjQ2MTYlMjA1LjQzOTM4MzU2JTJDMy4zMiUyMDUuNDM5MzgzNTYlMkMzLjE3NiUyMEM1LjQzOTM4MzU2JTJDMy4wNDY0JTIwNS40MjEwMDQ1NyUyQzIuOTExMiUyMDUuMzg0MjQ2NTglMkMyLjc2ODglMjBDNS4zNDkwODY3NiUyQzIuNjMwNCUyMDUuMjg1OTU4OSUyQzIuNTAyNCUyMDUuMTk2NDYxMTklMkMyLjM4MzIlMjBDNS4xMDYxNjQzOCUyQzIuMjY2NCUyMDQuOTgyMzA1OTQlMkMyLjE2OTYlMjA0LjgyODg4MTI4JTJDMi4wOTUyJTIwQzQuNjczMDU5MzYlMkMyLjAxOTIlMjA0LjQ3ODg4MTI4JTJDMS45ODA4JTIwNC4yNDM5NDk3NyUyQzEuOTgwOCUyMEwyLjA0NDA2MzkzJTJDMS45ODA4JTIwTDIuMDQ0MDYzOTMlMkM0LjM3MTIlMjBMNC4yNDMxNTA2OCUyQzQuMzcyJTIwTDQuMjQzMTUwNjglMkM0LjM3MiUyMFolMjIlMjBpZCUzRCUyMlNoYXBlJTIyJTNFJTNDJTJGcGF0aCUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTTE5LjI1NTU5MzYlMkM5LjM0ODglMjBMMTguNTU3MTkxOCUyQzcuNDgxNiUyMEwxNS4wODAzNjUzJTJDNy40ODE2JTIwTDE0LjM4OTk1NDMlMkM5LjM0ODglMjBMMTIuNTIxNjg5NSUyQzkuMzQ4OCUyMEwxNS45NzM3NDQzJTJDMC4zMjY0JTIwTDE3LjY2OTQwNjQlMkMwLjMyNjQlMjBMMjEuMTIxNDYxMiUyQzkuMzQ4OCUyMEwxOS4yNTU1OTM2JTJDOS4zNDg4JTIwWiUyME0xNy4xMDUyNTExJTJDMy41NDglMjBDMTcuMDU4OTA0MSUyQzMuNDQlMjAxNy4wMDkzNjA3JTJDMy4zMDg4JTIwMTYuOTU2NjIxJTJDMy4xNTg0JTIwQzE2LjkwNjI3ODUlMkMzLjAwNTYlMjAxNi44NTk5MzE1JTJDMi44NjY0JTIwMTYuODIyMzc0NCUyQzIuNzM1MiUyMEMxNi43ODgwMTM3JTJDMi44NjcyJTIwMTYuNzQ0MDYzOSUyQzMuMDA1NiUyMDE2LjY4OTcyNiUyQzMuMTU4NCUyMEMxNi42MzYxODcyJTJDMy4zMDg4JTIwMTYuNTg1ODQ0NyUyQzMuNDQlMjAxNi41Mzg2OTg2JTJDMy41NDglMjBMMTUuNjQ2MTE4NyUyQzUuODk1MiUyMEwxNy45OTIyMzc0JTJDNS44OTUyJTIwTDE3LjEwNTI1MTElMkMzLjU0OCUyMFolMjIlMjBpZCUzRCUyMlNoYXBlJTIyJTNFJTNDJTJGcGF0aCUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BvbHlnb24lMjBpZCUzRCUyMlBhdGglMjIlMjBwb2ludHMlM0QlMjIzMC45MDM4ODEzJTIwMi4wMDY0JTIwMzAuOTAzODgxMyUyMDkuMzQ4OCUyMDI5LjE2OTg2MyUyMDkuMzQ4OCUyMDI5LjE2OTg2MyUyMDIuMDA2NCUyMDI2LjU5MjAwOTElMjAyLjAwNjQlMjAyNi41OTIwMDkxJTIwMC4zMjY0JTIwMzMuNDgwOTM2MSUyMDAuMzI2NCUyMDMzLjQ4MDkzNjElMjAyLjAwNjQlMjIlM0UlM0MlMkZwb2x5Z29uJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcG9seWdvbiUyMGlkJTNEJTIyUGF0aCUyMiUyMHBvaW50cyUzRCUyMjQ0LjM5MzI2NDglMjAyLjAwNjQlMjA0NC4zOTMyNjQ4JTIwOS4zNDg4JTIwNDIuNjU4NDQ3NSUyMDkuMzQ4OCUyMDQyLjY1ODQ0NzUlMjAyLjAwNjQlMjA0MC4wODA1OTM2JTIwMi4wMDY0JTIwNDAuMDgwNTkzNiUyMDAuMzI2NCUyMDQ2Ljk2OTUyMDUlMjAwLjMyNjQlMjA0Ni45Njk1MjA1JTIwMi4wMDY0JTIyJTNFJTNDJTJGcG9seWdvbiUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BvbHlnb24lMjBpZCUzRCUyMlBhdGglMjIlMjBwb2ludHMlM0QlMjI1NC4xNTA5MTMyJTIwOS4zNDg4JTIwNTQuMTUwOTEzMiUyMDAuMzI2NCUyMDYwLjMwMjI4MzElMjAwLjMyNjQlMjA2MC4zMDIyODMxJTIwMS45ODE2JTIwNTUuODkwNTI1MSUyMDEuOTgxNiUyMDU1Ljg5MDUyNTElMjAzLjg3NTIlMjA1OC40ODU5NTg5JTIwMy44NzUyJTIwNTguNDg1OTU4OSUyMDUuNTIzMiUyMDU1Ljg5MDUyNTElMjA1LjUyMzIlMjA1NS44OTA1MjUxJTIwNy43MDE2JTIwNjAuNTcxNTc1MyUyMDcuNzAxNiUyMDYwLjU3MTU3NTMlMjA5LjM1MTIlMjIlM0UlM0MlMkZwb2x5Z29uJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNNjcuODg0ODE3NCUyQzkuMzQ4OCUyMEw2Ny44ODQ4MTc0JTJDMC4zMjY0JTIwTDcyLjA3MDQzMzglMkMwLjMyNjQlMjBDNzIuNjQwMTgyNiUyQzAuMzI2NCUyMDczLjExNzIzNzQlMkMwLjQwMzIlMjA3My41JTJDMC41NjI0JTIwQzczLjg4Mjc2MjYlMkMwLjcxOTIlMjA3NC4xOTI4MDgyJTJDMC45MjglMjA3NC40MjY5NDA2JTJDMS4xODglMjBDNzQuNjU5NDc0OSUyQzEuNDQ4OCUyMDc0LjgyOTY4MDQlMkMxLjc0ODglMjA3NC45Mjk1NjYyJTJDMi4wODglMjBDNzUuMDI3ODUzOSUyQzIuNDI4JTIwNzUuMDgwNTkzNiUyQzIuNzgzMiUyMDc1LjA4MDU5MzYlMkMzLjE1MiUyMEM3NS4wODA1OTM2JTJDMy40MDcyJTIwNzUuMDQyMjM3NCUyQzMuNjY2NCUyMDc0Ljk2NzkyMjQlMkMzLjkyOCUyMEM3NC44OTI4MDgyJTJDNC4xOTA0JTIwNzQuNzg0OTMxNSUyQzQuNDM5MiUyMDc0LjYzOTQ5NzclMkM0LjY3NDQlMjBDNzQuNDkwMDY4NSUyQzQuOTA5NiUyMDc0LjMxMDI3NCUyQzUuMTIxNiUyMDc0LjA5MDUyNTElMkM1LjMxMjglMjBDNzMuODczOTcyNiUyQzUuNTA0JTIwNzMuNjE5MDYzOSUyQzUuNjUzNiUyMDczLjMzMDU5MzYlMkM1Ljc1NiUyMEw3NS4wNzg5OTU0JTJDOS4zNDg4JTIwTDczLjEyMjAzMiUyQzkuMzQ4OCUyMEw3MS40Mzc1NTcxJTJDNS45ODQlMjBMNjkuNjIyODMxMSUyQzUuOTg0JTIwTDY5LjYyMjgzMTElMkM5LjM0ODglMjBMNjcuODg0ODE3NCUyQzkuMzQ4OCUyMEw2Ny44ODQ4MTc0JTJDOS4zNDg4JTIwWiUyME03Mi4wOTYwMDQ2JTJDNC4zMzQ0JTIwQzcyLjMxNjU1MjUlMkM0LjMzNDQlMjA3Mi41MDY3MzUyJTJDNC4zMDE2JTIwNzIuNjU0NTY2MiUyQzQuMjM2JTIwQzcyLjgwNDc5NDUlMkM0LjE3MDQlMjA3Mi45Mjc4NTM5JTJDNC4wODQlMjA3My4wMTgxNTA3JTJDMy45NzUyJTIwQzczLjExMDg0NDclMkMzLjg2NTYlMjA3My4xNzg3NjcxJTJDMy43NCUyMDczLjIxNzkyMjQlMkMzLjU5NiUyMEM3My4yNTg2NzU4JTJDMy40NTM2JTIwNzMuMjc1NDU2NiUyQzMuMzA1NiUyMDczLjI3NTQ1NjYlMkMzLjE1MDQlMjBDNzMuMjc1NDU2NiUyQzMuMDA4JTIwNzMuMjU4Njc1OCUyQzIuODY0OCUyMDczLjIyNDMxNTElMkMyLjcyNCUyMEM3My4xODY3NTglMkMyLjU4MzIlMjA3My4xMjYwMjc0JTJDMi40NTg0JTIwNzMuMDQxMzI0MiUyQzIuMzQ1NiUyMEM3Mi45NTQyMjM3JTJDMi4yMzYlMjA3Mi44Mjk1NjYyJTJDMi4xNDY0JTIwNzIuNjc5MzM3OSUyQzIuMDc5MiUyMEM3Mi41MjkxMDk2JTJDMi4wMTIlMjA3Mi4zMzE3MzUyJTJDMS45NzkyJTIwNzIuMDk2ODAzNyUyQzEuOTc5MiUyMEw2OS42MjYwMjc0JTJDMS45NzkyJTIwTDY5LjYyNjAyNzQlMkM0LjMzMjglMjBMNzIuMDk2ODAzNyUyQzQuMzMyOCUyMEw3Mi4wOTY4MDM3JTJDNC4zMzQ0JTIwTDcyLjA5NjAwNDYlMkM0LjMzNDQlMjBaJTIyJTIwaWQlM0QlMjJTaGFwZSUyMiUzRSUzQyUyRnBhdGglM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk04OC4xNTUyNTExJTJDOS4zNDg4JTIwTDg0LjU3OTMzNzklMkM0LjA4ODglMjBDODQuNTIwMjA1NSUyQzQuMDAxNiUyMDg0LjQ1Nzg3NjclMkMzLjg5MiUyMDg0LjM4NzU1NzElMkMzLjc2NDglMjBDODQuMzE3MjM3NCUyQzMuNjM3NiUyMDg0LjI1OTcwMzIlMkMzLjUxOTIlMjA4NC4yMDYxNjQ0JTJDMy40MTA0JTIwQzg0LjIyMjE0NjElMkMzLjUwNTYlMjA4NC4yMjc3Mzk3JTJDMy42MTg0JTIwODQuMjM0MTMyNCUyQzMuNzQ5NiUyMEM4NC4yNDEzMjQyJTJDMy44NzkyJTIwODQuMjQ2OTE3OCUyQzMuOTkzNiUyMDg0LjI0NjkxNzglMkM0LjA4ODglMjBMODQuMjQ2OTE3OCUyQzkuMzQ4OCUyMEw4Mi41MTc2OTQxJTJDOS4zNDg4JTIwTDgyLjUxNzY5NDElMkMwLjMyNjQlMjBMODQuMTUwMjI4MyUyQzAuMzI2NCUyMEw4Ny42MzkwNDExJTJDNS41MjE2JTIwQzg3LjY5MzM3OSUyQzUuNjA1NiUyMDg3Ljc1NjUwNjglMkM1LjcxMzYlMjA4Ny44MjUyMjgzJTJDNS44Mzg0JTIwQzg3Ljg5Nzk0NTIlMkM1Ljk2MzIlMjA4Ny45NjEwNzMxJTJDNi4wODU2JTIwODguMDEyMjE0NiUyQzYuMjAyNCUyMEM4OC4wMDAyMjgzJTJDNi4wODI0JTIwODcuOTkzODM1NiUyQzUuOTU2OCUyMDg3Ljk4NTg0NDclMkM1LjgzNTIlMjBDODcuOTc3ODUzOSUyQzUuNzExMiUyMDg3Ljk3NDY1NzUlMkM1LjYwNTYlMjA4Ny45NzQ2NTc1JTJDNS41MiUyMEw4Ny45NzQ2NTc1JTJDMC4zMjQ4JTIwTDg5LjY5NTg5MDQlMkMwLjMyNDglMjBMODkuNjk1ODkwNCUyQzkuMzQ3MiUyMEw4OC4xNTUyNTExJTJDOS4zNDg4JTIwTDg4LjE1NTI1MTElMkM5LjM0ODglMjBaJTIyJTIwaWQlM0QlMjJQYXRoJTIyJTNFJTNDJTJGcGF0aCUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BvbHlnb24lMjBpZCUzRCUyMlBhdGglMjIlMjBwb2ludHMlM0QlMjI5Ny40NTkwMTgzJTIwOS4zNDg4JTIwOTcuNDU5MDE4MyUyMDAuMzI2NCUyMDEwMy41MDE3MTIlMjAwLjMyNjQlMjAxMDMuNTAxNzEyJTIwMS45ODE2JTIwOTkuMjAwMjI4MyUyMDEuOTgxNiUyMDk5LjIwMDIyODMlMjAzLjg3NTIlMjAxMDEuOTI2NzEyJTIwMy44NzUyJTIwMTAxLjkyNjcxMiUyMDUuNTIzMiUyMDk5LjIwMDIyODMlMjA1LjUyMzIlMjA5OS4yMDAyMjgzJTIwOS4zNDk2JTIyJTNFJTNDJTJGcG9seWdvbiUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BvbHlnb24lMjBpZCUzRCUyMlBhdGglMjIlMjBwb2ludHMlM0QlMjIxMTAuNTU1MjUxJTIwOS4zNDg4JTIwMTEwLjU1NTI1MSUyMDAuMzI2NCUyMDExMi4yOTgwNTklMjAwLjMyNjQlMjAxMTIuMjk4MDU5JTIwNy42NzUyJTIwMTE2LjY0NjY4OSUyMDcuNjc1MiUyMDExNi42NDY2ODklMjA5LjM0ODglMjIlM0UlM0MlMkZwb2x5Z29uJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcG9seWdvbiUyMGlkJTNEJTIyUGF0aCUyMiUyMHBvaW50cyUzRCUyMjEyNC45NzM5NzMlMjA5LjM0ODglMjAxMjQuOTczOTczJTIwNS44MzIlMjAxMjEuNjM0NTg5JTIwMC4zMjY0JTIwMTIzLjYwODMzMyUyMDAuMzI2NCUyMDEyNS44MzUzODglMjA0LjAxNDQlMjAxMjguMDU4NDQ3JTIwMC4zMjY0JTIwMTMwLjAzMzc5JTIwMC4zMjY0JTIwMTI2LjY5NTIwNSUyMDUuODMyJTIwMTI2LjY5NTIwNSUyMDkuMzQ4OCUyMiUzRSUzQyUyRnBvbHlnb24lM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZnJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNMzMuNTE0NDk3NyUyQzE2LjU2MDglMjBMMTYuNzU4NDQ3NSUyQzAuMTUzNiUyMEwwJTJDMTYuNTYwOCUyMEw2LjY4MDM2NTMlMkMyNi4wMzYlMjBMMTEuNzc2OTQwNiUyQzI0Ljg2NCUyMEwxNi43OTA0MTElMkMzMS45MjA4JTIwTDIxLjc5NDI5MjIlMkMyNC44NzY4JTIwTDI2LjgzNDEzMjQlMkMyNi4wMzUyJTIwTDMzLjUxNDQ5NzclMkMxNi41NjA4JTIwWiUyME0xNi4wNjI0NDI5JTJDMy4xOTYlMjBMMTMuODkyMTIzMyUyQzIzLjI3NjglMjBMOS43NDgwNTkzNiUyQzE3LjYxNzYlMjBMMTYuMDYyNDQyOSUyQzMuMTk2JTIwWiUyME05LjI5MzM3OSUyQzE2Ljk5NjglMjBMNi43MTIzMjg3NyUyQzEzLjQ3MiUyMEwxNS41ODc3ODU0JTJDMi42OCUyMEw5LjI5MzM3OSUyQzE2Ljk5NjglMjBaJTIwTTEzLjIwNDEwOTYlMkMyMy40NjQlMjBMMTMuMjA0MTA5NiUyQzIzLjQ2NCUyMEwxMy40NDU0MzM4JTJDMjMuNzk2OCUyMEwxMi4wNjE0MTU1JTJDMjQuMTE0NCUyMEw4Ljg2NjY2NjY3JTJDMTkuNjE4NCUyMEw5LjQzNzIxNDYxJTJDMTguMzIwOCUyMEwxMy4yMDQxMDk2JTJDMjMuNDY0JTIwWiUyME0xNi43NTc2NDg0JTJDMi45Mjk2JTIwTDE4LjkzOTE1NTMlMkMyNC4yMTg0JTIwTDE2Ljc1Mjg1MzklMkMyNy4yMTc2JTIwTDE0LjU3NDU0MzQlMkMyNC4yMTg0JTIwTDE2Ljc1NzY0ODQlMkMyLjkyOTYlMjBaJTIwTTIwLjMwOTU4OSUyQzIzLjQ2NDglMjBMMjQuMTE4MDM2NSUyQzE4LjI2NDglMjBMMjQuNzE0MTU1MyUyQzE5LjYxODQlMjBMMjEuNTEwNjE2NCUyQzI0LjEyOCUyMEwyMC4wNzE0NjEyJTJDMjMuNzk2OCUyMEwyMC4zMTE5ODYzJTJDMjMuNDY2NCUyMEwyMC4zMDk1ODklMkMyMy40NjQ4JTIwWiUyME0xOS42MjIzNzQ0JTJDMjMuMjc2OCUyMEwxNy40ODAwMjI4JTJDMy4xNzkyJTIwTDIzLjgwNzk5MDklMkMxNy41NjA4JTIwTDE5LjYyMjM3NDQlMkMyMy4yNzY4JTIwWiUyME0xNy45ODUwNDU3JTJDMi42NzY4JTIwTDI2LjgwMjE2ODklMkMxMy40NzIlMjBMMjQuMjYyNjcxMiUyQzE2Ljk0JTIwTDE3Ljk4NTA0NTclMkMyLjY3NjglMjBaJTIwTTYuOTY2NDM4MzYlMkMyNS4yODU2JTIwTDAuODcwMjA1NDc5JTJDMTYuNjQwOCUyMEwxMi43OTg5NzI2JTJDNC45NjcyJTIwTDUuODcwODkwNDElMkMxMy40NTA0JTIwTDguOTg0MTMyNDIlMkMxNy43MDA4JTIwTDguMTA1OTM2MDclMkMxOS42OTYlMjBMMTEuMzU5ODE3NCUyQzI0LjI3NjglMjBMNi45NjY0MzgzNiUyQzI1LjI4NTYlMjBaJTIwTTE2Ljc5MDQxMSUyQzMwLjc3MTIlMjBMMTIuNDc4NTM4OCUyQzI0LjcwMzIlMjBMMTMuODcwNTQ3OSUyQzI0LjM4MjQlMjBMMTYuNzUxMjU1NyUyQzI4LjM0OTYlMjBMMTkuNjQxNTUyNSUyQzI0LjM4MjQlMjBMMjEuMDkxMDk1OSUyQzI0LjcxNjglMjBMMTYuNzkwNDExJTJDMzAuNzcxMiUyMFolMjBNMjIuMjExNDE1NSUyQzI0LjI4OTYlMjBMMjUuNDc0MDg2OCUyQzE5LjY5NiUyMEwyNC41NzE5MTc4JTJDMTcuNjQ0OCUyMEwyNy42NDM2MDczJTJDMTMuNDUwNCUyMEwyMC43MTU1MjUxJTJDNC45NjcyJTIwTDMyLjY0MzQ5MzIlMkMxNi42NDA4JTIwTDI2LjU0ODA1OTQlMkMyNS4yODY0JTIwTDIyLjIxMTQxNTUlMkMyNC4yODk2JTIwWiUyMiUyMGlkJTNEJTIyU2hhcGUlMjIlMjBmaWxsJTNEJTIydXJsJTI4JTIzbGluZWFyR3JhZGllbnQtMSUyOSUyMiUzRSUzQyUyRnBhdGglM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZnJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGZyUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQyUyRmclM0UlMjAlMjAlMjAlMjAlM0MlMkZnJTNFJTNDJTJGc3ZnJTNFXCI7XG5cbnZhciBBcHBMYXlvdXQgPSBmdW5jdGlvbiBBcHBMYXlvdXQoX3JlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSh0cnVlKSxcbiAgICAgIGlzTmF2T3BlbiA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldElzTmF2T3BlbiA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgX3VzZVN0YXRlMiA9IHVzZVN0YXRlKHRydWUpLFxuICAgICAgaXNNb2JpbGVWaWV3ID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldElzTW9iaWxlVmlldyA9IF91c2VTdGF0ZTJbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICBpc05hdk9wZW5Nb2JpbGUgPSBfdXNlU3RhdGUzWzBdLFxuICAgICAgc2V0SXNOYXZPcGVuTW9iaWxlID0gX3VzZVN0YXRlM1sxXTtcblxuICB2YXIgX3VzZVRyYW5zbGF0aW9uID0gdXNlVHJhbnNsYXRpb24oKSxcbiAgICAgIHQgPSBfdXNlVHJhbnNsYXRpb24udDtcblxuICB2YXIgb25OYXZUb2dnbGVNb2JpbGUgPSBmdW5jdGlvbiBvbk5hdlRvZ2dsZU1vYmlsZSgpIHtcbiAgICBzZXRJc05hdk9wZW5Nb2JpbGUoIWlzTmF2T3Blbk1vYmlsZSk7XG4gIH07XG5cbiAgdmFyIG9uTmF2VG9nZ2xlID0gZnVuY3Rpb24gb25OYXZUb2dnbGUoKSB7XG4gICAgc2V0SXNOYXZPcGVuKCFpc05hdk9wZW4pO1xuICB9O1xuXG4gIHZhciBvblBhZ2VSZXNpemUgPSBmdW5jdGlvbiBvblBhZ2VSZXNpemUocHJvcHMpIHtcbiAgICBzZXRJc01vYmlsZVZpZXcocHJvcHMubW9iaWxlVmlldyk7XG4gIH07XG5cbiAgdmFyIEhlYWRlclRvb2xzID0gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdlSGVhZGVyVG9vbHMsIG51bGwsICdlbWFpbCcpO1xuICB2YXIgSGVhZGVyID0gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdlSGVhZGVyLCB7XG4gICAgbG9nbzogUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChMb2dvSW1nLCBudWxsKSxcbiAgICBzaG93TmF2VG9nZ2xlOiB0cnVlLFxuICAgIGlzTmF2T3BlbjogaXNOYXZPcGVuLFxuICAgIGhlYWRlclRvb2xzOiBIZWFkZXJUb29scyxcbiAgICBvbk5hdlRvZ2dsZTogaXNNb2JpbGVWaWV3ID8gb25OYXZUb2dnbGVNb2JpbGUgOiBvbk5hdlRvZ2dsZSxcbiAgICBcImFyaWEtbGFiZWxcIjogJ2dsb2JhbF9uYXZpZ2F0aW9uJ1xuICB9KTtcbiAgdmFyIE5hdmlnYXRpb24gPSBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KE5hdiwge1xuICAgIGlkOiBcIm5hdi1wcmltYXJ5LXNpbXBsZVwiLFxuICAgIHJvbGU6IFwibmF2aWdhdGlvblwiLFxuICAgIHRoZW1lOiBcImRhcmtcIixcbiAgICBcImFyaWEtbGFiZWxcIjogJ2dsb2JhbCdcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChOYXZMaXN0LCB7XG4gICAgaWQ6IFwibmF2LWxpc3Qtc2ltcGxlXCJcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChOYXZJdGVtLCB7XG4gICAgaWQ6ICdjb25uZWN0b3JzJ1xuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KE5hdkxpbmssIHtcbiAgICB0bzogJy8nLFxuICAgIGFjdGl2ZUNsYXNzTmFtZTogXCJwZi1tLWN1cnJlbnRcIlxuICB9LCB0KCdtYW5hZ2VkQ29ubmVjdG9ycycpKSkpKTtcbiAgdmFyIFNpZGViYXIgPSBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBhZ2VTaWRlYmFyLCB7XG4gICAgdGhlbWU6IFwiZGFya1wiLFxuICAgIG5hdjogTmF2aWdhdGlvbixcbiAgICBpc05hdk9wZW46IGlzTW9iaWxlVmlldyA/IGlzTmF2T3Blbk1vYmlsZSA6IGlzTmF2T3BlblxuICB9KTtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGFnZSwge1xuICAgIG1haW5Db250YWluZXJJZDogXCJwcmltYXJ5LWFwcC1jb250YWluZXJcIixcbiAgICByb2xlOiBcIm1haW5cIixcbiAgICBoZWFkZXI6IEhlYWRlcixcbiAgICBzaWRlYmFyOiBTaWRlYmFyLFxuICAgIG9uUGFnZVJlc2l6ZTogb25QYWdlUmVzaXplXG4gIH0sIGNoaWxkcmVuKTtcbn07XG5cbmZ1bmN0aW9uIExvZ29JbWcoKSB7XG4gIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKCkge1xuICAgIGhpc3RvcnkucHVzaCgnLycpO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwge1xuICAgIHNyYzogbG9nbyxcbiAgICBvbkNsaWNrOiBoYW5kbGVDbGljayxcbiAgICBhbHQ6IFwiUGF0dGVybkZseSBMb2dvXCJcbiAgfSk7XG59XG5cbnZhciBBcHBDb250ZXh0ID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbnRleHQobnVsbCk7XG52YXIgQXBwQ29udGV4dFByb3ZpZGVyID0gZnVuY3Rpb24gQXBwQ29udGV4dFByb3ZpZGVyKF9yZWYpIHtcbiAgdmFyIGdldFRva2VuID0gX3JlZi5nZXRUb2tlbixcbiAgICAgIGJhc2VQYXRoID0gX3JlZi5iYXNlUGF0aCxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQXBwQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB7XG4gICAgICBnZXRUb2tlbjogZ2V0VG9rZW4sXG4gICAgICBiYXNlUGF0aDogYmFzZVBhdGhcbiAgICB9XG4gIH0sIGNoaWxkcmVuKTtcbn07XG52YXIgdXNlQXBwQ29udGV4dCA9IGZ1bmN0aW9uIHVzZUFwcENvbnRleHQoKSB7XG4gIHZhciBjb250ZXh0ID0gdXNlQ29udGV4dChBcHBDb250ZXh0KTtcbiAgaWYgKCFjb250ZXh0KSB0aHJvdyBuZXcgRXJyb3IoJ3VzZUFwcENvbnRleHQgbXVzdCBiZSB1c2VkIGluc2lkZSBhbiBBcHBDb250ZXh0UHJvdmlkZXInKTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBjb250ZXh0KTtcbn07XG5cbnZhciBDb25uZWN0b3JEcmF3ZXIgPSBmdW5jdGlvbiBDb25uZWN0b3JEcmF3ZXIoX3JlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuXG4gIHZhciBfdXNlVHJhbnNsYXRpb24gPSB1c2VUcmFuc2xhdGlvbigpLFxuICAgICAgdCA9IF91c2VUcmFuc2xhdGlvbi50O1xuXG4gIHZhciBzZXJ2aWNlID0gdXNlQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlKCk7XG5cbiAgdmFyIF91c2VDb25uZWN0b3JzTWFjaGluZSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lKHNlcnZpY2UpLFxuICAgICAgc2VsZWN0ZWRDb25uZWN0b3IgPSBfdXNlQ29ubmVjdG9yc01hY2hpbmUuc2VsZWN0ZWRDb25uZWN0b3IsXG4gICAgICBkZXNlbGVjdENvbm5lY3RvciA9IF91c2VDb25uZWN0b3JzTWFjaGluZS5kZXNlbGVjdENvbm5lY3RvcjtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoMCksXG4gICAgICBhY3RpdmVUYWJLZXkgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRBY3RpdmVUYWJLZXkgPSBfdXNlU3RhdGVbMV07XG5cbiAgdmFyIHNlbGVjdEFjdGl2ZUtleSA9IGZ1bmN0aW9uIHNlbGVjdEFjdGl2ZUtleShfLCBldmVudEtleSkge1xuICAgIHNldEFjdGl2ZVRhYktleShldmVudEtleSk7XG4gIH07XG5cbiAgdmFyIHRleHRMaXN0SXRlbSA9IGZ1bmN0aW9uIHRleHRMaXN0SXRlbSh0aXRsZSwgdmFsdWUpIHtcbiAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgdmFsdWUgJiYgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUZXh0TGlzdEl0ZW0sIHtcbiAgICAgIGNvbXBvbmVudDogVGV4dExpc3RJdGVtVmFyaWFudHMuZHRcbiAgICB9LCB0aXRsZSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGV4dExpc3RJdGVtLCB7XG4gICAgICBjb21wb25lbnQ6IFRleHRMaXN0SXRlbVZhcmlhbnRzLmRkXG4gICAgfSwgdmFsdWUpKSk7XG4gIH07XG5cbiAgdmFyIHBhbmVsQ29udGVudCA9IGZ1bmN0aW9uIHBhbmVsQ29udGVudCgpIHtcbiAgICB2YXIgX3NlbGVjdGVkQ29ubmVjdG9yJG1lLCBfc2VsZWN0ZWRDb25uZWN0b3Ika2EsIF9zZWxlY3RlZENvbm5lY3RvciRtZTIsIF9zZWxlY3RlZENvbm5lY3RvciRtZTMsIF9zZWxlY3RlZENvbm5lY3RvciRtZTQ7XG5cbiAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChEcmF3ZXJQYW5lbENvbnRlbnQsIHtcbiAgICAgIHdpZHRoczoge1xuICAgICAgICBcImRlZmF1bHRcIjogJ3dpZHRoXzUwJ1xuICAgICAgfVxuICAgIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRHJhd2VySGVhZCwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUZXh0Q29udGVudCwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgICBjb21wb25lbnQ6IFRleHRWYXJpYW50cy5zbWFsbCxcbiAgICAgIGNsYXNzTmFtZTogXCJjb25uZWN0b3ItZHJhd2VyX19oZWFkZXItdGV4dFwiXG4gICAgfSwgXCJDb25uZWN0b3IgbmFtZVwiKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUaXRsZSwge1xuICAgICAgaGVhZGluZ0xldmVsOiAnaDInLFxuICAgICAgc2l6ZTogVGl0bGVTaXplc1sneGwnXSxcbiAgICAgIGNsYXNzTmFtZTogXCJjb25uZWN0b3ItZHJhd2VyX19oZWFkZXItdGl0bGVcIlxuICAgIH0sIHNlbGVjdGVkQ29ubmVjdG9yID09IG51bGwgPyB2b2lkIDAgOiAoX3NlbGVjdGVkQ29ubmVjdG9yJG1lID0gc2VsZWN0ZWRDb25uZWN0b3IubWV0YWRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfc2VsZWN0ZWRDb25uZWN0b3IkbWUubmFtZSkpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KERyYXdlckFjdGlvbnMsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRHJhd2VyQ2xvc2VCdXR0b24sIHtcbiAgICAgIG9uQ2xpY2s6IGRlc2VsZWN0Q29ubmVjdG9yXG4gICAgfSkpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChEcmF3ZXJQYW5lbEJvZHksIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGFicywge1xuICAgICAgYWN0aXZlS2V5OiBhY3RpdmVUYWJLZXksXG4gICAgICBvblNlbGVjdDogc2VsZWN0QWN0aXZlS2V5XG4gICAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUYWIsIHtcbiAgICAgIGV2ZW50S2V5OiAwLFxuICAgICAgdGl0bGU6IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGFiVGl0bGVUZXh0LCBudWxsLCB0KCdvdmVydmlldycpKVxuICAgIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImNvbm5lY3Rvci1kcmF3ZXJfX3RhYi1jb250ZW50XCJcbiAgICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRleHRDb250ZW50LCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRleHRMaXN0LCB7XG4gICAgICBjb21wb25lbnQ6IFRleHRMaXN0VmFyaWFudHMuZGxcbiAgICB9LCB0ZXh0TGlzdEl0ZW0oJ0Jvb3RzdHJhcCBzZXJ2ZXInLCBzZWxlY3RlZENvbm5lY3RvciA9PSBudWxsID8gdm9pZCAwIDogKF9zZWxlY3RlZENvbm5lY3RvciRrYSA9IHNlbGVjdGVkQ29ubmVjdG9yLmthZmthKSA9PSBudWxsID8gdm9pZCAwIDogX3NlbGVjdGVkQ29ubmVjdG9yJGthLmJvb3RzdHJhcF9zZXJ2ZXIpLCB0ZXh0TGlzdEl0ZW0oJ0Nvbm5lY3RvcicsIHNlbGVjdGVkQ29ubmVjdG9yID09IG51bGwgPyB2b2lkIDAgOiAoX3NlbGVjdGVkQ29ubmVjdG9yJG1lMiA9IHNlbGVjdGVkQ29ubmVjdG9yLm1ldGFkYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX3NlbGVjdGVkQ29ubmVjdG9yJG1lMi5uYW1lKSwgdGV4dExpc3RJdGVtKCdLYWZrYV9pbnN0YW5jZScsIHNlbGVjdGVkQ29ubmVjdG9yID09IG51bGwgPyB2b2lkIDAgOiAoX3NlbGVjdGVkQ29ubmVjdG9yJG1lMyA9IHNlbGVjdGVkQ29ubmVjdG9yLm1ldGFkYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX3NlbGVjdGVkQ29ubmVjdG9yJG1lMy5rYWZrYV9pZCksIHRleHRMaXN0SXRlbSgnT3duZXInLCBzZWxlY3RlZENvbm5lY3RvciA9PSBudWxsID8gdm9pZCAwIDogKF9zZWxlY3RlZENvbm5lY3RvciRtZTQgPSBzZWxlY3RlZENvbm5lY3Rvci5tZXRhZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zZWxlY3RlZENvbm5lY3RvciRtZTQub3duZXIpKSkpKSkpKTtcbiAgfTtcblxuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChEcmF3ZXIsIHtcbiAgICBpc0V4cGFuZGVkOiBzZWxlY3RlZENvbm5lY3RvciAhPT0gdW5kZWZpbmVkXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRHJhd2VyQ29udGVudCwge1xuICAgIHBhbmVsQ29udGVudDogcGFuZWxDb250ZW50KClcbiAgfSwgY2hpbGRyZW4pKTtcbn07XG5cbnZhciBDb25uZWN0b3JTdGF0dXNJY29uID0gZnVuY3Rpb24gQ29ubmVjdG9yU3RhdHVzSWNvbihfcmVmKSB7XG4gIHZhciBpZCA9IF9yZWYuaWQsXG4gICAgICBzdGF0dXMgPSBfcmVmLnN0YXR1cztcblxuICBzd2l0Y2ggKHN0YXR1cyA9PSBudWxsID8gdm9pZCAwIDogc3RhdHVzLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdyZWFkeSc6XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDaGVja0NpcmNsZUljb24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNvcy0tY29ubmVjdG9yc19fdGFibGUtLWljb24tLWNvbXBsZXRlZFwiXG4gICAgICB9KTtcblxuICAgIGNhc2UgJ2ZhaWxlZCc6XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFeGNsYW1hdGlvbkNpcmNsZUljb24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNvcy0tY29ubmVjdG9yc19fdGFibGUtLWljb24tLWZhaWxlZFwiXG4gICAgICB9KTtcblxuICAgIGNhc2UgJ2FjY2VwdGVkJzpcbiAgICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBlbmRpbmdJY29uLCBudWxsKTtcblxuICAgIGNhc2UgJ3Byb3Zpc2lvbmluZyc6XG4gICAgY2FzZSAncHJlcGFyaW5nJzpcbiAgICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNwaW5uZXIsIHtcbiAgICAgICAgc2l6ZTogXCJtZFwiLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogaWQsXG4gICAgICAgIFwiYXJpYS12YWx1ZXRleHRcIjogXCJDcmVhdGlvbiBpbiBwcm9ncmVzc1wiXG4gICAgICB9KTtcblxuICAgIGNhc2UgJ2RlcHJvdmlzaW9uJzpcbiAgICBjYXNlICdkZWxldGVkJzpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGVuZGluZ0ljb24sIG51bGwpO1xufTtcblxudmFyIENvbm5lY3RvcnNQYWdpbmF0aW9uID0gZnVuY3Rpb24gQ29ubmVjdG9yc1BhZ2luYXRpb24oX3JlZikge1xuICB2YXIgX3JlZiRpc0NvbXBhY3QgPSBfcmVmLmlzQ29tcGFjdCxcbiAgICAgIGlzQ29tcGFjdCA9IF9yZWYkaXNDb21wYWN0ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkaXNDb21wYWN0O1xuICB2YXIgc2VydmljZSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lU2VydmljZSgpO1xuXG4gIHZhciBfdXNlQ29ubmVjdG9yc01hY2hpbmUgPSB1c2VDb25uZWN0b3JzTWFjaGluZShzZXJ2aWNlKSxcbiAgICAgIHJlcXVlc3QgPSBfdXNlQ29ubmVjdG9yc01hY2hpbmUucmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlID0gX3VzZUNvbm5lY3RvcnNNYWNoaW5lLnJlc3BvbnNlO1xuXG4gIHZhciBvbkNoYW5nZSA9IGZ1bmN0aW9uIG9uQ2hhbmdlKHJlcXVlc3QpIHtcbiAgICByZXR1cm4gc2VydmljZS5zZW5kKF9leHRlbmRzKHtcbiAgICAgIHR5cGU6ICdhcGkucXVlcnknXG4gICAgfSwgcmVxdWVzdCkpO1xuICB9O1xuXG4gIHZhciBkZWZhdWx0UGVyUGFnZU9wdGlvbnMgPSBbe1xuICAgIHRpdGxlOiAnMScsXG4gICAgdmFsdWU6IDFcbiAgfSwge1xuICAgIHRpdGxlOiAnNScsXG4gICAgdmFsdWU6IDVcbiAgfSwge1xuICAgIHRpdGxlOiAnMTAnLFxuICAgIHZhbHVlOiAxMFxuICB9XTtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGFnaW5hdGlvbiwge1xuICAgIGl0ZW1Db3VudDogKHJlc3BvbnNlID09IG51bGwgPyB2b2lkIDAgOiByZXNwb25zZS50b3RhbCkgfHwgMCxcbiAgICBwYWdlOiByZXF1ZXN0LnBhZ2UsXG4gICAgcGVyUGFnZTogcmVxdWVzdC5zaXplLFxuICAgIHBlclBhZ2VPcHRpb25zOiBkZWZhdWx0UGVyUGFnZU9wdGlvbnMsXG4gICAgb25TZXRQYWdlOiBmdW5jdGlvbiBvblNldFBhZ2UoXywgcGFnZSwgc2l6ZSkge1xuICAgICAgcmV0dXJuIG9uQ2hhbmdlKF9leHRlbmRzKHt9LCByZXF1ZXN0LCB7XG4gICAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICAgIHNpemU6IHNpemUgfHwgcmVxdWVzdC5zaXplXG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBvblBlclBhZ2VTZWxlY3Q6IGZ1bmN0aW9uIG9uUGVyUGFnZVNlbGVjdCgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIHZhcmlhbnQ6IGlzQ29tcGFjdCA/ICd0b3AnIDogJ2JvdHRvbScsXG4gICAgaXNDb21wYWN0OiBpc0NvbXBhY3RcbiAgfSk7XG59O1xuXG52YXIgQ29ubmVjdG9yc1Rvb2xiYXIgPSBmdW5jdGlvbiBDb25uZWN0b3JzVG9vbGJhcigpIHtcbiAgdmFyIHNlcnZpY2UgPSB1c2VDb25uZWN0b3JzTWFjaGluZVNlcnZpY2UoKTtcblxuICB2YXIgX3VzZUNvbm5lY3RvcnNNYWNoaW5lID0gdXNlQ29ubmVjdG9yc01hY2hpbmUoc2VydmljZSksXG4gICAgICByZXF1ZXN0ID0gX3VzZUNvbm5lY3RvcnNNYWNoaW5lLnJlcXVlc3Q7XG5cbiAgdmFyIG9uQ2hhbmdlID0gZnVuY3Rpb24gb25DaGFuZ2UocmVxdWVzdCkge1xuICAgIHJldHVybiBzZXJ2aWNlLnNlbmQoX2V4dGVuZHMoe1xuICAgICAgdHlwZTogJ2FwaS5xdWVyeSdcbiAgICB9LCByZXF1ZXN0KSk7XG4gIH07XG5cbiAgdmFyIHNlYXJjaElucHV0UmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgZGVib3VuY2VkT25DaGFuZ2UgPSB1c2VEZWJvdW5jZShvbkNoYW5nZSwgMTAwMCk7IC8vIGNvbnN0IFtzdGF0dXNlcywgc2V0U3RhdHVzZXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtcbiAgLy8gICAnUGVuZGluZycsXG4gIC8vICAgJ0NyZWF0ZWQnLFxuICAvLyAgICdDYW5jZWxsZWQnLFxuICAvLyBdKTtcbiAgLy8gY29uc3QgW3N0YXR1c2VzVG9nZ2xlZCwgc2V0U3RhdHVzZXNUb2dnbGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgLy8gY29uc3QgY2xlYXJBbGxGaWx0ZXJzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAvLyAgIHNldFNlYXJjaFZhbHVlKCcnKTtcbiAgLy8gICBzZXRTdGF0dXNlcyhbXSk7XG4gIC8vIH0sIFtdKTtcbiAgLy8gY29uc3QgdG9nZ2xlU3RhdHVzZXMgPSB1c2VDYWxsYmFjayhcbiAgLy8gICAoKSA9PiBzZXRTdGF0dXNlc1RvZ2dsZWQocHJldiA9PiAhcHJldiksXG4gIC8vICAgW11cbiAgLy8gKTtcbiAgLy8gY29uc3Qgb25TZWxlY3RTdGF0dXMgPSB1c2VDYWxsYmFjayhcbiAgLy8gICAoXywgc3RhdHVzKSA9PlxuICAvLyAgICAgc2V0U3RhdHVzZXMocHJldiA9PlxuICAvLyAgICAgICBwcmV2LmluY2x1ZGVzKHN0YXR1cylcbiAgLy8gICAgICAgICA/IHByZXYuZmlsdGVyKHMgPT4gcyAhPT0gc3RhdHVzKVxuICAvLyAgICAgICAgIDogWy4uLnByZXYsIHN0YXR1c11cbiAgLy8gICAgICksXG4gIC8vICAgW11cbiAgLy8gKTtcbiAgLy8gY29uc3Qgc3RhdHVzTWVudUl0ZW1zID0gW1xuICAvLyAgIDxTZWxlY3RPcHRpb24ga2V5PVwic3RhdHVzUGVuZGluZ1wiIHZhbHVlPVwiUGVuZGluZ1wiIC8+LFxuICAvLyAgIDxTZWxlY3RPcHRpb24ga2V5PVwic3RhdHVzQ3JlYXRlZFwiIHZhbHVlPVwiQ3JlYXRlZFwiIC8+LFxuICAvLyAgIDxTZWxlY3RPcHRpb24ga2V5PVwic3RhdHVzQ2FuY2VsbGVkXCIgdmFsdWU9XCJDYW5jZWxsZWRcIiAvPixcbiAgLy8gXTtcbiAgLy8gZW5zdXJlIHRoZSBzZWFyY2ggaW5wdXQgdmFsdWUgcmVmbGVjdHMgd2hhdCdzIHNwZWNpZmllZCBpbiB0aGUgcmVxdWVzdCBvYmplY3RcbiAgLy8gdXNlRWZmZWN0KCgpID0+IHtcbiAgLy8gICBpZiAoc2VhcmNoSW5wdXRSZWYuY3VycmVudCkge1xuICAvLyAgICAgc2VhcmNoSW5wdXRSZWYuY3VycmVudC52YWx1ZSA9IChyZXF1ZXN0Lm5hbWUgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSB8fCAnJztcbiAgLy8gICB9XG4gIC8vIH0sIFtzZWFyY2hJbnB1dFJlZiwgcmVxdWVzdF0pO1xuXG4gIHZhciB0b2dnbGVHcm91cEl0ZW1zID0gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUb29sYmFySXRlbSwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChJbnB1dEdyb3VwLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRleHRJbnB1dCwge1xuICAgIG5hbWU6IFwibmFtZVwiLFxuICAgIGlkOiBcIm5hbWVcIixcbiAgICB0eXBlOiBcInNlYXJjaFwiLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBcImZpbHRlciBieSBjb25uZWN0b3IgbmFtZVwiLFxuICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGRlYm91bmNlZE9uQ2hhbmdlKHtcbiAgICAgICAgc2l6ZTogcmVxdWVzdC5zaXplLFxuICAgICAgICBwYWdlOiAxLFxuICAgICAgICBuYW1lOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfSxcbiAgICByZWY6IHNlYXJjaElucHV0UmVmXG4gIH0pLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIHZhcmlhbnQ6ICdjb250cm9sJyxcbiAgICBcImFyaWEtbGFiZWxcIjogXCJzZWFyY2ggYnV0dG9uIGZvciBzZWFyY2ggaW5wdXRcIlxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNlYXJjaEljb24sIG51bGwpKSkpKTtcbiAgdmFyIHRvb2xiYXJJdGVtcyA9IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhclRvZ2dsZUdyb3VwLCB7XG4gICAgdG9nZ2xlSWNvbjogUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChGaWx0ZXJJY29uLCBudWxsKSxcbiAgICBicmVha3BvaW50OiBcInhsXCJcbiAgfSwgdG9nZ2xlR3JvdXBJdGVtcyksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhckdyb3VwLCB7XG4gICAgdmFyaWFudDogXCJpY29uLWJ1dHRvbi1ncm91cFwiXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhckl0ZW0sIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTmF2TGluaywge1xuICAgIGNsYXNzTmFtZTogXCJwZi1jLWJ1dHRvbiBwZi1tLXByaW1hcnlcIixcbiAgICB0bzogJy9jcmVhdGUtY29ubmVjdG9yJ1xuICB9LCBcIkNyZWF0ZSBDb25uZWN0b3JcIikpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUb29sYmFySXRlbSwge1xuICAgIHZhcmlhbnQ6IFwicGFnaW5hdGlvblwiLFxuICAgIGFsaWdubWVudDoge1xuICAgICAgXCJkZWZhdWx0XCI6ICdhbGlnblJpZ2h0J1xuICAgIH1cbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25uZWN0b3JzUGFnaW5hdGlvbiwge1xuICAgIGlzQ29tcGFjdDogdHJ1ZVxuICB9KSkpO1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUb29sYmFyLCB7XG4gICAgaWQ6IFwidG9vbGJhci1ncm91cC10eXBlc1wiLFxuICAgIGNvbGxhcHNlTGlzdGVkRmlsdGVyc0JyZWFrcG9pbnQ6IFwieGxcIlxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRvb2xiYXJDb250ZW50LCBudWxsLCB0b29sYmFySXRlbXMpKTtcbn07XG5cbi8qKlxyXG4gKiBBIG1vZGFsIGRpYWxvZyB0byBkaXNwbGF5IGNvbmZpcm1hdGlvbiBmb3IgY29ubmVjdG9yIGRlbGV0aW9uLlxyXG4gKi9cblxudmFyIERlbGV0ZURpYWxvZyA9IGZ1bmN0aW9uIERlbGV0ZURpYWxvZyhfcmVmKSB7XG4gIHZhciBjb25uZWN0b3JOYW1lID0gX3JlZi5jb25uZWN0b3JOYW1lLFxuICAgICAgaTE4bkNhbmNlbCA9IF9yZWYuaTE4bkNhbmNlbCxcbiAgICAgIGkxOG5EZWxldGUgPSBfcmVmLmkxOG5EZWxldGUsXG4gICAgICBpMThuVGl0bGUgPSBfcmVmLmkxOG5UaXRsZSxcbiAgICAgIG9uQ2FuY2VsID0gX3JlZi5vbkNhbmNlbCxcbiAgICAgIG9uQ29uZmlybSA9IF9yZWYub25Db25maXJtLFxuICAgICAgc2hvd0RpYWxvZyA9IF9yZWYuc2hvd0RpYWxvZztcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoJycpLFxuICAgICAgbmFtZVZhbHVlID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0TmFtZVZhbHVlID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciBjYW5EZWxldGUgPSBuYW1lVmFsdWUgPT09IGNvbm5lY3Rvck5hbWU7XG5cbiAgdmFyIG9uQ2FuY2VsRGVsZXRlID0gZnVuY3Rpb24gb25DYW5jZWxEZWxldGUoKSB7XG4gICAgc2V0TmFtZVZhbHVlKCcnKTtcbiAgICBvbkNhbmNlbCgpO1xuICB9O1xuXG4gIHZhciBvbkNvbmZpcm1EZWxldGUgPSBmdW5jdGlvbiBvbkNvbmZpcm1EZWxldGUoKSB7XG4gICAgc2V0TmFtZVZhbHVlKCcnKTtcbiAgICBvbkNvbmZpcm0oKTtcbiAgfTtcblxuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChNb2RhbCwge1xuICAgIHZhcmlhbnQ6IE1vZGFsVmFyaWFudC5zbWFsbCxcbiAgICB0aXRsZTogaTE4blRpdGxlLFxuICAgIHRpdGxlSWNvblZhcmlhbnQ6IFwid2FybmluZ1wiLFxuICAgIGlzT3Blbjogc2hvd0RpYWxvZyxcbiAgICBvbkNsb3NlOiBvbkNhbmNlbCxcbiAgICBhY3Rpb25zOiBbUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgIGtleTogXCJjb25maXJtXCIsXG4gICAgICB2YXJpYW50OiBcImRhbmdlclwiLFxuICAgICAgaXNEaXNhYmxlZDogIWNhbkRlbGV0ZSxcbiAgICAgIG9uQ2xpY2s6IG9uQ29uZmlybURlbGV0ZVxuICAgIH0sIGkxOG5EZWxldGUpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAga2V5OiBcImNhbmNlbFwiLFxuICAgICAgdmFyaWFudDogXCJsaW5rXCIsXG4gICAgICBvbkNsaWNrOiBvbkNhbmNlbERlbGV0ZVxuICAgIH0sIGkxOG5DYW5jZWwpXVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN0YWNrLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN0YWNrSXRlbSwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUcmFucywge1xuICAgIGkxOG5LZXk6IFwiZGVsZXRlQ29uZmlybU1lc3NhZ2VcIlxuICB9LCBcIkNvbm5lY3RvciBcIiwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiLCBudWxsLCB7XG4gICAgY29ubmVjdG9yTmFtZTogY29ubmVjdG9yTmFtZVxuICB9KSwgXCIgd2lsbCBiZSBkZWxldGVkLlwiKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU3RhY2tJdGVtLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRyYW5zLCB7XG4gICAgaTE4bktleTogXCJkZWxldGVUeXBlTmFtZU1lc3NhZ2VcIlxuICB9LCBcIlR5cGUgXCIsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzdHJvbmdcIiwgbnVsbCwge1xuICAgIGNvbm5lY3Rvck5hbWU6IGNvbm5lY3Rvck5hbWVcbiAgfSksIFwiIHRvIGNvbmZpcm0gdGhlIGRlbGV0aW9uLlwiKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU3RhY2tJdGVtLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRleHRJbnB1dCwge1xuICAgIHZhbHVlOiBuYW1lVmFsdWUsXG4gICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgb25DaGFuZ2U6IHNldE5hbWVWYWx1ZSxcbiAgICBcImFyaWEtbGFiZWxcIjogXCJuYW1lIGlucHV0XCJcbiAgfSkpKSk7XG59O1xuXG52YXIgQ29ubmVjdG9yc1RhYmxlID0gZnVuY3Rpb24gQ29ubmVjdG9yc1RhYmxlKCkge1xuICB2YXIgX3Jlc3BvbnNlJGl0ZW1zO1xuXG4gIHZhciBfdXNlVHJhbnNsYXRpb24gPSB1c2VUcmFuc2xhdGlvbigpLFxuICAgICAgdCA9IF91c2VUcmFuc2xhdGlvbi50O1xuXG4gIHZhciBzZXJ2aWNlID0gdXNlQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlKCk7XG5cbiAgdmFyIF91c2VDb25uZWN0b3JzTWFjaGluZSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lKHNlcnZpY2UpLFxuICAgICAgcmVzcG9uc2UgPSBfdXNlQ29ubmVjdG9yc01hY2hpbmUucmVzcG9uc2U7XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ2FyZCwge1xuICAgIGNsYXNzTmFtZTogJ3BmLXUtcGIteGwnXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdG9yc1Rvb2xiYXIsIG51bGwpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6ICdwZi11LXAtbWQnXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGFibGVDb21wb3NhYmxlLCB7XG4gICAgXCJhcmlhLWxhYmVsXCI6IFwiU29ydGFibGUgVGFibGVcIixcbiAgICBjbGFzc05hbWU6IGNzcygnY29ubmVjdG9ycy10YWJsZS12aWV3X190YWJsZScpXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGhlYWQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVHIsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGgsIG51bGwsIHQoJ25hbWUnKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGgsIG51bGwsIHQoJ3R5cGUnKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGgsIG51bGwsIHQoJ2NhdGVnb3J5JykpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRoLCBudWxsLCB0KCdzdGF0dXMnKSkpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUYm9keSwgbnVsbCwgcmVzcG9uc2UgPT0gbnVsbCA/IHZvaWQgMCA6IChfcmVzcG9uc2UkaXRlbXMgPSByZXNwb25zZS5pdGVtcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9yZXNwb25zZSRpdGVtcy5tYXAoZnVuY3Rpb24gKHJlZikge1xuICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RvclJvdywge1xuICAgICAgY29ubmVjdG9yUmVmOiByZWYsXG4gICAgICBrZXk6IHJlZi5pZFxuICAgIH0pO1xuICB9KSkpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25uZWN0b3JzUGFnaW5hdGlvbiwge1xuICAgIGlzQ29tcGFjdDogZmFsc2VcbiAgfSkpO1xufTtcbnZhciBDb25uZWN0b3JSb3cgPSBmdW5jdGlvbiBDb25uZWN0b3JSb3coX3JlZikge1xuICB2YXIgX2Nvbm5lY3RvciRtZXRhZGF0YSwgX2Nvbm5lY3RvciRtZXRhZGF0YTI7XG5cbiAgdmFyIGNvbm5lY3RvclJlZiA9IF9yZWYuY29ubmVjdG9yUmVmO1xuXG4gIHZhciBfdXNlVHJhbnNsYXRpb24yID0gdXNlVHJhbnNsYXRpb24oKSxcbiAgICAgIHQgPSBfdXNlVHJhbnNsYXRpb24yLnQ7XG5cbiAgdmFyIHNlcnZpY2UgPSB1c2VDb25uZWN0b3JzTWFjaGluZVNlcnZpY2UoKTtcblxuICB2YXIgX3VzZUNvbm5lY3RvcnNNYWNoaW5lMiA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lKHNlcnZpY2UpLFxuICAgICAgc2VsZWN0ZWRDb25uZWN0b3IgPSBfdXNlQ29ubmVjdG9yc01hY2hpbmUyLnNlbGVjdGVkQ29ubmVjdG9yO1xuXG4gIHZhciBfdXNlQ29ubmVjdG9yID0gdXNlQ29ubmVjdG9yKGNvbm5lY3RvclJlZiksXG4gICAgICBjb25uZWN0b3IgPSBfdXNlQ29ubmVjdG9yLmNvbm5lY3RvcixcbiAgICAgIGNhblN0YXJ0ID0gX3VzZUNvbm5lY3Rvci5jYW5TdGFydCxcbiAgICAgIGNhblN0b3AgPSBfdXNlQ29ubmVjdG9yLmNhblN0b3AsXG4gICAgICBjYW5EZWxldGUgPSBfdXNlQ29ubmVjdG9yLmNhbkRlbGV0ZSxcbiAgICAgIG9uU3RhcnQgPSBfdXNlQ29ubmVjdG9yLm9uU3RhcnQsXG4gICAgICBvblN0b3AgPSBfdXNlQ29ubmVjdG9yLm9uU3RvcCxcbiAgICAgIG9uRGVsZXRlID0gX3VzZUNvbm5lY3Rvci5vbkRlbGV0ZSxcbiAgICAgIG9uU2VsZWN0ID0gX3VzZUNvbm5lY3Rvci5vblNlbGVjdDtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgc2hvd0RlbGV0ZUNvbm5lY3RvckNvbmZpcm0gPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRTaG93RGVsZXRlQ29ubmVjdG9yQ29uZmlybSA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgZG9DYW5jZWxEZWxldGVDb25uZWN0b3IgPSBmdW5jdGlvbiBkb0NhbmNlbERlbGV0ZUNvbm5lY3RvcigpIHtcbiAgICBzZXRTaG93RGVsZXRlQ29ubmVjdG9yQ29uZmlybShmYWxzZSk7XG4gIH07XG5cbiAgdmFyIGRvRGVsZXRlQ29ubmVjdG9yID0gZnVuY3Rpb24gZG9EZWxldGVDb25uZWN0b3IoKSB7XG4gICAgc2V0U2hvd0RlbGV0ZUNvbm5lY3RvckNvbmZpcm0oZmFsc2UpO1xuICAgIG9uRGVsZXRlKCk7XG4gIH07XG5cbiAgdmFyIGFjdGlvbnMgPSBbe1xuICAgIHRpdGxlOiAnU3RhcnQnLFxuICAgIG9uQ2xpY2s6IG9uU3RhcnQsXG4gICAgaXNEaXNhYmxlZDogIWNhblN0YXJ0XG4gIH0sIHtcbiAgICB0aXRsZTogJ1N0b3AnLFxuICAgIG9uQ2xpY2s6IG9uU3RvcCxcbiAgICBpc0Rpc2FibGVkOiAhY2FuU3RvcFxuICB9LCB7XG4gICAgdGl0bGU6ICdEZWxldGUnLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gc2V0U2hvd0RlbGV0ZUNvbm5lY3RvckNvbmZpcm0odHJ1ZSk7XG4gICAgfSxcbiAgICBpc0Rpc2FibGVkOiAhY2FuRGVsZXRlXG4gIH0sIHtcbiAgICBpc1NlcGFyYXRvcjogdHJ1ZVxuICB9LCB7XG4gICAgdGl0bGU6ICdPdmVydmlldycsXG4gICAgb25DbGljazogb25TZWxlY3RcbiAgfV07XG4gIHZhciBzdGF0dXNPcHRpb25zID0gW3tcbiAgICB2YWx1ZTogJ3JlYWR5JyxcbiAgICBsYWJlbDogdCgnUnVubmluZycpXG4gIH0sIHtcbiAgICB2YWx1ZTogJ2ZhaWxlZCcsXG4gICAgbGFiZWw6IHQoJ0ZhaWxlZCcpXG4gIH0sIHtcbiAgICB2YWx1ZTogJ2Fzc2lnbmluZycsXG4gICAgbGFiZWw6IHQoJ0NyZWF0aW9uIHBlbmRpbmcnKVxuICB9LCB7XG4gICAgdmFsdWU6ICdhc3NpZ25lZCcsXG4gICAgbGFiZWw6IHQoJ0NyZWF0aW9uIGluIHByb2dyZXNzJylcbiAgfSwge1xuICAgIHZhbHVlOiAndXBkYXRpbmcnLFxuICAgIGxhYmVsOiB0KCdDcmVhdGlvbiBpbiBwcm9ncmVzcycpXG4gIH0sIHtcbiAgICB2YWx1ZTogJ3Byb3Zpc2lvbmluZycsXG4gICAgbGFiZWw6IHQoJ0NyZWF0aW9uIGluIHByb2dyZXNzJylcbiAgfSwge1xuICAgIHZhbHVlOiAnZGVsZXRpbmcnLFxuICAgIGxhYmVsOiB0KCdEZWxldGluZycpXG4gIH0sIHtcbiAgICB2YWx1ZTogJ2RlbGV0ZWQnLFxuICAgIGxhYmVsOiB0KCdEZWxldGluZycpXG4gIH1dO1xuXG4gIHZhciBnZXRTdGF0dXNMYWJlbCA9IGZ1bmN0aW9uIGdldFN0YXR1c0xhYmVsKHN0YXR1cykge1xuICAgIHZhciBfc3RhdHVzT3B0aW9ucyRmaW5kO1xuXG4gICAgcmV0dXJuICgoX3N0YXR1c09wdGlvbnMkZmluZCA9IHN0YXR1c09wdGlvbnMuZmluZChmdW5jdGlvbiAocykge1xuICAgICAgcmV0dXJuIHMudmFsdWUgPT09IHN0YXR1cztcbiAgICB9KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zdGF0dXNPcHRpb25zJGZpbmQubGFiZWwpIHx8IHN0YXR1cztcbiAgfTtcblxuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChEZWxldGVEaWFsb2csIHtcbiAgICBjb25uZWN0b3JOYW1lOiAoX2Nvbm5lY3RvciRtZXRhZGF0YSA9IGNvbm5lY3Rvci5tZXRhZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jb25uZWN0b3IkbWV0YWRhdGEubmFtZSxcbiAgICBpMThuQ2FuY2VsOiB0KCdjYW5jZWwnKSxcbiAgICBpMThuRGVsZXRlOiB0KCdkZWxldGUnKSxcbiAgICBpMThuVGl0bGU6IHQoJ2RlbGV0ZUNvbm5lY3RvcicpLFxuICAgIHNob3dEaWFsb2c6IHNob3dEZWxldGVDb25uZWN0b3JDb25maXJtLFxuICAgIG9uQ2FuY2VsOiBkb0NhbmNlbERlbGV0ZUNvbm5lY3RvcixcbiAgICBvbkNvbmZpcm06IGRvRGVsZXRlQ29ubmVjdG9yXG4gIH0pLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRyLCB7XG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgICAgdmFyIF9ldmVudCR0YXJnZXQ7XG5cbiAgICAgIC8vIHNlbmQgdGhlIGV2ZW50IG9ubHkgaWYgdGhlIGNsaWNrIGRpZG4ndCBoYXBwZW4gb24gdGhlIGFjdGlvbnMgYnV0dG9uXG4gICAgICBpZiAoKChfZXZlbnQkdGFyZ2V0ID0gZXZlbnQudGFyZ2V0KSA9PSBudWxsID8gdm9pZCAwIDogX2V2ZW50JHRhcmdldC50eXBlKSAhPT0gJ2J1dHRvbicpIHtcbiAgICAgICAgb25TZWxlY3QoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNsYXNzTmFtZTogY3NzKCdwZi1jLXRhYmxlLXJvd19faXRlbScsICdwZi1tLXNlbGVjdGFibGUnLCAoc2VsZWN0ZWRDb25uZWN0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IHNlbGVjdGVkQ29ubmVjdG9yLmlkKSA9PT0gY29ubmVjdG9yLmlkICYmICdwZi1tLXNlbGVjdGVkJylcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUZCwge1xuICAgIGRhdGFMYWJlbDogdCgnbmFtZScpXG4gIH0sIChfY29ubmVjdG9yJG1ldGFkYXRhMiA9IGNvbm5lY3Rvci5tZXRhZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jb25uZWN0b3IkbWV0YWRhdGEyLm5hbWUpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRkLCB7XG4gICAgZGF0YUxhYmVsOiB0KCd0eXBlJylcbiAgfSwgY29ubmVjdG9yLmNvbm5lY3Rvcl90eXBlX2lkKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUZCwge1xuICAgIGRhdGFMYWJlbDogdCgnY2F0ZWdvcnknKVxuICB9LCBcIlRPRE86IE1JU1NJTkdcIiksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGQsIHtcbiAgICBkYXRhTGFiZWw6IHQoJ3N0YXR1cycpXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRmxleCwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChGbGV4SXRlbSwge1xuICAgIHNwYWNlcjoge1xuICAgICAgXCJkZWZhdWx0XCI6ICdzcGFjZXJTbSdcbiAgICB9XG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdG9yU3RhdHVzSWNvbiwge1xuICAgIGlkOiBjb25uZWN0b3IuaWQsXG4gICAgc3RhdHVzOiBjb25uZWN0b3Iuc3RhdHVzXG4gIH0pKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChGbGV4SXRlbSwgbnVsbCwgZ2V0U3RhdHVzTGFiZWwoY29ubmVjdG9yLnN0YXR1cykpKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGQsIHtcbiAgICBhY3Rpb25zOiB7XG4gICAgICBpdGVtczogYWN0aW9uc1xuICAgIH0sXG4gICAgXCJkYXRhLXRlc3RpZFwiOiBcImFjdGlvbnMtZm9yLVwiICsgY29ubmVjdG9yLmlkXG4gIH0pKSk7XG59O1xuXG52YXIgQ29ubmVjdGVkQ29ubmVjdG9yc1BhZ2UgPSBmdW5jdGlvbiBDb25uZWN0ZWRDb25uZWN0b3JzUGFnZShfcmVmKSB7XG4gIHZhciBvbkNyZWF0ZUNvbm5lY3RvciA9IF9yZWYub25DcmVhdGVDb25uZWN0b3I7XG5cbiAgdmFyIF91c2VUcmFuc2xhdGlvbiA9IHVzZVRyYW5zbGF0aW9uKCksXG4gICAgICB0ID0gX3VzZVRyYW5zbGF0aW9uLnQ7XG5cbiAgdmFyIF91c2VBbGVydCA9IHVzZUFsZXJ0KCksXG4gICAgICBhZGRBbGVydCA9IF91c2VBbGVydC5hZGRBbGVydDtcblxuICB2YXIgX3VzZUFwcENvbnRleHQgPSB1c2VBcHBDb250ZXh0KCksXG4gICAgICBiYXNlUGF0aCA9IF91c2VBcHBDb250ZXh0LmJhc2VQYXRoLFxuICAgICAgZ2V0VG9rZW4gPSBfdXNlQXBwQ29udGV4dC5nZXRUb2tlbjtcblxuICB2YXIgb25FcnJvciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgIGFkZEFsZXJ0KHtcbiAgICAgIGlkOiAnY29ubmVjdG9ycy10YWJsZS1lcnJvcicsXG4gICAgICB2YXJpYW50OiBBbGVydFZhcmlhbnQuZGFuZ2VyLFxuICAgICAgdGl0bGU6IHQoJ2NvbW1vbi5zb21ldGhpbmdfd2VudF93cm9uZycpLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uXG4gICAgfSk7XG4gIH0sIFthZGRBbGVydCwgdF0pO1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25uZWN0b3JzTWFjaGluZVByb3ZpZGVyLCB7XG4gICAgYWNjZXNzVG9rZW46IGdldFRva2VuLFxuICAgIGJhc2VQYXRoOiBiYXNlUGF0aCxcbiAgICBvbkVycm9yOiBvbkVycm9yXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdG9yc1BhZ2UsIHtcbiAgICBvbkNyZWF0ZUNvbm5lY3Rvcjogb25DcmVhdGVDb25uZWN0b3JcbiAgfSkpO1xufTtcbnZhciBDb25uZWN0b3JzUGFnZSA9IGZ1bmN0aW9uIENvbm5lY3RvcnNQYWdlKF9yZWYyKSB7XG4gIHZhciBvbkNyZWF0ZUNvbm5lY3RvciA9IF9yZWYyLm9uQ3JlYXRlQ29ubmVjdG9yO1xuICB2YXIgc2VydmljZSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lU2VydmljZSgpO1xuICB2YXIgaXNSZWFkeSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lSXNSZWFkeShzZXJ2aWNlKTtcbiAgcmV0dXJuIGlzUmVhZHkgPyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RvcnNQYWdlQm9keSwge1xuICAgIG9uQ3JlYXRlQ29ubmVjdG9yOiBvbkNyZWF0ZUNvbm5lY3RvclxuICB9KSA6IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZywgbnVsbCk7XG59O1xuXG52YXIgQ29ubmVjdG9yc1BhZ2VCb2R5ID0gZnVuY3Rpb24gQ29ubmVjdG9yc1BhZ2VCb2R5KF9yZWYzKSB7XG4gIHZhciBvbkNyZWF0ZUNvbm5lY3RvciA9IF9yZWYzLm9uQ3JlYXRlQ29ubmVjdG9yO1xuICB2YXIgc2VydmljZSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lU2VydmljZSgpO1xuXG4gIHZhciBfdXNlQ29ubmVjdG9yc01hY2hpbmUgPSB1c2VDb25uZWN0b3JzTWFjaGluZShzZXJ2aWNlKSxcbiAgICAgIGxvYWRpbmcgPSBfdXNlQ29ubmVjdG9yc01hY2hpbmUubG9hZGluZyxcbiAgICAgIGVycm9yID0gX3VzZUNvbm5lY3RvcnNNYWNoaW5lLmVycm9yLFxuICAgICAgbm9SZXN1bHRzID0gX3VzZUNvbm5lY3RvcnNNYWNoaW5lLm5vUmVzdWx0cyxcbiAgICAgIHF1ZXJ5RW1wdHkgPSBfdXNlQ29ubmVjdG9yc01hY2hpbmUucXVlcnlFbXB0eSxcbiAgICAgIGZpcnN0UmVxdWVzdCA9IF91c2VDb25uZWN0b3JzTWFjaGluZS5maXJzdFJlcXVlc3Q7XG5cbiAgc3dpdGNoICh0cnVlKSB7XG4gICAgY2FzZSBmaXJzdFJlcXVlc3Q6XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChMb2FkaW5nLCBudWxsKTtcblxuICAgIGNhc2UgcXVlcnlFbXB0eTpcbiAgICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KE5vTWF0Y2hGb3VuZCwge1xuICAgICAgICBvbkNsZWFyOiBmdW5jdGlvbiBvbkNsZWFyKCkge1xuICAgICAgICAgIHJldHVybiBzZXJ2aWNlLnNlbmQoe1xuICAgICAgICAgICAgdHlwZTogJ2FwaS5xdWVyeScsXG4gICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgc2l6ZTogMTBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICBjYXNlIGxvYWRpbmc6XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdlU2VjdGlvbiwge1xuICAgICAgICB2YXJpYW50OiAnbGlnaHQnXG4gICAgICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RvcnNQYWdlVGl0bGUsIG51bGwpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdlU2VjdGlvbiwge1xuICAgICAgICBwYWRkaW5nOiB7XG4gICAgICAgICAgXCJkZWZhdWx0XCI6ICdub1BhZGRpbmcnXG4gICAgICAgIH0sXG4gICAgICAgIGlzRmlsbGVkOiB0cnVlXG4gICAgICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENhcmQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdG9yc1Rvb2xiYXIsIG51bGwpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KExvYWRpbmcsIG51bGwpKSkpO1xuXG4gICAgY2FzZSBub1Jlc3VsdHMgfHwgZXJyb3I6XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFbXB0eVN0YXRlLCB7XG4gICAgICAgIGVtcHR5U3RhdGVQcm9wczoge1xuICAgICAgICAgIHZhcmlhbnQ6IEVtcHR5U3RhdGVWYXJpYW50LkdldHRpbmdTdGFydGVkXG4gICAgICAgIH0sXG4gICAgICAgIHRpdGxlUHJvcHM6IHtcbiAgICAgICAgICB0aXRsZTogJ2Nvcy53ZWxjb21lX3RvX2NvcydcbiAgICAgICAgfSxcbiAgICAgICAgZW1wdHlTdGF0ZUJvZHlQcm9wczoge1xuICAgICAgICAgIGJvZHk6ICdjb3Mud2VsY29tZV9lbXB0eV9zdGF0ZV9ib2R5J1xuICAgICAgICB9LFxuICAgICAgICBidXR0b25Qcm9wczoge1xuICAgICAgICAgIHRpdGxlOiAnY29zLmNyZWF0ZV9jb3MnLFxuICAgICAgICAgIHZhcmlhbnQ6IEJ1dHRvblZhcmlhbnQucHJpbWFyeSxcbiAgICAgICAgICBvbkNsaWNrOiBvbkNyZWF0ZUNvbm5lY3RvclxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25uZWN0b3JEcmF3ZXIsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGFnZVNlY3Rpb24sIHtcbiAgICAgICAgdmFyaWFudDogJ2xpZ2h0J1xuICAgICAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25uZWN0b3JzUGFnZVRpdGxlLCBudWxsKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGFnZVNlY3Rpb24sIHtcbiAgICAgICAgcGFkZGluZzoge1xuICAgICAgICAgIFwiZGVmYXVsdFwiOiAnbm9QYWRkaW5nJ1xuICAgICAgICB9LFxuICAgICAgICBpc0ZpbGxlZDogdHJ1ZVxuICAgICAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25uZWN0b3JzVGFibGUsIG51bGwpKSk7XG4gIH1cbn07XG5cbnZhciBDb25uZWN0b3JzUGFnZVRpdGxlID0gZnVuY3Rpb24gQ29ubmVjdG9yc1BhZ2VUaXRsZSgpIHtcbiAgdmFyIF91c2VUcmFuc2xhdGlvbjIgPSB1c2VUcmFuc2xhdGlvbigpLFxuICAgICAgdCA9IF91c2VUcmFuc2xhdGlvbjIudDtcblxuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUZXh0Q29udGVudCwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUaXRsZSwge1xuICAgIGhlYWRpbmdMZXZlbDogXCJoMVwiXG4gIH0sIHQoJ21hbmFnZWRDb25uZWN0b3JzJykpKTtcbn07XG5cbnZhciBmZXRjaENvbmZpZ3VyYXRvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIHZhciBfcmVmID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcnVudGltZV8xLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoY29ubmVjdG9yLCBjb25maWcpIHtcbiAgICB2YXIgZGVmYXVsdENvbmZpZztcbiAgICByZXR1cm4gcnVudGltZV8xLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgZGVmYXVsdENvbmZpZyA9IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgIHN0ZXBzOiBmYWxzZSxcbiAgICAgICAgICAgICAgQ29uZmlndXJhdG9yOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCBuZXcgUHJvbWlzZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9ydW50aW1lXzEubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmVkZXJhdGVkQ29uZmlndXJhdG9yO1xuICAgICAgICAgICAgICAgIHJldHVybiBydW50aW1lXzEud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF5YmVHZXRGZWRlcmF0ZWRDb25maWd1cmF0b3JGb3JDb25uZWN0b3IoY29uZmlnLCBjb25uZWN0b3IpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgZmVkZXJhdGVkQ29uZmlndXJhdG9yID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluamVjdEZlZGVyYXRlZE1vZHVsZVNjcmlwdChmZWRlcmF0ZWRDb25maWd1cmF0b3IucmVtb3RlRW50cnkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShsb2FkRmVkZXJhdGVkQ29uZmlndXJhdG9yKGZlZGVyYXRlZENvbmZpZ3VyYXRvci5zY29wZSwgZmVkZXJhdGVkQ29uZmlndXJhdG9yLm1vZHVsZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbXCJjYXRjaFwiXSgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGVmYXVsdENvbmZpZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDldXSk7XG4gICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94Mykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSgpKSk7XG5cbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlMik7XG4gIH0pKTtcblxuICByZXR1cm4gZnVuY3Rpb24gZmV0Y2hDb25maWd1cmF0b3IoX3gsIF94Mikge1xuICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59KCk7XG5cbnZhciBpc1ZhbGlkQ29uZiA9IGZ1bmN0aW9uIGlzVmFsaWRDb25mKG1heWJlQ29uZikge1xuICByZXR1cm4gbWF5YmVDb25mICYmIG1heWJlQ29uZi5yZW1vdGVFbnRyeSAmJiB0eXBlb2YgbWF5YmVDb25mLnJlbW90ZUVudHJ5ID09PSAnc3RyaW5nJyAmJiBtYXliZUNvbmYuc2NvcGUgJiYgdHlwZW9mIG1heWJlQ29uZi5zY29wZSA9PT0gJ3N0cmluZycgJiYgbWF5YmVDb25mLm1vZHVsZSAmJiB0eXBlb2YgbWF5YmVDb25mLm1vZHVsZSA9PT0gJ3N0cmluZyc7XG59O1xuXG52YXIgbWF5YmVHZXRGZWRlcmF0ZWRDb25maWd1cmF0b3JGb3JDb25uZWN0b3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZjMgPSAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9ydW50aW1lXzEubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhjb25maWcsIGNvbm5lY3Rvcikge1xuICAgIHZhciBtYXliZUNvbmZpZ3VyYXRpb247XG4gICAgcmV0dXJuIHJ1bnRpbWVfMS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHtcbiAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGVkIGZlZGVyYXRlZCBjb25maWd1cmF0b3IgcmVtb3RlcyBjb25maWd1cmF0aW9uJywgY29uZmlnKTtcbiAgICAgICAgICAgIG1heWJlQ29uZmlndXJhdGlvbiA9IGNvbmZpZ1tjb25uZWN0b3IuaWRdO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDYW5kaWRhdGUgY29uZmlndXJhdGlvbiBmb3IgXFxcIlwiICsgY29ubmVjdG9yLmlkICsgXCJcXFwiXCIsIG1heWJlQ29uZmlndXJhdGlvbik7XG5cbiAgICAgICAgICAgIGlmIChtYXliZUNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb3VsZG4ndCBmaW5kIGFueSBjb25maWd1cmF0aW9uIGZvciB0aGUgcmVxdWVzdGVkIGNvbm5lY3RvclwiKTtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIsIFByb21pc2UucmVqZWN0KCkpO1xuXG4gICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgaWYgKCFpc1ZhbGlkQ29uZihtYXliZUNvbmZpZ3VyYXRpb24pKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCBhIGdlbmVyaWMgY29uZmlndXJhdGlvbiBmb3IgdGhlIGNvbm5lY3RvcicsIG1heWJlQ29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdChcInJldHVyblwiLCBtYXliZUNvbmZpZ3VyYXRpb24pO1xuXG4gICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb3VsZG4ndCBmaW5kIGEgdmFsaWQgY29uZmlndXJhdGlvbiBmb3IgdGhlIHJlcXVlc3RlZCBjb25uZWN0b3JcIik7XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdChcInJldHVyblwiLCBQcm9taXNlLnJlamVjdCgpKTtcblxuICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlMyk7XG4gIH0pKTtcblxuICByZXR1cm4gZnVuY3Rpb24gbWF5YmVHZXRGZWRlcmF0ZWRDb25maWd1cmF0b3JGb3JDb25uZWN0b3IoX3g0LCBfeDUpIHtcbiAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKTtcblxudmFyIGluamVjdEZlZGVyYXRlZE1vZHVsZVNjcmlwdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIHZhciBfcmVmNCA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3J1bnRpbWVfMS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHVybCkge1xuICAgIHJldHVybiBydW50aW1lXzEud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdChcInJldHVyblwiLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgICAgICAgIGVsZW1lbnQuc3JjID0gdXJsO1xuICAgICAgICAgICAgICBlbGVtZW50LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcbiAgICAgICAgICAgICAgZWxlbWVudC5hc3luYyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgZWxlbWVudC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEeW5hbWljIGZlZGVyYXRlZCBtb2R1bGUgbG9hZGVkOiBcIiArIHVybCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgZWxlbWVudC5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJEeW5hbWljIGZlZGVyYXRlZCBtb2R1bGUgRXJyb3I6IFwiICsgdXJsKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkR5bmFtaWMgZmVkZXJhdGVkIG1vZHVsZSBSZW1vdmVkOiBcIiArIHVybCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTQpO1xuICB9KSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGluamVjdEZlZGVyYXRlZE1vZHVsZVNjcmlwdChfeDYpIHtcbiAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKTtcbmZ1bmN0aW9uIGxvYWRGZWRlcmF0ZWRDb25maWd1cmF0b3IoX3g3LCBfeDgpIHtcbiAgcmV0dXJuIF9sb2FkRmVkZXJhdGVkQ29uZmlndXJhdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9sb2FkRmVkZXJhdGVkQ29uZmlndXJhdG9yKCkge1xuICBfbG9hZEZlZGVyYXRlZENvbmZpZ3VyYXRvciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcnVudGltZV8xLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoc2NvcGUsIG1vZHVsZSkge1xuICAgIHZhciBjb250YWluZXIsIGZhY3RvcnksIGZlZGVyYXRlZENvbmZpZ3VyYXRpb25Db25maWc7XG4gICAgcmV0dXJuIHJ1bnRpbWVfMS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHtcbiAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjtcbiAgICAgICAgICAgIHJldHVybiBfX3dlYnBhY2tfaW5pdF9zaGFyaW5nX18oJ2RlZmF1bHQnKTtcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IHdpbmRvd1tzY29wZV07IC8vIG9yIGdldCB0aGUgY29udGFpbmVyIHNvbWV3aGVyZSBlbHNlXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBjb250YWluZXIsIGl0IG1heSBwcm92aWRlIHNoYXJlZCBtb2R1bGVzXG5cbiAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTtcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIuaW5pdChfX3dlYnBhY2tfc2hhcmVfc2NvcGVzX19bXCJkZWZhdWx0XCJdKTtcblxuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNztcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3dbc2NvcGVdLmdldChtb2R1bGUpO1xuXG4gICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgZmFjdG9yeSA9IF9jb250ZXh0NS5zZW50O1xuICAgICAgICAgICAgZmVkZXJhdGVkQ29uZmlndXJhdGlvbkNvbmZpZyA9IGZhY3RvcnkoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibG9hZGVkIGZlZGVyYXRlZCBjb25maWd1cmF0b3IgY29uZmlndXJhdGlvbiBmcm9tIFwiICsgc2NvcGUsIGZlZGVyYXRlZENvbmZpZ3VyYXRpb25Db25maWcpO1xuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIiwgZmVkZXJhdGVkQ29uZmlndXJhdGlvbkNvbmZpZ1tcImRlZmF1bHRcIl0pO1xuXG4gICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWU1KTtcbiAgfSkpO1xuICByZXR1cm4gX2xvYWRGZWRlcmF0ZWRDb25maWd1cmF0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxudmFyIENyZWF0ZUNvbm5lY3RvclBhZ2UgPSBmdW5jdGlvbiBDcmVhdGVDb25uZWN0b3JQYWdlKF9yZWYpIHtcbiAgdmFyIG9uU2F2ZSA9IF9yZWYub25TYXZlLFxuICAgICAgb25DbG9zZSA9IF9yZWYub25DbG9zZTtcblxuICB2YXIgX3VzZVRyYW5zbGF0aW9uID0gdXNlVHJhbnNsYXRpb24oKSxcbiAgICAgIHQgPSBfdXNlVHJhbnNsYXRpb24udDtcblxuICB2YXIgX3VzZUNvbmZpZyA9IHVzZUNvbmZpZygpLFxuICAgICAgY29zID0gX3VzZUNvbmZpZy5jb3M7XG5cbiAgdmFyIF91c2VCYXNlbmFtZSA9IHVzZUJhc2VuYW1lKCksXG4gICAgICBnZXRCYXNlbmFtZSA9IF91c2VCYXNlbmFtZS5nZXRCYXNlbmFtZTtcblxuICB2YXIgX3VzZUFwcENvbnRleHQgPSB1c2VBcHBDb250ZXh0KCksXG4gICAgICBiYXNlUGF0aCA9IF91c2VBcHBDb250ZXh0LmJhc2VQYXRoLFxuICAgICAgZ2V0VG9rZW4gPSBfdXNlQXBwQ29udGV4dC5nZXRUb2tlbjtcblxuICB2YXIgYmFzZW5hbWUgPSBnZXRCYXNlbmFtZSgpO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICBhc2tGb3JMZWF2ZUNvbmZpcm0gPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRBc2tGb3JMZWF2ZUNvbmZpcm0gPSBfdXNlU3RhdGVbMV07XG5cbiAgdmFyIG9wZW5MZWF2ZUNvbmZpcm0gPSBmdW5jdGlvbiBvcGVuTGVhdmVDb25maXJtKCkge1xuICAgIHJldHVybiBzZXRBc2tGb3JMZWF2ZUNvbmZpcm0odHJ1ZSk7XG4gIH07XG5cbiAgdmFyIGNsb3NlTGVhdmVDb25maXJtID0gZnVuY3Rpb24gY2xvc2VMZWF2ZUNvbmZpcm0oKSB7XG4gICAgcmV0dXJuIHNldEFza0ZvckxlYXZlQ29uZmlybShmYWxzZSk7XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGFnZVNlY3Rpb24sIHtcbiAgICB2YXJpYW50OiAnbGlnaHQnLFxuICAgIGhhc1NoYWRvd0JvdHRvbTogdHJ1ZVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJyZWFkY3J1bWIsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnJlYWRjcnVtYkl0ZW0sIHtcbiAgICB0bzogYmFzZW5hbWVcbiAgfSwgdCgnQ29ubmVjdG9ycycpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCcmVhZGNydW1iSXRlbSwge1xuICAgIGlzQWN0aXZlOiB0cnVlXG4gIH0sIHQoJ0NyZWF0ZSBjb25uZWN0b3InKSkpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KExldmVsLCB7XG4gICAgY2xhc3NOYW1lOiAncGYtdS1wdC1tZCBwZi11LXBiLW1kJ1xuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRpdGxlLCB7XG4gICAgaGVhZGluZ0xldmVsOiBcImgxXCJcbiAgfSwgdCgnQ3JlYXRlIGNvbm5lY3RvcicpKSkpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBhZ2VTZWN0aW9uLCB7XG4gICAgcGFkZGluZzoge1xuICAgICAgXCJkZWZhdWx0XCI6ICdub1BhZGRpbmcnXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgekluZGV4OiAwXG4gICAgfSxcbiAgICB0eXBlOiAnd2l6YXJkJ1xuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENyZWF0aW9uV2l6YXJkTWFjaGluZVByb3ZpZGVyLCB7XG4gICAgYWNjZXNzVG9rZW46IGdldFRva2VuLFxuICAgIGJhc2VQYXRoOiBiYXNlUGF0aCxcbiAgICBmZXRjaENvbmZpZ3VyYXRvcjogZnVuY3Rpb24gZmV0Y2hDb25maWd1cmF0b3IkMShjb25uZWN0b3IpIHtcbiAgICAgIHJldHVybiBmZXRjaENvbmZpZ3VyYXRvcihjb25uZWN0b3IsIGNvcy5jb25maWd1cmF0b3JzKTtcbiAgICB9LFxuICAgIG9uU2F2ZTogb25TYXZlXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ3JlYXRpb25XaXphcmQsIHtcbiAgICBvbkNsb3NlOiBvcGVuTGVhdmVDb25maXJtXG4gIH0pLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KE1vZGFsLCB7XG4gICAgdGl0bGU6IHQoJ0xlYXZlIHBhZ2U/JyksXG4gICAgdmFyaWFudDogJ3NtYWxsJyxcbiAgICBpc09wZW46IGFza0ZvckxlYXZlQ29uZmlybSxcbiAgICBvbkNsb3NlOiBjbG9zZUxlYXZlQ29uZmlybSxcbiAgICBhY3Rpb25zOiBbUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgIGtleTogXCJjb25maXJtXCIsXG4gICAgICB2YXJpYW50OiBcInByaW1hcnlcIixcbiAgICAgIG9uQ2xpY2s6IG9uQ2xvc2VcbiAgICB9LCBcIkNvbmZpcm1cIiksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgICBrZXk6IFwiY2FuY2VsXCIsXG4gICAgICB2YXJpYW50OiBcImxpbmtcIixcbiAgICAgIG9uQ2xpY2s6IGNsb3NlTGVhdmVDb25maXJtXG4gICAgfSwgXCJDYW5jZWxcIildXG4gIH0sIHQoJ0NoYW5nZXMgeW91IGhhdmUgbWFkZSB3aWxsIGJlIGxvc3QgYW5kIG5vIGNvbm5lY3RvciB3aWxsIGJlIGNyZWF0ZWQuJykpKSkpO1xufTtcblxudmFyIENvc1VpUm91dGVzID0gZnVuY3Rpb24gQ29zVWlSb3V0ZXMoX3JlZikge1xuICB2YXIgZ2V0VG9rZW4gPSBfcmVmLmdldFRva2VuLFxuICAgICAgYXBpQmFzZXBhdGggPSBfcmVmLmFwaUJhc2VwYXRoO1xuXG4gIHZhciBfdXNlVHJhbnNsYXRpb24gPSB1c2VUcmFuc2xhdGlvbigpLFxuICAgICAgdCA9IF91c2VUcmFuc2xhdGlvbi50O1xuXG4gIHZhciBfdXNlQWxlcnQgPSB1c2VBbGVydCgpLFxuICAgICAgYWRkQWxlcnQgPSBfdXNlQWxlcnQuYWRkQWxlcnQ7XG5cbiAgdmFyIGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7XG4gIHZhciBnb1RvQ29ubmVjdG9yc0xpc3QgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGhpc3RvcnkucHVzaCgnLycpO1xuICB9LCBbaGlzdG9yeV0pO1xuICB2YXIgZ29Ub0NyZWF0ZUNvbm5lY3RvciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gaGlzdG9yeS5wdXNoKCcvY3JlYXRlLWNvbm5lY3RvcicpO1xuICB9LCBbaGlzdG9yeV0pO1xuICB2YXIgb25Db25uZWN0b3JTYXZlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIGFkZEFsZXJ0KHtcbiAgICAgIGlkOiAnY29ubmVjdG9yLWNyZWF0ZWQnLFxuICAgICAgdmFyaWFudDogQWxlcnRWYXJpYW50LnN1Y2Nlc3MsXG4gICAgICB0aXRsZTogdCgnd2l6YXJkLmNyZWF0aW9uLXN1Y2Nlc3MnKVxuICAgIH0pO1xuICAgIGdvVG9Db25uZWN0b3JzTGlzdCgpO1xuICB9LCBbYWRkQWxlcnQsIGdvVG9Db25uZWN0b3JzTGlzdCwgdF0pO1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChBcHBDb250ZXh0UHJvdmlkZXIsIHtcbiAgICBnZXRUb2tlbjogZ2V0VG9rZW4sXG4gICAgYmFzZVBhdGg6IGFwaUJhc2VwYXRoXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU3dpdGNoLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7XG4gICAgcGF0aDogJy8nLFxuICAgIGV4YWN0OiB0cnVlXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdGVkQ29ubmVjdG9yc1BhZ2UsIHtcbiAgICBvbkNyZWF0ZUNvbm5lY3RvcjogZ29Ub0NyZWF0ZUNvbm5lY3RvclxuICB9KSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHtcbiAgICBwYXRoOiAnL2NyZWF0ZS1jb25uZWN0b3InXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ3JlYXRlQ29ubmVjdG9yUGFnZSwge1xuICAgIG9uU2F2ZTogb25Db25uZWN0b3JTYXZlLFxuICAgIG9uQ2xvc2U6IGdvVG9Db25uZWN0b3JzTGlzdFxuICB9KSkpKTtcbn07XG5cbnZhciBBbGVydHMgPSBmdW5jdGlvbiBBbGVydHMoX3JlZikge1xuICB2YXIgYWxlcnRzID0gX3JlZi5hbGVydHMsXG4gICAgICBvbkNsb3NlQWxlcnQgPSBfcmVmLm9uQ2xvc2VBbGVydDtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQWxlcnRHcm91cCwge1xuICAgIGlzVG9hc3Q6IHRydWVcbiAgfSwgYWxlcnRzLm1hcChmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICB2YXIgaWQgPSBfcmVmMi5pZCxcbiAgICAgICAgdmFyaWFudCA9IF9yZWYyLnZhcmlhbnQsXG4gICAgICAgIHRpdGxlID0gX3JlZjIudGl0bGUsXG4gICAgICAgIGRlc2NyaXB0aW9uID0gX3JlZjIuZGVzY3JpcHRpb24sXG4gICAgICAgIGRhdGFUZXN0SWQgPSBfcmVmMi5kYXRhVGVzdElkLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjIsIFtcImlkXCIsIFwidmFyaWFudFwiLCBcInRpdGxlXCIsIFwiZGVzY3JpcHRpb25cIiwgXCJkYXRhVGVzdElkXCJdKTtcblxuICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEFsZXJ0LCBfZXh0ZW5kcyh7XG4gICAgICBrZXk6IGlkLFxuICAgICAgaXNMaXZlUmVnaW9uOiB0cnVlLFxuICAgICAgdmFyaWFudDogQWxlcnRWYXJpYW50JDFbdmFyaWFudF0sXG4gICAgICB2YXJpYW50TGFiZWw6IFwiXCIsXG4gICAgICB0aXRsZTogdGl0bGUsXG4gICAgICBhY3Rpb25DbG9zZTogUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChBbGVydEFjdGlvbkNsb3NlQnV0dG9uLCB7XG4gICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHtcbiAgICAgICAgICByZXR1cm4gb25DbG9zZUFsZXJ0KGlkKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBcImRhdGEtdGVzdGlkXCI6IGRhdGFUZXN0SWRcbiAgICB9LCByZXN0KSwgZGVzY3JpcHRpb24pO1xuICB9KSk7XG59O1xuXG52YXIgQWxlcnRQcm92aWRlciA9IGZ1bmN0aW9uIEFsZXJ0UHJvdmlkZXIoX3JlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShbXSksXG4gICAgICBhbGVydHMgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRBbGVydHMgPSBfdXNlU3RhdGVbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTIgPSB1c2VTdGF0ZShbXSksXG4gICAgICB0aW1lcnMgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0VGltZXJzID0gX3VzZVN0YXRlMlsxXTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aW1lcnNLZXlzID0gdGltZXJzLm1hcChmdW5jdGlvbiAodGltZXIpIHtcbiAgICAgIHJldHVybiB0aW1lci5rZXk7XG4gICAgfSk7XG4gICAgdmFyIHRpbWVPdXRzID0gYWxlcnRzLmZpbHRlcihmdW5jdGlvbiAoYWxlcnQpIHtcbiAgICAgIHJldHVybiAhdGltZXJzS2V5cy5pbmNsdWRlcyhhbGVydCA9PSBudWxsID8gdm9pZCAwIDogYWxlcnQuaWQpO1xuICAgIH0pLm1hcChmdW5jdGlvbiAoYWxlcnQpIHtcbiAgICAgIHZhciBfYWxlcnQkaWQgPSBhbGVydC5pZCxcbiAgICAgICAgICBpZCA9IF9hbGVydCRpZCA9PT0gdm9pZCAwID8gJycgOiBfYWxlcnQkaWQ7XG4gICAgICB2YXIgdGltZU91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaGlkZUFsZXJ0KGlkKTtcbiAgICAgIH0sIDgwMDApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2V5OiBhbGVydC5pZCxcbiAgICAgICAgdGltZU91dDogdGltZU91dFxuICAgICAgfTtcbiAgICB9KTtcbiAgICBzZXRUaW1lcnMoW10uY29uY2F0KHRpbWVycywgdGltZU91dHMpKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRpbWVycy5mb3JFYWNoKGZ1bmN0aW9uICh0aW1lcikge1xuICAgICAgICByZXR1cm4gKHRpbWVyID09IG51bGwgPyB2b2lkIDAgOiB0aW1lci50aW1lT3V0KSAmJiBjbGVhclRpbWVvdXQodGltZXIudGltZU91dCk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9LCBbYWxlcnRzXSk7XG5cbiAgdmFyIGNyZWF0ZUlkID0gZnVuY3Rpb24gY3JlYXRlSWQoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICB9O1xuXG4gIHZhciBoaWRlQWxlcnQgPSBmdW5jdGlvbiBoaWRlQWxlcnQoa2V5KSB7XG4gICAgc2V0QWxlcnRzKGZ1bmN0aW9uIChhbGVydHMpIHtcbiAgICAgIHJldHVybiBbXS5jb25jYXQoYWxlcnRzLmZpbHRlcihmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgcmV0dXJuIGVsLmlkICE9PSBrZXk7XG4gICAgICB9KSk7XG4gICAgfSk7XG4gICAgc2V0VGltZXJzKGZ1bmN0aW9uICh0aW1lcnMpIHtcbiAgICAgIHJldHVybiBbXS5jb25jYXQodGltZXJzLmZpbHRlcihmdW5jdGlvbiAodGltZXIpIHtcbiAgICAgICAgcmV0dXJuIHRpbWVyLmtleSA9PT0ga2V5O1xuICAgICAgfSkpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBhZGRBbGVydCA9IGZ1bmN0aW9uIGFkZEFsZXJ0KHByb3BzKSB7XG4gICAgdmFyIGlkID0gY3JlYXRlSWQoKS50b1N0cmluZygpO1xuICAgIHNldEFsZXJ0cyhbXS5jb25jYXQoYWxlcnRzLCBbX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICBpZDogaWRcbiAgICB9KV0pKTtcbiAgfTtcblxuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChBbGVydENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZToge1xuICAgICAgYWRkQWxlcnQ6IGFkZEFsZXJ0XG4gICAgfVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEFsZXJ0cywge1xuICAgIGFsZXJ0czogYWxlcnRzLFxuICAgIG9uQ2xvc2VBbGVydDogaGlkZUFsZXJ0XG4gIH0pLCBjaGlsZHJlbik7XG59O1xuXG52YXIga2V5Y2xvYWskMTtcbnZhciBEZW1vQXBwID0gZnVuY3Rpb24gRGVtb0FwcCgpIHtcbiAgdmFyIF9rZXljbG9haztcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgaW5pdGlhbGl6ZWQgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRJbml0aWFsaXplZCA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgZ2V0QmFzZW5hbWUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcvJztcbiAgfSwgW10pOyAvLyBJbml0aWFsaXplIHRoZSBjbGllbnRcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciBpbml0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9ydW50aW1lXzEubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgICByZXR1cm4gcnVudGltZV8xLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEtleWNsb2FrSW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAga2V5Y2xvYWskMSA9IF9jb250ZXh0LnNlbnQ7XG4gICAgICAgICAgICAgICAgc2V0SW5pdGlhbGl6ZWQodHJ1ZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUpO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpO1xuXG4gICAgaW5pdCgpO1xuICB9LCBbXSk7XG4gIHZhciBjb25maWcgPSB7XG4gICAgY29zOiB7XG4gICAgICBhcGlCYXNlUGF0aDogcHJvY2Vzcy5lbnYuQkFTRV9QQVRILFxuICAgICAgY29uZmlndXJhdG9yczoge1xuICAgICAgICAnZGViZXppdW0tbW9uZ29kYi0xLjUuMC5GaW5hbCc6IHtcbiAgICAgICAgICByZW1vdGVFbnRyeTogJ2h0dHBzOi8vZGJ6LXVpLmFwcHMua2FtbWVsbG9sLnJobXctaW50ZWdyYXRpb25zLm5ldC9kYnotY29ubmVjdG9yLWNvbmZpZ3VyYXRvci5yZW1vdGVFbnRyeS5qcycsXG4gICAgICAgICAgc2NvcGU6ICdkZWJleml1bV91aScsXG4gICAgICAgICAgbW9kdWxlOiAnLi9jb25maWcnXG4gICAgICAgIH0sXG4gICAgICAgICdkZWJleml1bS1teXNxbC0xLjUuMC5GaW5hbCc6IHtcbiAgICAgICAgICByZW1vdGVFbnRyeTogJ2h0dHBzOi8vZGJ6LXVpLmFwcHMua2FtbWVsbG9sLnJobXctaW50ZWdyYXRpb25zLm5ldC9kYnotY29ubmVjdG9yLWNvbmZpZ3VyYXRvci5yZW1vdGVFbnRyeS5qcycsXG4gICAgICAgICAgc2NvcGU6ICdkZWJleml1bV91aScsXG4gICAgICAgICAgbW9kdWxlOiAnLi9jb25maWcnXG4gICAgICAgIH0sXG4gICAgICAgICdkZWJleml1bS1wb3N0Z3Jlcy0xLjUuMC5GaW5hbCc6IHtcbiAgICAgICAgICByZW1vdGVFbnRyeTogJ2h0dHBzOi8vZGJ6LXVpLmFwcHMua2FtbWVsbG9sLnJobXctaW50ZWdyYXRpb25zLm5ldC9kYnotY29ubmVjdG9yLWNvbmZpZ3VyYXRvci5yZW1vdGVFbnRyeS5qcycsXG4gICAgICAgICAgc2NvcGU6ICdkZWJleml1bV91aScsXG4gICAgICAgICAgbW9kdWxlOiAnLi9jb25maWcnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEtleWNsb2FrQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB7XG4gICAgICBrZXljbG9hazoga2V5Y2xvYWskMSxcbiAgICAgIHByb2ZpbGU6IChfa2V5Y2xvYWsgPSBrZXljbG9hayQxKSA9PSBudWxsID8gdm9pZCAwIDogX2tleWNsb2FrLnByb2ZpbGVcbiAgICB9XG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoS2V5Y2xvYWtBdXRoUHJvdmlkZXIsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQmFzZW5hbWVDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHtcbiAgICAgIGdldEJhc2VuYW1lOiBnZXRCYXNlbmFtZVxuICAgIH1cbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25maWdDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGNvbmZpZ1xuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEkxOG5leHRQcm92aWRlciwge1xuICAgIGkxOG46IGkxOG5cbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChBbGVydFByb3ZpZGVyLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LlN1c3BlbnNlLCB7XG4gICAgZmFsbGJhY2s6IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZywgbnVsbClcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCcm93c2VyUm91dGVyLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEFwcExheW91dCwgbnVsbCwgaW5pdGlhbGl6ZWQgPyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RlZFJvdXRlcywgbnVsbCkgOiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNwaW5uZXIsIG51bGwpKSkpKSkpKSkpO1xufTtcblxudmFyIENvbm5lY3RlZFJvdXRlcyA9IGZ1bmN0aW9uIENvbm5lY3RlZFJvdXRlcygpIHtcbiAgdmFyIGF1dGggPSB1c2VBdXRoKCk7XG5cbiAgdmFyIF91c2VDb25maWcgPSB1c2VDb25maWcoKSxcbiAgICAgIGNvcyA9IF91c2VDb25maWcuY29zO1xuXG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvc1VpUm91dGVzLCB7XG4gICAgZ2V0VG9rZW46IGF1dGgua2FzLmdldFRva2VuLFxuICAgIGFwaUJhc2VwYXRoOiBjb3MuYXBpQmFzZVBhdGhcbiAgfSk7XG59O1xuXG52YXIgRTJFQXBwID0gZnVuY3Rpb24gRTJFQXBwKCkge1xuICB2YXIgZ2V0QmFzZW5hbWUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcvJztcbiAgfSwgW10pO1xuICB2YXIgY29uZmlnID0ge1xuICAgIGNvczoge1xuICAgICAgYXBpQmFzZVBhdGg6ICdsb2NhbGhvc3QnLFxuICAgICAgY29uZmlndXJhdG9yczoge1xuICAgICAgICAnZGViZXppdW0tbW9uZ29kYi0xLjUuMC5GaW5hbCc6IHtcbiAgICAgICAgICByZW1vdGVFbnRyeTogJ2h0dHBzOi8vZGJ6LXVpLmFwcHMua2FtbWVsbG9sLnJobXctaW50ZWdyYXRpb25zLm5ldC9kYnotY29ubmVjdG9yLWNvbmZpZ3VyYXRvci5yZW1vdGVFbnRyeS5qcycsXG4gICAgICAgICAgc2NvcGU6ICdkZWJleml1bV91aScsXG4gICAgICAgICAgbW9kdWxlOiAnLi9jb25maWcnXG4gICAgICAgIH0sXG4gICAgICAgICdkZWJleml1bS1teXNxbC0xLjUuMC5GaW5hbCc6IHtcbiAgICAgICAgICByZW1vdGVFbnRyeTogJ2h0dHBzOi8vZGJ6LXVpLmFwcHMua2FtbWVsbG9sLnJobXctaW50ZWdyYXRpb25zLm5ldC9kYnotY29ubmVjdG9yLWNvbmZpZ3VyYXRvci5yZW1vdGVFbnRyeS5qcycsXG4gICAgICAgICAgc2NvcGU6ICdkZWJleml1bV91aScsXG4gICAgICAgICAgbW9kdWxlOiAnLi9jb25maWcnXG4gICAgICAgIH0sXG4gICAgICAgICdkZWJleml1bS1wb3N0Z3Jlcy0xLjUuMC5GaW5hbCc6IHtcbiAgICAgICAgICByZW1vdGVFbnRyeTogJ2h0dHBzOi8vZGJ6LXVpLmFwcHMua2FtbWVsbG9sLnJobXctaW50ZWdyYXRpb25zLm5ldC9kYnotY29ubmVjdG9yLWNvbmZpZ3VyYXRvci5yZW1vdGVFbnRyeS5qcycsXG4gICAgICAgICAgc2NvcGU6ICdkZWJleml1bV91aScsXG4gICAgICAgICAgbW9kdWxlOiAnLi9jb25maWcnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBhdXRoVG9rZW5Db250ZXh0ID0ge1xuICAgIGthczoge1xuICAgICAgZ2V0VG9rZW46IGZ1bmN0aW9uIGdldFRva2VuKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCdkdW1teScpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0VXNlcm5hbWU6IGZ1bmN0aW9uIGdldFVzZXJuYW1lKCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgndXNlcm5hbWUnKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEF1dGhDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGF1dGhUb2tlbkNvbnRleHRcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCYXNlbmFtZUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZToge1xuICAgICAgZ2V0QmFzZW5hbWU6IGdldEJhc2VuYW1lXG4gICAgfVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbmZpZ0NvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogY29uZmlnXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoSTE4bmV4dFByb3ZpZGVyLCB7XG4gICAgaTE4bjogaTE4blxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEFsZXJ0UHJvdmlkZXIsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuU3VzcGVuc2UsIHtcbiAgICBmYWxsYmFjazogUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChMb2FkaW5nLCBudWxsKVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJyb3dzZXJSb3V0ZXIsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQXBwTGF5b3V0LCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RlZFJvdXRlcyQxLCBudWxsKSkpKSkpKSkpO1xufTtcblxudmFyIENvbm5lY3RlZFJvdXRlcyQxID0gZnVuY3Rpb24gQ29ubmVjdGVkUm91dGVzKCkge1xuICB2YXIgYXV0aCA9IHVzZUF1dGgoKTtcblxuICB2YXIgX3VzZUNvbmZpZyA9IHVzZUNvbmZpZygpLFxuICAgICAgY29zID0gX3VzZUNvbmZpZy5jb3M7XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29zVWlSb3V0ZXMsIHtcbiAgICBnZXRUb2tlbjogYXV0aC5rYXMuZ2V0VG9rZW4sXG4gICAgYXBpQmFzZXBhdGg6IGNvcy5hcGlCYXNlUGF0aFxuICB9KTtcbn07XG5cbnZhciBGZWRlcmF0ZWRBcHAgPSBmdW5jdGlvbiBGZWRlcmF0ZWRBcHAoKSB7XG4gIHZhciBfdXNlQ29uZmlnID0gdXNlQ29uZmlnKCksXG4gICAgICBjb3MgPSBfdXNlQ29uZmlnLmNvcztcblxuICB2YXIgX3VzZUF1dGggPSB1c2VBdXRoKCksXG4gICAgICBrYXMgPSBfdXNlQXV0aC5rYXM7XG5cbiAgdmFyIF91c2VCYXNlbmFtZSA9IHVzZUJhc2VuYW1lKCksXG4gICAgICBnZXRCYXNlbmFtZSA9IF91c2VCYXNlbmFtZS5nZXRCYXNlbmFtZTtcblxuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChJMThuZXh0UHJvdmlkZXIsIHtcbiAgICBpMThuOiBpMThuXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuU3VzcGVuc2UsIHtcbiAgICBmYWxsYmFjazogUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChMb2FkaW5nLCBudWxsKVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJyb3dzZXJSb3V0ZXIsIHtcbiAgICBiYXNlbmFtZTogZ2V0QmFzZW5hbWUoKVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvc1VpUm91dGVzLCB7XG4gICAgZ2V0VG9rZW46IGthcy5nZXRUb2tlbixcbiAgICBhcGlCYXNlcGF0aDogY29zLmFwaUJhc2VQYXRoXG4gIH0pKSkpO1xufTtcblxuZXhwb3J0IHsgRGVtb0FwcCwgRTJFQXBwLCBGZWRlcmF0ZWRBcHAgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC5lc20uanMubWFwXG4iLCJpbXBvcnQgJ0Bjb3MtdWkvYXBwL2Rpc3QvY29zLXVpLWFwcC5jc3MnO1xuaW1wb3J0ICdAY29zLXVpL2NyZWF0aW9uLXdpemFyZC9kaXN0L2Nvcy11aS1jcmVhdGlvbi13aXphcmQuY3NzJztcbmltcG9ydCB7IEZlZGVyYXRlZEFwcCB9IGZyb20gJ0Bjb3MtdWkvYXBwJztcblxuZXhwb3J0IGRlZmF1bHQgRmVkZXJhdGVkQXBwO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///71487\n')},31100:function(__unused_webpack_module,exports,__webpack_require__){eval("\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SecurityApi = exports.SecurityApiFactory = exports.SecurityApiFp = exports.SecurityApiAxiosParamCreator = exports.DefaultApi = exports.DefaultApiFactory = exports.DefaultApiFp = exports.DefaultApiAxiosParamCreator = exports.ConnectorsApi = exports.ConnectorsApiFactory = exports.ConnectorsApiFp = exports.ConnectorsApiAxiosParamCreator = exports.ConnectorTypesApi = exports.ConnectorTypesApiFactory = exports.ConnectorTypesApiFp = exports.ConnectorTypesApiAxiosParamCreator = exports.ConnectorClustersApi = exports.ConnectorClustersApiFactory = exports.ConnectorClustersApiFp = exports.ConnectorClustersApiAxiosParamCreator = exports.ConnectorTypeAllOfLabelsEnum = exports.ConnectorTypeLabelsEnum = void 0;\nconst axios_1 = __webpack_require__(49198);\n// Some imports not used depending on template conditions\n// @ts-ignore\nconst common_1 = __webpack_require__(98691);\n// @ts-ignore\nconst base_1 = __webpack_require__(50778);\n/**\n    * @export\n    * @enum {string}\n    */\nvar ConnectorTypeLabelsEnum;\n(function (ConnectorTypeLabelsEnum) {\n    ConnectorTypeLabelsEnum[\"Sink\"] = \"sink\";\n    ConnectorTypeLabelsEnum[\"Source\"] = \"source\";\n})(ConnectorTypeLabelsEnum = exports.ConnectorTypeLabelsEnum || (exports.ConnectorTypeLabelsEnum = {}));\n/**\n    * @export\n    * @enum {string}\n    */\nvar ConnectorTypeAllOfLabelsEnum;\n(function (ConnectorTypeAllOfLabelsEnum) {\n    ConnectorTypeAllOfLabelsEnum[\"Sink\"] = \"sink\";\n    ConnectorTypeAllOfLabelsEnum[\"Source\"] = \"source\";\n})(ConnectorTypeAllOfLabelsEnum = exports.ConnectorTypeAllOfLabelsEnum || (exports.ConnectorTypeAllOfLabelsEnum = {}));\n/**\n * ConnectorClustersApi - axios parameter creator\n * @export\n */\nconst ConnectorClustersApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Create a new connector cluster\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {ConnectorCluster} connectorCluster Connector cluster data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnectorCluster: (async, connectorCluster, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'async' is not null or undefined\n            common_1.assertParamExists('createConnectorCluster', 'async', async);\n            // verify required parameter 'connectorCluster' is not null or undefined\n            common_1.assertParamExists('createConnectorCluster', 'connectorCluster', connectorCluster);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (async !== undefined) {\n                localVarQueryParameter['async'] = async;\n            }\n            localVarHeaderParameter['Content-Type'] = 'application/json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(connectorCluster, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Delete a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnectorCluster: (connectorClusterId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorClusterId' is not null or undefined\n            common_1.assertParamExists('deleteConnectorCluster', 'connectorClusterId', connectorClusterId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters/{connector_cluster_id}`\n                .replace(`{${\"connector_cluster_id\"}}`, encodeURIComponent(String(connectorClusterId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'DELETE' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Get a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorCluster: (connectorClusterId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorClusterId' is not null or undefined\n            common_1.assertParamExists('getConnectorCluster', 'connectorClusterId', connectorClusterId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters/{connector_cluster_id}`\n                .replace(`{${\"connector_cluster_id\"}}`, encodeURIComponent(String(connectorClusterId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Get a connector cluster\\'s addon parameters\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorClusterAddonParameters: (connectorClusterId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorClusterId' is not null or undefined\n            common_1.assertParamExists('getConnectorClusterAddonParameters', 'connectorClusterId', connectorClusterId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters/{connector_cluster_id}/addon_parameters`\n                .replace(`{${\"connector_cluster_id\"}}`, encodeURIComponent(String(connectorClusterId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of connector clusters\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorClusters: (page, size, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.ConnectorClustersApiAxiosParamCreator = ConnectorClustersApiAxiosParamCreator;\n/**\n * ConnectorClustersApi - functional programming interface\n * @export\n */\nconst ConnectorClustersApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.ConnectorClustersApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Create a new connector cluster\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {ConnectorCluster} connectorCluster Connector cluster data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnectorCluster(async, connectorCluster, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.createConnectorCluster(async, connectorCluster, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Delete a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnectorCluster(connectorClusterId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteConnectorCluster(connectorClusterId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Get a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorCluster(connectorClusterId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getConnectorCluster(connectorClusterId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Get a connector cluster\\'s addon parameters\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorClusterAddonParameters(connectorClusterId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getConnectorClusterAddonParameters(connectorClusterId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of connector clusters\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorClusters(page, size, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.listConnectorClusters(page, size, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.ConnectorClustersApiFp = ConnectorClustersApiFp;\n/**\n * ConnectorClustersApi - factory interface\n * @export\n */\nconst ConnectorClustersApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.ConnectorClustersApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Create a new connector cluster\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {ConnectorCluster} connectorCluster Connector cluster data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnectorCluster(async, connectorCluster, options) {\n            return localVarFp.createConnectorCluster(async, connectorCluster, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Delete a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnectorCluster(connectorClusterId, options) {\n            return localVarFp.deleteConnectorCluster(connectorClusterId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Get a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorCluster(connectorClusterId, options) {\n            return localVarFp.getConnectorCluster(connectorClusterId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Get a connector cluster\\'s addon parameters\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorClusterAddonParameters(connectorClusterId, options) {\n            return localVarFp.getConnectorClusterAddonParameters(connectorClusterId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of connector clusters\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorClusters(page, size, options) {\n            return localVarFp.listConnectorClusters(page, size, options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.ConnectorClustersApiFactory = ConnectorClustersApiFactory;\n/**\n * ConnectorClustersApi - object-oriented interface\n * @export\n * @class ConnectorClustersApi\n * @extends {BaseAPI}\n */\nclass ConnectorClustersApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Create a new connector cluster\n     * @param {boolean} async Perform the action in an asynchronous manner\n     * @param {ConnectorCluster} connectorCluster Connector cluster data\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    createConnectorCluster(async, connectorCluster, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).createConnectorCluster(async, connectorCluster, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Delete a connector cluster\n     * @param {string} connectorClusterId The id of the connector cluster\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    deleteConnectorCluster(connectorClusterId, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).deleteConnectorCluster(connectorClusterId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Get a connector cluster\n     * @param {string} connectorClusterId The id of the connector cluster\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    getConnectorCluster(connectorClusterId, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).getConnectorCluster(connectorClusterId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Get a connector cluster\\'s addon parameters\n     * @param {string} connectorClusterId The id of the connector cluster\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    getConnectorClusterAddonParameters(connectorClusterId, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).getConnectorClusterAddonParameters(connectorClusterId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of connector clusters\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    listConnectorClusters(page, size, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).listConnectorClusters(page, size, options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.ConnectorClustersApi = ConnectorClustersApi;\n/**\n * ConnectorTypesApi - axios parameter creator\n * @export\n */\nconst ConnectorTypesApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Get a connector type by id\n         * @param {string} connectorTypeId The id of the connector type\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorTypeByID: (connectorTypeId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorTypeId' is not null or undefined\n            common_1.assertParamExists('getConnectorTypeByID', 'connectorTypeId', connectorTypeId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_types/{connector_type_id}`\n                .replace(`{${\"connector_type_id\"}}`, encodeURIComponent(String(connectorTypeId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorTypes: (page, size, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_types`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.ConnectorTypesApiAxiosParamCreator = ConnectorTypesApiAxiosParamCreator;\n/**\n * ConnectorTypesApi - functional programming interface\n * @export\n */\nconst ConnectorTypesApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.ConnectorTypesApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Get a connector type by id\n         * @param {string} connectorTypeId The id of the connector type\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorTypeByID(connectorTypeId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getConnectorTypeByID(connectorTypeId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorTypes(page, size, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.listConnectorTypes(page, size, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.ConnectorTypesApiFp = ConnectorTypesApiFp;\n/**\n * ConnectorTypesApi - factory interface\n * @export\n */\nconst ConnectorTypesApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.ConnectorTypesApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Get a connector type by id\n         * @param {string} connectorTypeId The id of the connector type\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorTypeByID(connectorTypeId, options) {\n            return localVarFp.getConnectorTypeByID(connectorTypeId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorTypes(page, size, options) {\n            return localVarFp.listConnectorTypes(page, size, options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.ConnectorTypesApiFactory = ConnectorTypesApiFactory;\n/**\n * ConnectorTypesApi - object-oriented interface\n * @export\n * @class ConnectorTypesApi\n * @extends {BaseAPI}\n */\nclass ConnectorTypesApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Get a connector type by id\n     * @param {string} connectorTypeId The id of the connector type\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorTypesApi\n     */\n    getConnectorTypeByID(connectorTypeId, options) {\n        return exports.ConnectorTypesApiFp(this.configuration).getConnectorTypeByID(connectorTypeId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of connector types\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorTypesApi\n     */\n    listConnectorTypes(page, size, options) {\n        return exports.ConnectorTypesApiFp(this.configuration).listConnectorTypes(page, size, options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.ConnectorTypesApi = ConnectorTypesApi;\n/**\n * ConnectorsApi - axios parameter creator\n * @export\n */\nconst ConnectorsApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Create a new connector\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {Connector} connector Connector data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnector: (async, connector, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'async' is not null or undefined\n            common_1.assertParamExists('createConnector', 'async', async);\n            // verify required parameter 'connector' is not null or undefined\n            common_1.assertParamExists('createConnector', 'connector', connector);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (async !== undefined) {\n                localVarQueryParameter['async'] = async;\n            }\n            localVarHeaderParameter['Content-Type'] = 'application/json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(connector, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Delete a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnector: (connectorId, kafkaId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorId' is not null or undefined\n            common_1.assertParamExists('deleteConnector', 'connectorId', connectorId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors/{connector_id}`\n                .replace(`{${\"connector_id\"}}`, encodeURIComponent(String(connectorId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'DELETE' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (kafkaId !== undefined) {\n                localVarQueryParameter['kafka_id'] = kafkaId;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Get a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnector: (connectorId, kafkaId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorId' is not null or undefined\n            common_1.assertParamExists('getConnector', 'connectorId', connectorId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors/{connector_id}`\n                .replace(`{${\"connector_id\"}}`, encodeURIComponent(String(connectorId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (kafkaId !== undefined) {\n                localVarQueryParameter['kafka_id'] = kafkaId;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectors: (page, size, kafkaId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            if (kafkaId !== undefined) {\n                localVarQueryParameter['kafka_id'] = kafkaId;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary patch a connector\n         * @param {string} connectorId The id of the connector\n         * @param {object} body Data to patch the connector with\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        patchConnector: (connectorId, body, kafkaId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorId' is not null or undefined\n            common_1.assertParamExists('patchConnector', 'connectorId', connectorId);\n            // verify required parameter 'body' is not null or undefined\n            common_1.assertParamExists('patchConnector', 'body', body);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors/{connector_id}`\n                .replace(`{${\"connector_id\"}}`, encodeURIComponent(String(connectorId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'PATCH' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (kafkaId !== undefined) {\n                localVarQueryParameter['kafka_id'] = kafkaId;\n            }\n            localVarHeaderParameter['Content-Type'] = 'application/json-patch+json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(body, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.ConnectorsApiAxiosParamCreator = ConnectorsApiAxiosParamCreator;\n/**\n * ConnectorsApi - functional programming interface\n * @export\n */\nconst ConnectorsApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.ConnectorsApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Create a new connector\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {Connector} connector Connector data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnector(async, connector, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.createConnector(async, connector, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Delete a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnector(connectorId, kafkaId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteConnector(connectorId, kafkaId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Get a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnector(connectorId, kafkaId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getConnector(connectorId, kafkaId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectors(page, size, kafkaId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.listConnectors(page, size, kafkaId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary patch a connector\n         * @param {string} connectorId The id of the connector\n         * @param {object} body Data to patch the connector with\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        patchConnector(connectorId, body, kafkaId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.patchConnector(connectorId, body, kafkaId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.ConnectorsApiFp = ConnectorsApiFp;\n/**\n * ConnectorsApi - factory interface\n * @export\n */\nconst ConnectorsApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.ConnectorsApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Create a new connector\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {Connector} connector Connector data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnector(async, connector, options) {\n            return localVarFp.createConnector(async, connector, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Delete a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnector(connectorId, kafkaId, options) {\n            return localVarFp.deleteConnector(connectorId, kafkaId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Get a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnector(connectorId, kafkaId, options) {\n            return localVarFp.getConnector(connectorId, kafkaId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectors(page, size, kafkaId, options) {\n            return localVarFp.listConnectors(page, size, kafkaId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary patch a connector\n         * @param {string} connectorId The id of the connector\n         * @param {object} body Data to patch the connector with\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        patchConnector(connectorId, body, kafkaId, options) {\n            return localVarFp.patchConnector(connectorId, body, kafkaId, options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.ConnectorsApiFactory = ConnectorsApiFactory;\n/**\n * ConnectorsApi - object-oriented interface\n * @export\n * @class ConnectorsApi\n * @extends {BaseAPI}\n */\nclass ConnectorsApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Create a new connector\n     * @param {boolean} async Perform the action in an asynchronous manner\n     * @param {Connector} connector Connector data\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    createConnector(async, connector, options) {\n        return exports.ConnectorsApiFp(this.configuration).createConnector(async, connector, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Delete a connector\n     * @param {string} connectorId The id of the connector\n     * @param {string} [kafkaId] The kafka cluster id\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    deleteConnector(connectorId, kafkaId, options) {\n        return exports.ConnectorsApiFp(this.configuration).deleteConnector(connectorId, kafkaId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Get a connector\n     * @param {string} connectorId The id of the connector\n     * @param {string} [kafkaId] The kafka cluster id\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    getConnector(connectorId, kafkaId, options) {\n        return exports.ConnectorsApiFp(this.configuration).getConnector(connectorId, kafkaId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of connector types\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {string} [kafkaId] The kafka cluster id\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    listConnectors(page, size, kafkaId, options) {\n        return exports.ConnectorsApiFp(this.configuration).listConnectors(page, size, kafkaId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary patch a connector\n     * @param {string} connectorId The id of the connector\n     * @param {object} body Data to patch the connector with\n     * @param {string} [kafkaId] The kafka cluster id\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    patchConnector(connectorId, body, kafkaId, options) {\n        return exports.ConnectorsApiFp(this.configuration).patchConnector(connectorId, body, kafkaId, options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.ConnectorsApi = ConnectorsApi;\n/**\n * DefaultApi - axios parameter creator\n * @export\n */\nconst DefaultApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Creates a Kafka request\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {KafkaRequestPayload} kafkaRequestPayload Kafka data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createKafka: (async, kafkaRequestPayload, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'async' is not null or undefined\n            common_1.assertParamExists('createKafka', 'async', async);\n            // verify required parameter 'kafkaRequestPayload' is not null or undefined\n            common_1.assertParamExists('createKafka', 'kafkaRequestPayload', kafkaRequestPayload);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (async !== undefined) {\n                localVarQueryParameter['async'] = async;\n            }\n            localVarHeaderParameter['Content-Type'] = 'application/json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(kafkaRequestPayload, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Deletes a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteKafkaById: (id, async, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('deleteKafkaById', 'id', id);\n            // verify required parameter 'async' is not null or undefined\n            common_1.assertParamExists('deleteKafkaById', 'async', async);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas/{id}`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'DELETE' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (async !== undefined) {\n                localVarQueryParameter['async'] = async;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns the list of supported regions of the supported cloud provider\n         * @param {string} id The ID of record\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviderRegions: (id, page, size, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getCloudProviderRegions', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/cloud_providers/{id}/regions`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns the list of supported cloud providers\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviders: (page, size, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1/cloud_providers`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkaById: (id, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getKafkaById', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas/{id}`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of Kafka requests\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [orderBy] Specifies the order by criteria. The syntax of this parameter is similar to the syntax of the &#x60;order by&#x60; clause of an SQL statement. Each query can be ordered by any of the &#x60;kafkaRequests&#x60; fields. For example, to return all Kafka instances ordered by their name, use the following syntax:  &#x60;&#x60;&#x60;sql name asc &#x60;&#x60;&#x60;  To return all Kafka instances ordered by their name _and_ created date, use the following syntax:  &#x60;&#x60;&#x60;sql name asc, created_at asc &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then the results are ordered by name.\n         * @param {string} [search] Search criteria.  The syntax of this parameter is similar to the syntax of the &#x60;where&#x60; clause of an SQL statement. Allowed fields in the search are &#x60;cloud_provider&#x60;, &#x60;name&#x60;, &#x60;owner&#x60;, &#x60;region&#x60;, and &#x60;status&#x60;. Allowed comparators are &#x60;&lt;&gt;&#x60;, &#x60;&#x3D;&#x60;, or &#x60;LIKE&#x60;. Allowed joins are &#x60;AND&#x60; and &#x60;OR&#x60;. However, you can use a maximum of 10 joins in a search query.  Examples:  To return a Kafka instance with the name &#x60;my-kafka&#x60; and the region &#x60;aws&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name &#x3D; my-kafka and cloud_provider &#x3D; aws &#x60;&#x60;&#x60;[p-]  To return a Kafka instance with a name that starts with &#x60;my&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name like my%25 &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then all the Kafka instances that the user has permission to see are returned.  Note. If the query is invalid, an error is returned.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkas: (page, size, orderBy, search, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            if (orderBy !== undefined) {\n                localVarQueryParameter['orderBy'] = orderBy;\n            }\n            if (search !== undefined) {\n                localVarQueryParameter['search'] = search;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns metrics with instant query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByInstantQuery: (id, filters, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getMetricsByInstantQuery', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas/{id}/metrics/query`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (filters) {\n                localVarQueryParameter['filters'] = filters;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns metrics with timeseries range query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {number} duration The length of time in minutes for which to return the metrics\n         * @param {number} interval The interval in seconds between data points\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByRangeQuery: (id, duration, interval, filters, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getMetricsByRangeQuery', 'id', id);\n            // verify required parameter 'duration' is not null or undefined\n            common_1.assertParamExists('getMetricsByRangeQuery', 'duration', duration);\n            // verify required parameter 'interval' is not null or undefined\n            common_1.assertParamExists('getMetricsByRangeQuery', 'interval', interval);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas/{id}/metrics/query_range`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (duration !== undefined) {\n                localVarQueryParameter['duration'] = duration;\n            }\n            if (interval !== undefined) {\n                localVarQueryParameter['interval'] = interval;\n            }\n            if (filters) {\n                localVarQueryParameter['filters'] = filters;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns the status of resources, such as whether maximum service capacity has been reached\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceStatus: (options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1/status`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns the version metadata\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getVersionMetadata: (options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.DefaultApiAxiosParamCreator = DefaultApiAxiosParamCreator;\n/**\n * DefaultApi - functional programming interface\n * @export\n */\nconst DefaultApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.DefaultApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Creates a Kafka request\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {KafkaRequestPayload} kafkaRequestPayload Kafka data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createKafka(async, kafkaRequestPayload, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.createKafka(async, kafkaRequestPayload, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Deletes a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteKafkaById(id, async, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteKafkaById(id, async, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns the list of supported regions of the supported cloud provider\n         * @param {string} id The ID of record\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviderRegions(id, page, size, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getCloudProviderRegions(id, page, size, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns the list of supported cloud providers\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviders(page, size, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getCloudProviders(page, size, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkaById(id, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getKafkaById(id, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of Kafka requests\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [orderBy] Specifies the order by criteria. The syntax of this parameter is similar to the syntax of the &#x60;order by&#x60; clause of an SQL statement. Each query can be ordered by any of the &#x60;kafkaRequests&#x60; fields. For example, to return all Kafka instances ordered by their name, use the following syntax:  &#x60;&#x60;&#x60;sql name asc &#x60;&#x60;&#x60;  To return all Kafka instances ordered by their name _and_ created date, use the following syntax:  &#x60;&#x60;&#x60;sql name asc, created_at asc &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then the results are ordered by name.\n         * @param {string} [search] Search criteria.  The syntax of this parameter is similar to the syntax of the &#x60;where&#x60; clause of an SQL statement. Allowed fields in the search are &#x60;cloud_provider&#x60;, &#x60;name&#x60;, &#x60;owner&#x60;, &#x60;region&#x60;, and &#x60;status&#x60;. Allowed comparators are &#x60;&lt;&gt;&#x60;, &#x60;&#x3D;&#x60;, or &#x60;LIKE&#x60;. Allowed joins are &#x60;AND&#x60; and &#x60;OR&#x60;. However, you can use a maximum of 10 joins in a search query.  Examples:  To return a Kafka instance with the name &#x60;my-kafka&#x60; and the region &#x60;aws&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name &#x3D; my-kafka and cloud_provider &#x3D; aws &#x60;&#x60;&#x60;[p-]  To return a Kafka instance with a name that starts with &#x60;my&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name like my%25 &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then all the Kafka instances that the user has permission to see are returned.  Note. If the query is invalid, an error is returned.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkas(page, size, orderBy, search, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getKafkas(page, size, orderBy, search, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns metrics with instant query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByInstantQuery(id, filters, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getMetricsByInstantQuery(id, filters, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns metrics with timeseries range query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {number} duration The length of time in minutes for which to return the metrics\n         * @param {number} interval The interval in seconds between data points\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByRangeQuery(id, duration, interval, filters, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getMetricsByRangeQuery(id, duration, interval, filters, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns the status of resources, such as whether maximum service capacity has been reached\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceStatus(options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getServiceStatus(options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns the version metadata\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getVersionMetadata(options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getVersionMetadata(options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.DefaultApiFp = DefaultApiFp;\n/**\n * DefaultApi - factory interface\n * @export\n */\nconst DefaultApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.DefaultApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Creates a Kafka request\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {KafkaRequestPayload} kafkaRequestPayload Kafka data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createKafka(async, kafkaRequestPayload, options) {\n            return localVarFp.createKafka(async, kafkaRequestPayload, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Deletes a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteKafkaById(id, async, options) {\n            return localVarFp.deleteKafkaById(id, async, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns the list of supported regions of the supported cloud provider\n         * @param {string} id The ID of record\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviderRegions(id, page, size, options) {\n            return localVarFp.getCloudProviderRegions(id, page, size, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns the list of supported cloud providers\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviders(page, size, options) {\n            return localVarFp.getCloudProviders(page, size, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkaById(id, options) {\n            return localVarFp.getKafkaById(id, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of Kafka requests\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [orderBy] Specifies the order by criteria. The syntax of this parameter is similar to the syntax of the &#x60;order by&#x60; clause of an SQL statement. Each query can be ordered by any of the &#x60;kafkaRequests&#x60; fields. For example, to return all Kafka instances ordered by their name, use the following syntax:  &#x60;&#x60;&#x60;sql name asc &#x60;&#x60;&#x60;  To return all Kafka instances ordered by their name _and_ created date, use the following syntax:  &#x60;&#x60;&#x60;sql name asc, created_at asc &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then the results are ordered by name.\n         * @param {string} [search] Search criteria.  The syntax of this parameter is similar to the syntax of the &#x60;where&#x60; clause of an SQL statement. Allowed fields in the search are &#x60;cloud_provider&#x60;, &#x60;name&#x60;, &#x60;owner&#x60;, &#x60;region&#x60;, and &#x60;status&#x60;. Allowed comparators are &#x60;&lt;&gt;&#x60;, &#x60;&#x3D;&#x60;, or &#x60;LIKE&#x60;. Allowed joins are &#x60;AND&#x60; and &#x60;OR&#x60;. However, you can use a maximum of 10 joins in a search query.  Examples:  To return a Kafka instance with the name &#x60;my-kafka&#x60; and the region &#x60;aws&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name &#x3D; my-kafka and cloud_provider &#x3D; aws &#x60;&#x60;&#x60;[p-]  To return a Kafka instance with a name that starts with &#x60;my&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name like my%25 &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then all the Kafka instances that the user has permission to see are returned.  Note. If the query is invalid, an error is returned.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkas(page, size, orderBy, search, options) {\n            return localVarFp.getKafkas(page, size, orderBy, search, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns metrics with instant query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByInstantQuery(id, filters, options) {\n            return localVarFp.getMetricsByInstantQuery(id, filters, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns metrics with timeseries range query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {number} duration The length of time in minutes for which to return the metrics\n         * @param {number} interval The interval in seconds between data points\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByRangeQuery(id, duration, interval, filters, options) {\n            return localVarFp.getMetricsByRangeQuery(id, duration, interval, filters, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns the status of resources, such as whether maximum service capacity has been reached\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceStatus(options) {\n            return localVarFp.getServiceStatus(options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns the version metadata\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getVersionMetadata(options) {\n            return localVarFp.getVersionMetadata(options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.DefaultApiFactory = DefaultApiFactory;\n/**\n * DefaultApi - object-oriented interface\n * @export\n * @class DefaultApi\n * @extends {BaseAPI}\n */\nclass DefaultApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Creates a Kafka request\n     * @param {boolean} async Perform the action in an asynchronous manner\n     * @param {KafkaRequestPayload} kafkaRequestPayload Kafka data\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    createKafka(async, kafkaRequestPayload, options) {\n        return exports.DefaultApiFp(this.configuration).createKafka(async, kafkaRequestPayload, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Deletes a Kafka request by ID\n     * @param {string} id The ID of record\n     * @param {boolean} async Perform the action in an asynchronous manner\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    deleteKafkaById(id, async, options) {\n        return exports.DefaultApiFp(this.configuration).deleteKafkaById(id, async, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns the list of supported regions of the supported cloud provider\n     * @param {string} id The ID of record\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getCloudProviderRegions(id, page, size, options) {\n        return exports.DefaultApiFp(this.configuration).getCloudProviderRegions(id, page, size, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns the list of supported cloud providers\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getCloudProviders(page, size, options) {\n        return exports.DefaultApiFp(this.configuration).getCloudProviders(page, size, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a Kafka request by ID\n     * @param {string} id The ID of record\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getKafkaById(id, options) {\n        return exports.DefaultApiFp(this.configuration).getKafkaById(id, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of Kafka requests\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {string} [orderBy] Specifies the order by criteria. The syntax of this parameter is similar to the syntax of the &#x60;order by&#x60; clause of an SQL statement. Each query can be ordered by any of the &#x60;kafkaRequests&#x60; fields. For example, to return all Kafka instances ordered by their name, use the following syntax:  &#x60;&#x60;&#x60;sql name asc &#x60;&#x60;&#x60;  To return all Kafka instances ordered by their name _and_ created date, use the following syntax:  &#x60;&#x60;&#x60;sql name asc, created_at asc &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then the results are ordered by name.\n     * @param {string} [search] Search criteria.  The syntax of this parameter is similar to the syntax of the &#x60;where&#x60; clause of an SQL statement. Allowed fields in the search are &#x60;cloud_provider&#x60;, &#x60;name&#x60;, &#x60;owner&#x60;, &#x60;region&#x60;, and &#x60;status&#x60;. Allowed comparators are &#x60;&lt;&gt;&#x60;, &#x60;&#x3D;&#x60;, or &#x60;LIKE&#x60;. Allowed joins are &#x60;AND&#x60; and &#x60;OR&#x60;. However, you can use a maximum of 10 joins in a search query.  Examples:  To return a Kafka instance with the name &#x60;my-kafka&#x60; and the region &#x60;aws&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name &#x3D; my-kafka and cloud_provider &#x3D; aws &#x60;&#x60;&#x60;[p-]  To return a Kafka instance with a name that starts with &#x60;my&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name like my%25 &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then all the Kafka instances that the user has permission to see are returned.  Note. If the query is invalid, an error is returned.\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getKafkas(page, size, orderBy, search, options) {\n        return exports.DefaultApiFp(this.configuration).getKafkas(page, size, orderBy, search, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns metrics with instant query by Kafka ID\n     * @param {string} id The ID of record\n     * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getMetricsByInstantQuery(id, filters, options) {\n        return exports.DefaultApiFp(this.configuration).getMetricsByInstantQuery(id, filters, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns metrics with timeseries range query by Kafka ID\n     * @param {string} id The ID of record\n     * @param {number} duration The length of time in minutes for which to return the metrics\n     * @param {number} interval The interval in seconds between data points\n     * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getMetricsByRangeQuery(id, duration, interval, filters, options) {\n        return exports.DefaultApiFp(this.configuration).getMetricsByRangeQuery(id, duration, interval, filters, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns the status of resources, such as whether maximum service capacity has been reached\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getServiceStatus(options) {\n        return exports.DefaultApiFp(this.configuration).getServiceStatus(options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns the version metadata\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getVersionMetadata(options) {\n        return exports.DefaultApiFp(this.configuration).getVersionMetadata(options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.DefaultApi = DefaultApi;\n/**\n * SecurityApi - axios parameter creator\n * @export\n */\nconst SecurityApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Creates a service account\n         * @param {ServiceAccountRequest} serviceAccountRequest Service account request\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createServiceAccount: (serviceAccountRequest, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'serviceAccountRequest' is not null or undefined\n            common_1.assertParamExists('createServiceAccount', 'serviceAccountRequest', serviceAccountRequest);\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            localVarHeaderParameter['Content-Type'] = 'application/json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(serviceAccountRequest, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Deletes a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteServiceAccountById: (id, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('deleteServiceAccountById', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts/{id}`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'DELETE' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returned service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccountById: (id, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getServiceAccountById', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts/{id}`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of service accounts\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccounts: (options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Resets the credentials for a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        resetServiceAccountCreds: (id, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('resetServiceAccountCreds', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts/{id}/reset_credentials`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.SecurityApiAxiosParamCreator = SecurityApiAxiosParamCreator;\n/**\n * SecurityApi - functional programming interface\n * @export\n */\nconst SecurityApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.SecurityApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Creates a service account\n         * @param {ServiceAccountRequest} serviceAccountRequest Service account request\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createServiceAccount(serviceAccountRequest, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.createServiceAccount(serviceAccountRequest, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Deletes a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteServiceAccountById(id, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteServiceAccountById(id, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returned service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccountById(id, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getServiceAccountById(id, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of service accounts\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccounts(options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getServiceAccounts(options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Resets the credentials for a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        resetServiceAccountCreds(id, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.resetServiceAccountCreds(id, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.SecurityApiFp = SecurityApiFp;\n/**\n * SecurityApi - factory interface\n * @export\n */\nconst SecurityApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.SecurityApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Creates a service account\n         * @param {ServiceAccountRequest} serviceAccountRequest Service account request\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createServiceAccount(serviceAccountRequest, options) {\n            return localVarFp.createServiceAccount(serviceAccountRequest, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Deletes a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteServiceAccountById(id, options) {\n            return localVarFp.deleteServiceAccountById(id, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returned service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccountById(id, options) {\n            return localVarFp.getServiceAccountById(id, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of service accounts\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccounts(options) {\n            return localVarFp.getServiceAccounts(options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Resets the credentials for a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        resetServiceAccountCreds(id, options) {\n            return localVarFp.resetServiceAccountCreds(id, options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.SecurityApiFactory = SecurityApiFactory;\n/**\n * SecurityApi - object-oriented interface\n * @export\n * @class SecurityApi\n * @extends {BaseAPI}\n */\nclass SecurityApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Creates a service account\n     * @param {ServiceAccountRequest} serviceAccountRequest Service account request\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    createServiceAccount(serviceAccountRequest, options) {\n        return exports.SecurityApiFp(this.configuration).createServiceAccount(serviceAccountRequest, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Deletes a service account by ID\n     * @param {string} id The ID of record\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    deleteServiceAccountById(id, options) {\n        return exports.SecurityApiFp(this.configuration).deleteServiceAccountById(id, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returned service account by ID\n     * @param {string} id The ID of record\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    getServiceAccountById(id, options) {\n        return exports.SecurityApiFp(this.configuration).getServiceAccountById(id, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of service accounts\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    getServiceAccounts(options) {\n        return exports.SecurityApiFp(this.configuration).getServiceAccounts(options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Resets the credentials for a service account by ID\n     * @param {string} id The ID of record\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    resetServiceAccountCreds(id, options) {\n        return exports.SecurityApiFp(this.configuration).resetServiceAccountCreds(id, options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.SecurityApi = SecurityApi;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx1QkFBdUI7QUFDdEMsZUFBZSxHQUFHO0FBQ2xCLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsR0FBRztBQUNsQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLEdBQUc7QUFDbEIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEdBQUc7QUFDbEIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxHQUFHO0FBQ2xCLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2FwaS5qcz9iMjc0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIENvbm5lY3RvciBTZXJ2aWNlIEZsZWV0IE1hbmFnZXJcbiAqIENvbm5lY3RvciBTZXJ2aWNlIEZsZWV0IE1hbmFnZXIgaXMgYSBSZXN0IEFQSSB0byBtYW5hZ2UgY29ubmVjdG9ycy5cbiAqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgT3BlbkFQSSBkb2N1bWVudDogMC4wLjNcbiAqXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSBPcGVuQVBJIEdlbmVyYXRvciAoaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoKS5cbiAqIGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2VjdXJpdHlBcGkgPSBleHBvcnRzLlNlY3VyaXR5QXBpRmFjdG9yeSA9IGV4cG9ydHMuU2VjdXJpdHlBcGlGcCA9IGV4cG9ydHMuU2VjdXJpdHlBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IGV4cG9ydHMuRGVmYXVsdEFwaSA9IGV4cG9ydHMuRGVmYXVsdEFwaUZhY3RvcnkgPSBleHBvcnRzLkRlZmF1bHRBcGlGcCA9IGV4cG9ydHMuRGVmYXVsdEFwaUF4aW9zUGFyYW1DcmVhdG9yID0gZXhwb3J0cy5Db25uZWN0b3JzQXBpID0gZXhwb3J0cy5Db25uZWN0b3JzQXBpRmFjdG9yeSA9IGV4cG9ydHMuQ29ubmVjdG9yc0FwaUZwID0gZXhwb3J0cy5Db25uZWN0b3JzQXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBleHBvcnRzLkNvbm5lY3RvclR5cGVzQXBpID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUZhY3RvcnkgPSBleHBvcnRzLkNvbm5lY3RvclR5cGVzQXBpRnAgPSBleHBvcnRzLkNvbm5lY3RvclR5cGVzQXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBleHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpID0gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaUZhY3RvcnkgPSBleHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpRnAgPSBleHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBleHBvcnRzLkNvbm5lY3RvclR5cGVBbGxPZkxhYmVsc0VudW0gPSBleHBvcnRzLkNvbm5lY3RvclR5cGVMYWJlbHNFbnVtID0gdm9pZCAwO1xuY29uc3QgYXhpb3NfMSA9IHJlcXVpcmUoXCJheGlvc1wiKTtcbi8vIFNvbWUgaW1wb3J0cyBub3QgdXNlZCBkZXBlbmRpbmcgb24gdGVtcGxhdGUgY29uZGl0aW9uc1xuLy8gQHRzLWlnbm9yZVxuY29uc3QgY29tbW9uXzEgPSByZXF1aXJlKFwiLi9jb21tb25cIik7XG4vLyBAdHMtaWdub3JlXG5jb25zdCBiYXNlXzEgPSByZXF1aXJlKFwiLi9iYXNlXCIpO1xuLyoqXG4gICAgKiBAZXhwb3J0XG4gICAgKiBAZW51bSB7c3RyaW5nfVxuICAgICovXG52YXIgQ29ubmVjdG9yVHlwZUxhYmVsc0VudW07XG4oZnVuY3Rpb24gKENvbm5lY3RvclR5cGVMYWJlbHNFbnVtKSB7XG4gICAgQ29ubmVjdG9yVHlwZUxhYmVsc0VudW1bXCJTaW5rXCJdID0gXCJzaW5rXCI7XG4gICAgQ29ubmVjdG9yVHlwZUxhYmVsc0VudW1bXCJTb3VyY2VcIl0gPSBcInNvdXJjZVwiO1xufSkoQ29ubmVjdG9yVHlwZUxhYmVsc0VudW0gPSBleHBvcnRzLkNvbm5lY3RvclR5cGVMYWJlbHNFbnVtIHx8IChleHBvcnRzLkNvbm5lY3RvclR5cGVMYWJlbHNFbnVtID0ge30pKTtcbi8qKlxuICAgICogQGV4cG9ydFxuICAgICogQGVudW0ge3N0cmluZ31cbiAgICAqL1xudmFyIENvbm5lY3RvclR5cGVBbGxPZkxhYmVsc0VudW07XG4oZnVuY3Rpb24gKENvbm5lY3RvclR5cGVBbGxPZkxhYmVsc0VudW0pIHtcbiAgICBDb25uZWN0b3JUeXBlQWxsT2ZMYWJlbHNFbnVtW1wiU2lua1wiXSA9IFwic2lua1wiO1xuICAgIENvbm5lY3RvclR5cGVBbGxPZkxhYmVsc0VudW1bXCJTb3VyY2VcIl0gPSBcInNvdXJjZVwiO1xufSkoQ29ubmVjdG9yVHlwZUFsbE9mTGFiZWxzRW51bSA9IGV4cG9ydHMuQ29ubmVjdG9yVHlwZUFsbE9mTGFiZWxzRW51bSB8fCAoZXhwb3J0cy5Db25uZWN0b3JUeXBlQWxsT2ZMYWJlbHNFbnVtID0ge30pKTtcbi8qKlxuICogQ29ubmVjdG9yQ2x1c3RlcnNBcGkgLSBheGlvcyBwYXJhbWV0ZXIgY3JlYXRvclxuICogQGV4cG9ydFxuICovXG5jb25zdCBDb25uZWN0b3JDbHVzdGVyc0FwaUF4aW9zUGFyYW1DcmVhdG9yID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlIGEgbmV3IGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXN5bmMgUGVyZm9ybSB0aGUgYWN0aW9uIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXJcbiAgICAgICAgICogQHBhcmFtIHtDb25uZWN0b3JDbHVzdGVyfSBjb25uZWN0b3JDbHVzdGVyIENvbm5lY3RvciBjbHVzdGVyIGRhdGFcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUNvbm5lY3RvckNsdXN0ZXI6IChhc3luYywgY29ubmVjdG9yQ2x1c3Rlciwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdhc3luYycgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnY3JlYXRlQ29ubmVjdG9yQ2x1c3RlcicsICdhc3luYycsIGFzeW5jKTtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2Nvbm5lY3RvckNsdXN0ZXInIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZUNvbm5lY3RvckNsdXN0ZXInLCAnY29ubmVjdG9yQ2x1c3RlcicsIGNvbm5lY3RvckNsdXN0ZXIpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yX2NsdXN0ZXJzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnUE9TVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKGFzeW5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydhc3luYyddID0gYXN5bmM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2NhbFZhckhlYWRlclBhcmFtZXRlclsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmRhdGEgPSBjb21tb25fMS5zZXJpYWxpemVEYXRhSWZOZWVkZWQoY29ubmVjdG9yQ2x1c3RlciwgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucywgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBEZWxldGUgYSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yQ2x1c3RlcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUNvbm5lY3RvckNsdXN0ZXI6IChjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY29ubmVjdG9yQ2x1c3RlcklkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdkZWxldGVDb25uZWN0b3JDbHVzdGVyJywgJ2Nvbm5lY3RvckNsdXN0ZXJJZCcsIGNvbm5lY3RvckNsdXN0ZXJJZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9jb25uZWN0b3JfbWdtdC92MS9rYWZrYV9jb25uZWN0b3JfY2x1c3RlcnMve2Nvbm5lY3Rvcl9jbHVzdGVyX2lkfWBcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJjb25uZWN0b3JfY2x1c3Rlcl9pZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGNvbm5lY3RvckNsdXN0ZXJJZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnREVMRVRFJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yQ2x1c3RlcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3RvckNsdXN0ZXI6IChjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY29ubmVjdG9yQ2x1c3RlcklkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdnZXRDb25uZWN0b3JDbHVzdGVyJywgJ2Nvbm5lY3RvckNsdXN0ZXJJZCcsIGNvbm5lY3RvckNsdXN0ZXJJZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9jb25uZWN0b3JfbWdtdC92MS9rYWZrYV9jb25uZWN0b3JfY2x1c3RlcnMve2Nvbm5lY3Rvcl9jbHVzdGVyX2lkfWBcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJjb25uZWN0b3JfY2x1c3Rlcl9pZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGNvbm5lY3RvckNsdXN0ZXJJZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3IgY2x1c3RlclxcJ3MgYWRkb24gcGFyYW1ldGVyc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yQ2x1c3RlcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3RvckNsdXN0ZXJBZGRvblBhcmFtZXRlcnM6IChjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY29ubmVjdG9yQ2x1c3RlcklkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdnZXRDb25uZWN0b3JDbHVzdGVyQWRkb25QYXJhbWV0ZXJzJywgJ2Nvbm5lY3RvckNsdXN0ZXJJZCcsIGNvbm5lY3RvckNsdXN0ZXJJZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9jb25uZWN0b3JfbWdtdC92MS9rYWZrYV9jb25uZWN0b3JfY2x1c3RlcnMve2Nvbm5lY3Rvcl9jbHVzdGVyX2lkfS9hZGRvbl9wYXJhbWV0ZXJzYFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImNvbm5lY3Rvcl9jbHVzdGVyX2lkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoY29ubmVjdG9yQ2x1c3RlcklkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIGNvbm5lY3RvciBjbHVzdGVyc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0Q29ubmVjdG9yQ2x1c3RlcnM6IChwYWdlLCBzaXplLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2Nvbm5lY3Rvcl9tZ210L3YxL2thZmthX2Nvbm5lY3Rvcl9jbHVzdGVyc2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKHBhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ3BhZ2UnXSA9IHBhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnc2l6ZSddID0gc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICB9O1xufTtcbmV4cG9ydHMuQ29ubmVjdG9yQ2x1c3RlcnNBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IENvbm5lY3RvckNsdXN0ZXJzQXBpQXhpb3NQYXJhbUNyZWF0b3I7XG4vKipcbiAqIENvbm5lY3RvckNsdXN0ZXJzQXBpIC0gZnVuY3Rpb25hbCBwcm9ncmFtbWluZyBpbnRlcmZhY2VcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgQ29ubmVjdG9yQ2x1c3RlcnNBcGlGcCA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgY29uc3QgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvciA9IGV4cG9ydHMuQ29ubmVjdG9yQ2x1c3RlcnNBcGlBeGlvc1BhcmFtQ3JlYXRvcihjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlIGEgbmV3IGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXN5bmMgUGVyZm9ybSB0aGUgYWN0aW9uIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXJcbiAgICAgICAgICogQHBhcmFtIHtDb25uZWN0b3JDbHVzdGVyfSBjb25uZWN0b3JDbHVzdGVyIENvbm5lY3RvciBjbHVzdGVyIGRhdGFcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUNvbm5lY3RvckNsdXN0ZXIoYXN5bmMsIGNvbm5lY3RvckNsdXN0ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmNyZWF0ZUNvbm5lY3RvckNsdXN0ZXIoYXN5bmMsIGNvbm5lY3RvckNsdXN0ZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JDbHVzdGVySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlQ29ubmVjdG9yQ2x1c3Rlcihjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmRlbGV0ZUNvbm5lY3RvckNsdXN0ZXIoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yQ2x1c3RlcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3RvckNsdXN0ZXIoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5nZXRDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIGNsdXN0ZXJcXCdzIGFkZG9uIHBhcmFtZXRlcnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb25uZWN0b3JDbHVzdGVyQWRkb25QYXJhbWV0ZXJzKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0Q29ubmVjdG9yQ2x1c3RlckFkZG9uUGFyYW1ldGVycyhjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIGNvbm5lY3RvciBjbHVzdGVyc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0Q29ubmVjdG9yQ2x1c3RlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IubGlzdENvbm5lY3RvckNsdXN0ZXJzKHBhZ2UsIHNpemUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbmV4cG9ydHMuQ29ubmVjdG9yQ2x1c3RlcnNBcGlGcCA9IENvbm5lY3RvckNsdXN0ZXJzQXBpRnA7XG4vKipcbiAqIENvbm5lY3RvckNsdXN0ZXJzQXBpIC0gZmFjdG9yeSBpbnRlcmZhY2VcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgQ29ubmVjdG9yQ2x1c3RlcnNBcGlGYWN0b3J5ID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24sIGJhc2VQYXRoLCBheGlvcykge1xuICAgIGNvbnN0IGxvY2FsVmFyRnAgPSBleHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpRnAoY29uZmlndXJhdGlvbik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7Q29ubmVjdG9yQ2x1c3Rlcn0gY29ubmVjdG9yQ2x1c3RlciBDb25uZWN0b3IgY2x1c3RlciBkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDb25uZWN0b3JDbHVzdGVyKGFzeW5jLCBjb25uZWN0b3JDbHVzdGVyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5jcmVhdGVDb25uZWN0b3JDbHVzdGVyKGFzeW5jLCBjb25uZWN0b3JDbHVzdGVyLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgRGVsZXRlIGEgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZGVsZXRlQ29ubmVjdG9yQ2x1c3Rlcihjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yQ2x1c3RlcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3RvckNsdXN0ZXIoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5nZXRDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvciBjbHVzdGVyXFwncyBhZGRvbiBwYXJhbWV0ZXJzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JDbHVzdGVySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29ubmVjdG9yQ2x1c3RlckFkZG9uUGFyYW1ldGVycyhjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmdldENvbm5lY3RvckNsdXN0ZXJBZGRvblBhcmFtZXRlcnMoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgY29ubmVjdG9yIGNsdXN0ZXJzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RDb25uZWN0b3JDbHVzdGVycyhwYWdlLCBzaXplLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5saXN0Q29ubmVjdG9yQ2x1c3RlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbmV4cG9ydHMuQ29ubmVjdG9yQ2x1c3RlcnNBcGlGYWN0b3J5ID0gQ29ubmVjdG9yQ2x1c3RlcnNBcGlGYWN0b3J5O1xuLyoqXG4gKiBDb25uZWN0b3JDbHVzdGVyc0FwaSAtIG9iamVjdC1vcmllbnRlZCBpbnRlcmZhY2VcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBDb25uZWN0b3JDbHVzdGVyc0FwaVxuICogQGV4dGVuZHMge0Jhc2VBUEl9XG4gKi9cbmNsYXNzIENvbm5lY3RvckNsdXN0ZXJzQXBpIGV4dGVuZHMgYmFzZV8xLkJhc2VBUEkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgQ3JlYXRlIGEgbmV3IGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAqIEBwYXJhbSB7Q29ubmVjdG9yQ2x1c3Rlcn0gY29ubmVjdG9yQ2x1c3RlciBDb25uZWN0b3IgY2x1c3RlciBkYXRhXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBDb25uZWN0b3JDbHVzdGVyc0FwaVxuICAgICAqL1xuICAgIGNyZWF0ZUNvbm5lY3RvckNsdXN0ZXIoYXN5bmMsIGNvbm5lY3RvckNsdXN0ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuQ29ubmVjdG9yQ2x1c3RlcnNBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmNyZWF0ZUNvbm5lY3RvckNsdXN0ZXIoYXN5bmMsIGNvbm5lY3RvckNsdXN0ZXIsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBDb25uZWN0b3JDbHVzdGVyc0FwaVxuICAgICAqL1xuICAgIGRlbGV0ZUNvbm5lY3RvckNsdXN0ZXIoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5kZWxldGVDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yQ2x1c3RlcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIENvbm5lY3RvckNsdXN0ZXJzQXBpXG4gICAgICovXG4gICAgZ2V0Q29ubmVjdG9yQ2x1c3Rlcihjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuQ29ubmVjdG9yQ2x1c3RlcnNBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmdldENvbm5lY3RvckNsdXN0ZXIoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3IgY2x1c3RlclxcJ3MgYWRkb24gcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JDbHVzdGVySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yQ2x1c3RlcnNBcGlcbiAgICAgKi9cbiAgICBnZXRDb25uZWN0b3JDbHVzdGVyQWRkb25QYXJhbWV0ZXJzKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuZ2V0Q29ubmVjdG9yQ2x1c3RlckFkZG9uUGFyYW1ldGVycyhjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIGNvbm5lY3RvciBjbHVzdGVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yQ2x1c3RlcnNBcGlcbiAgICAgKi9cbiAgICBsaXN0Q29ubmVjdG9yQ2x1c3RlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaUZwKHRoaXMuY29uZmlndXJhdGlvbikubGlzdENvbm5lY3RvckNsdXN0ZXJzKHBhZ2UsIHNpemUsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29ubmVjdG9yQ2x1c3RlcnNBcGkgPSBDb25uZWN0b3JDbHVzdGVyc0FwaTtcbi8qKlxuICogQ29ubmVjdG9yVHlwZXNBcGkgLSBheGlvcyBwYXJhbWV0ZXIgY3JlYXRvclxuICogQGV4cG9ydFxuICovXG5jb25zdCBDb25uZWN0b3JUeXBlc0FwaUF4aW9zUGFyYW1DcmVhdG9yID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIHR5cGUgYnkgaWRcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvclR5cGVJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciB0eXBlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb25uZWN0b3JUeXBlQnlJRDogKGNvbm5lY3RvclR5cGVJZCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdjb25uZWN0b3JUeXBlSWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2dldENvbm5lY3RvclR5cGVCeUlEJywgJ2Nvbm5lY3RvclR5cGVJZCcsIGNvbm5lY3RvclR5cGVJZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9jb25uZWN0b3JfbWdtdC92MS9rYWZrYV9jb25uZWN0b3JfdHlwZXMve2Nvbm5lY3Rvcl90eXBlX2lkfWBcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJjb25uZWN0b3JfdHlwZV9pZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGNvbm5lY3RvclR5cGVJZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgdHlwZXNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENvbm5lY3RvclR5cGVzOiAocGFnZSwgc2l6ZSwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9jb25uZWN0b3JfbWdtdC92MS9rYWZrYV9jb25uZWN0b3JfdHlwZXNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChwYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydwYWdlJ10gPSBwYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ3NpemUnXSA9IHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvclR5cGVzQXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBDb25uZWN0b3JUeXBlc0FwaUF4aW9zUGFyYW1DcmVhdG9yO1xuLyoqXG4gKiBDb25uZWN0b3JUeXBlc0FwaSAtIGZ1bmN0aW9uYWwgcHJvZ3JhbW1pbmcgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvclR5cGVzQXBpRnAgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbikge1xuICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IgPSBleHBvcnRzLkNvbm5lY3RvclR5cGVzQXBpQXhpb3NQYXJhbUNyZWF0b3IoY29uZmlndXJhdGlvbik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvciB0eXBlIGJ5IGlkXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JUeXBlSWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgdHlwZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29ubmVjdG9yVHlwZUJ5SUQoY29ubmVjdG9yVHlwZUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5nZXRDb25uZWN0b3JUeXBlQnlJRChjb25uZWN0b3JUeXBlSWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIGNvbm5lY3RvciB0eXBlc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0Q29ubmVjdG9yVHlwZXMocGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IubGlzdENvbm5lY3RvclR5cGVzKHBhZ2UsIHNpemUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbmV4cG9ydHMuQ29ubmVjdG9yVHlwZXNBcGlGcCA9IENvbm5lY3RvclR5cGVzQXBpRnA7XG4vKipcbiAqIENvbm5lY3RvclR5cGVzQXBpIC0gZmFjdG9yeSBpbnRlcmZhY2VcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgQ29ubmVjdG9yVHlwZXNBcGlGYWN0b3J5ID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24sIGJhc2VQYXRoLCBheGlvcykge1xuICAgIGNvbnN0IGxvY2FsVmFyRnAgPSBleHBvcnRzLkNvbm5lY3RvclR5cGVzQXBpRnAoY29uZmlndXJhdGlvbik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvciB0eXBlIGJ5IGlkXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JUeXBlSWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgdHlwZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29ubmVjdG9yVHlwZUJ5SUQoY29ubmVjdG9yVHlwZUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5nZXRDb25uZWN0b3JUeXBlQnlJRChjb25uZWN0b3JUeXBlSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgdHlwZXNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENvbm5lY3RvclR5cGVzKHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmxpc3RDb25uZWN0b3JUeXBlcyhwYWdlLCBzaXplLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUZhY3RvcnkgPSBDb25uZWN0b3JUeXBlc0FwaUZhY3Rvcnk7XG4vKipcbiAqIENvbm5lY3RvclR5cGVzQXBpIC0gb2JqZWN0LW9yaWVudGVkIGludGVyZmFjZVxuICogQGV4cG9ydFxuICogQGNsYXNzIENvbm5lY3RvclR5cGVzQXBpXG4gKiBAZXh0ZW5kcyB7QmFzZUFQSX1cbiAqL1xuY2xhc3MgQ29ubmVjdG9yVHlwZXNBcGkgZXh0ZW5kcyBiYXNlXzEuQmFzZUFQSSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3IgdHlwZSBieSBpZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JUeXBlSWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgdHlwZVxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yVHlwZXNBcGlcbiAgICAgKi9cbiAgICBnZXRDb25uZWN0b3JUeXBlQnlJRChjb25uZWN0b3JUeXBlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuQ29ubmVjdG9yVHlwZXNBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmdldENvbm5lY3RvclR5cGVCeUlEKGNvbm5lY3RvclR5cGVJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgY29ubmVjdG9yIHR5cGVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBDb25uZWN0b3JUeXBlc0FwaVxuICAgICAqL1xuICAgIGxpc3RDb25uZWN0b3JUeXBlcyhwYWdlLCBzaXplLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkNvbm5lY3RvclR5cGVzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5saXN0Q29ubmVjdG9yVHlwZXMocGFnZSwgc2l6ZSwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxufVxuZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaSA9IENvbm5lY3RvclR5cGVzQXBpO1xuLyoqXG4gKiBDb25uZWN0b3JzQXBpIC0gYXhpb3MgcGFyYW1ldGVyIGNyZWF0b3JcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgQ29ubmVjdG9yc0FwaUF4aW9zUGFyYW1DcmVhdG9yID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlIGEgbmV3IGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7Q29ubmVjdG9yfSBjb25uZWN0b3IgQ29ubmVjdG9yIGRhdGFcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUNvbm5lY3RvcjogKGFzeW5jLCBjb25uZWN0b3IsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYXN5bmMnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZUNvbm5lY3RvcicsICdhc3luYycsIGFzeW5jKTtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2Nvbm5lY3RvcicgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnY3JlYXRlQ29ubmVjdG9yJywgJ2Nvbm5lY3RvcicsIGNvbm5lY3Rvcik7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9jb25uZWN0b3JfbWdtdC92MS9rYWZrYV9jb25uZWN0b3JzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnUE9TVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKGFzeW5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydhc3luYyddID0gYXN5bmM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2NhbFZhckhlYWRlclBhcmFtZXRlclsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmRhdGEgPSBjb21tb25fMS5zZXJpYWxpemVEYXRhSWZOZWVkZWQoY29ubmVjdG9yLCBsb2NhbFZhclJlcXVlc3RPcHRpb25zLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlQ29ubmVjdG9yOiAoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY29ubmVjdG9ySWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2RlbGV0ZUNvbm5lY3RvcicsICdjb25uZWN0b3JJZCcsIGNvbm5lY3RvcklkKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2Nvbm5lY3Rvcl9tZ210L3YxL2thZmthX2Nvbm5lY3RvcnMve2Nvbm5lY3Rvcl9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiY29ubmVjdG9yX2lkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoY29ubmVjdG9ySWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0RFTEVURScgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKGthZmthSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ2thZmthX2lkJ10gPSBrYWZrYUlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2thZmthSWRdIFRoZSBrYWZrYSBjbHVzdGVyIGlkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb25uZWN0b3I6IChjb25uZWN0b3JJZCwga2Fma2FJZCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdjb25uZWN0b3JJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0Q29ubmVjdG9yJywgJ2Nvbm5lY3RvcklkJywgY29ubmVjdG9ySWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9ycy97Y29ubmVjdG9yX2lkfWBcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJjb25uZWN0b3JfaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjb25uZWN0b3JJZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAoa2Fma2FJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsna2Fma2FfaWQnXSA9IGthZmthSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgdHlwZXNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2thZmthSWRdIFRoZSBrYWZrYSBjbHVzdGVyIGlkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0Q29ubmVjdG9yczogKHBhZ2UsIHNpemUsIGthZmthSWQsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yc2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKHBhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ3BhZ2UnXSA9IHBhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnc2l6ZSddID0gc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrYWZrYUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydrYWZrYV9pZCddID0ga2Fma2FJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IHBhdGNoIGEgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gYm9keSBEYXRhIHRvIHBhdGNoIHRoZSBjb25uZWN0b3Igd2l0aFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2thZmthSWRdIFRoZSBrYWZrYSBjbHVzdGVyIGlkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBwYXRjaENvbm5lY3RvcjogKGNvbm5lY3RvcklkLCBib2R5LCBrYWZrYUlkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2Nvbm5lY3RvcklkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdwYXRjaENvbm5lY3RvcicsICdjb25uZWN0b3JJZCcsIGNvbm5lY3RvcklkKTtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2JvZHknIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ3BhdGNoQ29ubmVjdG9yJywgJ2JvZHknLCBib2R5KTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2Nvbm5lY3Rvcl9tZ210L3YxL2thZmthX2Nvbm5lY3RvcnMve2Nvbm5lY3Rvcl9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiY29ubmVjdG9yX2lkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoY29ubmVjdG9ySWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ1BBVENIJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAoa2Fma2FJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsna2Fma2FfaWQnXSA9IGthZmthSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2NhbFZhckhlYWRlclBhcmFtZXRlclsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbi1wYXRjaCtqc29uJztcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuZGF0YSA9IGNvbW1vbl8xLnNlcmlhbGl6ZURhdGFJZk5lZWRlZChib2R5LCBsb2NhbFZhclJlcXVlc3RPcHRpb25zLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICB9O1xufTtcbmV4cG9ydHMuQ29ubmVjdG9yc0FwaUF4aW9zUGFyYW1DcmVhdG9yID0gQ29ubmVjdG9yc0FwaUF4aW9zUGFyYW1DcmVhdG9yO1xuLyoqXG4gKiBDb25uZWN0b3JzQXBpIC0gZnVuY3Rpb25hbCBwcm9ncmFtbWluZyBpbnRlcmZhY2VcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgQ29ubmVjdG9yc0FwaUZwID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24pIHtcbiAgICBjb25zdCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yID0gZXhwb3J0cy5Db25uZWN0b3JzQXBpQXhpb3NQYXJhbUNyZWF0b3IoY29uZmlndXJhdGlvbik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0ge0Nvbm5lY3Rvcn0gY29ubmVjdG9yIENvbm5lY3RvciBkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDb25uZWN0b3IoYXN5bmMsIGNvbm5lY3Rvciwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuY3JlYXRlQ29ubmVjdG9yKGFzeW5jLCBjb25uZWN0b3IsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5kZWxldGVDb25uZWN0b3IoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5nZXRDb25uZWN0b3IoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIGNvbm5lY3RvciB0eXBlc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RDb25uZWN0b3JzKHBhZ2UsIHNpemUsIGthZmthSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmxpc3RDb25uZWN0b3JzKHBhZ2UsIHNpemUsIGthZmthSWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IHBhdGNoIGEgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gYm9keSBEYXRhIHRvIHBhdGNoIHRoZSBjb25uZWN0b3Igd2l0aFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2thZmthSWRdIFRoZSBrYWZrYSBjbHVzdGVyIGlkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBwYXRjaENvbm5lY3Rvcihjb25uZWN0b3JJZCwgYm9keSwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IucGF0Y2hDb25uZWN0b3IoY29ubmVjdG9ySWQsIGJvZHksIGthZmthSWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbmV4cG9ydHMuQ29ubmVjdG9yc0FwaUZwID0gQ29ubmVjdG9yc0FwaUZwO1xuLyoqXG4gKiBDb25uZWN0b3JzQXBpIC0gZmFjdG9yeSBpbnRlcmZhY2VcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgQ29ubmVjdG9yc0FwaUZhY3RvcnkgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbiwgYmFzZVBhdGgsIGF4aW9zKSB7XG4gICAgY29uc3QgbG9jYWxWYXJGcCA9IGV4cG9ydHMuQ29ubmVjdG9yc0FwaUZwKGNvbmZpZ3VyYXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGUgYSBuZXcgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXN5bmMgUGVyZm9ybSB0aGUgYWN0aW9uIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXJcbiAgICAgICAgICogQHBhcmFtIHtDb25uZWN0b3J9IGNvbm5lY3RvciBDb25uZWN0b3IgZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlQ29ubmVjdG9yKGFzeW5jLCBjb25uZWN0b3IsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmNyZWF0ZUNvbm5lY3Rvcihhc3luYywgY29ubmVjdG9yLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgRGVsZXRlIGEgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2thZmthSWRdIFRoZSBrYWZrYSBjbHVzdGVyIGlkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVDb25uZWN0b3IoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmRlbGV0ZUNvbm5lY3Rvcihjb25uZWN0b3JJZCwga2Fma2FJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5nZXRDb25uZWN0b3IoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgdHlwZXNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2thZmthSWRdIFRoZSBrYWZrYSBjbHVzdGVyIGlkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0Q29ubmVjdG9ycyhwYWdlLCBzaXplLCBrYWZrYUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5saXN0Q29ubmVjdG9ycyhwYWdlLCBzaXplLCBrYWZrYUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgcGF0Y2ggYSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBib2R5IERhdGEgdG8gcGF0Y2ggdGhlIGNvbm5lY3RvciB3aXRoXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIHBhdGNoQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBib2R5LCBrYWZrYUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5wYXRjaENvbm5lY3Rvcihjb25uZWN0b3JJZCwgYm9keSwga2Fma2FJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbmV4cG9ydHMuQ29ubmVjdG9yc0FwaUZhY3RvcnkgPSBDb25uZWN0b3JzQXBpRmFjdG9yeTtcbi8qKlxuICogQ29ubmVjdG9yc0FwaSAtIG9iamVjdC1vcmllbnRlZCBpbnRlcmZhY2VcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBDb25uZWN0b3JzQXBpXG4gKiBAZXh0ZW5kcyB7QmFzZUFQSX1cbiAqL1xuY2xhc3MgQ29ubmVjdG9yc0FwaSBleHRlbmRzIGJhc2VfMS5CYXNlQVBJIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBjb25uZWN0b3JcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICogQHBhcmFtIHtDb25uZWN0b3J9IGNvbm5lY3RvciBDb25uZWN0b3IgZGF0YVxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yc0FwaVxuICAgICAqL1xuICAgIGNyZWF0ZUNvbm5lY3Rvcihhc3luYywgY29ubmVjdG9yLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkNvbm5lY3RvcnNBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmNyZWF0ZUNvbm5lY3Rvcihhc3luYywgY29ubmVjdG9yLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBEZWxldGUgYSBjb25uZWN0b3JcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2thZmthSWRdIFRoZSBrYWZrYSBjbHVzdGVyIGlkXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBDb25uZWN0b3JzQXBpXG4gICAgICovXG4gICAgZGVsZXRlQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkNvbm5lY3RvcnNBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmRlbGV0ZUNvbm5lY3Rvcihjb25uZWN0b3JJZCwga2Fma2FJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yc0FwaVxuICAgICAqL1xuICAgIGdldENvbm5lY3Rvcihjb25uZWN0b3JJZCwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRDb25uZWN0b3IoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIGNvbm5lY3RvciB0eXBlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIENvbm5lY3RvcnNBcGlcbiAgICAgKi9cbiAgICBsaXN0Q29ubmVjdG9ycyhwYWdlLCBzaXplLCBrYWZrYUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkNvbm5lY3RvcnNBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmxpc3RDb25uZWN0b3JzKHBhZ2UsIHNpemUsIGthZmthSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IHBhdGNoIGEgY29ubmVjdG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGJvZHkgRGF0YSB0byBwYXRjaCB0aGUgY29ubmVjdG9yIHdpdGhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2thZmthSWRdIFRoZSBrYWZrYSBjbHVzdGVyIGlkXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBDb25uZWN0b3JzQXBpXG4gICAgICovXG4gICAgcGF0Y2hDb25uZWN0b3IoY29ubmVjdG9ySWQsIGJvZHksIGthZmthSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuQ29ubmVjdG9yc0FwaUZwKHRoaXMuY29uZmlndXJhdGlvbikucGF0Y2hDb25uZWN0b3IoY29ubmVjdG9ySWQsIGJvZHksIGthZmthSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29ubmVjdG9yc0FwaSA9IENvbm5lY3RvcnNBcGk7XG4vKipcbiAqIERlZmF1bHRBcGkgLSBheGlvcyBwYXJhbWV0ZXIgY3JlYXRvclxuICogQGV4cG9ydFxuICovXG5jb25zdCBEZWZhdWx0QXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGVzIGEgS2Fma2EgcmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7S2Fma2FSZXF1ZXN0UGF5bG9hZH0ga2Fma2FSZXF1ZXN0UGF5bG9hZCBLYWZrYSBkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVLYWZrYTogKGFzeW5jLCBrYWZrYVJlcXVlc3RQYXlsb2FkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2FzeW5jJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdjcmVhdGVLYWZrYScsICdhc3luYycsIGFzeW5jKTtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2thZmthUmVxdWVzdFBheWxvYWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZUthZmthJywgJ2thZmthUmVxdWVzdFBheWxvYWQnLCBrYWZrYVJlcXVlc3RQYXlsb2FkKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL2thZmthc2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ1BPU1QnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChhc3luYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnYXN5bmMnXSA9IGFzeW5jO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5kYXRhID0gY29tbW9uXzEuc2VyaWFsaXplRGF0YUlmTmVlZGVkKGthZmthUmVxdWVzdFBheWxvYWQsIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgRGVsZXRlcyBhIEthZmthIHJlcXVlc3QgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlS2Fma2FCeUlkOiAoaWQsIGFzeW5jLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2lkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdkZWxldGVLYWZrYUJ5SWQnLCAnaWQnLCBpZCk7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdhc3luYycgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZGVsZXRlS2Fma2FCeUlkJywgJ2FzeW5jJywgYXN5bmMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjEva2Fma2FzL3tpZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhpZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnREVMRVRFJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAoYXN5bmMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ2FzeW5jJ10gPSBhc3luYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIHJlZ2lvbnMgb2YgdGhlIHN1cHBvcnRlZCBjbG91ZCBwcm92aWRlclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDbG91ZFByb3ZpZGVyUmVnaW9uczogKGlkLCBwYWdlLCBzaXplLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2lkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdnZXRDbG91ZFByb3ZpZGVyUmVnaW9ucycsICdpZCcsIGlkKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL2Nsb3VkX3Byb3ZpZGVycy97aWR9L3JlZ2lvbnNgXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhpZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAocGFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsncGFnZSddID0gcGFnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydzaXplJ10gPSBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgbGlzdCBvZiBzdXBwb3J0ZWQgY2xvdWQgcHJvdmlkZXJzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENsb3VkUHJvdmlkZXJzOiAocGFnZSwgc2l6ZSwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9jbG91ZF9wcm92aWRlcnNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChwYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydwYWdlJ10gPSBwYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ3NpemUnXSA9IHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgS2Fma2EgcmVxdWVzdCBieSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0S2Fma2FCeUlkOiAoaWQsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnaWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2dldEthZmthQnlJZCcsICdpZCcsIGlkKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL2thZmthcy97aWR9YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImlkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgS2Fma2EgcmVxdWVzdHNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29yZGVyQnldIFNwZWNpZmllcyB0aGUgb3JkZXIgYnkgY3JpdGVyaWEuIFRoZSBzeW50YXggb2YgdGhpcyBwYXJhbWV0ZXIgaXMgc2ltaWxhciB0byB0aGUgc3ludGF4IG9mIHRoZSAmI3g2MDtvcmRlciBieSYjeDYwOyBjbGF1c2Ugb2YgYW4gU1FMIHN0YXRlbWVudC4gRWFjaCBxdWVyeSBjYW4gYmUgb3JkZXJlZCBieSBhbnkgb2YgdGhlICYjeDYwO2thZmthUmVxdWVzdHMmI3g2MDsgZmllbGRzLiBGb3IgZXhhbXBsZSwgdG8gcmV0dXJuIGFsbCBLYWZrYSBpbnN0YW5jZXMgb3JkZXJlZCBieSB0aGVpciBuYW1lLCB1c2UgdGhlIGZvbGxvd2luZyBzeW50YXg6ICAmI3g2MDsmI3g2MDsmI3g2MDtzcWwgbmFtZSBhc2MgJiN4NjA7JiN4NjA7JiN4NjA7ICBUbyByZXR1cm4gYWxsIEthZmthIGluc3RhbmNlcyBvcmRlcmVkIGJ5IHRoZWlyIG5hbWUgX2FuZF8gY3JlYXRlZCBkYXRlLCB1c2UgdGhlIGZvbGxvd2luZyBzeW50YXg6ICAmI3g2MDsmI3g2MDsmI3g2MDtzcWwgbmFtZSBhc2MsIGNyZWF0ZWRfYXQgYXNjICYjeDYwOyYjeDYwOyYjeDYwOyAgSWYgdGhlIHBhcmFtZXRlciBpc25cXCYjMzk7dCBwcm92aWRlZCwgb3IgaWYgdGhlIHZhbHVlIGlzIGVtcHR5LCB0aGVuIHRoZSByZXN1bHRzIGFyZSBvcmRlcmVkIGJ5IG5hbWUuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2VhcmNoXSBTZWFyY2ggY3JpdGVyaWEuICBUaGUgc3ludGF4IG9mIHRoaXMgcGFyYW1ldGVyIGlzIHNpbWlsYXIgdG8gdGhlIHN5bnRheCBvZiB0aGUgJiN4NjA7d2hlcmUmI3g2MDsgY2xhdXNlIG9mIGFuIFNRTCBzdGF0ZW1lbnQuIEFsbG93ZWQgZmllbGRzIGluIHRoZSBzZWFyY2ggYXJlICYjeDYwO2Nsb3VkX3Byb3ZpZGVyJiN4NjA7LCAmI3g2MDtuYW1lJiN4NjA7LCAmI3g2MDtvd25lciYjeDYwOywgJiN4NjA7cmVnaW9uJiN4NjA7LCBhbmQgJiN4NjA7c3RhdHVzJiN4NjA7LiBBbGxvd2VkIGNvbXBhcmF0b3JzIGFyZSAmI3g2MDsmbHQ7Jmd0OyYjeDYwOywgJiN4NjA7JiN4M0Q7JiN4NjA7LCBvciAmI3g2MDtMSUtFJiN4NjA7LiBBbGxvd2VkIGpvaW5zIGFyZSAmI3g2MDtBTkQmI3g2MDsgYW5kICYjeDYwO09SJiN4NjA7LiBIb3dldmVyLCB5b3UgY2FuIHVzZSBhIG1heGltdW0gb2YgMTAgam9pbnMgaW4gYSBzZWFyY2ggcXVlcnkuICBFeGFtcGxlczogIFRvIHJldHVybiBhIEthZmthIGluc3RhbmNlIHdpdGggdGhlIG5hbWUgJiN4NjA7bXkta2Fma2EmI3g2MDsgYW5kIHRoZSByZWdpb24gJiN4NjA7YXdzJiN4NjA7LCB1c2UgdGhlIGZvbGxvd2luZyBzeW50YXg6ICAmI3g2MDsmI3g2MDsmI3g2MDsgbmFtZSAmI3gzRDsgbXkta2Fma2EgYW5kIGNsb3VkX3Byb3ZpZGVyICYjeDNEOyBhd3MgJiN4NjA7JiN4NjA7JiN4NjA7W3AtXSAgVG8gcmV0dXJuIGEgS2Fma2EgaW5zdGFuY2Ugd2l0aCBhIG5hbWUgdGhhdCBzdGFydHMgd2l0aCAmI3g2MDtteSYjeDYwOywgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7IG5hbWUgbGlrZSBteSUyNSAmI3g2MDsmI3g2MDsmI3g2MDsgIElmIHRoZSBwYXJhbWV0ZXIgaXNuXFwmIzM5O3QgcHJvdmlkZWQsIG9yIGlmIHRoZSB2YWx1ZSBpcyBlbXB0eSwgdGhlbiBhbGwgdGhlIEthZmthIGluc3RhbmNlcyB0aGF0IHRoZSB1c2VyIGhhcyBwZXJtaXNzaW9uIHRvIHNlZSBhcmUgcmV0dXJuZWQuICBOb3RlLiBJZiB0aGUgcXVlcnkgaXMgaW52YWxpZCwgYW4gZXJyb3IgaXMgcmV0dXJuZWQuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRLYWZrYXM6IChwYWdlLCBzaXplLCBvcmRlckJ5LCBzZWFyY2gsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjEva2Fma2FzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAocGFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsncGFnZSddID0gcGFnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydzaXplJ10gPSBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9yZGVyQnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ29yZGVyQnknXSA9IG9yZGVyQnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VhcmNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydzZWFyY2gnXSA9IHNlYXJjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgbWV0cmljcyB3aXRoIGluc3RhbnQgcXVlcnkgYnkgS2Fma2EgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBbZmlsdGVyc10gTGlzdCBvZiBtZXRyaWNzIHRvIGZldGNoLiBGZXRjaCBhbGwgbWV0cmljcyB3aGVuIGVtcHR5LiBMaXN0IGVudHJpZXMgYXJlIEthZmthIGludGVybmFsIG1ldHJpYyBuYW1lcy5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldE1ldHJpY3NCeUluc3RhbnRRdWVyeTogKGlkLCBmaWx0ZXJzLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2lkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdnZXRNZXRyaWNzQnlJbnN0YW50UXVlcnknLCAnaWQnLCBpZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9rYWZrYXMve2lkfS9tZXRyaWNzL3F1ZXJ5YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImlkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydmaWx0ZXJzJ10gPSBmaWx0ZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBtZXRyaWNzIHdpdGggdGltZXNlcmllcyByYW5nZSBxdWVyeSBieSBLYWZrYSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGxlbmd0aCBvZiB0aW1lIGluIG1pbnV0ZXMgZm9yIHdoaWNoIHRvIHJldHVybiB0aGUgbWV0cmljc1xuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZXJ2YWwgVGhlIGludGVydmFsIGluIHNlY29uZHMgYmV0d2VlbiBkYXRhIHBvaW50c1xuICAgICAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtmaWx0ZXJzXSBMaXN0IG9mIG1ldHJpY3MgdG8gZmV0Y2guIEZldGNoIGFsbCBtZXRyaWNzIHdoZW4gZW1wdHkuIExpc3QgZW50cmllcyBhcmUgS2Fma2EgaW50ZXJuYWwgbWV0cmljIG5hbWVzLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TWV0cmljc0J5UmFuZ2VRdWVyeTogKGlkLCBkdXJhdGlvbiwgaW50ZXJ2YWwsIGZpbHRlcnMsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnaWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2dldE1ldHJpY3NCeVJhbmdlUXVlcnknLCAnaWQnLCBpZCk7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdkdXJhdGlvbicgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0TWV0cmljc0J5UmFuZ2VRdWVyeScsICdkdXJhdGlvbicsIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2ludGVydmFsJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdnZXRNZXRyaWNzQnlSYW5nZVF1ZXJ5JywgJ2ludGVydmFsJywgaW50ZXJ2YWwpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjEva2Fma2FzL3tpZH0vbWV0cmljcy9xdWVyeV9yYW5nZWBcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJpZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGlkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChkdXJhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnZHVyYXRpb24nXSA9IGR1cmF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGludGVydmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydpbnRlcnZhbCddID0gaW50ZXJ2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlsdGVycykge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ2ZpbHRlcnMnXSA9IGZpbHRlcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBzdGF0dXMgb2YgcmVzb3VyY2VzLCBzdWNoIGFzIHdoZXRoZXIgbWF4aW11bSBzZXJ2aWNlIGNhcGFjaXR5IGhhcyBiZWVuIHJlYWNoZWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlcnZpY2VTdGF0dXM6IChvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL3N0YXR1c2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgdmVyc2lvbiBtZXRhZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VmVyc2lvbk1ldGFkYXRhOiAob3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MWA7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgfTtcbn07XG5leHBvcnRzLkRlZmF1bHRBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IERlZmF1bHRBcGlBeGlvc1BhcmFtQ3JlYXRvcjtcbi8qKlxuICogRGVmYXVsdEFwaSAtIGZ1bmN0aW9uYWwgcHJvZ3JhbW1pbmcgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IERlZmF1bHRBcGlGcCA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgY29uc3QgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvciA9IGV4cG9ydHMuRGVmYXVsdEFwaUF4aW9zUGFyYW1DcmVhdG9yKGNvbmZpZ3VyYXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGVzIGEgS2Fma2EgcmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7S2Fma2FSZXF1ZXN0UGF5bG9hZH0ga2Fma2FSZXF1ZXN0UGF5bG9hZCBLYWZrYSBkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVLYWZrYShhc3luYywga2Fma2FSZXF1ZXN0UGF5bG9hZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuY3JlYXRlS2Fma2EoYXN5bmMsIGthZmthUmVxdWVzdFBheWxvYWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZXMgYSBLYWZrYSByZXF1ZXN0IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXN5bmMgUGVyZm9ybSB0aGUgYWN0aW9uIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUthZmthQnlJZChpZCwgYXN5bmMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmRlbGV0ZUthZmthQnlJZChpZCwgYXN5bmMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIHJlZ2lvbnMgb2YgdGhlIHN1cHBvcnRlZCBjbG91ZCBwcm92aWRlclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDbG91ZFByb3ZpZGVyUmVnaW9ucyhpZCwgcGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnMoaWQsIHBhZ2UsIHNpemUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIGNsb3VkIHByb3ZpZGVyc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDbG91ZFByb3ZpZGVycyhwYWdlLCBzaXplLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5nZXRDbG91ZFByb3ZpZGVycyhwYWdlLCBzaXplLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgS2Fma2EgcmVxdWVzdCBieSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0S2Fma2FCeUlkKGlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5nZXRLYWZrYUJ5SWQoaWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIEthZmthIHJlcXVlc3RzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcmRlckJ5XSBTcGVjaWZpZXMgdGhlIG9yZGVyIGJ5IGNyaXRlcmlhLiBUaGUgc3ludGF4IG9mIHRoaXMgcGFyYW1ldGVyIGlzIHNpbWlsYXIgdG8gdGhlIHN5bnRheCBvZiB0aGUgJiN4NjA7b3JkZXIgYnkmI3g2MDsgY2xhdXNlIG9mIGFuIFNRTCBzdGF0ZW1lbnQuIEVhY2ggcXVlcnkgY2FuIGJlIG9yZGVyZWQgYnkgYW55IG9mIHRoZSAmI3g2MDtrYWZrYVJlcXVlc3RzJiN4NjA7IGZpZWxkcy4gRm9yIGV4YW1wbGUsIHRvIHJldHVybiBhbGwgS2Fma2EgaW5zdGFuY2VzIG9yZGVyZWQgYnkgdGhlaXIgbmFtZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjICYjeDYwOyYjeDYwOyYjeDYwOyAgVG8gcmV0dXJuIGFsbCBLYWZrYSBpbnN0YW5jZXMgb3JkZXJlZCBieSB0aGVpciBuYW1lIF9hbmRfIGNyZWF0ZWQgZGF0ZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjLCBjcmVhdGVkX2F0IGFzYyAmI3g2MDsmI3g2MDsmI3g2MDsgIElmIHRoZSBwYXJhbWV0ZXIgaXNuXFwmIzM5O3QgcHJvdmlkZWQsIG9yIGlmIHRoZSB2YWx1ZSBpcyBlbXB0eSwgdGhlbiB0aGUgcmVzdWx0cyBhcmUgb3JkZXJlZCBieSBuYW1lLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlYXJjaF0gU2VhcmNoIGNyaXRlcmlhLiAgVGhlIHN5bnRheCBvZiB0aGlzIHBhcmFtZXRlciBpcyBzaW1pbGFyIHRvIHRoZSBzeW50YXggb2YgdGhlICYjeDYwO3doZXJlJiN4NjA7IGNsYXVzZSBvZiBhbiBTUUwgc3RhdGVtZW50LiBBbGxvd2VkIGZpZWxkcyBpbiB0aGUgc2VhcmNoIGFyZSAmI3g2MDtjbG91ZF9wcm92aWRlciYjeDYwOywgJiN4NjA7bmFtZSYjeDYwOywgJiN4NjA7b3duZXImI3g2MDssICYjeDYwO3JlZ2lvbiYjeDYwOywgYW5kICYjeDYwO3N0YXR1cyYjeDYwOy4gQWxsb3dlZCBjb21wYXJhdG9ycyBhcmUgJiN4NjA7Jmx0OyZndDsmI3g2MDssICYjeDYwOyYjeDNEOyYjeDYwOywgb3IgJiN4NjA7TElLRSYjeDYwOy4gQWxsb3dlZCBqb2lucyBhcmUgJiN4NjA7QU5EJiN4NjA7IGFuZCAmI3g2MDtPUiYjeDYwOy4gSG93ZXZlciwgeW91IGNhbiB1c2UgYSBtYXhpbXVtIG9mIDEwIGpvaW5zIGluIGEgc2VhcmNoIHF1ZXJ5LiAgRXhhbXBsZXM6ICBUbyByZXR1cm4gYSBLYWZrYSBpbnN0YW5jZSB3aXRoIHRoZSBuYW1lICYjeDYwO215LWthZmthJiN4NjA7IGFuZCB0aGUgcmVnaW9uICYjeDYwO2F3cyYjeDYwOywgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7IG5hbWUgJiN4M0Q7IG15LWthZmthIGFuZCBjbG91ZF9wcm92aWRlciAmI3gzRDsgYXdzICYjeDYwOyYjeDYwOyYjeDYwO1twLV0gIFRvIHJldHVybiBhIEthZmthIGluc3RhbmNlIHdpdGggYSBuYW1lIHRoYXQgc3RhcnRzIHdpdGggJiN4NjA7bXkmI3g2MDssIHVzZSB0aGUgZm9sbG93aW5nIHN5bnRheDogICYjeDYwOyYjeDYwOyYjeDYwOyBuYW1lIGxpa2UgbXklMjUgJiN4NjA7JiN4NjA7JiN4NjA7ICBJZiB0aGUgcGFyYW1ldGVyIGlzblxcJiMzOTt0IHByb3ZpZGVkLCBvciBpZiB0aGUgdmFsdWUgaXMgZW1wdHksIHRoZW4gYWxsIHRoZSBLYWZrYSBpbnN0YW5jZXMgdGhhdCB0aGUgdXNlciBoYXMgcGVybWlzc2lvbiB0byBzZWUgYXJlIHJldHVybmVkLiAgTm90ZS4gSWYgdGhlIHF1ZXJ5IGlzIGludmFsaWQsIGFuIGVycm9yIGlzIHJldHVybmVkLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0S2Fma2FzKHBhZ2UsIHNpemUsIG9yZGVyQnksIHNlYXJjaCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0S2Fma2FzKHBhZ2UsIHNpemUsIG9yZGVyQnksIHNlYXJjaCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBtZXRyaWNzIHdpdGggaW5zdGFudCBxdWVyeSBieSBLYWZrYSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtmaWx0ZXJzXSBMaXN0IG9mIG1ldHJpY3MgdG8gZmV0Y2guIEZldGNoIGFsbCBtZXRyaWNzIHdoZW4gZW1wdHkuIExpc3QgZW50cmllcyBhcmUgS2Fma2EgaW50ZXJuYWwgbWV0cmljIG5hbWVzLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TWV0cmljc0J5SW5zdGFudFF1ZXJ5KGlkLCBmaWx0ZXJzLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5nZXRNZXRyaWNzQnlJbnN0YW50UXVlcnkoaWQsIGZpbHRlcnMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgbWV0cmljcyB3aXRoIHRpbWVzZXJpZXMgcmFuZ2UgcXVlcnkgYnkgS2Fma2EgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBsZW5ndGggb2YgdGltZSBpbiBtaW51dGVzIGZvciB3aGljaCB0byByZXR1cm4gdGhlIG1ldHJpY3NcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGludGVydmFsIFRoZSBpbnRlcnZhbCBpbiBzZWNvbmRzIGJldHdlZW4gZGF0YSBwb2ludHNcbiAgICAgICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBbZmlsdGVyc10gTGlzdCBvZiBtZXRyaWNzIHRvIGZldGNoLiBGZXRjaCBhbGwgbWV0cmljcyB3aGVuIGVtcHR5LiBMaXN0IGVudHJpZXMgYXJlIEthZmthIGludGVybmFsIG1ldHJpYyBuYW1lcy5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldE1ldHJpY3NCeVJhbmdlUXVlcnkoaWQsIGR1cmF0aW9uLCBpbnRlcnZhbCwgZmlsdGVycywgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0TWV0cmljc0J5UmFuZ2VRdWVyeShpZCwgZHVyYXRpb24sIGludGVydmFsLCBmaWx0ZXJzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBzdGF0dXMgb2YgcmVzb3VyY2VzLCBzdWNoIGFzIHdoZXRoZXIgbWF4aW11bSBzZXJ2aWNlIGNhcGFjaXR5IGhhcyBiZWVuIHJlYWNoZWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlcnZpY2VTdGF0dXMob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0U2VydmljZVN0YXR1cyhvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSB2ZXJzaW9uIG1ldGFkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRWZXJzaW9uTWV0YWRhdGEob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0VmVyc2lvbk1ldGFkYXRhKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbmV4cG9ydHMuRGVmYXVsdEFwaUZwID0gRGVmYXVsdEFwaUZwO1xuLyoqXG4gKiBEZWZhdWx0QXBpIC0gZmFjdG9yeSBpbnRlcmZhY2VcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgRGVmYXVsdEFwaUZhY3RvcnkgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbiwgYmFzZVBhdGgsIGF4aW9zKSB7XG4gICAgY29uc3QgbG9jYWxWYXJGcCA9IGV4cG9ydHMuRGVmYXVsdEFwaUZwKGNvbmZpZ3VyYXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGVzIGEgS2Fma2EgcmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7S2Fma2FSZXF1ZXN0UGF5bG9hZH0ga2Fma2FSZXF1ZXN0UGF5bG9hZCBLYWZrYSBkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVLYWZrYShhc3luYywga2Fma2FSZXF1ZXN0UGF5bG9hZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuY3JlYXRlS2Fma2EoYXN5bmMsIGthZmthUmVxdWVzdFBheWxvYWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBEZWxldGVzIGEgS2Fma2EgcmVxdWVzdCBieSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVLYWZrYUJ5SWQoaWQsIGFzeW5jLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5kZWxldGVLYWZrYUJ5SWQoaWQsIGFzeW5jLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgbGlzdCBvZiBzdXBwb3J0ZWQgcmVnaW9ucyBvZiB0aGUgc3VwcG9ydGVkIGNsb3VkIHByb3ZpZGVyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENsb3VkUHJvdmlkZXJSZWdpb25zKGlkLCBwYWdlLCBzaXplLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5nZXRDbG91ZFByb3ZpZGVyUmVnaW9ucyhpZCwgcGFnZSwgc2l6ZSwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIGNsb3VkIHByb3ZpZGVyc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDbG91ZFByb3ZpZGVycyhwYWdlLCBzaXplLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5nZXRDbG91ZFByb3ZpZGVycyhwYWdlLCBzaXplLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIEthZmthIHJlcXVlc3QgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldEthZmthQnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0S2Fma2FCeUlkKGlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgS2Fma2EgcmVxdWVzdHNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29yZGVyQnldIFNwZWNpZmllcyB0aGUgb3JkZXIgYnkgY3JpdGVyaWEuIFRoZSBzeW50YXggb2YgdGhpcyBwYXJhbWV0ZXIgaXMgc2ltaWxhciB0byB0aGUgc3ludGF4IG9mIHRoZSAmI3g2MDtvcmRlciBieSYjeDYwOyBjbGF1c2Ugb2YgYW4gU1FMIHN0YXRlbWVudC4gRWFjaCBxdWVyeSBjYW4gYmUgb3JkZXJlZCBieSBhbnkgb2YgdGhlICYjeDYwO2thZmthUmVxdWVzdHMmI3g2MDsgZmllbGRzLiBGb3IgZXhhbXBsZSwgdG8gcmV0dXJuIGFsbCBLYWZrYSBpbnN0YW5jZXMgb3JkZXJlZCBieSB0aGVpciBuYW1lLCB1c2UgdGhlIGZvbGxvd2luZyBzeW50YXg6ICAmI3g2MDsmI3g2MDsmI3g2MDtzcWwgbmFtZSBhc2MgJiN4NjA7JiN4NjA7JiN4NjA7ICBUbyByZXR1cm4gYWxsIEthZmthIGluc3RhbmNlcyBvcmRlcmVkIGJ5IHRoZWlyIG5hbWUgX2FuZF8gY3JlYXRlZCBkYXRlLCB1c2UgdGhlIGZvbGxvd2luZyBzeW50YXg6ICAmI3g2MDsmI3g2MDsmI3g2MDtzcWwgbmFtZSBhc2MsIGNyZWF0ZWRfYXQgYXNjICYjeDYwOyYjeDYwOyYjeDYwOyAgSWYgdGhlIHBhcmFtZXRlciBpc25cXCYjMzk7dCBwcm92aWRlZCwgb3IgaWYgdGhlIHZhbHVlIGlzIGVtcHR5LCB0aGVuIHRoZSByZXN1bHRzIGFyZSBvcmRlcmVkIGJ5IG5hbWUuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2VhcmNoXSBTZWFyY2ggY3JpdGVyaWEuICBUaGUgc3ludGF4IG9mIHRoaXMgcGFyYW1ldGVyIGlzIHNpbWlsYXIgdG8gdGhlIHN5bnRheCBvZiB0aGUgJiN4NjA7d2hlcmUmI3g2MDsgY2xhdXNlIG9mIGFuIFNRTCBzdGF0ZW1lbnQuIEFsbG93ZWQgZmllbGRzIGluIHRoZSBzZWFyY2ggYXJlICYjeDYwO2Nsb3VkX3Byb3ZpZGVyJiN4NjA7LCAmI3g2MDtuYW1lJiN4NjA7LCAmI3g2MDtvd25lciYjeDYwOywgJiN4NjA7cmVnaW9uJiN4NjA7LCBhbmQgJiN4NjA7c3RhdHVzJiN4NjA7LiBBbGxvd2VkIGNvbXBhcmF0b3JzIGFyZSAmI3g2MDsmbHQ7Jmd0OyYjeDYwOywgJiN4NjA7JiN4M0Q7JiN4NjA7LCBvciAmI3g2MDtMSUtFJiN4NjA7LiBBbGxvd2VkIGpvaW5zIGFyZSAmI3g2MDtBTkQmI3g2MDsgYW5kICYjeDYwO09SJiN4NjA7LiBIb3dldmVyLCB5b3UgY2FuIHVzZSBhIG1heGltdW0gb2YgMTAgam9pbnMgaW4gYSBzZWFyY2ggcXVlcnkuICBFeGFtcGxlczogIFRvIHJldHVybiBhIEthZmthIGluc3RhbmNlIHdpdGggdGhlIG5hbWUgJiN4NjA7bXkta2Fma2EmI3g2MDsgYW5kIHRoZSByZWdpb24gJiN4NjA7YXdzJiN4NjA7LCB1c2UgdGhlIGZvbGxvd2luZyBzeW50YXg6ICAmI3g2MDsmI3g2MDsmI3g2MDsgbmFtZSAmI3gzRDsgbXkta2Fma2EgYW5kIGNsb3VkX3Byb3ZpZGVyICYjeDNEOyBhd3MgJiN4NjA7JiN4NjA7JiN4NjA7W3AtXSAgVG8gcmV0dXJuIGEgS2Fma2EgaW5zdGFuY2Ugd2l0aCBhIG5hbWUgdGhhdCBzdGFydHMgd2l0aCAmI3g2MDtteSYjeDYwOywgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7IG5hbWUgbGlrZSBteSUyNSAmI3g2MDsmI3g2MDsmI3g2MDsgIElmIHRoZSBwYXJhbWV0ZXIgaXNuXFwmIzM5O3QgcHJvdmlkZWQsIG9yIGlmIHRoZSB2YWx1ZSBpcyBlbXB0eSwgdGhlbiBhbGwgdGhlIEthZmthIGluc3RhbmNlcyB0aGF0IHRoZSB1c2VyIGhhcyBwZXJtaXNzaW9uIHRvIHNlZSBhcmUgcmV0dXJuZWQuICBOb3RlLiBJZiB0aGUgcXVlcnkgaXMgaW52YWxpZCwgYW4gZXJyb3IgaXMgcmV0dXJuZWQuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRLYWZrYXMocGFnZSwgc2l6ZSwgb3JkZXJCeSwgc2VhcmNoLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5nZXRLYWZrYXMocGFnZSwgc2l6ZSwgb3JkZXJCeSwgc2VhcmNoLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBtZXRyaWNzIHdpdGggaW5zdGFudCBxdWVyeSBieSBLYWZrYSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtmaWx0ZXJzXSBMaXN0IG9mIG1ldHJpY3MgdG8gZmV0Y2guIEZldGNoIGFsbCBtZXRyaWNzIHdoZW4gZW1wdHkuIExpc3QgZW50cmllcyBhcmUgS2Fma2EgaW50ZXJuYWwgbWV0cmljIG5hbWVzLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TWV0cmljc0J5SW5zdGFudFF1ZXJ5KGlkLCBmaWx0ZXJzLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5nZXRNZXRyaWNzQnlJbnN0YW50UXVlcnkoaWQsIGZpbHRlcnMsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIG1ldHJpY3Mgd2l0aCB0aW1lc2VyaWVzIHJhbmdlIHF1ZXJ5IGJ5IEthZmthIElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgbGVuZ3RoIG9mIHRpbWUgaW4gbWludXRlcyBmb3Igd2hpY2ggdG8gcmV0dXJuIHRoZSBtZXRyaWNzXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcnZhbCBUaGUgaW50ZXJ2YWwgaW4gc2Vjb25kcyBiZXR3ZWVuIGRhdGEgcG9pbnRzXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gW2ZpbHRlcnNdIExpc3Qgb2YgbWV0cmljcyB0byBmZXRjaC4gRmV0Y2ggYWxsIG1ldHJpY3Mgd2hlbiBlbXB0eS4gTGlzdCBlbnRyaWVzIGFyZSBLYWZrYSBpbnRlcm5hbCBtZXRyaWMgbmFtZXMuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRNZXRyaWNzQnlSYW5nZVF1ZXJ5KGlkLCBkdXJhdGlvbiwgaW50ZXJ2YWwsIGZpbHRlcnMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmdldE1ldHJpY3NCeVJhbmdlUXVlcnkoaWQsIGR1cmF0aW9uLCBpbnRlcnZhbCwgZmlsdGVycywgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIHN0YXR1cyBvZiByZXNvdXJjZXMsIHN1Y2ggYXMgd2hldGhlciBtYXhpbXVtIHNlcnZpY2UgY2FwYWNpdHkgaGFzIGJlZW4gcmVhY2hlZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U2VydmljZVN0YXR1cyhvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5nZXRTZXJ2aWNlU3RhdHVzKG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSB2ZXJzaW9uIG1ldGFkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRWZXJzaW9uTWV0YWRhdGEob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0VmVyc2lvbk1ldGFkYXRhKG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkRlZmF1bHRBcGlGYWN0b3J5ID0gRGVmYXVsdEFwaUZhY3Rvcnk7XG4vKipcbiAqIERlZmF1bHRBcGkgLSBvYmplY3Qtb3JpZW50ZWQgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgRGVmYXVsdEFwaVxuICogQGV4dGVuZHMge0Jhc2VBUEl9XG4gKi9cbmNsYXNzIERlZmF1bHRBcGkgZXh0ZW5kcyBiYXNlXzEuQmFzZUFQSSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBDcmVhdGVzIGEgS2Fma2EgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXN5bmMgUGVyZm9ybSB0aGUgYWN0aW9uIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXJcbiAgICAgKiBAcGFyYW0ge0thZmthUmVxdWVzdFBheWxvYWR9IGthZmthUmVxdWVzdFBheWxvYWQgS2Fma2EgZGF0YVxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGNyZWF0ZUthZmthKGFzeW5jLCBrYWZrYVJlcXVlc3RQYXlsb2FkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmNyZWF0ZUthZmthKGFzeW5jLCBrYWZrYVJlcXVlc3RQYXlsb2FkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBEZWxldGVzIGEgS2Fma2EgcmVxdWVzdCBieSBJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGRlbGV0ZUthZmthQnlJZChpZCwgYXN5bmMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuZGVsZXRlS2Fma2FCeUlkKGlkLCBhc3luYywgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgbGlzdCBvZiBzdXBwb3J0ZWQgcmVnaW9ucyBvZiB0aGUgc3VwcG9ydGVkIGNsb3VkIHByb3ZpZGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIERlZmF1bHRBcGlcbiAgICAgKi9cbiAgICBnZXRDbG91ZFByb3ZpZGVyUmVnaW9ucyhpZCwgcGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRDbG91ZFByb3ZpZGVyUmVnaW9ucyhpZCwgcGFnZSwgc2l6ZSwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgbGlzdCBvZiBzdXBwb3J0ZWQgY2xvdWQgcHJvdmlkZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QXBpXG4gICAgICovXG4gICAgZ2V0Q2xvdWRQcm92aWRlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRDbG91ZFByb3ZpZGVycyhwYWdlLCBzaXplLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgS2Fma2EgcmVxdWVzdCBieSBJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QXBpXG4gICAgICovXG4gICAgZ2V0S2Fma2FCeUlkKGlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmdldEthZmthQnlJZChpZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgS2Fma2EgcmVxdWVzdHNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29yZGVyQnldIFNwZWNpZmllcyB0aGUgb3JkZXIgYnkgY3JpdGVyaWEuIFRoZSBzeW50YXggb2YgdGhpcyBwYXJhbWV0ZXIgaXMgc2ltaWxhciB0byB0aGUgc3ludGF4IG9mIHRoZSAmI3g2MDtvcmRlciBieSYjeDYwOyBjbGF1c2Ugb2YgYW4gU1FMIHN0YXRlbWVudC4gRWFjaCBxdWVyeSBjYW4gYmUgb3JkZXJlZCBieSBhbnkgb2YgdGhlICYjeDYwO2thZmthUmVxdWVzdHMmI3g2MDsgZmllbGRzLiBGb3IgZXhhbXBsZSwgdG8gcmV0dXJuIGFsbCBLYWZrYSBpbnN0YW5jZXMgb3JkZXJlZCBieSB0aGVpciBuYW1lLCB1c2UgdGhlIGZvbGxvd2luZyBzeW50YXg6ICAmI3g2MDsmI3g2MDsmI3g2MDtzcWwgbmFtZSBhc2MgJiN4NjA7JiN4NjA7JiN4NjA7ICBUbyByZXR1cm4gYWxsIEthZmthIGluc3RhbmNlcyBvcmRlcmVkIGJ5IHRoZWlyIG5hbWUgX2FuZF8gY3JlYXRlZCBkYXRlLCB1c2UgdGhlIGZvbGxvd2luZyBzeW50YXg6ICAmI3g2MDsmI3g2MDsmI3g2MDtzcWwgbmFtZSBhc2MsIGNyZWF0ZWRfYXQgYXNjICYjeDYwOyYjeDYwOyYjeDYwOyAgSWYgdGhlIHBhcmFtZXRlciBpc25cXCYjMzk7dCBwcm92aWRlZCwgb3IgaWYgdGhlIHZhbHVlIGlzIGVtcHR5LCB0aGVuIHRoZSByZXN1bHRzIGFyZSBvcmRlcmVkIGJ5IG5hbWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzZWFyY2hdIFNlYXJjaCBjcml0ZXJpYS4gIFRoZSBzeW50YXggb2YgdGhpcyBwYXJhbWV0ZXIgaXMgc2ltaWxhciB0byB0aGUgc3ludGF4IG9mIHRoZSAmI3g2MDt3aGVyZSYjeDYwOyBjbGF1c2Ugb2YgYW4gU1FMIHN0YXRlbWVudC4gQWxsb3dlZCBmaWVsZHMgaW4gdGhlIHNlYXJjaCBhcmUgJiN4NjA7Y2xvdWRfcHJvdmlkZXImI3g2MDssICYjeDYwO25hbWUmI3g2MDssICYjeDYwO293bmVyJiN4NjA7LCAmI3g2MDtyZWdpb24mI3g2MDssIGFuZCAmI3g2MDtzdGF0dXMmI3g2MDsuIEFsbG93ZWQgY29tcGFyYXRvcnMgYXJlICYjeDYwOyZsdDsmZ3Q7JiN4NjA7LCAmI3g2MDsmI3gzRDsmI3g2MDssIG9yICYjeDYwO0xJS0UmI3g2MDsuIEFsbG93ZWQgam9pbnMgYXJlICYjeDYwO0FORCYjeDYwOyBhbmQgJiN4NjA7T1ImI3g2MDsuIEhvd2V2ZXIsIHlvdSBjYW4gdXNlIGEgbWF4aW11bSBvZiAxMCBqb2lucyBpbiBhIHNlYXJjaCBxdWVyeS4gIEV4YW1wbGVzOiAgVG8gcmV0dXJuIGEgS2Fma2EgaW5zdGFuY2Ugd2l0aCB0aGUgbmFtZSAmI3g2MDtteS1rYWZrYSYjeDYwOyBhbmQgdGhlIHJlZ2lvbiAmI3g2MDthd3MmI3g2MDssIHVzZSB0aGUgZm9sbG93aW5nIHN5bnRheDogICYjeDYwOyYjeDYwOyYjeDYwOyBuYW1lICYjeDNEOyBteS1rYWZrYSBhbmQgY2xvdWRfcHJvdmlkZXIgJiN4M0Q7IGF3cyAmI3g2MDsmI3g2MDsmI3g2MDtbcC1dICBUbyByZXR1cm4gYSBLYWZrYSBpbnN0YW5jZSB3aXRoIGEgbmFtZSB0aGF0IHN0YXJ0cyB3aXRoICYjeDYwO215JiN4NjA7LCB1c2UgdGhlIGZvbGxvd2luZyBzeW50YXg6ICAmI3g2MDsmI3g2MDsmI3g2MDsgbmFtZSBsaWtlIG15JTI1ICYjeDYwOyYjeDYwOyYjeDYwOyAgSWYgdGhlIHBhcmFtZXRlciBpc25cXCYjMzk7dCBwcm92aWRlZCwgb3IgaWYgdGhlIHZhbHVlIGlzIGVtcHR5LCB0aGVuIGFsbCB0aGUgS2Fma2EgaW5zdGFuY2VzIHRoYXQgdGhlIHVzZXIgaGFzIHBlcm1pc3Npb24gdG8gc2VlIGFyZSByZXR1cm5lZC4gIE5vdGUuIElmIHRoZSBxdWVyeSBpcyBpbnZhbGlkLCBhbiBlcnJvciBpcyByZXR1cm5lZC5cbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIERlZmF1bHRBcGlcbiAgICAgKi9cbiAgICBnZXRLYWZrYXMocGFnZSwgc2l6ZSwgb3JkZXJCeSwgc2VhcmNoLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmdldEthZmthcyhwYWdlLCBzaXplLCBvcmRlckJ5LCBzZWFyY2gsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgbWV0cmljcyB3aXRoIGluc3RhbnQgcXVlcnkgYnkgS2Fma2EgSURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gW2ZpbHRlcnNdIExpc3Qgb2YgbWV0cmljcyB0byBmZXRjaC4gRmV0Y2ggYWxsIG1ldHJpY3Mgd2hlbiBlbXB0eS4gTGlzdCBlbnRyaWVzIGFyZSBLYWZrYSBpbnRlcm5hbCBtZXRyaWMgbmFtZXMuXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QXBpXG4gICAgICovXG4gICAgZ2V0TWV0cmljc0J5SW5zdGFudFF1ZXJ5KGlkLCBmaWx0ZXJzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmdldE1ldHJpY3NCeUluc3RhbnRRdWVyeShpZCwgZmlsdGVycywgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgUmV0dXJucyBtZXRyaWNzIHdpdGggdGltZXNlcmllcyByYW5nZSBxdWVyeSBieSBLYWZrYSBJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBsZW5ndGggb2YgdGltZSBpbiBtaW51dGVzIGZvciB3aGljaCB0byByZXR1cm4gdGhlIG1ldHJpY3NcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZXJ2YWwgVGhlIGludGVydmFsIGluIHNlY29uZHMgYmV0d2VlbiBkYXRhIHBvaW50c1xuICAgICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gW2ZpbHRlcnNdIExpc3Qgb2YgbWV0cmljcyB0byBmZXRjaC4gRmV0Y2ggYWxsIG1ldHJpY3Mgd2hlbiBlbXB0eS4gTGlzdCBlbnRyaWVzIGFyZSBLYWZrYSBpbnRlcm5hbCBtZXRyaWMgbmFtZXMuXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QXBpXG4gICAgICovXG4gICAgZ2V0TWV0cmljc0J5UmFuZ2VRdWVyeShpZCwgZHVyYXRpb24sIGludGVydmFsLCBmaWx0ZXJzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmdldE1ldHJpY3NCeVJhbmdlUXVlcnkoaWQsIGR1cmF0aW9uLCBpbnRlcnZhbCwgZmlsdGVycywgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgc3RhdHVzIG9mIHJlc291cmNlcywgc3VjaCBhcyB3aGV0aGVyIG1heGltdW0gc2VydmljZSBjYXBhY2l0eSBoYXMgYmVlbiByZWFjaGVkXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QXBpXG4gICAgICovXG4gICAgZ2V0U2VydmljZVN0YXR1cyhvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmdldFNlcnZpY2VTdGF0dXMob3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgdmVyc2lvbiBtZXRhZGF0YVxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGdldFZlcnNpb25NZXRhZGF0YShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmdldFZlcnNpb25NZXRhZGF0YShvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG59XG5leHBvcnRzLkRlZmF1bHRBcGkgPSBEZWZhdWx0QXBpO1xuLyoqXG4gKiBTZWN1cml0eUFwaSAtIGF4aW9zIHBhcmFtZXRlciBjcmVhdG9yXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IFNlY3VyaXR5QXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGVzIGEgc2VydmljZSBhY2NvdW50XG4gICAgICAgICAqIEBwYXJhbSB7U2VydmljZUFjY291bnRSZXF1ZXN0fSBzZXJ2aWNlQWNjb3VudFJlcXVlc3QgU2VydmljZSBhY2NvdW50IHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZVNlcnZpY2VBY2NvdW50OiAoc2VydmljZUFjY291bnRSZXF1ZXN0LCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ3NlcnZpY2VBY2NvdW50UmVxdWVzdCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnY3JlYXRlU2VydmljZUFjY291bnQnLCAnc2VydmljZUFjY291bnRSZXF1ZXN0Jywgc2VydmljZUFjY291bnRSZXF1ZXN0KTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL3NlcnZpY2VfYWNjb3VudHNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdQT1NUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBsb2NhbFZhckhlYWRlclBhcmFtZXRlclsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmRhdGEgPSBjb21tb25fMS5zZXJpYWxpemVEYXRhSWZOZWVkZWQoc2VydmljZUFjY291bnRSZXF1ZXN0LCBsb2NhbFZhclJlcXVlc3RPcHRpb25zLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZXMgYSBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZVNlcnZpY2VBY2NvdW50QnlJZDogKGlkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2lkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdkZWxldGVTZXJ2aWNlQWNjb3VudEJ5SWQnLCAnaWQnLCBpZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9zZXJ2aWNlX2FjY291bnRzL3tpZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhpZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnREVMRVRFJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5lZCBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlcnZpY2VBY2NvdW50QnlJZDogKGlkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2lkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdnZXRTZXJ2aWNlQWNjb3VudEJ5SWQnLCAnaWQnLCBpZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9zZXJ2aWNlX2FjY291bnRzL3tpZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhpZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBzZXJ2aWNlIGFjY291bnRzXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZXJ2aWNlQWNjb3VudHM6IChvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL3NlcnZpY2VfYWNjb3VudHNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJlc2V0cyB0aGUgY3JlZGVudGlhbHMgZm9yIGEgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICByZXNldFNlcnZpY2VBY2NvdW50Q3JlZHM6IChpZCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygncmVzZXRTZXJ2aWNlQWNjb3VudENyZWRzJywgJ2lkJywgaWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjEvc2VydmljZV9hY2NvdW50cy97aWR9L3Jlc2V0X2NyZWRlbnRpYWxzYFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImlkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ1BPU1QnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICB9O1xufTtcbmV4cG9ydHMuU2VjdXJpdHlBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IFNlY3VyaXR5QXBpQXhpb3NQYXJhbUNyZWF0b3I7XG4vKipcbiAqIFNlY3VyaXR5QXBpIC0gZnVuY3Rpb25hbCBwcm9ncmFtbWluZyBpbnRlcmZhY2VcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgU2VjdXJpdHlBcGlGcCA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgY29uc3QgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvciA9IGV4cG9ydHMuU2VjdXJpdHlBcGlBeGlvc1BhcmFtQ3JlYXRvcihjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIHNlcnZpY2UgYWNjb3VudFxuICAgICAgICAgKiBAcGFyYW0ge1NlcnZpY2VBY2NvdW50UmVxdWVzdH0gc2VydmljZUFjY291bnRSZXF1ZXN0IFNlcnZpY2UgYWNjb3VudCByZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVTZXJ2aWNlQWNjb3VudChzZXJ2aWNlQWNjb3VudFJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmNyZWF0ZVNlcnZpY2VBY2NvdW50KHNlcnZpY2VBY2NvdW50UmVxdWVzdCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgRGVsZXRlcyBhIHNlcnZpY2UgYWNjb3VudCBieSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlU2VydmljZUFjY291bnRCeUlkKGlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5kZWxldGVTZXJ2aWNlQWNjb3VudEJ5SWQoaWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybmVkIHNlcnZpY2UgYWNjb3VudCBieSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U2VydmljZUFjY291bnRCeUlkKGlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5nZXRTZXJ2aWNlQWNjb3VudEJ5SWQoaWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIHNlcnZpY2UgYWNjb3VudHNcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlcnZpY2VBY2NvdW50cyhvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5nZXRTZXJ2aWNlQWNjb3VudHMob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmVzZXRzIHRoZSBjcmVkZW50aWFscyBmb3IgYSBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIHJlc2V0U2VydmljZUFjY291bnRDcmVkcyhpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IucmVzZXRTZXJ2aWNlQWNjb3VudENyZWRzKGlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLlNlY3VyaXR5QXBpRnAgPSBTZWN1cml0eUFwaUZwO1xuLyoqXG4gKiBTZWN1cml0eUFwaSAtIGZhY3RvcnkgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IFNlY3VyaXR5QXBpRmFjdG9yeSA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uLCBiYXNlUGF0aCwgYXhpb3MpIHtcbiAgICBjb25zdCBsb2NhbFZhckZwID0gZXhwb3J0cy5TZWN1cml0eUFwaUZwKGNvbmZpZ3VyYXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGVzIGEgc2VydmljZSBhY2NvdW50XG4gICAgICAgICAqIEBwYXJhbSB7U2VydmljZUFjY291bnRSZXF1ZXN0fSBzZXJ2aWNlQWNjb3VudFJlcXVlc3QgU2VydmljZSBhY2NvdW50IHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZVNlcnZpY2VBY2NvdW50KHNlcnZpY2VBY2NvdW50UmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuY3JlYXRlU2VydmljZUFjY291bnQoc2VydmljZUFjY291bnRSZXF1ZXN0LCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgRGVsZXRlcyBhIHNlcnZpY2UgYWNjb3VudCBieSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlU2VydmljZUFjY291bnRCeUlkKGlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5kZWxldGVTZXJ2aWNlQWNjb3VudEJ5SWQoaWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5lZCBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0U2VydmljZUFjY291bnRCeUlkKGlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2Ygc2VydmljZSBhY2NvdW50c1xuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U2VydmljZUFjY291bnRzKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmdldFNlcnZpY2VBY2NvdW50cyhvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmVzZXRzIHRoZSBjcmVkZW50aWFscyBmb3IgYSBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIHJlc2V0U2VydmljZUFjY291bnRDcmVkcyhpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAucmVzZXRTZXJ2aWNlQWNjb3VudENyZWRzKGlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuZXhwb3J0cy5TZWN1cml0eUFwaUZhY3RvcnkgPSBTZWN1cml0eUFwaUZhY3Rvcnk7XG4vKipcbiAqIFNlY3VyaXR5QXBpIC0gb2JqZWN0LW9yaWVudGVkIGludGVyZmFjZVxuICogQGV4cG9ydFxuICogQGNsYXNzIFNlY3VyaXR5QXBpXG4gKiBAZXh0ZW5kcyB7QmFzZUFQSX1cbiAqL1xuY2xhc3MgU2VjdXJpdHlBcGkgZXh0ZW5kcyBiYXNlXzEuQmFzZUFQSSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBDcmVhdGVzIGEgc2VydmljZSBhY2NvdW50XG4gICAgICogQHBhcmFtIHtTZXJ2aWNlQWNjb3VudFJlcXVlc3R9IHNlcnZpY2VBY2NvdW50UmVxdWVzdCBTZXJ2aWNlIGFjY291bnQgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgU2VjdXJpdHlBcGlcbiAgICAgKi9cbiAgICBjcmVhdGVTZXJ2aWNlQWNjb3VudChzZXJ2aWNlQWNjb3VudFJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuU2VjdXJpdHlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmNyZWF0ZVNlcnZpY2VBY2NvdW50KHNlcnZpY2VBY2NvdW50UmVxdWVzdCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgRGVsZXRlcyBhIHNlcnZpY2UgYWNjb3VudCBieSBJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBTZWN1cml0eUFwaVxuICAgICAqL1xuICAgIGRlbGV0ZVNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5TZWN1cml0eUFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuZGVsZXRlU2VydmljZUFjY291bnRCeUlkKGlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBSZXR1cm5lZCBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgU2VjdXJpdHlBcGlcbiAgICAgKi9cbiAgICBnZXRTZXJ2aWNlQWNjb3VudEJ5SWQoaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuU2VjdXJpdHlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmdldFNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2Ygc2VydmljZSBhY2NvdW50c1xuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgU2VjdXJpdHlBcGlcbiAgICAgKi9cbiAgICBnZXRTZXJ2aWNlQWNjb3VudHMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5TZWN1cml0eUFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuZ2V0U2VydmljZUFjY291bnRzKG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJlc2V0cyB0aGUgY3JlZGVudGlhbHMgZm9yIGEgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIFNlY3VyaXR5QXBpXG4gICAgICovXG4gICAgcmVzZXRTZXJ2aWNlQWNjb3VudENyZWRzKGlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLlNlY3VyaXR5QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5yZXNldFNlcnZpY2VBY2NvdW50Q3JlZHMoaWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2VjdXJpdHlBcGkgPSBTZWN1cml0eUFwaTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///31100\n")},50778:(__unused_webpack_module,exports,__webpack_require__)=>{eval('\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.RequiredError = exports.BaseAPI = exports.COLLECTION_FORMATS = exports.BASE_PATH = void 0;\n// Some imports not used depending on template conditions\n// @ts-ignore\nconst axios_1 = __webpack_require__(49198);\nexports.BASE_PATH = "https://api.openshift.com".replace(/\\/+$/, "");\n/**\n *\n * @export\n */\nexports.COLLECTION_FORMATS = {\n    csv: ",",\n    ssv: " ",\n    tsv: "\\t",\n    pipes: "|",\n};\n/**\n *\n * @export\n * @class BaseAPI\n */\nclass BaseAPI {\n    constructor(configuration, basePath = exports.BASE_PATH, axios = axios_1.default) {\n        this.basePath = basePath;\n        this.axios = axios;\n        if (configuration) {\n            this.configuration = configuration;\n            this.basePath = configuration.basePath || this.basePath;\n        }\n    }\n}\nexports.BaseAPI = BaseAPI;\n;\n/**\n *\n * @export\n * @class RequiredError\n * @extends {Error}\n */\nclass RequiredError extends Error {\n    constructor(field, msg) {\n        super(msg);\n        this.field = field;\n        this.name = "RequiredError";\n    }\n}\nexports.RequiredError = RequiredError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA3NzguanMiLCJtYXBwaW5ncyI6IjBCQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscUJBQXFCLEdBQUcsZUFBZSxHQUFHLDBCQUEwQixHQUFHLGlCQUFpQjtBQUN4RjtBQUNBO0FBQ0EsZ0JBQWdCLG1CQUFPLENBQUMsS0FBTztBQUMvQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2Jhc2UuanM/MmIyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIHRzbGludDpkaXNhYmxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyoqXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyIGlzIGEgUmVzdCBBUEkgdG8gbWFuYWdlIGNvbm5lY3RvcnMuXG4gKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIE9wZW5BUEkgZG9jdW1lbnQ6IDAuMC4zXG4gKlxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZXF1aXJlZEVycm9yID0gZXhwb3J0cy5CYXNlQVBJID0gZXhwb3J0cy5DT0xMRUNUSU9OX0ZPUk1BVFMgPSBleHBvcnRzLkJBU0VfUEFUSCA9IHZvaWQgMDtcbi8vIFNvbWUgaW1wb3J0cyBub3QgdXNlZCBkZXBlbmRpbmcgb24gdGVtcGxhdGUgY29uZGl0aW9uc1xuLy8gQHRzLWlnbm9yZVxuY29uc3QgYXhpb3NfMSA9IHJlcXVpcmUoXCJheGlvc1wiKTtcbmV4cG9ydHMuQkFTRV9QQVRIID0gXCJodHRwczovL2FwaS5vcGVuc2hpZnQuY29tXCIucmVwbGFjZSgvXFwvKyQvLCBcIlwiKTtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0cy5DT0xMRUNUSU9OX0ZPUk1BVFMgPSB7XG4gICAgY3N2OiBcIixcIixcbiAgICBzc3Y6IFwiIFwiLFxuICAgIHRzdjogXCJcXHRcIixcbiAgICBwaXBlczogXCJ8XCIsXG59O1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGNsYXNzIEJhc2VBUElcbiAqL1xuY2xhc3MgQmFzZUFQSSB7XG4gICAgY29uc3RydWN0b3IoY29uZmlndXJhdGlvbiwgYmFzZVBhdGggPSBleHBvcnRzLkJBU0VfUEFUSCwgYXhpb3MgPSBheGlvc18xLmRlZmF1bHQpIHtcbiAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoO1xuICAgICAgICB0aGlzLmF4aW9zID0gYXhpb3M7XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGNvbmZpZ3VyYXRpb24uYmFzZVBhdGggfHwgdGhpcy5iYXNlUGF0aDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQmFzZUFQSSA9IEJhc2VBUEk7XG47XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgUmVxdWlyZWRFcnJvclxuICogQGV4dGVuZHMge0Vycm9yfVxuICovXG5jbGFzcyBSZXF1aXJlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkLCBtc2cpIHtcbiAgICAgICAgc3VwZXIobXNnKTtcbiAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlJlcXVpcmVkRXJyb3JcIjtcbiAgICB9XG59XG5leHBvcnRzLlJlcXVpcmVkRXJyb3IgPSBSZXF1aXJlZEVycm9yO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///50778\n')},98691:function(__unused_webpack_module,exports,__webpack_require__){eval('\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.createRequestFunction = exports.toPathString = exports.serializeDataIfNeeded = exports.setSearchParams = exports.setOAuthToObject = exports.setBearerAuthToObject = exports.setBasicAuthToObject = exports.setApiKeyToObject = exports.assertParamExists = exports.DUMMY_BASE_URL = void 0;\nconst base_1 = __webpack_require__(50778);\n/**\n *\n * @export\n */\nexports.DUMMY_BASE_URL = \'https://example.com\';\n/**\n *\n * @throws {RequiredError}\n * @export\n */\nconst assertParamExists = function (functionName, paramName, paramValue) {\n    if (paramValue === null || paramValue === undefined) {\n        throw new base_1.RequiredError(paramName, `Required parameter ${paramName} was null or undefined when calling ${functionName}.`);\n    }\n};\nexports.assertParamExists = assertParamExists;\n/**\n *\n * @export\n */\nconst setApiKeyToObject = function (object, keyParamName, configuration) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (configuration && configuration.apiKey) {\n            const localVarApiKeyValue = typeof configuration.apiKey === \'function\'\n                ? yield configuration.apiKey(keyParamName)\n                : yield configuration.apiKey;\n            object[keyParamName] = localVarApiKeyValue;\n        }\n    });\n};\nexports.setApiKeyToObject = setApiKeyToObject;\n/**\n *\n * @export\n */\nconst setBasicAuthToObject = function (object, configuration) {\n    if (configuration && (configuration.username || configuration.password)) {\n        object["auth"] = { username: configuration.username, password: configuration.password };\n    }\n};\nexports.setBasicAuthToObject = setBasicAuthToObject;\n/**\n *\n * @export\n */\nconst setBearerAuthToObject = function (object, configuration) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (configuration && configuration.accessToken) {\n            const accessToken = typeof configuration.accessToken === \'function\'\n                ? yield configuration.accessToken()\n                : yield configuration.accessToken;\n            object["Authorization"] = "Bearer " + accessToken;\n        }\n    });\n};\nexports.setBearerAuthToObject = setBearerAuthToObject;\n/**\n *\n * @export\n */\nconst setOAuthToObject = function (object, name, scopes, configuration) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (configuration && configuration.accessToken) {\n            const localVarAccessTokenValue = typeof configuration.accessToken === \'function\'\n                ? yield configuration.accessToken(name, scopes)\n                : yield configuration.accessToken;\n            object["Authorization"] = "Bearer " + localVarAccessTokenValue;\n        }\n    });\n};\nexports.setOAuthToObject = setOAuthToObject;\n/**\n *\n * @export\n */\nconst setSearchParams = function (url, ...objects) {\n    const searchParams = new URLSearchParams(url.search);\n    for (const object of objects) {\n        for (const key in object) {\n            if (Array.isArray(object[key])) {\n                searchParams.delete(key);\n                for (const item of object[key]) {\n                    searchParams.append(key, item);\n                }\n            }\n            else {\n                searchParams.set(key, object[key]);\n            }\n        }\n    }\n    url.search = searchParams.toString();\n};\nexports.setSearchParams = setSearchParams;\n/**\n *\n * @export\n */\nconst serializeDataIfNeeded = function (value, requestOptions, configuration) {\n    const nonString = typeof value !== \'string\';\n    const needsSerialization = nonString && configuration && configuration.isJsonMime\n        ? configuration.isJsonMime(requestOptions.headers[\'Content-Type\'])\n        : nonString;\n    return needsSerialization\n        ? JSON.stringify(value !== undefined ? value : {})\n        : (value || "");\n};\nexports.serializeDataIfNeeded = serializeDataIfNeeded;\n/**\n *\n * @export\n */\nconst toPathString = function (url) {\n    return url.pathname + url.search + url.hash;\n};\nexports.toPathString = toPathString;\n/**\n *\n * @export\n */\nconst createRequestFunction = function (axiosArgs, globalAxios, BASE_PATH, configuration) {\n    return (axios = globalAxios, basePath = BASE_PATH) => {\n        const axiosRequestArgs = Object.assign(Object.assign({}, axiosArgs.options), { url: ((configuration === null || configuration === void 0 ? void 0 : configuration.basePath) || basePath) + axiosArgs.url });\n        return axios.request(axiosRequestArgs);\n    };\n};\nexports.createRequestFunction = createRequestFunction;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTg2OTEuanMiLCJtYXBwaW5ncyI6IjBCQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDZCQUE2QixHQUFHLG9CQUFvQixHQUFHLDZCQUE2QixHQUFHLHVCQUF1QixHQUFHLHdCQUF3QixHQUFHLDZCQUE2QixHQUFHLDRCQUE0QixHQUFHLHlCQUF5QixHQUFHLHlCQUF5QixHQUFHLHNCQUFzQjtBQUN6UixlQUFlLG1CQUFPLENBQUMsS0FBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLFdBQVcscUNBQXFDLGFBQWE7QUFDckk7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQ7QUFDekQ7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Qsd0JBQXdCLDJIQUEySDtBQUNsTjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2NvbW1vbi5qcz84ZDY0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIENvbm5lY3RvciBTZXJ2aWNlIEZsZWV0IE1hbmFnZXJcbiAqIENvbm5lY3RvciBTZXJ2aWNlIEZsZWV0IE1hbmFnZXIgaXMgYSBSZXN0IEFQSSB0byBtYW5hZ2UgY29ubmVjdG9ycy5cbiAqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgT3BlbkFQSSBkb2N1bWVudDogMC4wLjNcbiAqXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSBPcGVuQVBJIEdlbmVyYXRvciAoaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoKS5cbiAqIGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uID0gZXhwb3J0cy50b1BhdGhTdHJpbmcgPSBleHBvcnRzLnNlcmlhbGl6ZURhdGFJZk5lZWRlZCA9IGV4cG9ydHMuc2V0U2VhcmNoUGFyYW1zID0gZXhwb3J0cy5zZXRPQXV0aFRvT2JqZWN0ID0gZXhwb3J0cy5zZXRCZWFyZXJBdXRoVG9PYmplY3QgPSBleHBvcnRzLnNldEJhc2ljQXV0aFRvT2JqZWN0ID0gZXhwb3J0cy5zZXRBcGlLZXlUb09iamVjdCA9IGV4cG9ydHMuYXNzZXJ0UGFyYW1FeGlzdHMgPSBleHBvcnRzLkRVTU1ZX0JBU0VfVVJMID0gdm9pZCAwO1xuY29uc3QgYmFzZV8xID0gcmVxdWlyZShcIi4vYmFzZVwiKTtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0cy5EVU1NWV9CQVNFX1VSTCA9ICdodHRwczovL2V4YW1wbGUuY29tJztcbi8qKlxuICpcbiAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IGFzc2VydFBhcmFtRXhpc3RzID0gZnVuY3Rpb24gKGZ1bmN0aW9uTmFtZSwgcGFyYW1OYW1lLCBwYXJhbVZhbHVlKSB7XG4gICAgaWYgKHBhcmFtVmFsdWUgPT09IG51bGwgfHwgcGFyYW1WYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBiYXNlXzEuUmVxdWlyZWRFcnJvcihwYXJhbU5hbWUsIGBSZXF1aXJlZCBwYXJhbWV0ZXIgJHtwYXJhbU5hbWV9IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgJHtmdW5jdGlvbk5hbWV9LmApO1xuICAgIH1cbn07XG5leHBvcnRzLmFzc2VydFBhcmFtRXhpc3RzID0gYXNzZXJ0UGFyYW1FeGlzdHM7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IHNldEFwaUtleVRvT2JqZWN0ID0gZnVuY3Rpb24gKG9iamVjdCwga2V5UGFyYW1OYW1lLCBjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24gJiYgY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXBpS2V5VmFsdWUgPSB0eXBlb2YgY29uZmlndXJhdGlvbi5hcGlLZXkgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICA/IHlpZWxkIGNvbmZpZ3VyYXRpb24uYXBpS2V5KGtleVBhcmFtTmFtZSlcbiAgICAgICAgICAgICAgICA6IHlpZWxkIGNvbmZpZ3VyYXRpb24uYXBpS2V5O1xuICAgICAgICAgICAgb2JqZWN0W2tleVBhcmFtTmFtZV0gPSBsb2NhbFZhckFwaUtleVZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuZXhwb3J0cy5zZXRBcGlLZXlUb09iamVjdCA9IHNldEFwaUtleVRvT2JqZWN0O1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICovXG5jb25zdCBzZXRCYXNpY0F1dGhUb09iamVjdCA9IGZ1bmN0aW9uIChvYmplY3QsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICBpZiAoY29uZmlndXJhdGlvbiAmJiAoY29uZmlndXJhdGlvbi51c2VybmFtZSB8fCBjb25maWd1cmF0aW9uLnBhc3N3b3JkKSkge1xuICAgICAgICBvYmplY3RbXCJhdXRoXCJdID0geyB1c2VybmFtZTogY29uZmlndXJhdGlvbi51c2VybmFtZSwgcGFzc3dvcmQ6IGNvbmZpZ3VyYXRpb24ucGFzc3dvcmQgfTtcbiAgICB9XG59O1xuZXhwb3J0cy5zZXRCYXNpY0F1dGhUb09iamVjdCA9IHNldEJhc2ljQXV0aFRvT2JqZWN0O1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICovXG5jb25zdCBzZXRCZWFyZXJBdXRoVG9PYmplY3QgPSBmdW5jdGlvbiAob2JqZWN0LCBjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24gJiYgY29uZmlndXJhdGlvbi5hY2Nlc3NUb2tlbikge1xuICAgICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSB0eXBlb2YgY29uZmlndXJhdGlvbi5hY2Nlc3NUb2tlbiA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgID8geWllbGQgY29uZmlndXJhdGlvbi5hY2Nlc3NUb2tlbigpXG4gICAgICAgICAgICAgICAgOiB5aWVsZCBjb25maWd1cmF0aW9uLmFjY2Vzc1Rva2VuO1xuICAgICAgICAgICAgb2JqZWN0W1wiQXV0aG9yaXphdGlvblwiXSA9IFwiQmVhcmVyIFwiICsgYWNjZXNzVG9rZW47XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5leHBvcnRzLnNldEJlYXJlckF1dGhUb09iamVjdCA9IHNldEJlYXJlckF1dGhUb09iamVjdDtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqL1xuY29uc3Qgc2V0T0F1dGhUb09iamVjdCA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWUsIHNjb3BlcywgY29uZmlndXJhdGlvbikge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uICYmIGNvbmZpZ3VyYXRpb24uYWNjZXNzVG9rZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQWNjZXNzVG9rZW5WYWx1ZSA9IHR5cGVvZiBjb25maWd1cmF0aW9uLmFjY2Vzc1Rva2VuID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyB5aWVsZCBjb25maWd1cmF0aW9uLmFjY2Vzc1Rva2VuKG5hbWUsIHNjb3BlcylcbiAgICAgICAgICAgICAgICA6IHlpZWxkIGNvbmZpZ3VyYXRpb24uYWNjZXNzVG9rZW47XG4gICAgICAgICAgICBvYmplY3RbXCJBdXRob3JpemF0aW9uXCJdID0gXCJCZWFyZXIgXCIgKyBsb2NhbFZhckFjY2Vzc1Rva2VuVmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5leHBvcnRzLnNldE9BdXRoVG9PYmplY3QgPSBzZXRPQXV0aFRvT2JqZWN0O1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICovXG5jb25zdCBzZXRTZWFyY2hQYXJhbXMgPSBmdW5jdGlvbiAodXJsLCAuLi5vYmplY3RzKSB7XG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoKTtcbiAgICBmb3IgKGNvbnN0IG9iamVjdCBvZiBvYmplY3RzKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0W2tleV0pKSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1zLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBvYmplY3Rba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1zLnNldChrZXksIG9iamVjdFtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1cmwuc2VhcmNoID0gc2VhcmNoUGFyYW1zLnRvU3RyaW5nKCk7XG59O1xuZXhwb3J0cy5zZXRTZWFyY2hQYXJhbXMgPSBzZXRTZWFyY2hQYXJhbXM7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IHNlcmlhbGl6ZURhdGFJZk5lZWRlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgcmVxdWVzdE9wdGlvbnMsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICBjb25zdCBub25TdHJpbmcgPSB0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnO1xuICAgIGNvbnN0IG5lZWRzU2VyaWFsaXphdGlvbiA9IG5vblN0cmluZyAmJiBjb25maWd1cmF0aW9uICYmIGNvbmZpZ3VyYXRpb24uaXNKc29uTWltZVxuICAgICAgICA/IGNvbmZpZ3VyYXRpb24uaXNKc29uTWltZShyZXF1ZXN0T3B0aW9ucy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSlcbiAgICAgICAgOiBub25TdHJpbmc7XG4gICAgcmV0dXJuIG5lZWRzU2VyaWFsaXphdGlvblxuICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHt9KVxuICAgICAgICA6ICh2YWx1ZSB8fCBcIlwiKTtcbn07XG5leHBvcnRzLnNlcmlhbGl6ZURhdGFJZk5lZWRlZCA9IHNlcmlhbGl6ZURhdGFJZk5lZWRlZDtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgdG9QYXRoU3RyaW5nID0gZnVuY3Rpb24gKHVybCkge1xuICAgIHJldHVybiB1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoICsgdXJsLmhhc2g7XG59O1xuZXhwb3J0cy50b1BhdGhTdHJpbmcgPSB0b1BhdGhTdHJpbmc7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IGNyZWF0ZVJlcXVlc3RGdW5jdGlvbiA9IGZ1bmN0aW9uIChheGlvc0FyZ3MsIGdsb2JhbEF4aW9zLCBCQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICByZXR1cm4gKGF4aW9zID0gZ2xvYmFsQXhpb3MsIGJhc2VQYXRoID0gQkFTRV9QQVRIKSA9PiB7XG4gICAgICAgIGNvbnN0IGF4aW9zUmVxdWVzdEFyZ3MgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGF4aW9zQXJncy5vcHRpb25zKSwgeyB1cmw6ICgoY29uZmlndXJhdGlvbiA9PT0gbnVsbCB8fCBjb25maWd1cmF0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWd1cmF0aW9uLmJhc2VQYXRoKSB8fCBiYXNlUGF0aCkgKyBheGlvc0FyZ3MudXJsIH0pO1xuICAgICAgICByZXR1cm4gYXhpb3MucmVxdWVzdChheGlvc1JlcXVlc3RBcmdzKTtcbiAgICB9O1xufTtcbmV4cG9ydHMuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uID0gY3JlYXRlUmVxdWVzdEZ1bmN0aW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///98691\n')},8722:(__unused_webpack_module,exports)=>{eval("\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Configuration = void 0;\nclass Configuration {\n    constructor(param = {}) {\n        this.apiKey = param.apiKey;\n        this.username = param.username;\n        this.password = param.password;\n        this.accessToken = param.accessToken;\n        this.basePath = param.basePath;\n        this.baseOptions = param.baseOptions;\n        this.formDataCtor = param.formDataCtor;\n    }\n    /**\n     * Check if the given MIME is a JSON MIME.\n     * JSON MIME examples:\n     *   application/json\n     *   application/json; charset=UTF8\n     *   APPLICATION/JSON\n     *   application/vnd.company+json\n     * @param mime - MIME (Multipurpose Internet Mail Extensions)\n     * @return True if the given MIME is JSON, false otherwise.\n     */\n    isJsonMime(mime) {\n        const jsonMime = new RegExp('^(application\\/json|[^;/ \\t]+\\/[^;/ \\t]+[+]json)[ \\t]*(;.*)?$', 'i');\n        return mime !== null && (jsonMime.test(mime) || mime.toLowerCase() === 'application/json-patch+json');\n    }\n}\nexports.Configuration = Configuration;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODcyMi5qcyIsIm1hcHBpbmdzIjoiMEJBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckI7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxXQUFXLHNCQUFzQjtBQUM3RjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2NvbmZpZ3VyYXRpb24uanM/OWQ5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIHRzbGludDpkaXNhYmxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyoqXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyIGlzIGEgUmVzdCBBUEkgdG8gbWFuYWdlIGNvbm5lY3RvcnMuXG4gKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIE9wZW5BUEkgZG9jdW1lbnQ6IDAuMC4zXG4gKlxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db25maWd1cmF0aW9uID0gdm9pZCAwO1xuY2xhc3MgQ29uZmlndXJhdGlvbiB7XG4gICAgY29uc3RydWN0b3IocGFyYW0gPSB7fSkge1xuICAgICAgICB0aGlzLmFwaUtleSA9IHBhcmFtLmFwaUtleTtcbiAgICAgICAgdGhpcy51c2VybmFtZSA9IHBhcmFtLnVzZXJuYW1lO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFyYW0ucGFzc3dvcmQ7XG4gICAgICAgIHRoaXMuYWNjZXNzVG9rZW4gPSBwYXJhbS5hY2Nlc3NUb2tlbjtcbiAgICAgICAgdGhpcy5iYXNlUGF0aCA9IHBhcmFtLmJhc2VQYXRoO1xuICAgICAgICB0aGlzLmJhc2VPcHRpb25zID0gcGFyYW0uYmFzZU9wdGlvbnM7XG4gICAgICAgIHRoaXMuZm9ybURhdGFDdG9yID0gcGFyYW0uZm9ybURhdGFDdG9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgZ2l2ZW4gTUlNRSBpcyBhIEpTT04gTUlNRS5cbiAgICAgKiBKU09OIE1JTUUgZXhhbXBsZXM6XG4gICAgICogICBhcHBsaWNhdGlvbi9qc29uXG4gICAgICogICBhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURjhcbiAgICAgKiAgIEFQUExJQ0FUSU9OL0pTT05cbiAgICAgKiAgIGFwcGxpY2F0aW9uL3ZuZC5jb21wYW55K2pzb25cbiAgICAgKiBAcGFyYW0gbWltZSAtIE1JTUUgKE11bHRpcHVycG9zZSBJbnRlcm5ldCBNYWlsIEV4dGVuc2lvbnMpXG4gICAgICogQHJldHVybiBUcnVlIGlmIHRoZSBnaXZlbiBNSU1FIGlzIEpTT04sIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBpc0pzb25NaW1lKG1pbWUpIHtcbiAgICAgICAgY29uc3QganNvbk1pbWUgPSBuZXcgUmVnRXhwKCdeKGFwcGxpY2F0aW9uXFwvanNvbnxbXjsvIFxcdF0rXFwvW147LyBcXHRdK1srXWpzb24pWyBcXHRdKig7LiopPyQnLCAnaScpO1xuICAgICAgICByZXR1cm4gbWltZSAhPT0gbnVsbCAmJiAoanNvbk1pbWUudGVzdChtaW1lKSB8fCBtaW1lLnRvTG93ZXJDYXNlKCkgPT09ICdhcHBsaWNhdGlvbi9qc29uLXBhdGNoK2pzb24nKTtcbiAgICB9XG59XG5leHBvcnRzLkNvbmZpZ3VyYXRpb24gPSBDb25maWd1cmF0aW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8722\n")},22750:function(__unused_webpack_module,exports,__webpack_require__){eval('\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\n__exportStar(__webpack_require__(31100), exports);\n__exportStar(__webpack_require__(8722), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI3NTAuanMiLCJtYXBwaW5ncyI6IjBCQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLG9DQUFvQyxnQkFBZ0I7QUFDdkYsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGFBQWEsbUJBQU8sQ0FBQyxLQUFPO0FBQzVCLGFBQWEsbUJBQU8sQ0FBQyxJQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bjb3MtdWktYXBwcy9jb3MtdWkvLi4vLi4vcGFja2FnZXMvYXBpL2Rpc3QvaW5kZXguanM/NWVkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIHRzbGludDpkaXNhYmxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyoqXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyIGlzIGEgUmVzdCBBUEkgdG8gbWFuYWdlIGNvbm5lY3RvcnMuXG4gKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIE9wZW5BUEkgZG9jdW1lbnQ6IDAuMC4zXG4gKlxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vYXBpXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jb25maWd1cmF0aW9uXCIpLCBleHBvcnRzKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///22750\n')},81778:(__unused_webpack_module,exports,__webpack_require__)=>{eval('function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports, "__esModule", ({value:!0}));var t=__webpack_require__(10791),n=e(t),r=__webpack_require__(30086),a=__webpack_require__(83255),i=__webpack_require__(79419),o=e(__webpack_require__(53778)),l=__webpack_require__(78817),c=__webpack_require__(57426),u=__webpack_require__(29815),s=__webpack_require__(41361),m=__webpack_require__(99237),d=__webpack_require__(14170),p=__webpack_require__(25102),f=__webpack_require__(50897),v=__webpack_require__(17449);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return E(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function b(e){for(var t,n=[],r=h(e);!(t=r()).done;){var a=t.value;if(a.steps)for(var i,o=h(a.steps);!(i=o()).done;)n.push(i.value);else n.push(a)}return n}var y=function(e){var t,r;function a(t){var n;(n=e.call(this,t)||this).titleId=void 0,n.descriptionId=void 0,n.handleKeyClicks=function(e){e.keyCode===l.KEY_CODES.ESCAPE_KEY&&(n.state.isNavOpen?n.setState({isNavOpen:!n.state.isNavOpen}):n.props.isOpen&&n.props.onClose&&n.props.onClose())},n.getFlattenedSteps=function(){return b(n.props.steps)},n.getFlattenedStepsIndex=function(e,t){for(var n=0;n<e.length;n++)if(e[n].name===t)return n+1;return 0},n.initSteps=function(e){for(var t=0;t<e.length;t++){if(e[t].steps)for(var n=0;n<e[t].steps.length;n++)e[t].steps[n]=Object.assign({canJumpTo:!0},e[t].steps[n]);e[t]=Object.assign({canJumpTo:!0},e[t])}return e},n.getElement=function(e){return"function"==typeof e?e():e||document.body};var r=a.currentId++;return n.titleId=t.titleId||"pf-wizard-title-"+r,n.descriptionId=t.descriptionId||"pf-wizard-description-"+r,n.state={isNavOpen:!1},n}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var c=a.prototype;return c.componentDidMount=function(){var e="undefined"!=typeof document?document.body:null;e&&e.addEventListener("keydown",this.handleKeyClicks,!1)},c.componentWillUnmount=function(){var e="undefined"!=typeof document&&document.body||null;e&&e.removeEventListener("keydown",this.handleKeyClicks,!1)},c.render=function(){var e=this,t=this.props,r=t.width,a=t.height,c=t.title,u=t.description,s=t.onClose,m=t.onBack,d=t.onNext,p=t.goToStep,f=t.goToStepById,v=t.goToStepByName,E=t.className,b=t.steps,y=t.currentStep,C=t.nextButtonText,S=void 0===C?"Next":C,T=t.backButtonText,k=void 0===T?"Back":T,I=t.cancelButtonText,x=void 0===I?"Cancel":I,z=t.hideClose,N=t.closeButtonAriaLabel,B=void 0===N?"Close":N,q=t.navAriaLabel,L=t.navAriaLabelledBy,w=t.mainAriaLabel,A=t.mainAriaLabelledBy,D=t.hasNoBodyPadding,F=t.footer,P=t.isOpen,M=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(a[n]=e[n]);return a}(t,["width","height","title","description","onClose","onSave","onBack","onNext","onGoToStep","goToStep","goToStepById","goToStepByName","className","steps","currentStep","nextButtonText","backButtonText","cancelButtonText","hideClose","closeButtonAriaLabel","navAriaLabel","navAriaLabelledBy","mainAriaLabel","mainAriaLabelledBy","hasNoBodyPadding","footer","appendTo","isOpen","titleId","descriptionId"]),O=this.getFlattenedSteps(),W=O[(O.length<y?O.length:y)-1],_=this.initSteps(b),G=W===O[0],R=!W||void 0===W.enableNext||W.enableNext,j={goToStepById:f,goToStepByName:v,onNext:d,onBack:m,onClose:s,activeStep:W},K=g({},a?{height:a}:{},r?{width:r}:{}),J=n.createElement(l.WizardContextProvider,{value:j},n.createElement("div",g({},M,{className:i.css(o.wizard,W&&W.isFinishedStep&&"pf-m-finished",E),style:Object.keys(K).length?K:void 0}),c&&n.createElement(l.WizardHeader,{titleId:this.titleId,descriptionId:this.descriptionId,onClose:s,title:c,description:u,closeButtonAriaLabel:B,hideClose:z}),n.createElement(l.WizardToggle,{mainAriaLabel:w,isInPage:void 0===P,mainAriaLabelledBy:(c||A)&&(A||this.titleId),isNavOpen:this.state.isNavOpen,onNavToggle:function(t){return e.setState({isNavOpen:t})},nav:function(t){var r={isOpen:t,"aria-label":q,"aria-labelledby":(c||L)&&(L||e.titleId)};return n.createElement(l.WizardNav,g({},r),_.map((function(t,a){if(t.isFinishedStep)return null;var i;if(t.steps){for(var o,c=!1,u=!1,s=h(t.steps);!(o=s()).done;){var m=o.value;W.name===m.name&&(c=!0),m.canJumpTo&&(u=!0)}return i=e.getFlattenedStepsIndex(O,t.steps[0].name),n.createElement(l.WizardNavItem,{key:a,content:t.name,isCurrent:c,isDisabled:!u,step:i,onNavItemClick:p},n.createElement(l.WizardNav,g({},r,{returnList:!0}),t.steps.map((function(t,r){return t.isFinishedStep?null:(i=e.getFlattenedStepsIndex(O,t.name),n.createElement(l.WizardNavItem,{key:"child_"+r,content:t.name,isCurrent:W.name===t.name,isDisabled:!t.canJumpTo,step:i,onNavItemClick:p}))}))))}return i=e.getFlattenedStepsIndex(O,t.name),n.createElement(l.WizardNavItem,g({},t.stepNavItemProps,{key:a,content:t.name,isCurrent:W.name===t.name,isDisabled:!t.canJumpTo,step:i,onNavItemClick:p}))})))},steps:b,activeStep:W,hasNoBodyPadding:D},F||n.createElement("footer",{className:i.css(o.wizardFooter)},n.createElement(l.Button,{variant:l.ButtonVariant.primary,type:"submit",onClick:d,isDisabled:!R},W&&W.nextButtonText||S),!W.hideBackButton&&n.createElement(l.Button,{variant:l.ButtonVariant.secondary,onClick:m,className:i.css(G&&"pf-m-disabled")},k),!W.hideCancelButton&&n.createElement("div",{className:o.wizardFooterCancel},n.createElement(l.Button,{variant:l.ButtonVariant.link,onClick:s},x))))));return void 0!==P?n.createElement(l.Modal,{width:null!==r?r:void 0,isOpen:P,variant:l.ModalVariant.large,"aria-labelledby":this.titleId,"aria-describedby":this.descriptionId,showClose:!1,hasNoBodyWrapper:!0},J):J},a}(t.Component);y.displayName="Wizard",y.currentId=0,y.defaultProps={title:void 0,description:"",className:"",nextButtonText:"Next",backButtonText:"Back",cancelButtonText:"Cancel",hideClose:!1,closeButtonAriaLabel:"Close",navAriaLabel:void 0,navAriaLabelledBy:void 0,mainAriaLabel:void 0,mainAriaLabelledBy:void 0,hasNoBodyPadding:!1,onGoToStep:void 0,width:void 0,height:void 0,footer:void 0,appendTo:void 0,isOpen:void 0};var C=function(e){var t=e.description,r=e.children;return n.createElement("div",{className:"pf-l-stack"},n.createElement(l.Level,{className:"pf-u-p-md pf-l-stack__item"},n.createElement(l.Title,{headingLevel:"h2"},e.title),function(){switch(typeof t){case"string":return n.createElement("p",null,t);default:return t}}()),n.createElement("div",{className:"pf-l-stack__item pf-l-stack pf-m-fill"},r))},S=function(e,t){return{key:e,node:t(e)}},T=[{title:"1",value:1},{title:"5",value:5},{title:"10",value:10}],k=function(){var e=a.useCreationWizardMachineKafkasActor();return a.useKafkasMachineIsReady(e)?n.createElement(I,null):null},I=function(){var e=c.useTranslation().t,t=u.useBasename().getBasename,r=a.useCreationWizardMachineKafkasActor(),i=a.useKafkasMachine(r),o=i.response,m=i.loading,d=i.error,p=i.selectedId,f=i.noResults,v=i.queryEmpty,g=i.firstRequest,E=i.onSelect,h=i.onQuery;return n.createElement(C,{title:e("Kafka instance"),description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit error adipisci, ducimus ipsum dicta quo beatae ratione aliquid nostrum animi eos, doloremque laborum quasi sed, vitae ipsa illo delectus! Quos"},function(){var e;switch(!0){case g:return n.createElement(s.Loading,null);case v:return n.createElement(n.Fragment,null,n.createElement(x,null),n.createElement(s.NoMatchFound,{onClear:function(){return h({page:1,size:10})}}));case f||d:return n.createElement(s.EmptyState,{emptyStateProps:{variant:s.EmptyStateVariant.GettingStarted},titleProps:{title:"cos.no_kafka_instance"},emptyStateBodyProps:{body:"cos.no_kafka_instance_body"},buttonProps:{title:"cos.create_kafka_instance",variant:l.ButtonVariant.primary,onClick:function(){return window.history.pushState(null,"Create Kafka instance",t()+"/../streams/kafkas?create=true")}}});case m:return n.createElement(n.Fragment,null,n.createElement(x,null),n.createElement(s.Loading,null));default:return n.createElement(n.Fragment,null,n.createElement(x,null),n.createElement("div",{className:"pf-l-stack__item pf-m-fill pf-u-p-md"},n.createElement(l.Gallery,{hasGutter:!0},null==o||null==(e=o.items)?void 0:e.map((function(e){return n.createElement(l.Card,{isHoverable:!0,key:e.id,isSelectable:!0,isSelected:p===e.id,onClick:function(){return E(e.id)}},n.createElement(l.CardHeader,null,n.createElement(l.CardTitle,null,e.name)),n.createElement(l.CardBody,null,n.createElement(l.DescriptionList,null,n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Region"),n.createElement(l.DescriptionListDescription,null,e.region)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Owner"),n.createElement(l.DescriptionListDescription,null,e.owner)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Created"),n.createElement(l.DescriptionListDescription,null,e.created_at)))))})))),n.createElement(L,null))}}())},x=function(){var e=c.useTranslation().t,r=a.useCreationWizardMachineKafkasActor(),i=a.useKafkasMachine(r),o=i.request,u=i.onQuery,d=t.useState(!1),p=d[0],f=d[1],v=t.useState(!1),E=v[0],h=v[1],b=t.useState(!1),y=b[0],C=b[1],T=t.useState(!1),k=T[0],I=T[1],x=t.useState("Name"),w=x[0],A=x[1],D=t.useCallback((function(){return f((function(e){return!e}))}),[]),F=t.useCallback((function(){return h((function(e){return!e}))}),[]),P=t.useCallback((function(){return C((function(e){return!e}))}),[]),M=t.useCallback((function(){return I((function(e){return!e}))}),[]),O=s.useDebounce(u,1e3),W=o.query||{},_=W.name,G=W.owner,R=W.cloudProviders,j=void 0===R?[]:R,K=W.regions,J=void 0===K?[]:K,V=W.statuses,Q=void 0===V?[]:V,H=t.useCallback((function(){return u({page:1,size:o.size})}),[u,o.size]),U=t.useRef(null),Y=t.useRef(null),$=function(e,t,n){var r;return u(g({},o,{query:g({},o.query||{},(r={},r[e]=t.includes(n)?t.filter((function(e){return e!==n})):[].concat(t||[],[n]),r))}))},X=function(e,t){$("statuses",Q,t.key)},Z=function(e,t){$("cloudProviders",j,t.key)},ee=function(e,t){$("regions",J,t.key)},te=function(e){var t;return u(g({},o,{query:g({},o.query||{},(t={},t[e]=void 0,t))}))},ne=t.useCallback((function(e){A((null==e?void 0:e.target).innerText),I((function(e){return!e}))}),[]);t.useEffect((function(){U.current&&(U.current.value=_||""),Y.current&&(Y.current.value=G||"")}),[U,_,G]);var re=z.map((function(e){return n.createElement(l.DropdownItem,{key:e.value},e.label)})),ae=B.filter((function(e){return"preparing"!==e.value})).map((function(e){var t=e.value;return n.createElement(l.SelectOption,{key:t,value:t},e.label)})),ie=N.map((function(e){var t=e.value;return n.createElement(l.SelectOption,{key:t,value:t},e.label)})),oe=q.map((function(e){var t=e.value;return n.createElement(l.SelectOption,{key:t,value:t},e.label)})),le=n.createElement(l.ToolbarItem,null,n.createElement(l.Dropdown,{onSelect:function(e){return ne(e)},position:l.DropdownPosition.left,toggle:n.createElement(l.DropdownToggle,{onToggle:M,style:{width:"100%"}},n.createElement(m.FilterIcon,{size:"sm"})," ",w),isOpen:k,dropdownItems:re,style:{width:"100%"}})),ce=n.createElement(n.Fragment,null,n.createElement(l.ToolbarGroup,{variant:"filter-group"},le,n.createElement(l.ToolbarFilter,{chips:Q.map((function(t){return S(t,e)})),deleteChip:X,deleteChipGroup:function(){return te("statuses")},categoryName:e("status"),showToolbarItem:w===e("status")},n.createElement(l.Select,{variant:"checkbox","aria-label":e("status"),onToggle:D,onSelect:function(t,n){return X(0,S(n,e))},selections:Q,isOpen:p,placeholderText:e("Filter by status")},ae)),n.createElement(l.ToolbarFilter,{chips:j.map((function(t){return S(t,e)})),deleteChip:Z,deleteChipGroup:function(){return te("cloudProviders")},categoryName:e("CloudProvider"),showToolbarItem:w===e("CloudProvider")},n.createElement(l.Select,{variant:"checkbox","aria-label":e("CloudProvider"),onToggle:F,onSelect:function(t,n){return Z(0,S(n,e))},selections:j,isOpen:E,placeholderText:e("Filter by cloud provider")},ie)),n.createElement(l.ToolbarFilter,{chips:J.map((function(t){return S(t,e)})),deleteChip:ee,deleteChipGroup:function(){return te("regions")},categoryName:e("region"),showToolbarItem:w===e("region")},n.createElement(l.Select,{variant:"checkbox","aria-label":e("region"),onToggle:P,onSelect:function(t,n){return ee(0,S(n,e))},selections:J,isOpen:y,placeholderText:e("Filter by region")},oe)),n.createElement(l.ToolbarFilter,{chips:_?[_]:[],deleteChip:function(){return te("name")},categoryName:e("name")},w===e("name")&&n.createElement(l.ToolbarItem,null,n.createElement(l.InputGroup,null,n.createElement(l.TextInput,{name:e("name"),id:e("name"),type:"search",placeholder:e("nameSearchPlaceholder"),"aria-label":e("nameSearchPlaceholder"),onChange:function(e){return O({size:o.size,page:1,query:g({},o.query,{name:e})})},ref:U}),n.createElement(l.Button,{variant:"control","aria-label":"search button for name input",onClick:function(){var e;return u({size:o.size,page:1,query:g({},o.query,{name:(null==(e=U.current)?void 0:e.value)||""})})}},n.createElement(m.SearchIcon,null))))),n.createElement(l.ToolbarFilter,{chips:G?[G]:[],deleteChip:function(){return te("owner")},categoryName:e("owner")},w===e("owner")&&n.createElement(l.ToolbarItem,null,n.createElement(l.InputGroup,null,n.createElement(l.TextInput,{name:e("owner"),id:e("owner"),type:"search",placeholder:e("ownerSearchPlaceholder"),"aria-label":e("ownerSearchPlaceholder"),onChange:function(e){return O({size:o.size,page:1,query:g({},o.query,{owner:e})})},ref:Y}),n.createElement(l.Button,{variant:"control","aria-label":"search button for owner input",onClick:function(){var e;return u({size:o.size,page:1,query:g({},o.query,{owner:(null==(e=Y.current)?void 0:e.value)||""})})}},n.createElement(m.SearchIcon,null))))))),ue=n.createElement(n.Fragment,null,n.createElement(l.ToolbarToggleGroup,{toggleIcon:n.createElement(m.FilterIcon,null),breakpoint:"xl"},ce),n.createElement(l.ToolbarGroup,{variant:"icon-button-group"},n.createElement(l.ToolbarItem,null,n.createElement(l.Button,{variant:"primary"},"Create Kafka Instance"))),n.createElement(l.ToolbarItem,{variant:"pagination",alignment:{default:"alignRight"}},n.createElement(L,{isCompact:!0})));return n.createElement(l.Toolbar,{id:"toolbar-group-types",collapseListedFiltersBreakpoint:"xl",clearAllFilters:H},n.createElement(l.ToolbarContent,null,ue))},z=[{value:"name",label:"Name"},{value:"status",label:"Status"},{value:"cloudprovider",label:"Cloud Provider"},{value:"region",label:"Region"},{value:"owner",label:"Owner"}],N=[{value:"aws",label:"Amazon Web Services"}],B=[{value:"ready",label:"Ready"},{value:"failed",label:"Failed"},{value:"accepted",label:"Creation pending"},{value:"provisioning",label:"Creation in progress"},{value:"preparing",label:"Creation in progress"},{value:"deprovision",label:"Deletion in progress"}],q=[{value:"us-east-1",label:"US East, N. Virginia"}],L=function(e){var t=e.isCompact,r=void 0!==t&&t,i=a.useCreationWizardMachineKafkasActor(),o=a.useKafkasMachine(i),c=o.request,u=o.response,s=o.onQuery;return n.createElement(l.Pagination,{itemCount:(null==u?void 0:u.total)||0,page:c.page,perPage:c.size,perPageOptions:T,onSetPage:function(e,t,n){return s(g({},c,{page:t,size:n||c.size}))},onPerPageSelect:function(){return!1},variant:r?"top":"bottom",isCompact:r})};function w(){var e=a.useCreationWizardMachineClustersActor();return a.useClustersMachineIsReady(e)?n.createElement(A,null):null}var A=function(){var e=c.useTranslation().t,t=d.useHistory(),r=a.useCreationWizardMachineClustersActor(),i=a.useClustersMachine(r),o=i.response,u=i.selectedId,m=i.loading,p=i.error,f=i.noResults,v=i.queryEmpty,g=i.firstRequest,E=i.onSelect,h=i.onQuery;return n.createElement(C,{title:e("OSD cluster"),description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit error adipisci, ducimus ipsum dicta quo beatae ratione aliquid nostrum animi eos, doloremque laborum quasi sed, vitae ipsa illo delectus! Quos"},function(){var e;switch(!0){case g:return n.createElement(s.Loading,null);case v:return n.createElement(n.Fragment,null,n.createElement(D,null),n.createElement(s.NoMatchFound,{onClear:function(){return h({page:1,size:10})}}));case f||p:return n.createElement(s.EmptyState,{emptyStateProps:{variant:s.EmptyStateVariant.GettingStarted},titleProps:{title:"cos.no_clusters_instance"},emptyStateBodyProps:{body:"cos.no_clusters_instance_body"},buttonProps:{title:"cos.create_clusters_instance",variant:l.ButtonVariant.primary,onClick:function(){return t.push("/create-connector")}}});case m:return n.createElement(n.Fragment,null,n.createElement(D,null),n.createElement(s.Loading,null));default:return n.createElement(n.Fragment,null,n.createElement(D,null),n.createElement("div",{className:"pf-l-stack__item pf-m-fill pf-u-p-md"},n.createElement(l.Gallery,{hasGutter:!0},null==o||null==(e=o.items)?void 0:e.map((function(e){var t,r,a;return n.createElement(l.Card,{isHoverable:!0,key:e.id,isSelectable:!0,isSelected:u===e.id,onClick:function(){return E(e.id)}},n.createElement(l.CardHeader,null,n.createElement(l.CardTitle,null,null==(t=e.metadata)?void 0:t.name)),n.createElement(l.CardBody,null,n.createElement(l.DescriptionList,null,n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Owner"),n.createElement(l.DescriptionListDescription,null,null==(r=e.metadata)?void 0:r.owner)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Created"),n.createElement(l.DescriptionListDescription,null,null==(a=e.metadata)?void 0:a.created_at)))))})))),n.createElement(F,null))}}())},D=function(){var e=a.useCreationWizardMachineClustersActor(),r=a.useClustersMachine(e),i=r.request,o=r.onQuery,c=t.useRef(null),u=s.useDebounce(o,1e3),d=n.createElement(n.Fragment,null,n.createElement(l.ToolbarItem,null,n.createElement(l.InputGroup,null,n.createElement(l.TextInput,{name:"textInput2",id:"textInput2",type:"search","aria-label":"search input example",onChange:function(e){return u({size:i.size,page:1,name:e})},ref:c}),n.createElement(l.Button,{variant:"control","aria-label":"search button for search input"},n.createElement(m.SearchIcon,null))))),p=n.createElement(n.Fragment,null,n.createElement(l.ToolbarToggleGroup,{toggleIcon:n.createElement(m.FilterIcon,null),breakpoint:"xl"},d),n.createElement(l.ToolbarGroup,{variant:"icon-button-group"},n.createElement(l.ToolbarItem,null,n.createElement(l.Button,{variant:"primary"},"Create Clusters Instance"))),n.createElement(l.ToolbarItem,{variant:"pagination",alignment:{default:"alignRight"}},n.createElement(F,{isCompact:!0})));return n.createElement(l.Toolbar,{id:"toolbar-group-types",collapseListedFiltersBreakpoint:"xl"},n.createElement(l.ToolbarContent,null,p))},F=function(e){var t=e.isCompact,r=void 0!==t&&t,i=a.useCreationWizardMachineClustersActor(),o=a.useClustersMachine(i),c=o.request,u=o.response,s=o.onQuery;return n.createElement(l.Pagination,{itemCount:(null==u?void 0:u.total)||0,page:c.page,perPage:c.size,perPageOptions:T,onSetPage:function(e,t,n){return s(g({},c,{page:t,size:n||c.size}))},onPerPageSelect:function(){return!1},variant:r?"top":"bottom",isCompact:r})};function P(){var e=a.useCreationWizardMachineConnectorTypesActor();return a.useConnectorTypesMachineIsReady(e)?n.createElement(M,null):null}function M(){var e=c.useTranslation().t,t=a.useCreationWizardMachineConnectorTypesActor(),r=a.useConnectorTypesMachine(t),i=r.response,o=r.loading,u=r.error,m=r.noResults,d=r.queryEmpty,p=r.firstRequest,f=r.selectedId,v=r.onSelect,g=r.onQuery;return n.createElement(C,{title:e("Connector category"),description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit error adipisci, ducimus ipsum dicta quo beatae ratione aliquid nostrum animi eos, doloremque laborum quasi sed, vitae ipsa illo delectus! Quos"},function(){var e;switch(!0){case p:return n.createElement(s.Loading,null);case d:return n.createElement(n.Fragment,null,n.createElement(O,null),n.createElement(s.NoMatchFound,{onClear:function(){return g({page:1,size:10})}}));case m||u:return n.createElement(s.EmptyState,{emptyStateProps:{variant:s.EmptyStateVariant.GettingStarted},titleProps:{title:"cos.no_connector_types"},emptyStateBodyProps:{body:"cos.no_connector_types_body"}});case o:return n.createElement(n.Fragment,null,n.createElement(O,null),n.createElement(s.Loading,null));default:return n.createElement(n.Fragment,null,n.createElement(O,null),n.createElement("div",{className:"pf-l-stack__item pf-m-fill pf-u-p-md"},n.createElement(l.Gallery,{hasGutter:!0},null==i||null==(e=i.items)?void 0:e.map((function(e){return n.createElement(l.Card,{isHoverable:!0,key:e.id,isSelectable:!0,isSelected:f===e.id,onClick:function(){return v(e.id)}},n.createElement(l.CardHeader,null,n.createElement(l.CardTitle,null,e.name)),n.createElement(l.CardBody,null,n.createElement(l.DescriptionList,null,n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListDescription,null,e.description)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Version"),n.createElement(l.DescriptionListDescription,null,e.version)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"ID"),n.createElement(l.DescriptionListDescription,null,e.id)))))})))),n.createElement(W,null))}}())}var O=function(){var e=c.useTranslation().t,r=a.useCreationWizardMachineConnectorTypesActor(),i=a.useConnectorTypesMachine(r),o=i.request,u=i.onQuery,d=t.useState(!1),p=d[0],f=d[1],v=t.useRef(null),E=s.useDebounce(u,1e3),h=o.query||{},b=h.name,y=h.categories,C=void 0===y?[]:y,T=t.useCallback((function(){return u({page:1,size:o.size})}),[u,o.size]),k=t.useCallback((function(){return f((function(e){return!e}))}),[]),I=function(e,t){!function(e,t,n){var r;u(g({},o,{query:g({},o.query||{},(r={},r.categories=t.includes(n)?t.filter((function(e){return e!==n})):[].concat(t||[],[n]),r))}))}(0,C,t.key)};t.useEffect((function(){v.current&&(v.current.value=b||"")}),[v,b]);var x=[n.createElement(l.SelectOption,{key:"sink",value:"sink"},e("sink")),n.createElement(l.SelectOption,{key:"source",value:"source"},e("source"))],z=n.createElement(n.Fragment,null,n.createElement(l.ToolbarItem,null,n.createElement(l.InputGroup,null,n.createElement(l.TextInput,{name:"name",id:"name",type:"search","aria-label":"filter by connector name",onChange:function(e){return E({size:o.size,page:1,query:g({},o.query,{name:e})})},ref:v}),n.createElement(l.Button,{variant:"control","aria-label":"search button for search input"},n.createElement(m.SearchIcon,null)))),n.createElement(l.ToolbarGroup,{variant:"filter-group"},n.createElement(l.ToolbarFilter,{chips:C.map((function(t){return S(t,e)})),deleteChip:I,deleteChipGroup:function(){return u(g({},o,{query:g({},o.query||{},(e={},e.categories=void 0,e))}));var e},categoryName:"Connector type"},n.createElement(l.Select,{variant:"checkbox","aria-label":"Connector type",onToggle:k,onSelect:function(t,n){return I(0,S(n,e))},selections:C,isOpen:p,placeholderText:"Connector type"},x)))),N=n.createElement(n.Fragment,null,n.createElement(l.ToolbarToggleGroup,{toggleIcon:n.createElement(m.FilterIcon,null),breakpoint:"xl"},z),n.createElement(l.ToolbarItem,{variant:"pagination",alignment:{default:"alignRight"}},n.createElement(W,{isCompact:!0})));return n.createElement(l.Toolbar,{id:"toolbar-group-types",collapseListedFiltersBreakpoint:"xl",clearAllFilters:T},n.createElement(l.ToolbarContent,null,N))},W=function(e){var t=e.isCompact,r=void 0!==t&&t,i=a.useCreationWizardMachineConnectorTypesActor(),o=a.useConnectorTypesMachine(i),c=o.request,u=o.response,s=o.onQuery;return n.createElement(l.Pagination,{itemCount:(null==u?void 0:u.total)||0,page:c.page,perPage:c.size,perPageOptions:T,onSetPage:function(e,t,n){return s(g({},c,{page:t,size:n||c.size}))},onPerPageSelect:function(){return!1},variant:r?"top":"bottom",isCompact:r})},_=function(e){var a=e.actor,i=e.Configurator,o=r.useSelector(a,t.useCallback((function(e){return{connector:e.context.connector,activeStep:e.context.activeStep,configuration:e.context.configuration}}),[a]));return n.createElement(i,{activeStep:o.activeStep,configuration:o.configuration,connector:o.connector,onChange:function(e,t){return a.send({type:"change",configuration:e,isValid:t})}})},G=function(e){var a=e.actor,i=r.useSelector(a,t.useCallback((function(e){return{connector:e.context.connector,configuration:e.context.configuration}}),[a]));return n.createElement(p.JsonSchemaConfigurator,{schema:i.connector.json_schema,configuration:i.configuration||{},onChange:function(e,t){return a.send({type:"change",configuration:e,isValid:t})}})},R=function(){var e=c.useTranslation().t,i=a.useCreationWizardMachineService(),o=r.useSelector(i,t.useCallback((function(e){return{isLoading:e.matches({configureConnector:"loadConfigurator"}),hasErrors:e.matches("failure"),hasCustomConfigurator:!1!==e.context.Configurator&&void 0!==e.context.Configurator,configuration:e.context.connectorConfiguration,Configurator:e.context.Configurator,configuratorRef:e.children.configuratorRef}}),[i])),u=o.isLoading,s=o.hasErrors,d=o.Configurator,p=o.configuratorRef,f=o.hasCustomConfigurator;return n.createElement(C,{title:e("Configurations"),description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit error adipisci, ducimus ipsum dicta quo beatae ratione aliquid nostrum animi eos, doloremque laborum quasi sed, vitae ipsa illo delectus! Quos"},function(){switch(!0){case u:return n.createElement(l.EmptyState,null,n.createElement(l.EmptyStateIcon,{variant:"container",component:l.Spinner}),n.createElement(l.Title,{size:"lg",headingLevel:"h4"},e("loading")));case s:return n.createElement(l.EmptyState,null,n.createElement(l.EmptyStateIcon,{icon:m.ExclamationCircleIcon}),n.createElement(l.Title,{size:"lg",headingLevel:"h4"},"Error message"));case f:return n.createElement(n.Suspense,{fallback:null},n.createElement(_,{actor:p,Configurator:d}));default:return n.createElement(G,{actor:p})}}())};function j(){var e=c.useTranslation().t,r=a.useCreationWizardMachineReviewActor(),i=a.useReviewMachine(r),o=i.name,u=i.serviceAccount,s=i.configString,m=i.configStringError,d=i.configStringWarnings,p=i.isSaving,v=i.savingError,E=i.onSetName,h=i.onSetServiceAccount,b=i.onUpdateConfiguration,y=t.useCallback((function(e,t){e.layout(),e.focus()}),[]);return n.createElement(C,{title:e("Review"),description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit error adipisci, ducimus ipsum dicta quo beatae ratione aliquid nostrum animi eos, doloremque laborum quasi sed, vitae ipsa illo delectus! Quos"},n.createElement(l.Card,null,n.createElement(l.CardBody,null,n.createElement(l.Form,null,v&&n.createElement(l.FormAlert,null,n.createElement(l.Alert,{variant:"danger",title:v,"aria-live":"polite",isInline:!0})),n.createElement(l.FormGroup,{label:"Name",isRequired:!0,fieldId:"name",helperText:"Please provide a unique name for the connector"},n.createElement(l.TextInput,{isDisabled:p,value:o,onChange:E,id:"name"})),n.createElement(l.FormGroup,{label:"Service Account",isRequired:!0,fieldId:"service-account"},n.createElement(l.Radio,{isDisabled:p,isChecked:void 0===u,name:"service-account",onChange:function(){return h(void 0)},label:"Automatically create a Service Account for this connector",id:"service-account-automatic",value:"automatic"}),n.createElement(l.Radio,{isDisabled:p,isChecked:void 0!==u,name:"service-account",onChange:function(){return h({clientId:"",clientSecret:""})},label:"Provide the credentials manually",id:"service-account-user",value:"user"}),void 0!==u&&n.createElement(n.Fragment,null,n.createElement(l.FormGroup,{label:"Client ID",isRequired:!0,fieldId:"clientId"},n.createElement(l.TextInput,{isDisabled:p,value:u.clientId,onChange:function(e){return h(g({},u,{clientId:e}))},id:"clientId"})),n.createElement(l.FormGroup,{label:"Client Secret",isRequired:!0,fieldId:"clientSecret"},n.createElement(l.TextInput,{isDisabled:p,value:u.clientSecret,onChange:function(e){return h(g({},u,{clientSecret:e}))},id:"clientSecret"})))),n.createElement(l.FormGroup,{label:"Configuration",isRequired:!0,fieldId:"configuration",helperText:"Please review the configuration data.",helperTextInvalid:m,validated:void 0!==m?"error":void 0!==d?"warning":"default"},n.createElement(f.CodeEditor,{id:"configuration",isDarkTheme:!1,isLineNumbersVisible:!0,isReadOnly:p,isMinimapVisible:!1,isLanguageLabelVisible:!0,code:s,onChange:b,language:f.Language.json,onEditorDidMount:y,height:"400px"}),n.createElement(l.AlertGroup,null,null==d?void 0:d.map((function(e,t){return n.createElement(l.Alert,{key:t,title:e,variant:"warning",isInline:!0})}))))))))}var K=function(e){var t=e.error;return n.createElement("div",{role:"alert"},n.createElement("p",null,"Something went wrong:"),n.createElement("pre",null,t.message))},J=function(e){var t=e.children;return n.createElement(v.ErrorBoundary,{FallbackComponent:K,resetKeys:[Date.now()]},t)};Object.keys(a).forEach((function(e){"default"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})})),exports.CreationWizard=function(e){var i=e.onClose,o=c.useTranslation().t,l=a.useCreationWizardMachineService(),u=r.useService(l),s=u[0],m=u[1],d=function(){var e=c.useTranslation().t,i=a.useCreationWizardMachineService(),o=r.useSelector(i,t.useCallback((function(e){return{isActive:e.matches("selectKafka"),canJumpTo:a.creationWizardMachine.transition(e,"jumpToSelectKafka").changed||e.matches("selectKafka"),enableNext:a.creationWizardMachine.transition(e,"next").changed}}),[i])),l=o.isActive,u=o.canJumpTo,s=o.enableNext;return{name:e("Kafka instance"),isActive:l,component:n.createElement(J,null,n.createElement(k,null)),canJumpTo:u,enableNext:s}}(),p=function(){var e=c.useTranslation().t,i=a.useCreationWizardMachineService(),o=r.useSelector(i,t.useCallback((function(e){return{isActive:e.matches("configureConnector"),canJumpTo:a.creationWizardMachine.transition(e,"jumpToConfigureConnector").changed||e.matches("configureConnector"),enableNext:a.creationWizardMachine.transition(e,"next").changed,steps:e.context.configurationSteps,activeStep:e.context.activeConfigurationStep,canJumpToStep:function(t){return a.creationWizardMachine.transition(e,{type:"jumpToConfigureConnector",subStep:t}).changed}}}),[i])),l=o.isActive,u=o.activeStep,s=o.canJumpTo,m=o.canJumpToStep,d=o.enableNext,p=o.steps;return{name:e("Configurations"),isActive:l,canJumpTo:s,steps:p?p.map((function(e,t){return{name:e,isActive:l&&u===t,canJumpTo:m(t),enableNext:d,component:n.createElement(J,null,n.createElement(R,null))}})):void 0,enableNext:d,component:n.createElement(J,null,n.createElement(R,null))}}();if("saved"===s.value)return null;var f=[{name:o("Connector category"),isActive:s.matches("selectConnector"),component:n.createElement(J,null,n.createElement(P,null)),canJumpTo:a.creationWizardMachine.transition(s,"jumpToSelectConnector").changed||s.matches("selectConnector"),enableNext:a.creationWizardMachine.transition(s,"next").changed},d,{name:o("OSD cluster"),isActive:s.matches("selectCluster"),component:n.createElement(J,null,n.createElement(w,null)),canJumpTo:a.creationWizardMachine.transition(s,"jumpToSelectCluster").changed||s.matches("selectCluster"),enableNext:a.creationWizardMachine.transition(s,"next").changed},p,{name:o("Review"),isActive:s.matches("reviewConfiguration"),component:n.createElement(J,null,n.createElement(j,null)),canJumpTo:a.creationWizardMachine.transition(s,"jumpToReviewConfiguration").changed||s.matches("reviewConfiguration"),enableNext:a.creationWizardMachine.transition(s,"next").changed,nextButtonText:"Create connector"}],v=b(f),g=v.reduceRight((function(e,t,n){return t.isActive&&n>e?n:e}),-1)+1;return n.createElement(y,{className:"cos",steps:f,currentStep:g,onNext:function(){return m("next")},onBack:function(){return m("prev")},onClose:i,onSave:function(){return!1},goToStep:function(e){switch(e){case 1:m("jumpToSelectConnector");break;case 2:m("jumpToSelectKafka");break;case 3:m("jumpToSelectCluster");break;case v.length:m("jumpToReviewConfiguration");break;default:e<v.length&&m({type:"jumpToConfigureConnector",subStep:e-4})}},goToStepById:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.log("goToStepById",t)},goToStepByName:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.log("goToStepByName",t)},hasNoBodyPadding:!0})};\n//# sourceMappingURL=creation-wizard.cjs.production.min.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBa0MsTUFBTSw4QkFBOEIsTUFBTSxnQ0FBZ0MsTUFBTSw2Q0FBNkMsTUFBTSx1QkFBdUIsNENBQTRDLEdBQUcseUJBQXlCLDhDQUE4QyxJQUFJLHNCQUFzQixxQ0FBcUMsMkJBQTJCLDhDQUE4QyxJQUFJLHNCQUFzQix1Q0FBdUMscUJBQXFCO0FBQy93aEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2NyZWF0aW9uV2l6YXJkL2Rpc3QvY3JlYXRpb24td2l6YXJkLmNqcy5wcm9kdWN0aW9uLm1pbi5qcz9hNDcwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoZSl7cmV0dXJuIGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcImRlZmF1bHRcImluIGU/ZS5kZWZhdWx0OmV9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHQ9cmVxdWlyZShcInJlYWN0XCIpLG49ZSh0KSxyPXJlcXVpcmUoXCJAeHN0YXRlL3JlYWN0XCIpLGE9cmVxdWlyZShcIkBjb3MtdWkvbWFjaGluZXNcIiksaT1yZXF1aXJlKFwiQHBhdHRlcm5mbHkvcmVhY3Qtc3R5bGVzXCIpLG89ZShyZXF1aXJlKFwiQHBhdHRlcm5mbHkvcmVhY3Qtc3R5bGVzL2Nzcy9jb21wb25lbnRzL1dpemFyZC93aXphcmRcIikpLGw9cmVxdWlyZShcIkBwYXR0ZXJuZmx5L3JlYWN0LWNvcmVcIiksYz1yZXF1aXJlKFwicmVhY3QtaTE4bmV4dFwiKSx1PXJlcXVpcmUoXCJAYmYyL3VpLXNoYXJlZFwiKSxzPXJlcXVpcmUoXCJAY29zLXVpL3V0aWxzXCIpLG09cmVxdWlyZShcIkBwYXR0ZXJuZmx5L3JlYWN0LWljb25zXCIpLGQ9cmVxdWlyZShcInJlYWN0LXJvdXRlclwiKSxwPXJlcXVpcmUoXCJAY29zLXVpL2pzb24tc2NoZW1hLWNvbmZpZ3VyYXRvclwiKSxmPXJlcXVpcmUoXCJAcGF0dGVybmZseS9yZWFjdC1jb2RlLWVkaXRvclwiKSx2PXJlcXVpcmUoXCJyZWFjdC1lcnJvci1ib3VuZGFyeVwiKTtmdW5jdGlvbiBnKCl7cmV0dXJuKGc9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBFKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gaChlLHQpe3ZhciBuO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBTeW1ib2x8fG51bGw9PWVbU3ltYm9sLml0ZXJhdG9yXSl7aWYoQXJyYXkuaXNBcnJheShlKXx8KG49ZnVuY3Rpb24oZSx0KXtpZihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gRShlLHZvaWQgMCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKGUpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9FKGUsdm9pZCAwKTp2b2lkIDB9fShlKSl8fHQmJmUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aCl7biYmKGU9bik7dmFyIHI9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gcj49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbcisrXX19fXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX1yZXR1cm4obj1lW1N5bWJvbC5pdGVyYXRvcl0oKSkubmV4dC5iaW5kKG4pfWZ1bmN0aW9uIGIoZSl7Zm9yKHZhciB0LG49W10scj1oKGUpOyEodD1yKCkpLmRvbmU7KXt2YXIgYT10LnZhbHVlO2lmKGEuc3RlcHMpZm9yKHZhciBpLG89aChhLnN0ZXBzKTshKGk9bygpKS5kb25lOyluLnB1c2goaS52YWx1ZSk7ZWxzZSBuLnB1c2goYSl9cmV0dXJuIG59dmFyIHk9ZnVuY3Rpb24oZSl7dmFyIHQscjtmdW5jdGlvbiBhKHQpe3ZhciBuOyhuPWUuY2FsbCh0aGlzLHQpfHx0aGlzKS50aXRsZUlkPXZvaWQgMCxuLmRlc2NyaXB0aW9uSWQ9dm9pZCAwLG4uaGFuZGxlS2V5Q2xpY2tzPWZ1bmN0aW9uKGUpe2Uua2V5Q29kZT09PWwuS0VZX0NPREVTLkVTQ0FQRV9LRVkmJihuLnN0YXRlLmlzTmF2T3Blbj9uLnNldFN0YXRlKHtpc05hdk9wZW46IW4uc3RhdGUuaXNOYXZPcGVufSk6bi5wcm9wcy5pc09wZW4mJm4ucHJvcHMub25DbG9zZSYmbi5wcm9wcy5vbkNsb3NlKCkpfSxuLmdldEZsYXR0ZW5lZFN0ZXBzPWZ1bmN0aW9uKCl7cmV0dXJuIGIobi5wcm9wcy5zdGVwcyl9LG4uZ2V0RmxhdHRlbmVkU3RlcHNJbmRleD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKGVbbl0ubmFtZT09PXQpcmV0dXJuIG4rMTtyZXR1cm4gMH0sbi5pbml0U3RlcHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe2lmKGVbdF0uc3RlcHMpZm9yKHZhciBuPTA7bjxlW3RdLnN0ZXBzLmxlbmd0aDtuKyspZVt0XS5zdGVwc1tuXT1PYmplY3QuYXNzaWduKHtjYW5KdW1wVG86ITB9LGVbdF0uc3RlcHNbbl0pO2VbdF09T2JqZWN0LmFzc2lnbih7Y2FuSnVtcFRvOiEwfSxlW3RdKX1yZXR1cm4gZX0sbi5nZXRFbGVtZW50PWZ1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZSgpOmV8fGRvY3VtZW50LmJvZHl9O3ZhciByPWEuY3VycmVudElkKys7cmV0dXJuIG4udGl0bGVJZD10LnRpdGxlSWR8fFwicGYtd2l6YXJkLXRpdGxlLVwiK3Isbi5kZXNjcmlwdGlvbklkPXQuZGVzY3JpcHRpb25JZHx8XCJwZi13aXphcmQtZGVzY3JpcHRpb24tXCIrcixuLnN0YXRlPXtpc05hdk9wZW46ITF9LG59cj1lLCh0PWEpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSx0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10LHQuX19wcm90b19fPXI7dmFyIGM9YS5wcm90b3R5cGU7cmV0dXJuIGMuY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXt2YXIgZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQuYm9keTpudWxsO2UmJmUuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLmhhbmRsZUtleUNsaWNrcywhMSl9LGMuY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXt2YXIgZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LmJvZHl8fG51bGw7ZSYmZS5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuaGFuZGxlS2V5Q2xpY2tzLCExKX0sYy5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5wcm9wcyxyPXQud2lkdGgsYT10LmhlaWdodCxjPXQudGl0bGUsdT10LmRlc2NyaXB0aW9uLHM9dC5vbkNsb3NlLG09dC5vbkJhY2ssZD10Lm9uTmV4dCxwPXQuZ29Ub1N0ZXAsZj10LmdvVG9TdGVwQnlJZCx2PXQuZ29Ub1N0ZXBCeU5hbWUsRT10LmNsYXNzTmFtZSxiPXQuc3RlcHMseT10LmN1cnJlbnRTdGVwLEM9dC5uZXh0QnV0dG9uVGV4dCxTPXZvaWQgMD09PUM/XCJOZXh0XCI6QyxUPXQuYmFja0J1dHRvblRleHQsaz12b2lkIDA9PT1UP1wiQmFja1wiOlQsST10LmNhbmNlbEJ1dHRvblRleHQseD12b2lkIDA9PT1JP1wiQ2FuY2VsXCI6SSx6PXQuaGlkZUNsb3NlLE49dC5jbG9zZUJ1dHRvbkFyaWFMYWJlbCxCPXZvaWQgMD09PU4/XCJDbG9zZVwiOk4scT10Lm5hdkFyaWFMYWJlbCxMPXQubmF2QXJpYUxhYmVsbGVkQnksdz10Lm1haW5BcmlhTGFiZWwsQT10Lm1haW5BcmlhTGFiZWxsZWRCeSxEPXQuaGFzTm9Cb2R5UGFkZGluZyxGPXQuZm9vdGVyLFA9dC5pc09wZW4sTT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIG4scixhPXt9LGk9T2JqZWN0LmtleXMoZSk7Zm9yKHI9MDtyPGkubGVuZ3RoO3IrKyl0LmluZGV4T2Yobj1pW3JdKT49MHx8KGFbbl09ZVtuXSk7cmV0dXJuIGF9KHQsW1wid2lkdGhcIixcImhlaWdodFwiLFwidGl0bGVcIixcImRlc2NyaXB0aW9uXCIsXCJvbkNsb3NlXCIsXCJvblNhdmVcIixcIm9uQmFja1wiLFwib25OZXh0XCIsXCJvbkdvVG9TdGVwXCIsXCJnb1RvU3RlcFwiLFwiZ29Ub1N0ZXBCeUlkXCIsXCJnb1RvU3RlcEJ5TmFtZVwiLFwiY2xhc3NOYW1lXCIsXCJzdGVwc1wiLFwiY3VycmVudFN0ZXBcIixcIm5leHRCdXR0b25UZXh0XCIsXCJiYWNrQnV0dG9uVGV4dFwiLFwiY2FuY2VsQnV0dG9uVGV4dFwiLFwiaGlkZUNsb3NlXCIsXCJjbG9zZUJ1dHRvbkFyaWFMYWJlbFwiLFwibmF2QXJpYUxhYmVsXCIsXCJuYXZBcmlhTGFiZWxsZWRCeVwiLFwibWFpbkFyaWFMYWJlbFwiLFwibWFpbkFyaWFMYWJlbGxlZEJ5XCIsXCJoYXNOb0JvZHlQYWRkaW5nXCIsXCJmb290ZXJcIixcImFwcGVuZFRvXCIsXCJpc09wZW5cIixcInRpdGxlSWRcIixcImRlc2NyaXB0aW9uSWRcIl0pLE89dGhpcy5nZXRGbGF0dGVuZWRTdGVwcygpLFc9T1soTy5sZW5ndGg8eT9PLmxlbmd0aDp5KS0xXSxfPXRoaXMuaW5pdFN0ZXBzKGIpLEc9Vz09PU9bMF0sUj0hV3x8dm9pZCAwPT09Vy5lbmFibGVOZXh0fHxXLmVuYWJsZU5leHQsaj17Z29Ub1N0ZXBCeUlkOmYsZ29Ub1N0ZXBCeU5hbWU6dixvbk5leHQ6ZCxvbkJhY2s6bSxvbkNsb3NlOnMsYWN0aXZlU3RlcDpXfSxLPWcoe30sYT97aGVpZ2h0OmF9Ont9LHI/e3dpZHRoOnJ9Ont9KSxKPW4uY3JlYXRlRWxlbWVudChsLldpemFyZENvbnRleHRQcm92aWRlcix7dmFsdWU6an0sbi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsZyh7fSxNLHtjbGFzc05hbWU6aS5jc3Moby53aXphcmQsVyYmVy5pc0ZpbmlzaGVkU3RlcCYmXCJwZi1tLWZpbmlzaGVkXCIsRSksc3R5bGU6T2JqZWN0LmtleXMoSykubGVuZ3RoP0s6dm9pZCAwfSksYyYmbi5jcmVhdGVFbGVtZW50KGwuV2l6YXJkSGVhZGVyLHt0aXRsZUlkOnRoaXMudGl0bGVJZCxkZXNjcmlwdGlvbklkOnRoaXMuZGVzY3JpcHRpb25JZCxvbkNsb3NlOnMsdGl0bGU6YyxkZXNjcmlwdGlvbjp1LGNsb3NlQnV0dG9uQXJpYUxhYmVsOkIsaGlkZUNsb3NlOnp9KSxuLmNyZWF0ZUVsZW1lbnQobC5XaXphcmRUb2dnbGUse21haW5BcmlhTGFiZWw6dyxpc0luUGFnZTp2b2lkIDA9PT1QLG1haW5BcmlhTGFiZWxsZWRCeTooY3x8QSkmJihBfHx0aGlzLnRpdGxlSWQpLGlzTmF2T3Blbjp0aGlzLnN0YXRlLmlzTmF2T3Blbixvbk5hdlRvZ2dsZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5zZXRTdGF0ZSh7aXNOYXZPcGVuOnR9KX0sbmF2OmZ1bmN0aW9uKHQpe3ZhciByPXtpc09wZW46dCxcImFyaWEtbGFiZWxcIjpxLFwiYXJpYS1sYWJlbGxlZGJ5XCI6KGN8fEwpJiYoTHx8ZS50aXRsZUlkKX07cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLldpemFyZE5hdixnKHt9LHIpLF8ubWFwKChmdW5jdGlvbih0LGEpe2lmKHQuaXNGaW5pc2hlZFN0ZXApcmV0dXJuIG51bGw7dmFyIGk7aWYodC5zdGVwcyl7Zm9yKHZhciBvLGM9ITEsdT0hMSxzPWgodC5zdGVwcyk7IShvPXMoKSkuZG9uZTspe3ZhciBtPW8udmFsdWU7Vy5uYW1lPT09bS5uYW1lJiYoYz0hMCksbS5jYW5KdW1wVG8mJih1PSEwKX1yZXR1cm4gaT1lLmdldEZsYXR0ZW5lZFN0ZXBzSW5kZXgoTyx0LnN0ZXBzWzBdLm5hbWUpLG4uY3JlYXRlRWxlbWVudChsLldpemFyZE5hdkl0ZW0se2tleTphLGNvbnRlbnQ6dC5uYW1lLGlzQ3VycmVudDpjLGlzRGlzYWJsZWQ6IXUsc3RlcDppLG9uTmF2SXRlbUNsaWNrOnB9LG4uY3JlYXRlRWxlbWVudChsLldpemFyZE5hdixnKHt9LHIse3JldHVybkxpc3Q6ITB9KSx0LnN0ZXBzLm1hcCgoZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5pc0ZpbmlzaGVkU3RlcD9udWxsOihpPWUuZ2V0RmxhdHRlbmVkU3RlcHNJbmRleChPLHQubmFtZSksbi5jcmVhdGVFbGVtZW50KGwuV2l6YXJkTmF2SXRlbSx7a2V5OlwiY2hpbGRfXCIrcixjb250ZW50OnQubmFtZSxpc0N1cnJlbnQ6Vy5uYW1lPT09dC5uYW1lLGlzRGlzYWJsZWQ6IXQuY2FuSnVtcFRvLHN0ZXA6aSxvbk5hdkl0ZW1DbGljazpwfSkpfSkpKSl9cmV0dXJuIGk9ZS5nZXRGbGF0dGVuZWRTdGVwc0luZGV4KE8sdC5uYW1lKSxuLmNyZWF0ZUVsZW1lbnQobC5XaXphcmROYXZJdGVtLGcoe30sdC5zdGVwTmF2SXRlbVByb3BzLHtrZXk6YSxjb250ZW50OnQubmFtZSxpc0N1cnJlbnQ6Vy5uYW1lPT09dC5uYW1lLGlzRGlzYWJsZWQ6IXQuY2FuSnVtcFRvLHN0ZXA6aSxvbk5hdkl0ZW1DbGljazpwfSkpfSkpKX0sc3RlcHM6YixhY3RpdmVTdGVwOlcsaGFzTm9Cb2R5UGFkZGluZzpEfSxGfHxuLmNyZWF0ZUVsZW1lbnQoXCJmb290ZXJcIix7Y2xhc3NOYW1lOmkuY3NzKG8ud2l6YXJkRm9vdGVyKX0sbi5jcmVhdGVFbGVtZW50KGwuQnV0dG9uLHt2YXJpYW50OmwuQnV0dG9uVmFyaWFudC5wcmltYXJ5LHR5cGU6XCJzdWJtaXRcIixvbkNsaWNrOmQsaXNEaXNhYmxlZDohUn0sVyYmVy5uZXh0QnV0dG9uVGV4dHx8UyksIVcuaGlkZUJhY2tCdXR0b24mJm4uY3JlYXRlRWxlbWVudChsLkJ1dHRvbix7dmFyaWFudDpsLkJ1dHRvblZhcmlhbnQuc2Vjb25kYXJ5LG9uQ2xpY2s6bSxjbGFzc05hbWU6aS5jc3MoRyYmXCJwZi1tLWRpc2FibGVkXCIpfSxrKSwhVy5oaWRlQ2FuY2VsQnV0dG9uJiZuLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOm8ud2l6YXJkRm9vdGVyQ2FuY2VsfSxuLmNyZWF0ZUVsZW1lbnQobC5CdXR0b24se3ZhcmlhbnQ6bC5CdXR0b25WYXJpYW50Lmxpbmssb25DbGljazpzfSx4KSkpKSkpO3JldHVybiB2b2lkIDAhPT1QP24uY3JlYXRlRWxlbWVudChsLk1vZGFsLHt3aWR0aDpudWxsIT09cj9yOnZvaWQgMCxpc09wZW46UCx2YXJpYW50OmwuTW9kYWxWYXJpYW50LmxhcmdlLFwiYXJpYS1sYWJlbGxlZGJ5XCI6dGhpcy50aXRsZUlkLFwiYXJpYS1kZXNjcmliZWRieVwiOnRoaXMuZGVzY3JpcHRpb25JZCxzaG93Q2xvc2U6ITEsaGFzTm9Cb2R5V3JhcHBlcjohMH0sSik6Sn0sYX0odC5Db21wb25lbnQpO3kuZGlzcGxheU5hbWU9XCJXaXphcmRcIix5LmN1cnJlbnRJZD0wLHkuZGVmYXVsdFByb3BzPXt0aXRsZTp2b2lkIDAsZGVzY3JpcHRpb246XCJcIixjbGFzc05hbWU6XCJcIixuZXh0QnV0dG9uVGV4dDpcIk5leHRcIixiYWNrQnV0dG9uVGV4dDpcIkJhY2tcIixjYW5jZWxCdXR0b25UZXh0OlwiQ2FuY2VsXCIsaGlkZUNsb3NlOiExLGNsb3NlQnV0dG9uQXJpYUxhYmVsOlwiQ2xvc2VcIixuYXZBcmlhTGFiZWw6dm9pZCAwLG5hdkFyaWFMYWJlbGxlZEJ5OnZvaWQgMCxtYWluQXJpYUxhYmVsOnZvaWQgMCxtYWluQXJpYUxhYmVsbGVkQnk6dm9pZCAwLGhhc05vQm9keVBhZGRpbmc6ITEsb25Hb1RvU3RlcDp2b2lkIDAsd2lkdGg6dm9pZCAwLGhlaWdodDp2b2lkIDAsZm9vdGVyOnZvaWQgMCxhcHBlbmRUbzp2b2lkIDAsaXNPcGVuOnZvaWQgMH07dmFyIEM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXNjcmlwdGlvbixyPWUuY2hpbGRyZW47cmV0dXJuIG4uY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJwZi1sLXN0YWNrXCJ9LG4uY3JlYXRlRWxlbWVudChsLkxldmVsLHtjbGFzc05hbWU6XCJwZi11LXAtbWQgcGYtbC1zdGFja19faXRlbVwifSxuLmNyZWF0ZUVsZW1lbnQobC5UaXRsZSx7aGVhZGluZ0xldmVsOlwiaDJcIn0sZS50aXRsZSksZnVuY3Rpb24oKXtzd2l0Y2godHlwZW9mIHQpe2Nhc2VcInN0cmluZ1wiOnJldHVybiBuLmNyZWF0ZUVsZW1lbnQoXCJwXCIsbnVsbCx0KTtkZWZhdWx0OnJldHVybiB0fX0oKSksbi5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInBmLWwtc3RhY2tfX2l0ZW0gcGYtbC1zdGFjayBwZi1tLWZpbGxcIn0scikpfSxTPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2tleTplLG5vZGU6dChlKX19LFQ9W3t0aXRsZTpcIjFcIix2YWx1ZToxfSx7dGl0bGU6XCI1XCIsdmFsdWU6NX0se3RpdGxlOlwiMTBcIix2YWx1ZToxMH1dLGs9ZnVuY3Rpb24oKXt2YXIgZT1hLnVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUthZmthc0FjdG9yKCk7cmV0dXJuIGEudXNlS2Fma2FzTWFjaGluZUlzUmVhZHkoZSk/bi5jcmVhdGVFbGVtZW50KEksbnVsbCk6bnVsbH0sST1mdW5jdGlvbigpe3ZhciBlPWMudXNlVHJhbnNsYXRpb24oKS50LHQ9dS51c2VCYXNlbmFtZSgpLmdldEJhc2VuYW1lLHI9YS51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVLYWZrYXNBY3RvcigpLGk9YS51c2VLYWZrYXNNYWNoaW5lKHIpLG89aS5yZXNwb25zZSxtPWkubG9hZGluZyxkPWkuZXJyb3IscD1pLnNlbGVjdGVkSWQsZj1pLm5vUmVzdWx0cyx2PWkucXVlcnlFbXB0eSxnPWkuZmlyc3RSZXF1ZXN0LEU9aS5vblNlbGVjdCxoPWkub25RdWVyeTtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KEMse3RpdGxlOmUoXCJLYWZrYSBpbnN0YW5jZVwiKSxkZXNjcmlwdGlvbjpcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0IGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIFN1c2NpcGl0IGVycm9yIGFkaXBpc2NpLCBkdWNpbXVzIGlwc3VtIGRpY3RhIHF1byBiZWF0YWUgcmF0aW9uZSBhbGlxdWlkIG5vc3RydW0gYW5pbWkgZW9zLCBkb2xvcmVtcXVlIGxhYm9ydW0gcXVhc2kgc2VkLCB2aXRhZSBpcHNhIGlsbG8gZGVsZWN0dXMhIFF1b3NcIn0sZnVuY3Rpb24oKXt2YXIgZTtzd2l0Y2goITApe2Nhc2UgZzpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KHMuTG9hZGluZyxudWxsKTtjYXNlIHY6cmV0dXJuIG4uY3JlYXRlRWxlbWVudChuLkZyYWdtZW50LG51bGwsbi5jcmVhdGVFbGVtZW50KHgsbnVsbCksbi5jcmVhdGVFbGVtZW50KHMuTm9NYXRjaEZvdW5kLHtvbkNsZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIGgoe3BhZ2U6MSxzaXplOjEwfSl9fSkpO2Nhc2UgZnx8ZDpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KHMuRW1wdHlTdGF0ZSx7ZW1wdHlTdGF0ZVByb3BzOnt2YXJpYW50OnMuRW1wdHlTdGF0ZVZhcmlhbnQuR2V0dGluZ1N0YXJ0ZWR9LHRpdGxlUHJvcHM6e3RpdGxlOlwiY29zLm5vX2thZmthX2luc3RhbmNlXCJ9LGVtcHR5U3RhdGVCb2R5UHJvcHM6e2JvZHk6XCJjb3Mubm9fa2Fma2FfaW5zdGFuY2VfYm9keVwifSxidXR0b25Qcm9wczp7dGl0bGU6XCJjb3MuY3JlYXRlX2thZmthX2luc3RhbmNlXCIsdmFyaWFudDpsLkJ1dHRvblZhcmlhbnQucHJpbWFyeSxvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShudWxsLFwiQ3JlYXRlIEthZmthIGluc3RhbmNlXCIsdCgpK1wiLy4uL3N0cmVhbXMva2Fma2FzP2NyZWF0ZT10cnVlXCIpfX19KTtjYXNlIG06cmV0dXJuIG4uY3JlYXRlRWxlbWVudChuLkZyYWdtZW50LG51bGwsbi5jcmVhdGVFbGVtZW50KHgsbnVsbCksbi5jcmVhdGVFbGVtZW50KHMuTG9hZGluZyxudWxsKSk7ZGVmYXVsdDpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KG4uRnJhZ21lbnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQoeCxudWxsKSxuLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwicGYtbC1zdGFja19faXRlbSBwZi1tLWZpbGwgcGYtdS1wLW1kXCJ9LG4uY3JlYXRlRWxlbWVudChsLkdhbGxlcnkse2hhc0d1dHRlcjohMH0sbnVsbD09b3x8bnVsbD09KGU9by5pdGVtcyk/dm9pZCAwOmUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuQ2FyZCx7aXNIb3ZlcmFibGU6ITAsa2V5OmUuaWQsaXNTZWxlY3RhYmxlOiEwLGlzU2VsZWN0ZWQ6cD09PWUuaWQsb25DbGljazpmdW5jdGlvbigpe3JldHVybiBFKGUuaWQpfX0sbi5jcmVhdGVFbGVtZW50KGwuQ2FyZEhlYWRlcixudWxsLG4uY3JlYXRlRWxlbWVudChsLkNhcmRUaXRsZSxudWxsLGUubmFtZSkpLG4uY3JlYXRlRWxlbWVudChsLkNhcmRCb2R5LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RUZXJtLG51bGwsXCJSZWdpb25cIiksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0RGVzY3JpcHRpb24sbnVsbCxlLnJlZ2lvbikpLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdEdyb3VwLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0VGVybSxudWxsLFwiT3duZXJcIiksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0RGVzY3JpcHRpb24sbnVsbCxlLm93bmVyKSksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RUZXJtLG51bGwsXCJDcmVhdGVkXCIpLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdERlc2NyaXB0aW9uLG51bGwsZS5jcmVhdGVkX2F0KSkpKSl9KSkpKSxuLmNyZWF0ZUVsZW1lbnQoTCxudWxsKSl9fSgpKX0seD1mdW5jdGlvbigpe3ZhciBlPWMudXNlVHJhbnNsYXRpb24oKS50LHI9YS51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVLYWZrYXNBY3RvcigpLGk9YS51c2VLYWZrYXNNYWNoaW5lKHIpLG89aS5yZXF1ZXN0LHU9aS5vblF1ZXJ5LGQ9dC51c2VTdGF0ZSghMSkscD1kWzBdLGY9ZFsxXSx2PXQudXNlU3RhdGUoITEpLEU9dlswXSxoPXZbMV0sYj10LnVzZVN0YXRlKCExKSx5PWJbMF0sQz1iWzFdLFQ9dC51c2VTdGF0ZSghMSksaz1UWzBdLEk9VFsxXSx4PXQudXNlU3RhdGUoXCJOYW1lXCIpLHc9eFswXSxBPXhbMV0sRD10LnVzZUNhbGxiYWNrKChmdW5jdGlvbigpe3JldHVybiBmKChmdW5jdGlvbihlKXtyZXR1cm4hZX0pKX0pLFtdKSxGPXQudXNlQ2FsbGJhY2soKGZ1bmN0aW9uKCl7cmV0dXJuIGgoKGZ1bmN0aW9uKGUpe3JldHVybiFlfSkpfSksW10pLFA9dC51c2VDYWxsYmFjaygoZnVuY3Rpb24oKXtyZXR1cm4gQygoZnVuY3Rpb24oZSl7cmV0dXJuIWV9KSl9KSxbXSksTT10LnVzZUNhbGxiYWNrKChmdW5jdGlvbigpe3JldHVybiBJKChmdW5jdGlvbihlKXtyZXR1cm4hZX0pKX0pLFtdKSxPPXMudXNlRGVib3VuY2UodSwxZTMpLFc9by5xdWVyeXx8e30sXz1XLm5hbWUsRz1XLm93bmVyLFI9Vy5jbG91ZFByb3ZpZGVycyxqPXZvaWQgMD09PVI/W106UixLPVcucmVnaW9ucyxKPXZvaWQgMD09PUs/W106SyxWPVcuc3RhdHVzZXMsUT12b2lkIDA9PT1WP1tdOlYsSD10LnVzZUNhbGxiYWNrKChmdW5jdGlvbigpe3JldHVybiB1KHtwYWdlOjEsc2l6ZTpvLnNpemV9KX0pLFt1LG8uc2l6ZV0pLFU9dC51c2VSZWYobnVsbCksWT10LnVzZVJlZihudWxsKSwkPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtyZXR1cm4gdShnKHt9LG8se3F1ZXJ5Omcoe30sby5xdWVyeXx8e30sKHI9e30scltlXT10LmluY2x1ZGVzKG4pP3QuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSE9PW59KSk6W10uY29uY2F0KHR8fFtdLFtuXSkscikpfSkpfSxYPWZ1bmN0aW9uKGUsdCl7JChcInN0YXR1c2VzXCIsUSx0LmtleSl9LFo9ZnVuY3Rpb24oZSx0KXskKFwiY2xvdWRQcm92aWRlcnNcIixqLHQua2V5KX0sZWU9ZnVuY3Rpb24oZSx0KXskKFwicmVnaW9uc1wiLEosdC5rZXkpfSx0ZT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdShnKHt9LG8se3F1ZXJ5Omcoe30sby5xdWVyeXx8e30sKHQ9e30sdFtlXT12b2lkIDAsdCkpfSkpfSxuZT10LnVzZUNhbGxiYWNrKChmdW5jdGlvbihlKXtBKChudWxsPT1lP3ZvaWQgMDplLnRhcmdldCkuaW5uZXJUZXh0KSxJKChmdW5jdGlvbihlKXtyZXR1cm4hZX0pKX0pLFtdKTt0LnVzZUVmZmVjdCgoZnVuY3Rpb24oKXtVLmN1cnJlbnQmJihVLmN1cnJlbnQudmFsdWU9X3x8XCJcIiksWS5jdXJyZW50JiYoWS5jdXJyZW50LnZhbHVlPUd8fFwiXCIpfSksW1UsXyxHXSk7dmFyIHJlPXoubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuRHJvcGRvd25JdGVtLHtrZXk6ZS52YWx1ZX0sZS5sYWJlbCl9KSksYWU9Qi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwicHJlcGFyaW5nXCIhPT1lLnZhbHVlfSkpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS52YWx1ZTtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuU2VsZWN0T3B0aW9uLHtrZXk6dCx2YWx1ZTp0fSxlLmxhYmVsKX0pKSxpZT1OLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS52YWx1ZTtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuU2VsZWN0T3B0aW9uLHtrZXk6dCx2YWx1ZTp0fSxlLmxhYmVsKX0pKSxvZT1xLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS52YWx1ZTtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuU2VsZWN0T3B0aW9uLHtrZXk6dCx2YWx1ZTp0fSxlLmxhYmVsKX0pKSxsZT1uLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFySXRlbSxudWxsLG4uY3JlYXRlRWxlbWVudChsLkRyb3Bkb3duLHtvblNlbGVjdDpmdW5jdGlvbihlKXtyZXR1cm4gbmUoZSl9LHBvc2l0aW9uOmwuRHJvcGRvd25Qb3NpdGlvbi5sZWZ0LHRvZ2dsZTpuLmNyZWF0ZUVsZW1lbnQobC5Ecm9wZG93blRvZ2dsZSx7b25Ub2dnbGU6TSxzdHlsZTp7d2lkdGg6XCIxMDAlXCJ9fSxuLmNyZWF0ZUVsZW1lbnQobS5GaWx0ZXJJY29uLHtzaXplOlwic21cIn0pLFwiIFwiLHcpLGlzT3BlbjprLGRyb3Bkb3duSXRlbXM6cmUsc3R5bGU6e3dpZHRoOlwiMTAwJVwifX0pKSxjZT1uLmNyZWF0ZUVsZW1lbnQobi5GcmFnbWVudCxudWxsLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJHcm91cCx7dmFyaWFudDpcImZpbHRlci1ncm91cFwifSxsZSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyRmlsdGVyLHtjaGlwczpRLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIFModCxlKX0pKSxkZWxldGVDaGlwOlgsZGVsZXRlQ2hpcEdyb3VwOmZ1bmN0aW9uKCl7cmV0dXJuIHRlKFwic3RhdHVzZXNcIil9LGNhdGVnb3J5TmFtZTplKFwic3RhdHVzXCIpLHNob3dUb29sYmFySXRlbTp3PT09ZShcInN0YXR1c1wiKX0sbi5jcmVhdGVFbGVtZW50KGwuU2VsZWN0LHt2YXJpYW50OlwiY2hlY2tib3hcIixcImFyaWEtbGFiZWxcIjplKFwic3RhdHVzXCIpLG9uVG9nZ2xlOkQsb25TZWxlY3Q6ZnVuY3Rpb24odCxuKXtyZXR1cm4gWCgwLFMobixlKSl9LHNlbGVjdGlvbnM6USxpc09wZW46cCxwbGFjZWhvbGRlclRleHQ6ZShcIkZpbHRlciBieSBzdGF0dXNcIil9LGFlKSksbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckZpbHRlcix7Y2hpcHM6ai5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBTKHQsZSl9KSksZGVsZXRlQ2hpcDpaLGRlbGV0ZUNoaXBHcm91cDpmdW5jdGlvbigpe3JldHVybiB0ZShcImNsb3VkUHJvdmlkZXJzXCIpfSxjYXRlZ29yeU5hbWU6ZShcIkNsb3VkUHJvdmlkZXJcIiksc2hvd1Rvb2xiYXJJdGVtOnc9PT1lKFwiQ2xvdWRQcm92aWRlclwiKX0sbi5jcmVhdGVFbGVtZW50KGwuU2VsZWN0LHt2YXJpYW50OlwiY2hlY2tib3hcIixcImFyaWEtbGFiZWxcIjplKFwiQ2xvdWRQcm92aWRlclwiKSxvblRvZ2dsZTpGLG9uU2VsZWN0OmZ1bmN0aW9uKHQsbil7cmV0dXJuIFooMCxTKG4sZSkpfSxzZWxlY3Rpb25zOmosaXNPcGVuOkUscGxhY2Vob2xkZXJUZXh0OmUoXCJGaWx0ZXIgYnkgY2xvdWQgcHJvdmlkZXJcIil9LGllKSksbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckZpbHRlcix7Y2hpcHM6Si5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBTKHQsZSl9KSksZGVsZXRlQ2hpcDplZSxkZWxldGVDaGlwR3JvdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGUoXCJyZWdpb25zXCIpfSxjYXRlZ29yeU5hbWU6ZShcInJlZ2lvblwiKSxzaG93VG9vbGJhckl0ZW06dz09PWUoXCJyZWdpb25cIil9LG4uY3JlYXRlRWxlbWVudChsLlNlbGVjdCx7dmFyaWFudDpcImNoZWNrYm94XCIsXCJhcmlhLWxhYmVsXCI6ZShcInJlZ2lvblwiKSxvblRvZ2dsZTpQLG9uU2VsZWN0OmZ1bmN0aW9uKHQsbil7cmV0dXJuIGVlKDAsUyhuLGUpKX0sc2VsZWN0aW9uczpKLGlzT3Blbjp5LHBsYWNlaG9sZGVyVGV4dDplKFwiRmlsdGVyIGJ5IHJlZ2lvblwiKX0sb2UpKSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyRmlsdGVyLHtjaGlwczpfP1tfXTpbXSxkZWxldGVDaGlwOmZ1bmN0aW9uKCl7cmV0dXJuIHRlKFwibmFtZVwiKX0sY2F0ZWdvcnlOYW1lOmUoXCJuYW1lXCIpfSx3PT09ZShcIm5hbWVcIikmJm4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJJdGVtLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuSW5wdXRHcm91cCxudWxsLG4uY3JlYXRlRWxlbWVudChsLlRleHRJbnB1dCx7bmFtZTplKFwibmFtZVwiKSxpZDplKFwibmFtZVwiKSx0eXBlOlwic2VhcmNoXCIscGxhY2Vob2xkZXI6ZShcIm5hbWVTZWFyY2hQbGFjZWhvbGRlclwiKSxcImFyaWEtbGFiZWxcIjplKFwibmFtZVNlYXJjaFBsYWNlaG9sZGVyXCIpLG9uQ2hhbmdlOmZ1bmN0aW9uKGUpe3JldHVybiBPKHtzaXplOm8uc2l6ZSxwYWdlOjEscXVlcnk6Zyh7fSxvLnF1ZXJ5LHtuYW1lOmV9KX0pfSxyZWY6VX0pLG4uY3JlYXRlRWxlbWVudChsLkJ1dHRvbix7dmFyaWFudDpcImNvbnRyb2xcIixcImFyaWEtbGFiZWxcIjpcInNlYXJjaCBidXR0b24gZm9yIG5hbWUgaW5wdXRcIixvbkNsaWNrOmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHUoe3NpemU6by5zaXplLHBhZ2U6MSxxdWVyeTpnKHt9LG8ucXVlcnkse25hbWU6KG51bGw9PShlPVUuY3VycmVudCk/dm9pZCAwOmUudmFsdWUpfHxcIlwifSl9KX19LG4uY3JlYXRlRWxlbWVudChtLlNlYXJjaEljb24sbnVsbCkpKSkpLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJGaWx0ZXIse2NoaXBzOkc/W0ddOltdLGRlbGV0ZUNoaXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGUoXCJvd25lclwiKX0sY2F0ZWdvcnlOYW1lOmUoXCJvd25lclwiKX0sdz09PWUoXCJvd25lclwiKSYmbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckl0ZW0sbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5JbnB1dEdyb3VwLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuVGV4dElucHV0LHtuYW1lOmUoXCJvd25lclwiKSxpZDplKFwib3duZXJcIiksdHlwZTpcInNlYXJjaFwiLHBsYWNlaG9sZGVyOmUoXCJvd25lclNlYXJjaFBsYWNlaG9sZGVyXCIpLFwiYXJpYS1sYWJlbFwiOmUoXCJvd25lclNlYXJjaFBsYWNlaG9sZGVyXCIpLG9uQ2hhbmdlOmZ1bmN0aW9uKGUpe3JldHVybiBPKHtzaXplOm8uc2l6ZSxwYWdlOjEscXVlcnk6Zyh7fSxvLnF1ZXJ5LHtvd25lcjplfSl9KX0scmVmOll9KSxuLmNyZWF0ZUVsZW1lbnQobC5CdXR0b24se3ZhcmlhbnQ6XCJjb250cm9sXCIsXCJhcmlhLWxhYmVsXCI6XCJzZWFyY2ggYnV0dG9uIGZvciBvd25lciBpbnB1dFwiLG9uQ2xpY2s6ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gdSh7c2l6ZTpvLnNpemUscGFnZToxLHF1ZXJ5Omcoe30sby5xdWVyeSx7b3duZXI6KG51bGw9PShlPVkuY3VycmVudCk/dm9pZCAwOmUudmFsdWUpfHxcIlwifSl9KX19LG4uY3JlYXRlRWxlbWVudChtLlNlYXJjaEljb24sbnVsbCkpKSkpKSksdWU9bi5jcmVhdGVFbGVtZW50KG4uRnJhZ21lbnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyVG9nZ2xlR3JvdXAse3RvZ2dsZUljb246bi5jcmVhdGVFbGVtZW50KG0uRmlsdGVySWNvbixudWxsKSxicmVha3BvaW50OlwieGxcIn0sY2UpLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJHcm91cCx7dmFyaWFudDpcImljb24tYnV0dG9uLWdyb3VwXCJ9LG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJJdGVtLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuQnV0dG9uLHt2YXJpYW50OlwicHJpbWFyeVwifSxcIkNyZWF0ZSBLYWZrYSBJbnN0YW5jZVwiKSkpLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJJdGVtLHt2YXJpYW50OlwicGFnaW5hdGlvblwiLGFsaWdubWVudDp7ZGVmYXVsdDpcImFsaWduUmlnaHRcIn19LG4uY3JlYXRlRWxlbWVudChMLHtpc0NvbXBhY3Q6ITB9KSkpO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyLHtpZDpcInRvb2xiYXItZ3JvdXAtdHlwZXNcIixjb2xsYXBzZUxpc3RlZEZpbHRlcnNCcmVha3BvaW50OlwieGxcIixjbGVhckFsbEZpbHRlcnM6SH0sbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckNvbnRlbnQsbnVsbCx1ZSkpfSx6PVt7dmFsdWU6XCJuYW1lXCIsbGFiZWw6XCJOYW1lXCJ9LHt2YWx1ZTpcInN0YXR1c1wiLGxhYmVsOlwiU3RhdHVzXCJ9LHt2YWx1ZTpcImNsb3VkcHJvdmlkZXJcIixsYWJlbDpcIkNsb3VkIFByb3ZpZGVyXCJ9LHt2YWx1ZTpcInJlZ2lvblwiLGxhYmVsOlwiUmVnaW9uXCJ9LHt2YWx1ZTpcIm93bmVyXCIsbGFiZWw6XCJPd25lclwifV0sTj1be3ZhbHVlOlwiYXdzXCIsbGFiZWw6XCJBbWF6b24gV2ViIFNlcnZpY2VzXCJ9XSxCPVt7dmFsdWU6XCJyZWFkeVwiLGxhYmVsOlwiUmVhZHlcIn0se3ZhbHVlOlwiZmFpbGVkXCIsbGFiZWw6XCJGYWlsZWRcIn0se3ZhbHVlOlwiYWNjZXB0ZWRcIixsYWJlbDpcIkNyZWF0aW9uIHBlbmRpbmdcIn0se3ZhbHVlOlwicHJvdmlzaW9uaW5nXCIsbGFiZWw6XCJDcmVhdGlvbiBpbiBwcm9ncmVzc1wifSx7dmFsdWU6XCJwcmVwYXJpbmdcIixsYWJlbDpcIkNyZWF0aW9uIGluIHByb2dyZXNzXCJ9LHt2YWx1ZTpcImRlcHJvdmlzaW9uXCIsbGFiZWw6XCJEZWxldGlvbiBpbiBwcm9ncmVzc1wifV0scT1be3ZhbHVlOlwidXMtZWFzdC0xXCIsbGFiZWw6XCJVUyBFYXN0LCBOLiBWaXJnaW5pYVwifV0sTD1mdW5jdGlvbihlKXt2YXIgdD1lLmlzQ29tcGFjdCxyPXZvaWQgMCE9PXQmJnQsaT1hLnVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUthZmthc0FjdG9yKCksbz1hLnVzZUthZmthc01hY2hpbmUoaSksYz1vLnJlcXVlc3QsdT1vLnJlc3BvbnNlLHM9by5vblF1ZXJ5O3JldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5QYWdpbmF0aW9uLHtpdGVtQ291bnQ6KG51bGw9PXU/dm9pZCAwOnUudG90YWwpfHwwLHBhZ2U6Yy5wYWdlLHBlclBhZ2U6Yy5zaXplLHBlclBhZ2VPcHRpb25zOlQsb25TZXRQYWdlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gcyhnKHt9LGMse3BhZ2U6dCxzaXplOm58fGMuc2l6ZX0pKX0sb25QZXJQYWdlU2VsZWN0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LHZhcmlhbnQ6cj9cInRvcFwiOlwiYm90dG9tXCIsaXNDb21wYWN0OnJ9KX07ZnVuY3Rpb24gdygpe3ZhciBlPWEudXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lQ2x1c3RlcnNBY3RvcigpO3JldHVybiBhLnVzZUNsdXN0ZXJzTWFjaGluZUlzUmVhZHkoZSk/bi5jcmVhdGVFbGVtZW50KEEsbnVsbCk6bnVsbH12YXIgQT1mdW5jdGlvbigpe3ZhciBlPWMudXNlVHJhbnNsYXRpb24oKS50LHQ9ZC51c2VIaXN0b3J5KCkscj1hLnVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUNsdXN0ZXJzQWN0b3IoKSxpPWEudXNlQ2x1c3RlcnNNYWNoaW5lKHIpLG89aS5yZXNwb25zZSx1PWkuc2VsZWN0ZWRJZCxtPWkubG9hZGluZyxwPWkuZXJyb3IsZj1pLm5vUmVzdWx0cyx2PWkucXVlcnlFbXB0eSxnPWkuZmlyc3RSZXF1ZXN0LEU9aS5vblNlbGVjdCxoPWkub25RdWVyeTtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KEMse3RpdGxlOmUoXCJPU0QgY2x1c3RlclwiKSxkZXNjcmlwdGlvbjpcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0IGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIFN1c2NpcGl0IGVycm9yIGFkaXBpc2NpLCBkdWNpbXVzIGlwc3VtIGRpY3RhIHF1byBiZWF0YWUgcmF0aW9uZSBhbGlxdWlkIG5vc3RydW0gYW5pbWkgZW9zLCBkb2xvcmVtcXVlIGxhYm9ydW0gcXVhc2kgc2VkLCB2aXRhZSBpcHNhIGlsbG8gZGVsZWN0dXMhIFF1b3NcIn0sZnVuY3Rpb24oKXt2YXIgZTtzd2l0Y2goITApe2Nhc2UgZzpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KHMuTG9hZGluZyxudWxsKTtjYXNlIHY6cmV0dXJuIG4uY3JlYXRlRWxlbWVudChuLkZyYWdtZW50LG51bGwsbi5jcmVhdGVFbGVtZW50KEQsbnVsbCksbi5jcmVhdGVFbGVtZW50KHMuTm9NYXRjaEZvdW5kLHtvbkNsZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIGgoe3BhZ2U6MSxzaXplOjEwfSl9fSkpO2Nhc2UgZnx8cDpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KHMuRW1wdHlTdGF0ZSx7ZW1wdHlTdGF0ZVByb3BzOnt2YXJpYW50OnMuRW1wdHlTdGF0ZVZhcmlhbnQuR2V0dGluZ1N0YXJ0ZWR9LHRpdGxlUHJvcHM6e3RpdGxlOlwiY29zLm5vX2NsdXN0ZXJzX2luc3RhbmNlXCJ9LGVtcHR5U3RhdGVCb2R5UHJvcHM6e2JvZHk6XCJjb3Mubm9fY2x1c3RlcnNfaW5zdGFuY2VfYm9keVwifSxidXR0b25Qcm9wczp7dGl0bGU6XCJjb3MuY3JlYXRlX2NsdXN0ZXJzX2luc3RhbmNlXCIsdmFyaWFudDpsLkJ1dHRvblZhcmlhbnQucHJpbWFyeSxvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIHQucHVzaChcIi9jcmVhdGUtY29ubmVjdG9yXCIpfX19KTtjYXNlIG06cmV0dXJuIG4uY3JlYXRlRWxlbWVudChuLkZyYWdtZW50LG51bGwsbi5jcmVhdGVFbGVtZW50KEQsbnVsbCksbi5jcmVhdGVFbGVtZW50KHMuTG9hZGluZyxudWxsKSk7ZGVmYXVsdDpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KG4uRnJhZ21lbnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQoRCxudWxsKSxuLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwicGYtbC1zdGFja19faXRlbSBwZi1tLWZpbGwgcGYtdS1wLW1kXCJ9LG4uY3JlYXRlRWxlbWVudChsLkdhbGxlcnkse2hhc0d1dHRlcjohMH0sbnVsbD09b3x8bnVsbD09KGU9by5pdGVtcyk/dm9pZCAwOmUubWFwKChmdW5jdGlvbihlKXt2YXIgdCxyLGE7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLkNhcmQse2lzSG92ZXJhYmxlOiEwLGtleTplLmlkLGlzU2VsZWN0YWJsZTohMCxpc1NlbGVjdGVkOnU9PT1lLmlkLG9uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gRShlLmlkKX19LG4uY3JlYXRlRWxlbWVudChsLkNhcmRIZWFkZXIsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5DYXJkVGl0bGUsbnVsbCxudWxsPT0odD1lLm1ldGFkYXRhKT92b2lkIDA6dC5uYW1lKSksbi5jcmVhdGVFbGVtZW50KGwuQ2FyZEJvZHksbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3QsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RHcm91cCxudWxsLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdFRlcm0sbnVsbCxcIk93bmVyXCIpLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdERlc2NyaXB0aW9uLG51bGwsbnVsbD09KHI9ZS5tZXRhZGF0YSk/dm9pZCAwOnIub3duZXIpKSxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RHcm91cCxudWxsLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdFRlcm0sbnVsbCxcIkNyZWF0ZWRcIiksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0RGVzY3JpcHRpb24sbnVsbCxudWxsPT0oYT1lLm1ldGFkYXRhKT92b2lkIDA6YS5jcmVhdGVkX2F0KSkpKSl9KSkpKSxuLmNyZWF0ZUVsZW1lbnQoRixudWxsKSl9fSgpKX0sRD1mdW5jdGlvbigpe3ZhciBlPWEudXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lQ2x1c3RlcnNBY3RvcigpLHI9YS51c2VDbHVzdGVyc01hY2hpbmUoZSksaT1yLnJlcXVlc3Qsbz1yLm9uUXVlcnksYz10LnVzZVJlZihudWxsKSx1PXMudXNlRGVib3VuY2UobywxZTMpLGQ9bi5jcmVhdGVFbGVtZW50KG4uRnJhZ21lbnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFySXRlbSxudWxsLG4uY3JlYXRlRWxlbWVudChsLklucHV0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5UZXh0SW5wdXQse25hbWU6XCJ0ZXh0SW5wdXQyXCIsaWQ6XCJ0ZXh0SW5wdXQyXCIsdHlwZTpcInNlYXJjaFwiLFwiYXJpYS1sYWJlbFwiOlwic2VhcmNoIGlucHV0IGV4YW1wbGVcIixvbkNoYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gdSh7c2l6ZTppLnNpemUscGFnZToxLG5hbWU6ZX0pfSxyZWY6Y30pLG4uY3JlYXRlRWxlbWVudChsLkJ1dHRvbix7dmFyaWFudDpcImNvbnRyb2xcIixcImFyaWEtbGFiZWxcIjpcInNlYXJjaCBidXR0b24gZm9yIHNlYXJjaCBpbnB1dFwifSxuLmNyZWF0ZUVsZW1lbnQobS5TZWFyY2hJY29uLG51bGwpKSkpKSxwPW4uY3JlYXRlRWxlbWVudChuLkZyYWdtZW50LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhclRvZ2dsZUdyb3VwLHt0b2dnbGVJY29uOm4uY3JlYXRlRWxlbWVudChtLkZpbHRlckljb24sbnVsbCksYnJlYWtwb2ludDpcInhsXCJ9LGQpLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJHcm91cCx7dmFyaWFudDpcImljb24tYnV0dG9uLWdyb3VwXCJ9LG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJJdGVtLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuQnV0dG9uLHt2YXJpYW50OlwicHJpbWFyeVwifSxcIkNyZWF0ZSBDbHVzdGVycyBJbnN0YW5jZVwiKSkpLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJJdGVtLHt2YXJpYW50OlwicGFnaW5hdGlvblwiLGFsaWdubWVudDp7ZGVmYXVsdDpcImFsaWduUmlnaHRcIn19LG4uY3JlYXRlRWxlbWVudChGLHtpc0NvbXBhY3Q6ITB9KSkpO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyLHtpZDpcInRvb2xiYXItZ3JvdXAtdHlwZXNcIixjb2xsYXBzZUxpc3RlZEZpbHRlcnNCcmVha3BvaW50OlwieGxcIn0sbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckNvbnRlbnQsbnVsbCxwKSl9LEY9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pc0NvbXBhY3Qscj12b2lkIDAhPT10JiZ0LGk9YS51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVDbHVzdGVyc0FjdG9yKCksbz1hLnVzZUNsdXN0ZXJzTWFjaGluZShpKSxjPW8ucmVxdWVzdCx1PW8ucmVzcG9uc2Uscz1vLm9uUXVlcnk7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLlBhZ2luYXRpb24se2l0ZW1Db3VudDoobnVsbD09dT92b2lkIDA6dS50b3RhbCl8fDAscGFnZTpjLnBhZ2UscGVyUGFnZTpjLnNpemUscGVyUGFnZU9wdGlvbnM6VCxvblNldFBhZ2U6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBzKGcoe30sYyx7cGFnZTp0LHNpemU6bnx8Yy5zaXplfSkpfSxvblBlclBhZ2VTZWxlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdmFyaWFudDpyP1widG9wXCI6XCJib3R0b21cIixpc0NvbXBhY3Q6cn0pfTtmdW5jdGlvbiBQKCl7dmFyIGU9YS51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVDb25uZWN0b3JUeXBlc0FjdG9yKCk7cmV0dXJuIGEudXNlQ29ubmVjdG9yVHlwZXNNYWNoaW5lSXNSZWFkeShlKT9uLmNyZWF0ZUVsZW1lbnQoTSxudWxsKTpudWxsfWZ1bmN0aW9uIE0oKXt2YXIgZT1jLnVzZVRyYW5zbGF0aW9uKCkudCx0PWEudXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lQ29ubmVjdG9yVHlwZXNBY3RvcigpLHI9YS51c2VDb25uZWN0b3JUeXBlc01hY2hpbmUodCksaT1yLnJlc3BvbnNlLG89ci5sb2FkaW5nLHU9ci5lcnJvcixtPXIubm9SZXN1bHRzLGQ9ci5xdWVyeUVtcHR5LHA9ci5maXJzdFJlcXVlc3QsZj1yLnNlbGVjdGVkSWQsdj1yLm9uU2VsZWN0LGc9ci5vblF1ZXJ5O3JldHVybiBuLmNyZWF0ZUVsZW1lbnQoQyx7dGl0bGU6ZShcIkNvbm5lY3RvciBjYXRlZ29yeVwiKSxkZXNjcmlwdGlvbjpcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0IGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIFN1c2NpcGl0IGVycm9yIGFkaXBpc2NpLCBkdWNpbXVzIGlwc3VtIGRpY3RhIHF1byBiZWF0YWUgcmF0aW9uZSBhbGlxdWlkIG5vc3RydW0gYW5pbWkgZW9zLCBkb2xvcmVtcXVlIGxhYm9ydW0gcXVhc2kgc2VkLCB2aXRhZSBpcHNhIGlsbG8gZGVsZWN0dXMhIFF1b3NcIn0sZnVuY3Rpb24oKXt2YXIgZTtzd2l0Y2goITApe2Nhc2UgcDpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KHMuTG9hZGluZyxudWxsKTtjYXNlIGQ6cmV0dXJuIG4uY3JlYXRlRWxlbWVudChuLkZyYWdtZW50LG51bGwsbi5jcmVhdGVFbGVtZW50KE8sbnVsbCksbi5jcmVhdGVFbGVtZW50KHMuTm9NYXRjaEZvdW5kLHtvbkNsZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIGcoe3BhZ2U6MSxzaXplOjEwfSl9fSkpO2Nhc2UgbXx8dTpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KHMuRW1wdHlTdGF0ZSx7ZW1wdHlTdGF0ZVByb3BzOnt2YXJpYW50OnMuRW1wdHlTdGF0ZVZhcmlhbnQuR2V0dGluZ1N0YXJ0ZWR9LHRpdGxlUHJvcHM6e3RpdGxlOlwiY29zLm5vX2Nvbm5lY3Rvcl90eXBlc1wifSxlbXB0eVN0YXRlQm9keVByb3BzOntib2R5OlwiY29zLm5vX2Nvbm5lY3Rvcl90eXBlc19ib2R5XCJ9fSk7Y2FzZSBvOnJldHVybiBuLmNyZWF0ZUVsZW1lbnQobi5GcmFnbWVudCxudWxsLG4uY3JlYXRlRWxlbWVudChPLG51bGwpLG4uY3JlYXRlRWxlbWVudChzLkxvYWRpbmcsbnVsbCkpO2RlZmF1bHQ6cmV0dXJuIG4uY3JlYXRlRWxlbWVudChuLkZyYWdtZW50LG51bGwsbi5jcmVhdGVFbGVtZW50KE8sbnVsbCksbi5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInBmLWwtc3RhY2tfX2l0ZW0gcGYtbS1maWxsIHBmLXUtcC1tZFwifSxuLmNyZWF0ZUVsZW1lbnQobC5HYWxsZXJ5LHtoYXNHdXR0ZXI6ITB9LG51bGw9PWl8fG51bGw9PShlPWkuaXRlbXMpP3ZvaWQgMDplLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLkNhcmQse2lzSG92ZXJhYmxlOiEwLGtleTplLmlkLGlzU2VsZWN0YWJsZTohMCxpc1NlbGVjdGVkOmY9PT1lLmlkLG9uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gdihlLmlkKX19LG4uY3JlYXRlRWxlbWVudChsLkNhcmRIZWFkZXIsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5DYXJkVGl0bGUsbnVsbCxlLm5hbWUpKSxuLmNyZWF0ZUVsZW1lbnQobC5DYXJkQm9keSxudWxsLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdCxudWxsLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdEdyb3VwLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0RGVzY3JpcHRpb24sbnVsbCxlLmRlc2NyaXB0aW9uKSksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RUZXJtLG51bGwsXCJWZXJzaW9uXCIpLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdERlc2NyaXB0aW9uLG51bGwsZS52ZXJzaW9uKSksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RUZXJtLG51bGwsXCJJRFwiKSxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3REZXNjcmlwdGlvbixudWxsLGUuaWQpKSkpKX0pKSkpLG4uY3JlYXRlRWxlbWVudChXLG51bGwpKX19KCkpfXZhciBPPWZ1bmN0aW9uKCl7dmFyIGU9Yy51c2VUcmFuc2xhdGlvbigpLnQscj1hLnVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUNvbm5lY3RvclR5cGVzQWN0b3IoKSxpPWEudXNlQ29ubmVjdG9yVHlwZXNNYWNoaW5lKHIpLG89aS5yZXF1ZXN0LHU9aS5vblF1ZXJ5LGQ9dC51c2VTdGF0ZSghMSkscD1kWzBdLGY9ZFsxXSx2PXQudXNlUmVmKG51bGwpLEU9cy51c2VEZWJvdW5jZSh1LDFlMyksaD1vLnF1ZXJ5fHx7fSxiPWgubmFtZSx5PWguY2F0ZWdvcmllcyxDPXZvaWQgMD09PXk/W106eSxUPXQudXNlQ2FsbGJhY2soKGZ1bmN0aW9uKCl7cmV0dXJuIHUoe3BhZ2U6MSxzaXplOm8uc2l6ZX0pfSksW3Usby5zaXplXSksaz10LnVzZUNhbGxiYWNrKChmdW5jdGlvbigpe3JldHVybiBmKChmdW5jdGlvbihlKXtyZXR1cm4hZX0pKX0pLFtdKSxJPWZ1bmN0aW9uKGUsdCl7IWZ1bmN0aW9uKGUsdCxuKXt2YXIgcjt1KGcoe30sbyx7cXVlcnk6Zyh7fSxvLnF1ZXJ5fHx7fSwocj17fSxyLmNhdGVnb3JpZXM9dC5pbmNsdWRlcyhuKT90LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1ufSkpOltdLmNvbmNhdCh0fHxbXSxbbl0pLHIpKX0pKX0oMCxDLHQua2V5KX07dC51c2VFZmZlY3QoKGZ1bmN0aW9uKCl7di5jdXJyZW50JiYodi5jdXJyZW50LnZhbHVlPWJ8fFwiXCIpfSksW3YsYl0pO3ZhciB4PVtuLmNyZWF0ZUVsZW1lbnQobC5TZWxlY3RPcHRpb24se2tleTpcInNpbmtcIix2YWx1ZTpcInNpbmtcIn0sZShcInNpbmtcIikpLG4uY3JlYXRlRWxlbWVudChsLlNlbGVjdE9wdGlvbix7a2V5Olwic291cmNlXCIsdmFsdWU6XCJzb3VyY2VcIn0sZShcInNvdXJjZVwiKSldLHo9bi5jcmVhdGVFbGVtZW50KG4uRnJhZ21lbnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFySXRlbSxudWxsLG4uY3JlYXRlRWxlbWVudChsLklucHV0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5UZXh0SW5wdXQse25hbWU6XCJuYW1lXCIsaWQ6XCJuYW1lXCIsdHlwZTpcInNlYXJjaFwiLFwiYXJpYS1sYWJlbFwiOlwiZmlsdGVyIGJ5IGNvbm5lY3RvciBuYW1lXCIsb25DaGFuZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIEUoe3NpemU6by5zaXplLHBhZ2U6MSxxdWVyeTpnKHt9LG8ucXVlcnkse25hbWU6ZX0pfSl9LHJlZjp2fSksbi5jcmVhdGVFbGVtZW50KGwuQnV0dG9uLHt2YXJpYW50OlwiY29udHJvbFwiLFwiYXJpYS1sYWJlbFwiOlwic2VhcmNoIGJ1dHRvbiBmb3Igc2VhcmNoIGlucHV0XCJ9LG4uY3JlYXRlRWxlbWVudChtLlNlYXJjaEljb24sbnVsbCkpKSksbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckdyb3VwLHt2YXJpYW50OlwiZmlsdGVyLWdyb3VwXCJ9LG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJGaWx0ZXIse2NoaXBzOkMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gUyh0LGUpfSkpLGRlbGV0ZUNoaXA6SSxkZWxldGVDaGlwR3JvdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdShnKHt9LG8se3F1ZXJ5Omcoe30sby5xdWVyeXx8e30sKGU9e30sZS5jYXRlZ29yaWVzPXZvaWQgMCxlKSl9KSk7dmFyIGV9LGNhdGVnb3J5TmFtZTpcIkNvbm5lY3RvciB0eXBlXCJ9LG4uY3JlYXRlRWxlbWVudChsLlNlbGVjdCx7dmFyaWFudDpcImNoZWNrYm94XCIsXCJhcmlhLWxhYmVsXCI6XCJDb25uZWN0b3IgdHlwZVwiLG9uVG9nZ2xlOmssb25TZWxlY3Q6ZnVuY3Rpb24odCxuKXtyZXR1cm4gSSgwLFMobixlKSl9LHNlbGVjdGlvbnM6Qyxpc09wZW46cCxwbGFjZWhvbGRlclRleHQ6XCJDb25uZWN0b3IgdHlwZVwifSx4KSkpKSxOPW4uY3JlYXRlRWxlbWVudChuLkZyYWdtZW50LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhclRvZ2dsZUdyb3VwLHt0b2dnbGVJY29uOm4uY3JlYXRlRWxlbWVudChtLkZpbHRlckljb24sbnVsbCksYnJlYWtwb2ludDpcInhsXCJ9LHopLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJJdGVtLHt2YXJpYW50OlwicGFnaW5hdGlvblwiLGFsaWdubWVudDp7ZGVmYXVsdDpcImFsaWduUmlnaHRcIn19LG4uY3JlYXRlRWxlbWVudChXLHtpc0NvbXBhY3Q6ITB9KSkpO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyLHtpZDpcInRvb2xiYXItZ3JvdXAtdHlwZXNcIixjb2xsYXBzZUxpc3RlZEZpbHRlcnNCcmVha3BvaW50OlwieGxcIixjbGVhckFsbEZpbHRlcnM6VH0sbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckNvbnRlbnQsbnVsbCxOKSl9LFc9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pc0NvbXBhY3Qscj12b2lkIDAhPT10JiZ0LGk9YS51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVDb25uZWN0b3JUeXBlc0FjdG9yKCksbz1hLnVzZUNvbm5lY3RvclR5cGVzTWFjaGluZShpKSxjPW8ucmVxdWVzdCx1PW8ucmVzcG9uc2Uscz1vLm9uUXVlcnk7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLlBhZ2luYXRpb24se2l0ZW1Db3VudDoobnVsbD09dT92b2lkIDA6dS50b3RhbCl8fDAscGFnZTpjLnBhZ2UscGVyUGFnZTpjLnNpemUscGVyUGFnZU9wdGlvbnM6VCxvblNldFBhZ2U6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBzKGcoe30sYyx7cGFnZTp0LHNpemU6bnx8Yy5zaXplfSkpfSxvblBlclBhZ2VTZWxlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdmFyaWFudDpyP1widG9wXCI6XCJib3R0b21cIixpc0NvbXBhY3Q6cn0pfSxfPWZ1bmN0aW9uKGUpe3ZhciBhPWUuYWN0b3IsaT1lLkNvbmZpZ3VyYXRvcixvPXIudXNlU2VsZWN0b3IoYSx0LnVzZUNhbGxiYWNrKChmdW5jdGlvbihlKXtyZXR1cm57Y29ubmVjdG9yOmUuY29udGV4dC5jb25uZWN0b3IsYWN0aXZlU3RlcDplLmNvbnRleHQuYWN0aXZlU3RlcCxjb25maWd1cmF0aW9uOmUuY29udGV4dC5jb25maWd1cmF0aW9ufX0pLFthXSkpO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQoaSx7YWN0aXZlU3RlcDpvLmFjdGl2ZVN0ZXAsY29uZmlndXJhdGlvbjpvLmNvbmZpZ3VyYXRpb24sY29ubmVjdG9yOm8uY29ubmVjdG9yLG9uQ2hhbmdlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEuc2VuZCh7dHlwZTpcImNoYW5nZVwiLGNvbmZpZ3VyYXRpb246ZSxpc1ZhbGlkOnR9KX19KX0sRz1mdW5jdGlvbihlKXt2YXIgYT1lLmFjdG9yLGk9ci51c2VTZWxlY3RvcihhLHQudXNlQ2FsbGJhY2soKGZ1bmN0aW9uKGUpe3JldHVybntjb25uZWN0b3I6ZS5jb250ZXh0LmNvbm5lY3Rvcixjb25maWd1cmF0aW9uOmUuY29udGV4dC5jb25maWd1cmF0aW9ufX0pLFthXSkpO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQocC5Kc29uU2NoZW1hQ29uZmlndXJhdG9yLHtzY2hlbWE6aS5jb25uZWN0b3IuanNvbl9zY2hlbWEsY29uZmlndXJhdGlvbjppLmNvbmZpZ3VyYXRpb258fHt9LG9uQ2hhbmdlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEuc2VuZCh7dHlwZTpcImNoYW5nZVwiLGNvbmZpZ3VyYXRpb246ZSxpc1ZhbGlkOnR9KX19KX0sUj1mdW5jdGlvbigpe3ZhciBlPWMudXNlVHJhbnNsYXRpb24oKS50LGk9YS51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlKCksbz1yLnVzZVNlbGVjdG9yKGksdC51c2VDYWxsYmFjaygoZnVuY3Rpb24oZSl7cmV0dXJue2lzTG9hZGluZzplLm1hdGNoZXMoe2NvbmZpZ3VyZUNvbm5lY3RvcjpcImxvYWRDb25maWd1cmF0b3JcIn0pLGhhc0Vycm9yczplLm1hdGNoZXMoXCJmYWlsdXJlXCIpLGhhc0N1c3RvbUNvbmZpZ3VyYXRvcjohMSE9PWUuY29udGV4dC5Db25maWd1cmF0b3ImJnZvaWQgMCE9PWUuY29udGV4dC5Db25maWd1cmF0b3IsY29uZmlndXJhdGlvbjplLmNvbnRleHQuY29ubmVjdG9yQ29uZmlndXJhdGlvbixDb25maWd1cmF0b3I6ZS5jb250ZXh0LkNvbmZpZ3VyYXRvcixjb25maWd1cmF0b3JSZWY6ZS5jaGlsZHJlbi5jb25maWd1cmF0b3JSZWZ9fSksW2ldKSksdT1vLmlzTG9hZGluZyxzPW8uaGFzRXJyb3JzLGQ9by5Db25maWd1cmF0b3IscD1vLmNvbmZpZ3VyYXRvclJlZixmPW8uaGFzQ3VzdG9tQ29uZmlndXJhdG9yO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQoQyx7dGl0bGU6ZShcIkNvbmZpZ3VyYXRpb25zXCIpLGRlc2NyaXB0aW9uOlwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gU3VzY2lwaXQgZXJyb3IgYWRpcGlzY2ksIGR1Y2ltdXMgaXBzdW0gZGljdGEgcXVvIGJlYXRhZSByYXRpb25lIGFsaXF1aWQgbm9zdHJ1bSBhbmltaSBlb3MsIGRvbG9yZW1xdWUgbGFib3J1bSBxdWFzaSBzZWQsIHZpdGFlIGlwc2EgaWxsbyBkZWxlY3R1cyEgUXVvc1wifSxmdW5jdGlvbigpe3N3aXRjaCghMCl7Y2FzZSB1OnJldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5FbXB0eVN0YXRlLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRW1wdHlTdGF0ZUljb24se3ZhcmlhbnQ6XCJjb250YWluZXJcIixjb21wb25lbnQ6bC5TcGlubmVyfSksbi5jcmVhdGVFbGVtZW50KGwuVGl0bGUse3NpemU6XCJsZ1wiLGhlYWRpbmdMZXZlbDpcImg0XCJ9LGUoXCJsb2FkaW5nXCIpKSk7Y2FzZSBzOnJldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5FbXB0eVN0YXRlLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRW1wdHlTdGF0ZUljb24se2ljb246bS5FeGNsYW1hdGlvbkNpcmNsZUljb259KSxuLmNyZWF0ZUVsZW1lbnQobC5UaXRsZSx7c2l6ZTpcImxnXCIsaGVhZGluZ0xldmVsOlwiaDRcIn0sXCJFcnJvciBtZXNzYWdlXCIpKTtjYXNlIGY6cmV0dXJuIG4uY3JlYXRlRWxlbWVudChuLlN1c3BlbnNlLHtmYWxsYmFjazpudWxsfSxuLmNyZWF0ZUVsZW1lbnQoXyx7YWN0b3I6cCxDb25maWd1cmF0b3I6ZH0pKTtkZWZhdWx0OnJldHVybiBuLmNyZWF0ZUVsZW1lbnQoRyx7YWN0b3I6cH0pfX0oKSl9O2Z1bmN0aW9uIGooKXt2YXIgZT1jLnVzZVRyYW5zbGF0aW9uKCkudCxyPWEudXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lUmV2aWV3QWN0b3IoKSxpPWEudXNlUmV2aWV3TWFjaGluZShyKSxvPWkubmFtZSx1PWkuc2VydmljZUFjY291bnQscz1pLmNvbmZpZ1N0cmluZyxtPWkuY29uZmlnU3RyaW5nRXJyb3IsZD1pLmNvbmZpZ1N0cmluZ1dhcm5pbmdzLHA9aS5pc1NhdmluZyx2PWkuc2F2aW5nRXJyb3IsRT1pLm9uU2V0TmFtZSxoPWkub25TZXRTZXJ2aWNlQWNjb3VudCxiPWkub25VcGRhdGVDb25maWd1cmF0aW9uLHk9dC51c2VDYWxsYmFjaygoZnVuY3Rpb24oZSx0KXtlLmxheW91dCgpLGUuZm9jdXMoKX0pLFtdKTtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KEMse3RpdGxlOmUoXCJSZXZpZXdcIiksZGVzY3JpcHRpb246XCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBTdXNjaXBpdCBlcnJvciBhZGlwaXNjaSwgZHVjaW11cyBpcHN1bSBkaWN0YSBxdW8gYmVhdGFlIHJhdGlvbmUgYWxpcXVpZCBub3N0cnVtIGFuaW1pIGVvcywgZG9sb3JlbXF1ZSBsYWJvcnVtIHF1YXNpIHNlZCwgdml0YWUgaXBzYSBpbGxvIGRlbGVjdHVzISBRdW9zXCJ9LG4uY3JlYXRlRWxlbWVudChsLkNhcmQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5DYXJkQm9keSxudWxsLG4uY3JlYXRlRWxlbWVudChsLkZvcm0sbnVsbCx2JiZuLmNyZWF0ZUVsZW1lbnQobC5Gb3JtQWxlcnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5BbGVydCx7dmFyaWFudDpcImRhbmdlclwiLHRpdGxlOnYsXCJhcmlhLWxpdmVcIjpcInBvbGl0ZVwiLGlzSW5saW5lOiEwfSkpLG4uY3JlYXRlRWxlbWVudChsLkZvcm1Hcm91cCx7bGFiZWw6XCJOYW1lXCIsaXNSZXF1aXJlZDohMCxmaWVsZElkOlwibmFtZVwiLGhlbHBlclRleHQ6XCJQbGVhc2UgcHJvdmlkZSBhIHVuaXF1ZSBuYW1lIGZvciB0aGUgY29ubmVjdG9yXCJ9LG4uY3JlYXRlRWxlbWVudChsLlRleHRJbnB1dCx7aXNEaXNhYmxlZDpwLHZhbHVlOm8sb25DaGFuZ2U6RSxpZDpcIm5hbWVcIn0pKSxuLmNyZWF0ZUVsZW1lbnQobC5Gb3JtR3JvdXAse2xhYmVsOlwiU2VydmljZSBBY2NvdW50XCIsaXNSZXF1aXJlZDohMCxmaWVsZElkOlwic2VydmljZS1hY2NvdW50XCJ9LG4uY3JlYXRlRWxlbWVudChsLlJhZGlvLHtpc0Rpc2FibGVkOnAsaXNDaGVja2VkOnZvaWQgMD09PXUsbmFtZTpcInNlcnZpY2UtYWNjb3VudFwiLG9uQ2hhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIGgodm9pZCAwKX0sbGFiZWw6XCJBdXRvbWF0aWNhbGx5IGNyZWF0ZSBhIFNlcnZpY2UgQWNjb3VudCBmb3IgdGhpcyBjb25uZWN0b3JcIixpZDpcInNlcnZpY2UtYWNjb3VudC1hdXRvbWF0aWNcIix2YWx1ZTpcImF1dG9tYXRpY1wifSksbi5jcmVhdGVFbGVtZW50KGwuUmFkaW8se2lzRGlzYWJsZWQ6cCxpc0NoZWNrZWQ6dm9pZCAwIT09dSxuYW1lOlwic2VydmljZS1hY2NvdW50XCIsb25DaGFuZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gaCh7Y2xpZW50SWQ6XCJcIixjbGllbnRTZWNyZXQ6XCJcIn0pfSxsYWJlbDpcIlByb3ZpZGUgdGhlIGNyZWRlbnRpYWxzIG1hbnVhbGx5XCIsaWQ6XCJzZXJ2aWNlLWFjY291bnQtdXNlclwiLHZhbHVlOlwidXNlclwifSksdm9pZCAwIT09dSYmbi5jcmVhdGVFbGVtZW50KG4uRnJhZ21lbnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5Gb3JtR3JvdXAse2xhYmVsOlwiQ2xpZW50IElEXCIsaXNSZXF1aXJlZDohMCxmaWVsZElkOlwiY2xpZW50SWRcIn0sbi5jcmVhdGVFbGVtZW50KGwuVGV4dElucHV0LHtpc0Rpc2FibGVkOnAsdmFsdWU6dS5jbGllbnRJZCxvbkNoYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gaChnKHt9LHUse2NsaWVudElkOmV9KSl9LGlkOlwiY2xpZW50SWRcIn0pKSxuLmNyZWF0ZUVsZW1lbnQobC5Gb3JtR3JvdXAse2xhYmVsOlwiQ2xpZW50IFNlY3JldFwiLGlzUmVxdWlyZWQ6ITAsZmllbGRJZDpcImNsaWVudFNlY3JldFwifSxuLmNyZWF0ZUVsZW1lbnQobC5UZXh0SW5wdXQse2lzRGlzYWJsZWQ6cCx2YWx1ZTp1LmNsaWVudFNlY3JldCxvbkNoYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gaChnKHt9LHUse2NsaWVudFNlY3JldDplfSkpfSxpZDpcImNsaWVudFNlY3JldFwifSkpKSksbi5jcmVhdGVFbGVtZW50KGwuRm9ybUdyb3VwLHtsYWJlbDpcIkNvbmZpZ3VyYXRpb25cIixpc1JlcXVpcmVkOiEwLGZpZWxkSWQ6XCJjb25maWd1cmF0aW9uXCIsaGVscGVyVGV4dDpcIlBsZWFzZSByZXZpZXcgdGhlIGNvbmZpZ3VyYXRpb24gZGF0YS5cIixoZWxwZXJUZXh0SW52YWxpZDptLHZhbGlkYXRlZDp2b2lkIDAhPT1tP1wiZXJyb3JcIjp2b2lkIDAhPT1kP1wid2FybmluZ1wiOlwiZGVmYXVsdFwifSxuLmNyZWF0ZUVsZW1lbnQoZi5Db2RlRWRpdG9yLHtpZDpcImNvbmZpZ3VyYXRpb25cIixpc0RhcmtUaGVtZTohMSxpc0xpbmVOdW1iZXJzVmlzaWJsZTohMCxpc1JlYWRPbmx5OnAsaXNNaW5pbWFwVmlzaWJsZTohMSxpc0xhbmd1YWdlTGFiZWxWaXNpYmxlOiEwLGNvZGU6cyxvbkNoYW5nZTpiLGxhbmd1YWdlOmYuTGFuZ3VhZ2UuanNvbixvbkVkaXRvckRpZE1vdW50OnksaGVpZ2h0OlwiNDAwcHhcIn0pLG4uY3JlYXRlRWxlbWVudChsLkFsZXJ0R3JvdXAsbnVsbCxudWxsPT1kP3ZvaWQgMDpkLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuQWxlcnQse2tleTp0LHRpdGxlOmUsdmFyaWFudDpcIndhcm5pbmdcIixpc0lubGluZTohMH0pfSkpKSkpKSkpfXZhciBLPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZXJyb3I7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChcImRpdlwiLHtyb2xlOlwiYWxlcnRcIn0sbi5jcmVhdGVFbGVtZW50KFwicFwiLG51bGwsXCJTb21ldGhpbmcgd2VudCB3cm9uZzpcIiksbi5jcmVhdGVFbGVtZW50KFwicHJlXCIsbnVsbCx0Lm1lc3NhZ2UpKX0sSj1mdW5jdGlvbihlKXt2YXIgdD1lLmNoaWxkcmVuO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQodi5FcnJvckJvdW5kYXJ5LHtGYWxsYmFja0NvbXBvbmVudDpLLHJlc2V0S2V5czpbRGF0ZS5ub3coKV19LHQpfTtPYmplY3Qua2V5cyhhKS5mb3JFYWNoKChmdW5jdGlvbihlKXtcImRlZmF1bHRcIiE9PWUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLGUse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGFbZV19fSl9KSksZXhwb3J0cy5DcmVhdGlvbldpemFyZD1mdW5jdGlvbihlKXt2YXIgaT1lLm9uQ2xvc2Usbz1jLnVzZVRyYW5zbGF0aW9uKCkudCxsPWEudXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lU2VydmljZSgpLHU9ci51c2VTZXJ2aWNlKGwpLHM9dVswXSxtPXVbMV0sZD1mdW5jdGlvbigpe3ZhciBlPWMudXNlVHJhbnNsYXRpb24oKS50LGk9YS51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlKCksbz1yLnVzZVNlbGVjdG9yKGksdC51c2VDYWxsYmFjaygoZnVuY3Rpb24oZSl7cmV0dXJue2lzQWN0aXZlOmUubWF0Y2hlcyhcInNlbGVjdEthZmthXCIpLGNhbkp1bXBUbzphLmNyZWF0aW9uV2l6YXJkTWFjaGluZS50cmFuc2l0aW9uKGUsXCJqdW1wVG9TZWxlY3RLYWZrYVwiKS5jaGFuZ2VkfHxlLm1hdGNoZXMoXCJzZWxlY3RLYWZrYVwiKSxlbmFibGVOZXh0OmEuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24oZSxcIm5leHRcIikuY2hhbmdlZH19KSxbaV0pKSxsPW8uaXNBY3RpdmUsdT1vLmNhbkp1bXBUbyxzPW8uZW5hYmxlTmV4dDtyZXR1cm57bmFtZTplKFwiS2Fma2EgaW5zdGFuY2VcIiksaXNBY3RpdmU6bCxjb21wb25lbnQ6bi5jcmVhdGVFbGVtZW50KEosbnVsbCxuLmNyZWF0ZUVsZW1lbnQoayxudWxsKSksY2FuSnVtcFRvOnUsZW5hYmxlTmV4dDpzfX0oKSxwPWZ1bmN0aW9uKCl7dmFyIGU9Yy51c2VUcmFuc2xhdGlvbigpLnQsaT1hLnVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKSxvPXIudXNlU2VsZWN0b3IoaSx0LnVzZUNhbGxiYWNrKChmdW5jdGlvbihlKXtyZXR1cm57aXNBY3RpdmU6ZS5tYXRjaGVzKFwiY29uZmlndXJlQ29ubmVjdG9yXCIpLGNhbkp1bXBUbzphLmNyZWF0aW9uV2l6YXJkTWFjaGluZS50cmFuc2l0aW9uKGUsXCJqdW1wVG9Db25maWd1cmVDb25uZWN0b3JcIikuY2hhbmdlZHx8ZS5tYXRjaGVzKFwiY29uZmlndXJlQ29ubmVjdG9yXCIpLGVuYWJsZU5leHQ6YS5jcmVhdGlvbldpemFyZE1hY2hpbmUudHJhbnNpdGlvbihlLFwibmV4dFwiKS5jaGFuZ2VkLHN0ZXBzOmUuY29udGV4dC5jb25maWd1cmF0aW9uU3RlcHMsYWN0aXZlU3RlcDplLmNvbnRleHQuYWN0aXZlQ29uZmlndXJhdGlvblN0ZXAsY2FuSnVtcFRvU3RlcDpmdW5jdGlvbih0KXtyZXR1cm4gYS5jcmVhdGlvbldpemFyZE1hY2hpbmUudHJhbnNpdGlvbihlLHt0eXBlOlwianVtcFRvQ29uZmlndXJlQ29ubmVjdG9yXCIsc3ViU3RlcDp0fSkuY2hhbmdlZH19fSksW2ldKSksbD1vLmlzQWN0aXZlLHU9by5hY3RpdmVTdGVwLHM9by5jYW5KdW1wVG8sbT1vLmNhbkp1bXBUb1N0ZXAsZD1vLmVuYWJsZU5leHQscD1vLnN0ZXBzO3JldHVybntuYW1lOmUoXCJDb25maWd1cmF0aW9uc1wiKSxpc0FjdGl2ZTpsLGNhbkp1bXBUbzpzLHN0ZXBzOnA/cC5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJue25hbWU6ZSxpc0FjdGl2ZTpsJiZ1PT09dCxjYW5KdW1wVG86bSh0KSxlbmFibGVOZXh0OmQsY29tcG9uZW50Om4uY3JlYXRlRWxlbWVudChKLG51bGwsbi5jcmVhdGVFbGVtZW50KFIsbnVsbCkpfX0pKTp2b2lkIDAsZW5hYmxlTmV4dDpkLGNvbXBvbmVudDpuLmNyZWF0ZUVsZW1lbnQoSixudWxsLG4uY3JlYXRlRWxlbWVudChSLG51bGwpKX19KCk7aWYoXCJzYXZlZFwiPT09cy52YWx1ZSlyZXR1cm4gbnVsbDt2YXIgZj1be25hbWU6byhcIkNvbm5lY3RvciBjYXRlZ29yeVwiKSxpc0FjdGl2ZTpzLm1hdGNoZXMoXCJzZWxlY3RDb25uZWN0b3JcIiksY29tcG9uZW50Om4uY3JlYXRlRWxlbWVudChKLG51bGwsbi5jcmVhdGVFbGVtZW50KFAsbnVsbCkpLGNhbkp1bXBUbzphLmNyZWF0aW9uV2l6YXJkTWFjaGluZS50cmFuc2l0aW9uKHMsXCJqdW1wVG9TZWxlY3RDb25uZWN0b3JcIikuY2hhbmdlZHx8cy5tYXRjaGVzKFwic2VsZWN0Q29ubmVjdG9yXCIpLGVuYWJsZU5leHQ6YS5jcmVhdGlvbldpemFyZE1hY2hpbmUudHJhbnNpdGlvbihzLFwibmV4dFwiKS5jaGFuZ2VkfSxkLHtuYW1lOm8oXCJPU0QgY2x1c3RlclwiKSxpc0FjdGl2ZTpzLm1hdGNoZXMoXCJzZWxlY3RDbHVzdGVyXCIpLGNvbXBvbmVudDpuLmNyZWF0ZUVsZW1lbnQoSixudWxsLG4uY3JlYXRlRWxlbWVudCh3LG51bGwpKSxjYW5KdW1wVG86YS5jcmVhdGlvbldpemFyZE1hY2hpbmUudHJhbnNpdGlvbihzLFwianVtcFRvU2VsZWN0Q2x1c3RlclwiKS5jaGFuZ2VkfHxzLm1hdGNoZXMoXCJzZWxlY3RDbHVzdGVyXCIpLGVuYWJsZU5leHQ6YS5jcmVhdGlvbldpemFyZE1hY2hpbmUudHJhbnNpdGlvbihzLFwibmV4dFwiKS5jaGFuZ2VkfSxwLHtuYW1lOm8oXCJSZXZpZXdcIiksaXNBY3RpdmU6cy5tYXRjaGVzKFwicmV2aWV3Q29uZmlndXJhdGlvblwiKSxjb21wb25lbnQ6bi5jcmVhdGVFbGVtZW50KEosbnVsbCxuLmNyZWF0ZUVsZW1lbnQoaixudWxsKSksY2FuSnVtcFRvOmEuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24ocyxcImp1bXBUb1Jldmlld0NvbmZpZ3VyYXRpb25cIikuY2hhbmdlZHx8cy5tYXRjaGVzKFwicmV2aWV3Q29uZmlndXJhdGlvblwiKSxlbmFibGVOZXh0OmEuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24ocyxcIm5leHRcIikuY2hhbmdlZCxuZXh0QnV0dG9uVGV4dDpcIkNyZWF0ZSBjb25uZWN0b3JcIn1dLHY9YihmKSxnPXYucmVkdWNlUmlnaHQoKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdC5pc0FjdGl2ZSYmbj5lP246ZX0pLC0xKSsxO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQoeSx7Y2xhc3NOYW1lOlwiY29zXCIsc3RlcHM6ZixjdXJyZW50U3RlcDpnLG9uTmV4dDpmdW5jdGlvbigpe3JldHVybiBtKFwibmV4dFwiKX0sb25CYWNrOmZ1bmN0aW9uKCl7cmV0dXJuIG0oXCJwcmV2XCIpfSxvbkNsb3NlOmksb25TYXZlOmZ1bmN0aW9uKCl7cmV0dXJuITF9LGdvVG9TdGVwOmZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIDE6bShcImp1bXBUb1NlbGVjdENvbm5lY3RvclwiKTticmVhaztjYXNlIDI6bShcImp1bXBUb1NlbGVjdEthZmthXCIpO2JyZWFrO2Nhc2UgMzptKFwianVtcFRvU2VsZWN0Q2x1c3RlclwiKTticmVhaztjYXNlIHYubGVuZ3RoOm0oXCJqdW1wVG9SZXZpZXdDb25maWd1cmF0aW9uXCIpO2JyZWFrO2RlZmF1bHQ6ZTx2Lmxlbmd0aCYmbSh7dHlwZTpcImp1bXBUb0NvbmZpZ3VyZUNvbm5lY3RvclwiLHN1YlN0ZXA6ZS00fSl9fSxnb1RvU3RlcEJ5SWQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gY29uc29sZS5sb2coXCJnb1RvU3RlcEJ5SWRcIix0KX0sZ29Ub1N0ZXBCeU5hbWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gY29uc29sZS5sb2coXCJnb1RvU3RlcEJ5TmFtZVwiLHQpfSxoYXNOb0JvZHlQYWRkaW5nOiEwfSl9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRpb24td2l6YXJkLmNqcy5wcm9kdWN0aW9uLm1pbi5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///81778\n')},70793:(module,__unused_webpack_exports,__webpack_require__)=>{eval("\n\n\nif (true) {\n  module.exports = __webpack_require__(81778)\n} else {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzA3OTMuanMiLCJtYXBwaW5ncyI6Ijt3QkFDWTs7QUFFWixJQUFJLElBQXFDO0FBQ3pDLEVBQUUsMkNBQW1FO0FBQ3JFLEVBQUUsS0FBSyxFQUVOIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNvcy11aS1hcHBzL2Nvcy11aS8uLi8uLi9wYWNrYWdlcy9jcmVhdGlvbldpemFyZC9kaXN0L2luZGV4LmpzPzAzYTEiXSwic291cmNlc0NvbnRlbnQiOlsiXG4ndXNlIHN0cmljdCdcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NyZWF0aW9uLXdpemFyZC5janMucHJvZHVjdGlvbi5taW4uanMnKVxufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NyZWF0aW9uLXdpemFyZC5janMuZGV2ZWxvcG1lbnQuanMnKVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///70793\n")},25102:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"JsonSchemaConfigurator\": () => (/* binding */ JsonSchemaConfigurator),\n/* harmony export */   \"createValidator\": () => (/* binding */ createValidator)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10791);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(77240);\n/* harmony import */ var uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var uniforms_bridge_json_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(94977);\n/* harmony import */ var uniforms_bridge_json_schema__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uniforms_bridge_json_schema__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var ajv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(96293);\n/* harmony import */ var ajv__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ajv__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var uniforms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7249);\n/* harmony import */ var uniforms__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(uniforms__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\nvar ajv = /*#__PURE__*/new (ajv__WEBPACK_IMPORTED_MODULE_3___default())({\n  allErrors: true,\n  useDefaults: false,\n  strict: 'log',\n  strictSchema: false\n});\nfunction createValidator(schema) {\n  var validator = ajv.compile(schema);\n  return function (model) {\n    var _validator$errors;\n\n    validator(model);\n    return ((_validator$errors = validator.errors) == null ? void 0 : _validator$errors.length) ? {\n      details: validator.errors\n    } : null;\n  };\n}\nvar JsonSchemaConfigurator = function JsonSchemaConfigurator(_ref) {\n  var schema = _ref.schema,\n      configuration = _ref.configuration,\n      onChange = _ref.onChange;\n  schema.type = schema.type || 'object';\n  var schemaValidator = createValidator(schema);\n  var bridge = new uniforms_bridge_json_schema__WEBPACK_IMPORTED_MODULE_2__.JSONSchemaBridge(schema, schemaValidator);\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__.AutoForm, {\n    schema: bridge,\n    model: configuration,\n    autosave: true,\n    autosaveDelay: 0\n  }, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__.AutoFields, null), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__.ErrorsField, null), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(WizardNext, {\n    onChange: onChange\n  }));\n};\n\nvar WizardNext = function WizardNext(_ref2) {\n  var onChange = _ref2.onChange;\n\n  var _useForm = (0,uniforms__WEBPACK_IMPORTED_MODULE_4__.useForm)(),\n      changed = _useForm.changed,\n      submitted = _useForm.submitted,\n      error = _useForm.error,\n      model = _useForm.model;\n\n  var isValid = !error;\n  var prevChangeModel = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (prevChangeModel.current !== model && changed && submitted) {\n      prevChangeModel.current = model;\n      onChange(isValid ? model : undefined, isValid);\n    }\n  }, [prevChangeModel, changed, submitted, isValid, model, onChange]);\n  return null;\n};\n\n\n//# sourceMappingURL=json-schema-configurator.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUxMDIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O2dDQUFpRDtrQkFDdUI7a0JBQ1Q7NENBQ3pDO2tCQUNhOztBQUVuQywyQkFBMkIsNENBQUc7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIseUVBQWdCO0FBQ25DLFNBQVMsMERBQW1CLENBQUMseURBQVE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEVBQUUsMERBQW1CLENBQUMsMkRBQVUsU0FBUywwREFBbUIsQ0FBQyw0REFBVyxTQUFTLDBEQUFtQjtBQUN2RztBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQixpREFBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3Qiw2Q0FBTTtBQUM5QixFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7a0JBRW1EO0FBQ25EIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNvcy11aS1hcHBzL2Nvcy11aS8uLi8uLi9wYWNrYWdlcy9qc29uU2NoZW1hQ29uZmlndXJhdG9yL2Rpc3QvanNvbi1zY2hlbWEtY29uZmlndXJhdG9yLmVzbS5qcz82ZjMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEF1dG9Gb3JtLCBBdXRvRmllbGRzLCBFcnJvcnNGaWVsZCB9IGZyb20gJ3VuaWZvcm1zLXBhdHRlcm5mbHknO1xuaW1wb3J0IHsgSlNPTlNjaGVtYUJyaWRnZSB9IGZyb20gJ3VuaWZvcm1zLWJyaWRnZS1qc29uLXNjaGVtYSc7XG5pbXBvcnQgQWp2IGZyb20gJ2Fqdic7XG5pbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSAndW5pZm9ybXMnO1xuXG52YXIgYWp2ID0gLyojX19QVVJFX18qL25ldyBBanYoe1xuICBhbGxFcnJvcnM6IHRydWUsXG4gIHVzZURlZmF1bHRzOiBmYWxzZSxcbiAgc3RyaWN0OiAnbG9nJyxcbiAgc3RyaWN0U2NoZW1hOiBmYWxzZVxufSk7XG5mdW5jdGlvbiBjcmVhdGVWYWxpZGF0b3Ioc2NoZW1hKSB7XG4gIHZhciB2YWxpZGF0b3IgPSBhanYuY29tcGlsZShzY2hlbWEpO1xuICByZXR1cm4gZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgdmFyIF92YWxpZGF0b3IkZXJyb3JzO1xuXG4gICAgdmFsaWRhdG9yKG1vZGVsKTtcbiAgICByZXR1cm4gKChfdmFsaWRhdG9yJGVycm9ycyA9IHZhbGlkYXRvci5lcnJvcnMpID09IG51bGwgPyB2b2lkIDAgOiBfdmFsaWRhdG9yJGVycm9ycy5sZW5ndGgpID8ge1xuICAgICAgZGV0YWlsczogdmFsaWRhdG9yLmVycm9yc1xuICAgIH0gOiBudWxsO1xuICB9O1xufVxudmFyIEpzb25TY2hlbWFDb25maWd1cmF0b3IgPSBmdW5jdGlvbiBKc29uU2NoZW1hQ29uZmlndXJhdG9yKF9yZWYpIHtcbiAgdmFyIHNjaGVtYSA9IF9yZWYuc2NoZW1hLFxuICAgICAgY29uZmlndXJhdGlvbiA9IF9yZWYuY29uZmlndXJhdGlvbixcbiAgICAgIG9uQ2hhbmdlID0gX3JlZi5vbkNoYW5nZTtcbiAgc2NoZW1hLnR5cGUgPSBzY2hlbWEudHlwZSB8fCAnb2JqZWN0JztcbiAgdmFyIHNjaGVtYVZhbGlkYXRvciA9IGNyZWF0ZVZhbGlkYXRvcihzY2hlbWEpO1xuICB2YXIgYnJpZGdlID0gbmV3IEpTT05TY2hlbWFCcmlkZ2Uoc2NoZW1hLCBzY2hlbWFWYWxpZGF0b3IpO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBdXRvRm9ybSwge1xuICAgIHNjaGVtYTogYnJpZGdlLFxuICAgIG1vZGVsOiBjb25maWd1cmF0aW9uLFxuICAgIGF1dG9zYXZlOiB0cnVlLFxuICAgIGF1dG9zYXZlRGVsYXk6IDBcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChBdXRvRmllbGRzLCBudWxsKSwgUmVhY3QuY3JlYXRlRWxlbWVudChFcnJvcnNGaWVsZCwgbnVsbCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoV2l6YXJkTmV4dCwge1xuICAgIG9uQ2hhbmdlOiBvbkNoYW5nZVxuICB9KSk7XG59O1xuXG52YXIgV2l6YXJkTmV4dCA9IGZ1bmN0aW9uIFdpemFyZE5leHQoX3JlZjIpIHtcbiAgdmFyIG9uQ2hhbmdlID0gX3JlZjIub25DaGFuZ2U7XG5cbiAgdmFyIF91c2VGb3JtID0gdXNlRm9ybSgpLFxuICAgICAgY2hhbmdlZCA9IF91c2VGb3JtLmNoYW5nZWQsXG4gICAgICBzdWJtaXR0ZWQgPSBfdXNlRm9ybS5zdWJtaXR0ZWQsXG4gICAgICBlcnJvciA9IF91c2VGb3JtLmVycm9yLFxuICAgICAgbW9kZWwgPSBfdXNlRm9ybS5tb2RlbDtcblxuICB2YXIgaXNWYWxpZCA9ICFlcnJvcjtcbiAgdmFyIHByZXZDaGFuZ2VNb2RlbCA9IHVzZVJlZigpO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChwcmV2Q2hhbmdlTW9kZWwuY3VycmVudCAhPT0gbW9kZWwgJiYgY2hhbmdlZCAmJiBzdWJtaXR0ZWQpIHtcbiAgICAgIHByZXZDaGFuZ2VNb2RlbC5jdXJyZW50ID0gbW9kZWw7XG4gICAgICBvbkNoYW5nZShpc1ZhbGlkID8gbW9kZWwgOiB1bmRlZmluZWQsIGlzVmFsaWQpO1xuICAgIH1cbiAgfSwgW3ByZXZDaGFuZ2VNb2RlbCwgY2hhbmdlZCwgc3VibWl0dGVkLCBpc1ZhbGlkLCBtb2RlbCwgb25DaGFuZ2VdKTtcbiAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgeyBKc29uU2NoZW1hQ29uZmlndXJhdG9yLCBjcmVhdGVWYWxpZGF0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpzb24tc2NoZW1hLWNvbmZpZ3VyYXRvci5lc20uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///25102\n")},83255:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ConnectorsMachineProvider\": () => (/* binding */ ConnectorsMachineProvider),\n/* harmony export */   \"CreationWizardMachineProvider\": () => (/* binding */ CreationWizardMachineProvider),\n/* harmony export */   \"PAGINATED_MACHINE_ID\": () => (/* binding */ PAGINATED_MACHINE_ID),\n/* harmony export */   \"clustersMachine\": () => (/* binding */ clustersMachine),\n/* harmony export */   \"configuratorLoaderMachine\": () => (/* binding */ configuratorLoaderMachine),\n/* harmony export */   \"configuratorMachine\": () => (/* binding */ configuratorMachine),\n/* harmony export */   \"connectorMachine\": () => (/* binding */ connectorMachine),\n/* harmony export */   \"connectorTypesMachine\": () => (/* binding */ connectorTypesMachine),\n/* harmony export */   \"connectorsMachine\": () => (/* binding */ connectorsMachine),\n/* harmony export */   \"creationWizardMachine\": () => (/* binding */ creationWizardMachine),\n/* harmony export */   \"getPaginatedApiMachineEvents\": () => (/* binding */ getPaginatedApiMachineEvents),\n/* harmony export */   \"getPaginatedApiMachineEventsHandlers\": () => (/* binding */ getPaginatedApiMachineEventsHandlers),\n/* harmony export */   \"kafkasMachine\": () => (/* binding */ kafkasMachine),\n/* harmony export */   \"makeConnectorMachine\": () => (/* binding */ makeConnectorMachine),\n/* harmony export */   \"makeFetchMachine\": () => (/* binding */ makeFetchMachine),\n/* harmony export */   \"makePaginatedApiMachine\": () => (/* binding */ makePaginatedApiMachine),\n/* harmony export */   \"reviewMachine\": () => (/* binding */ reviewMachine),\n/* harmony export */   \"useClustersMachine\": () => (/* binding */ useClustersMachine),\n/* harmony export */   \"useClustersMachineIsReady\": () => (/* binding */ useClustersMachineIsReady),\n/* harmony export */   \"useConnector\": () => (/* binding */ useConnector),\n/* harmony export */   \"useConnectorTypesMachine\": () => (/* binding */ useConnectorTypesMachine),\n/* harmony export */   \"useConnectorTypesMachineIsReady\": () => (/* binding */ useConnectorTypesMachineIsReady),\n/* harmony export */   \"useConnectorsMachine\": () => (/* binding */ useConnectorsMachine),\n/* harmony export */   \"useConnectorsMachineIsReady\": () => (/* binding */ useConnectorsMachineIsReady),\n/* harmony export */   \"useConnectorsMachineService\": () => (/* binding */ useConnectorsMachineService),\n/* harmony export */   \"useCreationWizardMachineClustersActor\": () => (/* binding */ useCreationWizardMachineClustersActor),\n/* harmony export */   \"useCreationWizardMachineConnectorTypesActor\": () => (/* binding */ useCreationWizardMachineConnectorTypesActor),\n/* harmony export */   \"useCreationWizardMachineKafkasActor\": () => (/* binding */ useCreationWizardMachineKafkasActor),\n/* harmony export */   \"useCreationWizardMachineReviewActor\": () => (/* binding */ useCreationWizardMachineReviewActor),\n/* harmony export */   \"useCreationWizardMachineService\": () => (/* binding */ useCreationWizardMachineService),\n/* harmony export */   \"useKafkasMachine\": () => (/* binding */ useKafkasMachine),\n/* harmony export */   \"useKafkasMachineIsReady\": () => (/* binding */ useKafkasMachineIsReady),\n/* harmony export */   \"usePagination\": () => (/* binding */ usePagination),\n/* harmony export */   \"useReviewMachine\": () => (/* binding */ useReviewMachine)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10791);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(59993);\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(xstate__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(25612);\n/* harmony import */ var xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(32292);\n/* harmony import */ var xstate_lib_model__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _xstate_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(30086);\n/* harmony import */ var _xstate_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_xstate_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(49198);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(22750);\n/* harmony import */ var _cos_ui_api__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_cos_ui_api__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _cos_ui_json_schema_configurator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(25102);\n\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar startConnector = function startConnector(_ref) {\n  var accessToken = _ref.accessToken,\n      basePath = _ref.basePath,\n      connector = _ref.connector;\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (callback) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    apisService.patchConnector(connector.id, {\n      desired_state: 'ready'\n    }, undefined, {\n      cancelToken: source.token,\n      headers: {\n        'Content-type': 'application/merge-patch+json'\n      }\n    }).then(function (response) {\n      callback({\n        type: 'connector.actionSuccess',\n        connector: response.data\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        callback({\n          type: 'connector.actionError',\n          error: error.response.data.reason\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\nvar stopConnector = function stopConnector(_ref2) {\n  var accessToken = _ref2.accessToken,\n      basePath = _ref2.basePath,\n      connector = _ref2.connector;\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (callback) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    apisService.patchConnector(connector.id, {\n      desired_state: 'stopped'\n    }, undefined, {\n      cancelToken: source.token,\n      headers: {\n        'Content-type': 'application/merge-patch+json'\n      }\n    }).then(function (response) {\n      callback({\n        type: 'connector.actionSuccess',\n        connector: response.data\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        callback({\n          type: 'connector.actionError',\n          error: error.response.data.reason\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\nvar deleteConnector = function deleteConnector(_ref3) {\n  var accessToken = _ref3.accessToken,\n      basePath = _ref3.basePath,\n      connector = _ref3.connector;\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (callback) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    apisService.deleteConnector(connector.id, undefined, {\n      cancelToken: source.token\n    }).then(function () {\n      callback({\n        type: 'connector.actionSuccess',\n        connector: _extends({}, connector, {\n          status: 'deleting',\n          desired_state: 'deleted'\n        })\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        callback({\n          type: 'connector.actionError',\n          error: error.response.data.reason\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\nvar fetchConnectors = function fetchConnectors(accessToken, basePath) {\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (request, onSuccess, onError) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    var page = request.page,\n        size = request.size; // const query = name.length > 0 ? `name LIKE ${name}` : undefined;\n\n    apisService.listConnectors(\"\" + page, \"\" + size, undefined, {\n      cancelToken: source.token\n    }).then(function (response) {\n      onSuccess({\n        items: response.data.items,\n        total: response.data.total,\n        page: response.data.page,\n        size: response.data.size\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        onError({\n          error: error.message,\n          page: request.page\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nvar connectorMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar connectorMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  accessToken: function accessToken() {\n    return Promise.resolve('');\n  },\n  basePath: '',\n  connector: {}\n}, {\n  events: {\n    'connector.start': function connectorStart() {\n      return {};\n    },\n    'connector.stop': function connectorStop() {\n      return {};\n    },\n    'connector.remove': function connectorRemove() {\n      return {};\n    },\n    'connector.select': function connectorSelect() {\n      return {};\n    },\n    'connector.actionSuccess': function connectorActionSuccess(payload) {\n      return payload;\n    },\n    'connector.actionError': function connectorActionError(payload) {\n      return payload;\n    }\n  }\n});\nvar connectorMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: connectorMachineSchema,\n  id: 'connector',\n  initial: 'verify',\n  context: connectorMachineModel.initialContext,\n  states: {\n    verify: {\n      always: [{\n        target: 'ready',\n        cond: 'isReady'\n      }, {\n        target: 'stopped',\n        cond: 'isStopped'\n      }, {\n        target: 'deleted',\n        cond: 'isDeleted'\n      }]\n    },\n    ready: {\n      on: {\n        'connector.stop': 'stoppingConnector',\n        'connector.remove': 'deletingConnector'\n      }\n    },\n    stopped: {\n      on: {\n        'connector.start': 'startingConnector',\n        'connector.remove': 'deletingConnector'\n      }\n    },\n    deleted: {},\n    startingConnector: {\n      invoke: {\n        id: 'startingConnectorCb',\n        src: function src(context) {\n          return startConnector({\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            connector: context.connector\n          });\n        }\n      },\n      on: {\n        'connector.actionSuccess': {\n          target: 'verify',\n          actions: ['updateState', 'notifySuccessToParent']\n        },\n        'connector.actionError': {\n          target: 'verify',\n          actions: 'notifyErrorToParent'\n        }\n      }\n    },\n    stoppingConnector: {\n      invoke: {\n        id: 'stoppingConnectorCb',\n        src: function src(context) {\n          return stopConnector({\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            connector: context.connector\n          });\n        }\n      },\n      on: {\n        'connector.actionSuccess': {\n          target: 'verify',\n          actions: ['updateState', 'notifySuccessToParent']\n        },\n        'connector.actionError': {\n          target: 'verify',\n          actions: 'notifyErrorToParent'\n        }\n      }\n    },\n    deletingConnector: {\n      invoke: {\n        id: 'deletingConnectorCb',\n        src: function src(context) {\n          return deleteConnector({\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            connector: context.connector\n          });\n        }\n      },\n      on: {\n        'connector.actionSuccess': {\n          target: 'deleted',\n          actions: ['updateState', 'notifySuccessToParent']\n        },\n        'connector.actionError': {\n          target: 'verify',\n          actions: 'notifyErrorToParent'\n        }\n      }\n    }\n  },\n  on: {\n    'connector.select': {\n      actions: 'notifySelectToParent'\n    }\n  }\n}, {\n  guards: {\n    isReady: function isReady(context) {\n      return context.connector.desired_state === 'ready';\n    },\n    isStopped: function isStopped(context) {\n      return context.connector.desired_state === 'stopped';\n    },\n    isDeleted: function isDeleted(context) {\n      return context.connector.desired_state === 'deleted';\n    }\n  },\n  actions: {\n    updateState: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'connector.actionSuccess') return {};\n      return {\n        connector: event.connector\n      };\n    }),\n    notifySuccessToParent: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)('actionSuccess'),\n    notifyErrorToParent: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)('actionFailure'),\n    notifySelectToParent: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (_ref) {\n      var connector = _ref.connector;\n      return {\n        type: 'selectConnector',\n        connector: connector\n      };\n    })\n  }\n});\nvar makeConnectorMachine = function makeConnectorMachine(context) {\n  return connectorMachine.withContext(context);\n};\nvar useConnector = function useConnector(ref) {\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(ref, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return {\n      connector: state.context.connector,\n      canStart: connectorMachine.transition(state, 'connector.start').changed === true,\n      canStop: connectorMachine.transition(state, 'connector.stop').changed === true,\n      canDelete: connectorMachine.transition(state, 'connector.remove').changed === true\n    };\n  }, [ref])),\n      connector = _useSelector.connector,\n      canStart = _useSelector.canStart,\n      canStop = _useSelector.canStop,\n      canDelete = _useSelector.canDelete;\n\n  var onStart = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    return ref.send({\n      type: 'connector.start'\n    });\n  }, [ref]);\n  var onStop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    return ref.send({\n      type: 'connector.stop'\n    });\n  }, [ref]);\n  var onDelete = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    return ref.send({\n      type: 'connector.remove'\n    });\n  }, [ref]);\n  var onSelect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    return ref.send({\n      type: 'connector.select'\n    });\n  }, [ref]);\n  return {\n    connector: connector,\n    canStart: canStart,\n    canStop: canStop,\n    canDelete: canDelete,\n    onStart: onStart,\n    onStop: onStop,\n    onDelete: onDelete,\n    onSelect: onSelect\n  };\n};\n\nfunction makeFetchMachine() {\n  var fetchMachineSchema = {\n    context: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n  };\n  var fetchMachineModel = (0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n    data: undefined,\n    error: undefined\n  });\n  return (0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n    schema: fetchMachineSchema,\n    id: 'fetchMachine',\n    context: {},\n    initial: 'loading',\n    states: {\n      loading: {\n        invoke: {\n          id: 'fetchService',\n          src: 'fetchService',\n          onDone: {\n            target: 'success',\n            actions: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n              return {\n                data: event.data\n              };\n            })\n          },\n          onError: {\n            target: 'failure',\n            actions: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n              error: function error(_context, event) {\n                return event.data;\n              }\n            })\n          }\n        }\n      },\n      failure: {\n        type: 'final'\n      },\n      success: {\n        type: 'final',\n        data: function data(_ref) {\n          var _data = _ref.data;\n          return _extends({}, _data);\n        }\n      }\n    }\n  });\n}\n\nvar paginatedApiMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar getPaginatedApiMachineEvents = function getPaginatedApiMachineEvents() {\n  return {\n    'api.refresh': function apiRefresh() {\n      return {};\n    },\n    'api.nextPage': function apiNextPage() {\n      return {};\n    },\n    'api.prevPage': function apiPrevPage() {\n      return {};\n    },\n    'api.query': function apiQuery(payload) {\n      return payload;\n    },\n    'api.setResponse': function apiSetResponse(payload) {\n      return payload;\n    },\n    'api.setError': function apiSetError(payload) {\n      return payload;\n    },\n    // notifyParent\n    'api.ready': function apiReady() {\n      return {};\n    },\n    'api.loading': function apiLoading(payload) {\n      return payload;\n    },\n    'api.success': function apiSuccess(payload) {\n      return payload;\n    },\n    'api.error': function apiError(payload) {\n      return payload;\n    }\n  };\n};\nvar getPaginatedApiMachineEventsHandlers = function getPaginatedApiMachineEventsHandlers(to) {\n  return {\n    'api.refresh': {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    },\n    'api.nextPage': {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    },\n    'api.prevPage': {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    },\n    'api.query': {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    }\n  };\n};\nfunction makePaginatedApiMachine(service, dataTransformer, options) {\n  var paginatedApiMachineModel = (0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n    request: {\n      page: 1,\n      size: 10\n    },\n    response: undefined,\n    pollingEnabled: (options == null ? void 0 : options.pollingEnabled) || false,\n    onBeforeSetResponse: options == null ? void 0 : options.onBeforeSetResponse,\n    dataTransformer: dataTransformer\n  }, {\n    events: _extends({}, getPaginatedApiMachineEvents())\n  });\n\n  var callApi = function callApi(context) {\n    return function (callback) {\n      return service(context.request, function (payload) {\n        return callback(paginatedApiMachineModel.events['api.setResponse'](payload));\n      }, function (payload) {\n        return callback(paginatedApiMachineModel.events['api.setError'](payload));\n      });\n    };\n  };\n\n  return (0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n    schema: paginatedApiMachineSchema,\n    id: 'paginatedApiMachine',\n    context: paginatedApiMachineModel.initialContext,\n    type: 'parallel',\n    states: {\n      api: {\n        initial: 'idle',\n        states: {\n          idle: {\n            entry: 'notifyReady',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              }\n            }\n          },\n          success: {\n            always: [{\n              target: 'queryEmpty',\n              cond: 'isQueryEmpty'\n            }, {\n              target: 'queryResults',\n              cond: 'isQuerySuccesful'\n            }, {\n              target: 'empty',\n              cond: 'isTotalZero'\n            }, {\n              target: 'results'\n            }]\n          },\n          queryEmpty: {\n            tags: 'queryEmpty',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.prevPage': {\n                target: 'loading',\n                actions: 'decreasePage',\n                cond: 'isNotFirstPage'\n              },\n              'api.refresh': {\n                target: 'loading',\n                actions: 'fetch'\n              }\n            }\n          },\n          queryResults: {\n            tags: 'queryResults',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.nextPage': {\n                target: 'loading',\n                actions: 'increasePage',\n                cond: 'isNotLastPage'\n              },\n              'api.prevPage': {\n                target: 'loading',\n                actions: 'decreasePage',\n                cond: 'isNotFirstPage'\n              },\n              'api.refresh': {\n                target: 'loading'\n              }\n            }\n          },\n          empty: {\n            tags: 'empty',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.refresh': {\n                target: 'loading'\n              }\n            }\n          },\n          results: {\n            tags: 'results',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.nextPage': {\n                target: 'loading',\n                actions: 'increasePage',\n                cond: 'isNotLastPage'\n              },\n              'api.prevPage': {\n                target: 'loading',\n                actions: 'decreasePage',\n                cond: 'isNotFirstPage'\n              },\n              'api.refresh': {\n                target: 'loading'\n              }\n            }\n          },\n          error: {\n            tags: 'error',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.refresh': {\n                target: 'loading'\n              },\n              'api.prevPage': {\n                target: 'loading',\n                actions: 'decreasePage',\n                cond: 'isNotFirstPage'\n              }\n            }\n          },\n          loading: {\n            tags: ['loading'],\n            entry: ['notifyLoading', 'fetch'],\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.setResponse': {\n                target: 'success',\n                actions: ['setResponse', 'notifySuccess']\n              },\n              'api.setError': {\n                target: 'error',\n                actions: ['setError', 'notifyError']\n              }\n            }\n          }\n        },\n        on: {\n          '*': {\n            actions: 'forwardUnknownEventsToParent'\n          }\n        }\n      },\n      polling: {\n        entry: 'fetch',\n        on: {\n          'api.setResponse': {\n            actions: 'setResponse'\n          }\n        },\n        after: {\n          INTERVAL: {\n            cond: 'isPollingEnabled',\n            target: 'polling'\n          }\n        }\n      }\n    }\n  }, {\n    delays: {\n      INTERVAL: 5000\n    },\n    actions: {\n      fetch: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n        if (context.actor && context.actor.stop) {\n          context.actor.stop();\n        }\n\n        var actor = (0,xstate__WEBPACK_IMPORTED_MODULE_1__.spawn)(callApi(context));\n        return {\n          actor: actor\n        };\n      }),\n      setResponse: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context, e) {\n        var _e$items;\n\n        if (e.type !== 'api.setResponse' || e.page !== context.request.page) return {};\n\n        if (context.onBeforeSetResponse) {\n          var _context$response;\n\n          context.onBeforeSetResponse((_context$response = context.response) == null ? void 0 : _context$response.items);\n        }\n\n        return {\n          response: {\n            items: (_e$items = e.items) == null ? void 0 : _e$items.map(function (i) {\n              return context.dataTransformer(i);\n            }),\n            total: e.total,\n            error: undefined\n          }\n        };\n      }),\n      setError: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context, e) {\n        var _context$response2, _context$response3;\n\n        if (e.type !== 'api.setError' || e.page !== context.request.page) return {};\n        return {\n          response: {\n            items: ((_context$response2 = context.response) == null ? void 0 : _context$response2.items) || [],\n            total: ((_context$response3 = context.response) == null ? void 0 : _context$response3.total) || 0,\n            error: e.error\n          }\n        };\n      }),\n      increasePage: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n        return {\n          request: _extends({}, context.request, {\n            page: context.request.page + 1\n          })\n        };\n      }),\n      decreasePage: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n        return {\n          request: _extends({}, context.request, {\n            page: context.request.page - 1\n          })\n        };\n      }),\n      query: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context, event) {\n        if (event.type !== 'api.query') return {};\n        var page = event.page,\n            size = event.size,\n            query = event.query;\n        return {\n          request: {\n            page: page || context.request.page,\n            size: size || context.request.size,\n            query: query\n          }\n        };\n      }),\n      notifyReady: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)({\n        type: 'api.ready'\n      }),\n      notifySuccess: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (context) {\n        return _extends({\n          type: 'api.success'\n        }, context.response);\n      }),\n      notifyError: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (context) {\n        var _context$response4;\n\n        return {\n          type: 'api.error',\n          error: (_context$response4 = context.response) == null ? void 0 : _context$response4.error\n        };\n      }),\n      notifyLoading: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (context) {\n        return _extends({\n          type: 'api.loading'\n        }, context.request);\n      }),\n      forwardUnknownEventsToParent: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.pure)(function (_context, event) {\n        if (Object.keys(paginatedApiMachineModel.events).includes(event.type) === false) {\n          return (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (_context, _event, meta) {\n            return meta._event.data;\n          });\n        }\n\n        return [];\n      })\n    },\n    guards: {\n      isNotFirstPage: function isNotFirstPage(context) {\n        return context.response !== undefined && context.request.page > 1;\n      },\n      isNotLastPage: function isNotLastPage(context) {\n        return context.response !== undefined && context.request.size > 0 && context.request.page < Math.ceil(context.response.total / context.request.size);\n      },\n      isTotalZero: function isTotalZero(context) {\n        var _context$response5;\n\n        return ((_context$response5 = context.response) == null ? void 0 : _context$response5.total) === 0;\n      },\n      isQuerySuccesful: function isQuerySuccesful(context) {\n        var _context$response6;\n\n        return context.request.query !== undefined && context.response !== undefined && ((_context$response6 = context.response) == null ? void 0 : _context$response6.total) > 0;\n      },\n      isQueryEmpty: function isQueryEmpty(context) {\n        var _context$response7;\n\n        return context.request.query !== undefined && context.response !== undefined && ((_context$response7 = context.response) == null ? void 0 : _context$response7.total) === 0;\n      },\n      isPollingEnabled: function isPollingEnabled(context) {\n        return context.pollingEnabled;\n      }\n    }\n  });\n} // https://stackoverflow.com/questions/50321419/typescript-returntype-of-generic-function/64919133#64919133\n\nvar usePagination = function usePagination(actor) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return {\n      request: state.context.request,\n      response: state.context.response,\n      loading: state.hasTag('loading'),\n      queryEmpty: state.hasTag('queryEmpty'),\n      queryResults: state.hasTag('queryResults'),\n      noResults: state.hasTag('empty'),\n      results: state.hasTag('results'),\n      error: state.hasTag('error'),\n      firstRequest: state.context.response === undefined\n    };\n  }, [actor]));\n};\n\nvar PAGINATED_MACHINE_ID = 'paginatedApi';\nvar connectorsMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar connectorsMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  accessToken: function accessToken() {\n    return Promise.resolve('');\n  },\n  basePath: '',\n  selectedConnector: undefined\n}, {\n  events: /*#__PURE__*/_extends({}, /*#__PURE__*/getPaginatedApiMachineEvents(), {\n    actionSuccess: function actionSuccess() {\n      return {};\n    },\n    actionFailure: function actionFailure() {\n      return {};\n    },\n    selectConnector: function selectConnector(payload) {\n      return payload;\n    },\n    deselectConnector: function deselectConnector() {\n      return {};\n    }\n  })\n});\nvar connectorsMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: connectorsMachineSchema,\n  id: 'connectors',\n  initial: 'root',\n  context: connectorsMachineModel.initialContext,\n  states: {\n    root: {\n      type: 'parallel',\n      states: {\n        api: {\n          initial: 'idle',\n          invoke: {\n            id: PAGINATED_MACHINE_ID,\n            src: function src(context) {\n              return makePaginatedApiMachine(fetchConnectors(context.accessToken, context.basePath), function (connector) {\n                return (0,xstate__WEBPACK_IMPORTED_MODULE_1__.spawn)(makeConnectorMachine({\n                  accessToken: context.accessToken,\n                  basePath: context.basePath,\n                  connector: connector\n                }), \"connector-\" + connector.id);\n              }, {\n                pollingEnabled: true,\n                onBeforeSetResponse: function onBeforeSetResponse(data) {\n                  if (data) {\n                    data.forEach(function (d) {\n                      if (d && d.stop) {\n                        d.stop();\n                      }\n                    });\n                  }\n                }\n              });\n            }\n          },\n          states: {\n            idle: {\n              on: {\n                'api.ready': 'ready'\n              }\n            },\n            ready: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('api.query', {\n                to: PAGINATED_MACHINE_ID\n              })\n            }\n          },\n          on: /*#__PURE__*/_extends({}, /*#__PURE__*/getPaginatedApiMachineEventsHandlers(PAGINATED_MACHINE_ID), {\n            'api.error': {\n              actions: 'notifyError'\n            },\n            actionSuccess: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('api.query', {\n                to: PAGINATED_MACHINE_ID\n              })\n            },\n            actionFailure: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('api.query', {\n                to: PAGINATED_MACHINE_ID\n              })\n            },\n            selectConnector: {\n              actions: 'setSelectedConnector'\n            },\n            deselectConnector: {\n              actions: 'unsetSelectedConnector'\n            }\n          })\n        },\n        listing: {}\n      }\n    }\n  }\n}, {\n  actions: {\n    setSelectedConnector: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'selectConnector') return {};\n      return {\n        selectedConnector: event.connector\n      };\n    }),\n    unsetSelectedConnector: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'deselectConnector') return {};\n      return {\n        selectedConnector: undefined\n      };\n    }),\n    notifyError: function notifyError(context, event) {\n      console.log(context, event);\n\n      if (event.type === 'api.error' && context.onError) {\n        context.onError(event.error);\n      }\n    }\n  }\n});\nvar useConnectorsMachine = function useConnectorsMachine(service) {\n  var apiData = usePagination(service.state.children[PAGINATED_MACHINE_ID]);\n\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return {\n      selectedConnector: state.context.selectedConnector\n    };\n  }, [service])),\n      selectedConnector = _useSelector.selectedConnector;\n\n  var deselectConnector = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    service.send({\n      type: 'deselectConnector'\n    });\n  }, [service]);\n  return _extends({}, apiData, {\n    selectedConnector: selectedConnector,\n    deselectConnector: deselectConnector\n  });\n};\n\nvar ConnectorsMachineServiceContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar ConnectorsMachineProvider = function ConnectorsMachineProvider(_ref) {\n  var children = _ref.children,\n      accessToken = _ref.accessToken,\n      basePath = _ref.basePath,\n      onError = _ref.onError;\n  var service = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useInterpret)(connectorsMachine, {\n    context: {\n      accessToken: accessToken,\n      basePath: basePath,\n      onError: onError\n    },\n    devTools: true\n  });\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ConnectorsMachineServiceContext.Provider, {\n    value: service\n  }, children);\n};\nvar useConnectorsMachineService = function useConnectorsMachineService() {\n  var service = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ConnectorsMachineServiceContext);\n\n  if (!service) {\n    throw new Error(\"useConnectorsMachineService() must be used in a child of <ConnectorsMachineProvider>\");\n  }\n\n  return service;\n};\nvar useConnectorsMachineIsReady = function useConnectorsMachineIsReady(service) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.matches({\n      root: {\n        api: 'ready'\n      }\n    });\n  }, [service]));\n};\n\nvar PAGINATED_MACHINE_ID$1 = 'paginatedApi';\n\nvar fetchClusters = function fetchClusters(accessToken, basePath) {\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorClustersApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (request, onSuccess, onError) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    var page = request.page,\n        size = request.size;\n    apisService.listConnectorClusters(\"\" + page, \"\" + size, {\n      cancelToken: source.token\n    }).then(function (response) {\n      onSuccess({\n        items: response.data.items,\n        total: response.data.total,\n        page: response.data.page,\n        size: response.data.size\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        onError({\n          error: error.message,\n          page: request.page\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nvar clustersMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar clustersMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  accessToken: function accessToken() {\n    return Promise.resolve('');\n  },\n  basePath: '',\n  clusters: undefined,\n  selectedCluster: undefined,\n  error: undefined\n}, {\n  events: /*#__PURE__*/_extends({\n    selectCluster: function selectCluster(payload) {\n      return _extends({}, payload);\n    },\n    deselectCluster: function deselectCluster() {\n      return {};\n    },\n    confirm: function confirm() {\n      return {};\n    }\n  }, /*#__PURE__*/getPaginatedApiMachineEvents())\n});\nvar clustersMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: clustersMachineSchema,\n  id: 'clusters',\n  initial: 'root',\n  context: clustersMachineModel.initialContext,\n  states: {\n    root: {\n      type: 'parallel',\n      states: {\n        api: {\n          initial: 'idle',\n          invoke: {\n            id: PAGINATED_MACHINE_ID$1,\n            src: function src(context) {\n              return makePaginatedApiMachine(fetchClusters(context.accessToken, context.basePath), function (i) {\n                return i;\n              });\n            }\n          },\n          states: {\n            idle: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('api.query', {\n                to: PAGINATED_MACHINE_ID$1\n              }),\n              on: {\n                'api.ready': 'ready'\n              }\n            },\n            ready: {}\n          },\n          on: /*#__PURE__*/_extends({}, /*#__PURE__*/getPaginatedApiMachineEventsHandlers(PAGINATED_MACHINE_ID$1), {\n            'api.success': {\n              actions: 'success'\n            }\n          })\n        },\n        selection: {\n          id: 'selection',\n          initial: 'verify',\n          states: {\n            verify: {\n              always: [{\n                target: 'selecting',\n                cond: 'noClusterSelected'\n              }, {\n                target: 'valid',\n                cond: 'clusterSelected'\n              }]\n            },\n            selecting: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isInvalid'),\n              on: {\n                selectCluster: {\n                  target: 'valid',\n                  actions: 'selectCluster'\n                }\n              }\n            },\n            valid: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isValid'),\n              on: {\n                selectCluster: {\n                  target: 'verify',\n                  actions: 'selectCluster',\n                  cond: function cond(_, event) {\n                    return event.selectedCluster !== undefined;\n                  }\n                },\n                deselectCluster: {\n                  target: 'verify',\n                  actions: 'reset'\n                },\n                confirm: {\n                  target: '#done',\n                  cond: 'clusterSelected'\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    done: {\n      id: 'done',\n      type: 'final',\n      data: {\n        selectedCluster: function selectedCluster(context) {\n          return context.selectedCluster;\n        }\n      }\n    }\n  }\n}, {\n  actions: {\n    success: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'api.success') return {};\n\n      var response = _objectWithoutPropertiesLoose(event, [\"type\"]);\n\n      return {\n        response: response\n      };\n    }),\n    selectCluster: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedCluster: function selectedCluster(context, event) {\n        if (event.type === 'selectCluster') {\n          var _context$response, _context$response$ite;\n\n          return (_context$response = context.response) == null ? void 0 : (_context$response$ite = _context$response.items) == null ? void 0 : _context$response$ite.find(function (i) {\n            return i.id === event.selectedCluster;\n          });\n        }\n\n        return context.selectedCluster;\n      }\n    }),\n    reset: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedCluster: function selectedCluster(context, event) {\n        return event.type === 'deselectCluster' ? undefined : context.selectedCluster;\n      }\n    })\n  },\n  guards: {\n    clusterSelected: function clusterSelected(context) {\n      return context.selectedCluster !== undefined;\n    },\n    noClusterSelected: function noClusterSelected(context) {\n      return context.selectedCluster === undefined;\n    }\n  }\n});\nvar useClustersMachineIsReady = function useClustersMachineIsReady(actor) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.matches({\n      root: {\n        api: 'ready'\n      }\n    });\n  }, [actor]));\n};\nvar useClustersMachine = function useClustersMachine(actor) {\n  var api = usePagination(actor.state.children[PAGINATED_MACHINE_ID$1]);\n\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    var _state$context$select;\n\n    return {\n      selectedId: (_state$context$select = state.context.selectedCluster) == null ? void 0 : _state$context$select.id\n    };\n  }, [actor])),\n      selectedId = _useSelector.selectedId;\n\n  var onSelect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (selectedCluster) {\n    actor.send({\n      type: 'selectCluster',\n      selectedCluster: selectedCluster\n    });\n  }, [actor]);\n  var onQuery = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (request) {\n    actor.send(_extends({\n      type: 'api.query'\n    }, request));\n  }, [actor]);\n  return _extends({}, api, {\n    selectedId: selectedId,\n    onSelect: onSelect,\n    onQuery: onQuery\n  });\n};\n\nvar configuratorLoaderMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar configuratorLoaderMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  connector: {\n    id: 'something',\n    name: 'something',\n    version: '0.1'\n  },\n  Configurator: undefined,\n  steps: undefined,\n  error: undefined\n});\nvar configuratorLoaderMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: configuratorLoaderMachineSchema,\n  id: 'configurator',\n  initial: 'loading',\n  context: configuratorLoaderMachineModel.initialContext,\n  states: {\n    loading: {\n      invoke: {\n        id: 'fetchConfigurator',\n        src: 'fetchConfigurator',\n        onDone: {\n          target: 'success',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n            return event.data;\n          })\n        },\n        onError: {\n          target: 'failure',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            error: function error(_context, event) {\n              return event.data;\n            }\n          })\n        }\n      }\n    },\n    failure: {\n      entry: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.escalate)(function (context) {\n        return {\n          message: context.error\n        };\n      })\n    },\n    success: {\n      type: 'final',\n      data: function data(_ref) {\n        var Configurator = _ref.Configurator,\n            steps = _ref.steps;\n        return {\n          Configurator: Configurator,\n          steps: steps\n        };\n      }\n    }\n  }\n});\n\nvar configuratorMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar configuratorMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: configuratorMachineSchema,\n  id: 'configurator',\n  initial: 'configuring',\n  context: {\n    connector: {\n      id: 'something',\n      name: 'something',\n      version: '0.1',\n      json_schema: {}\n    },\n    steps: ['one', 'two', 'three'],\n    activeStep: 0,\n    isActiveStepValid: false,\n    configuration: undefined\n  },\n  states: {\n    configuring: {\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isInvalid'),\n      always: [{\n        target: 'valid',\n        cond: 'activeStepValid'\n      }]\n    },\n    valid: {\n      id: 'valid',\n      initial: 'determineStep',\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isValid'),\n      states: {\n        determineStep: {\n          always: [{\n            target: '#valid.lastStep',\n            cond: 'isLastStep'\n          }, {\n            target: '#valid.hasNextStep'\n          }]\n        },\n        hasNextStep: {\n          on: {\n            next: {\n              target: '#configurator.configuring',\n              actions: ['nextStep', 'changedStep']\n            }\n          }\n        },\n        lastStep: {\n          on: {\n            next: '#configurator.configured'\n          }\n        }\n      }\n    },\n    configured: {\n      type: 'final',\n      data: function data(_ref2) {\n        var configuration = _ref2.configuration;\n        return {\n          configuration: configuration\n        };\n      }\n    }\n  },\n  on: {\n    change: {\n      target: 'configuring',\n      actions: 'change'\n    },\n    prev: {\n      target: 'configuring',\n      actions: ['prevStep', 'changedStep']\n    }\n  }\n}, {\n  actions: {\n    nextStep: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n      return {\n        activeStep: Math.min(context.activeStep + 1, context.steps.length - 1),\n        isActiveStepValid: false\n      };\n    }),\n    prevStep: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n      return {\n        activeStep: Math.max(context.activeStep - 1, 0),\n        isActiveStepValid: false\n      };\n    }),\n    change: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      return event.type === 'change' ? {\n        configuration: event.configuration,\n        isActiveStepValid: event.isValid\n      } : {};\n    }),\n    changedStep: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)(function (context) {\n      return {\n        type: 'changedStep',\n        step: context.activeStep\n      };\n    })\n  },\n  guards: {\n    isLastStep: function isLastStep(context) {\n      return context.activeStep === context.steps.length - 1;\n    },\n    activeStepValid: function activeStepValid(context) {\n      return context.isActiveStepValid;\n    }\n  }\n});\n\nvar PAGINATED_MACHINE_ID$2 = 'paginatedApi';\n\nvar fetchConnectorTypes = function fetchConnectorTypes(accessToken, basePath) {\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorTypesApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (request, onSuccess, onError) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    var page = request.page,\n        size = request.size,\n        query = request.query;\n\n    var _ref = query || {},\n        name = _ref.name,\n        _ref$categories = _ref.categories,\n        categories = _ref$categories === void 0 ? [] : _ref$categories;\n\n    apisService.listConnectorTypes('1', '1000', {\n      cancelToken: source.token\n    }).then(function (response) {\n      var _filteredItems;\n\n      var lcName = name ? name.toLowerCase() : undefined;\n      var rawItems = response.data.items;\n      var filteredItems = lcName ? rawItems == null ? void 0 : rawItems.filter(function (c) {\n        return c.name.toLowerCase().includes(lcName);\n      }) : rawItems;\n      filteredItems = categories.length > 0 ? (_filteredItems = filteredItems) == null ? void 0 : _filteredItems.filter(function (c) {\n        var _c$labels;\n\n        return (((_c$labels = c.labels) == null ? void 0 : _c$labels.filter(function (l) {\n          return categories.includes(l);\n        })) || []).length > 0;\n      }) : filteredItems;\n      var total = filteredItems.length;\n      var offset = (page - 1) * size;\n      var items = filteredItems.slice(offset, offset + size);\n      onSuccess({\n        items: items,\n        total: total,\n        page: page,\n        size: size\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        onError({\n          error: error.message,\n          page: request.page\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nvar connectorTypesMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar connectorTypesMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  accessToken: function accessToken() {\n    return Promise.resolve('');\n  },\n  basePath: '',\n  response: undefined,\n  selectedConnector: undefined,\n  error: undefined\n}, {\n  events: /*#__PURE__*/_extends({\n    selectConnector: function selectConnector(payload) {\n      return _extends({}, payload);\n    },\n    deselectConnector: function deselectConnector() {\n      return {};\n    },\n    confirm: function confirm() {\n      return {};\n    }\n  }, /*#__PURE__*/getPaginatedApiMachineEvents())\n});\nvar connectorTypesMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: connectorTypesMachineSchema,\n  context: connectorTypesMachineModel.initialContext,\n  id: 'connectors',\n  initial: 'root',\n  states: {\n    root: {\n      type: 'parallel',\n      states: {\n        api: {\n          initial: 'idle',\n          invoke: {\n            id: PAGINATED_MACHINE_ID$2,\n            src: function src(context) {\n              return makePaginatedApiMachine(fetchConnectorTypes(context.accessToken, context.basePath), function (i) {\n                return i;\n              });\n            }\n          },\n          states: {\n            idle: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)({\n                type: 'api.query',\n                query: {\n                  categories: ['sink', 'source']\n                }\n              }, {\n                to: PAGINATED_MACHINE_ID$2\n              }),\n              on: {\n                'api.ready': 'ready'\n              }\n            },\n            ready: {}\n          },\n          on: /*#__PURE__*/_extends({}, /*#__PURE__*/getPaginatedApiMachineEventsHandlers(PAGINATED_MACHINE_ID$2), {\n            'api.success': {\n              actions: 'success'\n            }\n          })\n        },\n        selection: {\n          id: 'selection',\n          initial: 'verify',\n          states: {\n            verify: {\n              always: [{\n                target: 'selecting',\n                cond: 'noConnectorSelected'\n              }, {\n                target: 'valid',\n                cond: 'connectorSelected'\n              }]\n            },\n            selecting: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isInvalid'),\n              on: {\n                selectConnector: {\n                  target: 'valid',\n                  actions: 'selectConnector',\n                  cond: function cond(_, event) {\n                    return event.selectedConnector !== undefined;\n                  }\n                }\n              }\n            },\n            valid: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isValid'),\n              on: {\n                selectConnector: {\n                  target: 'verify',\n                  actions: 'selectConnector'\n                },\n                deselectConnector: {\n                  target: 'verify',\n                  actions: 'reset'\n                },\n                confirm: {\n                  target: '#done',\n                  cond: 'connectorSelected'\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    done: {\n      id: 'done',\n      type: 'final',\n      data: {\n        selectedConnector: function selectedConnector(context) {\n          return context.selectedConnector;\n        }\n      }\n    }\n  }\n}, {\n  actions: {\n    success: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'api.success') return {};\n\n      var response = _objectWithoutPropertiesLoose(event, [\"type\"]);\n\n      return {\n        response: response\n      };\n    }),\n    selectConnector: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedConnector: function selectedConnector(context, event) {\n        if (event.type === 'selectConnector') {\n          var _context$response, _context$response$ite;\n\n          return (_context$response = context.response) == null ? void 0 : (_context$response$ite = _context$response.items) == null ? void 0 : _context$response$ite.find(function (i) {\n            return i.id === event.selectedConnector;\n          });\n        }\n\n        return context.selectedConnector;\n      }\n    }),\n    reset: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedConnector: function selectedConnector(context, event) {\n        return event.type === 'deselectConnector' ? undefined : context.selectedConnector;\n      }\n    })\n  },\n  guards: {\n    connectorSelected: function connectorSelected(context) {\n      return context.selectedConnector !== undefined;\n    },\n    noConnectorSelected: function noConnectorSelected(context) {\n      return context.selectedConnector === undefined;\n    }\n  }\n});\nvar useConnectorTypesMachineIsReady = function useConnectorTypesMachineIsReady(actor) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.matches({\n      root: {\n        api: 'ready'\n      }\n    });\n  }, [actor]));\n};\nvar useConnectorTypesMachine = function useConnectorTypesMachine(actor) {\n  var api = usePagination(actor.state.children[PAGINATED_MACHINE_ID$2]);\n\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    var _state$context$select;\n\n    return {\n      selectedId: (_state$context$select = state.context.selectedConnector) == null ? void 0 : _state$context$select.id\n    };\n  }, [actor])),\n      selectedId = _useSelector.selectedId;\n\n  var onSelect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (selectedConnector) {\n    actor.send({\n      type: 'selectConnector',\n      selectedConnector: selectedConnector\n    });\n  }, [actor]);\n  var onQuery = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (request) {\n    actor.send(_extends({\n      type: 'api.query'\n    }, request));\n  }, [actor]);\n  return _extends({}, api, {\n    selectedId: selectedId,\n    onSelect: onSelect,\n    onQuery: onQuery\n  });\n};\n\nvar PAGINATED_MACHINE_ID$3 = 'paginatedApi';\n\nvar fetchKafkaInstances = function fetchKafkaInstances(accessToken, basePath) {\n  // TODO: remove after demo\n  basePath = 'https://api.openshift.com';\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.DefaultApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (request, onSuccess, onError) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    var page = request.page,\n        size = request.size,\n        query = request.query;\n\n    var _ref = query || {},\n        name = _ref.name,\n        statuses = _ref.statuses,\n        owner = _ref.owner,\n        cloudProviders = _ref.cloudProviders,\n        regions = _ref.regions;\n\n    var nameSearch = name && name.length > 0 ? \" name LIKE \" + name : undefined;\n    var ownerSearch = owner && owner.length > 0 ? \" owner LIKE \" + owner : undefined;\n    var statusSearch = statuses && statuses.length > 0 ? statuses.map(function (s) {\n      return \"status = \" + s;\n    }).join(' OR ') : undefined;\n    var cloudProviderSearch = cloudProviders && cloudProviders.length > 0 ? cloudProviders.map(function (s) {\n      return \"cloud_provider = \" + s;\n    }).join(' OR ') : undefined;\n    var regionSearch = regions && regions.length > 0 ? regions.map(function (s) {\n      return \"region = \" + s;\n    }).join(' OR ') : undefined;\n    var search = [nameSearch, ownerSearch, statusSearch, cloudProviderSearch, regionSearch].filter(Boolean).map(function (s) {\n      return \"(\" + s + \")\";\n    }).join(' AND ');\n    apisService.getKafkas(\"\" + page, \"\" + size, undefined, search, {\n      cancelToken: source.token\n    }).then(function (response) {\n      onSuccess({\n        items: response.data.items,\n        total: response.data.total,\n        page: response.data.page,\n        size: response.data.size\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        onError({\n          error: error.message,\n          page: request.page\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nvar kafkasMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar kafkasMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  accessToken: function accessToken() {\n    return Promise.resolve('');\n  },\n  basePath: '',\n  instances: undefined,\n  selectedInstance: undefined,\n  error: undefined\n}, {\n  events: /*#__PURE__*/_extends({\n    selectInstance: function selectInstance(payload) {\n      return _extends({}, payload);\n    },\n    deselectInstance: function deselectInstance() {\n      return {};\n    },\n    confirm: function confirm() {\n      return {};\n    }\n  }, /*#__PURE__*/getPaginatedApiMachineEvents())\n});\nvar kafkasMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: kafkasMachineSchema,\n  id: 'kafkas',\n  initial: 'root',\n  context: kafkasMachineModel.initialContext,\n  states: {\n    root: {\n      type: 'parallel',\n      states: {\n        api: {\n          initial: 'idle',\n          invoke: {\n            id: PAGINATED_MACHINE_ID$3,\n            src: function src(context) {\n              return makePaginatedApiMachine(fetchKafkaInstances(context.accessToken, context.basePath), function (i) {\n                return i;\n              });\n            }\n          },\n          states: {\n            idle: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('api.query', {\n                to: PAGINATED_MACHINE_ID$3\n              }),\n              on: {\n                'api.ready': 'ready'\n              }\n            },\n            ready: {}\n          },\n          on: /*#__PURE__*/_extends({}, /*#__PURE__*/getPaginatedApiMachineEventsHandlers(PAGINATED_MACHINE_ID$3), {\n            'api.success': {\n              actions: 'success'\n            }\n          })\n        },\n        selection: {\n          id: 'selection',\n          initial: 'verify',\n          states: {\n            verify: {\n              always: [{\n                target: 'selecting',\n                cond: 'noInstanceSelected'\n              }, {\n                target: 'valid',\n                cond: 'instanceSelected'\n              }]\n            },\n            selecting: {\n              entry: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)('isInvalid'),\n              on: {\n                selectInstance: {\n                  target: 'valid',\n                  actions: 'selectInstance'\n                }\n              }\n            },\n            valid: {\n              entry: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)('isValid'),\n              on: {\n                selectInstance: {\n                  target: 'verify',\n                  actions: 'selectInstance',\n                  cond: function cond(_, event) {\n                    return event.selectedInstance !== undefined;\n                  }\n                },\n                deselectInstance: {\n                  target: 'verify',\n                  actions: 'reset'\n                },\n                confirm: {\n                  target: '#done',\n                  cond: 'instanceSelected'\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    done: {\n      id: 'done',\n      type: 'final',\n      data: {\n        selectedInstance: function selectedInstance(context) {\n          return context.selectedInstance;\n        }\n      }\n    }\n  }\n}, {\n  actions: {\n    success: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'api.success') return {};\n\n      var response = _objectWithoutPropertiesLoose(event, [\"type\"]);\n\n      return {\n        response: response\n      };\n    }),\n    selectInstance: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedInstance: function selectedInstance(context, event) {\n        if (event.type === 'selectInstance') {\n          var _context$response, _context$response$ite;\n\n          return (_context$response = context.response) == null ? void 0 : (_context$response$ite = _context$response.items) == null ? void 0 : _context$response$ite.find(function (i) {\n            return i.id === event.selectedInstance;\n          });\n        }\n\n        return context.selectedInstance;\n      }\n    }),\n    reset: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedInstance: function selectedInstance(context, event) {\n        return event.type === 'deselectInstance' ? undefined : context.selectedInstance;\n      }\n    })\n  },\n  guards: {\n    instanceSelected: function instanceSelected(context) {\n      return context.selectedInstance !== undefined;\n    },\n    noInstanceSelected: function noInstanceSelected(context) {\n      return context.selectedInstance === undefined;\n    }\n  }\n});\nvar useKafkasMachineIsReady = function useKafkasMachineIsReady(actor) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.matches({\n      root: {\n        api: 'ready'\n      }\n    });\n  }, [actor]));\n};\nvar useKafkasMachine = function useKafkasMachine(actor) {\n  var api = usePagination(actor.state.children[PAGINATED_MACHINE_ID$3]);\n\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    var _state$context$select;\n\n    return {\n      selectedId: (_state$context$select = state.context.selectedInstance) == null ? void 0 : _state$context$select.id\n    };\n  }, [actor])),\n      selectedId = _useSelector.selectedId;\n\n  var onSelect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (selectedInstance) {\n    actor.send({\n      type: 'selectInstance',\n      selectedInstance: selectedInstance\n    });\n  }, [actor]);\n  var onQuery = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (request) {\n    actor.send(_extends({\n      type: 'api.query'\n    }, request));\n  }, [actor]);\n  return _extends({}, api, {\n    selectedId: selectedId,\n    onSelect: onSelect,\n    onQuery: onQuery\n  });\n};\n\nvar saveConnector = function saveConnector(_ref) {\n  var accessToken = _ref.accessToken,\n      basePath = _ref.basePath,\n      kafka = _ref.kafka,\n      cluster = _ref.cluster,\n      connectorType = _ref.connectorType,\n      configuration = _ref.configuration,\n      name = _ref.name,\n      userServiceAccount = _ref.userServiceAccount;\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (callback) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    var async = true;\n    var connector = {\n      kind: 'Connector',\n      metadata: {\n        name: name,\n        kafka_id: kafka.id\n      },\n      deployment_location: {\n        kind: 'addon',\n        cluster_id: cluster.id\n      },\n      connector_type_id: connectorType.id,\n      kafka: {\n        bootstrap_server: kafka.bootstrap_server_host || 'demo',\n        client_id: userServiceAccount == null ? void 0 : userServiceAccount.clientId,\n        client_secret: userServiceAccount == null ? void 0 : userServiceAccount.clientSecret\n      },\n      connector_spec: configuration\n    };\n    apisService.createConnector(async, connector, {\n      cancelToken: source.token\n    }).then(function () {\n      callback({\n        type: 'success'\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        callback({\n          type: 'failure',\n          message: error.response.data.reason\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nvar reviewMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar reviewMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  initialConfiguration: undefined,\n  configString: '',\n  name: '',\n  validator: /*#__PURE__*/(0,_cos_ui_json_schema_configurator__WEBPACK_IMPORTED_MODULE_5__.createValidator)({})\n}, {\n  events: {\n    setName: function setName(payload) {\n      return payload;\n    },\n    setServiceAccount: function setServiceAccount(payload) {\n      return payload;\n    },\n    updateConfiguration: function updateConfiguration(payload) {\n      return payload;\n    },\n    save: function save() {\n      return {};\n    },\n    success: function success() {\n      return {};\n    },\n    failure: function failure(payload) {\n      return payload;\n    }\n  }\n});\nvar reviewMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: reviewMachineSchema,\n  id: 'review',\n  initial: 'verify',\n  context: reviewMachineModel.initialContext,\n  entry: 'initialize',\n  states: {\n    verify: {\n      entry: 'verifyConfigString',\n      always: [{\n        target: 'valid',\n        cond: 'isAllConfigured'\n      }, {\n        target: 'reviewing'\n      }]\n    },\n    reviewing: {\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isInvalid'),\n      on: {\n        setName: {\n          target: 'verify',\n          actions: 'setName'\n        },\n        setServiceAccount: {\n          target: 'verify',\n          actions: 'setServiceAccount'\n        },\n        updateConfiguration: {\n          target: 'verify',\n          actions: 'updateConfiguration'\n        }\n      }\n    },\n    valid: {\n      id: 'valid',\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isValid'),\n      on: {\n        setName: {\n          target: 'verify',\n          actions: 'setName'\n        },\n        setServiceAccount: {\n          target: 'verify',\n          actions: 'setServiceAccount'\n        },\n        updateConfiguration: {\n          target: 'verify',\n          actions: 'updateConfiguration'\n        },\n        save: 'saving'\n      }\n    },\n    saving: {\n      invoke: {\n        src: function src(context) {\n          return saveConnector({\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            kafka: context.kafka,\n            cluster: context.cluster,\n            connectorType: context.connectorType,\n            configuration: JSON.parse(context.configString),\n            name: context.name,\n            userServiceAccount: context.userServiceAccount\n          });\n        }\n      },\n      on: {\n        success: 'saved',\n        failure: {\n          target: 'valid',\n          actions: 'setSavingError'\n        }\n      },\n      tags: ['saving']\n    },\n    saved: {\n      type: 'final'\n    }\n  }\n}, {\n  actions: {\n    initialize: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n      return {\n        configString: dataToPrettyString(context.initialConfiguration),\n        validator: (0,_cos_ui_json_schema_configurator__WEBPACK_IMPORTED_MODULE_5__.createValidator)(context.connectorType.json_schema)\n      };\n    }),\n    setName: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      return event.type === 'setName' ? {\n        name: event.name\n      } : {};\n    }),\n    setServiceAccount: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      return event.type === 'setServiceAccount' ? {\n        userServiceAccount: event.serviceAccount\n      } : {};\n    }),\n    updateConfiguration: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      return event.type === 'updateConfiguration' ? {\n        configString: event.data\n      } : {};\n    }),\n    verifyConfigString: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n      var _verifyData = verifyData(context.configString, context.validator),\n          warnings = _verifyData.warnings,\n          error = _verifyData.error;\n\n      return {\n        configStringWarnings: warnings,\n        configStringError: error\n      };\n    }),\n    setSavingError: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      if (event.type !== 'failure') return {};\n      return {\n        savingError: event.message\n      };\n    })\n  },\n  guards: {\n    isAllConfigured: function isAllConfigured(context) {\n      return context.configString !== undefined && context.configStringError === undefined && context.name.length > 0;\n    }\n  }\n});\n\nfunction dataToPrettyString(data) {\n  var dataVal = data instanceof Map ? mapToObject(data) : data;\n\n  try {\n    return JSON.stringify(dataVal, null, 2);\n  } catch (e) {\n    return '';\n  }\n}\n\nfunction mapToObject(inputMap) {\n  var obj = {};\n  inputMap.forEach(function (value, key) {\n    obj[key] = value;\n  });\n  return obj;\n}\n\nfunction verifyData(data, validator) {\n  try {\n    var parsedData = JSON.parse(data);\n    var validationResult = validator(parsedData);\n    return {\n      warnings: validationResult ? validationResult.details.map(function (d) {\n        return d.instancePath + \" \" + d.message;\n      }) : undefined,\n      error: undefined\n    };\n  } catch (e) {\n    return {\n      warnings: undefined,\n      error: \"Invalid JSON: \" + e.message\n    };\n  }\n}\n\nvar useReviewMachine = function useReviewMachine(actor) {\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return {\n      name: state.context.name,\n      serviceAccount: state.context.userServiceAccount,\n      configString: state.context.configString,\n      configStringError: state.context.configStringError,\n      configStringWarnings: state.context.configStringWarnings,\n      isSaving: state.hasTag('saving'),\n      savingError: state.context.savingError\n    };\n  }, [actor])),\n      name = _useSelector.name,\n      serviceAccount = _useSelector.serviceAccount,\n      configString = _useSelector.configString,\n      configStringError = _useSelector.configStringError,\n      configStringWarnings = _useSelector.configStringWarnings,\n      isSaving = _useSelector.isSaving,\n      savingError = _useSelector.savingError;\n\n  var onSetName = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (name) {\n    actor.send({\n      type: 'setName',\n      name: name\n    });\n  }, [actor]);\n  var onSetServiceAccount = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (serviceAccount) {\n    actor.send({\n      type: 'setServiceAccount',\n      serviceAccount: serviceAccount\n    });\n  }, [actor]);\n  var onUpdateConfiguration = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (data) {\n    actor.send({\n      type: 'updateConfiguration',\n      data: data || ''\n    });\n  }, [actor]);\n  return {\n    name: name,\n    serviceAccount: serviceAccount,\n    configString: configString,\n    configStringError: configStringError,\n    configStringWarnings: configStringWarnings,\n    isSaving: isSaving,\n    savingError: savingError,\n    onSetName: onSetName,\n    onSetServiceAccount: onSetServiceAccount,\n    onUpdateConfiguration: onUpdateConfiguration\n  };\n};\n\nvar creationWizardMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar creationWizardMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({}, {\n  events: {\n    isValid: function isValid() {\n      return {};\n    },\n    isInvalid: function isInvalid() {\n      return {};\n    },\n    prev: function prev() {\n      return {};\n    },\n    next: function next() {\n      return {};\n    },\n    changedStep: function changedStep(_ref) {\n      var step = _ref.step;\n      return {\n        step: step\n      };\n    },\n    jumpToSelectKafka: function jumpToSelectKafka() {\n      return {};\n    },\n    jumpToSelectCluster: function jumpToSelectCluster() {\n      return {};\n    },\n    jumpToSelectConnector: function jumpToSelectConnector() {\n      return {};\n    },\n    jumpToConfigureConnector: function jumpToConfigureConnector(_ref2) {\n      var subStep = _ref2.subStep;\n      return {\n        subStep: subStep\n      };\n    },\n    jumpToReviewConfiguration: function jumpToReviewConfiguration() {\n      return {};\n    }\n  }\n});\nvar creationWizardMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: creationWizardMachineSchema,\n  id: 'creationWizard',\n  initial: 'selectConnector',\n  context: creationWizardMachineModel.initialContext,\n  states: {\n    selectConnector: {\n      initial: 'selecting',\n      invoke: {\n        id: 'selectConnectorRef',\n        src: connectorTypesMachine,\n        data: function data(context) {\n          return {\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            selectedConnector: context.selectedConnector\n          };\n        },\n        onDone: {\n          target: 'selectKafka',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n            return {\n              selectedConnector: event.data.selectedConnector,\n              connectorConfiguration: false,\n              activeConfigurationStep: 0,\n              isConfigurationValid: false,\n              configurationSteps: false\n            };\n          })\n        },\n        onError: '.error'\n      },\n      states: {\n        error: {},\n        selecting: {\n          on: {\n            isValid: 'valid'\n          }\n        },\n        valid: {\n          on: {\n            isInvalid: 'selecting',\n            next: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('confirm', {\n                to: 'selectConnectorRef'\n              })\n            }\n          }\n        }\n      }\n    },\n    selectKafka: {\n      initial: 'selecting',\n      invoke: {\n        id: 'selectKafkaInstanceRef',\n        src: kafkasMachine,\n        data: function data(context) {\n          return {\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            selectedInstance: context.selectedKafkaInstance,\n            request: {\n              page: 1,\n              size: 10\n            }\n          };\n        },\n        onDone: {\n          target: 'selectCluster',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            selectedKafkaInstance: function selectedKafkaInstance(_, event) {\n              return event.data.selectedInstance;\n            }\n          })\n        },\n        onError: '.error'\n      },\n      states: {\n        error: {},\n        selecting: {\n          on: {\n            isValid: 'valid'\n          }\n        },\n        valid: {\n          on: {\n            isInvalid: 'selecting',\n            next: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('confirm', {\n                to: 'selectKafkaInstanceRef'\n              })\n            }\n          }\n        }\n      },\n      on: {\n        prev: 'selectConnector'\n      }\n    },\n    selectCluster: {\n      initial: 'selecting',\n      invoke: {\n        id: 'selectClusterRef',\n        src: clustersMachine,\n        data: function data(context) {\n          return {\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            selectedCluster: context.selectedCluster\n          };\n        },\n        onDone: {\n          target: 'configureConnector',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            selectedCluster: function selectedCluster(_, event) {\n              return event.data.selectedCluster;\n            }\n          })\n        },\n        onError: '.error'\n      },\n      states: {\n        error: {},\n        selecting: {\n          on: {\n            isValid: 'valid'\n          }\n        },\n        valid: {\n          on: {\n            isInvalid: 'selecting',\n            next: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('confirm', {\n                to: 'selectClusterRef'\n              })\n            }\n          }\n        }\n      },\n      on: {\n        prev: 'selectKafka'\n      }\n    },\n    configureConnector: {\n      initial: 'loadConfigurator',\n      states: {\n        loadConfigurator: {\n          invoke: {\n            id: 'configuratorLoader',\n            src: 'makeConfiguratorLoaderMachine',\n            data: function data(context) {\n              return {\n                connector: context.selectedConnector\n              };\n            },\n            onDone: {\n              target: 'configure',\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n                return {\n                  Configurator: event.data.Configurator,\n                  configurationSteps: event.data.steps\n                };\n              })\n            },\n            onError: {\n              actions: function actions(_context, event) {\n                return console.error(event.data.message);\n              }\n            }\n          }\n        },\n        configure: {\n          id: 'configure',\n          initial: 'configuring',\n          invoke: {\n            id: 'configuratorRef',\n            src: configuratorMachine,\n            data: function data(context) {\n              return {\n                connector: context.selectedConnector,\n                configuration: context.connectorConfiguration,\n                steps: context.configurationSteps || ['single step'],\n                activeStep: context.activeConfigurationStep || 0,\n                isActiveStepValid: context.connectorConfiguration !== false\n              };\n            },\n            onDone: {\n              target: '#creationWizard.reviewConfiguration',\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n                return {\n                  connectorConfiguration: event.data.configuration || true\n                };\n              })\n            },\n            onError: {\n              actions: function actions(_context, event) {\n                return console.error(event.data.message);\n              }\n            }\n          },\n          states: {\n            configuring: {\n              on: {\n                isValid: 'valid'\n              }\n            },\n            valid: {\n              on: {\n                isInvalid: 'configuring',\n                next: {\n                  actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('next', {\n                    to: 'configuratorRef'\n                  })\n                }\n              }\n            }\n          },\n          on: {\n            prev: [{\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('prev', {\n                to: 'configuratorRef'\n              }),\n              cond: 'areThereSubsteps'\n            }, {\n              target: '#creationWizard.selectCluster'\n            }],\n            changedStep: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n                activeConfigurationStep: function activeConfigurationStep(_, event) {\n                  return event.step;\n                }\n              })\n            }\n          }\n        }\n      }\n    },\n    reviewConfiguration: {\n      id: 'review',\n      initial: 'reviewing',\n      invoke: {\n        id: 'reviewRef',\n        src: reviewMachine,\n        data: function data(context) {\n          return {\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            kafka: context.selectedKafkaInstance,\n            cluster: context.selectedCluster,\n            connectorType: context.selectedConnector,\n            initialConfiguration: context.connectorConfiguration,\n            name: ''\n          };\n        },\n        onDone: {\n          target: '#creationWizard.saved',\n          actions: [/*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n            return {\n              connectorConfiguration: event.data\n            };\n          }), 'notifySave']\n        },\n        onError: {\n          actions: function actions(_context, event) {\n            return console.error(event.data.message);\n          }\n        }\n      },\n      states: {\n        reviewing: {\n          on: {\n            isValid: 'valid'\n          }\n        },\n        valid: {\n          on: {\n            isInvalid: 'reviewing',\n            next: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('save', {\n                to: 'reviewRef'\n              })\n            }\n          }\n        }\n      },\n      on: {\n        prev: 'configureConnector'\n      }\n    },\n    saved: {\n      id: 'saved',\n      type: 'final'\n    }\n  },\n  on: {\n    jumpToSelectConnector: {\n      target: 'selectConnector'\n    },\n    jumpToSelectKafka: {\n      target: 'selectKafka',\n      cond: 'isConnectorSelected'\n    },\n    jumpToSelectCluster: {\n      target: 'selectCluster',\n      cond: 'isKafkaInstanceSelected'\n    },\n    jumpToConfigureConnector: {\n      target: 'configureConnector',\n      cond: 'isClusterSelected',\n      actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n        return {\n          activeConfigurationStep: event.subStep || 0\n        };\n      })\n    },\n    jumpToReviewConfiguration: {\n      target: 'reviewConfiguration',\n      cond: 'isConnectorConfigured'\n    }\n  }\n}, {\n  guards: {\n    isKafkaInstanceSelected: function isKafkaInstanceSelected(context) {\n      return context.selectedKafkaInstance !== undefined;\n    },\n    isClusterSelected: function isClusterSelected(context) {\n      return context.selectedCluster !== undefined;\n    },\n    isConnectorSelected: function isConnectorSelected(context, event) {\n      var subStep = event.subStep;\n\n      if (subStep) {\n        return context.selectedConnector !== undefined && (context.connectorConfiguration !== undefined || subStep <= context.activeConfigurationStep);\n      }\n\n      return context.selectedConnector !== undefined;\n    },\n    isConnectorConfigured: function isConnectorConfigured(context) {\n      if (!context.configurationSteps) {\n        return context.connectorConfiguration !== undefined && context.connectorConfiguration !== false;\n      }\n\n      return context.connectorConfiguration !== undefined && context.connectorConfiguration !== false || context.activeConfigurationStep === context.configurationSteps.length - 1 && context.isConfigurationValid === true;\n    },\n    areThereSubsteps: function areThereSubsteps(context) {\n      return context.activeConfigurationStep > 0;\n    }\n  },\n  actions: {\n    notifySave: function notifySave(context) {\n      if (context.onSave) {\n        context.onSave();\n      }\n    }\n  },\n  services: {\n    makeConfiguratorLoaderMachine: function makeConfiguratorLoaderMachine() {\n      return configuratorLoaderMachine;\n    }\n  }\n});\n\nvar CreationWizardMachineService = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar CreationWizardMachineProvider = function CreationWizardMachineProvider(_ref) {\n  var children = _ref.children,\n      accessToken = _ref.accessToken,\n      basePath = _ref.basePath,\n      _fetchConfigurator = _ref.fetchConfigurator,\n      onSave = _ref.onSave;\n  var makeConfiguratorLoaderMachine = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    return configuratorLoaderMachine.withConfig({\n      services: {\n        fetchConfigurator: function fetchConfigurator(context) {\n          return _fetchConfigurator(context.connector);\n        }\n      }\n    });\n  }, [_fetchConfigurator]);\n  var service = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useInterpret)(creationWizardMachine, {\n    devTools: true,\n    context: {\n      accessToken: accessToken,\n      basePath: basePath,\n      onSave: onSave\n    },\n    services: {\n      makeConfiguratorLoaderMachine: makeConfiguratorLoaderMachine\n    }\n  });\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(CreationWizardMachineService.Provider, {\n    value: service\n  }, children);\n};\nvar useCreationWizardMachineService = function useCreationWizardMachineService() {\n  var service = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CreationWizardMachineService);\n\n  if (!service) {\n    throw new Error(\"useCreationWizardMachineService() must be used in a child of <CreationWizardMachineProvider>\");\n  }\n\n  return service;\n};\nvar useCreationWizardMachineConnectorTypesActor = function useCreationWizardMachineConnectorTypesActor() {\n  var service = useCreationWizardMachineService();\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.children.selectConnectorRef;\n  }, [service]));\n};\nvar useCreationWizardMachineKafkasActor = function useCreationWizardMachineKafkasActor() {\n  var service = useCreationWizardMachineService();\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.children.selectKafkaInstanceRef;\n  }, [service]));\n};\nvar useCreationWizardMachineClustersActor = function useCreationWizardMachineClustersActor() {\n  var service = useCreationWizardMachineService();\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.children.selectClusterRef;\n  }, [service]));\n};\nvar useCreationWizardMachineReviewActor = function useCreationWizardMachineReviewActor() {\n  var service = useCreationWizardMachineService();\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.children.reviewRef;\n  }, [service]));\n};\n\n\n//# sourceMappingURL=machines.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELGdEQUFnRCxvREFBYTtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msa0RBQVc7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxnQkFBZ0IsMkRBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsU0FBUywwREFBbUI7QUFDNUI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGdCQUFnQixpREFBVTs7QUFFMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywwREFBVyxVQUFVLGtEQUFXO0FBQ3pDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMERBQVcsVUFBVSxrREFBVztBQUN6QztBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxTQUFTLDBEQUFXLFVBQVUsa0RBQVc7QUFDekM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsU0FBUywwREFBVyxVQUFVLGtEQUFXO0FBQ3pDO0FBQ0EsR0FBRztBQUNIOztrQkFFbzJCO0FBQ3AyQiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bjb3MtdWktYXBwcy9jb3MtdWkvLi4vLi4vcGFja2FnZXMvbWFjaGluZXMvZGlzdC9tYWNoaW5lcy5lc20uanM/NjU4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQsIGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjcmVhdGVNYWNoaW5lLCBhc3NpZ24sIGNyZWF0ZVNjaGVtYSwgc3Bhd24sIHNlbmQgYXMgc2VuZCQxLCBzZW5kUGFyZW50IGFzIHNlbmRQYXJlbnQkMSB9IGZyb20gJ3hzdGF0ZSc7XG5pbXBvcnQgeyBzZW5kUGFyZW50LCBzZW5kLCBwdXJlLCBlc2NhbGF0ZSB9IGZyb20gJ3hzdGF0ZS9saWIvYWN0aW9ucyc7XG5pbXBvcnQgeyBjcmVhdGVNb2RlbCB9IGZyb20gJ3hzdGF0ZS9saWIvbW9kZWwnO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IsIHVzZUludGVycHJldCB9IGZyb20gJ0B4c3RhdGUvcmVhY3QnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IENvbm5lY3RvcnNBcGksIENvbmZpZ3VyYXRpb24sIENvbm5lY3RvckNsdXN0ZXJzQXBpLCBDb25uZWN0b3JUeXBlc0FwaSwgRGVmYXVsdEFwaSB9IGZyb20gJ0Bjb3MtdWkvYXBpJztcbmltcG9ydCB7IGNyZWF0ZVZhbGlkYXRvciB9IGZyb20gJ0Bjb3MtdWkvanNvbi1zY2hlbWEtY29uZmlndXJhdG9yJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbnZhciBzdGFydENvbm5lY3RvciA9IGZ1bmN0aW9uIHN0YXJ0Q29ubmVjdG9yKF9yZWYpIHtcbiAgdmFyIGFjY2Vzc1Rva2VuID0gX3JlZi5hY2Nlc3NUb2tlbixcbiAgICAgIGJhc2VQYXRoID0gX3JlZi5iYXNlUGF0aCxcbiAgICAgIGNvbm5lY3RvciA9IF9yZWYuY29ubmVjdG9yO1xuICB2YXIgYXBpc1NlcnZpY2UgPSBuZXcgQ29ubmVjdG9yc0FwaShuZXcgQ29uZmlndXJhdGlvbih7XG4gICAgYWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuLFxuICAgIGJhc2VQYXRoOiBiYXNlUGF0aFxuICB9KSk7XG4gIHJldHVybiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgQ2FuY2VsVG9rZW4gPSBheGlvcy5DYW5jZWxUb2tlbjtcbiAgICB2YXIgc291cmNlID0gQ2FuY2VsVG9rZW4uc291cmNlKCk7XG4gICAgYXBpc1NlcnZpY2UucGF0Y2hDb25uZWN0b3IoY29ubmVjdG9yLmlkLCB7XG4gICAgICBkZXNpcmVkX3N0YXRlOiAncmVhZHknXG4gICAgfSwgdW5kZWZpbmVkLCB7XG4gICAgICBjYW5jZWxUb2tlbjogc291cmNlLnRva2VuLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL21lcmdlLXBhdGNoK2pzb24nXG4gICAgICB9XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgdHlwZTogJ2Nvbm5lY3Rvci5hY3Rpb25TdWNjZXNzJyxcbiAgICAgICAgY29ubmVjdG9yOiByZXNwb25zZS5kYXRhXG4gICAgICB9KTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKCFheGlvcy5pc0NhbmNlbChlcnJvcikpIHtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgIHR5cGU6ICdjb25uZWN0b3IuYWN0aW9uRXJyb3InLFxuICAgICAgICAgIGVycm9yOiBlcnJvci5yZXNwb25zZS5kYXRhLnJlYXNvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgc291cmNlLmNhbmNlbCgnT3BlcmF0aW9uIGNhbmNlbGVkIGJ5IHRoZSB1c2VyLicpO1xuICAgIH07XG4gIH07XG59O1xudmFyIHN0b3BDb25uZWN0b3IgPSBmdW5jdGlvbiBzdG9wQ29ubmVjdG9yKF9yZWYyKSB7XG4gIHZhciBhY2Nlc3NUb2tlbiA9IF9yZWYyLmFjY2Vzc1Rva2VuLFxuICAgICAgYmFzZVBhdGggPSBfcmVmMi5iYXNlUGF0aCxcbiAgICAgIGNvbm5lY3RvciA9IF9yZWYyLmNvbm5lY3RvcjtcbiAgdmFyIGFwaXNTZXJ2aWNlID0gbmV3IENvbm5lY3RvcnNBcGkobmV3IENvbmZpZ3VyYXRpb24oe1xuICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICBiYXNlUGF0aDogYmFzZVBhdGhcbiAgfSkpO1xuICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIENhbmNlbFRva2VuID0gYXhpb3MuQ2FuY2VsVG9rZW47XG4gICAgdmFyIHNvdXJjZSA9IENhbmNlbFRva2VuLnNvdXJjZSgpO1xuICAgIGFwaXNTZXJ2aWNlLnBhdGNoQ29ubmVjdG9yKGNvbm5lY3Rvci5pZCwge1xuICAgICAgZGVzaXJlZF9zdGF0ZTogJ3N0b3BwZWQnXG4gICAgfSwgdW5kZWZpbmVkLCB7XG4gICAgICBjYW5jZWxUb2tlbjogc291cmNlLnRva2VuLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL21lcmdlLXBhdGNoK2pzb24nXG4gICAgICB9XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgdHlwZTogJ2Nvbm5lY3Rvci5hY3Rpb25TdWNjZXNzJyxcbiAgICAgICAgY29ubmVjdG9yOiByZXNwb25zZS5kYXRhXG4gICAgICB9KTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKCFheGlvcy5pc0NhbmNlbChlcnJvcikpIHtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgIHR5cGU6ICdjb25uZWN0b3IuYWN0aW9uRXJyb3InLFxuICAgICAgICAgIGVycm9yOiBlcnJvci5yZXNwb25zZS5kYXRhLnJlYXNvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgc291cmNlLmNhbmNlbCgnT3BlcmF0aW9uIGNhbmNlbGVkIGJ5IHRoZSB1c2VyLicpO1xuICAgIH07XG4gIH07XG59O1xudmFyIGRlbGV0ZUNvbm5lY3RvciA9IGZ1bmN0aW9uIGRlbGV0ZUNvbm5lY3RvcihfcmVmMykge1xuICB2YXIgYWNjZXNzVG9rZW4gPSBfcmVmMy5hY2Nlc3NUb2tlbixcbiAgICAgIGJhc2VQYXRoID0gX3JlZjMuYmFzZVBhdGgsXG4gICAgICBjb25uZWN0b3IgPSBfcmVmMy5jb25uZWN0b3I7XG4gIHZhciBhcGlzU2VydmljZSA9IG5ldyBDb25uZWN0b3JzQXBpKG5ldyBDb25maWd1cmF0aW9uKHtcbiAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXG4gICAgYmFzZVBhdGg6IGJhc2VQYXRoXG4gIH0pKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBDYW5jZWxUb2tlbiA9IGF4aW9zLkNhbmNlbFRva2VuO1xuICAgIHZhciBzb3VyY2UgPSBDYW5jZWxUb2tlbi5zb3VyY2UoKTtcbiAgICBhcGlzU2VydmljZS5kZWxldGVDb25uZWN0b3IoY29ubmVjdG9yLmlkLCB1bmRlZmluZWQsIHtcbiAgICAgIGNhbmNlbFRva2VuOiBzb3VyY2UudG9rZW5cbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgdHlwZTogJ2Nvbm5lY3Rvci5hY3Rpb25TdWNjZXNzJyxcbiAgICAgICAgY29ubmVjdG9yOiBfZXh0ZW5kcyh7fSwgY29ubmVjdG9yLCB7XG4gICAgICAgICAgc3RhdHVzOiAnZGVsZXRpbmcnLFxuICAgICAgICAgIGRlc2lyZWRfc3RhdGU6ICdkZWxldGVkJ1xuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIGlmICghYXhpb3MuaXNDYW5jZWwoZXJyb3IpKSB7XG4gICAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgICB0eXBlOiAnY29ubmVjdG9yLmFjdGlvbkVycm9yJyxcbiAgICAgICAgICBlcnJvcjogZXJyb3IucmVzcG9uc2UuZGF0YS5yZWFzb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNvdXJjZS5jYW5jZWwoJ09wZXJhdGlvbiBjYW5jZWxlZCBieSB0aGUgdXNlci4nKTtcbiAgICB9O1xuICB9O1xufTtcbnZhciBmZXRjaENvbm5lY3RvcnMgPSBmdW5jdGlvbiBmZXRjaENvbm5lY3RvcnMoYWNjZXNzVG9rZW4sIGJhc2VQYXRoKSB7XG4gIHZhciBhcGlzU2VydmljZSA9IG5ldyBDb25uZWN0b3JzQXBpKG5ldyBDb25maWd1cmF0aW9uKHtcbiAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXG4gICAgYmFzZVBhdGg6IGJhc2VQYXRoXG4gIH0pKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChyZXF1ZXN0LCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgQ2FuY2VsVG9rZW4gPSBheGlvcy5DYW5jZWxUb2tlbjtcbiAgICB2YXIgc291cmNlID0gQ2FuY2VsVG9rZW4uc291cmNlKCk7XG4gICAgdmFyIHBhZ2UgPSByZXF1ZXN0LnBhZ2UsXG4gICAgICAgIHNpemUgPSByZXF1ZXN0LnNpemU7IC8vIGNvbnN0IHF1ZXJ5ID0gbmFtZS5sZW5ndGggPiAwID8gYG5hbWUgTElLRSAke25hbWV9YCA6IHVuZGVmaW5lZDtcblxuICAgIGFwaXNTZXJ2aWNlLmxpc3RDb25uZWN0b3JzKFwiXCIgKyBwYWdlLCBcIlwiICsgc2l6ZSwgdW5kZWZpbmVkLCB7XG4gICAgICBjYW5jZWxUb2tlbjogc291cmNlLnRva2VuXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIG9uU3VjY2Vzcyh7XG4gICAgICAgIGl0ZW1zOiByZXNwb25zZS5kYXRhLml0ZW1zLFxuICAgICAgICB0b3RhbDogcmVzcG9uc2UuZGF0YS50b3RhbCxcbiAgICAgICAgcGFnZTogcmVzcG9uc2UuZGF0YS5wYWdlLFxuICAgICAgICBzaXplOiByZXNwb25zZS5kYXRhLnNpemVcbiAgICAgIH0pO1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoIWF4aW9zLmlzQ2FuY2VsKGVycm9yKSkge1xuICAgICAgICBvbkVycm9yKHtcbiAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBwYWdlOiByZXF1ZXN0LnBhZ2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNvdXJjZS5jYW5jZWwoJ09wZXJhdGlvbiBjYW5jZWxlZCBieSB0aGUgdXNlci4nKTtcbiAgICB9O1xuICB9O1xufTtcblxudmFyIGNvbm5lY3Rvck1hY2hpbmVTY2hlbWEgPSB7XG4gIGNvbnRleHQ6IC8qI19fUFVSRV9fKi9jcmVhdGVTY2hlbWEoKVxufTtcbnZhciBjb25uZWN0b3JNYWNoaW5lTW9kZWwgPSAvKiNfX1BVUkVfXyovY3JlYXRlTW9kZWwoe1xuICBhY2Nlc3NUb2tlbjogZnVuY3Rpb24gYWNjZXNzVG9rZW4oKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgnJyk7XG4gIH0sXG4gIGJhc2VQYXRoOiAnJyxcbiAgY29ubmVjdG9yOiB7fVxufSwge1xuICBldmVudHM6IHtcbiAgICAnY29ubmVjdG9yLnN0YXJ0JzogZnVuY3Rpb24gY29ubmVjdG9yU3RhcnQoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICAnY29ubmVjdG9yLnN0b3AnOiBmdW5jdGlvbiBjb25uZWN0b3JTdG9wKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgJ2Nvbm5lY3Rvci5yZW1vdmUnOiBmdW5jdGlvbiBjb25uZWN0b3JSZW1vdmUoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICAnY29ubmVjdG9yLnNlbGVjdCc6IGZ1bmN0aW9uIGNvbm5lY3RvclNlbGVjdCgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgICdjb25uZWN0b3IuYWN0aW9uU3VjY2Vzcyc6IGZ1bmN0aW9uIGNvbm5lY3RvckFjdGlvblN1Y2Nlc3MocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSxcbiAgICAnY29ubmVjdG9yLmFjdGlvbkVycm9yJzogZnVuY3Rpb24gY29ubmVjdG9yQWN0aW9uRXJyb3IocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfVxuICB9XG59KTtcbnZhciBjb25uZWN0b3JNYWNoaW5lID0gLyojX19QVVJFX18qL2NyZWF0ZU1hY2hpbmUoe1xuICBzY2hlbWE6IGNvbm5lY3Rvck1hY2hpbmVTY2hlbWEsXG4gIGlkOiAnY29ubmVjdG9yJyxcbiAgaW5pdGlhbDogJ3ZlcmlmeScsXG4gIGNvbnRleHQ6IGNvbm5lY3Rvck1hY2hpbmVNb2RlbC5pbml0aWFsQ29udGV4dCxcbiAgc3RhdGVzOiB7XG4gICAgdmVyaWZ5OiB7XG4gICAgICBhbHdheXM6IFt7XG4gICAgICAgIHRhcmdldDogJ3JlYWR5JyxcbiAgICAgICAgY29uZDogJ2lzUmVhZHknXG4gICAgICB9LCB7XG4gICAgICAgIHRhcmdldDogJ3N0b3BwZWQnLFxuICAgICAgICBjb25kOiAnaXNTdG9wcGVkJ1xuICAgICAgfSwge1xuICAgICAgICB0YXJnZXQ6ICdkZWxldGVkJyxcbiAgICAgICAgY29uZDogJ2lzRGVsZXRlZCdcbiAgICAgIH1dXG4gICAgfSxcbiAgICByZWFkeToge1xuICAgICAgb246IHtcbiAgICAgICAgJ2Nvbm5lY3Rvci5zdG9wJzogJ3N0b3BwaW5nQ29ubmVjdG9yJyxcbiAgICAgICAgJ2Nvbm5lY3Rvci5yZW1vdmUnOiAnZGVsZXRpbmdDb25uZWN0b3InXG4gICAgICB9XG4gICAgfSxcbiAgICBzdG9wcGVkOiB7XG4gICAgICBvbjoge1xuICAgICAgICAnY29ubmVjdG9yLnN0YXJ0JzogJ3N0YXJ0aW5nQ29ubmVjdG9yJyxcbiAgICAgICAgJ2Nvbm5lY3Rvci5yZW1vdmUnOiAnZGVsZXRpbmdDb25uZWN0b3InXG4gICAgICB9XG4gICAgfSxcbiAgICBkZWxldGVkOiB7fSxcbiAgICBzdGFydGluZ0Nvbm5lY3Rvcjoge1xuICAgICAgaW52b2tlOiB7XG4gICAgICAgIGlkOiAnc3RhcnRpbmdDb25uZWN0b3JDYicsXG4gICAgICAgIHNyYzogZnVuY3Rpb24gc3JjKGNvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm4gc3RhcnRDb25uZWN0b3Ioe1xuICAgICAgICAgICAgYWNjZXNzVG9rZW46IGNvbnRleHQuYWNjZXNzVG9rZW4sXG4gICAgICAgICAgICBiYXNlUGF0aDogY29udGV4dC5iYXNlUGF0aCxcbiAgICAgICAgICAgIGNvbm5lY3RvcjogY29udGV4dC5jb25uZWN0b3JcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgICdjb25uZWN0b3IuYWN0aW9uU3VjY2Vzcyc6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgIGFjdGlvbnM6IFsndXBkYXRlU3RhdGUnLCAnbm90aWZ5U3VjY2Vzc1RvUGFyZW50J11cbiAgICAgICAgfSxcbiAgICAgICAgJ2Nvbm5lY3Rvci5hY3Rpb25FcnJvcic6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgIGFjdGlvbnM6ICdub3RpZnlFcnJvclRvUGFyZW50J1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBzdG9wcGluZ0Nvbm5lY3Rvcjoge1xuICAgICAgaW52b2tlOiB7XG4gICAgICAgIGlkOiAnc3RvcHBpbmdDb25uZWN0b3JDYicsXG4gICAgICAgIHNyYzogZnVuY3Rpb24gc3JjKGNvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm4gc3RvcENvbm5lY3Rvcih7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY29udGV4dC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VQYXRoOiBjb250ZXh0LmJhc2VQYXRoLFxuICAgICAgICAgICAgY29ubmVjdG9yOiBjb250ZXh0LmNvbm5lY3RvclxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgJ2Nvbm5lY3Rvci5hY3Rpb25TdWNjZXNzJzoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogWyd1cGRhdGVTdGF0ZScsICdub3RpZnlTdWNjZXNzVG9QYXJlbnQnXVxuICAgICAgICB9LFxuICAgICAgICAnY29ubmVjdG9yLmFjdGlvbkVycm9yJzoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogJ25vdGlmeUVycm9yVG9QYXJlbnQnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGRlbGV0aW5nQ29ubmVjdG9yOiB7XG4gICAgICBpbnZva2U6IHtcbiAgICAgICAgaWQ6ICdkZWxldGluZ0Nvbm5lY3RvckNiJyxcbiAgICAgICAgc3JjOiBmdW5jdGlvbiBzcmMoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBkZWxldGVDb25uZWN0b3Ioe1xuICAgICAgICAgICAgYWNjZXNzVG9rZW46IGNvbnRleHQuYWNjZXNzVG9rZW4sXG4gICAgICAgICAgICBiYXNlUGF0aDogY29udGV4dC5iYXNlUGF0aCxcbiAgICAgICAgICAgIGNvbm5lY3RvcjogY29udGV4dC5jb25uZWN0b3JcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgICdjb25uZWN0b3IuYWN0aW9uU3VjY2Vzcyc6IHtcbiAgICAgICAgICB0YXJnZXQ6ICdkZWxldGVkJyxcbiAgICAgICAgICBhY3Rpb25zOiBbJ3VwZGF0ZVN0YXRlJywgJ25vdGlmeVN1Y2Nlc3NUb1BhcmVudCddXG4gICAgICAgIH0sXG4gICAgICAgICdjb25uZWN0b3IuYWN0aW9uRXJyb3InOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiAnbm90aWZ5RXJyb3JUb1BhcmVudCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgb246IHtcbiAgICAnY29ubmVjdG9yLnNlbGVjdCc6IHtcbiAgICAgIGFjdGlvbnM6ICdub3RpZnlTZWxlY3RUb1BhcmVudCdcbiAgICB9XG4gIH1cbn0sIHtcbiAgZ3VhcmRzOiB7XG4gICAgaXNSZWFkeTogZnVuY3Rpb24gaXNSZWFkeShjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dC5jb25uZWN0b3IuZGVzaXJlZF9zdGF0ZSA9PT0gJ3JlYWR5JztcbiAgICB9LFxuICAgIGlzU3RvcHBlZDogZnVuY3Rpb24gaXNTdG9wcGVkKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmNvbm5lY3Rvci5kZXNpcmVkX3N0YXRlID09PSAnc3RvcHBlZCc7XG4gICAgfSxcbiAgICBpc0RlbGV0ZWQ6IGZ1bmN0aW9uIGlzRGVsZXRlZChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dC5jb25uZWN0b3IuZGVzaXJlZF9zdGF0ZSA9PT0gJ2RlbGV0ZWQnO1xuICAgIH1cbiAgfSxcbiAgYWN0aW9uczoge1xuICAgIHVwZGF0ZVN0YXRlOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50eXBlICE9PSAnY29ubmVjdG9yLmFjdGlvblN1Y2Nlc3MnKSByZXR1cm4ge307XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb25uZWN0b3I6IGV2ZW50LmNvbm5lY3RvclxuICAgICAgfTtcbiAgICB9KSxcbiAgICBub3RpZnlTdWNjZXNzVG9QYXJlbnQ6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50KCdhY3Rpb25TdWNjZXNzJyksXG4gICAgbm90aWZ5RXJyb3JUb1BhcmVudDogLyojX19QVVJFX18qL3NlbmRQYXJlbnQoJ2FjdGlvbkZhaWx1cmUnKSxcbiAgICBub3RpZnlTZWxlY3RUb1BhcmVudDogLyojX19QVVJFX18qL3NlbmRQYXJlbnQoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgIHZhciBjb25uZWN0b3IgPSBfcmVmLmNvbm5lY3RvcjtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdzZWxlY3RDb25uZWN0b3InLFxuICAgICAgICBjb25uZWN0b3I6IGNvbm5lY3RvclxuICAgICAgfTtcbiAgICB9KVxuICB9XG59KTtcbnZhciBtYWtlQ29ubmVjdG9yTWFjaGluZSA9IGZ1bmN0aW9uIG1ha2VDb25uZWN0b3JNYWNoaW5lKGNvbnRleHQpIHtcbiAgcmV0dXJuIGNvbm5lY3Rvck1hY2hpbmUud2l0aENvbnRleHQoY29udGV4dCk7XG59O1xudmFyIHVzZUNvbm5lY3RvciA9IGZ1bmN0aW9uIHVzZUNvbm5lY3RvcihyZWYpIHtcbiAgdmFyIF91c2VTZWxlY3RvciA9IHVzZVNlbGVjdG9yKHJlZiwgdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbm5lY3Rvcjogc3RhdGUuY29udGV4dC5jb25uZWN0b3IsXG4gICAgICBjYW5TdGFydDogY29ubmVjdG9yTWFjaGluZS50cmFuc2l0aW9uKHN0YXRlLCAnY29ubmVjdG9yLnN0YXJ0JykuY2hhbmdlZCA9PT0gdHJ1ZSxcbiAgICAgIGNhblN0b3A6IGNvbm5lY3Rvck1hY2hpbmUudHJhbnNpdGlvbihzdGF0ZSwgJ2Nvbm5lY3Rvci5zdG9wJykuY2hhbmdlZCA9PT0gdHJ1ZSxcbiAgICAgIGNhbkRlbGV0ZTogY29ubmVjdG9yTWFjaGluZS50cmFuc2l0aW9uKHN0YXRlLCAnY29ubmVjdG9yLnJlbW92ZScpLmNoYW5nZWQgPT09IHRydWVcbiAgICB9O1xuICB9LCBbcmVmXSkpLFxuICAgICAgY29ubmVjdG9yID0gX3VzZVNlbGVjdG9yLmNvbm5lY3RvcixcbiAgICAgIGNhblN0YXJ0ID0gX3VzZVNlbGVjdG9yLmNhblN0YXJ0LFxuICAgICAgY2FuU3RvcCA9IF91c2VTZWxlY3Rvci5jYW5TdG9wLFxuICAgICAgY2FuRGVsZXRlID0gX3VzZVNlbGVjdG9yLmNhbkRlbGV0ZTtcblxuICB2YXIgb25TdGFydCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmVmLnNlbmQoe1xuICAgICAgdHlwZTogJ2Nvbm5lY3Rvci5zdGFydCdcbiAgICB9KTtcbiAgfSwgW3JlZl0pO1xuICB2YXIgb25TdG9wID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZWYuc2VuZCh7XG4gICAgICB0eXBlOiAnY29ubmVjdG9yLnN0b3AnXG4gICAgfSk7XG4gIH0sIFtyZWZdKTtcbiAgdmFyIG9uRGVsZXRlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZWYuc2VuZCh7XG4gICAgICB0eXBlOiAnY29ubmVjdG9yLnJlbW92ZSdcbiAgICB9KTtcbiAgfSwgW3JlZl0pO1xuICB2YXIgb25TZWxlY3QgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlZi5zZW5kKHtcbiAgICAgIHR5cGU6ICdjb25uZWN0b3Iuc2VsZWN0J1xuICAgIH0pO1xuICB9LCBbcmVmXSk7XG4gIHJldHVybiB7XG4gICAgY29ubmVjdG9yOiBjb25uZWN0b3IsXG4gICAgY2FuU3RhcnQ6IGNhblN0YXJ0LFxuICAgIGNhblN0b3A6IGNhblN0b3AsXG4gICAgY2FuRGVsZXRlOiBjYW5EZWxldGUsXG4gICAgb25TdGFydDogb25TdGFydCxcbiAgICBvblN0b3A6IG9uU3RvcCxcbiAgICBvbkRlbGV0ZTogb25EZWxldGUsXG4gICAgb25TZWxlY3Q6IG9uU2VsZWN0XG4gIH07XG59O1xuXG5mdW5jdGlvbiBtYWtlRmV0Y2hNYWNoaW5lKCkge1xuICB2YXIgZmV0Y2hNYWNoaW5lU2NoZW1hID0ge1xuICAgIGNvbnRleHQ6IGNyZWF0ZVNjaGVtYSgpXG4gIH07XG4gIHZhciBmZXRjaE1hY2hpbmVNb2RlbCA9IGNyZWF0ZU1vZGVsKHtcbiAgICBkYXRhOiB1bmRlZmluZWQsXG4gICAgZXJyb3I6IHVuZGVmaW5lZFxuICB9KTtcbiAgcmV0dXJuIGNyZWF0ZU1hY2hpbmUoe1xuICAgIHNjaGVtYTogZmV0Y2hNYWNoaW5lU2NoZW1hLFxuICAgIGlkOiAnZmV0Y2hNYWNoaW5lJyxcbiAgICBjb250ZXh0OiB7fSxcbiAgICBpbml0aWFsOiAnbG9hZGluZycsXG4gICAgc3RhdGVzOiB7XG4gICAgICBsb2FkaW5nOiB7XG4gICAgICAgIGludm9rZToge1xuICAgICAgICAgIGlkOiAnZmV0Y2hTZXJ2aWNlJyxcbiAgICAgICAgICBzcmM6ICdmZXRjaFNlcnZpY2UnLFxuICAgICAgICAgIG9uRG9uZToge1xuICAgICAgICAgICAgdGFyZ2V0OiAnc3VjY2VzcycsXG4gICAgICAgICAgICBhY3Rpb25zOiBhc3NpZ24oZnVuY3Rpb24gKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRhdGE6IGV2ZW50LmRhdGFcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkVycm9yOiB7XG4gICAgICAgICAgICB0YXJnZXQ6ICdmYWlsdXJlJyxcbiAgICAgICAgICAgIGFjdGlvbnM6IGFzc2lnbih7XG4gICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBmYWlsdXJlOiB7XG4gICAgICAgIHR5cGU6ICdmaW5hbCdcbiAgICAgIH0sXG4gICAgICBzdWNjZXNzOiB7XG4gICAgICAgIHR5cGU6ICdmaW5hbCcsXG4gICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoX3JlZikge1xuICAgICAgICAgIHZhciBfZGF0YSA9IF9yZWYuZGF0YTtcbiAgICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIF9kYXRhKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbnZhciBwYWdpbmF0ZWRBcGlNYWNoaW5lU2NoZW1hID0ge1xuICBjb250ZXh0OiAvKiNfX1BVUkVfXyovY3JlYXRlU2NoZW1hKClcbn07XG52YXIgZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50cyA9IGZ1bmN0aW9uIGdldFBhZ2luYXRlZEFwaU1hY2hpbmVFdmVudHMoKSB7XG4gIHJldHVybiB7XG4gICAgJ2FwaS5yZWZyZXNoJzogZnVuY3Rpb24gYXBpUmVmcmVzaCgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgICdhcGkubmV4dFBhZ2UnOiBmdW5jdGlvbiBhcGlOZXh0UGFnZSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgICdhcGkucHJldlBhZ2UnOiBmdW5jdGlvbiBhcGlQcmV2UGFnZSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgICdhcGkucXVlcnknOiBmdW5jdGlvbiBhcGlRdWVyeShwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9LFxuICAgICdhcGkuc2V0UmVzcG9uc2UnOiBmdW5jdGlvbiBhcGlTZXRSZXNwb25zZShwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9LFxuICAgICdhcGkuc2V0RXJyb3InOiBmdW5jdGlvbiBhcGlTZXRFcnJvcihwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9LFxuICAgIC8vIG5vdGlmeVBhcmVudFxuICAgICdhcGkucmVhZHknOiBmdW5jdGlvbiBhcGlSZWFkeSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgICdhcGkubG9hZGluZyc6IGZ1bmN0aW9uIGFwaUxvYWRpbmcocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSxcbiAgICAnYXBpLnN1Y2Nlc3MnOiBmdW5jdGlvbiBhcGlTdWNjZXNzKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0sXG4gICAgJ2FwaS5lcnJvcic6IGZ1bmN0aW9uIGFwaUVycm9yKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH1cbiAgfTtcbn07XG52YXIgZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50c0hhbmRsZXJzID0gZnVuY3Rpb24gZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50c0hhbmRsZXJzKHRvKSB7XG4gIHJldHVybiB7XG4gICAgJ2FwaS5yZWZyZXNoJzoge1xuICAgICAgYWN0aW9uczogc2VuZChmdW5jdGlvbiAoXywgZSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH0sIHtcbiAgICAgICAgdG86IHRvXG4gICAgICB9KVxuICAgIH0sXG4gICAgJ2FwaS5uZXh0UGFnZSc6IHtcbiAgICAgIGFjdGlvbnM6IHNlbmQoZnVuY3Rpb24gKF8sIGUpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9LCB7XG4gICAgICAgIHRvOiB0b1xuICAgICAgfSlcbiAgICB9LFxuICAgICdhcGkucHJldlBhZ2UnOiB7XG4gICAgICBhY3Rpb25zOiBzZW5kKGZ1bmN0aW9uIChfLCBlKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfSwge1xuICAgICAgICB0bzogdG9cbiAgICAgIH0pXG4gICAgfSxcbiAgICAnYXBpLnF1ZXJ5Jzoge1xuICAgICAgYWN0aW9uczogc2VuZChmdW5jdGlvbiAoXywgZSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH0sIHtcbiAgICAgICAgdG86IHRvXG4gICAgICB9KVxuICAgIH1cbiAgfTtcbn07XG5mdW5jdGlvbiBtYWtlUGFnaW5hdGVkQXBpTWFjaGluZShzZXJ2aWNlLCBkYXRhVHJhbnNmb3JtZXIsIG9wdGlvbnMpIHtcbiAgdmFyIHBhZ2luYXRlZEFwaU1hY2hpbmVNb2RlbCA9IGNyZWF0ZU1vZGVsKHtcbiAgICByZXF1ZXN0OiB7XG4gICAgICBwYWdlOiAxLFxuICAgICAgc2l6ZTogMTBcbiAgICB9LFxuICAgIHJlc3BvbnNlOiB1bmRlZmluZWQsXG4gICAgcG9sbGluZ0VuYWJsZWQ6IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnBvbGxpbmdFbmFibGVkKSB8fCBmYWxzZSxcbiAgICBvbkJlZm9yZVNldFJlc3BvbnNlOiBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm9uQmVmb3JlU2V0UmVzcG9uc2UsXG4gICAgZGF0YVRyYW5zZm9ybWVyOiBkYXRhVHJhbnNmb3JtZXJcbiAgfSwge1xuICAgIGV2ZW50czogX2V4dGVuZHMoe30sIGdldFBhZ2luYXRlZEFwaU1hY2hpbmVFdmVudHMoKSlcbiAgfSk7XG5cbiAgdmFyIGNhbGxBcGkgPSBmdW5jdGlvbiBjYWxsQXBpKGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gc2VydmljZShjb250ZXh0LnJlcXVlc3QsIGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhwYWdpbmF0ZWRBcGlNYWNoaW5lTW9kZWwuZXZlbnRzWydhcGkuc2V0UmVzcG9uc2UnXShwYXlsb2FkKSk7XG4gICAgICB9LCBmdW5jdGlvbiAocGF5bG9hZCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2socGFnaW5hdGVkQXBpTWFjaGluZU1vZGVsLmV2ZW50c1snYXBpLnNldEVycm9yJ10ocGF5bG9hZCkpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcblxuICByZXR1cm4gY3JlYXRlTWFjaGluZSh7XG4gICAgc2NoZW1hOiBwYWdpbmF0ZWRBcGlNYWNoaW5lU2NoZW1hLFxuICAgIGlkOiAncGFnaW5hdGVkQXBpTWFjaGluZScsXG4gICAgY29udGV4dDogcGFnaW5hdGVkQXBpTWFjaGluZU1vZGVsLmluaXRpYWxDb250ZXh0LFxuICAgIHR5cGU6ICdwYXJhbGxlbCcsXG4gICAgc3RhdGVzOiB7XG4gICAgICBhcGk6IHtcbiAgICAgICAgaW5pdGlhbDogJ2lkbGUnLFxuICAgICAgICBzdGF0ZXM6IHtcbiAgICAgICAgICBpZGxlOiB7XG4gICAgICAgICAgICBlbnRyeTogJ25vdGlmeVJlYWR5JyxcbiAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICdhcGkucXVlcnknOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogJ3F1ZXJ5J1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdWNjZXNzOiB7XG4gICAgICAgICAgICBhbHdheXM6IFt7XG4gICAgICAgICAgICAgIHRhcmdldDogJ3F1ZXJ5RW1wdHknLFxuICAgICAgICAgICAgICBjb25kOiAnaXNRdWVyeUVtcHR5J1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICB0YXJnZXQ6ICdxdWVyeVJlc3VsdHMnLFxuICAgICAgICAgICAgICBjb25kOiAnaXNRdWVyeVN1Y2Nlc2Z1bCdcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiAnZW1wdHknLFxuICAgICAgICAgICAgICBjb25kOiAnaXNUb3RhbFplcm8nXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIHRhcmdldDogJ3Jlc3VsdHMnXG4gICAgICAgICAgICB9XVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcXVlcnlFbXB0eToge1xuICAgICAgICAgICAgdGFnczogJ3F1ZXJ5RW1wdHknLFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgJ2FwaS5xdWVyeSc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiAncXVlcnknXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhcGkucHJldlBhZ2UnOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogJ2RlY3JlYXNlUGFnZScsXG4gICAgICAgICAgICAgICAgY29uZDogJ2lzTm90Rmlyc3RQYWdlJ1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnYXBpLnJlZnJlc2gnOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogJ2ZldGNoJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBxdWVyeVJlc3VsdHM6IHtcbiAgICAgICAgICAgIHRhZ3M6ICdxdWVyeVJlc3VsdHMnLFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgJ2FwaS5xdWVyeSc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiAncXVlcnknXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhcGkubmV4dFBhZ2UnOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogJ2luY3JlYXNlUGFnZScsXG4gICAgICAgICAgICAgICAgY29uZDogJ2lzTm90TGFzdFBhZ2UnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhcGkucHJldlBhZ2UnOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogJ2RlY3JlYXNlUGFnZScsXG4gICAgICAgICAgICAgICAgY29uZDogJ2lzTm90Rmlyc3RQYWdlJ1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnYXBpLnJlZnJlc2gnOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZydcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZW1wdHk6IHtcbiAgICAgICAgICAgIHRhZ3M6ICdlbXB0eScsXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAnYXBpLnF1ZXJ5Jzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdxdWVyeSdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FwaS5yZWZyZXNoJzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlc3VsdHM6IHtcbiAgICAgICAgICAgIHRhZ3M6ICdyZXN1bHRzJyxcbiAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICdhcGkucXVlcnknOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogJ3F1ZXJ5J1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnYXBpLm5leHRQYWdlJzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdpbmNyZWFzZVBhZ2UnLFxuICAgICAgICAgICAgICAgIGNvbmQ6ICdpc05vdExhc3RQYWdlJ1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnYXBpLnByZXZQYWdlJzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdkZWNyZWFzZVBhZ2UnLFxuICAgICAgICAgICAgICAgIGNvbmQ6ICdpc05vdEZpcnN0UGFnZSdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FwaS5yZWZyZXNoJzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICB0YWdzOiAnZXJyb3InLFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgJ2FwaS5xdWVyeSc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiAncXVlcnknXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhcGkucmVmcmVzaCc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJ1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnYXBpLnByZXZQYWdlJzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdkZWNyZWFzZVBhZ2UnLFxuICAgICAgICAgICAgICAgIGNvbmQ6ICdpc05vdEZpcnN0UGFnZSdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbG9hZGluZzoge1xuICAgICAgICAgICAgdGFnczogWydsb2FkaW5nJ10sXG4gICAgICAgICAgICBlbnRyeTogWydub3RpZnlMb2FkaW5nJywgJ2ZldGNoJ10sXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAnYXBpLnF1ZXJ5Jzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdxdWVyeSdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FwaS5zZXRSZXNwb25zZSc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbJ3NldFJlc3BvbnNlJywgJ25vdGlmeVN1Y2Nlc3MnXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnYXBpLnNldEVycm9yJzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBbJ3NldEVycm9yJywgJ25vdGlmeUVycm9yJ11cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb246IHtcbiAgICAgICAgICAnKic6IHtcbiAgICAgICAgICAgIGFjdGlvbnM6ICdmb3J3YXJkVW5rbm93bkV2ZW50c1RvUGFyZW50J1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHBvbGxpbmc6IHtcbiAgICAgICAgZW50cnk6ICdmZXRjaCcsXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgJ2FwaS5zZXRSZXNwb25zZSc6IHtcbiAgICAgICAgICAgIGFjdGlvbnM6ICdzZXRSZXNwb25zZSdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFmdGVyOiB7XG4gICAgICAgICAgSU5URVJWQUw6IHtcbiAgICAgICAgICAgIGNvbmQ6ICdpc1BvbGxpbmdFbmFibGVkJyxcbiAgICAgICAgICAgIHRhcmdldDogJ3BvbGxpbmcnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAgZGVsYXlzOiB7XG4gICAgICBJTlRFUlZBTDogNTAwMFxuICAgIH0sXG4gICAgYWN0aW9uczoge1xuICAgICAgZmV0Y2g6IGFzc2lnbihmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dC5hY3RvciAmJiBjb250ZXh0LmFjdG9yLnN0b3ApIHtcbiAgICAgICAgICBjb250ZXh0LmFjdG9yLnN0b3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhY3RvciA9IHNwYXduKGNhbGxBcGkoY29udGV4dCkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFjdG9yOiBhY3RvclxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBzZXRSZXNwb25zZTogYXNzaWduKGZ1bmN0aW9uIChjb250ZXh0LCBlKSB7XG4gICAgICAgIHZhciBfZSRpdGVtcztcblxuICAgICAgICBpZiAoZS50eXBlICE9PSAnYXBpLnNldFJlc3BvbnNlJyB8fCBlLnBhZ2UgIT09IGNvbnRleHQucmVxdWVzdC5wYWdlKSByZXR1cm4ge307XG5cbiAgICAgICAgaWYgKGNvbnRleHQub25CZWZvcmVTZXRSZXNwb25zZSkge1xuICAgICAgICAgIHZhciBfY29udGV4dCRyZXNwb25zZTtcblxuICAgICAgICAgIGNvbnRleHQub25CZWZvcmVTZXRSZXNwb25zZSgoX2NvbnRleHQkcmVzcG9uc2UgPSBjb250ZXh0LnJlc3BvbnNlKSA9PSBudWxsID8gdm9pZCAwIDogX2NvbnRleHQkcmVzcG9uc2UuaXRlbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgaXRlbXM6IChfZSRpdGVtcyA9IGUuaXRlbXMpID09IG51bGwgPyB2b2lkIDAgOiBfZSRpdGVtcy5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGF0YVRyYW5zZm9ybWVyKGkpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0b3RhbDogZS50b3RhbCxcbiAgICAgICAgICAgIGVycm9yOiB1bmRlZmluZWRcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIHNldEVycm9yOiBhc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQsIGUpIHtcbiAgICAgICAgdmFyIF9jb250ZXh0JHJlc3BvbnNlMiwgX2NvbnRleHQkcmVzcG9uc2UzO1xuXG4gICAgICAgIGlmIChlLnR5cGUgIT09ICdhcGkuc2V0RXJyb3InIHx8IGUucGFnZSAhPT0gY29udGV4dC5yZXF1ZXN0LnBhZ2UpIHJldHVybiB7fTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgaXRlbXM6ICgoX2NvbnRleHQkcmVzcG9uc2UyID0gY29udGV4dC5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jb250ZXh0JHJlc3BvbnNlMi5pdGVtcykgfHwgW10sXG4gICAgICAgICAgICB0b3RhbDogKChfY29udGV4dCRyZXNwb25zZTMgPSBjb250ZXh0LnJlc3BvbnNlKSA9PSBudWxsID8gdm9pZCAwIDogX2NvbnRleHQkcmVzcG9uc2UzLnRvdGFsKSB8fCAwLFxuICAgICAgICAgICAgZXJyb3I6IGUuZXJyb3JcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIGluY3JlYXNlUGFnZTogYXNzaWduKGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVxdWVzdDogX2V4dGVuZHMoe30sIGNvbnRleHQucmVxdWVzdCwge1xuICAgICAgICAgICAgcGFnZTogY29udGV4dC5yZXF1ZXN0LnBhZ2UgKyAxXG4gICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgZGVjcmVhc2VQYWdlOiBhc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXF1ZXN0OiBfZXh0ZW5kcyh7fSwgY29udGV4dC5yZXF1ZXN0LCB7XG4gICAgICAgICAgICBwYWdlOiBjb250ZXh0LnJlcXVlc3QucGFnZSAtIDFcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBxdWVyeTogYXNzaWduKGZ1bmN0aW9uIChjb250ZXh0LCBldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSAhPT0gJ2FwaS5xdWVyeScpIHJldHVybiB7fTtcbiAgICAgICAgdmFyIHBhZ2UgPSBldmVudC5wYWdlLFxuICAgICAgICAgICAgc2l6ZSA9IGV2ZW50LnNpemUsXG4gICAgICAgICAgICBxdWVyeSA9IGV2ZW50LnF1ZXJ5O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlcXVlc3Q6IHtcbiAgICAgICAgICAgIHBhZ2U6IHBhZ2UgfHwgY29udGV4dC5yZXF1ZXN0LnBhZ2UsXG4gICAgICAgICAgICBzaXplOiBzaXplIHx8IGNvbnRleHQucmVxdWVzdC5zaXplLFxuICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBub3RpZnlSZWFkeTogc2VuZFBhcmVudCh7XG4gICAgICAgIHR5cGU6ICdhcGkucmVhZHknXG4gICAgICB9KSxcbiAgICAgIG5vdGlmeVN1Y2Nlc3M6IHNlbmRQYXJlbnQoZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgICAgICB0eXBlOiAnYXBpLnN1Y2Nlc3MnXG4gICAgICAgIH0sIGNvbnRleHQucmVzcG9uc2UpO1xuICAgICAgfSksXG4gICAgICBub3RpZnlFcnJvcjogc2VuZFBhcmVudChmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICB2YXIgX2NvbnRleHQkcmVzcG9uc2U0O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2FwaS5lcnJvcicsXG4gICAgICAgICAgZXJyb3I6IChfY29udGV4dCRyZXNwb25zZTQgPSBjb250ZXh0LnJlc3BvbnNlKSA9PSBudWxsID8gdm9pZCAwIDogX2NvbnRleHQkcmVzcG9uc2U0LmVycm9yXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIG5vdGlmeUxvYWRpbmc6IHNlbmRQYXJlbnQoZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgICAgICB0eXBlOiAnYXBpLmxvYWRpbmcnXG4gICAgICAgIH0sIGNvbnRleHQucmVxdWVzdCk7XG4gICAgICB9KSxcbiAgICAgIGZvcndhcmRVbmtub3duRXZlbnRzVG9QYXJlbnQ6IHB1cmUoZnVuY3Rpb24gKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMocGFnaW5hdGVkQXBpTWFjaGluZU1vZGVsLmV2ZW50cykuaW5jbHVkZXMoZXZlbnQudHlwZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbmRQYXJlbnQoZnVuY3Rpb24gKF9jb250ZXh0LCBfZXZlbnQsIG1ldGEpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXRhLl9ldmVudC5kYXRhO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfSlcbiAgICB9LFxuICAgIGd1YXJkczoge1xuICAgICAgaXNOb3RGaXJzdFBhZ2U6IGZ1bmN0aW9uIGlzTm90Rmlyc3RQYWdlKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQucmVzcG9uc2UgIT09IHVuZGVmaW5lZCAmJiBjb250ZXh0LnJlcXVlc3QucGFnZSA+IDE7XG4gICAgICB9LFxuICAgICAgaXNOb3RMYXN0UGFnZTogZnVuY3Rpb24gaXNOb3RMYXN0UGFnZShjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LnJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiYgY29udGV4dC5yZXF1ZXN0LnNpemUgPiAwICYmIGNvbnRleHQucmVxdWVzdC5wYWdlIDwgTWF0aC5jZWlsKGNvbnRleHQucmVzcG9uc2UudG90YWwgLyBjb250ZXh0LnJlcXVlc3Quc2l6ZSk7XG4gICAgICB9LFxuICAgICAgaXNUb3RhbFplcm86IGZ1bmN0aW9uIGlzVG90YWxaZXJvKGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF9jb250ZXh0JHJlc3BvbnNlNTtcblxuICAgICAgICByZXR1cm4gKChfY29udGV4dCRyZXNwb25zZTUgPSBjb250ZXh0LnJlc3BvbnNlKSA9PSBudWxsID8gdm9pZCAwIDogX2NvbnRleHQkcmVzcG9uc2U1LnRvdGFsKSA9PT0gMDtcbiAgICAgIH0sXG4gICAgICBpc1F1ZXJ5U3VjY2VzZnVsOiBmdW5jdGlvbiBpc1F1ZXJ5U3VjY2VzZnVsKGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF9jb250ZXh0JHJlc3BvbnNlNjtcblxuICAgICAgICByZXR1cm4gY29udGV4dC5yZXF1ZXN0LnF1ZXJ5ICE9PSB1bmRlZmluZWQgJiYgY29udGV4dC5yZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmICgoX2NvbnRleHQkcmVzcG9uc2U2ID0gY29udGV4dC5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jb250ZXh0JHJlc3BvbnNlNi50b3RhbCkgPiAwO1xuICAgICAgfSxcbiAgICAgIGlzUXVlcnlFbXB0eTogZnVuY3Rpb24gaXNRdWVyeUVtcHR5KGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF9jb250ZXh0JHJlc3BvbnNlNztcblxuICAgICAgICByZXR1cm4gY29udGV4dC5yZXF1ZXN0LnF1ZXJ5ICE9PSB1bmRlZmluZWQgJiYgY29udGV4dC5yZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmICgoX2NvbnRleHQkcmVzcG9uc2U3ID0gY29udGV4dC5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jb250ZXh0JHJlc3BvbnNlNy50b3RhbCkgPT09IDA7XG4gICAgICB9LFxuICAgICAgaXNQb2xsaW5nRW5hYmxlZDogZnVuY3Rpb24gaXNQb2xsaW5nRW5hYmxlZChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LnBvbGxpbmdFbmFibGVkO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59IC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzUwMzIxNDE5L3R5cGVzY3JpcHQtcmV0dXJudHlwZS1vZi1nZW5lcmljLWZ1bmN0aW9uLzY0OTE5MTMzIzY0OTE5MTMzXG5cbnZhciB1c2VQYWdpbmF0aW9uID0gZnVuY3Rpb24gdXNlUGFnaW5hdGlvbihhY3Rvcikge1xuICByZXR1cm4gdXNlU2VsZWN0b3IoYWN0b3IsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXF1ZXN0OiBzdGF0ZS5jb250ZXh0LnJlcXVlc3QsXG4gICAgICByZXNwb25zZTogc3RhdGUuY29udGV4dC5yZXNwb25zZSxcbiAgICAgIGxvYWRpbmc6IHN0YXRlLmhhc1RhZygnbG9hZGluZycpLFxuICAgICAgcXVlcnlFbXB0eTogc3RhdGUuaGFzVGFnKCdxdWVyeUVtcHR5JyksXG4gICAgICBxdWVyeVJlc3VsdHM6IHN0YXRlLmhhc1RhZygncXVlcnlSZXN1bHRzJyksXG4gICAgICBub1Jlc3VsdHM6IHN0YXRlLmhhc1RhZygnZW1wdHknKSxcbiAgICAgIHJlc3VsdHM6IHN0YXRlLmhhc1RhZygncmVzdWx0cycpLFxuICAgICAgZXJyb3I6IHN0YXRlLmhhc1RhZygnZXJyb3InKSxcbiAgICAgIGZpcnN0UmVxdWVzdDogc3RhdGUuY29udGV4dC5yZXNwb25zZSA9PT0gdW5kZWZpbmVkXG4gICAgfTtcbiAgfSwgW2FjdG9yXSkpO1xufTtcblxudmFyIFBBR0lOQVRFRF9NQUNISU5FX0lEID0gJ3BhZ2luYXRlZEFwaSc7XG52YXIgY29ubmVjdG9yc01hY2hpbmVTY2hlbWEgPSB7XG4gIGNvbnRleHQ6IC8qI19fUFVSRV9fKi9jcmVhdGVTY2hlbWEoKVxufTtcbnZhciBjb25uZWN0b3JzTWFjaGluZU1vZGVsID0gLyojX19QVVJFX18qL2NyZWF0ZU1vZGVsKHtcbiAgYWNjZXNzVG9rZW46IGZ1bmN0aW9uIGFjY2Vzc1Rva2VuKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJycpO1xuICB9LFxuICBiYXNlUGF0aDogJycsXG4gIHNlbGVjdGVkQ29ubmVjdG9yOiB1bmRlZmluZWRcbn0sIHtcbiAgZXZlbnRzOiAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9nZXRQYWdpbmF0ZWRBcGlNYWNoaW5lRXZlbnRzKCksIHtcbiAgICBhY3Rpb25TdWNjZXNzOiBmdW5jdGlvbiBhY3Rpb25TdWNjZXNzKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgYWN0aW9uRmFpbHVyZTogZnVuY3Rpb24gYWN0aW9uRmFpbHVyZSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIHNlbGVjdENvbm5lY3RvcjogZnVuY3Rpb24gc2VsZWN0Q29ubmVjdG9yKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0sXG4gICAgZGVzZWxlY3RDb25uZWN0b3I6IGZ1bmN0aW9uIGRlc2VsZWN0Q29ubmVjdG9yKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfSlcbn0pO1xudmFyIGNvbm5lY3RvcnNNYWNoaW5lID0gLyojX19QVVJFX18qL2NyZWF0ZU1hY2hpbmUoe1xuICBzY2hlbWE6IGNvbm5lY3RvcnNNYWNoaW5lU2NoZW1hLFxuICBpZDogJ2Nvbm5lY3RvcnMnLFxuICBpbml0aWFsOiAncm9vdCcsXG4gIGNvbnRleHQ6IGNvbm5lY3RvcnNNYWNoaW5lTW9kZWwuaW5pdGlhbENvbnRleHQsXG4gIHN0YXRlczoge1xuICAgIHJvb3Q6IHtcbiAgICAgIHR5cGU6ICdwYXJhbGxlbCcsXG4gICAgICBzdGF0ZXM6IHtcbiAgICAgICAgYXBpOiB7XG4gICAgICAgICAgaW5pdGlhbDogJ2lkbGUnLFxuICAgICAgICAgIGludm9rZToge1xuICAgICAgICAgICAgaWQ6IFBBR0lOQVRFRF9NQUNISU5FX0lELFxuICAgICAgICAgICAgc3JjOiBmdW5jdGlvbiBzcmMoY29udGV4dCkge1xuICAgICAgICAgICAgICByZXR1cm4gbWFrZVBhZ2luYXRlZEFwaU1hY2hpbmUoZmV0Y2hDb25uZWN0b3JzKGNvbnRleHQuYWNjZXNzVG9rZW4sIGNvbnRleHQuYmFzZVBhdGgpLCBmdW5jdGlvbiAoY29ubmVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwYXduKG1ha2VDb25uZWN0b3JNYWNoaW5lKHtcbiAgICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBjb250ZXh0LmFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgICAgICAgYmFzZVBhdGg6IGNvbnRleHQuYmFzZVBhdGgsXG4gICAgICAgICAgICAgICAgICBjb25uZWN0b3I6IGNvbm5lY3RvclxuICAgICAgICAgICAgICAgIH0pLCBcImNvbm5lY3Rvci1cIiArIGNvbm5lY3Rvci5pZCk7XG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBwb2xsaW5nRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvbkJlZm9yZVNldFJlc3BvbnNlOiBmdW5jdGlvbiBvbkJlZm9yZVNldFJlc3BvbnNlKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChkICYmIGQuc3RvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3RhdGVzOiB7XG4gICAgICAgICAgICBpZGxlOiB7XG4gICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgJ2FwaS5yZWFkeSc6ICdyZWFkeSdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlYWR5OiB7XG4gICAgICAgICAgICAgIGVudHJ5OiAvKiNfX1BVUkVfXyovc2VuZCQxKCdhcGkucXVlcnknLCB7XG4gICAgICAgICAgICAgICAgdG86IFBBR0lOQVRFRF9NQUNISU5FX0lEXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbjogLyojX19QVVJFX18qL19leHRlbmRzKHt9LCAvKiNfX1BVUkVfXyovZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50c0hhbmRsZXJzKFBBR0lOQVRFRF9NQUNISU5FX0lEKSwge1xuICAgICAgICAgICAgJ2FwaS5lcnJvcic6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogJ25vdGlmeUVycm9yJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjdGlvblN1Y2Nlc3M6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL3NlbmQkMSgnYXBpLnF1ZXJ5Jywge1xuICAgICAgICAgICAgICAgIHRvOiBQQUdJTkFURURfTUFDSElORV9JRFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjdGlvbkZhaWx1cmU6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL3NlbmQkMSgnYXBpLnF1ZXJ5Jywge1xuICAgICAgICAgICAgICAgIHRvOiBQQUdJTkFURURfTUFDSElORV9JRFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdENvbm5lY3Rvcjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiAnc2V0U2VsZWN0ZWRDb25uZWN0b3InXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVzZWxlY3RDb25uZWN0b3I6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogJ3Vuc2V0U2VsZWN0ZWRDb25uZWN0b3InXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgbGlzdGluZzoge31cbiAgICAgIH1cbiAgICB9XG4gIH1cbn0sIHtcbiAgYWN0aW9uczoge1xuICAgIHNldFNlbGVjdGVkQ29ubmVjdG9yOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50eXBlICE9PSAnc2VsZWN0Q29ubmVjdG9yJykgcmV0dXJuIHt9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2VsZWN0ZWRDb25uZWN0b3I6IGV2ZW50LmNvbm5lY3RvclxuICAgICAgfTtcbiAgICB9KSxcbiAgICB1bnNldFNlbGVjdGVkQ29ubmVjdG9yOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50eXBlICE9PSAnZGVzZWxlY3RDb25uZWN0b3InKSByZXR1cm4ge307XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzZWxlY3RlZENvbm5lY3RvcjogdW5kZWZpbmVkXG4gICAgICB9O1xuICAgIH0pLFxuICAgIG5vdGlmeUVycm9yOiBmdW5jdGlvbiBub3RpZnlFcnJvcihjb250ZXh0LCBldmVudCkge1xuICAgICAgY29uc29sZS5sb2coY29udGV4dCwgZXZlbnQpO1xuXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2FwaS5lcnJvcicgJiYgY29udGV4dC5vbkVycm9yKSB7XG4gICAgICAgIGNvbnRleHQub25FcnJvcihldmVudC5lcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcbnZhciB1c2VDb25uZWN0b3JzTWFjaGluZSA9IGZ1bmN0aW9uIHVzZUNvbm5lY3RvcnNNYWNoaW5lKHNlcnZpY2UpIHtcbiAgdmFyIGFwaURhdGEgPSB1c2VQYWdpbmF0aW9uKHNlcnZpY2Uuc3RhdGUuY2hpbGRyZW5bUEFHSU5BVEVEX01BQ0hJTkVfSURdKTtcblxuICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3Ioc2VydmljZSwgdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbGVjdGVkQ29ubmVjdG9yOiBzdGF0ZS5jb250ZXh0LnNlbGVjdGVkQ29ubmVjdG9yXG4gICAgfTtcbiAgfSwgW3NlcnZpY2VdKSksXG4gICAgICBzZWxlY3RlZENvbm5lY3RvciA9IF91c2VTZWxlY3Rvci5zZWxlY3RlZENvbm5lY3RvcjtcblxuICB2YXIgZGVzZWxlY3RDb25uZWN0b3IgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgc2VydmljZS5zZW5kKHtcbiAgICAgIHR5cGU6ICdkZXNlbGVjdENvbm5lY3RvcidcbiAgICB9KTtcbiAgfSwgW3NlcnZpY2VdKTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBhcGlEYXRhLCB7XG4gICAgc2VsZWN0ZWRDb25uZWN0b3I6IHNlbGVjdGVkQ29ubmVjdG9yLFxuICAgIGRlc2VsZWN0Q29ubmVjdG9yOiBkZXNlbGVjdENvbm5lY3RvclxuICB9KTtcbn07XG5cbnZhciBDb25uZWN0b3JzTWFjaGluZVNlcnZpY2VDb250ZXh0ID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbnRleHQobnVsbCk7XG52YXIgQ29ubmVjdG9yc01hY2hpbmVQcm92aWRlciA9IGZ1bmN0aW9uIENvbm5lY3RvcnNNYWNoaW5lUHJvdmlkZXIoX3JlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgYWNjZXNzVG9rZW4gPSBfcmVmLmFjY2Vzc1Rva2VuLFxuICAgICAgYmFzZVBhdGggPSBfcmVmLmJhc2VQYXRoLFxuICAgICAgb25FcnJvciA9IF9yZWYub25FcnJvcjtcbiAgdmFyIHNlcnZpY2UgPSB1c2VJbnRlcnByZXQoY29ubmVjdG9yc01hY2hpbmUsIHtcbiAgICBjb250ZXh0OiB7XG4gICAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXG4gICAgICBiYXNlUGF0aDogYmFzZVBhdGgsXG4gICAgICBvbkVycm9yOiBvbkVycm9yXG4gICAgfSxcbiAgICBkZXZUb29sczogdHJ1ZVxuICB9KTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBzZXJ2aWNlXG4gIH0sIGNoaWxkcmVuKTtcbn07XG52YXIgdXNlQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlID0gZnVuY3Rpb24gdXNlQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlKCkge1xuICB2YXIgc2VydmljZSA9IHVzZUNvbnRleHQoQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlQ29udGV4dCk7XG5cbiAgaWYgKCFzZXJ2aWNlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlKCkgbXVzdCBiZSB1c2VkIGluIGEgY2hpbGQgb2YgPENvbm5lY3RvcnNNYWNoaW5lUHJvdmlkZXI+XCIpO1xuICB9XG5cbiAgcmV0dXJuIHNlcnZpY2U7XG59O1xudmFyIHVzZUNvbm5lY3RvcnNNYWNoaW5lSXNSZWFkeSA9IGZ1bmN0aW9uIHVzZUNvbm5lY3RvcnNNYWNoaW5lSXNSZWFkeShzZXJ2aWNlKSB7XG4gIHJldHVybiB1c2VTZWxlY3RvcihzZXJ2aWNlLCB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUubWF0Y2hlcyh7XG4gICAgICByb290OiB7XG4gICAgICAgIGFwaTogJ3JlYWR5J1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbc2VydmljZV0pKTtcbn07XG5cbnZhciBQQUdJTkFURURfTUFDSElORV9JRCQxID0gJ3BhZ2luYXRlZEFwaSc7XG5cbnZhciBmZXRjaENsdXN0ZXJzID0gZnVuY3Rpb24gZmV0Y2hDbHVzdGVycyhhY2Nlc3NUb2tlbiwgYmFzZVBhdGgpIHtcbiAgdmFyIGFwaXNTZXJ2aWNlID0gbmV3IENvbm5lY3RvckNsdXN0ZXJzQXBpKG5ldyBDb25maWd1cmF0aW9uKHtcbiAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXG4gICAgYmFzZVBhdGg6IGJhc2VQYXRoXG4gIH0pKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChyZXF1ZXN0LCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgQ2FuY2VsVG9rZW4gPSBheGlvcy5DYW5jZWxUb2tlbjtcbiAgICB2YXIgc291cmNlID0gQ2FuY2VsVG9rZW4uc291cmNlKCk7XG4gICAgdmFyIHBhZ2UgPSByZXF1ZXN0LnBhZ2UsXG4gICAgICAgIHNpemUgPSByZXF1ZXN0LnNpemU7XG4gICAgYXBpc1NlcnZpY2UubGlzdENvbm5lY3RvckNsdXN0ZXJzKFwiXCIgKyBwYWdlLCBcIlwiICsgc2l6ZSwge1xuICAgICAgY2FuY2VsVG9rZW46IHNvdXJjZS50b2tlblxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBvblN1Y2Nlc3Moe1xuICAgICAgICBpdGVtczogcmVzcG9uc2UuZGF0YS5pdGVtcyxcbiAgICAgICAgdG90YWw6IHJlc3BvbnNlLmRhdGEudG90YWwsXG4gICAgICAgIHBhZ2U6IHJlc3BvbnNlLmRhdGEucGFnZSxcbiAgICAgICAgc2l6ZTogcmVzcG9uc2UuZGF0YS5zaXplXG4gICAgICB9KTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKCFheGlvcy5pc0NhbmNlbChlcnJvcikpIHtcbiAgICAgICAgb25FcnJvcih7XG4gICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgcGFnZTogcmVxdWVzdC5wYWdlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBzb3VyY2UuY2FuY2VsKCdPcGVyYXRpb24gY2FuY2VsZWQgYnkgdGhlIHVzZXIuJyk7XG4gICAgfTtcbiAgfTtcbn07XG5cbnZhciBjbHVzdGVyc01hY2hpbmVTY2hlbWEgPSB7XG4gIGNvbnRleHQ6IC8qI19fUFVSRV9fKi9jcmVhdGVTY2hlbWEoKVxufTtcbnZhciBjbHVzdGVyc01hY2hpbmVNb2RlbCA9IC8qI19fUFVSRV9fKi9jcmVhdGVNb2RlbCh7XG4gIGFjY2Vzc1Rva2VuOiBmdW5jdGlvbiBhY2Nlc3NUb2tlbigpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCcnKTtcbiAgfSxcbiAgYmFzZVBhdGg6ICcnLFxuICBjbHVzdGVyczogdW5kZWZpbmVkLFxuICBzZWxlY3RlZENsdXN0ZXI6IHVuZGVmaW5lZCxcbiAgZXJyb3I6IHVuZGVmaW5lZFxufSwge1xuICBldmVudHM6IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7XG4gICAgc2VsZWN0Q2x1c3RlcjogZnVuY3Rpb24gc2VsZWN0Q2x1c3RlcihwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHBheWxvYWQpO1xuICAgIH0sXG4gICAgZGVzZWxlY3RDbHVzdGVyOiBmdW5jdGlvbiBkZXNlbGVjdENsdXN0ZXIoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBjb25maXJtOiBmdW5jdGlvbiBjb25maXJtKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfSwgLyojX19QVVJFX18qL2dldFBhZ2luYXRlZEFwaU1hY2hpbmVFdmVudHMoKSlcbn0pO1xudmFyIGNsdXN0ZXJzTWFjaGluZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVNYWNoaW5lKHtcbiAgc2NoZW1hOiBjbHVzdGVyc01hY2hpbmVTY2hlbWEsXG4gIGlkOiAnY2x1c3RlcnMnLFxuICBpbml0aWFsOiAncm9vdCcsXG4gIGNvbnRleHQ6IGNsdXN0ZXJzTWFjaGluZU1vZGVsLmluaXRpYWxDb250ZXh0LFxuICBzdGF0ZXM6IHtcbiAgICByb290OiB7XG4gICAgICB0eXBlOiAncGFyYWxsZWwnLFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGFwaToge1xuICAgICAgICAgIGluaXRpYWw6ICdpZGxlJyxcbiAgICAgICAgICBpbnZva2U6IHtcbiAgICAgICAgICAgIGlkOiBQQUdJTkFURURfTUFDSElORV9JRCQxLFxuICAgICAgICAgICAgc3JjOiBmdW5jdGlvbiBzcmMoY29udGV4dCkge1xuICAgICAgICAgICAgICByZXR1cm4gbWFrZVBhZ2luYXRlZEFwaU1hY2hpbmUoZmV0Y2hDbHVzdGVycyhjb250ZXh0LmFjY2Vzc1Rva2VuLCBjb250ZXh0LmJhc2VQYXRoKSwgZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdGF0ZXM6IHtcbiAgICAgICAgICAgIGlkbGU6IHtcbiAgICAgICAgICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kJDEoJ2FwaS5xdWVyeScsIHtcbiAgICAgICAgICAgICAgICB0bzogUEFHSU5BVEVEX01BQ0hJTkVfSUQkMVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAnYXBpLnJlYWR5JzogJ3JlYWR5J1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVhZHk6IHt9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbjogLyojX19QVVJFX18qL19leHRlbmRzKHt9LCAvKiNfX1BVUkVfXyovZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50c0hhbmRsZXJzKFBBR0lOQVRFRF9NQUNISU5FX0lEJDEpLCB7XG4gICAgICAgICAgICAnYXBpLnN1Y2Nlc3MnOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6ICdzdWNjZXNzJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdGlvbjoge1xuICAgICAgICAgIGlkOiAnc2VsZWN0aW9uJyxcbiAgICAgICAgICBpbml0aWFsOiAndmVyaWZ5JyxcbiAgICAgICAgICBzdGF0ZXM6IHtcbiAgICAgICAgICAgIHZlcmlmeToge1xuICAgICAgICAgICAgICBhbHdheXM6IFt7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnc2VsZWN0aW5nJyxcbiAgICAgICAgICAgICAgICBjb25kOiAnbm9DbHVzdGVyU2VsZWN0ZWQnXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgICAgICAgICAgY29uZDogJ2NsdXN0ZXJTZWxlY3RlZCdcbiAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWxlY3Rpbmc6IHtcbiAgICAgICAgICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50JDEoJ2lzSW52YWxpZCcpLFxuICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgIHNlbGVjdENsdXN0ZXI6IHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogJ3ZhbGlkJyxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdzZWxlY3RDbHVzdGVyJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZhbGlkOiB7XG4gICAgICAgICAgICAgIGVudHJ5OiAvKiNfX1BVUkVfXyovc2VuZFBhcmVudCQxKCdpc1ZhbGlkJyksXG4gICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0Q2x1c3Rlcjoge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdzZWxlY3RDbHVzdGVyJyxcbiAgICAgICAgICAgICAgICAgIGNvbmQ6IGZ1bmN0aW9uIGNvbmQoXywgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LnNlbGVjdGVkQ2x1c3RlciAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVzZWxlY3RDbHVzdGVyOiB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uczogJ3Jlc2V0J1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29uZmlybToge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAnI2RvbmUnLFxuICAgICAgICAgICAgICAgICAgY29uZDogJ2NsdXN0ZXJTZWxlY3RlZCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGRvbmU6IHtcbiAgICAgIGlkOiAnZG9uZScsXG4gICAgICB0eXBlOiAnZmluYWwnLFxuICAgICAgZGF0YToge1xuICAgICAgICBzZWxlY3RlZENsdXN0ZXI6IGZ1bmN0aW9uIHNlbGVjdGVkQ2x1c3Rlcihjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRDbHVzdGVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59LCB7XG4gIGFjdGlvbnM6IHtcbiAgICBzdWNjZXNzOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50eXBlICE9PSAnYXBpLnN1Y2Nlc3MnKSByZXR1cm4ge307XG5cbiAgICAgIHZhciByZXNwb25zZSA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKGV2ZW50LCBbXCJ0eXBlXCJdKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlXG4gICAgICB9O1xuICAgIH0pLFxuICAgIHNlbGVjdENsdXN0ZXI6IC8qI19fUFVSRV9fKi9hc3NpZ24oe1xuICAgICAgc2VsZWN0ZWRDbHVzdGVyOiBmdW5jdGlvbiBzZWxlY3RlZENsdXN0ZXIoY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdzZWxlY3RDbHVzdGVyJykge1xuICAgICAgICAgIHZhciBfY29udGV4dCRyZXNwb25zZSwgX2NvbnRleHQkcmVzcG9uc2UkaXRlO1xuXG4gICAgICAgICAgcmV0dXJuIChfY29udGV4dCRyZXNwb25zZSA9IGNvbnRleHQucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiAoX2NvbnRleHQkcmVzcG9uc2UkaXRlID0gX2NvbnRleHQkcmVzcG9uc2UuaXRlbXMpID09IG51bGwgPyB2b2lkIDAgOiBfY29udGV4dCRyZXNwb25zZSRpdGUuZmluZChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuIGkuaWQgPT09IGV2ZW50LnNlbGVjdGVkQ2x1c3RlcjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkQ2x1c3RlcjtcbiAgICAgIH1cbiAgICB9KSxcbiAgICByZXNldDogLyojX19QVVJFX18qL2Fzc2lnbih7XG4gICAgICBzZWxlY3RlZENsdXN0ZXI6IGZ1bmN0aW9uIHNlbGVjdGVkQ2x1c3Rlcihjb250ZXh0LCBldmVudCkge1xuICAgICAgICByZXR1cm4gZXZlbnQudHlwZSA9PT0gJ2Rlc2VsZWN0Q2x1c3RlcicgPyB1bmRlZmluZWQgOiBjb250ZXh0LnNlbGVjdGVkQ2x1c3RlcjtcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuICBndWFyZHM6IHtcbiAgICBjbHVzdGVyU2VsZWN0ZWQ6IGZ1bmN0aW9uIGNsdXN0ZXJTZWxlY3RlZChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZENsdXN0ZXIgIT09IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIG5vQ2x1c3RlclNlbGVjdGVkOiBmdW5jdGlvbiBub0NsdXN0ZXJTZWxlY3RlZChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZENsdXN0ZXIgPT09IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn0pO1xudmFyIHVzZUNsdXN0ZXJzTWFjaGluZUlzUmVhZHkgPSBmdW5jdGlvbiB1c2VDbHVzdGVyc01hY2hpbmVJc1JlYWR5KGFjdG9yKSB7XG4gIHJldHVybiB1c2VTZWxlY3RvcihhY3RvciwgdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLm1hdGNoZXMoe1xuICAgICAgcm9vdDoge1xuICAgICAgICBhcGk6ICdyZWFkeSdcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW2FjdG9yXSkpO1xufTtcbnZhciB1c2VDbHVzdGVyc01hY2hpbmUgPSBmdW5jdGlvbiB1c2VDbHVzdGVyc01hY2hpbmUoYWN0b3IpIHtcbiAgdmFyIGFwaSA9IHVzZVBhZ2luYXRpb24oYWN0b3Iuc3RhdGUuY2hpbGRyZW5bUEFHSU5BVEVEX01BQ0hJTkVfSUQkMV0pO1xuXG4gIHZhciBfdXNlU2VsZWN0b3IgPSB1c2VTZWxlY3RvcihhY3RvciwgdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgdmFyIF9zdGF0ZSRjb250ZXh0JHNlbGVjdDtcblxuICAgIHJldHVybiB7XG4gICAgICBzZWxlY3RlZElkOiAoX3N0YXRlJGNvbnRleHQkc2VsZWN0ID0gc3RhdGUuY29udGV4dC5zZWxlY3RlZENsdXN0ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfc3RhdGUkY29udGV4dCRzZWxlY3QuaWRcbiAgICB9O1xuICB9LCBbYWN0b3JdKSksXG4gICAgICBzZWxlY3RlZElkID0gX3VzZVNlbGVjdG9yLnNlbGVjdGVkSWQ7XG5cbiAgdmFyIG9uU2VsZWN0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHNlbGVjdGVkQ2x1c3Rlcikge1xuICAgIGFjdG9yLnNlbmQoe1xuICAgICAgdHlwZTogJ3NlbGVjdENsdXN0ZXInLFxuICAgICAgc2VsZWN0ZWRDbHVzdGVyOiBzZWxlY3RlZENsdXN0ZXJcbiAgICB9KTtcbiAgfSwgW2FjdG9yXSk7XG4gIHZhciBvblF1ZXJ5ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICBhY3Rvci5zZW5kKF9leHRlbmRzKHtcbiAgICAgIHR5cGU6ICdhcGkucXVlcnknXG4gICAgfSwgcmVxdWVzdCkpO1xuICB9LCBbYWN0b3JdKTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBhcGksIHtcbiAgICBzZWxlY3RlZElkOiBzZWxlY3RlZElkLFxuICAgIG9uU2VsZWN0OiBvblNlbGVjdCxcbiAgICBvblF1ZXJ5OiBvblF1ZXJ5XG4gIH0pO1xufTtcblxudmFyIGNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmVTY2hlbWEgPSB7XG4gIGNvbnRleHQ6IC8qI19fUFVSRV9fKi9jcmVhdGVTY2hlbWEoKVxufTtcbnZhciBjb25maWd1cmF0b3JMb2FkZXJNYWNoaW5lTW9kZWwgPSAvKiNfX1BVUkVfXyovY3JlYXRlTW9kZWwoe1xuICBjb25uZWN0b3I6IHtcbiAgICBpZDogJ3NvbWV0aGluZycsXG4gICAgbmFtZTogJ3NvbWV0aGluZycsXG4gICAgdmVyc2lvbjogJzAuMSdcbiAgfSxcbiAgQ29uZmlndXJhdG9yOiB1bmRlZmluZWQsXG4gIHN0ZXBzOiB1bmRlZmluZWQsXG4gIGVycm9yOiB1bmRlZmluZWRcbn0pO1xudmFyIGNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUgPSAvKiNfX1BVUkVfXyovY3JlYXRlTWFjaGluZSh7XG4gIHNjaGVtYTogY29uZmlndXJhdG9yTG9hZGVyTWFjaGluZVNjaGVtYSxcbiAgaWQ6ICdjb25maWd1cmF0b3InLFxuICBpbml0aWFsOiAnbG9hZGluZycsXG4gIGNvbnRleHQ6IGNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmVNb2RlbC5pbml0aWFsQ29udGV4dCxcbiAgc3RhdGVzOiB7XG4gICAgbG9hZGluZzoge1xuICAgICAgaW52b2tlOiB7XG4gICAgICAgIGlkOiAnZmV0Y2hDb25maWd1cmF0b3InLFxuICAgICAgICBzcmM6ICdmZXRjaENvbmZpZ3VyYXRvcicsXG4gICAgICAgIG9uRG9uZToge1xuICAgICAgICAgIHRhcmdldDogJ3N1Y2Nlc3MnLFxuICAgICAgICAgIGFjdGlvbnM6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50LmRhdGE7XG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcjoge1xuICAgICAgICAgIHRhcmdldDogJ2ZhaWx1cmUnLFxuICAgICAgICAgIGFjdGlvbnM6IC8qI19fUFVSRV9fKi9hc3NpZ24oe1xuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBmYWlsdXJlOiB7XG4gICAgICBlbnRyeTogLyojX19QVVJFX18qL2VzY2FsYXRlKGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWVzc2FnZTogY29udGV4dC5lcnJvclxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICB9LFxuICAgIHN1Y2Nlc3M6IHtcbiAgICAgIHR5cGU6ICdmaW5hbCcsXG4gICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKF9yZWYpIHtcbiAgICAgICAgdmFyIENvbmZpZ3VyYXRvciA9IF9yZWYuQ29uZmlndXJhdG9yLFxuICAgICAgICAgICAgc3RlcHMgPSBfcmVmLnN0ZXBzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIENvbmZpZ3VyYXRvcjogQ29uZmlndXJhdG9yLFxuICAgICAgICAgIHN0ZXBzOiBzdGVwc1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG5cbnZhciBjb25maWd1cmF0b3JNYWNoaW5lU2NoZW1hID0ge1xuICBjb250ZXh0OiAvKiNfX1BVUkVfXyovY3JlYXRlU2NoZW1hKClcbn07XG52YXIgY29uZmlndXJhdG9yTWFjaGluZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVNYWNoaW5lKHtcbiAgc2NoZW1hOiBjb25maWd1cmF0b3JNYWNoaW5lU2NoZW1hLFxuICBpZDogJ2NvbmZpZ3VyYXRvcicsXG4gIGluaXRpYWw6ICdjb25maWd1cmluZycsXG4gIGNvbnRleHQ6IHtcbiAgICBjb25uZWN0b3I6IHtcbiAgICAgIGlkOiAnc29tZXRoaW5nJyxcbiAgICAgIG5hbWU6ICdzb21ldGhpbmcnLFxuICAgICAgdmVyc2lvbjogJzAuMScsXG4gICAgICBqc29uX3NjaGVtYToge31cbiAgICB9LFxuICAgIHN0ZXBzOiBbJ29uZScsICd0d28nLCAndGhyZWUnXSxcbiAgICBhY3RpdmVTdGVwOiAwLFxuICAgIGlzQWN0aXZlU3RlcFZhbGlkOiBmYWxzZSxcbiAgICBjb25maWd1cmF0aW9uOiB1bmRlZmluZWRcbiAgfSxcbiAgc3RhdGVzOiB7XG4gICAgY29uZmlndXJpbmc6IHtcbiAgICAgIGVudHJ5OiAvKiNfX1BVUkVfXyovc2VuZFBhcmVudCQxKCdpc0ludmFsaWQnKSxcbiAgICAgIGFsd2F5czogW3tcbiAgICAgICAgdGFyZ2V0OiAndmFsaWQnLFxuICAgICAgICBjb25kOiAnYWN0aXZlU3RlcFZhbGlkJ1xuICAgICAgfV1cbiAgICB9LFxuICAgIHZhbGlkOiB7XG4gICAgICBpZDogJ3ZhbGlkJyxcbiAgICAgIGluaXRpYWw6ICdkZXRlcm1pbmVTdGVwJyxcbiAgICAgIGVudHJ5OiAvKiNfX1BVUkVfXyovc2VuZFBhcmVudCQxKCdpc1ZhbGlkJyksXG4gICAgICBzdGF0ZXM6IHtcbiAgICAgICAgZGV0ZXJtaW5lU3RlcDoge1xuICAgICAgICAgIGFsd2F5czogW3tcbiAgICAgICAgICAgIHRhcmdldDogJyN2YWxpZC5sYXN0U3RlcCcsXG4gICAgICAgICAgICBjb25kOiAnaXNMYXN0U3RlcCdcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICB0YXJnZXQ6ICcjdmFsaWQuaGFzTmV4dFN0ZXAnXG4gICAgICAgICAgfV1cbiAgICAgICAgfSxcbiAgICAgICAgaGFzTmV4dFN0ZXA6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgbmV4dDoge1xuICAgICAgICAgICAgICB0YXJnZXQ6ICcjY29uZmlndXJhdG9yLmNvbmZpZ3VyaW5nJyxcbiAgICAgICAgICAgICAgYWN0aW9uczogWyduZXh0U3RlcCcsICdjaGFuZ2VkU3RlcCddXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBsYXN0U3RlcDoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBuZXh0OiAnI2NvbmZpZ3VyYXRvci5jb25maWd1cmVkJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgY29uZmlndXJlZDoge1xuICAgICAgdHlwZTogJ2ZpbmFsJyxcbiAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoX3JlZjIpIHtcbiAgICAgICAgdmFyIGNvbmZpZ3VyYXRpb24gPSBfcmVmMi5jb25maWd1cmF0aW9uO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNvbmZpZ3VyYXRpb246IGNvbmZpZ3VyYXRpb25cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG9uOiB7XG4gICAgY2hhbmdlOiB7XG4gICAgICB0YXJnZXQ6ICdjb25maWd1cmluZycsXG4gICAgICBhY3Rpb25zOiAnY2hhbmdlJ1xuICAgIH0sXG4gICAgcHJldjoge1xuICAgICAgdGFyZ2V0OiAnY29uZmlndXJpbmcnLFxuICAgICAgYWN0aW9uczogWydwcmV2U3RlcCcsICdjaGFuZ2VkU3RlcCddXG4gICAgfVxuICB9XG59LCB7XG4gIGFjdGlvbnM6IHtcbiAgICBuZXh0U3RlcDogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYWN0aXZlU3RlcDogTWF0aC5taW4oY29udGV4dC5hY3RpdmVTdGVwICsgMSwgY29udGV4dC5zdGVwcy5sZW5ndGggLSAxKSxcbiAgICAgICAgaXNBY3RpdmVTdGVwVmFsaWQ6IGZhbHNlXG4gICAgICB9O1xuICAgIH0pLFxuICAgIHByZXZTdGVwOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhY3RpdmVTdGVwOiBNYXRoLm1heChjb250ZXh0LmFjdGl2ZVN0ZXAgLSAxLCAwKSxcbiAgICAgICAgaXNBY3RpdmVTdGVwVmFsaWQ6IGZhbHNlXG4gICAgICB9O1xuICAgIH0pLFxuICAgIGNoYW5nZTogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoXywgZXZlbnQpIHtcbiAgICAgIHJldHVybiBldmVudC50eXBlID09PSAnY2hhbmdlJyA/IHtcbiAgICAgICAgY29uZmlndXJhdGlvbjogZXZlbnQuY29uZmlndXJhdGlvbixcbiAgICAgICAgaXNBY3RpdmVTdGVwVmFsaWQ6IGV2ZW50LmlzVmFsaWRcbiAgICAgIH0gOiB7fTtcbiAgICB9KSxcbiAgICBjaGFuZ2VkU3RlcDogLyojX19QVVJFX18qL3NlbmRQYXJlbnQkMShmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2NoYW5nZWRTdGVwJyxcbiAgICAgICAgc3RlcDogY29udGV4dC5hY3RpdmVTdGVwXG4gICAgICB9O1xuICAgIH0pXG4gIH0sXG4gIGd1YXJkczoge1xuICAgIGlzTGFzdFN0ZXA6IGZ1bmN0aW9uIGlzTGFzdFN0ZXAoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuYWN0aXZlU3RlcCA9PT0gY29udGV4dC5zdGVwcy5sZW5ndGggLSAxO1xuICAgIH0sXG4gICAgYWN0aXZlU3RlcFZhbGlkOiBmdW5jdGlvbiBhY3RpdmVTdGVwVmFsaWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuaXNBY3RpdmVTdGVwVmFsaWQ7XG4gICAgfVxuICB9XG59KTtcblxudmFyIFBBR0lOQVRFRF9NQUNISU5FX0lEJDIgPSAncGFnaW5hdGVkQXBpJztcblxudmFyIGZldGNoQ29ubmVjdG9yVHlwZXMgPSBmdW5jdGlvbiBmZXRjaENvbm5lY3RvclR5cGVzKGFjY2Vzc1Rva2VuLCBiYXNlUGF0aCkge1xuICB2YXIgYXBpc1NlcnZpY2UgPSBuZXcgQ29ubmVjdG9yVHlwZXNBcGkobmV3IENvbmZpZ3VyYXRpb24oe1xuICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICBiYXNlUGF0aDogYmFzZVBhdGhcbiAgfSkpO1xuICByZXR1cm4gZnVuY3Rpb24gKHJlcXVlc3QsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBDYW5jZWxUb2tlbiA9IGF4aW9zLkNhbmNlbFRva2VuO1xuICAgIHZhciBzb3VyY2UgPSBDYW5jZWxUb2tlbi5zb3VyY2UoKTtcbiAgICB2YXIgcGFnZSA9IHJlcXVlc3QucGFnZSxcbiAgICAgICAgc2l6ZSA9IHJlcXVlc3Quc2l6ZSxcbiAgICAgICAgcXVlcnkgPSByZXF1ZXN0LnF1ZXJ5O1xuXG4gICAgdmFyIF9yZWYgPSBxdWVyeSB8fCB7fSxcbiAgICAgICAgbmFtZSA9IF9yZWYubmFtZSxcbiAgICAgICAgX3JlZiRjYXRlZ29yaWVzID0gX3JlZi5jYXRlZ29yaWVzLFxuICAgICAgICBjYXRlZ29yaWVzID0gX3JlZiRjYXRlZ29yaWVzID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkY2F0ZWdvcmllcztcblxuICAgIGFwaXNTZXJ2aWNlLmxpc3RDb25uZWN0b3JUeXBlcygnMScsICcxMDAwJywge1xuICAgICAgY2FuY2VsVG9rZW46IHNvdXJjZS50b2tlblxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICB2YXIgX2ZpbHRlcmVkSXRlbXM7XG5cbiAgICAgIHZhciBsY05hbWUgPSBuYW1lID8gbmFtZS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHJhd0l0ZW1zID0gcmVzcG9uc2UuZGF0YS5pdGVtcztcbiAgICAgIHZhciBmaWx0ZXJlZEl0ZW1zID0gbGNOYW1lID8gcmF3SXRlbXMgPT0gbnVsbCA/IHZvaWQgMCA6IHJhd0l0ZW1zLmZpbHRlcihmdW5jdGlvbiAoYykge1xuICAgICAgICByZXR1cm4gYy5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobGNOYW1lKTtcbiAgICAgIH0pIDogcmF3SXRlbXM7XG4gICAgICBmaWx0ZXJlZEl0ZW1zID0gY2F0ZWdvcmllcy5sZW5ndGggPiAwID8gKF9maWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9maWx0ZXJlZEl0ZW1zLmZpbHRlcihmdW5jdGlvbiAoYykge1xuICAgICAgICB2YXIgX2MkbGFiZWxzO1xuXG4gICAgICAgIHJldHVybiAoKChfYyRsYWJlbHMgPSBjLmxhYmVscykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jJGxhYmVscy5maWx0ZXIoZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgICByZXR1cm4gY2F0ZWdvcmllcy5pbmNsdWRlcyhsKTtcbiAgICAgICAgfSkpIHx8IFtdKS5sZW5ndGggPiAwO1xuICAgICAgfSkgOiBmaWx0ZXJlZEl0ZW1zO1xuICAgICAgdmFyIHRvdGFsID0gZmlsdGVyZWRJdGVtcy5sZW5ndGg7XG4gICAgICB2YXIgb2Zmc2V0ID0gKHBhZ2UgLSAxKSAqIHNpemU7XG4gICAgICB2YXIgaXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgc2l6ZSk7XG4gICAgICBvblN1Y2Nlc3Moe1xuICAgICAgICBpdGVtczogaXRlbXMsXG4gICAgICAgIHRvdGFsOiB0b3RhbCxcbiAgICAgICAgcGFnZTogcGFnZSxcbiAgICAgICAgc2l6ZTogc2l6ZVxuICAgICAgfSk7XG4gICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIGlmICghYXhpb3MuaXNDYW5jZWwoZXJyb3IpKSB7XG4gICAgICAgIG9uRXJyb3Ioe1xuICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgIHBhZ2U6IHJlcXVlc3QucGFnZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgc291cmNlLmNhbmNlbCgnT3BlcmF0aW9uIGNhbmNlbGVkIGJ5IHRoZSB1c2VyLicpO1xuICAgIH07XG4gIH07XG59O1xuXG52YXIgY29ubmVjdG9yVHlwZXNNYWNoaW5lU2NoZW1hID0ge1xuICBjb250ZXh0OiAvKiNfX1BVUkVfXyovY3JlYXRlU2NoZW1hKClcbn07XG52YXIgY29ubmVjdG9yVHlwZXNNYWNoaW5lTW9kZWwgPSAvKiNfX1BVUkVfXyovY3JlYXRlTW9kZWwoe1xuICBhY2Nlc3NUb2tlbjogZnVuY3Rpb24gYWNjZXNzVG9rZW4oKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgnJyk7XG4gIH0sXG4gIGJhc2VQYXRoOiAnJyxcbiAgcmVzcG9uc2U6IHVuZGVmaW5lZCxcbiAgc2VsZWN0ZWRDb25uZWN0b3I6IHVuZGVmaW5lZCxcbiAgZXJyb3I6IHVuZGVmaW5lZFxufSwge1xuICBldmVudHM6IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7XG4gICAgc2VsZWN0Q29ubmVjdG9yOiBmdW5jdGlvbiBzZWxlY3RDb25uZWN0b3IocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwYXlsb2FkKTtcbiAgICB9LFxuICAgIGRlc2VsZWN0Q29ubmVjdG9yOiBmdW5jdGlvbiBkZXNlbGVjdENvbm5lY3RvcigpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0oKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9LCAvKiNfX1BVUkVfXyovZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50cygpKVxufSk7XG52YXIgY29ubmVjdG9yVHlwZXNNYWNoaW5lID0gLyojX19QVVJFX18qL2NyZWF0ZU1hY2hpbmUoe1xuICBzY2hlbWE6IGNvbm5lY3RvclR5cGVzTWFjaGluZVNjaGVtYSxcbiAgY29udGV4dDogY29ubmVjdG9yVHlwZXNNYWNoaW5lTW9kZWwuaW5pdGlhbENvbnRleHQsXG4gIGlkOiAnY29ubmVjdG9ycycsXG4gIGluaXRpYWw6ICdyb290JyxcbiAgc3RhdGVzOiB7XG4gICAgcm9vdDoge1xuICAgICAgdHlwZTogJ3BhcmFsbGVsJyxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBhcGk6IHtcbiAgICAgICAgICBpbml0aWFsOiAnaWRsZScsXG4gICAgICAgICAgaW52b2tlOiB7XG4gICAgICAgICAgICBpZDogUEFHSU5BVEVEX01BQ0hJTkVfSUQkMixcbiAgICAgICAgICAgIHNyYzogZnVuY3Rpb24gc3JjKGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1ha2VQYWdpbmF0ZWRBcGlNYWNoaW5lKGZldGNoQ29ubmVjdG9yVHlwZXMoY29udGV4dC5hY2Nlc3NUb2tlbiwgY29udGV4dC5iYXNlUGF0aCksIGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3RhdGVzOiB7XG4gICAgICAgICAgICBpZGxlOiB7XG4gICAgICAgICAgICAgIGVudHJ5OiAvKiNfX1BVUkVfXyovc2VuZCQxKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnYXBpLnF1ZXJ5JyxcbiAgICAgICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllczogWydzaW5rJywgJ3NvdXJjZSddXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG86IFBBR0lOQVRFRF9NQUNISU5FX0lEJDJcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgJ2FwaS5yZWFkeSc6ICdyZWFkeSdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlYWR5OiB7fVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb246IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7fSwgLyojX19QVVJFX18qL2dldFBhZ2luYXRlZEFwaU1hY2hpbmVFdmVudHNIYW5kbGVycyhQQUdJTkFURURfTUFDSElORV9JRCQyKSwge1xuICAgICAgICAgICAgJ2FwaS5zdWNjZXNzJzoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiAnc3VjY2VzcydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3Rpb246IHtcbiAgICAgICAgICBpZDogJ3NlbGVjdGlvbicsXG4gICAgICAgICAgaW5pdGlhbDogJ3ZlcmlmeScsXG4gICAgICAgICAgc3RhdGVzOiB7XG4gICAgICAgICAgICB2ZXJpZnk6IHtcbiAgICAgICAgICAgICAgYWx3YXlzOiBbe1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ3NlbGVjdGluZycsXG4gICAgICAgICAgICAgICAgY29uZDogJ25vQ29ubmVjdG9yU2VsZWN0ZWQnXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgICAgICAgICAgY29uZDogJ2Nvbm5lY3RvclNlbGVjdGVkJ1xuICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdGluZzoge1xuICAgICAgICAgICAgICBlbnRyeTogLyojX19QVVJFX18qL3NlbmRQYXJlbnQkMSgnaXNJbnZhbGlkJyksXG4gICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0Q29ubmVjdG9yOiB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zOiAnc2VsZWN0Q29ubmVjdG9yJyxcbiAgICAgICAgICAgICAgICAgIGNvbmQ6IGZ1bmN0aW9uIGNvbmQoXywgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LnNlbGVjdGVkQ29ubmVjdG9yICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmFsaWQ6IHtcbiAgICAgICAgICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50JDEoJ2lzVmFsaWQnKSxcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICBzZWxlY3RDb25uZWN0b3I6IHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zOiAnc2VsZWN0Q29ubmVjdG9yJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVzZWxlY3RDb25uZWN0b3I6IHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zOiAncmVzZXQnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb25maXJtOiB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXQ6ICcjZG9uZScsXG4gICAgICAgICAgICAgICAgICBjb25kOiAnY29ubmVjdG9yU2VsZWN0ZWQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkb25lOiB7XG4gICAgICBpZDogJ2RvbmUnLFxuICAgICAgdHlwZTogJ2ZpbmFsJyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc2VsZWN0ZWRDb25uZWN0b3I6IGZ1bmN0aW9uIHNlbGVjdGVkQ29ubmVjdG9yKGNvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZENvbm5lY3RvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufSwge1xuICBhY3Rpb25zOiB7XG4gICAgc3VjY2VzczogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudHlwZSAhPT0gJ2FwaS5zdWNjZXNzJykgcmV0dXJuIHt9O1xuXG4gICAgICB2YXIgcmVzcG9uc2UgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShldmVudCwgW1widHlwZVwiXSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3BvbnNlOiByZXNwb25zZVxuICAgICAgfTtcbiAgICB9KSxcbiAgICBzZWxlY3RDb25uZWN0b3I6IC8qI19fUFVSRV9fKi9hc3NpZ24oe1xuICAgICAgc2VsZWN0ZWRDb25uZWN0b3I6IGZ1bmN0aW9uIHNlbGVjdGVkQ29ubmVjdG9yKGNvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAnc2VsZWN0Q29ubmVjdG9yJykge1xuICAgICAgICAgIHZhciBfY29udGV4dCRyZXNwb25zZSwgX2NvbnRleHQkcmVzcG9uc2UkaXRlO1xuXG4gICAgICAgICAgcmV0dXJuIChfY29udGV4dCRyZXNwb25zZSA9IGNvbnRleHQucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiAoX2NvbnRleHQkcmVzcG9uc2UkaXRlID0gX2NvbnRleHQkcmVzcG9uc2UuaXRlbXMpID09IG51bGwgPyB2b2lkIDAgOiBfY29udGV4dCRyZXNwb25zZSRpdGUuZmluZChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuIGkuaWQgPT09IGV2ZW50LnNlbGVjdGVkQ29ubmVjdG9yO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3I7XG4gICAgICB9XG4gICAgfSksXG4gICAgcmVzZXQ6IC8qI19fUFVSRV9fKi9hc3NpZ24oe1xuICAgICAgc2VsZWN0ZWRDb25uZWN0b3I6IGZ1bmN0aW9uIHNlbGVjdGVkQ29ubmVjdG9yKGNvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBldmVudC50eXBlID09PSAnZGVzZWxlY3RDb25uZWN0b3InID8gdW5kZWZpbmVkIDogY29udGV4dC5zZWxlY3RlZENvbm5lY3RvcjtcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuICBndWFyZHM6IHtcbiAgICBjb25uZWN0b3JTZWxlY3RlZDogZnVuY3Rpb24gY29ubmVjdG9yU2VsZWN0ZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3IgIT09IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIG5vQ29ubmVjdG9yU2VsZWN0ZWQ6IGZ1bmN0aW9uIG5vQ29ubmVjdG9yU2VsZWN0ZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3IgPT09IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn0pO1xudmFyIHVzZUNvbm5lY3RvclR5cGVzTWFjaGluZUlzUmVhZHkgPSBmdW5jdGlvbiB1c2VDb25uZWN0b3JUeXBlc01hY2hpbmVJc1JlYWR5KGFjdG9yKSB7XG4gIHJldHVybiB1c2VTZWxlY3RvcihhY3RvciwgdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLm1hdGNoZXMoe1xuICAgICAgcm9vdDoge1xuICAgICAgICBhcGk6ICdyZWFkeSdcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW2FjdG9yXSkpO1xufTtcbnZhciB1c2VDb25uZWN0b3JUeXBlc01hY2hpbmUgPSBmdW5jdGlvbiB1c2VDb25uZWN0b3JUeXBlc01hY2hpbmUoYWN0b3IpIHtcbiAgdmFyIGFwaSA9IHVzZVBhZ2luYXRpb24oYWN0b3Iuc3RhdGUuY2hpbGRyZW5bUEFHSU5BVEVEX01BQ0hJTkVfSUQkMl0pO1xuXG4gIHZhciBfdXNlU2VsZWN0b3IgPSB1c2VTZWxlY3RvcihhY3RvciwgdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgdmFyIF9zdGF0ZSRjb250ZXh0JHNlbGVjdDtcblxuICAgIHJldHVybiB7XG4gICAgICBzZWxlY3RlZElkOiAoX3N0YXRlJGNvbnRleHQkc2VsZWN0ID0gc3RhdGUuY29udGV4dC5zZWxlY3RlZENvbm5lY3RvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9zdGF0ZSRjb250ZXh0JHNlbGVjdC5pZFxuICAgIH07XG4gIH0sIFthY3Rvcl0pKSxcbiAgICAgIHNlbGVjdGVkSWQgPSBfdXNlU2VsZWN0b3Iuc2VsZWN0ZWRJZDtcblxuICB2YXIgb25TZWxlY3QgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc2VsZWN0ZWRDb25uZWN0b3IpIHtcbiAgICBhY3Rvci5zZW5kKHtcbiAgICAgIHR5cGU6ICdzZWxlY3RDb25uZWN0b3InLFxuICAgICAgc2VsZWN0ZWRDb25uZWN0b3I6IHNlbGVjdGVkQ29ubmVjdG9yXG4gICAgfSk7XG4gIH0sIFthY3Rvcl0pO1xuICB2YXIgb25RdWVyeSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgYWN0b3Iuc2VuZChfZXh0ZW5kcyh7XG4gICAgICB0eXBlOiAnYXBpLnF1ZXJ5J1xuICAgIH0sIHJlcXVlc3QpKTtcbiAgfSwgW2FjdG9yXSk7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgYXBpLCB7XG4gICAgc2VsZWN0ZWRJZDogc2VsZWN0ZWRJZCxcbiAgICBvblNlbGVjdDogb25TZWxlY3QsXG4gICAgb25RdWVyeTogb25RdWVyeVxuICB9KTtcbn07XG5cbnZhciBQQUdJTkFURURfTUFDSElORV9JRCQzID0gJ3BhZ2luYXRlZEFwaSc7XG5cbnZhciBmZXRjaEthZmthSW5zdGFuY2VzID0gZnVuY3Rpb24gZmV0Y2hLYWZrYUluc3RhbmNlcyhhY2Nlc3NUb2tlbiwgYmFzZVBhdGgpIHtcbiAgLy8gVE9ETzogcmVtb3ZlIGFmdGVyIGRlbW9cbiAgYmFzZVBhdGggPSAnaHR0cHM6Ly9hcGkub3BlbnNoaWZ0LmNvbSc7XG4gIHZhciBhcGlzU2VydmljZSA9IG5ldyBEZWZhdWx0QXBpKG5ldyBDb25maWd1cmF0aW9uKHtcbiAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXG4gICAgYmFzZVBhdGg6IGJhc2VQYXRoXG4gIH0pKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChyZXF1ZXN0LCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgQ2FuY2VsVG9rZW4gPSBheGlvcy5DYW5jZWxUb2tlbjtcbiAgICB2YXIgc291cmNlID0gQ2FuY2VsVG9rZW4uc291cmNlKCk7XG4gICAgdmFyIHBhZ2UgPSByZXF1ZXN0LnBhZ2UsXG4gICAgICAgIHNpemUgPSByZXF1ZXN0LnNpemUsXG4gICAgICAgIHF1ZXJ5ID0gcmVxdWVzdC5xdWVyeTtcblxuICAgIHZhciBfcmVmID0gcXVlcnkgfHwge30sXG4gICAgICAgIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICAgIHN0YXR1c2VzID0gX3JlZi5zdGF0dXNlcyxcbiAgICAgICAgb3duZXIgPSBfcmVmLm93bmVyLFxuICAgICAgICBjbG91ZFByb3ZpZGVycyA9IF9yZWYuY2xvdWRQcm92aWRlcnMsXG4gICAgICAgIHJlZ2lvbnMgPSBfcmVmLnJlZ2lvbnM7XG5cbiAgICB2YXIgbmFtZVNlYXJjaCA9IG5hbWUgJiYgbmFtZS5sZW5ndGggPiAwID8gXCIgbmFtZSBMSUtFIFwiICsgbmFtZSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgb3duZXJTZWFyY2ggPSBvd25lciAmJiBvd25lci5sZW5ndGggPiAwID8gXCIgb3duZXIgTElLRSBcIiArIG93bmVyIDogdW5kZWZpbmVkO1xuICAgIHZhciBzdGF0dXNTZWFyY2ggPSBzdGF0dXNlcyAmJiBzdGF0dXNlcy5sZW5ndGggPiAwID8gc3RhdHVzZXMubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICByZXR1cm4gXCJzdGF0dXMgPSBcIiArIHM7XG4gICAgfSkuam9pbignIE9SICcpIDogdW5kZWZpbmVkO1xuICAgIHZhciBjbG91ZFByb3ZpZGVyU2VhcmNoID0gY2xvdWRQcm92aWRlcnMgJiYgY2xvdWRQcm92aWRlcnMubGVuZ3RoID4gMCA/IGNsb3VkUHJvdmlkZXJzLm1hcChmdW5jdGlvbiAocykge1xuICAgICAgcmV0dXJuIFwiY2xvdWRfcHJvdmlkZXIgPSBcIiArIHM7XG4gICAgfSkuam9pbignIE9SICcpIDogdW5kZWZpbmVkO1xuICAgIHZhciByZWdpb25TZWFyY2ggPSByZWdpb25zICYmIHJlZ2lvbnMubGVuZ3RoID4gMCA/IHJlZ2lvbnMubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICByZXR1cm4gXCJyZWdpb24gPSBcIiArIHM7XG4gICAgfSkuam9pbignIE9SICcpIDogdW5kZWZpbmVkO1xuICAgIHZhciBzZWFyY2ggPSBbbmFtZVNlYXJjaCwgb3duZXJTZWFyY2gsIHN0YXR1c1NlYXJjaCwgY2xvdWRQcm92aWRlclNlYXJjaCwgcmVnaW9uU2VhcmNoXS5maWx0ZXIoQm9vbGVhbikubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICByZXR1cm4gXCIoXCIgKyBzICsgXCIpXCI7XG4gICAgfSkuam9pbignIEFORCAnKTtcbiAgICBhcGlzU2VydmljZS5nZXRLYWZrYXMoXCJcIiArIHBhZ2UsIFwiXCIgKyBzaXplLCB1bmRlZmluZWQsIHNlYXJjaCwge1xuICAgICAgY2FuY2VsVG9rZW46IHNvdXJjZS50b2tlblxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBvblN1Y2Nlc3Moe1xuICAgICAgICBpdGVtczogcmVzcG9uc2UuZGF0YS5pdGVtcyxcbiAgICAgICAgdG90YWw6IHJlc3BvbnNlLmRhdGEudG90YWwsXG4gICAgICAgIHBhZ2U6IHJlc3BvbnNlLmRhdGEucGFnZSxcbiAgICAgICAgc2l6ZTogcmVzcG9uc2UuZGF0YS5zaXplXG4gICAgICB9KTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKCFheGlvcy5pc0NhbmNlbChlcnJvcikpIHtcbiAgICAgICAgb25FcnJvcih7XG4gICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgcGFnZTogcmVxdWVzdC5wYWdlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBzb3VyY2UuY2FuY2VsKCdPcGVyYXRpb24gY2FuY2VsZWQgYnkgdGhlIHVzZXIuJyk7XG4gICAgfTtcbiAgfTtcbn07XG5cbnZhciBrYWZrYXNNYWNoaW5lU2NoZW1hID0ge1xuICBjb250ZXh0OiAvKiNfX1BVUkVfXyovY3JlYXRlU2NoZW1hKClcbn07XG52YXIga2Fma2FzTWFjaGluZU1vZGVsID0gLyojX19QVVJFX18qL2NyZWF0ZU1vZGVsKHtcbiAgYWNjZXNzVG9rZW46IGZ1bmN0aW9uIGFjY2Vzc1Rva2VuKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJycpO1xuICB9LFxuICBiYXNlUGF0aDogJycsXG4gIGluc3RhbmNlczogdW5kZWZpbmVkLFxuICBzZWxlY3RlZEluc3RhbmNlOiB1bmRlZmluZWQsXG4gIGVycm9yOiB1bmRlZmluZWRcbn0sIHtcbiAgZXZlbnRzOiAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe1xuICAgIHNlbGVjdEluc3RhbmNlOiBmdW5jdGlvbiBzZWxlY3RJbnN0YW5jZShwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHBheWxvYWQpO1xuICAgIH0sXG4gICAgZGVzZWxlY3RJbnN0YW5jZTogZnVuY3Rpb24gZGVzZWxlY3RJbnN0YW5jZSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0oKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9LCAvKiNfX1BVUkVfXyovZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50cygpKVxufSk7XG52YXIga2Fma2FzTWFjaGluZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVNYWNoaW5lKHtcbiAgc2NoZW1hOiBrYWZrYXNNYWNoaW5lU2NoZW1hLFxuICBpZDogJ2thZmthcycsXG4gIGluaXRpYWw6ICdyb290JyxcbiAgY29udGV4dDoga2Fma2FzTWFjaGluZU1vZGVsLmluaXRpYWxDb250ZXh0LFxuICBzdGF0ZXM6IHtcbiAgICByb290OiB7XG4gICAgICB0eXBlOiAncGFyYWxsZWwnLFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGFwaToge1xuICAgICAgICAgIGluaXRpYWw6ICdpZGxlJyxcbiAgICAgICAgICBpbnZva2U6IHtcbiAgICAgICAgICAgIGlkOiBQQUdJTkFURURfTUFDSElORV9JRCQzLFxuICAgICAgICAgICAgc3JjOiBmdW5jdGlvbiBzcmMoY29udGV4dCkge1xuICAgICAgICAgICAgICByZXR1cm4gbWFrZVBhZ2luYXRlZEFwaU1hY2hpbmUoZmV0Y2hLYWZrYUluc3RhbmNlcyhjb250ZXh0LmFjY2Vzc1Rva2VuLCBjb250ZXh0LmJhc2VQYXRoKSwgZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdGF0ZXM6IHtcbiAgICAgICAgICAgIGlkbGU6IHtcbiAgICAgICAgICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kJDEoJ2FwaS5xdWVyeScsIHtcbiAgICAgICAgICAgICAgICB0bzogUEFHSU5BVEVEX01BQ0hJTkVfSUQkM1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAnYXBpLnJlYWR5JzogJ3JlYWR5J1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVhZHk6IHt9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbjogLyojX19QVVJFX18qL19leHRlbmRzKHt9LCAvKiNfX1BVUkVfXyovZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50c0hhbmRsZXJzKFBBR0lOQVRFRF9NQUNISU5FX0lEJDMpLCB7XG4gICAgICAgICAgICAnYXBpLnN1Y2Nlc3MnOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6ICdzdWNjZXNzJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdGlvbjoge1xuICAgICAgICAgIGlkOiAnc2VsZWN0aW9uJyxcbiAgICAgICAgICBpbml0aWFsOiAndmVyaWZ5JyxcbiAgICAgICAgICBzdGF0ZXM6IHtcbiAgICAgICAgICAgIHZlcmlmeToge1xuICAgICAgICAgICAgICBhbHdheXM6IFt7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnc2VsZWN0aW5nJyxcbiAgICAgICAgICAgICAgICBjb25kOiAnbm9JbnN0YW5jZVNlbGVjdGVkJ1xuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAndmFsaWQnLFxuICAgICAgICAgICAgICAgIGNvbmQ6ICdpbnN0YW5jZVNlbGVjdGVkJ1xuICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdGluZzoge1xuICAgICAgICAgICAgICBlbnRyeTogLyojX19QVVJFX18qL3NlbmRQYXJlbnQoJ2lzSW52YWxpZCcpLFxuICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgIHNlbGVjdEluc3RhbmNlOiB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zOiAnc2VsZWN0SW5zdGFuY2UnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmFsaWQ6IHtcbiAgICAgICAgICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50KCdpc1ZhbGlkJyksXG4gICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0SW5zdGFuY2U6IHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zOiAnc2VsZWN0SW5zdGFuY2UnLFxuICAgICAgICAgICAgICAgICAgY29uZDogZnVuY3Rpb24gY29uZChfLCBldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuc2VsZWN0ZWRJbnN0YW5jZSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVzZWxlY3RJbnN0YW5jZToge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdyZXNldCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbmZpcm06IHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogJyNkb25lJyxcbiAgICAgICAgICAgICAgICAgIGNvbmQ6ICdpbnN0YW5jZVNlbGVjdGVkJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZG9uZToge1xuICAgICAgaWQ6ICdkb25lJyxcbiAgICAgIHR5cGU6ICdmaW5hbCcsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNlbGVjdGVkSW5zdGFuY2U6IGZ1bmN0aW9uIHNlbGVjdGVkSW5zdGFuY2UoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkSW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn0sIHtcbiAgYWN0aW9uczoge1xuICAgIHN1Y2Nlc3M6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdhcGkuc3VjY2VzcycpIHJldHVybiB7fTtcblxuICAgICAgdmFyIHJlc3BvbnNlID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoZXZlbnQsIFtcInR5cGVcIl0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXNwb25zZTogcmVzcG9uc2VcbiAgICAgIH07XG4gICAgfSksXG4gICAgc2VsZWN0SW5zdGFuY2U6IC8qI19fUFVSRV9fKi9hc3NpZ24oe1xuICAgICAgc2VsZWN0ZWRJbnN0YW5jZTogZnVuY3Rpb24gc2VsZWN0ZWRJbnN0YW5jZShjb250ZXh0LCBldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3NlbGVjdEluc3RhbmNlJykge1xuICAgICAgICAgIHZhciBfY29udGV4dCRyZXNwb25zZSwgX2NvbnRleHQkcmVzcG9uc2UkaXRlO1xuXG4gICAgICAgICAgcmV0dXJuIChfY29udGV4dCRyZXNwb25zZSA9IGNvbnRleHQucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiAoX2NvbnRleHQkcmVzcG9uc2UkaXRlID0gX2NvbnRleHQkcmVzcG9uc2UuaXRlbXMpID09IG51bGwgPyB2b2lkIDAgOiBfY29udGV4dCRyZXNwb25zZSRpdGUuZmluZChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuIGkuaWQgPT09IGV2ZW50LnNlbGVjdGVkSW5zdGFuY2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZEluc3RhbmNlO1xuICAgICAgfVxuICAgIH0pLFxuICAgIHJlc2V0OiAvKiNfX1BVUkVfXyovYXNzaWduKHtcbiAgICAgIHNlbGVjdGVkSW5zdGFuY2U6IGZ1bmN0aW9uIHNlbGVjdGVkSW5zdGFuY2UoY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnR5cGUgPT09ICdkZXNlbGVjdEluc3RhbmNlJyA/IHVuZGVmaW5lZCA6IGNvbnRleHQuc2VsZWN0ZWRJbnN0YW5jZTtcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuICBndWFyZHM6IHtcbiAgICBpbnN0YW5jZVNlbGVjdGVkOiBmdW5jdGlvbiBpbnN0YW5jZVNlbGVjdGVkKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkSW5zdGFuY2UgIT09IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIG5vSW5zdGFuY2VTZWxlY3RlZDogZnVuY3Rpb24gbm9JbnN0YW5jZVNlbGVjdGVkKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkSW5zdGFuY2UgPT09IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn0pO1xudmFyIHVzZUthZmthc01hY2hpbmVJc1JlYWR5ID0gZnVuY3Rpb24gdXNlS2Fma2FzTWFjaGluZUlzUmVhZHkoYWN0b3IpIHtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKGFjdG9yLCB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUubWF0Y2hlcyh7XG4gICAgICByb290OiB7XG4gICAgICAgIGFwaTogJ3JlYWR5J1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbYWN0b3JdKSk7XG59O1xudmFyIHVzZUthZmthc01hY2hpbmUgPSBmdW5jdGlvbiB1c2VLYWZrYXNNYWNoaW5lKGFjdG9yKSB7XG4gIHZhciBhcGkgPSB1c2VQYWdpbmF0aW9uKGFjdG9yLnN0YXRlLmNoaWxkcmVuW1BBR0lOQVRFRF9NQUNISU5FX0lEJDNdKTtcblxuICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoYWN0b3IsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHZhciBfc3RhdGUkY29udGV4dCRzZWxlY3Q7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc2VsZWN0ZWRJZDogKF9zdGF0ZSRjb250ZXh0JHNlbGVjdCA9IHN0YXRlLmNvbnRleHQuc2VsZWN0ZWRJbnN0YW5jZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zdGF0ZSRjb250ZXh0JHNlbGVjdC5pZFxuICAgIH07XG4gIH0sIFthY3Rvcl0pKSxcbiAgICAgIHNlbGVjdGVkSWQgPSBfdXNlU2VsZWN0b3Iuc2VsZWN0ZWRJZDtcblxuICB2YXIgb25TZWxlY3QgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc2VsZWN0ZWRJbnN0YW5jZSkge1xuICAgIGFjdG9yLnNlbmQoe1xuICAgICAgdHlwZTogJ3NlbGVjdEluc3RhbmNlJyxcbiAgICAgIHNlbGVjdGVkSW5zdGFuY2U6IHNlbGVjdGVkSW5zdGFuY2VcbiAgICB9KTtcbiAgfSwgW2FjdG9yXSk7XG4gIHZhciBvblF1ZXJ5ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICBhY3Rvci5zZW5kKF9leHRlbmRzKHtcbiAgICAgIHR5cGU6ICdhcGkucXVlcnknXG4gICAgfSwgcmVxdWVzdCkpO1xuICB9LCBbYWN0b3JdKTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBhcGksIHtcbiAgICBzZWxlY3RlZElkOiBzZWxlY3RlZElkLFxuICAgIG9uU2VsZWN0OiBvblNlbGVjdCxcbiAgICBvblF1ZXJ5OiBvblF1ZXJ5XG4gIH0pO1xufTtcblxudmFyIHNhdmVDb25uZWN0b3IgPSBmdW5jdGlvbiBzYXZlQ29ubmVjdG9yKF9yZWYpIHtcbiAgdmFyIGFjY2Vzc1Rva2VuID0gX3JlZi5hY2Nlc3NUb2tlbixcbiAgICAgIGJhc2VQYXRoID0gX3JlZi5iYXNlUGF0aCxcbiAgICAgIGthZmthID0gX3JlZi5rYWZrYSxcbiAgICAgIGNsdXN0ZXIgPSBfcmVmLmNsdXN0ZXIsXG4gICAgICBjb25uZWN0b3JUeXBlID0gX3JlZi5jb25uZWN0b3JUeXBlLFxuICAgICAgY29uZmlndXJhdGlvbiA9IF9yZWYuY29uZmlndXJhdGlvbixcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICB1c2VyU2VydmljZUFjY291bnQgPSBfcmVmLnVzZXJTZXJ2aWNlQWNjb3VudDtcbiAgdmFyIGFwaXNTZXJ2aWNlID0gbmV3IENvbm5lY3RvcnNBcGkobmV3IENvbmZpZ3VyYXRpb24oe1xuICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICBiYXNlUGF0aDogYmFzZVBhdGhcbiAgfSkpO1xuICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIENhbmNlbFRva2VuID0gYXhpb3MuQ2FuY2VsVG9rZW47XG4gICAgdmFyIHNvdXJjZSA9IENhbmNlbFRva2VuLnNvdXJjZSgpO1xuICAgIHZhciBhc3luYyA9IHRydWU7XG4gICAgdmFyIGNvbm5lY3RvciA9IHtcbiAgICAgIGtpbmQ6ICdDb25uZWN0b3InLFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAga2Fma2FfaWQ6IGthZmthLmlkXG4gICAgICB9LFxuICAgICAgZGVwbG95bWVudF9sb2NhdGlvbjoge1xuICAgICAgICBraW5kOiAnYWRkb24nLFxuICAgICAgICBjbHVzdGVyX2lkOiBjbHVzdGVyLmlkXG4gICAgICB9LFxuICAgICAgY29ubmVjdG9yX3R5cGVfaWQ6IGNvbm5lY3RvclR5cGUuaWQsXG4gICAgICBrYWZrYToge1xuICAgICAgICBib290c3RyYXBfc2VydmVyOiBrYWZrYS5ib290c3RyYXBfc2VydmVyX2hvc3QgfHwgJ2RlbW8nLFxuICAgICAgICBjbGllbnRfaWQ6IHVzZXJTZXJ2aWNlQWNjb3VudCA9PSBudWxsID8gdm9pZCAwIDogdXNlclNlcnZpY2VBY2NvdW50LmNsaWVudElkLFxuICAgICAgICBjbGllbnRfc2VjcmV0OiB1c2VyU2VydmljZUFjY291bnQgPT0gbnVsbCA/IHZvaWQgMCA6IHVzZXJTZXJ2aWNlQWNjb3VudC5jbGllbnRTZWNyZXRcbiAgICAgIH0sXG4gICAgICBjb25uZWN0b3Jfc3BlYzogY29uZmlndXJhdGlvblxuICAgIH07XG4gICAgYXBpc1NlcnZpY2UuY3JlYXRlQ29ubmVjdG9yKGFzeW5jLCBjb25uZWN0b3IsIHtcbiAgICAgIGNhbmNlbFRva2VuOiBzb3VyY2UudG9rZW5cbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnXG4gICAgICB9KTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKCFheGlvcy5pc0NhbmNlbChlcnJvcikpIHtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgIHR5cGU6ICdmYWlsdXJlJyxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvci5yZXNwb25zZS5kYXRhLnJlYXNvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgc291cmNlLmNhbmNlbCgnT3BlcmF0aW9uIGNhbmNlbGVkIGJ5IHRoZSB1c2VyLicpO1xuICAgIH07XG4gIH07XG59O1xuXG52YXIgcmV2aWV3TWFjaGluZVNjaGVtYSA9IHtcbiAgY29udGV4dDogLyojX19QVVJFX18qL2NyZWF0ZVNjaGVtYSgpXG59O1xudmFyIHJldmlld01hY2hpbmVNb2RlbCA9IC8qI19fUFVSRV9fKi9jcmVhdGVNb2RlbCh7XG4gIGluaXRpYWxDb25maWd1cmF0aW9uOiB1bmRlZmluZWQsXG4gIGNvbmZpZ1N0cmluZzogJycsXG4gIG5hbWU6ICcnLFxuICB2YWxpZGF0b3I6IC8qI19fUFVSRV9fKi9jcmVhdGVWYWxpZGF0b3Ioe30pXG59LCB7XG4gIGV2ZW50czoge1xuICAgIHNldE5hbWU6IGZ1bmN0aW9uIHNldE5hbWUocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSxcbiAgICBzZXRTZXJ2aWNlQWNjb3VudDogZnVuY3Rpb24gc2V0U2VydmljZUFjY291bnQocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSxcbiAgICB1cGRhdGVDb25maWd1cmF0aW9uOiBmdW5jdGlvbiB1cGRhdGVDb25maWd1cmF0aW9uKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0sXG4gICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBmYWlsdXJlOiBmdW5jdGlvbiBmYWlsdXJlKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH1cbiAgfVxufSk7XG52YXIgcmV2aWV3TWFjaGluZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVNYWNoaW5lKHtcbiAgc2NoZW1hOiByZXZpZXdNYWNoaW5lU2NoZW1hLFxuICBpZDogJ3JldmlldycsXG4gIGluaXRpYWw6ICd2ZXJpZnknLFxuICBjb250ZXh0OiByZXZpZXdNYWNoaW5lTW9kZWwuaW5pdGlhbENvbnRleHQsXG4gIGVudHJ5OiAnaW5pdGlhbGl6ZScsXG4gIHN0YXRlczoge1xuICAgIHZlcmlmeToge1xuICAgICAgZW50cnk6ICd2ZXJpZnlDb25maWdTdHJpbmcnLFxuICAgICAgYWx3YXlzOiBbe1xuICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgIGNvbmQ6ICdpc0FsbENvbmZpZ3VyZWQnXG4gICAgICB9LCB7XG4gICAgICAgIHRhcmdldDogJ3Jldmlld2luZydcbiAgICAgIH1dXG4gICAgfSxcbiAgICByZXZpZXdpbmc6IHtcbiAgICAgIGVudHJ5OiAvKiNfX1BVUkVfXyovc2VuZFBhcmVudCQxKCdpc0ludmFsaWQnKSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHNldE5hbWU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgIGFjdGlvbnM6ICdzZXROYW1lJ1xuICAgICAgICB9LFxuICAgICAgICBzZXRTZXJ2aWNlQWNjb3VudDoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogJ3NldFNlcnZpY2VBY2NvdW50J1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVDb25maWd1cmF0aW9uOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiAndXBkYXRlQ29uZmlndXJhdGlvbidcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgdmFsaWQ6IHtcbiAgICAgIGlkOiAndmFsaWQnLFxuICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50JDEoJ2lzVmFsaWQnKSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHNldE5hbWU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgIGFjdGlvbnM6ICdzZXROYW1lJ1xuICAgICAgICB9LFxuICAgICAgICBzZXRTZXJ2aWNlQWNjb3VudDoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogJ3NldFNlcnZpY2VBY2NvdW50J1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVDb25maWd1cmF0aW9uOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiAndXBkYXRlQ29uZmlndXJhdGlvbidcbiAgICAgICAgfSxcbiAgICAgICAgc2F2ZTogJ3NhdmluZydcbiAgICAgIH1cbiAgICB9LFxuICAgIHNhdmluZzoge1xuICAgICAgaW52b2tlOiB7XG4gICAgICAgIHNyYzogZnVuY3Rpb24gc3JjKGNvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm4gc2F2ZUNvbm5lY3Rvcih7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY29udGV4dC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VQYXRoOiBjb250ZXh0LmJhc2VQYXRoLFxuICAgICAgICAgICAga2Fma2E6IGNvbnRleHQua2Fma2EsXG4gICAgICAgICAgICBjbHVzdGVyOiBjb250ZXh0LmNsdXN0ZXIsXG4gICAgICAgICAgICBjb25uZWN0b3JUeXBlOiBjb250ZXh0LmNvbm5lY3RvclR5cGUsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uOiBKU09OLnBhcnNlKGNvbnRleHQuY29uZmlnU3RyaW5nKSxcbiAgICAgICAgICAgIG5hbWU6IGNvbnRleHQubmFtZSxcbiAgICAgICAgICAgIHVzZXJTZXJ2aWNlQWNjb3VudDogY29udGV4dC51c2VyU2VydmljZUFjY291bnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHN1Y2Nlc3M6ICdzYXZlZCcsXG4gICAgICAgIGZhaWx1cmU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgICAgYWN0aW9uczogJ3NldFNhdmluZ0Vycm9yJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGFnczogWydzYXZpbmcnXVxuICAgIH0sXG4gICAgc2F2ZWQ6IHtcbiAgICAgIHR5cGU6ICdmaW5hbCdcbiAgICB9XG4gIH1cbn0sIHtcbiAgYWN0aW9uczoge1xuICAgIGluaXRpYWxpemU6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbmZpZ1N0cmluZzogZGF0YVRvUHJldHR5U3RyaW5nKGNvbnRleHQuaW5pdGlhbENvbmZpZ3VyYXRpb24pLFxuICAgICAgICB2YWxpZGF0b3I6IGNyZWF0ZVZhbGlkYXRvcihjb250ZXh0LmNvbm5lY3RvclR5cGUuanNvbl9zY2hlbWEpXG4gICAgICB9O1xuICAgIH0pLFxuICAgIHNldE5hbWU6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF8sIGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQudHlwZSA9PT0gJ3NldE5hbWUnID8ge1xuICAgICAgICBuYW1lOiBldmVudC5uYW1lXG4gICAgICB9IDoge307XG4gICAgfSksXG4gICAgc2V0U2VydmljZUFjY291bnQ6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF8sIGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQudHlwZSA9PT0gJ3NldFNlcnZpY2VBY2NvdW50JyA/IHtcbiAgICAgICAgdXNlclNlcnZpY2VBY2NvdW50OiBldmVudC5zZXJ2aWNlQWNjb3VudFxuICAgICAgfSA6IHt9O1xuICAgIH0pLFxuICAgIHVwZGF0ZUNvbmZpZ3VyYXRpb246IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF8sIGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQudHlwZSA9PT0gJ3VwZGF0ZUNvbmZpZ3VyYXRpb24nID8ge1xuICAgICAgICBjb25maWdTdHJpbmc6IGV2ZW50LmRhdGFcbiAgICAgIH0gOiB7fTtcbiAgICB9KSxcbiAgICB2ZXJpZnlDb25maWdTdHJpbmc6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIHZhciBfdmVyaWZ5RGF0YSA9IHZlcmlmeURhdGEoY29udGV4dC5jb25maWdTdHJpbmcsIGNvbnRleHQudmFsaWRhdG9yKSxcbiAgICAgICAgICB3YXJuaW5ncyA9IF92ZXJpZnlEYXRhLndhcm5pbmdzLFxuICAgICAgICAgIGVycm9yID0gX3ZlcmlmeURhdGEuZXJyb3I7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbmZpZ1N0cmluZ1dhcm5pbmdzOiB3YXJuaW5ncyxcbiAgICAgICAgY29uZmlnU3RyaW5nRXJyb3I6IGVycm9yXG4gICAgICB9O1xuICAgIH0pLFxuICAgIHNldFNhdmluZ0Vycm9yOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfLCBldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdmYWlsdXJlJykgcmV0dXJuIHt9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2F2aW5nRXJyb3I6IGV2ZW50Lm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfSlcbiAgfSxcbiAgZ3VhcmRzOiB7XG4gICAgaXNBbGxDb25maWd1cmVkOiBmdW5jdGlvbiBpc0FsbENvbmZpZ3VyZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuY29uZmlnU3RyaW5nICE9PSB1bmRlZmluZWQgJiYgY29udGV4dC5jb25maWdTdHJpbmdFcnJvciA9PT0gdW5kZWZpbmVkICYmIGNvbnRleHQubmFtZS5sZW5ndGggPiAwO1xuICAgIH1cbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGRhdGFUb1ByZXR0eVN0cmluZyhkYXRhKSB7XG4gIHZhciBkYXRhVmFsID0gZGF0YSBpbnN0YW5jZW9mIE1hcCA/IG1hcFRvT2JqZWN0KGRhdGEpIDogZGF0YTtcblxuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhVmFsLCBudWxsLCAyKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXBUb09iamVjdChpbnB1dE1hcCkge1xuICB2YXIgb2JqID0ge307XG4gIGlucHV0TWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gdmVyaWZ5RGF0YShkYXRhLCB2YWxpZGF0b3IpIHtcbiAgdHJ5IHtcbiAgICB2YXIgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgdmFyIHZhbGlkYXRpb25SZXN1bHQgPSB2YWxpZGF0b3IocGFyc2VkRGF0YSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdhcm5pbmdzOiB2YWxpZGF0aW9uUmVzdWx0ID8gdmFsaWRhdGlvblJlc3VsdC5kZXRhaWxzLm1hcChmdW5jdGlvbiAoZCkge1xuICAgICAgICByZXR1cm4gZC5pbnN0YW5jZVBhdGggKyBcIiBcIiArIGQubWVzc2FnZTtcbiAgICAgIH0pIDogdW5kZWZpbmVkLFxuICAgICAgZXJyb3I6IHVuZGVmaW5lZFxuICAgIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2FybmluZ3M6IHVuZGVmaW5lZCxcbiAgICAgIGVycm9yOiBcIkludmFsaWQgSlNPTjogXCIgKyBlLm1lc3NhZ2VcbiAgICB9O1xuICB9XG59XG5cbnZhciB1c2VSZXZpZXdNYWNoaW5lID0gZnVuY3Rpb24gdXNlUmV2aWV3TWFjaGluZShhY3Rvcikge1xuICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoYWN0b3IsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBzdGF0ZS5jb250ZXh0Lm5hbWUsXG4gICAgICBzZXJ2aWNlQWNjb3VudDogc3RhdGUuY29udGV4dC51c2VyU2VydmljZUFjY291bnQsXG4gICAgICBjb25maWdTdHJpbmc6IHN0YXRlLmNvbnRleHQuY29uZmlnU3RyaW5nLFxuICAgICAgY29uZmlnU3RyaW5nRXJyb3I6IHN0YXRlLmNvbnRleHQuY29uZmlnU3RyaW5nRXJyb3IsXG4gICAgICBjb25maWdTdHJpbmdXYXJuaW5nczogc3RhdGUuY29udGV4dC5jb25maWdTdHJpbmdXYXJuaW5ncyxcbiAgICAgIGlzU2F2aW5nOiBzdGF0ZS5oYXNUYWcoJ3NhdmluZycpLFxuICAgICAgc2F2aW5nRXJyb3I6IHN0YXRlLmNvbnRleHQuc2F2aW5nRXJyb3JcbiAgICB9O1xuICB9LCBbYWN0b3JdKSksXG4gICAgICBuYW1lID0gX3VzZVNlbGVjdG9yLm5hbWUsXG4gICAgICBzZXJ2aWNlQWNjb3VudCA9IF91c2VTZWxlY3Rvci5zZXJ2aWNlQWNjb3VudCxcbiAgICAgIGNvbmZpZ1N0cmluZyA9IF91c2VTZWxlY3Rvci5jb25maWdTdHJpbmcsXG4gICAgICBjb25maWdTdHJpbmdFcnJvciA9IF91c2VTZWxlY3Rvci5jb25maWdTdHJpbmdFcnJvcixcbiAgICAgIGNvbmZpZ1N0cmluZ1dhcm5pbmdzID0gX3VzZVNlbGVjdG9yLmNvbmZpZ1N0cmluZ1dhcm5pbmdzLFxuICAgICAgaXNTYXZpbmcgPSBfdXNlU2VsZWN0b3IuaXNTYXZpbmcsXG4gICAgICBzYXZpbmdFcnJvciA9IF91c2VTZWxlY3Rvci5zYXZpbmdFcnJvcjtcblxuICB2YXIgb25TZXROYW1lID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBhY3Rvci5zZW5kKHtcbiAgICAgIHR5cGU6ICdzZXROYW1lJyxcbiAgICAgIG5hbWU6IG5hbWVcbiAgICB9KTtcbiAgfSwgW2FjdG9yXSk7XG4gIHZhciBvblNldFNlcnZpY2VBY2NvdW50ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHNlcnZpY2VBY2NvdW50KSB7XG4gICAgYWN0b3Iuc2VuZCh7XG4gICAgICB0eXBlOiAnc2V0U2VydmljZUFjY291bnQnLFxuICAgICAgc2VydmljZUFjY291bnQ6IHNlcnZpY2VBY2NvdW50XG4gICAgfSk7XG4gIH0sIFthY3Rvcl0pO1xuICB2YXIgb25VcGRhdGVDb25maWd1cmF0aW9uID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBhY3Rvci5zZW5kKHtcbiAgICAgIHR5cGU6ICd1cGRhdGVDb25maWd1cmF0aW9uJyxcbiAgICAgIGRhdGE6IGRhdGEgfHwgJydcbiAgICB9KTtcbiAgfSwgW2FjdG9yXSk7XG4gIHJldHVybiB7XG4gICAgbmFtZTogbmFtZSxcbiAgICBzZXJ2aWNlQWNjb3VudDogc2VydmljZUFjY291bnQsXG4gICAgY29uZmlnU3RyaW5nOiBjb25maWdTdHJpbmcsXG4gICAgY29uZmlnU3RyaW5nRXJyb3I6IGNvbmZpZ1N0cmluZ0Vycm9yLFxuICAgIGNvbmZpZ1N0cmluZ1dhcm5pbmdzOiBjb25maWdTdHJpbmdXYXJuaW5ncyxcbiAgICBpc1NhdmluZzogaXNTYXZpbmcsXG4gICAgc2F2aW5nRXJyb3I6IHNhdmluZ0Vycm9yLFxuICAgIG9uU2V0TmFtZTogb25TZXROYW1lLFxuICAgIG9uU2V0U2VydmljZUFjY291bnQ6IG9uU2V0U2VydmljZUFjY291bnQsXG4gICAgb25VcGRhdGVDb25maWd1cmF0aW9uOiBvblVwZGF0ZUNvbmZpZ3VyYXRpb25cbiAgfTtcbn07XG5cbnZhciBjcmVhdGlvbldpemFyZE1hY2hpbmVTY2hlbWEgPSB7XG4gIGNvbnRleHQ6IC8qI19fUFVSRV9fKi9jcmVhdGVTY2hlbWEoKVxufTtcbnZhciBjcmVhdGlvbldpemFyZE1hY2hpbmVNb2RlbCA9IC8qI19fUFVSRV9fKi9jcmVhdGVNb2RlbCh7fSwge1xuICBldmVudHM6IHtcbiAgICBpc1ZhbGlkOiBmdW5jdGlvbiBpc1ZhbGlkKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgaXNJbnZhbGlkOiBmdW5jdGlvbiBpc0ludmFsaWQoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBwcmV2OiBmdW5jdGlvbiBwcmV2KCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGNoYW5nZWRTdGVwOiBmdW5jdGlvbiBjaGFuZ2VkU3RlcChfcmVmKSB7XG4gICAgICB2YXIgc3RlcCA9IF9yZWYuc3RlcDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0ZXA6IHN0ZXBcbiAgICAgIH07XG4gICAgfSxcbiAgICBqdW1wVG9TZWxlY3RLYWZrYTogZnVuY3Rpb24ganVtcFRvU2VsZWN0S2Fma2EoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBqdW1wVG9TZWxlY3RDbHVzdGVyOiBmdW5jdGlvbiBqdW1wVG9TZWxlY3RDbHVzdGVyKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAganVtcFRvU2VsZWN0Q29ubmVjdG9yOiBmdW5jdGlvbiBqdW1wVG9TZWxlY3RDb25uZWN0b3IoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBqdW1wVG9Db25maWd1cmVDb25uZWN0b3I6IGZ1bmN0aW9uIGp1bXBUb0NvbmZpZ3VyZUNvbm5lY3RvcihfcmVmMikge1xuICAgICAgdmFyIHN1YlN0ZXAgPSBfcmVmMi5zdWJTdGVwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3ViU3RlcDogc3ViU3RlcFxuICAgICAgfTtcbiAgICB9LFxuICAgIGp1bXBUb1Jldmlld0NvbmZpZ3VyYXRpb246IGZ1bmN0aW9uIGp1bXBUb1Jldmlld0NvbmZpZ3VyYXRpb24oKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XG59KTtcbnZhciBjcmVhdGlvbldpemFyZE1hY2hpbmUgPSAvKiNfX1BVUkVfXyovY3JlYXRlTWFjaGluZSh7XG4gIHNjaGVtYTogY3JlYXRpb25XaXphcmRNYWNoaW5lU2NoZW1hLFxuICBpZDogJ2NyZWF0aW9uV2l6YXJkJyxcbiAgaW5pdGlhbDogJ3NlbGVjdENvbm5lY3RvcicsXG4gIGNvbnRleHQ6IGNyZWF0aW9uV2l6YXJkTWFjaGluZU1vZGVsLmluaXRpYWxDb250ZXh0LFxuICBzdGF0ZXM6IHtcbiAgICBzZWxlY3RDb25uZWN0b3I6IHtcbiAgICAgIGluaXRpYWw6ICdzZWxlY3RpbmcnLFxuICAgICAgaW52b2tlOiB7XG4gICAgICAgIGlkOiAnc2VsZWN0Q29ubmVjdG9yUmVmJyxcbiAgICAgICAgc3JjOiBjb25uZWN0b3JUeXBlc01hY2hpbmUsXG4gICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY29udGV4dC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VQYXRoOiBjb250ZXh0LmJhc2VQYXRoLFxuICAgICAgICAgICAgc2VsZWN0ZWRDb25uZWN0b3I6IGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3JcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICdzZWxlY3RLYWZrYScsXG4gICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBzZWxlY3RlZENvbm5lY3RvcjogZXZlbnQuZGF0YS5zZWxlY3RlZENvbm5lY3RvcixcbiAgICAgICAgICAgICAgY29ubmVjdG9yQ29uZmlndXJhdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgIGFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwOiAwLFxuICAgICAgICAgICAgICBpc0NvbmZpZ3VyYXRpb25WYWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb25TdGVwczogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcjogJy5lcnJvcidcbiAgICAgIH0sXG4gICAgICBzdGF0ZXM6IHtcbiAgICAgICAgZXJyb3I6IHt9LFxuICAgICAgICBzZWxlY3Rpbmc6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgaXNWYWxpZDogJ3ZhbGlkJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmFsaWQ6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgaXNJbnZhbGlkOiAnc2VsZWN0aW5nJyxcbiAgICAgICAgICAgIG5leHQ6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL3NlbmQkMSgnY29uZmlybScsIHtcbiAgICAgICAgICAgICAgICB0bzogJ3NlbGVjdENvbm5lY3RvclJlZidcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHNlbGVjdEthZmthOiB7XG4gICAgICBpbml0aWFsOiAnc2VsZWN0aW5nJyxcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ3NlbGVjdEthZmthSW5zdGFuY2VSZWYnLFxuICAgICAgICBzcmM6IGthZmthc01hY2hpbmUsXG4gICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY29udGV4dC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VQYXRoOiBjb250ZXh0LmJhc2VQYXRoLFxuICAgICAgICAgICAgc2VsZWN0ZWRJbnN0YW5jZTogY29udGV4dC5zZWxlY3RlZEthZmthSW5zdGFuY2UsXG4gICAgICAgICAgICByZXF1ZXN0OiB7XG4gICAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICAgIHNpemU6IDEwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgdGFyZ2V0OiAnc2VsZWN0Q2x1c3RlcicsXG4gICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbih7XG4gICAgICAgICAgICBzZWxlY3RlZEthZmthSW5zdGFuY2U6IGZ1bmN0aW9uIHNlbGVjdGVkS2Fma2FJbnN0YW5jZShfLCBldmVudCkge1xuICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuZGF0YS5zZWxlY3RlZEluc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIG9uRXJyb3I6ICcuZXJyb3InXG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGVycm9yOiB7fSxcbiAgICAgICAgc2VsZWN0aW5nOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIGlzVmFsaWQ6ICd2YWxpZCdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIGlzSW52YWxpZDogJ3NlbGVjdGluZycsXG4gICAgICAgICAgICBuZXh0OiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IC8qI19fUFVSRV9fKi9zZW5kJDEoJ2NvbmZpcm0nLCB7XG4gICAgICAgICAgICAgICAgdG86ICdzZWxlY3RLYWZrYUluc3RhbmNlUmVmJ1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHByZXY6ICdzZWxlY3RDb25uZWN0b3InXG4gICAgICB9XG4gICAgfSxcbiAgICBzZWxlY3RDbHVzdGVyOiB7XG4gICAgICBpbml0aWFsOiAnc2VsZWN0aW5nJyxcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ3NlbGVjdENsdXN0ZXJSZWYnLFxuICAgICAgICBzcmM6IGNsdXN0ZXJzTWFjaGluZSxcbiAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBjb250ZXh0LmFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgYmFzZVBhdGg6IGNvbnRleHQuYmFzZVBhdGgsXG4gICAgICAgICAgICBzZWxlY3RlZENsdXN0ZXI6IGNvbnRleHQuc2VsZWN0ZWRDbHVzdGVyXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgdGFyZ2V0OiAnY29uZmlndXJlQ29ubmVjdG9yJyxcbiAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovYXNzaWduKHtcbiAgICAgICAgICAgIHNlbGVjdGVkQ2x1c3RlcjogZnVuY3Rpb24gc2VsZWN0ZWRDbHVzdGVyKF8sIGV2ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBldmVudC5kYXRhLnNlbGVjdGVkQ2x1c3RlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiAnLmVycm9yJ1xuICAgICAgfSxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBlcnJvcjoge30sXG4gICAgICAgIHNlbGVjdGluZzoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBpc1ZhbGlkOiAndmFsaWQnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWxpZDoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBpc0ludmFsaWQ6ICdzZWxlY3RpbmcnLFxuICAgICAgICAgICAgbmV4dDoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovc2VuZCQxKCdjb25maXJtJywge1xuICAgICAgICAgICAgICAgIHRvOiAnc2VsZWN0Q2x1c3RlclJlZidcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBwcmV2OiAnc2VsZWN0S2Fma2EnXG4gICAgICB9XG4gICAgfSxcbiAgICBjb25maWd1cmVDb25uZWN0b3I6IHtcbiAgICAgIGluaXRpYWw6ICdsb2FkQ29uZmlndXJhdG9yJyxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBsb2FkQ29uZmlndXJhdG9yOiB7XG4gICAgICAgICAgaW52b2tlOiB7XG4gICAgICAgICAgICBpZDogJ2NvbmZpZ3VyYXRvckxvYWRlcicsXG4gICAgICAgICAgICBzcmM6ICdtYWtlQ29uZmlndXJhdG9yTG9hZGVyTWFjaGluZScsXG4gICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0b3I6IGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3JcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiAnY29uZmlndXJlJyxcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIENvbmZpZ3VyYXRvcjogZXZlbnQuZGF0YS5Db25maWd1cmF0b3IsXG4gICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uU3RlcHM6IGV2ZW50LmRhdGEuc3RlcHNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRXJyb3I6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogZnVuY3Rpb24gYWN0aW9ucyhfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihldmVudC5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb25maWd1cmU6IHtcbiAgICAgICAgICBpZDogJ2NvbmZpZ3VyZScsXG4gICAgICAgICAgaW5pdGlhbDogJ2NvbmZpZ3VyaW5nJyxcbiAgICAgICAgICBpbnZva2U6IHtcbiAgICAgICAgICAgIGlkOiAnY29uZmlndXJhdG9yUmVmJyxcbiAgICAgICAgICAgIHNyYzogY29uZmlndXJhdG9yTWFjaGluZSxcbiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoY29udGV4dCkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNvbm5lY3RvcjogY29udGV4dC5zZWxlY3RlZENvbm5lY3RvcixcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uOiBjb250ZXh0LmNvbm5lY3RvckNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAgICAgc3RlcHM6IGNvbnRleHQuY29uZmlndXJhdGlvblN0ZXBzIHx8IFsnc2luZ2xlIHN0ZXAnXSxcbiAgICAgICAgICAgICAgICBhY3RpdmVTdGVwOiBjb250ZXh0LmFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwIHx8IDAsXG4gICAgICAgICAgICAgICAgaXNBY3RpdmVTdGVwVmFsaWQ6IGNvbnRleHQuY29ubmVjdG9yQ29uZmlndXJhdGlvbiAhPT0gZmFsc2VcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiAnI2NyZWF0aW9uV2l6YXJkLnJldmlld0NvbmZpZ3VyYXRpb24nLFxuICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfLCBldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBjb25uZWN0b3JDb25maWd1cmF0aW9uOiBldmVudC5kYXRhLmNvbmZpZ3VyYXRpb24gfHwgdHJ1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FcnJvcjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBmdW5jdGlvbiBhY3Rpb25zKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGV2ZW50LmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YXRlczoge1xuICAgICAgICAgICAgY29uZmlndXJpbmc6IHtcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICBpc1ZhbGlkOiAndmFsaWQnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2YWxpZDoge1xuICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgIGlzSW52YWxpZDogJ2NvbmZpZ3VyaW5nJyxcbiAgICAgICAgICAgICAgICBuZXh0OiB7XG4gICAgICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovc2VuZCQxKCduZXh0Jywge1xuICAgICAgICAgICAgICAgICAgICB0bzogJ2NvbmZpZ3VyYXRvclJlZidcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgcHJldjogW3tcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL3NlbmQkMSgncHJldicsIHtcbiAgICAgICAgICAgICAgICB0bzogJ2NvbmZpZ3VyYXRvclJlZidcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIGNvbmQ6ICdhcmVUaGVyZVN1YnN0ZXBzJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICB0YXJnZXQ6ICcjY3JlYXRpb25XaXphcmQuc2VsZWN0Q2x1c3RlcidcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgY2hhbmdlZFN0ZXA6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbih7XG4gICAgICAgICAgICAgICAgYWN0aXZlQ29uZmlndXJhdGlvblN0ZXA6IGZ1bmN0aW9uIGFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwKF8sIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuc3RlcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICByZXZpZXdDb25maWd1cmF0aW9uOiB7XG4gICAgICBpZDogJ3JldmlldycsXG4gICAgICBpbml0aWFsOiAncmV2aWV3aW5nJyxcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ3Jldmlld1JlZicsXG4gICAgICAgIHNyYzogcmV2aWV3TWFjaGluZSxcbiAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBjb250ZXh0LmFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgYmFzZVBhdGg6IGNvbnRleHQuYmFzZVBhdGgsXG4gICAgICAgICAgICBrYWZrYTogY29udGV4dC5zZWxlY3RlZEthZmthSW5zdGFuY2UsXG4gICAgICAgICAgICBjbHVzdGVyOiBjb250ZXh0LnNlbGVjdGVkQ2x1c3RlcixcbiAgICAgICAgICAgIGNvbm5lY3RvclR5cGU6IGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3IsXG4gICAgICAgICAgICBpbml0aWFsQ29uZmlndXJhdGlvbjogY29udGV4dC5jb25uZWN0b3JDb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgbmFtZTogJydcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICcjY3JlYXRpb25XaXphcmQuc2F2ZWQnLFxuICAgICAgICAgIGFjdGlvbnM6IFsvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfLCBldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgY29ubmVjdG9yQ29uZmlndXJhdGlvbjogZXZlbnQuZGF0YVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KSwgJ25vdGlmeVNhdmUnXVxuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiB7XG4gICAgICAgICAgYWN0aW9uczogZnVuY3Rpb24gYWN0aW9ucyhfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGV2ZW50LmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIHJldmlld2luZzoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBpc1ZhbGlkOiAndmFsaWQnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWxpZDoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBpc0ludmFsaWQ6ICdyZXZpZXdpbmcnLFxuICAgICAgICAgICAgbmV4dDoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovc2VuZCQxKCdzYXZlJywge1xuICAgICAgICAgICAgICAgIHRvOiAncmV2aWV3UmVmJ1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHByZXY6ICdjb25maWd1cmVDb25uZWN0b3InXG4gICAgICB9XG4gICAgfSxcbiAgICBzYXZlZDoge1xuICAgICAgaWQ6ICdzYXZlZCcsXG4gICAgICB0eXBlOiAnZmluYWwnXG4gICAgfVxuICB9LFxuICBvbjoge1xuICAgIGp1bXBUb1NlbGVjdENvbm5lY3Rvcjoge1xuICAgICAgdGFyZ2V0OiAnc2VsZWN0Q29ubmVjdG9yJ1xuICAgIH0sXG4gICAganVtcFRvU2VsZWN0S2Fma2E6IHtcbiAgICAgIHRhcmdldDogJ3NlbGVjdEthZmthJyxcbiAgICAgIGNvbmQ6ICdpc0Nvbm5lY3RvclNlbGVjdGVkJ1xuICAgIH0sXG4gICAganVtcFRvU2VsZWN0Q2x1c3Rlcjoge1xuICAgICAgdGFyZ2V0OiAnc2VsZWN0Q2x1c3RlcicsXG4gICAgICBjb25kOiAnaXNLYWZrYUluc3RhbmNlU2VsZWN0ZWQnXG4gICAgfSxcbiAgICBqdW1wVG9Db25maWd1cmVDb25uZWN0b3I6IHtcbiAgICAgIHRhcmdldDogJ2NvbmZpZ3VyZUNvbm5lY3RvcicsXG4gICAgICBjb25kOiAnaXNDbHVzdGVyU2VsZWN0ZWQnLFxuICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoXywgZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhY3RpdmVDb25maWd1cmF0aW9uU3RlcDogZXZlbnQuc3ViU3RlcCB8fCAwXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgIH0sXG4gICAganVtcFRvUmV2aWV3Q29uZmlndXJhdGlvbjoge1xuICAgICAgdGFyZ2V0OiAncmV2aWV3Q29uZmlndXJhdGlvbicsXG4gICAgICBjb25kOiAnaXNDb25uZWN0b3JDb25maWd1cmVkJ1xuICAgIH1cbiAgfVxufSwge1xuICBndWFyZHM6IHtcbiAgICBpc0thZmthSW5zdGFuY2VTZWxlY3RlZDogZnVuY3Rpb24gaXNLYWZrYUluc3RhbmNlU2VsZWN0ZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRLYWZrYUluc3RhbmNlICE9PSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBpc0NsdXN0ZXJTZWxlY3RlZDogZnVuY3Rpb24gaXNDbHVzdGVyU2VsZWN0ZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRDbHVzdGVyICE9PSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBpc0Nvbm5lY3RvclNlbGVjdGVkOiBmdW5jdGlvbiBpc0Nvbm5lY3RvclNlbGVjdGVkKGNvbnRleHQsIGV2ZW50KSB7XG4gICAgICB2YXIgc3ViU3RlcCA9IGV2ZW50LnN1YlN0ZXA7XG5cbiAgICAgIGlmIChzdWJTdGVwKSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkQ29ubmVjdG9yICE9PSB1bmRlZmluZWQgJiYgKGNvbnRleHQuY29ubmVjdG9yQ29uZmlndXJhdGlvbiAhPT0gdW5kZWZpbmVkIHx8IHN1YlN0ZXAgPD0gY29udGV4dC5hY3RpdmVDb25maWd1cmF0aW9uU3RlcCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkQ29ubmVjdG9yICE9PSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBpc0Nvbm5lY3RvckNvbmZpZ3VyZWQ6IGZ1bmN0aW9uIGlzQ29ubmVjdG9yQ29uZmlndXJlZChjb250ZXh0KSB7XG4gICAgICBpZiAoIWNvbnRleHQuY29uZmlndXJhdGlvblN0ZXBzKSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmNvbm5lY3RvckNvbmZpZ3VyYXRpb24gIT09IHVuZGVmaW5lZCAmJiBjb250ZXh0LmNvbm5lY3RvckNvbmZpZ3VyYXRpb24gIT09IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGV4dC5jb25uZWN0b3JDb25maWd1cmF0aW9uICE9PSB1bmRlZmluZWQgJiYgY29udGV4dC5jb25uZWN0b3JDb25maWd1cmF0aW9uICE9PSBmYWxzZSB8fCBjb250ZXh0LmFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwID09PSBjb250ZXh0LmNvbmZpZ3VyYXRpb25TdGVwcy5sZW5ndGggLSAxICYmIGNvbnRleHQuaXNDb25maWd1cmF0aW9uVmFsaWQgPT09IHRydWU7XG4gICAgfSxcbiAgICBhcmVUaGVyZVN1YnN0ZXBzOiBmdW5jdGlvbiBhcmVUaGVyZVN1YnN0ZXBzKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwID4gMDtcbiAgICB9XG4gIH0sXG4gIGFjdGlvbnM6IHtcbiAgICBub3RpZnlTYXZlOiBmdW5jdGlvbiBub3RpZnlTYXZlKGNvbnRleHQpIHtcbiAgICAgIGlmIChjb250ZXh0Lm9uU2F2ZSkge1xuICAgICAgICBjb250ZXh0Lm9uU2F2ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgc2VydmljZXM6IHtcbiAgICBtYWtlQ29uZmlndXJhdG9yTG9hZGVyTWFjaGluZTogZnVuY3Rpb24gbWFrZUNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUoKSB7XG4gICAgICByZXR1cm4gY29uZmlndXJhdG9yTG9hZGVyTWFjaGluZTtcbiAgICB9XG4gIH1cbn0pO1xuXG52YXIgQ3JlYXRpb25XaXphcmRNYWNoaW5lU2VydmljZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb250ZXh0KG51bGwpO1xudmFyIENyZWF0aW9uV2l6YXJkTWFjaGluZVByb3ZpZGVyID0gZnVuY3Rpb24gQ3JlYXRpb25XaXphcmRNYWNoaW5lUHJvdmlkZXIoX3JlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgYWNjZXNzVG9rZW4gPSBfcmVmLmFjY2Vzc1Rva2VuLFxuICAgICAgYmFzZVBhdGggPSBfcmVmLmJhc2VQYXRoLFxuICAgICAgX2ZldGNoQ29uZmlndXJhdG9yID0gX3JlZi5mZXRjaENvbmZpZ3VyYXRvcixcbiAgICAgIG9uU2F2ZSA9IF9yZWYub25TYXZlO1xuICB2YXIgbWFrZUNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUud2l0aENvbmZpZyh7XG4gICAgICBzZXJ2aWNlczoge1xuICAgICAgICBmZXRjaENvbmZpZ3VyYXRvcjogZnVuY3Rpb24gZmV0Y2hDb25maWd1cmF0b3IoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBfZmV0Y2hDb25maWd1cmF0b3IoY29udGV4dC5jb25uZWN0b3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtfZmV0Y2hDb25maWd1cmF0b3JdKTtcbiAgdmFyIHNlcnZpY2UgPSB1c2VJbnRlcnByZXQoY3JlYXRpb25XaXphcmRNYWNoaW5lLCB7XG4gICAgZGV2VG9vbHM6IHRydWUsXG4gICAgY29udGV4dDoge1xuICAgICAgYWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuLFxuICAgICAgYmFzZVBhdGg6IGJhc2VQYXRoLFxuICAgICAgb25TYXZlOiBvblNhdmVcbiAgICB9LFxuICAgIHNlcnZpY2VzOiB7XG4gICAgICBtYWtlQ29uZmlndXJhdG9yTG9hZGVyTWFjaGluZTogbWFrZUNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmVcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlLlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHNlcnZpY2VcbiAgfSwgY2hpbGRyZW4pO1xufTtcbnZhciB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlID0gZnVuY3Rpb24gdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lU2VydmljZSgpIHtcbiAgdmFyIHNlcnZpY2UgPSB1c2VDb250ZXh0KENyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UpO1xuXG4gIGlmICghc2VydmljZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKSBtdXN0IGJlIHVzZWQgaW4gYSBjaGlsZCBvZiA8Q3JlYXRpb25XaXphcmRNYWNoaW5lUHJvdmlkZXI+XCIpO1xuICB9XG5cbiAgcmV0dXJuIHNlcnZpY2U7XG59O1xudmFyIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUNvbm5lY3RvclR5cGVzQWN0b3IgPSBmdW5jdGlvbiB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVDb25uZWN0b3JUeXBlc0FjdG9yKCkge1xuICB2YXIgc2VydmljZSA9IHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKTtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKHNlcnZpY2UsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5jaGlsZHJlbi5zZWxlY3RDb25uZWN0b3JSZWY7XG4gIH0sIFtzZXJ2aWNlXSkpO1xufTtcbnZhciB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVLYWZrYXNBY3RvciA9IGZ1bmN0aW9uIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUthZmthc0FjdG9yKCkge1xuICB2YXIgc2VydmljZSA9IHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKTtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKHNlcnZpY2UsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5jaGlsZHJlbi5zZWxlY3RLYWZrYUluc3RhbmNlUmVmO1xuICB9LCBbc2VydmljZV0pKTtcbn07XG52YXIgdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lQ2x1c3RlcnNBY3RvciA9IGZ1bmN0aW9uIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUNsdXN0ZXJzQWN0b3IoKSB7XG4gIHZhciBzZXJ2aWNlID0gdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lU2VydmljZSgpO1xuICByZXR1cm4gdXNlU2VsZWN0b3Ioc2VydmljZSwgdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLmNoaWxkcmVuLnNlbGVjdENsdXN0ZXJSZWY7XG4gIH0sIFtzZXJ2aWNlXSkpO1xufTtcbnZhciB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVSZXZpZXdBY3RvciA9IGZ1bmN0aW9uIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVJldmlld0FjdG9yKCkge1xuICB2YXIgc2VydmljZSA9IHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKTtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKHNlcnZpY2UsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5jaGlsZHJlbi5yZXZpZXdSZWY7XG4gIH0sIFtzZXJ2aWNlXSkpO1xufTtcblxuZXhwb3J0IHsgQ29ubmVjdG9yc01hY2hpbmVQcm92aWRlciwgQ3JlYXRpb25XaXphcmRNYWNoaW5lUHJvdmlkZXIsIFBBR0lOQVRFRF9NQUNISU5FX0lELCBjbHVzdGVyc01hY2hpbmUsIGNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUsIGNvbmZpZ3VyYXRvck1hY2hpbmUsIGNvbm5lY3Rvck1hY2hpbmUsIGNvbm5lY3RvclR5cGVzTWFjaGluZSwgY29ubmVjdG9yc01hY2hpbmUsIGNyZWF0aW9uV2l6YXJkTWFjaGluZSwgZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50cywgZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50c0hhbmRsZXJzLCBrYWZrYXNNYWNoaW5lLCBtYWtlQ29ubmVjdG9yTWFjaGluZSwgbWFrZUZldGNoTWFjaGluZSwgbWFrZVBhZ2luYXRlZEFwaU1hY2hpbmUsIHJldmlld01hY2hpbmUsIHVzZUNsdXN0ZXJzTWFjaGluZSwgdXNlQ2x1c3RlcnNNYWNoaW5lSXNSZWFkeSwgdXNlQ29ubmVjdG9yLCB1c2VDb25uZWN0b3JUeXBlc01hY2hpbmUsIHVzZUNvbm5lY3RvclR5cGVzTWFjaGluZUlzUmVhZHksIHVzZUNvbm5lY3RvcnNNYWNoaW5lLCB1c2VDb25uZWN0b3JzTWFjaGluZUlzUmVhZHksIHVzZUNvbm5lY3RvcnNNYWNoaW5lU2VydmljZSwgdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lQ2x1c3RlcnNBY3RvciwgdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lQ29ubmVjdG9yVHlwZXNBY3RvciwgdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lS2Fma2FzQWN0b3IsIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVJldmlld0FjdG9yLCB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlLCB1c2VLYWZrYXNNYWNoaW5lLCB1c2VLYWZrYXNNYWNoaW5lSXNSZWFkeSwgdXNlUGFnaW5hdGlvbiwgdXNlUmV2aWV3TWFjaGluZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFjaGluZXMuZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///83255\n")},41361:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "EmptyState": () => (/* binding */ EmptyState),\n/* harmony export */   "EmptyStateVariant": () => (/* binding */ EmptyStateVariant),\n/* harmony export */   "Loading": () => (/* binding */ Loading),\n/* harmony export */   "NoMatchFound": () => (/* binding */ NoMatchFound),\n/* harmony export */   "useDebounce": () => (/* binding */ useDebounce)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10791);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(78817);\n/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_plus_circle_icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(21191);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_space_shuttle_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(99717);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_lock_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(41469);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_search_icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(53106);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_exclamation_circle_icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(47442);\n/* harmony import */ var _patternfly_react_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(79419);\n/* harmony import */ var _patternfly_react_styles__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_styles__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(97405);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar NotFoundIcon = "data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20%20viewBox%3D%220%200%20100%20109%22%20style%3D%22enable-background%3Anew%200%200%20100%20109%3B%22%20xml%3Aspace%3D%22preserve%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%20.st0%7Bfill%3Anone%3Bstroke%3A%236A6E73%3Bstroke-linecap%3Around%3Bstroke-linejoin%3Around%3Bstroke-miterlimit%3A10%3Bstroke-dasharray%3A3%2C5%3B%7D%20.st1%7Bfill%3A%23FFFFFF%3Bstroke%3A%236A6E73%3Bstroke-linecap%3Around%3Bstroke-linejoin%3Around%3Bstroke-miterlimit%3A10%3B%7D%20.st2%7Bfill%3A%236A6E73%3B%7D%3C%2Fstyle%3E%3Cpath%20class%3D%22st0%22%20d%3D%22M12.5%2C96.5c3-33%2C17.4-35.8%2C38-24c19.1%2C11%2C36-8.1%2C21-27c-15.4-19.4-8-23-8-23%22%2F%3E%3Cpath%20class%3D%22st1%22%20d%3D%22M13%2C25v50%20M27.8%2C71.8V104%20M27.8%2C15v47.6%20M42.6%2C74v34%20M42.6%2C10v54.2%20M57.4%2C79.2V108%20M57.4%2C32v38%20M72.2%2C77v27%20%20M72.2%2C54.8v9.5%20M72.2%2C29v10.2%20M87%2C25v68%20M56%2C22.5l-40-0.2%20M59.6%2C37.1L5%2C37.1%20M59.6%2C37.1%20M95%2C37.1l-24.1%2C0%20M70.4%2C51.9L1%2C51.9%20%20M70.4%2C51.9%20M80.8%2C51.9%20M99%2C51.9l-18.2%2C0%20M18.6%2C66.6L1%2C66.6%20M70.4%2C66.6l-21.9%2C0%20M99%2C66.6l-17.9%2C0%20M10.5%2C81.4H6%20M95%2C81.4l-75%2C0%20%20M84%2C96.2l-67%2C0%22%2F%3E%3Cg%3E%20%3Cpath%20class%3D%22st2%22%20d%3D%22M81.3%2C15.7c-0.9%2C1.5-2.1%2C2.7-3.6%2C3.6c-1.5%2C0.9-3.2%2C1.3-5%2C1.3s-3.4-0.4-5-1.3c-1.5-0.9-2.7-2.1-3.6-3.6%20%20c-0.9-1.5-1.3-3.2-1.3-5s0.4-3.4%2C1.3-5c0.9-1.5%2C2.1-2.7%2C3.6-3.6c1.5-0.9%2C3.2-1.3%2C5-1.3s3.4%2C0.4%2C5%2C1.3c1.5%2C0.9%2C2.7%2C2.1%2C3.6%2C3.6%20%20c0.9%2C1.5%2C1.3%2C3.2%2C1.3%2C5S82.2%2C14.2%2C81.3%2C15.7z%20M70.3%2C4.8c-0.7%2C0.4-1.4%2C1-1.9%2C1.9c-0.1%2C0.1-0.1%2C0.2-0.1%2C0.3c0%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3%20%20l1.4%2C1c0.1%2C0.1%2C0.2%2C0.1%2C0.3%2C0.1c0.1%2C0%2C0.2-0.1%2C0.3-0.2c0.4-0.5%2C0.8-0.9%2C1-1c0.4-0.3%2C0.8-0.4%2C1.3-0.4c0.5%2C0%2C0.9%2C0.1%2C1.3%2C0.4%20%20c0.4%2C0.3%2C0.6%2C0.6%2C0.6%2C0.9c0%2C0.3-0.1%2C0.5-0.4%2C0.8c-0.2%2C0.1-0.5%2C0.3-0.9%2C0.6l-0.1%2C0c-0.7%2C0.4-1.1%2C0.7-1.4%2C1c-0.5%2C0.5-0.7%2C1.1-0.7%2C1.8%20%20v0.2c0%2C0.1%2C0%2C0.2%2C0.1%2C0.3c0.1%2C0.1%2C0.2%2C0.1%2C0.3%2C0.1h2.2c0.1%2C0%2C0.2%2C0%2C0.3-0.1c0.1-0.1%2C0.1-0.2%2C0.1-0.3v0c0-0.2%2C0.1-0.4%2C0.3-0.6%20%20c0.1-0.1%2C0.4-0.3%2C0.8-0.5c0.7-0.4%2C1.2-0.8%2C1.5-1.1c0.5-0.6%2C0.8-1.3%2C0.8-2.1c0-0.7-0.2-1.4-0.7-2.1s-1-1.1-1.8-1.5s-1.5-0.5-2.2-0.5%20%20C72%2C4.2%2C71.1%2C4.4%2C70.3%2C4.8z%20M71.5%2C14.6c-0.4%2C0.4-0.5%2C0.8-0.5%2C1.3s0.2%2C0.9%2C0.5%2C1.3s0.8%2C0.5%2C1.3%2C0.5s0.9-0.2%2C1.3-0.5s0.5-0.8%2C0.5-1.3%20%20s-0.2-0.9-0.5-1.3s-0.8-0.5-1.3-0.5S71.8%2C14.2%2C71.5%2C14.6z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E";\n\nvar NotFoundImg = function NotFoundImg() {\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", {\n    src: NotFoundIcon,\n    alt: "Not found page",\n    width: "128px"\n  });\n};\n\nvar EmptyStateVariant;\n\n(function (EmptyStateVariant) {\n  EmptyStateVariant["GettingStarted"] = "GettingStarted";\n  EmptyStateVariant["NoAccess"] = "NoAccess";\n  EmptyStateVariant["NoResult"] = "NoResult";\n  EmptyStateVariant["NoItems"] = "NoItems";\n  EmptyStateVariant["UnexpectedError"] = "UnexpectedError";\n  EmptyStateVariant["PageNotFound"] = "PageNotFound";\n})(EmptyStateVariant || (EmptyStateVariant = {}));\n\nvar EmptyState = function EmptyState(_ref) {\n  var titleProps = _ref.titleProps,\n      buttonProps = _ref.buttonProps,\n      emptyStateIconProps = _ref.emptyStateIconProps,\n      emptyStateProps = _ref.emptyStateProps,\n      emptyStateBodyProps = _ref.emptyStateBodyProps,\n      children = _ref.children;\n\n  var _ref2 = buttonProps || {},\n      _ref2$variant = _ref2.variant,\n      buttonVariant = _ref2$variant === void 0 ? _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ButtonVariant.primary : _ref2$variant,\n      onClick = _ref2.onClick,\n      restButtonProps = _objectWithoutPropertiesLoose(_ref2, ["variant", "onClick"]);\n\n  var _ref3 = titleProps || {},\n      title = _ref3.title,\n      restTitleProps = _objectWithoutPropertiesLoose(_ref3, ["title"]);\n\n  var _ref4 = emptyStateBodyProps || {},\n      body = _ref4.body,\n      restEmptyStateBodyProps = _objectWithoutPropertiesLoose(_ref4, ["body"]);\n\n  var _ref5 = emptyStateProps || {},\n      _ref5$variant = _ref5.variant,\n      emptyStateVariant = _ref5$variant === void 0 ? EmptyStateVariant.GettingStarted : _ref5$variant,\n      className = _ref5.className,\n      restEmptyStateProps = _objectWithoutPropertiesLoose(_ref5, ["variant", "className"]);\n\n  var _getVariantConfig = getVariantConfig({\n    variant: emptyStateVariant,\n    emptyStateIconProps: emptyStateIconProps,\n    titleProps: titleProps\n  }),\n      variant = _getVariantConfig.variant,\n      icon = _getVariantConfig.icon,\n      titleSize = _getVariantConfig.titleSize,\n      headingLevel = _getVariantConfig.headingLevel;\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyState, _extends({\n    variant: variant,\n    className: (0,_patternfly_react_styles__WEBPACK_IMPORTED_MODULE_2__.css)(\'pf-u-pt-2xl pf-u-pt-3xl-on-md\', className)\n  }, restEmptyStateProps), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateIcon, _extends({\n    icon: icon\n  }, emptyStateIconProps)), title && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Title, _extends({\n    headingLevel: headingLevel,\n    size: titleSize\n  }, restTitleProps), title), body && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateBody, _extends({}, restEmptyStateBodyProps), body), (buttonProps == null ? void 0 : buttonProps.title) && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, _extends({\n    variant: buttonVariant,\n    onClick: onClick\n  }, restButtonProps), buttonProps == null ? void 0 : buttonProps.title), children);\n};\n\nvar getVariantConfig = function getVariantConfig(_ref6) {\n  var variant = _ref6.variant,\n      emptyStateIconProps = _ref6.emptyStateIconProps,\n      titleProps = _ref6.titleProps;\n  var varaintConfig = {};\n\n  switch (variant) {\n    case EmptyStateVariant.GettingStarted:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.xl,\n        icon: _patternfly_react_icons_dist_js_icons_space_shuttle_icon__WEBPACK_IMPORTED_MODULE_4__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes["4xl"],\n        headingLevel: \'h1\'\n      };\n      break;\n\n    case EmptyStateVariant.NoAccess:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.large,\n        icon: _patternfly_react_icons_dist_js_icons_lock_icon__WEBPACK_IMPORTED_MODULE_5__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.xl,\n        headingLevel: \'h2\'\n      };\n      break;\n\n    case EmptyStateVariant.NoItems:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.large,\n        icon: _patternfly_react_icons_dist_js_icons_plus_circle_icon__WEBPACK_IMPORTED_MODULE_6__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.xl,\n        headingLevel: \'h2\'\n      };\n      break;\n\n    case EmptyStateVariant.NoResult:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.large,\n        icon: _patternfly_react_icons_dist_js_icons_search_icon__WEBPACK_IMPORTED_MODULE_7__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.lg,\n        headingLevel: \'h2\'\n      };\n      break;\n\n    case EmptyStateVariant.UnexpectedError:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.full,\n        icon: _patternfly_react_icons_dist_js_icons_exclamation_circle_icon__WEBPACK_IMPORTED_MODULE_8__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.lg,\n        headingLevel: \'h1\'\n      };\n      break;\n\n    case EmptyStateVariant.PageNotFound:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.full,\n        icon: NotFoundImg,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.lg,\n        headingLevel: \'h1\'\n      };\n      break;\n\n    default:\n      varaintConfig = {\n        variant: variant || _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.full,\n        icon: emptyStateIconProps == null ? void 0 : emptyStateIconProps.icon,\n        titleSize: titleProps == null ? void 0 : titleProps.size,\n        headingLevel: titleProps == null ? void 0 : titleProps.headingLevel\n      };\n      break;\n  }\n\n  return varaintConfig;\n};\n\nvar Loading = function Loading() {\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyState, null, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateIcon, {\n    variant: "container",\n    component: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Spinner\n  }), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Title, {\n    size: "lg",\n    headingLevel: "h4"\n  }, "Loading"));\n};\n\nvar NoMatchFound = function NoMatchFound(_ref) {\n  var onClear = _ref.onClear;\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(EmptyState, {\n    emptyStateProps: {\n      variant: EmptyStateVariant.NoItems\n    },\n    titleProps: {\n      title: \'No results found\'\n    },\n    emptyStateBodyProps: {\n      body: \'No results match the filter criteria. Clear all filters to show results.\'\n    },\n    buttonProps: onClear && {\n      title: \'Clear all filters\',\n      onClick: onClear\n    }\n  });\n};\n\nvar useDebounce = function useDebounce(fnToDebounce, durationInMs) {\n  if (durationInMs === void 0) {\n    durationInMs = 200;\n  }\n\n  if (isNaN(durationInMs)) {\n    throw new TypeError(\'durationInMs for debounce should be a number\');\n  }\n\n  if (typeof fnToDebounce !== \'function\') {\n    throw new TypeError(\'fnToDebounce should be a function\');\n  } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default()(fnToDebounce, durationInMs), [fnToDebounce, durationInMs]);\n};\n\n\n//# sourceMappingURL=utils.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O2tCQUU2RTtBQUM3RSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bjb3MtdWktYXBwcy9jb3MtdWkvLi4vLi4vcGFja2FnZXMvdXRpbHMvZGlzdC91dGlscy5lc20uanM/NmZiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3RfX2RlZmF1bHQsIHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBFbXB0eVN0YXRlIGFzIEVtcHR5U3RhdGUkMSwgRW1wdHlTdGF0ZUljb24sIFRpdGxlLCBFbXB0eVN0YXRlQm9keSwgQnV0dG9uLCBCdXR0b25WYXJpYW50LCBFbXB0eVN0YXRlVmFyaWFudCBhcyBFbXB0eVN0YXRlVmFyaWFudCQxLCBUaXRsZVNpemVzLCBTcGlubmVyIH0gZnJvbSAnQHBhdHRlcm5mbHkvcmVhY3QtY29yZSc7XG5pbXBvcnQgUGx1c0NpcmNsZUljb24gZnJvbSAnQHBhdHRlcm5mbHkvcmVhY3QtaWNvbnMvZGlzdC9qcy9pY29ucy9wbHVzLWNpcmNsZS1pY29uJztcbmltcG9ydCBTcGFjZVNodXR0bGVJY29uIGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LWljb25zL2Rpc3QvanMvaWNvbnMvc3BhY2Utc2h1dHRsZS1pY29uJztcbmltcG9ydCBMb2NrSWNvbiBmcm9tICdAcGF0dGVybmZseS9yZWFjdC1pY29ucy9kaXN0L2pzL2ljb25zL2xvY2staWNvbic7XG5pbXBvcnQgU2VhcmNoSWNvbiBmcm9tICdAcGF0dGVybmZseS9yZWFjdC1pY29ucy9kaXN0L2pzL2ljb25zL3NlYXJjaC1pY29uJztcbmltcG9ydCBFeGNsYW1hdGlvbkNpcmNsZUljb24gZnJvbSAnQHBhdHRlcm5mbHkvcmVhY3QtaWNvbnMvZGlzdC9qcy9pY29ucy9leGNsYW1hdGlvbi1jaXJjbGUtaWNvbic7XG5pbXBvcnQgeyBjc3MgfSBmcm9tICdAcGF0dGVybmZseS9yZWFjdC1zdHlsZXMnO1xuaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC5kZWJvdW5jZSc7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG52YXIgTm90Rm91bmRJY29uID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sJTIwdmVyc2lvbiUzRCUyMjEuMCUyMiUyMGVuY29kaW5nJTNEJTIydXRmLTglMjIlM0YlM0UlM0NzdmclMjB2ZXJzaW9uJTNEJTIyMS4xJTIyJTIwaWQlM0QlMjJMYXllcl8xJTIyJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB4bWxucyUzQXhsaW5rJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYxOTk5JTJGeGxpbmslMjIlMjB4JTNEJTIyMHB4JTIyJTIweSUzRCUyMjBweCUyMiUyMCUyMHZpZXdCb3glM0QlMjIwJTIwMCUyMDEwMCUyMDEwOSUyMiUyMHN0eWxlJTNEJTIyZW5hYmxlLWJhY2tncm91bmQlM0FuZXclMjAwJTIwMCUyMDEwMCUyMDEwOSUzQiUyMiUyMHhtbCUzQXNwYWNlJTNEJTIycHJlc2VydmUlMjIlM0UlM0NzdHlsZSUyMHR5cGUlM0QlMjJ0ZXh0JTJGY3NzJTIyJTNFJTIwLnN0MCU3QmZpbGwlM0Fub25lJTNCc3Ryb2tlJTNBJTIzNkE2RTczJTNCc3Ryb2tlLWxpbmVjYXAlM0Fyb3VuZCUzQnN0cm9rZS1saW5lam9pbiUzQXJvdW5kJTNCc3Ryb2tlLW1pdGVybGltaXQlM0ExMCUzQnN0cm9rZS1kYXNoYXJyYXklM0EzJTJDNSUzQiU3RCUyMC5zdDElN0JmaWxsJTNBJTIzRkZGRkZGJTNCc3Ryb2tlJTNBJTIzNkE2RTczJTNCc3Ryb2tlLWxpbmVjYXAlM0Fyb3VuZCUzQnN0cm9rZS1saW5lam9pbiUzQXJvdW5kJTNCc3Ryb2tlLW1pdGVybGltaXQlM0ExMCUzQiU3RCUyMC5zdDIlN0JmaWxsJTNBJTIzNkE2RTczJTNCJTdEJTNDJTJGc3R5bGUlM0UlM0NwYXRoJTIwY2xhc3MlM0QlMjJzdDAlMjIlMjBkJTNEJTIyTTEyLjUlMkM5Ni41YzMtMzMlMkMxNy40LTM1LjglMkMzOC0yNGMxOS4xJTJDMTElMkMzNi04LjElMkMyMS0yN2MtMTUuNC0xOS40LTgtMjMtOC0yMyUyMiUyRiUzRSUzQ3BhdGglMjBjbGFzcyUzRCUyMnN0MSUyMiUyMGQlM0QlMjJNMTMlMkMyNXY1MCUyME0yNy44JTJDNzEuOFYxMDQlMjBNMjcuOCUyQzE1djQ3LjYlMjBNNDIuNiUyQzc0djM0JTIwTTQyLjYlMkMxMHY1NC4yJTIwTTU3LjQlMkM3OS4yVjEwOCUyME01Ny40JTJDMzJ2MzglMjBNNzIuMiUyQzc3djI3JTIwJTIwTTcyLjIlMkM1NC44djkuNSUyME03Mi4yJTJDMjl2MTAuMiUyME04NyUyQzI1djY4JTIwTTU2JTJDMjIuNWwtNDAtMC4yJTIwTTU5LjYlMkMzNy4xTDUlMkMzNy4xJTIwTTU5LjYlMkMzNy4xJTIwTTk1JTJDMzcuMWwtMjQuMSUyQzAlMjBNNzAuNCUyQzUxLjlMMSUyQzUxLjklMjAlMjBNNzAuNCUyQzUxLjklMjBNODAuOCUyQzUxLjklMjBNOTklMkM1MS45bC0xOC4yJTJDMCUyME0xOC42JTJDNjYuNkwxJTJDNjYuNiUyME03MC40JTJDNjYuNmwtMjEuOSUyQzAlMjBNOTklMkM2Ni42bC0xNy45JTJDMCUyME0xMC41JTJDODEuNEg2JTIwTTk1JTJDODEuNGwtNzUlMkMwJTIwJTIwTTg0JTJDOTYuMmwtNjclMkMwJTIyJTJGJTNFJTNDZyUzRSUyMCUzQ3BhdGglMjBjbGFzcyUzRCUyMnN0MiUyMiUyMGQlM0QlMjJNODEuMyUyQzE1LjdjLTAuOSUyQzEuNS0yLjElMkMyLjctMy42JTJDMy42Yy0xLjUlMkMwLjktMy4yJTJDMS4zLTUlMkMxLjNzLTMuNC0wLjQtNS0xLjNjLTEuNS0wLjktMi43LTIuMS0zLjYtMy42JTIwJTIwYy0wLjktMS41LTEuMy0zLjItMS4zLTVzMC40LTMuNCUyQzEuMy01YzAuOS0xLjUlMkMyLjEtMi43JTJDMy42LTMuNmMxLjUtMC45JTJDMy4yLTEuMyUyQzUtMS4zczMuNCUyQzAuNCUyQzUlMkMxLjNjMS41JTJDMC45JTJDMi43JTJDMi4xJTJDMy42JTJDMy42JTIwJTIwYzAuOSUyQzEuNSUyQzEuMyUyQzMuMiUyQzEuMyUyQzVTODIuMiUyQzE0LjIlMkM4MS4zJTJDMTUuN3olMjBNNzAuMyUyQzQuOGMtMC43JTJDMC40LTEuNCUyQzEtMS45JTJDMS45Yy0wLjElMkMwLjEtMC4xJTJDMC4yLTAuMSUyQzAuM2MwJTJDMC4xJTJDMC4xJTJDMC4yJTJDMC4yJTJDMC4zJTIwJTIwbDEuNCUyQzFjMC4xJTJDMC4xJTJDMC4yJTJDMC4xJTJDMC4zJTJDMC4xYzAuMSUyQzAlMkMwLjItMC4xJTJDMC4zLTAuMmMwLjQtMC41JTJDMC44LTAuOSUyQzEtMWMwLjQtMC4zJTJDMC44LTAuNCUyQzEuMy0wLjRjMC41JTJDMCUyQzAuOSUyQzAuMSUyQzEuMyUyQzAuNCUyMCUyMGMwLjQlMkMwLjMlMkMwLjYlMkMwLjYlMkMwLjYlMkMwLjljMCUyQzAuMy0wLjElMkMwLjUtMC40JTJDMC44Yy0wLjIlMkMwLjEtMC41JTJDMC4zLTAuOSUyQzAuNmwtMC4xJTJDMGMtMC43JTJDMC40LTEuMSUyQzAuNy0xLjQlMkMxYy0wLjUlMkMwLjUtMC43JTJDMS4xLTAuNyUyQzEuOCUyMCUyMHYwLjJjMCUyQzAuMSUyQzAlMkMwLjIlMkMwLjElMkMwLjNjMC4xJTJDMC4xJTJDMC4yJTJDMC4xJTJDMC4zJTJDMC4xaDIuMmMwLjElMkMwJTJDMC4yJTJDMCUyQzAuMy0wLjFjMC4xLTAuMSUyQzAuMS0wLjIlMkMwLjEtMC4zdjBjMC0wLjIlMkMwLjEtMC40JTJDMC4zLTAuNiUyMCUyMGMwLjEtMC4xJTJDMC40LTAuMyUyQzAuOC0wLjVjMC43LTAuNCUyQzEuMi0wLjglMkMxLjUtMS4xYzAuNS0wLjYlMkMwLjgtMS4zJTJDMC44LTIuMWMwLTAuNy0wLjItMS40LTAuNy0yLjFzLTEtMS4xLTEuOC0xLjVzLTEuNS0wLjUtMi4yLTAuNSUyMCUyMEM3MiUyQzQuMiUyQzcxLjElMkM0LjQlMkM3MC4zJTJDNC44eiUyME03MS41JTJDMTQuNmMtMC40JTJDMC40LTAuNSUyQzAuOC0wLjUlMkMxLjNzMC4yJTJDMC45JTJDMC41JTJDMS4zczAuOCUyQzAuNSUyQzEuMyUyQzAuNXMwLjktMC4yJTJDMS4zLTAuNXMwLjUtMC44JTJDMC41LTEuMyUyMCUyMHMtMC4yLTAuOS0wLjUtMS4zcy0wLjgtMC41LTEuMy0wLjVTNzEuOCUyQzE0LjIlMkM3MS41JTJDMTQuNnolMjIlMkYlM0UlM0MlMkZnJTNFJTNDJTJGc3ZnJTNFXCI7XG5cbnZhciBOb3RGb3VuZEltZyA9IGZ1bmN0aW9uIE5vdEZvdW5kSW1nKCkge1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7XG4gICAgc3JjOiBOb3RGb3VuZEljb24sXG4gICAgYWx0OiBcIk5vdCBmb3VuZCBwYWdlXCIsXG4gICAgd2lkdGg6IFwiMTI4cHhcIlxuICB9KTtcbn07XG5cbnZhciBFbXB0eVN0YXRlVmFyaWFudDtcblxuKGZ1bmN0aW9uIChFbXB0eVN0YXRlVmFyaWFudCkge1xuICBFbXB0eVN0YXRlVmFyaWFudFtcIkdldHRpbmdTdGFydGVkXCJdID0gXCJHZXR0aW5nU3RhcnRlZFwiO1xuICBFbXB0eVN0YXRlVmFyaWFudFtcIk5vQWNjZXNzXCJdID0gXCJOb0FjY2Vzc1wiO1xuICBFbXB0eVN0YXRlVmFyaWFudFtcIk5vUmVzdWx0XCJdID0gXCJOb1Jlc3VsdFwiO1xuICBFbXB0eVN0YXRlVmFyaWFudFtcIk5vSXRlbXNcIl0gPSBcIk5vSXRlbXNcIjtcbiAgRW1wdHlTdGF0ZVZhcmlhbnRbXCJVbmV4cGVjdGVkRXJyb3JcIl0gPSBcIlVuZXhwZWN0ZWRFcnJvclwiO1xuICBFbXB0eVN0YXRlVmFyaWFudFtcIlBhZ2VOb3RGb3VuZFwiXSA9IFwiUGFnZU5vdEZvdW5kXCI7XG59KShFbXB0eVN0YXRlVmFyaWFudCB8fCAoRW1wdHlTdGF0ZVZhcmlhbnQgPSB7fSkpO1xuXG52YXIgRW1wdHlTdGF0ZSA9IGZ1bmN0aW9uIEVtcHR5U3RhdGUoX3JlZikge1xuICB2YXIgdGl0bGVQcm9wcyA9IF9yZWYudGl0bGVQcm9wcyxcbiAgICAgIGJ1dHRvblByb3BzID0gX3JlZi5idXR0b25Qcm9wcyxcbiAgICAgIGVtcHR5U3RhdGVJY29uUHJvcHMgPSBfcmVmLmVtcHR5U3RhdGVJY29uUHJvcHMsXG4gICAgICBlbXB0eVN0YXRlUHJvcHMgPSBfcmVmLmVtcHR5U3RhdGVQcm9wcyxcbiAgICAgIGVtcHR5U3RhdGVCb2R5UHJvcHMgPSBfcmVmLmVtcHR5U3RhdGVCb2R5UHJvcHMsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG5cbiAgdmFyIF9yZWYyID0gYnV0dG9uUHJvcHMgfHwge30sXG4gICAgICBfcmVmMiR2YXJpYW50ID0gX3JlZjIudmFyaWFudCxcbiAgICAgIGJ1dHRvblZhcmlhbnQgPSBfcmVmMiR2YXJpYW50ID09PSB2b2lkIDAgPyBCdXR0b25WYXJpYW50LnByaW1hcnkgOiBfcmVmMiR2YXJpYW50LFxuICAgICAgb25DbGljayA9IF9yZWYyLm9uQ2xpY2ssXG4gICAgICByZXN0QnV0dG9uUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmMiwgW1widmFyaWFudFwiLCBcIm9uQ2xpY2tcIl0pO1xuXG4gIHZhciBfcmVmMyA9IHRpdGxlUHJvcHMgfHwge30sXG4gICAgICB0aXRsZSA9IF9yZWYzLnRpdGxlLFxuICAgICAgcmVzdFRpdGxlUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmMywgW1widGl0bGVcIl0pO1xuXG4gIHZhciBfcmVmNCA9IGVtcHR5U3RhdGVCb2R5UHJvcHMgfHwge30sXG4gICAgICBib2R5ID0gX3JlZjQuYm9keSxcbiAgICAgIHJlc3RFbXB0eVN0YXRlQm9keVByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjQsIFtcImJvZHlcIl0pO1xuXG4gIHZhciBfcmVmNSA9IGVtcHR5U3RhdGVQcm9wcyB8fCB7fSxcbiAgICAgIF9yZWY1JHZhcmlhbnQgPSBfcmVmNS52YXJpYW50LFxuICAgICAgZW1wdHlTdGF0ZVZhcmlhbnQgPSBfcmVmNSR2YXJpYW50ID09PSB2b2lkIDAgPyBFbXB0eVN0YXRlVmFyaWFudC5HZXR0aW5nU3RhcnRlZCA6IF9yZWY1JHZhcmlhbnQsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmNS5jbGFzc05hbWUsXG4gICAgICByZXN0RW1wdHlTdGF0ZVByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjUsIFtcInZhcmlhbnRcIiwgXCJjbGFzc05hbWVcIl0pO1xuXG4gIHZhciBfZ2V0VmFyaWFudENvbmZpZyA9IGdldFZhcmlhbnRDb25maWcoe1xuICAgIHZhcmlhbnQ6IGVtcHR5U3RhdGVWYXJpYW50LFxuICAgIGVtcHR5U3RhdGVJY29uUHJvcHM6IGVtcHR5U3RhdGVJY29uUHJvcHMsXG4gICAgdGl0bGVQcm9wczogdGl0bGVQcm9wc1xuICB9KSxcbiAgICAgIHZhcmlhbnQgPSBfZ2V0VmFyaWFudENvbmZpZy52YXJpYW50LFxuICAgICAgaWNvbiA9IF9nZXRWYXJpYW50Q29uZmlnLmljb24sXG4gICAgICB0aXRsZVNpemUgPSBfZ2V0VmFyaWFudENvbmZpZy50aXRsZVNpemUsXG4gICAgICBoZWFkaW5nTGV2ZWwgPSBfZ2V0VmFyaWFudENvbmZpZy5oZWFkaW5nTGV2ZWw7XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRW1wdHlTdGF0ZSQxLCBfZXh0ZW5kcyh7XG4gICAgdmFyaWFudDogdmFyaWFudCxcbiAgICBjbGFzc05hbWU6IGNzcygncGYtdS1wdC0yeGwgcGYtdS1wdC0zeGwtb24tbWQnLCBjbGFzc05hbWUpXG4gIH0sIHJlc3RFbXB0eVN0YXRlUHJvcHMpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtcHR5U3RhdGVJY29uLCBfZXh0ZW5kcyh7XG4gICAgaWNvbjogaWNvblxuICB9LCBlbXB0eVN0YXRlSWNvblByb3BzKSksIHRpdGxlICYmIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGl0bGUsIF9leHRlbmRzKHtcbiAgICBoZWFkaW5nTGV2ZWw6IGhlYWRpbmdMZXZlbCxcbiAgICBzaXplOiB0aXRsZVNpemVcbiAgfSwgcmVzdFRpdGxlUHJvcHMpLCB0aXRsZSksIGJvZHkgJiYgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFbXB0eVN0YXRlQm9keSwgX2V4dGVuZHMoe30sIHJlc3RFbXB0eVN0YXRlQm9keVByb3BzKSwgYm9keSksIChidXR0b25Qcm9wcyA9PSBudWxsID8gdm9pZCAwIDogYnV0dG9uUHJvcHMudGl0bGUpICYmIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCBfZXh0ZW5kcyh7XG4gICAgdmFyaWFudDogYnV0dG9uVmFyaWFudCxcbiAgICBvbkNsaWNrOiBvbkNsaWNrXG4gIH0sIHJlc3RCdXR0b25Qcm9wcyksIGJ1dHRvblByb3BzID09IG51bGwgPyB2b2lkIDAgOiBidXR0b25Qcm9wcy50aXRsZSksIGNoaWxkcmVuKTtcbn07XG5cbnZhciBnZXRWYXJpYW50Q29uZmlnID0gZnVuY3Rpb24gZ2V0VmFyaWFudENvbmZpZyhfcmVmNikge1xuICB2YXIgdmFyaWFudCA9IF9yZWY2LnZhcmlhbnQsXG4gICAgICBlbXB0eVN0YXRlSWNvblByb3BzID0gX3JlZjYuZW1wdHlTdGF0ZUljb25Qcm9wcyxcbiAgICAgIHRpdGxlUHJvcHMgPSBfcmVmNi50aXRsZVByb3BzO1xuICB2YXIgdmFyYWludENvbmZpZyA9IHt9O1xuXG4gIHN3aXRjaCAodmFyaWFudCkge1xuICAgIGNhc2UgRW1wdHlTdGF0ZVZhcmlhbnQuR2V0dGluZ1N0YXJ0ZWQ6XG4gICAgICB2YXJhaW50Q29uZmlnID0ge1xuICAgICAgICB2YXJpYW50OiBFbXB0eVN0YXRlVmFyaWFudCQxLnhsLFxuICAgICAgICBpY29uOiBTcGFjZVNodXR0bGVJY29uLFxuICAgICAgICB0aXRsZVNpemU6IFRpdGxlU2l6ZXNbJzR4bCddLFxuICAgICAgICBoZWFkaW5nTGV2ZWw6ICdoMSdcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgRW1wdHlTdGF0ZVZhcmlhbnQuTm9BY2Nlc3M6XG4gICAgICB2YXJhaW50Q29uZmlnID0ge1xuICAgICAgICB2YXJpYW50OiBFbXB0eVN0YXRlVmFyaWFudCQxLmxhcmdlLFxuICAgICAgICBpY29uOiBMb2NrSWNvbixcbiAgICAgICAgdGl0bGVTaXplOiBUaXRsZVNpemVzLnhsLFxuICAgICAgICBoZWFkaW5nTGV2ZWw6ICdoMidcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgRW1wdHlTdGF0ZVZhcmlhbnQuTm9JdGVtczpcbiAgICAgIHZhcmFpbnRDb25maWcgPSB7XG4gICAgICAgIHZhcmlhbnQ6IEVtcHR5U3RhdGVWYXJpYW50JDEubGFyZ2UsXG4gICAgICAgIGljb246IFBsdXNDaXJjbGVJY29uLFxuICAgICAgICB0aXRsZVNpemU6IFRpdGxlU2l6ZXMueGwsXG4gICAgICAgIGhlYWRpbmdMZXZlbDogJ2gyJ1xuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBFbXB0eVN0YXRlVmFyaWFudC5Ob1Jlc3VsdDpcbiAgICAgIHZhcmFpbnRDb25maWcgPSB7XG4gICAgICAgIHZhcmlhbnQ6IEVtcHR5U3RhdGVWYXJpYW50JDEubGFyZ2UsXG4gICAgICAgIGljb246IFNlYXJjaEljb24sXG4gICAgICAgIHRpdGxlU2l6ZTogVGl0bGVTaXplcy5sZyxcbiAgICAgICAgaGVhZGluZ0xldmVsOiAnaDInXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEVtcHR5U3RhdGVWYXJpYW50LlVuZXhwZWN0ZWRFcnJvcjpcbiAgICAgIHZhcmFpbnRDb25maWcgPSB7XG4gICAgICAgIHZhcmlhbnQ6IEVtcHR5U3RhdGVWYXJpYW50JDEuZnVsbCxcbiAgICAgICAgaWNvbjogRXhjbGFtYXRpb25DaXJjbGVJY29uLFxuICAgICAgICB0aXRsZVNpemU6IFRpdGxlU2l6ZXMubGcsXG4gICAgICAgIGhlYWRpbmdMZXZlbDogJ2gxJ1xuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBFbXB0eVN0YXRlVmFyaWFudC5QYWdlTm90Rm91bmQ6XG4gICAgICB2YXJhaW50Q29uZmlnID0ge1xuICAgICAgICB2YXJpYW50OiBFbXB0eVN0YXRlVmFyaWFudCQxLmZ1bGwsXG4gICAgICAgIGljb246IE5vdEZvdW5kSW1nLFxuICAgICAgICB0aXRsZVNpemU6IFRpdGxlU2l6ZXMubGcsXG4gICAgICAgIGhlYWRpbmdMZXZlbDogJ2gxJ1xuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHZhcmFpbnRDb25maWcgPSB7XG4gICAgICAgIHZhcmlhbnQ6IHZhcmlhbnQgfHwgRW1wdHlTdGF0ZVZhcmlhbnQkMS5mdWxsLFxuICAgICAgICBpY29uOiBlbXB0eVN0YXRlSWNvblByb3BzID09IG51bGwgPyB2b2lkIDAgOiBlbXB0eVN0YXRlSWNvblByb3BzLmljb24sXG4gICAgICAgIHRpdGxlU2l6ZTogdGl0bGVQcm9wcyA9PSBudWxsID8gdm9pZCAwIDogdGl0bGVQcm9wcy5zaXplLFxuICAgICAgICBoZWFkaW5nTGV2ZWw6IHRpdGxlUHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IHRpdGxlUHJvcHMuaGVhZGluZ0xldmVsXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gdmFyYWludENvbmZpZztcbn07XG5cbnZhciBMb2FkaW5nID0gZnVuY3Rpb24gTG9hZGluZygpIHtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRW1wdHlTdGF0ZSQxLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtcHR5U3RhdGVJY29uLCB7XG4gICAgdmFyaWFudDogXCJjb250YWluZXJcIixcbiAgICBjb21wb25lbnQ6IFNwaW5uZXJcbiAgfSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGl0bGUsIHtcbiAgICBzaXplOiBcImxnXCIsXG4gICAgaGVhZGluZ0xldmVsOiBcImg0XCJcbiAgfSwgXCJMb2FkaW5nXCIpKTtcbn07XG5cbnZhciBOb01hdGNoRm91bmQgPSBmdW5jdGlvbiBOb01hdGNoRm91bmQoX3JlZikge1xuICB2YXIgb25DbGVhciA9IF9yZWYub25DbGVhcjtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRW1wdHlTdGF0ZSwge1xuICAgIGVtcHR5U3RhdGVQcm9wczoge1xuICAgICAgdmFyaWFudDogRW1wdHlTdGF0ZVZhcmlhbnQuTm9JdGVtc1xuICAgIH0sXG4gICAgdGl0bGVQcm9wczoge1xuICAgICAgdGl0bGU6ICdObyByZXN1bHRzIGZvdW5kJ1xuICAgIH0sXG4gICAgZW1wdHlTdGF0ZUJvZHlQcm9wczoge1xuICAgICAgYm9keTogJ05vIHJlc3VsdHMgbWF0Y2ggdGhlIGZpbHRlciBjcml0ZXJpYS4gQ2xlYXIgYWxsIGZpbHRlcnMgdG8gc2hvdyByZXN1bHRzLidcbiAgICB9LFxuICAgIGJ1dHRvblByb3BzOiBvbkNsZWFyICYmIHtcbiAgICAgIHRpdGxlOiAnQ2xlYXIgYWxsIGZpbHRlcnMnLFxuICAgICAgb25DbGljazogb25DbGVhclxuICAgIH1cbiAgfSk7XG59O1xuXG52YXIgdXNlRGVib3VuY2UgPSBmdW5jdGlvbiB1c2VEZWJvdW5jZShmblRvRGVib3VuY2UsIGR1cmF0aW9uSW5Ncykge1xuICBpZiAoZHVyYXRpb25Jbk1zID09PSB2b2lkIDApIHtcbiAgICBkdXJhdGlvbkluTXMgPSAyMDA7XG4gIH1cblxuICBpZiAoaXNOYU4oZHVyYXRpb25Jbk1zKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2R1cmF0aW9uSW5NcyBmb3IgZGVib3VuY2Ugc2hvdWxkIGJlIGEgbnVtYmVyJyk7XG4gIH1cblxuICBpZiAodHlwZW9mIGZuVG9EZWJvdW5jZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ZuVG9EZWJvdW5jZSBzaG91bGQgYmUgYSBmdW5jdGlvbicpO1xuICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcblxuXG4gIHJldHVybiB1c2VDYWxsYmFjayhkZWJvdW5jZShmblRvRGVib3VuY2UsIGR1cmF0aW9uSW5NcyksIFtmblRvRGVib3VuY2UsIGR1cmF0aW9uSW5Nc10pO1xufTtcblxuZXhwb3J0IHsgRW1wdHlTdGF0ZSwgRW1wdHlTdGF0ZVZhcmlhbnQsIExvYWRpbmcsIE5vTWF0Y2hGb3VuZCwgdXNlRGVib3VuY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///41361\n')}}]);