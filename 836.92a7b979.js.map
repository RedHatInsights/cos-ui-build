{"version":3,"file":"836.92a7b979.js","mappings":"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","sources":["webpack://cos-ui/./src/api.ts","webpack://cos-ui/./src/Connector.machine.ts","webpack://cos-ui/./src/ConnectorStatus.tsx","webpack://cos-ui/./src/ConnectorDrawer.tsx","webpack://cos-ui/./src/PaginatedResponse.machine.ts","webpack://cos-ui/./src/constants.tsx","webpack://cos-ui/./src/ConnectorsPage.machine.ts","webpack://cos-ui/./src/ConnectorsPageContext.tsx","webpack://cos-ui/./src/ConnectorsTable.tsx","webpack://cos-ui/./src/Pagination.tsx","webpack://cos-ui/./src/useDebounce.ts","webpack://cos-ui/./src/ConnectorsToolbar.tsx","webpack://cos-ui/./src/CosContext.tsx","webpack://cos-ui/./src/DialogDeleteConnector.tsx","webpack://cos-ui/./src/EmptyStateGenericError.tsx","webpack://cos-ui/./src/EmptyStateGettingStarted.tsx","webpack://cos-ui/./src/EmptyStateNoMatchesFound.tsx","webpack://cos-ui/./src/ConnectorsPage.tsx","webpack://cos-ui/./src/StepClusters.machine.ts","webpack://cos-ui/./src/StepConfigurator.machine.ts","webpack://cos-ui/./src/StepConfiguratorLoader.machine.ts","webpack://cos-ui/./src/StepConnectorTypes.machine.ts","webpack://cos-ui/./src/StepKafkas.machine.ts","webpack://cos-ui/./src/JsonSchemaConfigurator.tsx","webpack://cos-ui/./src/StepReview.machine.ts","webpack://cos-ui/./src/CreateConnectorWizard.machine.ts","webpack://cos-ui/./src/CreateConnectorWizardContext.tsx","webpack://cos-ui/./src/EmptyStateNoOSDCluster.tsx","webpack://cos-ui/./src/StepBodyLayout.tsx","webpack://cos-ui/./src/StepClusters.tsx","webpack://cos-ui/./src/StepConfigurator.tsx","webpack://cos-ui/./src/stringToChip.tsx","webpack://cos-ui/./src/StepConnectorTypes.tsx","webpack://cos-ui/./src/StepErrorBoundary.tsx","webpack://cos-ui/./src/EmptyStateNoKafkaInstances.tsx","webpack://cos-ui/./src/StepKafkas.tsx","webpack://cos-ui/./src/StepReview.tsx","webpack://cos-ui/./src/UncontrolledWizard.tsx","webpack://cos-ui/./src/CreateConnectorWizard.tsx","webpack://cos-ui/./src/loadFederatedConfigurator.ts","webpack://cos-ui/./src/CreateConnectorPage.tsx","webpack://cos-ui/./src/CosRoutes.tsx","webpack://cos-ui/./src/Loading.tsx","webpack://cos-ui/./src/i18n.ts"],"sourcesContent":["import axios, { CancelTokenSource } from 'axios';\n\nimport { Sender } from 'xstate';\n\nimport {\n  Configuration,\n  Connector,\n  ConnectorCluster,\n  ConnectorClustersApi,\n  ConnectorsApi,\n  ConnectorType,\n  ConnectorTypesApi,\n} from '@rhoas/connector-management-sdk';\nimport {\n  KafkaRequest,\n  DefaultApi,\n  SecurityApi,\n} from '@rhoas/kafka-management-sdk';\n\nimport { ApiCallback } from './PaginatedResponse.machine';\n\ntype CommonApiProps = {\n  accessToken: () => Promise<string>;\n  connectorsApiBasePath: string;\n};\n\ntype ConnectorApiProps = {\n  connector: Connector;\n} & CommonApiProps;\n\nexport const startConnector = ({\n  accessToken,\n  connectorsApiBasePath,\n  connector,\n}: ConnectorApiProps) => {\n  const connectorsAPI = new ConnectorsApi(\n    new Configuration({\n      accessToken,\n      basePath: connectorsApiBasePath,\n    })\n  );\n  return (callback: Sender<any>) => {\n    const CancelToken = axios.CancelToken;\n    const source = CancelToken.source();\n    connectorsAPI\n      .patchConnector(\n        connector.id!,\n        {\n          desired_state: 'ready',\n        },\n        undefined,\n        {\n          cancelToken: source.token,\n          headers: {\n            'Content-type': 'application/merge-patch+json',\n          },\n        }\n      )\n      .then((response) => {\n        callback({\n          type: 'connector.actionSuccess',\n          connector: response.data,\n        });\n      })\n      .catch((error) => {\n        if (!axios.isCancel(error)) {\n          callback({\n            type: 'connector.actionError',\n            error: error.response.data.reason,\n          });\n        }\n      });\n    return () => {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nexport const stopConnector = ({\n  accessToken,\n  connectorsApiBasePath,\n  connector,\n}: ConnectorApiProps) => {\n  const connectorsAPI = new ConnectorsApi(\n    new Configuration({\n      accessToken,\n      basePath: connectorsApiBasePath,\n    })\n  );\n  return (callback: Sender<any>) => {\n    const CancelToken = axios.CancelToken;\n    const source = CancelToken.source();\n    connectorsAPI\n      .patchConnector(\n        connector.id!,\n        {\n          desired_state: 'stopped',\n        },\n        undefined,\n        {\n          cancelToken: source.token,\n          headers: {\n            'Content-type': 'application/merge-patch+json',\n          },\n        }\n      )\n      .then((response) => {\n        callback({\n          type: 'connector.actionSuccess',\n          connector: response.data,\n        });\n      })\n      .catch((error) => {\n        if (!axios.isCancel(error)) {\n          callback({\n            type: 'connector.actionError',\n            error: error.response.data.reason,\n          });\n        }\n      });\n    return () => {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nexport const deleteConnector = ({\n  accessToken,\n  connectorsApiBasePath,\n  connector,\n}: ConnectorApiProps) => {\n  const connectorsAPI = new ConnectorsApi(\n    new Configuration({\n      accessToken,\n      basePath: connectorsApiBasePath,\n    })\n  );\n  return (callback: Sender<any>) => {\n    const CancelToken = axios.CancelToken;\n    const source = CancelToken.source();\n    connectorsAPI\n      .deleteConnector(connector.id!, undefined, {\n        cancelToken: source.token,\n      })\n      .then(() => {\n        callback({\n          type: 'connector.actionSuccess',\n          connector: {\n            ...connector,\n            status: 'deleting',\n            desired_state: 'deleted',\n          },\n        });\n      })\n      .catch((error) => {\n        if (!axios.isCancel(error)) {\n          callback({\n            type: 'connector.actionError',\n            error: error.response.data.reason,\n          });\n        }\n      });\n    return () => {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nexport const fetchConnectors = ({\n  accessToken,\n  connectorsApiBasePath,\n}: CommonApiProps): ApiCallback<Connector, {}> => {\n  const connectorsAPI = new ConnectorsApi(\n    new Configuration({\n      accessToken,\n      basePath: connectorsApiBasePath,\n    })\n  );\n  return (request, onSuccess, onError) => {\n    const CancelToken = axios.CancelToken;\n    const source = CancelToken.source();\n    const { page, size /*, name = '' */ } = request;\n    // const query = name.length > 0 ? `name LIKE ${name}` : undefined;\n    connectorsAPI\n      .listConnectors(`${page}`, `${size}`, undefined, {\n        cancelToken: source.token,\n      })\n      .then((response) => {\n        onSuccess({\n          items: response.data.items || [],\n          total: response.data.total,\n          page: response.data.page,\n          size: response.data.size,\n        });\n      })\n      .catch((error) => {\n        if (!axios.isCancel(error)) {\n          onError({ error: error.message, page: request.page });\n        }\n      });\n    return () => {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nexport const fetchClusters = ({\n  accessToken,\n  connectorsApiBasePath,\n}: CommonApiProps): ApiCallback<ConnectorCluster, {}> => {\n  const connectorsAPI = new ConnectorClustersApi(\n    new Configuration({\n      accessToken,\n      basePath: connectorsApiBasePath,\n    })\n  );\n  return (request, onSuccess, onError) => {\n    const CancelToken = axios.CancelToken;\n    const source = CancelToken.source();\n    const { page, size } = request;\n    connectorsAPI\n      .listConnectorClusters(`${page}`, `${size}`, {\n        cancelToken: source.token,\n      })\n      .then((response) => {\n        onSuccess({\n          items: response.data.items || [],\n          total: response.data.total,\n          page: response.data.page,\n          size: response.data.size,\n        });\n      })\n      .catch((error) => {\n        if (!axios.isCancel(error)) {\n          onError({ error: error.message, page: request.page });\n        }\n      });\n    return () => {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nexport type ConnectorTypesQuery = {\n  name?: string;\n  categories?: string[];\n};\n\nexport const fetchConnectorTypes = ({\n  accessToken,\n  connectorsApiBasePath,\n}: CommonApiProps): ApiCallback<ConnectorType, ConnectorTypesQuery> => {\n  const connectorsAPI = new ConnectorTypesApi(\n    new Configuration({\n      accessToken,\n      basePath: connectorsApiBasePath,\n    })\n  );\n  return (request, onSuccess, onError) => {\n    const CancelToken = axios.CancelToken;\n    const source = CancelToken.source();\n    const { page, size, query } = request;\n    const { name, categories = [] } = query || {};\n    connectorsAPI\n      .listConnectorTypes('1', '1000', {\n        cancelToken: source.token,\n      })\n      .then((response) => {\n        const lcName = name ? name.toLowerCase() : undefined;\n        const rawItems = response.data.items || [];\n        let filteredItems = lcName\n          ? rawItems?.filter((c) => c.name?.toLowerCase().includes(lcName))\n          : rawItems;\n        filteredItems =\n          categories.length > 0\n            ? filteredItems?.filter(\n                (c) =>\n                  (c.labels?.filter((l) => categories.includes(l)) || [])\n                    .length > 0\n              )\n            : filteredItems;\n        const total = filteredItems.length;\n        const offset = (page - 1) * size;\n        const items = filteredItems.slice(offset, offset + size);\n        onSuccess({\n          items,\n          total,\n          page,\n          size,\n        });\n      })\n      .catch((error) => {\n        if (!axios.isCancel(error)) {\n          onError({ error: error.message, page: request.page });\n        }\n      });\n    return () => {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\ntype KafkaManagementApiProps = {\n  accessToken: () => Promise<string>;\n  kafkaManagementBasePath: string;\n};\n\nexport type KafkasQuery = {\n  name?: string;\n  owner?: string;\n  statuses?: string[];\n  cloudProviders?: string[];\n  regions?: string[];\n};\n\nexport const fetchKafkaInstances = ({\n  accessToken,\n  kafkaManagementBasePath,\n}: KafkaManagementApiProps): ApiCallback<KafkaRequest, KafkasQuery> => {\n  const connectorsAPI = new DefaultApi(\n    new Configuration({\n      accessToken,\n      basePath: kafkaManagementBasePath,\n    })\n  );\n  return (request, onSuccess, onError) => {\n    const CancelToken = axios.CancelToken;\n    const source = CancelToken.source();\n    const { page, size, query } = request;\n    const { name, statuses, owner, cloudProviders, regions } = query || {};\n    const nameSearch =\n      name && name.length > 0 ? ` name LIKE ${name}` : undefined;\n    const ownerSearch =\n      owner && owner.length > 0 ? ` owner LIKE ${owner}` : undefined;\n    const statusSearch =\n      statuses && statuses.length > 0\n        ? statuses.map((s) => `status = ${s}`).join(' OR ')\n        : undefined;\n    const cloudProviderSearch =\n      cloudProviders && cloudProviders.length > 0\n        ? cloudProviders.map((s) => `cloud_provider = ${s}`).join(' OR ')\n        : undefined;\n    const regionSearch =\n      regions && regions.length > 0\n        ? regions.map((s) => `region = ${s}`).join(' OR ')\n        : undefined;\n    const search = [\n      nameSearch,\n      ownerSearch,\n      statusSearch,\n      cloudProviderSearch,\n      regionSearch,\n    ]\n      .filter(Boolean)\n      .map((s) => `(${s})`)\n      .join(' AND ');\n    connectorsAPI\n      .getKafkas(\n        `${page}`,\n        `${size}`,\n        undefined,\n        search as string | undefined,\n        {\n          cancelToken: source.token,\n        }\n      )\n      .then((response) => {\n        onSuccess({\n          items: response.data.items || [],\n          total: response.data.total,\n          page: response.data.page,\n          size: response.data.size,\n        });\n      })\n      .catch((error) => {\n        if (!axios.isCancel(error)) {\n          onError({ error: error.message, page: request.page });\n        }\n      });\n    return () => {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nexport type UserProvidedServiceAccount = {\n  clientId: string;\n  clientSecret: string;\n};\n\nexport type SaveConnectorProps = {\n  kafka: KafkaRequest;\n  cluster: ConnectorCluster;\n  connectorType: ConnectorType;\n\n  configuration: object;\n\n  name: string;\n  userServiceAccount?: UserProvidedServiceAccount;\n  kafkaManagementApiBasePath: string;\n} & CommonApiProps;\n\nexport const saveConnector = ({\n  accessToken,\n  connectorsApiBasePath,\n  kafkaManagementApiBasePath,\n  kafka,\n  cluster,\n  connectorType,\n  configuration,\n  name,\n  userServiceAccount,\n}: SaveConnectorProps) => {\n  const connectorsAPI = new ConnectorsApi(\n    new Configuration({\n      accessToken,\n      basePath: connectorsApiBasePath,\n    })\n  );\n  const securityAPI = new SecurityApi(\n    new Configuration({\n      accessToken,\n      basePath: kafkaManagementApiBasePath,\n    })\n  );\n\n  const getOrCreateServiceAccount = async (source: CancelTokenSource) => {\n    if (userServiceAccount) return Promise.resolve(userServiceAccount);\n\n    // the passed service account info is undefined, we have to create a new SA\n    // automatically on behalf of the user\n    const response = await securityAPI.createServiceAccount(\n      {\n        name: `connector-${connectorType.id?.replaceAll(\n          /[_\\.]/g,\n          '-'\n        )}-${Date.now()}`,\n      },\n      {\n        cancelToken: source.token,\n      }\n    );\n    return {\n      clientId: response.data.client_id!,\n      clientSecret: response.data.client_secret!,\n    };\n  };\n\n  return (callback: Sender<any>) => {\n    const CancelToken = axios.CancelToken;\n    const source = CancelToken.source();\n    const async = true;\n    getOrCreateServiceAccount(source).then(({ clientId, clientSecret }) => {\n      const connector: Connector = {\n        kind: 'Connector',\n        metadata: {\n          name,\n          kafka_id: kafka.id,\n        },\n        deployment_location: {\n          kind: 'addon',\n          cluster_id: cluster.id,\n        },\n        connector_type_id: connectorType.id,\n        kafka: {\n          bootstrap_server: kafka.bootstrap_server_host || 'demo',\n          client_id: clientId,\n          client_secret: clientSecret,\n        },\n        connector_spec: configuration,\n      };\n      connectorsAPI\n        .createConnector(async, connector, {\n          cancelToken: source.token,\n        })\n        .then(() => {\n          callback({ type: 'success' });\n        })\n        .catch((error) => {\n          if (!axios.isCancel(error)) {\n            callback({ type: 'failure', message: error.response.data.reason });\n          }\n        });\n    });\n    return () => {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n","import { useCallback } from 'react';\n\nimport { useSelector } from '@xstate/react';\nimport { ActorRefFrom } from 'xstate';\nimport { sendParent } from 'xstate/lib/actions';\nimport { createModel } from 'xstate/lib/model';\n\nimport { Connector } from '@rhoas/connector-management-sdk';\n\nimport { deleteConnector, startConnector, stopConnector } from './api';\n\ntype Context = {\n  accessToken: () => Promise<string>;\n  connectorsApiBasePath: string;\n  connector: Connector;\n};\n\nconst model = createModel(\n  {\n    accessToken: () => Promise.resolve(''),\n    connectorsApiBasePath: '',\n    connector: {},\n  } as Context,\n  {\n    events: {\n      'connector.start': () => ({}),\n      'connector.stop': () => ({}),\n      'connector.remove': () => ({}),\n      'connector.select': () => ({}),\n      'connector.actionSuccess': (payload: { connector: Connector }) => payload,\n      'connector.actionError': (payload: { error: string }) => payload,\n    },\n    actions: {\n      notifySuccess: () => ({}),\n      notifyError: () => ({}),\n      notifySelect: ({ connector }: { connector: Connector }) => ({\n        connector,\n      }),\n    },\n  }\n);\n\nconst updateState = model.assign(\n  (_context, event) => ({\n    connector: event.connector,\n  }),\n  'connector.actionSuccess'\n);\n\nexport const connectorMachine = model.createMachine(\n  {\n    id: 'connector',\n    initial: 'verify',\n    context: model.initialContext,\n    states: {\n      verify: {\n        always: [\n          { target: 'ready', cond: 'isReady' },\n          { target: 'stopped', cond: 'isStopped' },\n          { target: 'deleted', cond: 'isDeleted' },\n        ],\n      },\n      ready: {\n        on: {\n          'connector.stop': 'stoppingConnector',\n          'connector.remove': 'deletingConnector',\n        },\n      },\n      stopped: {\n        on: {\n          'connector.start': 'startingConnector',\n          'connector.remove': 'deletingConnector',\n        },\n      },\n      deleted: {},\n\n      startingConnector: {\n        invoke: {\n          id: 'startingConnectorCb',\n          src: (context) =>\n            startConnector({\n              accessToken: context.accessToken,\n              connectorsApiBasePath: context.connectorsApiBasePath,\n              connector: context.connector,\n            }),\n        },\n        on: {\n          'connector.actionSuccess': {\n            target: 'verify',\n            actions: [updateState, 'notifySuccess'],\n          },\n          'connector.actionError': {\n            target: 'verify',\n            actions: 'notifyError',\n          },\n        },\n      },\n      stoppingConnector: {\n        invoke: {\n          id: 'stoppingConnectorCb',\n          src: (context) =>\n            stopConnector({\n              accessToken: context.accessToken,\n              connectorsApiBasePath: context.connectorsApiBasePath,\n              connector: context.connector,\n            }),\n        },\n        on: {\n          'connector.actionSuccess': {\n            target: 'verify',\n            actions: ['updateState', 'notifySuccess'],\n          },\n          'connector.actionError': {\n            target: 'verify',\n            actions: 'notifyError',\n          },\n        },\n      },\n      deletingConnector: {\n        invoke: {\n          id: 'deletingConnectorCb',\n          src: (context) =>\n            deleteConnector({\n              accessToken: context.accessToken,\n              connectorsApiBasePath: context.connectorsApiBasePath,\n              connector: context.connector,\n            }),\n        },\n        on: {\n          'connector.actionSuccess': {\n            target: 'deleted',\n            actions: ['updateState', 'notifySuccess'],\n          },\n          'connector.actionError': {\n            target: 'verify',\n            actions: 'notifyError',\n          },\n        },\n      },\n    },\n    on: {\n      'connector.select': {\n        actions: 'notifySelect',\n      },\n    },\n  },\n  {\n    guards: {\n      isReady: (context) => context.connector.desired_state === 'ready',\n      isStopped: (context) => context.connector.desired_state === 'stopped',\n      isDeleted: (context) => context.connector.desired_state === 'deleted',\n    },\n    actions: {\n      notifySuccess: sendParent('actionSuccess'),\n      notifyError: sendParent('actionFailure'),\n      notifySelect: sendParent(({ connector }) => ({\n        type: 'selectConnector',\n        connector,\n      })),\n    },\n  }\n);\n\nexport const makeConnectorMachine = (context: Context) =>\n  connectorMachine.withContext(context);\n\nexport type ConnectorMachineActorRef = ActorRefFrom<typeof connectorMachine>;\n\nexport type useConnectorReturnType = {\n  connector: Connector;\n  canStart: boolean;\n  canStop: boolean;\n  canDelete: boolean;\n  onStart: () => void;\n  onStop: () => void;\n  onDelete: () => void;\n  onSelect: () => void;\n};\nexport const useConnector = (\n  ref: ConnectorMachineActorRef\n): useConnectorReturnType => {\n  const { connector, canStart, canStop, canDelete } = useSelector(\n    ref,\n    useCallback(\n      (state: typeof ref.state) => ({\n        connector: state.context.connector,\n        canStart:\n          connectorMachine.transition(state, 'connector.start').changed ===\n          true,\n        canStop:\n          connectorMachine.transition(state, 'connector.stop').changed === true,\n        canDelete:\n          connectorMachine.transition(state, 'connector.remove').changed ===\n          true,\n      }),\n      [ref]\n    )\n  );\n  const onStart = useCallback(\n    () => ref.send({ type: 'connector.start' }),\n    [ref]\n  );\n  const onStop = useCallback(() => ref.send({ type: 'connector.stop' }), [ref]);\n  const onDelete = useCallback(\n    () => ref.send({ type: 'connector.remove' }),\n    [ref]\n  );\n  const onSelect = useCallback(\n    () => ref.send({ type: 'connector.select' }),\n    [ref]\n  );\n  return {\n    connector,\n    canStart,\n    canStop,\n    canDelete,\n    onStart,\n    onStop,\n    onDelete,\n    onSelect,\n  };\n};\n","import React, { FunctionComponent } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { Flex, FlexItem, Spinner } from '@patternfly/react-core';\nimport {\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n  PendingIcon,\n} from '@patternfly/react-icons';\n\nimport './ConnectorStatus.css';\n\ntype ConnectorStatusProps = {\n  name: string;\n  status: string;\n};\n\nexport const ConnectorStatus: FunctionComponent<ConnectorStatusProps> = ({\n  name,\n  status,\n}) => {\n  const label = useConnectorStatusLabel(status);\n\n  return (\n    <Flex>\n      <FlexItem spacer={{ default: 'spacerSm' }}>\n        <ConnectorStatusIcon name={name} status={status} />\n      </FlexItem>\n      <FlexItem>{label}</FlexItem>\n    </Flex>\n  );\n};\n\nexport const ConnectorStatusIcon: FunctionComponent<ConnectorStatusProps> = ({\n  name,\n  status,\n}) => {\n  switch (status?.toLowerCase()) {\n    case 'ready':\n      return (\n        <CheckCircleIcon className=\"cos--connectors__table--icon--completed\" />\n      );\n    case 'failed':\n      return (\n        <ExclamationCircleIcon className=\"cos--connectors__table--icon--failed\" />\n      );\n    case 'accepted':\n      return <PendingIcon />;\n    case 'provisioning':\n    case 'preparing':\n      return (\n        <Spinner\n          size=\"md\"\n          aria-label={name}\n          aria-valuetext=\"Creation in progress\"\n        />\n      );\n    case 'deprovision':\n    case 'deleted':\n      return null;\n  }\n  return <PendingIcon />;\n};\n\nexport enum ConnectorStatuses {\n  Ready = 'ready',\n  Failed = 'failed',\n  Assigning = 'assigning',\n  Assigned = 'assigned',\n  Updating = 'updating',\n  Provisioning = 'provisioning',\n  Deleting = 'deleting',\n  Deleted = 'deleted',\n}\n\nexport function useConnectorStatusLabel(status: string) {\n  const { t } = useTranslation();\n\n  const statusOptions = [\n    { value: ConnectorStatuses.Ready, label: t('Running') },\n    { value: ConnectorStatuses.Failed, label: t('Failed') },\n    { value: ConnectorStatuses.Assigning, label: t('Creation pending') },\n    { value: ConnectorStatuses.Assigned, label: t('Creation in progress') },\n    { value: ConnectorStatuses.Updating, label: t('Creation in progress') },\n    { value: ConnectorStatuses.Provisioning, label: t('Creation in progress') },\n    { value: ConnectorStatuses.Deleting, label: t('Deleting') },\n    { value: ConnectorStatuses.Deleted, label: t('Deleted') },\n  ];\n\n  return statusOptions.find((s) => s.value === status)?.label || status;\n}\n","import React, {\n  FunctionComponent,\n  ReactNode,\n  useState,\n  MouseEvent,\n} from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport {\n  Drawer,\n  DrawerActions,\n  DrawerCloseButton,\n  DrawerContent,\n  DrawerHead,\n  DrawerPanelBody,\n  DrawerPanelContent,\n  Flex,\n  FlexItem,\n  Tab,\n  Tabs,\n  TabTitleText,\n  Text,\n  TextContent,\n  TextList,\n  TextListItem,\n  TextListItemVariants,\n  TextListVariants,\n  TextVariants,\n  Title,\n  TitleSizes,\n} from '@patternfly/react-core';\n\nimport { AddonClusterTarget, Connector } from '@rhoas/connector-management-sdk';\n\nimport './ConnectorDrawer.css';\nimport { ConnectorStatus } from './ConnectorStatus';\n\nexport type ConnectorDrawerProps = {\n  children: ReactNode;\n  connector?: Connector;\n  onClose: () => void;\n};\n\nexport const ConnectorDrawer: FunctionComponent<ConnectorDrawerProps> = ({\n  children,\n  connector,\n  onClose,\n}) => {\n  return (\n    <Drawer isExpanded={connector !== undefined}>\n      <DrawerContent\n        panelContent={\n          connector ? (\n            <ConnectorDrawerPanelContent\n              name={connector.metadata!.name!}\n              bootstrapServer={connector.kafka!.bootstrap_server!}\n              kafkaId={connector.metadata!.kafka_id!}\n              owner={connector.metadata!.owner!}\n              cluster={\n                (connector.deployment_location as AddonClusterTarget)\n                  .cluster_id!\n              }\n              createdAt={new Date(connector.metadata!.created_at!)}\n              updatedAt={new Date(connector.metadata!.updated_at!)}\n              status={connector.status!}\n              onClose={onClose}\n            />\n          ) : undefined\n        }\n      >\n        {children}\n      </DrawerContent>\n    </Drawer>\n  );\n};\n\nexport type ConnectorDrawerPanelContentProps = {\n  name: string;\n  bootstrapServer: string;\n  kafkaId: string;\n  owner: string;\n  cluster: string;\n  createdAt: Date;\n  updatedAt: Date;\n  status: string;\n  onClose: () => void;\n};\n\nexport const ConnectorDrawerPanelContent: FunctionComponent<ConnectorDrawerPanelContentProps> =\n  ({\n    name,\n    bootstrapServer,\n    kafkaId,\n    owner,\n    cluster,\n    createdAt,\n    updatedAt,\n    status,\n    onClose,\n  }) => {\n    const { t } = useTranslation();\n    const [activeTabKey, setActiveTabKey] = useState<string | number>(0);\n\n    const selectActiveKey = (_: MouseEvent, eventKey: string | number) => {\n      setActiveTabKey(eventKey);\n    };\n\n    const textListItem = (title: string, value?: ReactNode) => (\n      <>\n        {value && (\n          <>\n            <TextListItem component={TextListItemVariants.dt}>\n              {title}\n            </TextListItem>\n            <TextListItem component={TextListItemVariants.dd}>\n              {value}\n            </TextListItem>\n          </>\n        )}\n      </>\n    );\n\n    return (\n      <DrawerPanelContent widths={{ default: 'width_50' }}>\n        <DrawerHead>\n          <TextContent>\n            <Text\n              component={TextVariants.small}\n              className=\"connector-drawer__header-text\"\n            >\n              Connector name\n            </Text>\n\n            <Flex>\n              <FlexItem>\n                <Title\n                  headingLevel={'h2'}\n                  size={TitleSizes['xl']}\n                  className=\"connector-drawer__header-title\"\n                >\n                  {name}\n                </Title>\n              </FlexItem>\n              <FlexItem spacer={{ default: 'spacerSm' }}>\n                <ConnectorStatus name={name} status={status} />\n              </FlexItem>\n            </Flex>\n          </TextContent>\n          <DrawerActions>\n            <DrawerCloseButton onClick={onClose} />\n          </DrawerActions>\n        </DrawerHead>\n        <DrawerPanelBody>\n          <Tabs activeKey={activeTabKey} onSelect={selectActiveKey}>\n            <Tab\n              eventKey={0}\n              title={<TabTitleText>{t('Details')}</TabTitleText>}\n            >\n              <div className=\"connector-drawer__tab-content\">\n                <TextContent>\n                  <TextList component={TextListVariants.dl}>\n                    {textListItem('Bootstrap server', bootstrapServer)}\n                    {textListItem('Connector', name)}\n                    {textListItem('Kafka_instance', kafkaId)}\n                    {textListItem('Targeted OSD Cluster', cluster)}\n                    {textListItem('Owner', owner)}\n                    {textListItem(\n                      'Time created',\n                      <time\n                        title={t('{{date}}', { date: createdAt })}\n                        dateTime={createdAt.toISOString()}\n                      >\n                        {t('{{ date, ago }}', { date: createdAt })}\n                      </time>\n                    )}\n                    {textListItem(\n                      'Time updated',\n                      <time\n                        title={t('{{date}}', { date: updatedAt })}\n                        dateTime={updatedAt.toISOString()}\n                      >\n                        {t('{{ date, ago }}', { date: updatedAt })}\n                      </time>\n                    )}\n                  </TextList>\n                </TextContent>\n              </div>\n            </Tab>\n            {/* <Tab\n              eventKey={1}\n              title={<TabTitleText>{t('configurations')}</TabTitleText>}\n            >\n              Configuration\n            </Tab> */}\n          </Tabs>\n        </DrawerPanelBody>\n      </DrawerPanelContent>\n    );\n  };\n","import { useCallback } from 'react';\n\nimport { useSelector } from '@xstate/react';\nimport { ActorRef, ActorRefFrom, Sender, spawn } from 'xstate';\nimport { pure, sendParent } from 'xstate/lib/actions';\nimport { createModel } from 'xstate/lib/model';\n\nexport type ApiErrorResponse = { page: number; error: string };\nexport type ApiSuccessResponse<RawDataType> = {\n  items: Array<RawDataType>;\n  page: number;\n  size: number;\n  total: number;\n};\nexport type ApiCallback<RawDataType, QueryType> = (\n  request: PaginatedApiRequest<QueryType>,\n  onSuccess: (payload: ApiSuccessResponse<RawDataType>) => void,\n  onError: (payload: ApiErrorResponse) => void\n) => () => void;\n\nexport type PaginatedApiRequest<QueryType> = {\n  page: number;\n  size: number;\n  query?: QueryType;\n};\nexport type PaginatedApiResponse<DataType> = {\n  total: number;\n  items?: Array<DataType>;\n  error?: string;\n};\nexport type PaginatedMachineContext<RawDataType, QueryType, DataType> = {\n  request: PaginatedApiRequest<QueryType>;\n  response?: PaginatedApiResponse<DataType>;\n  pollingEnabled: boolean;\n  actor?: ActorRef<any>;\n  dataTransformer: (response: RawDataType) => DataType;\n  onBeforeSetResponse?: (previousData: DataType[] | undefined) => void;\n};\n\nexport const getPaginatedApiMachineEvents = <\n  RawDataType,\n  QueryType,\n  DataType\n>() => ({\n  'api.refresh': () => ({}),\n  'api.nextPage': () => ({}),\n  'api.prevPage': () => ({}),\n  'api.query': (payload: PaginatedApiRequest<QueryType>) => payload,\n  'api.setResponse': (payload: ApiSuccessResponse<RawDataType>) => payload,\n  'api.setError': (payload: ApiErrorResponse) => payload,\n\n  // notifyParent\n  'api.ready': () => ({}),\n  'api.loading': (payload: PaginatedApiRequest<QueryType>) => payload,\n  'api.success': (payload: ApiSuccessResponse<DataType>) => payload,\n  'api.error': (payload: { error: string }) => payload,\n});\n\nexport function makePaginatedApiMachine<RawDataType, QueryType, DataType>(\n  service: ApiCallback<RawDataType, QueryType>,\n  dataTransformer: (response: RawDataType) => DataType,\n  options?: {\n    pollingEnabled?: boolean;\n    onBeforeSetResponse?: (previousResponse: DataType[] | undefined) => void;\n  }\n) {\n  const model = createModel(\n    {\n      request: {\n        page: 1,\n        size: 10,\n      },\n      response: undefined,\n      pollingEnabled: options?.pollingEnabled || false,\n      onBeforeSetResponse: options?.onBeforeSetResponse,\n      dataTransformer,\n    } as PaginatedMachineContext<RawDataType, QueryType, DataType>,\n    {\n      events: {\n        ...getPaginatedApiMachineEvents<RawDataType, QueryType, DataType>(),\n      },\n      actions: {\n        notifyReady: () => ({}),\n        notifyLoading: () => ({}),\n        notifySuccess: () => ({}),\n        notifyError: () => ({}),\n        forwardUnknownEventsToParent: () => ({}),\n      },\n    }\n  );\n\n  const setResponse = model.assign((context, e) => {\n    if (e.page !== context.request.page) return {};\n    if (context.onBeforeSetResponse) {\n      context.onBeforeSetResponse(context.response?.items);\n    }\n    return {\n      response: {\n        items: e.items?.map((i) => context.dataTransformer(i)),\n        total: e.total,\n        error: undefined,\n      },\n    };\n  }, 'api.setResponse');\n\n  const fetch = model.assign((context) => {\n    if (context.actor && context.actor.stop) {\n      context.actor.stop();\n    }\n    // eslint-disable-next-line xstate/spawn-usage\n    const actor = spawn(callApi(context));\n    return { actor };\n  });\n  const setError = model.assign((context, e) => {\n    if (e.page !== context.request.page) return {};\n    return {\n      response: {\n        items: context.response?.items || [],\n        total: context.response?.total || 0,\n        error: e.error,\n      },\n    };\n  }, 'api.setError');\n  const increasePage = model.assign((context) => {\n    return {\n      request: {\n        ...context.request,\n        page: context.request.page + 1,\n      },\n    };\n  }, 'api.nextPage');\n  const decreasePage = model.assign((context) => {\n    return {\n      request: { ...context.request, page: context.request.page - 1 },\n    };\n  }, 'api.prevPage');\n  const query = model.assign((context, event) => {\n    const { page, size, query } = event;\n    return {\n      request: {\n        page: page || context.request.page,\n        size: size || context.request.size,\n        query,\n      },\n    };\n  }, 'api.query');\n\n  const callApi =\n    (context: PaginatedMachineContext<RawDataType, QueryType, DataType>) =>\n    (callback: Sender<any>) => {\n      return service(\n        context.request!,\n        (payload: ApiSuccessResponse<RawDataType>) =>\n          callback(model.events['api.setResponse'](payload)),\n        (payload: ApiErrorResponse) =>\n          callback(model.events['api.setError'](payload))\n      );\n    };\n\n  return model.createMachine(\n    {\n      id: 'paginatedApiMachine',\n      context: model.initialContext,\n      type: 'parallel',\n      states: {\n        api: {\n          initial: 'idle',\n          states: {\n            idle: {\n              entry: model.actions.notifyReady(),\n              on: {\n                'api.query': {\n                  target: 'loading',\n                  actions: query,\n                },\n              },\n            },\n            success: {\n              always: [\n                { target: 'queryEmpty', cond: 'isQueryEmpty' },\n                { target: 'queryResults', cond: 'isQuerySuccesful' },\n                { target: 'empty', cond: 'isTotalZero' },\n                { target: 'results' },\n              ],\n            },\n            queryEmpty: {\n              tags: 'queryEmpty',\n              on: {\n                'api.query': {\n                  target: 'loading',\n                  actions: query,\n                },\n                'api.prevPage': {\n                  target: 'loading',\n                  actions: decreasePage,\n                  cond: 'isNotFirstPage',\n                },\n                'api.refresh': {\n                  target: 'loading',\n                },\n              },\n            },\n            queryResults: {\n              tags: 'queryResults',\n              on: {\n                'api.query': {\n                  target: 'loading',\n                  actions: query,\n                },\n                'api.nextPage': {\n                  target: 'loading',\n                  actions: increasePage,\n                  cond: 'isNotLastPage',\n                },\n                'api.prevPage': {\n                  target: 'loading',\n                  actions: decreasePage,\n                  cond: 'isNotFirstPage',\n                },\n                'api.refresh': {\n                  target: 'loading',\n                },\n              },\n            },\n            empty: {\n              tags: 'empty',\n              on: {\n                'api.query': {\n                  target: 'loading',\n                  actions: query,\n                },\n                'api.refresh': {\n                  target: 'loading',\n                },\n              },\n            },\n            results: {\n              tags: 'results',\n              on: {\n                'api.query': {\n                  target: 'loading',\n                  actions: query,\n                },\n                'api.nextPage': {\n                  target: 'loading',\n                  actions: increasePage,\n                  cond: 'isNotLastPage',\n                },\n                'api.prevPage': {\n                  target: 'loading',\n                  actions: decreasePage,\n                  cond: 'isNotFirstPage',\n                },\n                'api.refresh': {\n                  target: 'loading',\n                },\n              },\n            },\n            error: {\n              tags: 'error',\n              on: {\n                'api.query': {\n                  target: 'loading',\n                  actions: query,\n                },\n                'api.refresh': {\n                  target: 'loading',\n                },\n                'api.prevPage': {\n                  target: 'loading',\n                  actions: decreasePage,\n                  cond: 'isNotFirstPage',\n                },\n              },\n            },\n            loading: {\n              tags: ['loading'],\n              entry: [model.actions.notifyLoading(), fetch],\n              on: {\n                'api.query': {\n                  target: 'loading',\n                  actions: query,\n                },\n                'api.setResponse': {\n                  target: 'success',\n                  actions: [setResponse, model.actions.notifySuccess()],\n                },\n                'api.setError': {\n                  target: 'error',\n                  actions: [setError, model.actions.notifyError()],\n                },\n              },\n            },\n          },\n          on: {\n            '*': {\n              actions: 'forwardUnknownEventsToParent',\n            },\n          },\n        },\n        polling: {\n          entry: fetch,\n          on: {\n            'api.setResponse': {\n              actions: setResponse,\n            },\n          },\n          after: {\n            INTERVAL: {\n              cond: 'isPollingEnabled',\n              target: 'polling',\n            },\n          },\n        },\n      },\n    },\n    {\n      delays: {\n        INTERVAL: 5000,\n      },\n      actions: {\n        notifyReady: sendParent({\n          type: 'api.ready',\n        }),\n        notifySuccess: sendParent((context) => ({\n          type: 'api.success',\n          ...context.response,\n        })),\n        notifyError: sendParent((context) => ({\n          type: 'api.error',\n          error: context.response?.error,\n        })),\n        notifyLoading: sendParent((context) => ({\n          type: 'api.loading',\n          ...context.request,\n        })),\n        forwardUnknownEventsToParent: pure((_context, event) => {\n          if (Object.keys(model.events).includes(event.type) === false) {\n            return sendParent((_context, _event, meta) => {\n              return meta._event.data;\n            });\n          }\n          return [];\n        }),\n      },\n      guards: {\n        isNotFirstPage: (context) =>\n          context.response !== undefined && context.request.page > 1,\n        isNotLastPage: (context) =>\n          context.response !== undefined &&\n          context.request.size > 0 &&\n          context.request.page <\n            Math.ceil(context.response.total / context.request.size),\n        isTotalZero: (context) => context.response?.total === 0,\n        isQuerySuccesful: (context) =>\n          context.request.query !== undefined &&\n          context.response !== undefined &&\n          context.response?.total > 0,\n        isQueryEmpty: (context) =>\n          context.request.query !== undefined &&\n          context.response !== undefined &&\n          context.response?.total === 0,\n        isPollingEnabled: (context) => context.pollingEnabled,\n      },\n    }\n  );\n}\n\n// https://stackoverflow.com/questions/50321419/typescript-returntype-of-generic-function/64919133#64919133\nclass Wrapper<RawDataType, QueryType, DataType> {\n  wrapped(\n    service: ApiCallback<RawDataType, QueryType>,\n    dataTransformer: (response: RawDataType) => DataType\n  ) {\n    return makePaginatedApiMachine<RawDataType, QueryType, DataType>(\n      service,\n      dataTransformer\n    );\n  }\n}\n\nexport type PaginatedApiActorType<RawDataType, QueryType, DataType> =\n  ActorRefFrom<\n    ReturnType<Wrapper<RawDataType, QueryType, DataType>['wrapped']>\n  >;\n\n// These are not _writable_ booleans, they are derived from the machine state!\n// https://discord.com/channels/795785288994652170/799416943324823592/847466843290730527\nexport type usePaginationReturnValue<QueryType, DataType> = {\n  request: PaginatedApiRequest<QueryType>;\n  response?: PaginatedApiResponse<DataType>;\n  loading: boolean;\n  queryEmpty: boolean;\n  queryResults: boolean;\n  noResults: boolean;\n  results: boolean;\n  error: boolean;\n  firstRequest: boolean;\n};\nexport const usePagination = <RawDataType, QueryType, DataType>(\n  actor: PaginatedApiActorType<RawDataType, QueryType, DataType>\n): usePaginationReturnValue<QueryType, DataType> => {\n  return useSelector(\n    actor,\n    useCallback(\n      (\n        state: typeof actor.state\n      ): usePaginationReturnValue<QueryType, DataType> => {\n        return {\n          request: state.context.request,\n          response: state.context.response,\n          loading: state.hasTag('loading'),\n          queryEmpty: state.hasTag('queryEmpty'),\n          queryResults: state.hasTag('queryResults'),\n          noResults: state.hasTag('empty'),\n          results: state.hasTag('results'),\n          error: state.hasTag('error'),\n          firstRequest: state.context.response === undefined,\n        };\n      },\n      [actor]\n    )\n  );\n};\n","export const PAGINATED_MACHINE_ID = 'paginatedApi';\n\nexport const defaultPerPageOptions = [\n  {\n    title: '1',\n    value: 1,\n  },\n  {\n    title: '5',\n    value: 5,\n  },\n  {\n    title: '10',\n    value: 10,\n  },\n];\n","import { InterpreterFrom, send, spawn } from 'xstate';\nimport { createModel } from 'xstate/lib/model';\n\nimport { Connector } from '@rhoas/connector-management-sdk';\n\nimport {\n  ConnectorMachineActorRef,\n  makeConnectorMachine,\n} from './Connector.machine';\nimport {\n  getPaginatedApiMachineEvents,\n  makePaginatedApiMachine,\n} from './PaginatedResponse.machine';\nimport { fetchConnectors } from './api';\nimport { PAGINATED_MACHINE_ID } from './constants';\n\ntype Context = {\n  accessToken: () => Promise<string>;\n  connectorsApiBasePath: string;\n  selectedConnector?: Connector;\n  onError?: (error: string) => void;\n};\n\nconst model = createModel(\n  {\n    accessToken: () => Promise.resolve(''),\n    connectorsApiBasePath: '',\n    selectedConnector: undefined,\n  } as Context,\n  {\n    events: {\n      ...getPaginatedApiMachineEvents<\n        Connector,\n        {},\n        ConnectorMachineActorRef\n      >(),\n      selectConnector: (payload: { connector: Connector }) => payload,\n      deselectConnector: () => ({}),\n    },\n    actions: {\n      notifyError: () => ({}),\n    },\n  }\n);\n\nconst setSelectedConnector = model.assign(\n  (_context, event) => ({\n    selectedConnector: event.connector,\n  }),\n  'selectConnector'\n);\nconst unsetSelectedConnector = model.assign(\n  (_context) => ({\n    selectedConnector: undefined,\n  }),\n  'deselectConnector'\n);\n\nexport const connectorsPageMachine = model.createMachine(\n  {\n    id: 'connectors',\n    initial: 'root',\n    context: model.initialContext,\n    states: {\n      root: {\n        type: 'parallel',\n        states: {\n          api: {\n            initial: 'idle',\n            invoke: {\n              id: PAGINATED_MACHINE_ID,\n              src: (context) =>\n                makePaginatedApiMachine<\n                  Connector,\n                  {},\n                  ConnectorMachineActorRef\n                >(\n                  fetchConnectors(context),\n                  (connector) =>\n                    // eslint-disable-next-line xstate/spawn-usage\n                    spawn(\n                      makeConnectorMachine({\n                        accessToken: context.accessToken,\n                        connectorsApiBasePath: context.connectorsApiBasePath,\n                        connector,\n                      }),\n                      `connector-${connector.id}`\n                    ),\n                  {\n                    pollingEnabled: true,\n                    onBeforeSetResponse: (data) => {\n                      if (data) {\n                        data.forEach((d) => {\n                          if (d && d.stop) {\n                            d.stop();\n                          }\n                        });\n                      }\n                    },\n                  }\n                ),\n            },\n            states: {\n              idle: {\n                on: {\n                  'api.ready': 'ready',\n                },\n              },\n              ready: {\n                entry: send('api.query', { to: PAGINATED_MACHINE_ID }),\n              },\n            },\n            on: {\n              'api.refresh': {\n                actions: send((_, e) => e, { to: PAGINATED_MACHINE_ID }),\n              },\n              'api.nextPage': {\n                actions: send((_, e) => e, { to: PAGINATED_MACHINE_ID }),\n              },\n              'api.prevPage': {\n                actions: send((_, e) => e, { to: PAGINATED_MACHINE_ID }),\n              },\n              'api.query': {\n                actions: send((_, e) => e, { to: PAGINATED_MACHINE_ID }),\n              },\n              'api.error': {\n                actions: 'notifyError',\n              },\n              selectConnector: {\n                actions: setSelectedConnector,\n              },\n              deselectConnector: {\n                actions: unsetSelectedConnector,\n              },\n            },\n          },\n          listing: {},\n        },\n      },\n    },\n  },\n  {\n    actions: {\n      notifyError: (context, event) => {\n        console.log(context, event);\n        if (event.type === 'api.error' && context.onError) {\n          context.onError(event.error);\n        }\n      },\n    },\n  }\n);\n\nexport type ConnectorsMachineInterpretType = InterpreterFrom<\n  typeof connectorsPageMachine\n>;\n","import React, {\n  createContext,\n  FunctionComponent,\n  useCallback,\n  useContext,\n} from 'react';\n\nimport { useInterpret, useSelector } from '@xstate/react';\n\nimport { Connector } from '@rhoas/connector-management-sdk';\n\nimport { ConnectorMachineActorRef } from './Connector.machine';\nimport {\n  connectorsPageMachine,\n  ConnectorsMachineInterpretType,\n} from './ConnectorsPage.machine';\nimport {\n  usePaginationReturnValue,\n  usePagination,\n  PaginatedApiActorType,\n  PaginatedApiRequest,\n} from './PaginatedResponse.machine';\nimport { PAGINATED_MACHINE_ID } from './constants';\n\nconst ConnectorsPageContext =\n  createContext<ConnectorsMachineInterpretType | null>(null);\ntype ConnectorsPageProviderPropsType = {\n  accessToken: () => Promise<string>;\n  connectorsApiBasePath: string;\n  onError: (error: string) => void;\n};\n\nexport const ConnectorsPageProvider: FunctionComponent<ConnectorsPageProviderPropsType> =\n  ({ children, accessToken, connectorsApiBasePath, onError }) => {\n    const service = useInterpret(connectorsPageMachine, {\n      context: { accessToken, connectorsApiBasePath, onError },\n      devTools: true,\n    });\n    return (\n      <ConnectorsPageContext.Provider value={service}>\n        {children}\n      </ConnectorsPageContext.Provider>\n    );\n  };\n\nexport const useConnectorsPageMachineService =\n  (): ConnectorsMachineInterpretType => {\n    const service = useContext(ConnectorsPageContext);\n    if (!service) {\n      throw new Error(\n        `useConnectorsMachineService() must be used in a child of <ConnectorsMachineProvider>`\n      );\n    }\n    return service;\n  };\n\nexport const useConnectorsPageIsReady = () => {\n  const service = useConnectorsPageMachineService();\n  return useSelector(\n    service,\n    useCallback(\n      (state: typeof service.state) => {\n        return state.matches({ root: { api: 'ready' } });\n      },\n      [service]\n    )\n  );\n};\n\ntype useConnectorsMachineReturnType = usePaginationReturnValue<\n  {},\n  ConnectorMachineActorRef\n> & {\n  selectedConnector: Connector | undefined;\n  deselectConnector: () => void;\n  query: (props: PaginatedApiRequest<{}>) => void;\n};\n\nexport const useConnectorsMachine = (): useConnectorsMachineReturnType => {\n  const service = useConnectorsPageMachineService();\n\n  const apiData = usePagination<Connector, {}, ConnectorMachineActorRef>(\n    service.state.children[PAGINATED_MACHINE_ID] as PaginatedApiActorType<\n      Connector,\n      {},\n      ConnectorMachineActorRef\n    >\n  );\n  const { selectedConnector } = useSelector(\n    service,\n    useCallback(\n      (state: typeof service.state) => ({\n        selectedConnector: state.context.selectedConnector,\n      }),\n      [service]\n    )\n  );\n\n  const deselectConnector = useCallback(() => {\n    service.send({ type: 'deselectConnector' });\n  }, [service]);\n\n  const query = useCallback(\n    (props: PaginatedApiRequest<{}>) => {\n      service.send({ type: 'api.query', ...props });\n    },\n    [service]\n  );\n\n  return {\n    ...apiData,\n    selectedConnector,\n    deselectConnector,\n    query,\n  };\n};\n","import React, { FunctionComponent } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { css } from '@patternfly/react-styles';\nimport {\n  IActions,\n  TableComposable,\n  Tbody,\n  Td,\n  Th,\n  Thead,\n  Tr,\n} from '@patternfly/react-table';\n\nimport { ConnectorStatus } from './ConnectorStatus';\nimport './ConnectorsTable.css';\n\nexport const ConnectorsTable: FunctionComponent = ({ children }) => {\n  const { t } = useTranslation();\n  return (\n    <TableComposable\n      aria-label=\"Sortable Table\"\n      className={css('connectors-table-view__table')}\n    >\n      <Thead>\n        <Tr>\n          <Th>{t('Name')}</Th>\n          <Th>{t('Type')}</Th>\n          {/* <Th>{t('Category')}</Th> */}\n          <Th>{t('Status')}</Th>\n        </Tr>\n      </Thead>\n      <Tbody>{children}</Tbody>\n    </TableComposable>\n  );\n};\n\ntype ConnectorsTableRowProps = {\n  connectorId: string;\n  name: string;\n  type: string;\n  category: string;\n  status: string;\n  isSelected: boolean;\n  canStart: boolean;\n  canStop: boolean;\n  canDelete: boolean;\n  onStart: () => void;\n  onStop: () => void;\n  onDelete: () => void;\n  onSelect: () => void;\n};\nexport const ConnectorsTableRow: FunctionComponent<ConnectorsTableRowProps> = ({\n  connectorId,\n  name,\n  type,\n  status,\n  isSelected,\n  canStart,\n  canStop,\n  canDelete,\n  onStart,\n  onStop,\n  onDelete,\n  onSelect,\n}) => {\n  const { t } = useTranslation();\n\n  const actions: IActions = [\n    {\n      title: 'Start',\n      onClick: onStart,\n      isDisabled: !canStart,\n    },\n    {\n      title: 'Stop',\n      onClick: onStop,\n      isDisabled: !canStop,\n    },\n    {\n      title: 'Delete',\n      onClick: onDelete,\n      isDisabled: !canDelete,\n    },\n    {\n      isSeparator: true,\n    },\n    {\n      title: 'Details',\n      onClick: onSelect,\n    },\n  ];\n\n  return (\n    <Tr\n      onClick={(event) => {\n        // send the event only if the click didn't happen on the actions button\n        if ((event.target as any | undefined)?.type !== 'button') {\n          onSelect();\n        }\n      }}\n      className={css(\n        'pf-c-table-row__item',\n        'pf-m-selectable',\n        isSelected && 'pf-m-selected'\n      )}\n    >\n      <Td dataLabel={t('Name')}>{name}</Td>\n      <Td dataLabel={t('Type')}>{type}</Td>\n      {/* <Td dataLabel={t('Category')}>{category}</Td> */}\n      <Td dataLabel={t('Status')}>\n        <ConnectorStatus name={name} status={status} />\n      </Td>\n      <Td\n        actions={{ items: actions }}\n        data-testid={`actions-for-${connectorId}`}\n      />\n    </Tr>\n  );\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { Pagination as PFPagination } from '@patternfly/react-core';\n\nexport type PaginationProps = {\n  itemCount: number;\n  page: number;\n  perPage: number;\n  isCompact?: boolean;\n  onChange: (page: number, perPage: number) => void;\n};\nexport const Pagination: FunctionComponent<PaginationProps> = ({\n  itemCount,\n  page,\n  perPage,\n  isCompact = false,\n  onChange,\n}) => {\n  const defaultPerPageOptions = [\n    {\n      title: '1',\n      value: 1,\n    },\n    {\n      title: '5',\n      value: 5,\n    },\n    {\n      title: '10',\n      value: 10,\n    },\n  ];\n  return (\n    <PFPagination\n      itemCount={itemCount}\n      page={page}\n      perPage={perPage}\n      perPageOptions={defaultPerPageOptions}\n      onSetPage={(_, page) => onChange(page, perPage)}\n      onPerPageSelect={(_, perPage) => onChange(page, perPage)}\n      variant={isCompact ? 'top' : 'bottom'}\n      isCompact={isCompact}\n    />\n  );\n};\n","import debounce from 'lodash.debounce';\nimport { useCallback } from 'react';\n\nexport const useDebounce = (\n  fnToDebounce: (...args: any) => any,\n  durationInMs = 200\n) => {\n  if (isNaN(durationInMs)) {\n    throw new TypeError('durationInMs for debounce should be a number');\n  }\n\n  if (typeof fnToDebounce !== 'function') {\n    throw new TypeError('fnToDebounce should be a function');\n  }\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return useCallback(debounce(fnToDebounce, durationInMs), [\n    fnToDebounce,\n    durationInMs,\n  ]);\n};\n","import React, { FunctionComponent, useRef } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport {\n  Button,\n  InputGroup,\n  TextInput,\n  Toolbar,\n  ToolbarContent,\n  ToolbarGroup,\n  ToolbarItem,\n  ToolbarToggleGroup,\n} from '@patternfly/react-core';\nimport { FilterIcon, SearchIcon } from '@patternfly/react-icons';\n\nimport { Pagination, PaginationProps } from './Pagination';\nimport { useDebounce } from './useDebounce';\n\ntype ConnectorsToolbarProps = {} & PaginationProps;\nexport const ConnectorsToolbar: FunctionComponent<ConnectorsToolbarProps> = ({\n  itemCount,\n  page,\n  perPage,\n  onChange,\n}) => {\n  const searchInputRef = useRef<HTMLInputElement | null>(null);\n  const debouncedOnChange = useDebounce(onChange, 1000);\n\n  // const [statuses, setStatuses] = useState<string[]>([\n  //   'Pending',\n  //   'Created',\n  //   'Cancelled',\n  // ]);\n  // const [statusesToggled, setStatusesToggled] = useState(false);\n  // const clearAllFilters = useCallback(() => {\n  //   setSearchValue('');\n  //   setStatuses([]);\n  // }, []);\n  // const toggleStatuses = useCallback(\n  //   () => setStatusesToggled(prev => !prev),\n  //   []\n  // );\n  // const onSelectStatus = useCallback(\n  //   (_, status) =>\n  //     setStatuses(prev =>\n  //       prev.includes(status)\n  //         ? prev.filter(s => s !== status)\n  //         : [...prev, status]\n  //     ),\n  //   []\n  // );\n  // const statusMenuItems = [\n  //   <SelectOption key=\"statusPending\" value=\"Pending\" />,\n  //   <SelectOption key=\"statusCreated\" value=\"Created\" />,\n  //   <SelectOption key=\"statusCancelled\" value=\"Cancelled\" />,\n  // ];\n  // ensure the search input value reflects what's specified in the request object\n  // useEffect(() => {\n  //   if (searchInputRef.current) {\n  //     searchInputRef.current.value = (request.name as string | undefined) || '';\n  //   }\n  // }, [searchInputRef, request]);\n  const toggleGroupItems = (\n    <>\n      <ToolbarItem>\n        <InputGroup>\n          <TextInput\n            name=\"name\"\n            id=\"name\"\n            type=\"search\"\n            aria-label=\"filter by connector name\"\n            onChange={(value) =>\n              debouncedOnChange({\n                size: perPage,\n                page: 1,\n                name: value,\n              })\n            }\n            ref={searchInputRef}\n          />\n          <Button\n            variant={'control'}\n            aria-label=\"search button for search input\"\n          >\n            <SearchIcon />\n          </Button>\n        </InputGroup>\n      </ToolbarItem>\n      {/* <ToolbarGroup variant=\"filter-group\">\n              <ToolbarFilter\n                chips={statuses}\n                deleteChip={onSelectStatus}\n                deleteChipGroup={() => setStatuses([])}\n                categoryName=\"Status\"\n              >\n                <Select\n                  variant={'checkbox'}\n                  aria-label=\"Status\"\n                  onToggle={toggleStatuses}\n                  onSelect={onSelectStatus}\n                  selections={statuses}\n                  isOpen={statusesToggled}\n                  placeholderText=\"Status\"\n                >\n                  {statusMenuItems}\n                </Select>\n              </ToolbarFilter>\n            </ToolbarGroup> */}\n    </>\n  );\n  const toolbarItems = (\n    <>\n      <ToolbarToggleGroup toggleIcon={<FilterIcon />} breakpoint=\"xl\">\n        {toggleGroupItems}\n      </ToolbarToggleGroup>\n      <ToolbarGroup variant=\"icon-button-group\">\n        <ToolbarItem>\n          <NavLink\n            className=\"pf-c-button pf-m-primary\"\n            to={'/create-connector'}\n          >\n            Create Connector\n          </NavLink>\n        </ToolbarItem>\n      </ToolbarGroup>\n      <ToolbarItem variant=\"pagination\" alignment={{ default: 'alignRight' }}>\n        <Pagination\n          itemCount={itemCount}\n          page={page}\n          perPage={perPage}\n          onChange={onChange}\n          isCompact={true}\n        />\n      </ToolbarItem>\n    </>\n  );\n\n  return (\n    <Toolbar id=\"toolbar-group-types\" collapseListedFiltersBreakpoint=\"xl\">\n      <ToolbarContent>{toolbarItems}</ToolbarContent>\n    </Toolbar>\n  );\n};\n","import React, { createContext, FunctionComponent, useContext } from 'react';\n\ntype AppContextType = {\n  /**\n   * Gets the JWT needed by all the API calls. The token comes from Keycloak\n   * when running the app in development mode. In production, it will come from\n   * the `@rhoas/app-services-ui-shared` package.\n   */\n  getToken: () => Promise<string>;\n  /**\n   * The base path that gets prepended to all API urls.\n   * Eg. A `connectorsApiBasePath` of `http://my.api.com/something` for an API `/my-api` will\n   * generate an URL like `http://my.api.com/something/my-api`\n   */\n  connectorsApiBasePath: string;\n  kafkaManagementApiBasePath: string;\n};\nconst CosContext = createContext<AppContextType | null>(null);\n\nexport const CosContextProvider: FunctionComponent<AppContextType> = ({\n  getToken,\n  connectorsApiBasePath,\n  kafkaManagementApiBasePath,\n  children,\n}) => (\n  <CosContext.Provider\n    value={{\n      getToken,\n      connectorsApiBasePath,\n      kafkaManagementApiBasePath,\n    }}\n  >\n    {children}\n  </CosContext.Provider>\n);\n\nexport const useCos = () => {\n  const context = useContext(CosContext);\n  if (!context)\n    throw new Error('useAppContext must be used inside an AppContextProvider');\n\n  return {\n    ...context,\n  };\n};\n","import React, { useState } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport {\n  Button,\n  Modal,\n  ModalVariant,\n  Stack,\n  StackItem,\n  TextInput,\n} from '@patternfly/react-core';\n\nexport interface DialogDeleteConnectorProps {\n  connectorName: string | undefined;\n  onCancel: () => void;\n  onConfirm: () => void;\n  showDialog: boolean;\n}\n\n/**\n * A modal dialog to display confirmation for connector deletion.\n */\nexport const DialogDeleteConnector: React.FunctionComponent<DialogDeleteConnectorProps> =\n  ({ connectorName, onCancel, onConfirm, showDialog }) => {\n    const { t } = useTranslation();\n    const [nameValue, setNameValue] = useState('');\n    const canDelete = nameValue === connectorName;\n\n    const onCancelDelete = () => {\n      setNameValue('');\n      onCancel();\n    };\n\n    const onConfirmDelete = () => {\n      setNameValue('');\n      onConfirm();\n    };\n\n    return (\n      <Modal\n        variant={ModalVariant.small}\n        title={t('Delete connector')}\n        titleIconVariant=\"warning\"\n        isOpen={showDialog}\n        onClose={onCancel}\n        actions={[\n          <Button\n            key=\"confirm\"\n            variant=\"danger\"\n            isDisabled={!canDelete}\n            onClick={onConfirmDelete}\n          >\n            {t('Delete')}\n          </Button>,\n          <Button key=\"cancel\" variant=\"link\" onClick={onCancelDelete}>\n            {t('Cancel')}\n          </Button>,\n        ]}\n      >\n        <Stack>\n          <StackItem>\n            <Trans>\n              Connector <strong>{{ connectorName }}</strong> will be deleted.\n            </Trans>\n          </StackItem>\n          <StackItem>\n            <Trans>\n              Type <strong>{{ connectorName }}</strong> to confirm the deletion.\n            </Trans>\n          </StackItem>\n          <StackItem>\n            <TextInput\n              value={nameValue}\n              type=\"text\"\n              onChange={setNameValue}\n              aria-label=\"name input\"\n            />\n          </StackItem>\n        </Stack>\n      </Modal>\n    );\n  };\n","import React, { FunctionComponent } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport {\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Title,\n  TitleSizes,\n} from '@patternfly/react-core';\nimport { ExclamationCircleIcon } from '@patternfly/react-icons';\n\nexport const EmptyStateGenericError: FunctionComponent = () => {\n  const { t } = useTranslation();\n  return (\n    <EmptyState variant={EmptyStateVariant.full}>\n      <EmptyStateIcon icon={ExclamationCircleIcon} />\n      <Title headingLevel={'h1'} size={TitleSizes['lg']}>\n        {t('Something went wrong')}\n      </Title>\n      <EmptyStateBody>\n        {t('There was a problem processing the request. Please try again.')}\n      </EmptyStateBody>\n    </EmptyState>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport {\n  Button,\n  ButtonVariant,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Title,\n  TitleSizes,\n} from '@patternfly/react-core';\nimport SpaceShuttleIcon from '@patternfly/react-icons/dist/js/icons/space-shuttle-icon';\nimport { css } from '@patternfly/react-styles';\n\ntype EmptyStateGettingStartedProps = {\n  onHelp: () => void;\n  onCreate: () => void;\n};\n\nexport const EmptyStateGettingStarted: FunctionComponent<EmptyStateGettingStartedProps> =\n  ({ onHelp, onCreate }) => {\n    const { t } = useTranslation();\n    return (\n      <EmptyState\n        variant={EmptyStateVariant.xl}\n        className={css('pf-u-pt-2xl pf-u-pt-3xl-on-md')}\n      >\n        <EmptyStateIcon icon={SpaceShuttleIcon} />\n        <Title headingLevel={'h1'} size={TitleSizes['4xl']}>\n          {t('Welcome to Managed Connectors')}\n        </Title>\n        <EmptyStateBody>\n          <Trans>\n            For help getting started, access the{' '}\n            <Button\n              variant={ButtonVariant.link}\n              isSmall\n              isInline\n              onClick={onHelp}\n            >\n              quick start guide.\n            </Button>\n          </Trans>\n        </EmptyStateBody>\n        <Button variant={'primary'} onClick={onCreate}>\n          {t('Create Connector')}\n        </Button>\n      </EmptyState>\n    );\n  };\n","import React, { FunctionComponent } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport {\n  EmptyState,\n  EmptyStateVariant,\n  EmptyStateIcon,\n  Title,\n  TitleSizes,\n  EmptyStateBody,\n  Button,\n  ButtonVariant,\n} from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport { css } from '@patternfly/react-styles';\n\ntype NoMatchFoundProps = {\n  onClear: () => void;\n};\nexport const EmptyStateNoMatchesFound: FunctionComponent<NoMatchFoundProps> = ({\n  onClear,\n}) => {\n  const { t } = useTranslation();\n  return (\n    <EmptyState\n      variant={EmptyStateVariant.large}\n      className={css('pf-u-pt-2xl pf-u-pt-3xl-on-md')}\n    >\n      <EmptyStateIcon icon={SearchIcon} />\n      <Title headingLevel={'h2'} size={TitleSizes['xl']}>\n        {t('No results found')}\n      </Title>\n      <EmptyStateBody>\n        <Trans>\n          No results match the filter criteria.{' '}\n          <Button\n            variant={ButtonVariant.link}\n            isSmall\n            isInline\n            onClick={onClear}\n          >\n            {t('Clear all filters')}\n          </Button>{' '}\n          to show results.\n        </Trans>\n      </EmptyStateBody>\n    </EmptyState>\n  );\n};\n","import React, { FunctionComponent, useCallback, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { Card, PageSection, TextContent, Title } from '@patternfly/react-core';\n\nimport { AlertVariant, useAlert } from '@rhoas/app-services-ui-shared';\nimport { Connector } from '@rhoas/connector-management-sdk';\n\nimport { ConnectorMachineActorRef, useConnector } from './Connector.machine';\nimport { ConnectorDrawer } from './ConnectorDrawer';\nimport {\n  ConnectorsPageProvider,\n  useConnectorsMachine,\n  useConnectorsPageIsReady,\n} from './ConnectorsPageContext';\nimport { ConnectorsTable, ConnectorsTableRow } from './ConnectorsTable';\nimport { ConnectorsToolbar } from './ConnectorsToolbar';\nimport { useCos } from './CosContext';\nimport { DialogDeleteConnector } from './DialogDeleteConnector';\nimport { EmptyStateGenericError } from './EmptyStateGenericError';\nimport { EmptyStateGettingStarted } from './EmptyStateGettingStarted';\nimport { EmptyStateNoMatchesFound } from './EmptyStateNoMatchesFound';\nimport { Loading } from './Loading';\nimport { Pagination } from './Pagination';\n\ntype ConnectedConnectorsPageProps = {\n  onCreateConnector: () => void;\n};\nexport const ConnectedConnectorsPage: FunctionComponent<ConnectedConnectorsPageProps> =\n  ({ onCreateConnector }) => {\n    const { t } = useTranslation();\n    const alert = useAlert();\n    const { connectorsApiBasePath, getToken } = useCos();\n    const onError = useCallback(\n      (description: string) => {\n        alert?.addAlert({\n          id: 'connectors-table-error',\n          variant: AlertVariant.danger,\n          title: t('common.something_went_wrong'),\n          description,\n        });\n      },\n      [alert, t]\n    );\n\n    return (\n      <ConnectorsPageProvider\n        accessToken={getToken}\n        connectorsApiBasePath={connectorsApiBasePath}\n        onError={onError}\n      >\n        <ConnectorsPage onCreateConnector={onCreateConnector} />\n      </ConnectorsPageProvider>\n    );\n  };\n\nexport type ConnectorsPageProps = {\n  onCreateConnector: () => void;\n};\n\nexport const ConnectorsPage: FunctionComponent<ConnectorsPageProps> = ({\n  onCreateConnector,\n}: ConnectorsPageProps) => {\n  const isReady = useConnectorsPageIsReady();\n  return isReady ? (\n    <ConnectorsPageBody onCreateConnector={onCreateConnector} />\n  ) : (\n    <Loading />\n  );\n};\n\nexport type ConnectorsPageBodyProps = {\n  onCreateConnector: () => void;\n};\n\nexport const ConnectorsPageBody: FunctionComponent<ConnectorsPageBodyProps> = ({\n  onCreateConnector,\n}: ConnectorsPageBodyProps) => {\n  const {\n    loading,\n    error,\n    noResults,\n    queryEmpty,\n    firstRequest,\n    request,\n    response,\n    selectedConnector,\n    deselectConnector,\n    query,\n  } = useConnectorsMachine();\n\n  switch (true) {\n    case firstRequest:\n      return <Loading />;\n    case queryEmpty:\n      return (\n        <EmptyStateNoMatchesFound\n          onClear={() => query({ page: 1, size: 10 })}\n        />\n      );\n    case loading:\n      return (\n        <>\n          <PageSection variant={'light'}>\n            <ConnectorsPageTitle />\n          </PageSection>\n          <PageSection padding={{ default: 'noPadding' }} isFilled>\n            <Card>\n              <ConnectorsToolbar\n                itemCount={response?.total || 0}\n                page={request.page}\n                perPage={request.size}\n                onChange={(page, size) => query({ page, size })}\n              />\n              <Loading />\n            </Card>\n          </PageSection>\n        </>\n      );\n    case noResults:\n      return (\n        <EmptyStateGettingStarted\n          onCreate={onCreateConnector}\n          onHelp={function (): void {\n            throw new Error('Function not implemented.');\n          }}\n        />\n      );\n    case error:\n      return <EmptyStateGenericError />;\n    default:\n      return (\n        <ConnectorDrawer\n          connector={selectedConnector}\n          onClose={deselectConnector}\n        >\n          <PageSection variant={'light'}>\n            <ConnectorsPageTitle />\n          </PageSection>\n          <PageSection padding={{ default: 'noPadding' }} isFilled>\n            <ConnectedTable />\n          </PageSection>\n        </ConnectorDrawer>\n      );\n  }\n};\n\nconst ConnectorsPageTitle: FunctionComponent = () => {\n  const { t } = useTranslation();\n  return (\n    <TextContent>\n      <Title headingLevel=\"h1\">{t('Connectors')}</Title>\n    </TextContent>\n  );\n};\n\nexport const ConnectedTable: FunctionComponent = () => {\n  const { request, response, selectedConnector, query } =\n    useConnectorsMachine();\n  return (\n    <Card className={'pf-u-pb-xl'}>\n      <ConnectorsToolbar\n        itemCount={response?.total || 0}\n        page={request.page}\n        perPage={request.size}\n        onChange={(page, size) => query({ page, size })}\n      />\n      <div className={'pf-u-p-md'}>\n        <ConnectorsTable>\n          {response?.items?.map((ref) => (\n            <ConnectedRow\n              connectorRef={ref}\n              key={ref.id}\n              selectedConnector={selectedConnector}\n            />\n          ))}\n        </ConnectorsTable>\n      </div>\n      <Pagination\n        itemCount={response?.total || 0}\n        page={request.page}\n        perPage={request.size}\n        onChange={(page, size) => query({ page, size })}\n        isCompact={false}\n      />\n    </Card>\n  );\n};\n\ntype ConnectedRowProps = {\n  connectorRef: ConnectorMachineActorRef;\n  selectedConnector?: Connector;\n};\nconst ConnectedRow: FunctionComponent<ConnectedRowProps> = ({\n  connectorRef,\n  selectedConnector,\n}) => {\n  const {\n    connector,\n    canStart,\n    canStop,\n    canDelete,\n    onStart,\n    onStop,\n    onDelete,\n    onSelect,\n  } = useConnector(connectorRef);\n\n  const [showDeleteConnectorConfirm, setShowDeleteConnectorConfirm] =\n    useState(false);\n\n  const doCancelDeleteConnector = () => {\n    setShowDeleteConnectorConfirm(false);\n  };\n\n  const doDeleteConnector = () => {\n    setShowDeleteConnectorConfirm(false);\n    onDelete();\n  };\n\n  return (\n    <>\n      <DialogDeleteConnector\n        connectorName={connector.metadata?.name}\n        showDialog={showDeleteConnectorConfirm}\n        onCancel={doCancelDeleteConnector}\n        onConfirm={doDeleteConnector}\n      />\n      <ConnectorsTableRow\n        connectorId={connector.id!}\n        name={connector.metadata!.name!}\n        type={connector.connector_type_id!}\n        category={'TODO: MISSING'}\n        status={connector.status!}\n        isSelected={selectedConnector?.id === connector.id}\n        canStart={canStart}\n        canStop={canStop}\n        canDelete={canDelete}\n        onStart={onStart}\n        onStop={onStop}\n        onSelect={onSelect}\n        onDelete={() => setShowDeleteConnectorConfirm(true)}\n      />\n    </>\n  );\n};\n","import { ActorRefFrom, send, sendParent } from 'xstate';\nimport { createModel } from 'xstate/lib/model';\n\nimport { ConnectorCluster } from '@rhoas/connector-management-sdk';\nimport { KafkaRequest } from '@rhoas/kafka-management-sdk';\n\nimport {\n  ApiSuccessResponse,\n  getPaginatedApiMachineEvents,\n  makePaginatedApiMachine,\n} from './PaginatedResponse.machine';\nimport { fetchClusters } from './api';\nimport { PAGINATED_MACHINE_ID } from './constants';\n\ntype Context = {\n  accessToken: () => Promise<string>;\n  connectorsApiBasePath: string;\n  response?: ApiSuccessResponse<ConnectorCluster>;\n  selectedCluster?: ConnectorCluster;\n  error?: Object;\n};\n\nconst model = createModel(\n  {\n    accessToken: () => Promise.resolve(''),\n    connectorsApiBasePath: '',\n    clusters: undefined,\n    selectedCluster: undefined,\n    error: undefined,\n  } as Context,\n  {\n    events: {\n      selectCluster: (payload: { selectedCluster: string }) => ({\n        ...payload,\n      }),\n      deselectCluster: () => ({}),\n      confirm: () => ({}),\n      ...getPaginatedApiMachineEvents<KafkaRequest, {}, KafkaRequest>(),\n    },\n  }\n);\n\nconst success = model.assign((_context, event) => {\n  const { type, ...response } = event;\n  return {\n    response,\n  };\n}, 'api.success');\nconst selectCluster = model.assign(\n  {\n    selectedCluster: (context, event) => {\n      return context.response?.items?.find(\n        (i) => i.id === event.selectedCluster\n      );\n    },\n  },\n  'selectCluster'\n);\nconst reset = model.assign(\n  {\n    selectedCluster: undefined,\n  },\n  'deselectCluster'\n);\n\nexport const clustersMachine = model.createMachine(\n  {\n    id: 'clusters',\n    initial: 'root',\n    context: model.initialContext,\n    states: {\n      root: {\n        type: 'parallel',\n        states: {\n          api: {\n            initial: 'idle',\n            invoke: {\n              id: PAGINATED_MACHINE_ID,\n              src: (context) =>\n                makePaginatedApiMachine<KafkaRequest, {}, KafkaRequest>(\n                  fetchClusters(context),\n                  (i) => i\n                ),\n            },\n            states: {\n              idle: {\n                entry: send('api.query', { to: PAGINATED_MACHINE_ID }),\n                on: {\n                  'api.ready': 'ready',\n                },\n              },\n              ready: {},\n            },\n            on: {\n              'api.refresh': {\n                actions: send((_, e) => e, { to: PAGINATED_MACHINE_ID }),\n              },\n              'api.nextPage': {\n                actions: send((_, e) => e, { to: PAGINATED_MACHINE_ID }),\n              },\n              'api.prevPage': {\n                actions: send((_, e) => e, { to: PAGINATED_MACHINE_ID }),\n              },\n              'api.query': {\n                actions: send((_, e) => e, { to: PAGINATED_MACHINE_ID }),\n              },\n              'api.success': { actions: success },\n            },\n          },\n          selection: {\n            id: 'selection',\n            initial: 'verify',\n            states: {\n              verify: {\n                always: [\n                  { target: 'selecting', cond: 'noClusterSelected' },\n                  { target: 'valid', cond: 'clusterSelected' },\n                ],\n              },\n              selecting: {\n                entry: sendParent('isInvalid'),\n                on: {\n                  selectCluster: {\n                    target: 'valid',\n                    actions: selectCluster,\n                  },\n                },\n              },\n              valid: {\n                entry: sendParent('isValid'),\n                on: {\n                  selectCluster: {\n                    target: 'verify',\n                    actions: selectCluster,\n                    cond: (_, event) => event.selectedCluster !== undefined,\n                  },\n                  deselectCluster: {\n                    target: 'verify',\n                    actions: reset,\n                  },\n                  confirm: {\n                    target: '#done',\n                    cond: 'clusterSelected',\n                  },\n                },\n              },\n            },\n          },\n        },\n      },\n      done: {\n        id: 'done',\n        type: 'final',\n        data: {\n          selectedCluster: (context: Context) => context.selectedCluster,\n        },\n      },\n    },\n  },\n  {\n    guards: {\n      clusterSelected: (context) => context.selectedCluster !== undefined,\n      noClusterSelected: (context) => context.selectedCluster === undefined,\n    },\n  }\n);\n\nexport type ClustersMachineActorRef = ActorRefFrom<typeof clustersMachine>;\n","import { ActorRefFrom, sendParent } from 'xstate';\nimport { createModel } from 'xstate/lib/model';\n\nimport { ConnectorType } from '@rhoas/connector-management-sdk';\n\ntype Context = {\n  connector: ConnectorType;\n  steps: string[];\n  activeStep: number;\n  isActiveStepValid: boolean;\n  configuration: unknown;\n};\n\nconst model = createModel(\n  {\n    connector: {\n      id: 'something',\n      name: 'something',\n      version: '0.1',\n      json_schema: {},\n    },\n    steps: [],\n    activeStep: 0,\n    isActiveStepValid: false,\n    configuration: undefined,\n  } as Context,\n  {\n    events: {\n      entry: () => ({}),\n      change: ({\n        configuration,\n        isValid,\n      }: {\n        configuration: unknown;\n        isValid: boolean;\n      }) => ({ configuration, isValid }),\n      next: () => ({}),\n      prev: () => ({}),\n      complete: () => ({}),\n    },\n    actions: {\n      changedStep: () => ({}),\n    },\n  }\n);\n\nconst nextStep = model.assign(\n  (context) => ({\n    activeStep: Math.min(context.activeStep + 1, context.steps.length - 1),\n    isActiveStepValid: false,\n  }),\n  'next'\n);\nconst prevStep = model.assign(\n  (context) => ({\n    activeStep: Math.max(context.activeStep - 1, 0),\n    isActiveStepValid: false,\n  }),\n  'prev'\n);\nconst change = model.assign(\n  (_, event) => ({\n    configuration: event.configuration,\n    isActiveStepValid: event.isValid,\n  }),\n  'change'\n);\n\nexport const configuratorMachine = model.createMachine(\n  {\n    id: 'configurator',\n    initial: 'configuring',\n    context: {\n      connector: {\n        id: 'something',\n        name: 'something',\n        version: '0.1',\n        json_schema: {},\n      },\n      steps: ['one', 'two', 'three'],\n      activeStep: 0,\n      isActiveStepValid: false,\n      configuration: undefined,\n    },\n    states: {\n      configuring: {\n        entry: sendParent('isInvalid'),\n        always: [{ target: 'valid', cond: 'activeStepValid' }],\n      },\n      valid: {\n        id: 'valid',\n        initial: 'determineStep',\n        entry: sendParent('isValid'),\n        states: {\n          determineStep: {\n            always: [\n              { target: '#valid.lastStep', cond: 'isLastStep' },\n              { target: '#valid.hasNextStep' },\n            ],\n          },\n          hasNextStep: {\n            on: {\n              next: {\n                target: '#configurator.configuring',\n                actions: [nextStep, 'changedStep'],\n              },\n            },\n          },\n          lastStep: {\n            on: {\n              next: '#configurator.configured',\n            },\n          },\n        },\n      },\n      configured: {\n        type: 'final',\n        data: ({ configuration }) => ({ configuration }),\n      },\n    },\n    on: {\n      change: {\n        target: 'configuring',\n        actions: change,\n      },\n      prev: {\n        target: 'configuring',\n        actions: [prevStep, 'changedStep'],\n      },\n    },\n  },\n  {\n    actions: {\n      changedStep: sendParent((context) => ({\n        type: 'changedStep',\n        step: context.activeStep,\n      })),\n    },\n    guards: {\n      isLastStep: (context) => context.activeStep === context.steps.length - 1,\n      activeStepValid: (context) => context.isActiveStepValid,\n    },\n  }\n);\n\nexport type ConfiguratorActorRef = ActorRefFrom<typeof configuratorMachine>;\n","import { ComponentType } from 'react';\n\nimport { assign, createSchema } from 'xstate';\nimport { escalate } from 'xstate/lib/actions';\nimport { createModel } from 'xstate/lib/model';\n\nimport { ConnectorType } from '@rhoas/connector-management-sdk';\n\nexport type ConnectorConfiguratorProps = {\n  activeStep?: number;\n  connector: ConnectorType;\n  configuration?: unknown;\n  onChange: (configuration: Map<string, unknown>, isValid: boolean) => void;\n};\n\nexport type ConnectorConfiguratorComponent =\n  ComponentType<ConnectorConfiguratorProps>;\nexport type ConnectorConfiguratorType = ConnectorConfiguratorComponent | false;\n\nexport type ConnectorConfiguratorResponse = {\n  Configurator: ConnectorConfiguratorType;\n  steps: string[] | false;\n};\n\ntype Context = {\n  connector: ConnectorType;\n  Configurator?: ConnectorConfiguratorType;\n  steps?: string[] | false;\n  error?: string;\n};\n\nconst configuratorLoaderMachineSchema = {\n  context: createSchema<Context>(),\n};\n\nconst configuratorLoaderMachineModel = createModel({\n  connector: { id: 'something', name: 'something', version: '0.1' },\n  Configurator: undefined,\n  steps: undefined,\n  error: undefined,\n} as Context);\n\nexport const configuratorLoaderMachine =\n  configuratorLoaderMachineModel.createMachine({\n    schema: configuratorLoaderMachineSchema,\n    id: 'configurator',\n    initial: 'loading',\n    context: configuratorLoaderMachineModel.initialContext,\n    states: {\n      loading: {\n        invoke: {\n          id: 'fetchConfigurator',\n          src: 'fetchConfigurator',\n          onDone: {\n            target: 'success',\n            actions: assign((_context, event) => event.data),\n          },\n          onError: {\n            target: 'failure',\n            actions: assign({\n              error: (_context, event) => event.data,\n            }),\n          },\n        },\n      },\n      failure: {\n        entry: escalate((context) => ({ message: context.error })),\n      },\n      success: {\n        type: 'final',\n        data: ({ Configurator, steps }: Context) => ({\n          Configurator: Configurator!,\n          steps: steps as string[] | false,\n        }),\n      },\n    },\n  });\n","import { ActorRefFrom, send, sendParent } from 'xstate';\nimport { createModel } from 'xstate/lib/model';\n\nimport { ConnectorType } from '@rhoas/connector-management-sdk';\n\nimport {\n  ApiSuccessResponse,\n  getPaginatedApiMachineEvents,\n  makePaginatedApiMachine,\n} from './PaginatedResponse.machine';\nimport { ConnectorTypesQuery, fetchConnectorTypes } from './api';\nimport { PAGINATED_MACHINE_ID } from './constants';\n\ntype Context = {\n  accessToken: () => Promise<string>;\n  connectorsApiBasePath: string;\n  response?: ApiSuccessResponse<ConnectorType>;\n  selectedConnector?: ConnectorType;\n  error?: Object;\n};\n\nconst model = createModel(\n  {\n    accessToken: () => Promise.resolve(''),\n    connectorsApiBasePath: '',\n    response: undefined,\n    selectedConnector: undefined,\n    error: undefined,\n  } as Context,\n  {\n    events: {\n      selectConnector: (payload: { selectedConnector: string }) => ({\n        ...payload,\n      }),\n      deselectConnector: () => ({}),\n      confirm: () => ({}),\n      ...getPaginatedApiMachineEvents<\n        ConnectorType,\n        ConnectorTypesQuery,\n        ConnectorType\n      >(),\n    },\n  }\n);\n\nconst success = model.assign((_context, event) => {\n  const { type, ...response } = event;\n  return {\n    response,\n  };\n}, 'api.success');\nconst selectConnector = model.assign(\n  {\n    selectedConnector: (context, event) => {\n      return context.response?.items?.find(\n        (i) => i.id === event.selectedConnector\n      );\n    },\n  },\n  'selectConnector'\n);\nconst reset = model.assign(\n  {\n    selectedConnector: undefined,\n  },\n  'deselectConnector'\n);\n\nexport const connectorTypesMachine = model.createMachine(\n  {\n    context: model.initialContext,\n    id: 'connectors',\n    initial: 'root',\n    states: {\n      root: {\n        type: 'parallel',\n        states: {\n          api: {\n            initial: 'idle',\n            invoke: {\n              id: PAGINATED_MACHINE_ID,\n              src: (context) =>\n                makePaginatedApiMachine<\n                  ConnectorType,\n                  ConnectorTypesQuery,\n                  ConnectorType\n                >(fetchConnectorTypes(context), (i) => i),\n            },\n            states: {\n              idle: {\n                entry: send(\n                  {\n                    type: 'api.query',\n                    query: { categories: ['sink', 'source'] },\n                  },\n                  { to: PAGINATED_MACHINE_ID }\n                ),\n                on: {\n                  'api.ready': 'ready',\n                },\n              },\n              ready: {},\n            },\n            on: {\n              'api.refresh': {\n                actions: send((_, e) => e, { to: PAGINATED_MACHINE_ID }),\n              },\n              'api.nextPage': {\n                actions: send((_, e) => e, { to: PAGINATED_MACHINE_ID }),\n              },\n              'api.prevPage': {\n                actions: send((_, e) => e, { to: PAGINATED_MACHINE_ID }),\n              },\n              'api.query': {\n                actions: send((_, e) => e, { to: PAGINATED_MACHINE_ID }),\n              },\n              'api.success': { actions: success },\n            },\n          },\n          selection: {\n            id: 'selection',\n            initial: 'verify',\n            states: {\n              verify: {\n                always: [\n                  { target: 'selecting', cond: 'noConnectorSelected' },\n                  { target: 'valid', cond: 'connectorSelected' },\n                ],\n              },\n              selecting: {\n                entry: sendParent('isInvalid'),\n                on: {\n                  selectConnector: {\n                    target: 'valid',\n                    actions: selectConnector,\n                    cond: (_, event) => event.selectedConnector !== undefined,\n                  },\n                },\n              },\n              valid: {\n                entry: sendParent('isValid'),\n                on: {\n                  selectConnector: {\n                    target: 'verify',\n                    actions: selectConnector,\n                  },\n                  deselectConnector: {\n                    target: 'verify',\n                    actions: reset,\n                  },\n                  confirm: {\n                    target: '#done',\n                    cond: 'connectorSelected',\n                  },\n                },\n              },\n            },\n          },\n        },\n      },\n      done: {\n        id: 'done',\n        type: 'final',\n        data: {\n          selectedConnector: (context: Context) => context.selectedConnector,\n        },\n      },\n    },\n  },\n  {\n    guards: {\n      connectorSelected: (context) => context.selectedConnector !== undefined,\n      noConnectorSelected: (context) => context.selectedConnector === undefined,\n    },\n  }\n);\n\nexport type ConnectorTypesMachineActorRef = ActorRefFrom<\n  typeof connectorTypesMachine\n>;\n","import { ActorRefFrom, send } from 'xstate';\nimport { sendParent } from 'xstate/lib/actions';\nimport { createModel } from 'xstate/lib/model';\n\nimport { KafkaRequest } from '@rhoas/kafka-management-sdk';\n\nimport {\n  getPaginatedApiMachineEvents,\n  makePaginatedApiMachine,\n  PaginatedApiResponse,\n} from './PaginatedResponse.machine';\nimport { KafkasQuery, fetchKafkaInstances } from './api';\nimport { PAGINATED_MACHINE_ID } from './constants';\n\ntype Context = {\n  accessToken: () => Promise<string>;\n  kafkaManagementBasePath: string;\n  response?: PaginatedApiResponse<KafkaRequest>;\n  selectedInstance?: KafkaRequest;\n  error?: Object;\n};\n\nconst model = createModel(\n  {\n    accessToken: () => Promise.resolve(''),\n    kafkaManagementBasePath: '',\n    instances: undefined,\n    selectedInstance: undefined,\n    error: undefined,\n  } as Context,\n  {\n    events: {\n      selectInstance: (payload: { selectedInstance: string }) => ({\n        ...payload,\n      }),\n      deselectInstance: () => ({}),\n      confirm: () => ({}),\n      ...getPaginatedApiMachineEvents<\n        KafkaRequest,\n        KafkasQuery,\n        KafkaRequest\n      >(),\n    },\n  }\n);\n\nconst success = model.assign((_context, event) => {\n  const { type, ...response } = event;\n  return {\n    response,\n  };\n}, 'api.success');\nconst selectInstance = model.assign(\n  {\n    selectedInstance: (context, event) => {\n      return context.response?.items?.find(\n        (i) => i.id === event.selectedInstance\n      );\n    },\n  },\n  'selectInstance'\n);\nconst reset = model.assign(\n  {\n    selectedInstance: undefined,\n  },\n  'deselectInstance'\n);\n\nexport const kafkasMachine = model.createMachine(\n  {\n    id: 'kafkas',\n    initial: 'root',\n    context: model.initialContext,\n    states: {\n      root: {\n        type: 'parallel',\n        states: {\n          api: {\n            initial: 'idle',\n            invoke: {\n              id: PAGINATED_MACHINE_ID,\n              src: (context) =>\n                makePaginatedApiMachine<\n                  KafkaRequest,\n                  KafkasQuery,\n                  KafkaRequest\n                >(fetchKafkaInstances(context), (i) => i),\n            },\n            states: {\n              idle: {\n                entry: send('api.query', { to: PAGINATED_MACHINE_ID }),\n                on: {\n                  'api.ready': 'ready',\n                },\n              },\n              ready: {},\n            },\n            on: {\n              'api.refresh': {\n                actions: send((_, e) => e, { to: PAGINATED_MACHINE_ID }),\n              },\n              'api.nextPage': {\n                actions: send((_, e) => e, { to: PAGINATED_MACHINE_ID }),\n              },\n              'api.prevPage': {\n                actions: send((_, e) => e, { to: PAGINATED_MACHINE_ID }),\n              },\n              'api.query': {\n                actions: send((_, e) => e, { to: PAGINATED_MACHINE_ID }),\n              },\n              'api.success': { actions: success },\n            },\n          },\n          selection: {\n            id: 'selection',\n            initial: 'verify',\n            states: {\n              verify: {\n                always: [\n                  { target: 'selecting', cond: 'noInstanceSelected' },\n                  { target: 'valid', cond: 'instanceSelected' },\n                ],\n              },\n              selecting: {\n                entry: sendParent('isInvalid'),\n                on: {\n                  selectInstance: {\n                    target: 'valid',\n                    actions: selectInstance,\n                  },\n                },\n              },\n              valid: {\n                entry: sendParent('isValid'),\n                on: {\n                  selectInstance: {\n                    target: 'verify',\n                    actions: selectInstance,\n                    cond: (_, event) => event.selectedInstance !== undefined,\n                  },\n                  deselectInstance: {\n                    target: 'verify',\n                    actions: reset,\n                  },\n                  confirm: {\n                    target: '#done',\n                    cond: 'instanceSelected',\n                  },\n                },\n              },\n            },\n          },\n        },\n      },\n      done: {\n        id: 'done',\n        type: 'final',\n        data: {\n          selectedInstance: (context: Context) => context.selectedInstance,\n        },\n      },\n    },\n  },\n  {\n    guards: {\n      instanceSelected: (context) => context.selectedInstance !== undefined,\n      noInstanceSelected: (context) => context.selectedInstance === undefined,\n    },\n  }\n);\n\nexport type KafkaMachineActorRef = ActorRefFrom<typeof kafkasMachine>;\n","import Ajv, { ValidateFunction } from 'ajv';\nimport React, { FunctionComponent } from 'react';\nimport { AutoForm, ValidatedQuickForm } from 'uniforms';\nimport { JSONSchemaBridge } from 'uniforms-bridge-json-schema';\nimport { AutoFields, SubmitField } from 'uniforms-patternfly';\n\nimport { Card, CardBody } from '@patternfly/react-core';\n\nconst ajv = new Ajv({\n  allErrors: true,\n  useDefaults: false,\n  strict: 'log',\n  strictSchema: false,\n});\n\nexport function createValidator(schema: object) {\n  const validator = ajv.compile(schema);\n\n  return (model: object) => {\n    validator(model);\n    return validator.errors?.length ? { details: validator.errors } : null;\n  };\n}\n\nexport type CreateValidatorType = ReturnType<typeof createValidator>;\nexport type ValidatorResultType = ValidateFunction<unknown>['errors'];\n\ntype JsonSchemaConfiguratorProps = {\n  schema: Record<string, any>;\n  configuration: unknown;\n  onChange: (configuration: unknown, isValid: boolean) => void;\n};\n\nexport const JsonSchemaConfigurator: FunctionComponent<JsonSchemaConfiguratorProps> =\n  ({ schema, configuration, onChange }) => {\n    schema.type = schema.type || 'object';\n    // suppress the experimental steps from the UI for the moment\n    try {\n      delete schema.properties.steps;\n    } catch (e) {}\n    const schemaValidator = createValidator(schema);\n    const bridge = new JSONSchemaBridge(schema, schemaValidator);\n    return (\n      <KameletForm\n        schema={bridge}\n        model={configuration}\n        onChangeModel={(model: any) => onChange(model, false)}\n        onSubmit={(model: any) => onChange(model, true)}\n        // autosave\n        // autosaveDelay={0}\n      >\n        <AutoFields />\n\n        <Card isPlain>\n          <CardBody>\n            {/*\n            // @ts-expect-error */}\n            <SubmitField value={'Verify configuration'} />\n          </CardBody>\n        </Card>\n        {/* <WizardNext onChange={onChange} /> */}\n      </KameletForm>\n    );\n  };\n\n// const WizardNext: FunctionComponent<{\n//   onChange: (data: unknown, isValid: boolean) => void;\n// }> = ({ onChange }) => {\n//   const { changed, submitted, error, model } = useForm();\n//   const isValid = !error;\n//   const prevChangeModel = useRef<DeepPartial<unknown>>();\n//   useEffect(() => {\n//     if (prevChangeModel.current !== model && changed && submitted) {\n//       prevChangeModel.current = model;\n//       onChange(, isValid);\n//     }\n//   }, [prevChangeModel, changed, submitted, isValid, model, onChange]);\n//   return null;\n// };\n\nfunction Auto(parent: any): any {\n  class _ extends AutoForm.Auto(parent) {\n    static Auto = Auto;\n    onChange(key: string, value: unknown) {\n      if (value === '') return super.onChange(key, undefined);\n\n      super.onChange(key, value);\n    }\n  }\n\n  return _;\n}\n\nconst KameletForm = Auto(ValidatedQuickForm);\n","import { ActorRefFrom, sendParent } from 'xstate';\nimport { createModel } from 'xstate/lib/model';\n\nimport {\n  ConnectorCluster,\n  ConnectorType,\n} from '@rhoas/connector-management-sdk';\nimport { KafkaRequest } from '@rhoas/kafka-management-sdk';\n\nimport { CreateValidatorType, createValidator } from './JsonSchemaConfigurator';\nimport { saveConnector, UserProvidedServiceAccount } from './api';\n\ntype Context = {\n  accessToken: () => Promise<string>;\n  connectorsApiBasePath: string;\n  kafkaManagementApiBasePath: string;\n\n  kafka: KafkaRequest;\n  cluster: ConnectorCluster;\n  connectorType: ConnectorType;\n\n  initialConfiguration: unknown;\n\n  name: string;\n  userServiceAccount?: UserProvidedServiceAccount;\n  configString: string;\n  configStringError?: string;\n  configStringWarnings?: string[];\n  savingError?: string;\n  validator: CreateValidatorType;\n};\n\nconst model = createModel(\n  {\n    initialConfiguration: undefined,\n    configString: '',\n    name: '',\n    validator: createValidator({}),\n  } as Context,\n  {\n    events: {\n      setName: (payload: { name: string }) => payload,\n      setServiceAccount: (payload: {\n        serviceAccount: UserProvidedServiceAccount | undefined;\n      }) => payload,\n      updateConfiguration: (payload: { data: string }) => payload,\n      save: () => ({}),\n      success: () => ({}),\n      failure: (payload: { message: string }) => payload,\n    },\n  }\n);\n\nconst initialize = model.assign((context) => ({\n  configString: dataToPrettyString(context.initialConfiguration),\n  validator: createValidator(context.connectorType.json_schema!),\n}));\nconst setName = model.assign(\n  {\n    name: (_, event) => event.name,\n  },\n  'setName'\n);\nconst setServiceAccount = model.assign(\n  (_, event) => ({\n    userServiceAccount: event.serviceAccount,\n  }),\n  'setServiceAccount'\n);\nconst updateConfiguration = model.assign(\n  (_, event) => ({\n    configString: event.data,\n  }),\n  'updateConfiguration'\n);\nconst verifyConfigString = model.assign((context) => {\n  const { warnings, error } = verifyData(\n    context.configString,\n    context.validator!\n  );\n  return { configStringWarnings: warnings, configStringError: error };\n});\nconst setSavingError = model.assign(\n  (_, event) => ({\n    savingError: event.message,\n  }),\n  'failure'\n);\n\nexport const reviewMachine = model.createMachine(\n  {\n    id: 'review',\n    initial: 'verify',\n    context: model.initialContext,\n    entry: initialize,\n    states: {\n      verify: {\n        entry: verifyConfigString,\n        always: [\n          { target: 'valid', cond: 'isAllConfigured' },\n          { target: 'reviewing' },\n        ],\n      },\n      reviewing: {\n        entry: sendParent('isInvalid'),\n        on: {\n          setName: {\n            target: 'verify',\n            actions: setName,\n          },\n          setServiceAccount: {\n            target: 'verify',\n            actions: setServiceAccount,\n          },\n          updateConfiguration: {\n            target: 'verify',\n            actions: updateConfiguration,\n          },\n        },\n      },\n      valid: {\n        id: 'valid',\n        entry: sendParent('isValid'),\n        on: {\n          setName: {\n            target: 'verify',\n            actions: setName,\n          },\n          setServiceAccount: {\n            target: 'verify',\n            actions: setServiceAccount,\n          },\n          updateConfiguration: {\n            target: 'verify',\n            actions: updateConfiguration,\n          },\n          save: 'saving',\n        },\n      },\n      saving: {\n        invoke: {\n          src: (context) =>\n            saveConnector({\n              accessToken: context.accessToken,\n              connectorsApiBasePath: context.connectorsApiBasePath,\n              kafkaManagementApiBasePath: context.kafkaManagementApiBasePath,\n              kafka: context.kafka,\n              cluster: context.cluster,\n              connectorType: context.connectorType,\n              configuration: JSON.parse(context.configString),\n              name: context.name,\n              userServiceAccount: context.userServiceAccount,\n            }),\n        },\n        on: {\n          success: 'saved',\n          failure: {\n            target: 'valid',\n            actions: setSavingError,\n          },\n        },\n        tags: ['saving'],\n      },\n      saved: {\n        type: 'final',\n      },\n    },\n  },\n  {\n    guards: {\n      isAllConfigured: (context) =>\n        context.configString !== undefined &&\n        context.configStringError === undefined &&\n        context.name.length > 0,\n    },\n  }\n);\n\nfunction dataToPrettyString(data: unknown) {\n  const dataVal = data instanceof Map ? mapToObject(data) : data;\n  try {\n    return JSON.stringify(dataVal, null, 2);\n  } catch (e) {\n    return '';\n  }\n}\n\nfunction mapToObject(inputMap: Map<string, unknown>) {\n  const obj = {} as { [key: string]: unknown };\n  inputMap.forEach((value, key) => {\n    obj[key] = value;\n  });\n  return obj;\n}\n\nfunction verifyData(\n  data: string,\n  validator: ReturnType<typeof createValidator>\n) {\n  try {\n    const parsedData = JSON.parse(data);\n    const validationResult = validator(parsedData);\n    return {\n      warnings: validationResult\n        ? validationResult.details.map((d) => `${d.instancePath} ${d.message}`)\n        : undefined,\n      error: undefined,\n    };\n  } catch (e) {\n    const maybeMessage = (e as any)?.message;\n    return {\n      warnings: undefined,\n      error: `Invalid JSON: ${maybeMessage || JSON.stringify(e)}`,\n    };\n  }\n}\n\nexport type ReviewMachineActorRef = ActorRefFrom<typeof reviewMachine>;\n","import { assign, InterpreterFrom, send } from 'xstate';\nimport { createModel } from 'xstate/lib/model';\n\nimport {\n  ConnectorCluster,\n  ConnectorType,\n} from '@rhoas/connector-management-sdk';\nimport { KafkaRequest } from '@rhoas/kafka-management-sdk';\n\nimport { clustersMachine } from './StepClusters.machine';\nimport { configuratorMachine } from './StepConfigurator.machine';\nimport {\n  configuratorLoaderMachine,\n  ConnectorConfiguratorType,\n} from './StepConfiguratorLoader.machine';\nimport { connectorTypesMachine } from './StepConnectorTypes.machine';\nimport { kafkasMachine } from './StepKafkas.machine';\nimport { reviewMachine } from './StepReview.machine';\n\ntype Context = {\n  accessToken: () => Promise<string>;\n  connectorsApiBasePath: string;\n  kafkaManagementApiBasePath: string;\n  selectedKafkaInstance?: KafkaRequest;\n  selectedCluster?: ConnectorCluster;\n  selectedConnector?: ConnectorType;\n  Configurator?: ConnectorConfiguratorType;\n  configurationSteps?: string[] | false;\n  activeConfigurationStep?: number;\n  isConfigurationValid?: boolean;\n  connectorConfiguration?: unknown;\n  onSave?: () => void;\n};\n\nconst model = createModel({} as Context, {\n  events: {\n    isValid: () => ({}),\n    isInvalid: () => ({}),\n    prev: () => ({}),\n    next: () => ({}),\n    changedStep: ({ step }: { step: number }) => ({ step }),\n    jumpToSelectKafka: () => ({}),\n    jumpToSelectCluster: () => ({}),\n    jumpToSelectConnector: () => ({}),\n    jumpToConfigureConnector: ({ subStep }: { subStep?: number }) => ({\n      subStep,\n    }),\n    jumpToReviewConfiguration: () => ({}),\n  },\n  actions: {\n    notifySave: () => ({}),\n  },\n});\n\nexport const creationWizardMachine = model.createMachine(\n  {\n    id: 'creationWizard',\n    initial: 'selectConnector',\n    context: model.initialContext,\n    states: {\n      selectConnector: {\n        initial: 'selecting',\n        invoke: {\n          id: 'selectConnectorRef',\n          src: connectorTypesMachine,\n          data: (context) => ({\n            accessToken: context.accessToken,\n            connectorsApiBasePath: context.connectorsApiBasePath,\n            selectedConnector: context.selectedConnector,\n          }),\n          onDone: {\n            target: 'selectKafka',\n            actions: assign((_context, event) => ({\n              selectedConnector: event.data.selectedConnector,\n              connectorConfiguration: false,\n              activeConfigurationStep: 0,\n              isConfigurationValid: false,\n              configurationSteps: false,\n            })),\n          },\n          onError: '.error',\n        },\n        states: {\n          error: {},\n          selecting: {\n            on: {\n              isValid: 'valid',\n            },\n          },\n          valid: {\n            on: {\n              isInvalid: 'selecting',\n              next: {\n                actions: send('confirm', { to: 'selectConnectorRef' }),\n              },\n            },\n          },\n        },\n      },\n      selectKafka: {\n        initial: 'selecting',\n        invoke: {\n          id: 'selectKafkaInstanceRef',\n          src: kafkasMachine,\n          data: (context) => ({\n            accessToken: context.accessToken,\n            connectorsApiBasePath: context.connectorsApiBasePath,\n            selectedInstance: context.selectedKafkaInstance,\n            request: {\n              page: 1,\n              size: 10,\n            },\n          }),\n          onDone: {\n            target: 'selectCluster',\n            actions: assign({\n              selectedKafkaInstance: (_, event) => event.data.selectedInstance,\n            }),\n          },\n          onError: '.error',\n        },\n        states: {\n          error: {},\n          selecting: {\n            on: {\n              isValid: 'valid',\n            },\n          },\n          valid: {\n            on: {\n              isInvalid: 'selecting',\n              next: {\n                actions: send('confirm', { to: 'selectKafkaInstanceRef' }),\n              },\n            },\n          },\n        },\n        on: {\n          prev: 'selectConnector',\n        },\n      },\n      selectCluster: {\n        initial: 'selecting',\n        invoke: {\n          id: 'selectClusterRef',\n          src: clustersMachine,\n          data: (context) => ({\n            accessToken: context.accessToken,\n            connectorsApiBasePath: context.connectorsApiBasePath,\n            selectedCluster: context.selectedCluster,\n          }),\n          onDone: {\n            target: 'configureConnector',\n            actions: assign({\n              selectedCluster: (_, event) => event.data.selectedCluster,\n            }),\n          },\n          onError: '.error',\n        },\n        states: {\n          error: {},\n          selecting: {\n            on: {\n              isValid: 'valid',\n            },\n          },\n          valid: {\n            on: {\n              isInvalid: 'selecting',\n              next: {\n                actions: send('confirm', { to: 'selectClusterRef' }),\n              },\n            },\n          },\n        },\n        on: {\n          prev: 'selectKafka',\n        },\n      },\n      configureConnector: {\n        initial: 'loadConfigurator',\n        states: {\n          loadConfigurator: {\n            invoke: {\n              id: 'configuratorLoader',\n              src: 'makeConfiguratorLoaderMachine',\n              data: (context) => ({\n                connector: context.selectedConnector,\n              }),\n              onDone: {\n                target: 'configure',\n                actions: assign((_context, event) => ({\n                  Configurator: event.data.Configurator,\n                  configurationSteps: event.data.steps,\n                })),\n              },\n              onError: {\n                actions: (_context, event) => console.error(event.data.message),\n              },\n            },\n          },\n          configure: {\n            id: 'configure',\n            initial: 'submittable',\n            invoke: {\n              id: 'configuratorRef',\n              src: configuratorMachine,\n              data: (context) => ({\n                connector: context.selectedConnector,\n                configuration: context.connectorConfiguration,\n                steps: context.configurationSteps || ['single step'],\n                activeStep: context.activeConfigurationStep || 0,\n                isActiveStepValid: context.connectorConfiguration !== false,\n              }),\n              onDone: {\n                target: '#creationWizard.reviewConfiguration',\n                actions: assign((_, event) => ({\n                  connectorConfiguration: event.data.configuration || true,\n                })),\n              },\n              onError: {\n                actions: (_context, event) => console.error(event.data.message),\n              },\n            },\n            states: {\n              submittable: {\n                on: {\n                  isInvalid: 'invalid',\n                  next: {\n                    actions: send('next', { to: 'configuratorRef' }),\n                  },\n                },\n              },\n              invalid: {\n                on: {\n                  isValid: 'submittable',\n                },\n              },\n            },\n            on: {\n              prev: [\n                {\n                  actions: send('prev', { to: 'configuratorRef' }),\n                  cond: 'areThereSubsteps',\n                },\n                { target: '#creationWizard.selectCluster' },\n              ],\n              changedStep: {\n                actions: assign({\n                  activeConfigurationStep: (_, event) => event.step,\n                }),\n              },\n            },\n          },\n        },\n      },\n      reviewConfiguration: {\n        id: 'review',\n        initial: 'reviewing',\n        invoke: {\n          id: 'reviewRef',\n          src: reviewMachine,\n          data: (context) => ({\n            accessToken: context.accessToken,\n            connectorsApiBasePath: context.connectorsApiBasePath,\n            kafkaManagementApiBasePath: context.kafkaManagementApiBasePath,\n            kafka: context.selectedKafkaInstance,\n            cluster: context.selectedCluster,\n            connectorType: context.selectedConnector,\n            initialConfiguration: context.connectorConfiguration,\n            name: '',\n          }),\n          onDone: {\n            target: '#creationWizard.saved',\n            actions: [\n              assign((_, event) => ({\n                connectorConfiguration: event.data,\n              })),\n              'notifySave',\n            ],\n          },\n          onError: {\n            actions: (_context, event) => console.error(event.data.message),\n          },\n        },\n        states: {\n          reviewing: {\n            on: {\n              isValid: 'valid',\n            },\n          },\n          valid: {\n            on: {\n              isInvalid: 'reviewing',\n              next: {\n                actions: send('save', { to: 'reviewRef' }),\n              },\n            },\n          },\n        },\n        on: {\n          prev: 'configureConnector',\n        },\n      },\n      saved: {\n        id: 'saved',\n        type: 'final',\n      },\n    },\n    on: {\n      jumpToSelectConnector: {\n        target: 'selectConnector',\n      },\n      jumpToSelectKafka: {\n        target: 'selectKafka',\n        cond: 'isConnectorSelected',\n      },\n      jumpToSelectCluster: {\n        target: 'selectCluster',\n        cond: 'isKafkaInstanceSelected',\n      },\n      jumpToConfigureConnector: {\n        target: 'configureConnector',\n        cond: 'isClusterSelected',\n        actions: assign((_, event) => ({\n          activeConfigurationStep: event.subStep || 0,\n        })),\n      },\n      jumpToReviewConfiguration: {\n        target: 'reviewConfiguration',\n        cond: 'isConnectorConfigured',\n      },\n    },\n  },\n  {\n    guards: {\n      isKafkaInstanceSelected: (context) =>\n        context.selectedKafkaInstance !== undefined,\n      isClusterSelected: (context) => context.selectedCluster !== undefined,\n      isConnectorSelected: (context, event) => {\n        const subStep = (event as { subStep?: number }).subStep;\n        if (subStep) {\n          return (\n            context.selectedConnector !== undefined &&\n            (context.connectorConfiguration !== undefined ||\n              subStep <= context.activeConfigurationStep!)\n          );\n        }\n        return context.selectedConnector !== undefined;\n      },\n      isConnectorConfigured: (context) => {\n        if (!context.configurationSteps) {\n          return (\n            context.connectorConfiguration !== undefined &&\n            context.connectorConfiguration !== false\n          );\n        }\n        return (\n          (context.connectorConfiguration !== undefined &&\n            context.connectorConfiguration !== false) ||\n          (context.activeConfigurationStep ===\n            context.configurationSteps.length - 1 &&\n            context.isConfigurationValid === true)\n        );\n      },\n      areThereSubsteps: (context) => context.activeConfigurationStep! > 0,\n    },\n    actions: {\n      notifySave: (context) => {\n        if (context.onSave) {\n          context.onSave();\n        }\n      },\n    },\n    services: {\n      makeConfiguratorLoaderMachine: () => configuratorLoaderMachine,\n    },\n  }\n);\n\nexport type CreationWizardMachineInterpreterFromType = InterpreterFrom<\n  typeof creationWizardMachine\n>;\n","import React, {\n  createContext,\n  FunctionComponent,\n  useCallback,\n  useContext,\n} from 'react';\n\nimport { useInterpret, useSelector } from '@xstate/react';\nimport { ActorRef } from 'xstate';\n\nimport {\n  ConnectorCluster,\n  ConnectorType,\n} from '@rhoas/connector-management-sdk';\nimport { KafkaRequest } from '@rhoas/kafka-management-sdk';\n\nimport {\n  CreationWizardMachineInterpreterFromType,\n  creationWizardMachine,\n} from './CreateConnectorWizard.machine';\nimport {\n  usePagination,\n  PaginatedApiActorType,\n  PaginatedApiRequest,\n} from './PaginatedResponse.machine';\nimport { ClustersMachineActorRef } from './StepClusters.machine';\nimport {\n  ConnectorConfiguratorResponse,\n  configuratorLoaderMachine,\n} from './StepConfiguratorLoader.machine';\nimport { ConnectorTypesMachineActorRef } from './StepConnectorTypes.machine';\nimport { KafkaMachineActorRef } from './StepKafkas.machine';\nimport { ReviewMachineActorRef } from './StepReview.machine';\nimport {\n  ConnectorTypesQuery,\n  KafkasQuery,\n  UserProvidedServiceAccount,\n} from './api';\nimport { PAGINATED_MACHINE_ID } from './constants';\n\nexport type EmittedFrom<T> = T extends ActorRef<any, infer TEmitted>\n  ? TEmitted\n  : never;\n\nconst CreateConnectorWizardMachineService =\n  createContext<CreationWizardMachineInterpreterFromType | null>(null);\n\ntype CreateConnectorWizardProviderProps = {\n  accessToken: () => Promise<string>;\n  connectorsApiBasePath: string;\n  fetchConfigurator: (\n    connector: ConnectorType\n  ) => Promise<ConnectorConfiguratorResponse>;\n  onSave: () => void;\n};\n\nexport const CreateConnectorWizardProvider: FunctionComponent<CreateConnectorWizardProviderProps> =\n  ({\n    children,\n    accessToken,\n    connectorsApiBasePath,\n    fetchConfigurator,\n    onSave,\n  }) => {\n    const makeConfiguratorLoaderMachine = useCallback(\n      () =>\n        configuratorLoaderMachine.withConfig({\n          services: {\n            fetchConfigurator: (context) =>\n              fetchConfigurator(context.connector),\n          },\n        }),\n      [fetchConfigurator]\n    );\n    const service = useInterpret(creationWizardMachine, {\n      devTools: true,\n      context: {\n        accessToken,\n        connectorsApiBasePath,\n        onSave,\n      },\n      services: {\n        makeConfiguratorLoaderMachine,\n      },\n    });\n    return (\n      <CreateConnectorWizardMachineService.Provider value={service}>\n        {children}\n      </CreateConnectorWizardMachineService.Provider>\n    );\n  };\n\nexport const useCreateConnectorWizardService = () => {\n  const service = useContext(CreateConnectorWizardMachineService);\n  if (!service) {\n    throw new Error(\n      `useCreationWizardMachineService() must be used in a child of <CreationWizardMachineProvider>`\n    );\n  }\n  return service;\n};\n\nexport const useCreateConnectorWizard = (): {\n  connectorTypeRef: ConnectorTypesMachineActorRef;\n  kafkaRef: KafkaMachineActorRef;\n  clusterRef: ClustersMachineActorRef;\n  reviewRef: ReviewMachineActorRef;\n} => {\n  const service = useCreateConnectorWizardService();\n  return useSelector(\n    service,\n    useCallback(\n      (state: EmittedFrom<typeof service>) => ({\n        connectorTypeRef: state.children\n          .selectConnectorRef as ConnectorTypesMachineActorRef,\n        kafkaRef: state.children.selectKafkaInstanceRef as KafkaMachineActorRef,\n        clusterRef: state.children.selectClusterRef as ClustersMachineActorRef,\n        reviewRef: state.children.reviewRef as ReviewMachineActorRef,\n      }),\n      []\n    )\n  );\n};\n\nexport const useClustersMachineIsReady = () => {\n  const { clusterRef } = useCreateConnectorWizard();\n  return useSelector(\n    clusterRef,\n    useCallback(\n      (state: EmittedFrom<typeof clusterRef>) => {\n        return state.matches({ root: { api: 'ready' } });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n      },\n      [clusterRef]\n    )\n  );\n};\n\nexport const useClustersMachine = () => {\n  const { clusterRef } = useCreateConnectorWizard();\n  const api = usePagination<ConnectorCluster, {}, ConnectorCluster>(\n    clusterRef.getSnapshot()?.children[\n      PAGINATED_MACHINE_ID\n    ] as PaginatedApiActorType<ConnectorCluster, {}, ConnectorCluster>\n  );\n  const { selectedId } = useSelector(\n    clusterRef,\n    useCallback(\n      (state: EmittedFrom<typeof clusterRef>) => ({\n        selectedId: state.context.selectedCluster?.id,\n      }),\n      []\n    )\n  );\n  const onSelect = useCallback(\n    (selectedCluster: string) => {\n      clusterRef.send({ type: 'selectCluster', selectedCluster });\n    },\n    [clusterRef]\n  );\n  const onQuery = useCallback(\n    (request: PaginatedApiRequest<{}>) => {\n      clusterRef.send({ type: 'api.query', ...request });\n    },\n    [clusterRef]\n  );\n  return {\n    ...api,\n    selectedId,\n    onSelect,\n    onQuery,\n  };\n};\n\nexport const useConnectorTypesMachineIsReady = () => {\n  const { connectorTypeRef } = useCreateConnectorWizard();\n  return useSelector(\n    connectorTypeRef,\n    useCallback(\n      (state: EmittedFrom<typeof connectorTypeRef>) => {\n        return state.matches({ root: { api: 'ready' } });\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [connectorTypeRef]\n    )\n  );\n};\n\nexport const useConnectorTypesMachine = () => {\n  const { connectorTypeRef } = useCreateConnectorWizard();\n  const api = usePagination<ConnectorType, ConnectorTypesQuery, ConnectorType>(\n    connectorTypeRef.getSnapshot()?.children[\n      PAGINATED_MACHINE_ID\n    ] as PaginatedApiActorType<\n      ConnectorType,\n      ConnectorTypesQuery,\n      ConnectorType\n    >\n  );\n  const { selectedId } = useSelector(\n    connectorTypeRef,\n    useCallback(\n      (state: EmittedFrom<typeof connectorTypeRef>) => ({\n        selectedId: state.context.selectedConnector?.id,\n      }),\n      []\n    )\n  );\n  const onSelect = useCallback(\n    (selectedConnector: string) => {\n      connectorTypeRef.send({ type: 'selectConnector', selectedConnector });\n    },\n    [connectorTypeRef]\n  );\n  const onQuery = useCallback(\n    (request: PaginatedApiRequest<ConnectorTypesQuery>) => {\n      connectorTypeRef.send({ type: 'api.query', ...request });\n    },\n    [connectorTypeRef]\n  );\n  return {\n    ...api,\n    selectedId,\n    onSelect,\n    onQuery,\n  };\n};\n\nexport const useKafkasMachineIsReady = () => {\n  const { kafkaRef } = useCreateConnectorWizard();\n  return useSelector(\n    kafkaRef,\n    useCallback(\n      (state: EmittedFrom<typeof kafkaRef>) => {\n        return state.matches({ root: { api: 'ready' } });\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [kafkaRef]\n    )\n  );\n};\n\nexport const useKafkasMachine = () => {\n  const { kafkaRef } = useCreateConnectorWizard();\n  const api = usePagination<KafkaRequest, KafkasQuery, KafkaRequest>(\n    kafkaRef.getSnapshot()?.children[\n      PAGINATED_MACHINE_ID\n    ] as PaginatedApiActorType<KafkaRequest, KafkasQuery, KafkaRequest>\n  );\n  const { selectedId } = useSelector(\n    kafkaRef,\n    useCallback(\n      (state: EmittedFrom<typeof kafkaRef>) => ({\n        selectedId: state.context.selectedInstance?.id,\n      }),\n      []\n    )\n  );\n  const onSelect = useCallback(\n    (selectedInstance: string) => {\n      kafkaRef.send({ type: 'selectInstance', selectedInstance });\n    },\n    [kafkaRef]\n  );\n  const onQuery = useCallback(\n    (request: PaginatedApiRequest<KafkasQuery>) => {\n      kafkaRef.send({ type: 'api.query', ...request });\n    },\n    [kafkaRef]\n  );\n  return {\n    ...api,\n    selectedId,\n    onSelect,\n    onQuery,\n  };\n};\n\nexport const useReviewMachine = () => {\n  const { reviewRef } = useCreateConnectorWizard();\n  const {\n    name,\n    serviceAccount,\n    configString,\n    configStringError,\n    configStringWarnings,\n    isSaving,\n    savingError,\n  } = useSelector(\n    reviewRef,\n    useCallback(\n      (state: EmittedFrom<typeof reviewRef>) => ({\n        name: state.context.name,\n        serviceAccount: state.context.userServiceAccount,\n        configString: state.context.configString,\n        configStringError: state.context.configStringError,\n        configStringWarnings: state.context.configStringWarnings,\n        isSaving: state.hasTag('saving'),\n        savingError: state.context.savingError,\n      }),\n      []\n    )\n  );\n  const onSetName = useCallback(\n    (name: string) => {\n      reviewRef.send({ type: 'setName', name });\n    },\n    [reviewRef]\n  );\n  const onSetServiceAccount = useCallback(\n    (serviceAccount: UserProvidedServiceAccount | undefined) => {\n      reviewRef.send({ type: 'setServiceAccount', serviceAccount });\n    },\n    [reviewRef]\n  );\n  const onUpdateConfiguration = useCallback(\n    (data?: string) => {\n      reviewRef.send({ type: 'updateConfiguration', data: data || '' });\n    },\n    [reviewRef]\n  );\n  return {\n    name,\n    serviceAccount,\n    configString,\n    configStringError,\n    configStringWarnings,\n    isSaving,\n    savingError,\n    onSetName,\n    onSetServiceAccount,\n    onUpdateConfiguration,\n  };\n};\n","import React, { FunctionComponent } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport {\n  Button,\n  ButtonVariant,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Title,\n  TitleSizes,\n} from '@patternfly/react-core';\nimport { ClusterIcon } from '@patternfly/react-icons';\nimport { css } from '@patternfly/react-styles';\n\ntype EmptyStateNoOSDClusterProps = {\n  onHelp: () => void;\n};\n\nexport const EmptyStateNoOSDCluster: FunctionComponent<EmptyStateNoOSDClusterProps> =\n  ({ onHelp }) => {\n    const { t } = useTranslation();\n    return (\n      <EmptyState\n        variant={EmptyStateVariant.xl}\n        className={css('pf-u-pt-2xl pf-u-pt-3xl-on-md')}\n      >\n        <EmptyStateIcon icon={ClusterIcon} />\n        <Title headingLevel={'h1'} size={TitleSizes['4xl']}>\n          {t('No OSD Cluster available')}\n        </Title>\n        <EmptyStateBody>\n          <Trans>\n            Development preview instances are available for creation. For help\n            getting started, access the{' '}\n            <Button\n              variant={ButtonVariant.link}\n              isSmall\n              isInline\n              onClick={onHelp}\n            >\n              quick start guide.\n            </Button>\n          </Trans>\n        </EmptyStateBody>\n      </EmptyState>\n    );\n  };\n","import React, { FunctionComponent, ReactNode } from 'react';\n\nimport { Level, Title } from '@patternfly/react-core';\n\ntype CreateConnectorWizardBodyLayoutProps = {\n  title: string;\n  description?: ReactNode;\n};\nexport const StepBodyLayout: FunctionComponent<CreateConnectorWizardBodyLayoutProps> =\n  ({ title, description, children }) => (\n    <div className={'pf-l-stack'}>\n      <Level className={'pf-u-p-md pf-l-stack__item'}>\n        <Title headingLevel=\"h2\">{title}</Title>\n        {(() => {\n          switch (typeof description) {\n            case 'string':\n              return <p>{description}</p>;\n            default:\n              return description;\n          }\n        })()}\n      </Level>\n      <div className={'pf-l-stack__item pf-l-stack pf-m-fill'}>{children}</div>\n    </div>\n  );\n","import React, { FunctionComponent, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardHeader,\n  CardTitle,\n  DescriptionList,\n  DescriptionListDescription,\n  DescriptionListGroup,\n  DescriptionListTerm,\n  Gallery,\n  InputGroup,\n  TextInput,\n  Toolbar,\n  ToolbarContent,\n  ToolbarGroup,\n  ToolbarItem,\n  ToolbarToggleGroup,\n} from '@patternfly/react-core';\nimport { FilterIcon, SearchIcon } from '@patternfly/react-icons';\n\nimport {\n  useClustersMachineIsReady,\n  useClustersMachine,\n} from './CreateConnectorWizardContext';\nimport { EmptyStateNoMatchesFound } from './EmptyStateNoMatchesFound';\nimport { EmptyStateNoOSDCluster } from './EmptyStateNoOSDCluster';\nimport { Loading } from './Loading';\nimport { Pagination } from './Pagination';\nimport { StepBodyLayout } from './StepBodyLayout';\nimport { useDebounce } from './useDebounce';\n\nexport function SelectCluster() {\n  const isReady = useClustersMachineIsReady();\n\n  return isReady ? <ClustersGallery /> : null;\n}\n\nconst ClustersGallery: FunctionComponent = () => {\n  const { t } = useTranslation();\n  // const history = useHistory();\n  const {\n    response,\n    selectedId,\n    loading,\n    error,\n    noResults,\n    // results,\n    queryEmpty,\n    // queryResults,\n    firstRequest,\n    onSelect,\n    onQuery,\n  } = useClustersMachine();\n\n  return (\n    <StepBodyLayout\n      title={t('OSD cluster')}\n      description={\n        'Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit error adipisci, ducimus ipsum dicta quo beatae ratione aliquid nostrum animi eos, doloremque laborum quasi sed, vitae ipsa illo delectus! Quos'\n      }\n    >\n      {(() => {\n        switch (true) {\n          case firstRequest:\n            return <Loading />;\n          case queryEmpty:\n            return (\n              <>\n                <ClustersToolbar />\n                <EmptyStateNoMatchesFound\n                  onClear={() => onQuery({ page: 1, size: 10 })}\n                />\n              </>\n            );\n          case noResults || error:\n            return (\n              <EmptyStateNoOSDCluster\n                onHelp={function (): void {\n                  throw new Error('Function not implemented.');\n                }}\n              />\n            );\n          case loading:\n            return (\n              <>\n                <ClustersToolbar />\n                <Loading />\n              </>\n            );\n          default:\n            return (\n              <>\n                <ClustersToolbar />\n                <div className={'pf-l-stack__item pf-m-fill pf-u-p-md'}>\n                  <Gallery hasGutter>\n                    {response?.items?.map((i) => (\n                      <Card\n                        isHoverable\n                        key={i.id}\n                        isSelectable\n                        isSelected={selectedId === i.id}\n                        onClick={() => onSelect(i.id!)}\n                      >\n                        <CardHeader>\n                          <CardTitle>{i.metadata?.name}</CardTitle>\n                        </CardHeader>\n                        <CardBody>\n                          <DescriptionList>\n                            <DescriptionListGroup>\n                              <DescriptionListTerm>Owner</DescriptionListTerm>\n                              <DescriptionListDescription>\n                                {i.metadata?.owner}\n                              </DescriptionListDescription>\n                            </DescriptionListGroup>\n                            <DescriptionListGroup>\n                              <DescriptionListTerm>Created</DescriptionListTerm>\n                              <DescriptionListDescription>\n                                {i.metadata?.created_at}\n                              </DescriptionListDescription>\n                            </DescriptionListGroup>\n                          </DescriptionList>\n                        </CardBody>\n                      </Card>\n                    ))}\n                  </Gallery>\n                </div>\n              </>\n            );\n        }\n      })()}\n    </StepBodyLayout>\n  );\n};\n\nconst ClustersToolbar: FunctionComponent = () => {\n  const { request, onQuery } = useClustersMachine();\n\n  const searchInputRef = useRef<HTMLInputElement | null>(null);\n  const debouncedOnQuery = useDebounce(onQuery, 1000);\n\n  // const [statuses, setStatuses] = useState<string[]>([\n  //   'Pending',\n  //   'Created',\n  //   'Cancelled',\n  // ]);\n  // const [statusesToggled, setStatusesToggled] = useState(false);\n  // const clearAllFilters = useCallback(() => {\n  //   setSearchValue('');\n  //   setStatuses([]);\n  // }, []);\n  // const toggleStatuses = useCallback(\n  //   () => setStatusesToggled(prev => !prev),\n  //   []\n  // );\n  // const onSelectStatus = useCallback(\n  //   (_, status) =>\n  //     setStatuses(prev =>\n  //       prev.includes(status)\n  //         ? prev.filter(s => s !== status)\n  //         : [...prev, status]\n  //     ),\n  //   []\n  // );\n\n  // const statusMenuItems = [\n  //   <SelectOption key=\"statusPending\" value=\"Pending\" />,\n  //   <SelectOption key=\"statusCreated\" value=\"Created\" />,\n  //   <SelectOption key=\"statusCancelled\" value=\"Cancelled\" />,\n  // ];\n\n  // ensure the search input value reflects what's specified in the request object\n  // useEffect(() => {\n  //   if (searchInputRef.current) {\n  //     searchInputRef.current.value = (request.name as string | undefined) || '';\n  //   }\n  // }, [searchInputRef, request]);\n\n  const toggleGroupItems = (\n    <>\n      <ToolbarItem>\n        <InputGroup>\n          <TextInput\n            name=\"textInput2\"\n            id=\"textInput2\"\n            type=\"search\"\n            aria-label=\"search input example\"\n            onChange={(value) =>\n              debouncedOnQuery({\n                size: request.size,\n                page: 1,\n                name: value,\n              })\n            }\n            ref={searchInputRef}\n          />\n          <Button\n            variant={'control'}\n            aria-label=\"search button for search input\"\n          >\n            <SearchIcon />\n          </Button>\n        </InputGroup>\n      </ToolbarItem>\n      {/* <ToolbarGroup variant=\"filter-group\">\n        <ToolbarFilter\n          chips={statuses}\n          deleteChip={onSelectStatus}\n          deleteChipGroup={() => setStatuses([])}\n          categoryName=\"Status\"\n        >\n          <Select\n            variant={'checkbox'}\n            aria-label=\"Status\"\n            onToggle={toggleStatuses}\n            onSelect={onSelectStatus}\n            selections={statuses}\n            isOpen={statusesToggled}\n            placeholderText=\"Status\"\n          >\n            {statusMenuItems}\n          </Select>\n        </ToolbarFilter>\n      </ToolbarGroup> */}\n    </>\n  );\n  const toolbarItems = (\n    <>\n      <ToolbarToggleGroup toggleIcon={<FilterIcon />} breakpoint=\"xl\">\n        {toggleGroupItems}\n      </ToolbarToggleGroup>\n      <ToolbarGroup variant=\"icon-button-group\">\n        <ToolbarItem>\n          <Button variant=\"primary\">Create Clusters Instance</Button>\n        </ToolbarItem>\n      </ToolbarGroup>\n      <ToolbarItem variant=\"pagination\" alignment={{ default: 'alignRight' }}>\n        <ClustersPagination isCompact />\n      </ToolbarItem>\n    </>\n  );\n\n  return (\n    <Toolbar\n      id=\"toolbar-group-types\"\n      collapseListedFiltersBreakpoint=\"xl\"\n      // clearAllFilters={clearAllFilters}\n    >\n      <ToolbarContent>{toolbarItems}</ToolbarContent>\n    </Toolbar>\n  );\n};\n\ntype ClustersPaginationProps = {\n  isCompact?: boolean;\n};\nconst ClustersPagination: FunctionComponent<ClustersPaginationProps> = ({\n  isCompact = false,\n}) => {\n  const { request, response, onQuery } = useClustersMachine();\n  return (\n    <Pagination\n      itemCount={response?.total || 0}\n      page={request.page}\n      perPage={request.size}\n      onChange={(page, size) => onQuery({ page, size })}\n      isCompact={isCompact}\n    />\n  );\n};\n","import React, { ComponentType, FunctionComponent, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { useSelector } from '@xstate/react';\n\nimport {\n  EmptyState,\n  EmptyStateIcon,\n  Spinner,\n  Title,\n} from '@patternfly/react-core';\nimport { ExclamationCircleIcon } from '@patternfly/react-icons';\n\nimport { useCreateConnectorWizardService } from './CreateConnectorWizardContext';\nimport { JsonSchemaConfigurator } from './JsonSchemaConfigurator';\nimport { StepBodyLayout } from './StepBodyLayout';\nimport { ConfiguratorActorRef } from './StepConfigurator.machine';\nimport {\n  ConnectorConfiguratorComponent,\n  ConnectorConfiguratorProps,\n} from './StepConfiguratorLoader.machine';\n\nconst ConnectedCustomConfigurator: FunctionComponent<{\n  Configurator: ConnectorConfiguratorComponent;\n  actor: ConfiguratorActorRef;\n}> = ({ actor, Configurator }) => {\n  const { activeStep, configuration, connector } = useSelector(\n    actor,\n    useCallback(\n      (state: typeof actor.state) => ({\n        connector: state.context.connector,\n        activeStep: state.context.activeStep,\n        configuration: state.context.configuration,\n      }),\n      [actor]\n    )\n  );\n\n  return (\n    <Configurator\n      activeStep={activeStep}\n      configuration={configuration}\n      connector={connector}\n      onChange={(configuration, isValid) =>\n        actor.send({ type: 'change', configuration, isValid })\n      }\n    />\n  );\n};\n\nconst ConnectedJsonSchemaConfigurator: FunctionComponent<{\n  actor: ConfiguratorActorRef;\n}> = ({ actor }) => {\n  const { configuration, connector } = useSelector(\n    actor,\n    useCallback(\n      (state: typeof actor.state) => ({\n        connector: state.context.connector,\n        configuration: state.context.configuration,\n      }),\n      [actor]\n    )\n  );\n\n  return (\n    <JsonSchemaConfigurator\n      schema={connector.json_schema!}\n      configuration={configuration || {}}\n      onChange={(configuration, isValid) =>\n        actor.send({ type: 'change', configuration, isValid })\n      }\n    />\n  );\n};\n\nexport type ConfiguratorStepProps = {\n  Configurator: ComponentType<ConnectorConfiguratorProps> | false;\n};\n\nexport const ConfiguratorStep: FunctionComponent = () => {\n  const { t } = useTranslation();\n  const service = useCreateConnectorWizardService();\n  const {\n    isLoading,\n    hasErrors,\n    Configurator,\n    configuratorRef,\n    hasCustomConfigurator,\n  } = useSelector(\n    service,\n    useCallback(\n      (state: typeof service.state) => {\n        const isLoading = state.matches({\n          configureConnector: 'loadConfigurator',\n        });\n        const hasErrors = state.matches('failure');\n        const hasCustomConfigurator =\n          state.context.Configurator !== false &&\n          state.context.Configurator !== undefined;\n        return {\n          isLoading,\n          hasErrors,\n          hasCustomConfigurator,\n          configuration: state.context.connectorConfiguration,\n          Configurator: state.context.Configurator,\n          configuratorRef: state.children\n            .configuratorRef as ConfiguratorActorRef,\n        };\n      },\n      [service]\n    )\n  );\n\n  return (\n    <StepBodyLayout\n      title={t('Configurations')}\n      description={\n        'Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit error adipisci, ducimus ipsum dicta quo beatae ratione aliquid nostrum animi eos, doloremque laborum quasi sed, vitae ipsa illo delectus! Quos'\n      }\n    >\n      {(() => {\n        switch (true) {\n          case isLoading:\n            return (\n              <EmptyState>\n                <EmptyStateIcon variant=\"container\" component={Spinner} />\n                <Title size=\"lg\" headingLevel=\"h4\">\n                  {t('loading')}\n                </Title>\n              </EmptyState>\n            );\n          case hasErrors:\n            return (\n              <EmptyState>\n                <EmptyStateIcon icon={ExclamationCircleIcon} />\n                <Title size=\"lg\" headingLevel=\"h4\">\n                  Error message\n                </Title>\n              </EmptyState>\n            );\n          case hasCustomConfigurator:\n            return (\n              <React.Suspense fallback={null}>\n                <ConnectedCustomConfigurator\n                  actor={configuratorRef}\n                  Configurator={Configurator as ConnectorConfiguratorComponent}\n                />\n              </React.Suspense>\n            );\n          default:\n            return <ConnectedJsonSchemaConfigurator actor={configuratorRef} />;\n        }\n      })()}\n    </StepBodyLayout>\n  );\n};\n","import { ToolbarChip } from '@patternfly/react-core';\n\nexport const stringToChip = (\n  value: string,\n  t: (key: string) => string\n): ToolbarChip => ({ key: value, node: t(value) });\n","import React, {\n  FunctionComponent,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardHeader,\n  CardTitle,\n  DescriptionList,\n  DescriptionListDescription,\n  DescriptionListGroup,\n  DescriptionListTerm,\n  Gallery,\n  InputGroup,\n  Select,\n  SelectOption,\n  TextInput,\n  Toolbar,\n  ToolbarChip,\n  ToolbarChipGroup,\n  ToolbarContent,\n  ToolbarFilter,\n  ToolbarGroup,\n  ToolbarItem,\n  ToolbarToggleGroup,\n} from '@patternfly/react-core';\nimport { FilterIcon, SearchIcon } from '@patternfly/react-icons';\n\nimport {\n  useConnectorTypesMachine,\n  useConnectorTypesMachineIsReady,\n} from './CreateConnectorWizardContext';\nimport { EmptyStateGenericError } from './EmptyStateGenericError';\nimport { EmptyStateNoMatchesFound } from './EmptyStateNoMatchesFound';\nimport { Loading } from './Loading';\nimport { Pagination } from './Pagination';\nimport { StepBodyLayout } from './StepBodyLayout';\nimport { stringToChip } from './stringToChip';\nimport { useDebounce } from './useDebounce';\n\nexport function SelectConnectorType() {\n  const isReady = useConnectorTypesMachineIsReady();\n\n  return isReady ? <ConnectorTypesGallery /> : null;\n}\n\nexport function ConnectorTypesGallery() {\n  const { t } = useTranslation();\n  const {\n    response,\n    loading,\n    error,\n    noResults,\n    // results,\n    queryEmpty,\n    // queryResults,\n    firstRequest,\n    selectedId,\n    onSelect,\n    onQuery,\n  } = useConnectorTypesMachine();\n\n  return (\n    <StepBodyLayout\n      title={t('Connector category')}\n      description={\n        'Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit error adipisci, ducimus ipsum dicta quo beatae ratione aliquid nostrum animi eos, doloremque laborum quasi sed, vitae ipsa illo delectus! Quos'\n      }\n    >\n      {(() => {\n        switch (true) {\n          case firstRequest:\n            return <Loading />;\n          case queryEmpty:\n            return (\n              <>\n                <ConnectorTypesToolbar />\n                <EmptyStateNoMatchesFound\n                  onClear={() => onQuery({ page: 1, size: 10 })}\n                />\n              </>\n            );\n          case noResults || error:\n            return <EmptyStateGenericError />;\n          case loading:\n            return (\n              <>\n                <ConnectorTypesToolbar />\n                <Loading />\n              </>\n            );\n          default:\n            return (\n              <>\n                <ConnectorTypesToolbar />\n                <div className={'pf-l-stack__item pf-m-fill pf-u-p-md'}>\n                  <Gallery hasGutter>\n                    {response?.items?.map((c) => (\n                      <Card\n                        isHoverable\n                        key={c.id}\n                        isSelectable\n                        isSelected={selectedId === c.id}\n                        onClick={() => onSelect(c.id!)}\n                      >\n                        <CardHeader>\n                          <CardTitle>{c.name}</CardTitle>\n                        </CardHeader>\n                        <CardBody>\n                          <DescriptionList>\n                            <DescriptionListGroup>\n                              <DescriptionListDescription>\n                                {c.description}\n                              </DescriptionListDescription>\n                            </DescriptionListGroup>\n                            <DescriptionListGroup>\n                              <DescriptionListTerm>Version</DescriptionListTerm>\n                              <DescriptionListDescription>\n                                {c.version}\n                              </DescriptionListDescription>\n                            </DescriptionListGroup>\n                            <DescriptionListGroup>\n                              <DescriptionListTerm>ID</DescriptionListTerm>\n                              <DescriptionListDescription>\n                                {c.id}\n                              </DescriptionListDescription>\n                            </DescriptionListGroup>\n                          </DescriptionList>\n                        </CardBody>\n                      </Card>\n                    ))}\n                  </Gallery>\n                </div>\n              </>\n            );\n        }\n      })()}\n    </StepBodyLayout>\n  );\n}\n\nconst ConnectorTypesToolbar: FunctionComponent = () => {\n  const { t } = useTranslation();\n  const { request, onQuery } = useConnectorTypesMachine();\n  const [categoriesToggled, setCategoriesToggled] = useState(false);\n  const nameInputRef = useRef<HTMLInputElement | null>(null);\n  const debouncedOnQuery = useDebounce(onQuery, 1000);\n\n  const { name, categories = [] } = request.query || {};\n\n  const clearAllFilters = useCallback(\n    () => onQuery({ page: 1, size: request.size }),\n    [onQuery, request.size]\n  );\n\n  const toggleCategories = useCallback(\n    () => setCategoriesToggled((prev) => !prev),\n    []\n  );\n\n  const onSelectFilter = (category: string, values: string[], value: string) =>\n    onQuery({\n      ...request,\n      query: {\n        ...(request.query || {}),\n        [category]: values.includes(value)\n          ? values.filter((s) => s !== value)\n          : [...(values || []), value],\n      },\n    });\n\n  const onSelectCategory = (\n    _category: string | ToolbarChipGroup,\n    value: string | ToolbarChip\n  ) => {\n    onSelectFilter('categories', categories, (value as ToolbarChip).key);\n  };\n\n  const onDeleteQueryGroup = (category: string) =>\n    onQuery({\n      ...request,\n      query: {\n        ...(request.query || {}),\n        [category]: undefined,\n      },\n    });\n\n  // ensure the search input value reflects what's specified in the request object\n  useEffect(() => {\n    if (nameInputRef.current) {\n      nameInputRef.current.value = name || '';\n    }\n  }, [nameInputRef, name]);\n\n  const typeMenuItems = [\n    <SelectOption key=\"sink\" value=\"sink\">\n      {t('sink')}\n    </SelectOption>,\n    <SelectOption key=\"source\" value=\"source\">\n      {t('source')}\n    </SelectOption>,\n  ];\n  const toggleGroupItems = (\n    <>\n      <ToolbarItem>\n        <InputGroup>\n          <TextInput\n            name=\"name\"\n            id=\"name\"\n            type=\"search\"\n            aria-label=\"filter by connector name\"\n            onChange={(name) =>\n              debouncedOnQuery({\n                size: request.size,\n                page: 1,\n                query: {\n                  ...request.query,\n                  name,\n                },\n              })\n            }\n            ref={nameInputRef}\n          />\n          <Button\n            variant={'control'}\n            aria-label=\"search button for search input\"\n          >\n            <SearchIcon />\n          </Button>\n        </InputGroup>\n      </ToolbarItem>\n      <ToolbarGroup variant=\"filter-group\">\n        <ToolbarFilter\n          chips={categories.map((v) => stringToChip(v, t))}\n          deleteChip={onSelectCategory}\n          deleteChipGroup={() => onDeleteQueryGroup('categories')}\n          categoryName=\"Connector type\"\n        >\n          <Select\n            variant={'checkbox'}\n            aria-label=\"Connector type\"\n            onToggle={toggleCategories}\n            onSelect={(_, v) =>\n              onSelectCategory('', stringToChip(v as string, t))\n            }\n            selections={categories}\n            isOpen={categoriesToggled}\n            placeholderText=\"Connector type\"\n          >\n            {typeMenuItems}\n          </Select>\n        </ToolbarFilter>\n      </ToolbarGroup>\n    </>\n  );\n  const toolbarItems = (\n    <>\n      <ToolbarToggleGroup toggleIcon={<FilterIcon />} breakpoint=\"xl\">\n        {toggleGroupItems}\n      </ToolbarToggleGroup>\n      <ToolbarItem variant=\"pagination\" alignment={{ default: 'alignRight' }}>\n        <ConnectorTypesPagination isCompact />\n      </ToolbarItem>\n    </>\n  );\n  return (\n    <Toolbar\n      id=\"toolbar-group-types\"\n      collapseListedFiltersBreakpoint=\"xl\"\n      clearAllFilters={clearAllFilters}\n    >\n      <ToolbarContent>{toolbarItems}</ToolbarContent>\n    </Toolbar>\n  );\n};\n\ntype ConnectorTypesPaginationProps = {\n  isCompact?: boolean;\n};\nconst ConnectorTypesPagination: FunctionComponent<ConnectorTypesPaginationProps> =\n  ({ isCompact = false }) => {\n    const { request, response, onQuery } = useConnectorTypesMachine();\n    return (\n      <Pagination\n        itemCount={response?.total || 0}\n        page={request.page}\n        perPage={request.size}\n        onChange={(page, size) => onQuery({ page, size })}\n        isCompact={isCompact}\n      />\n    );\n  };\n","import React, { FunctionComponent } from 'react';\nimport { ErrorBoundary } from 'react-error-boundary';\n\nconst ErrorFallback: FunctionComponent<{ error: Error }> = ({ error }) => {\n  return (\n    <div role=\"alert\">\n      <p>Something went wrong:</p>\n      <pre>{error.message}</pre>\n    </div>\n  );\n};\n\nexport const StepErrorBoundary: FunctionComponent = ({ children }) => (\n  <ErrorBoundary FallbackComponent={ErrorFallback} resetKeys={[Date.now()]}>\n    {children}\n  </ErrorBoundary>\n);\n","import React, { FunctionComponent } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport {\n  Button,\n  ButtonVariant,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Title,\n  TitleSizes,\n} from '@patternfly/react-core';\nimport { SpaceShuttleIcon } from '@patternfly/react-icons';\nimport { css } from '@patternfly/react-styles';\n\ntype EmptyStateNoKafkaInstancesProps = {\n  onHelp: () => void;\n};\n\nexport const EmptyStateNoKafkaInstances: FunctionComponent<EmptyStateNoKafkaInstancesProps> =\n  ({ onHelp }) => {\n    const { t } = useTranslation();\n    return (\n      <EmptyState\n        variant={EmptyStateVariant.xl}\n        className={css('pf-u-pt-2xl pf-u-pt-3xl-on-md')}\n      >\n        <EmptyStateIcon icon={SpaceShuttleIcon} />\n        <Title headingLevel={'h1'} size={TitleSizes['4xl']}>\n          {t('No Kafka instance available')}\n        </Title>\n        <EmptyStateBody>\n          <Trans>\n            Development preview instances are available for creation. For help\n            getting started, access the{' '}\n            <Button\n              variant={ButtonVariant.link}\n              isSmall\n              isInline\n              onClick={onHelp}\n            >\n              quick start guide.\n            </Button>\n          </Trans>\n        </EmptyStateBody>\n      </EmptyState>\n    );\n  };\n","import React, {\n  FunctionComponent,\n  SyntheticEvent,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardHeader,\n  CardTitle,\n  DescriptionList,\n  DescriptionListDescription,\n  DescriptionListGroup,\n  DescriptionListTerm,\n  Dropdown,\n  DropdownItem,\n  DropdownPosition,\n  DropdownToggle,\n  Gallery,\n  InputGroup,\n  Select,\n  SelectOption,\n  TextInput,\n  Toolbar,\n  ToolbarChip,\n  ToolbarChipGroup,\n  ToolbarContent,\n  ToolbarFilter,\n  ToolbarGroup,\n  ToolbarItem,\n  ToolbarToggleGroup,\n} from '@patternfly/react-core';\nimport { FilterIcon, SearchIcon } from '@patternfly/react-icons';\n\nimport {\n  useKafkasMachineIsReady,\n  useKafkasMachine,\n} from './CreateConnectorWizardContext';\nimport { EmptyStateNoKafkaInstances } from './EmptyStateNoKafkaInstances';\nimport { EmptyStateNoMatchesFound } from './EmptyStateNoMatchesFound';\nimport { Loading } from './Loading';\nimport { Pagination } from './Pagination';\n// import { useBasename } from '@rhoas/app-services-ui-shared';\nimport { StepBodyLayout } from './StepBodyLayout';\nimport { stringToChip } from './stringToChip';\nimport { useDebounce } from './useDebounce';\n\nexport const SelectKafkaInstance: FunctionComponent = () => {\n  const isReady = useKafkasMachineIsReady();\n  return isReady ? <KafkasGallery /> : null;\n};\nconst KafkasGallery: FunctionComponent = () => {\n  const { t } = useTranslation();\n  // const basename = useBasename();\n  const {\n    response,\n    loading,\n    error,\n    selectedId,\n    noResults,\n    // results,\n    queryEmpty,\n    // queryResults,\n    firstRequest,\n    onSelect,\n    onQuery,\n  } = useKafkasMachine();\n\n  return (\n    <StepBodyLayout\n      title={t('Kafka instance')}\n      description={\n        'Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit error adipisci, ducimus ipsum dicta quo beatae ratione aliquid nostrum animi eos, doloremque laborum quasi sed, vitae ipsa illo delectus! Quos'\n      }\n    >\n      {(() => {\n        switch (true) {\n          case firstRequest:\n            return <Loading />;\n          case queryEmpty:\n            return (\n              <>\n                <KafkaToolbar />\n                <EmptyStateNoMatchesFound\n                  onClear={() => onQuery({ page: 1, size: 10 })}\n                />\n              </>\n            );\n          case noResults || error:\n            return (\n              <EmptyStateNoKafkaInstances\n                onHelp={function (): void {\n                  throw new Error('Function not implemented.');\n                }}\n              />\n            );\n          case loading:\n            return (\n              <>\n                <KafkaToolbar />\n                <Loading />\n              </>\n            );\n          default:\n            return (\n              <>\n                <KafkaToolbar />\n                <div className={'pf-l-stack__item pf-m-fill pf-u-p-md'}>\n                  <Gallery hasGutter>\n                    {response?.items?.map((i) => (\n                      <Card\n                        isHoverable\n                        key={i.id}\n                        isSelectable\n                        isSelected={selectedId === i.id}\n                        onClick={() => onSelect(i.id!)}\n                      >\n                        <CardHeader>\n                          <CardTitle>{i.name}</CardTitle>\n                        </CardHeader>\n                        <CardBody>\n                          <DescriptionList>\n                            <DescriptionListGroup>\n                              <DescriptionListTerm>Region</DescriptionListTerm>\n                              <DescriptionListDescription>\n                                {i.region}\n                              </DescriptionListDescription>\n                            </DescriptionListGroup>\n                            <DescriptionListGroup>\n                              <DescriptionListTerm>Owner</DescriptionListTerm>\n                              <DescriptionListDescription>\n                                {i.owner}\n                              </DescriptionListDescription>\n                            </DescriptionListGroup>\n                            <DescriptionListGroup>\n                              <DescriptionListTerm>Created</DescriptionListTerm>\n                              <DescriptionListDescription>\n                                {i.created_at}\n                              </DescriptionListDescription>\n                            </DescriptionListGroup>\n                          </DescriptionList>\n                        </CardBody>\n                      </Card>\n                    ))}\n                  </Gallery>\n                </div>\n              </>\n            );\n        }\n      })()}\n    </StepBodyLayout>\n  );\n};\n\nconst KafkaToolbar: FunctionComponent = () => {\n  const { t } = useTranslation();\n\n  const { request, onQuery } = useKafkasMachine();\n\n  const [statusesToggled, setStatusesToggled] = useState(false);\n  const [cloudProvidersToggled, setCloudProvidersToggled] = useState(false);\n  const [regionsToggled, setRegionsToggled] = useState(false);\n  const [categoryToggled, setCategoryToggled] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState('Name');\n  const onToggleStatuses = useCallback(\n    () => setStatusesToggled((prev) => !prev),\n    []\n  );\n  const onToggleCloudProviders = useCallback(\n    () => setCloudProvidersToggled((prev) => !prev),\n    []\n  );\n  const onToggleRegions = useCallback(\n    () => setRegionsToggled((prev) => !prev),\n    []\n  );\n  const onFilterCategoryToggle = useCallback(\n    () => setCategoryToggled((prev) => !prev),\n    []\n  );\n\n  const debouncedOnQuery = useDebounce(onQuery, 1000);\n\n  const {\n    name,\n    owner,\n    cloudProviders = [],\n    regions = [],\n    statuses = [],\n  } = request.query || {};\n\n  const clearAllFilters = useCallback(\n    () => onQuery({ page: 1, size: request.size }),\n    [onQuery, request.size]\n  );\n\n  const nameInputRef = useRef<HTMLInputElement | null>(null);\n  const ownerInputRef = useRef<HTMLInputElement | null>(null);\n\n  const onSelectFilter = (category: string, values: string[], value: string) =>\n    onQuery({\n      ...request,\n      query: {\n        ...(request.query || {}),\n        [category]: values.includes(value)\n          ? values.filter((s) => s !== value)\n          : [...(values || []), value],\n      },\n    });\n\n  const onSelectStatus = (\n    _category: string | ToolbarChipGroup,\n    value: string | ToolbarChip\n  ) => {\n    onSelectFilter('statuses', statuses, (value as ToolbarChip).key);\n  };\n\n  const onSelectCloudProvider = (\n    _category: string | ToolbarChipGroup,\n    value: string | ToolbarChip\n  ) => {\n    onSelectFilter(\n      'cloudProviders',\n      cloudProviders,\n      (value as ToolbarChip).key\n    );\n  };\n\n  const onSelectRegion = (\n    _category: string | ToolbarChipGroup,\n    value: string | ToolbarChip\n  ) => {\n    onSelectFilter('regions', regions, (value as ToolbarChip).key);\n  };\n\n  const onDeleteQueryGroup = (category: string) =>\n    onQuery({\n      ...request,\n      query: {\n        ...(request.query || {}),\n        [category]: undefined,\n      },\n    });\n\n  const selectCategory = useCallback(\n    (event?: SyntheticEvent<HTMLDivElement, Event> | undefined) => {\n      const eventTarget = event?.target as HTMLElement;\n      const selectedCategory = eventTarget.innerText;\n      setSelectedCategory(selectedCategory);\n      setCategoryToggled((prev) => !prev);\n    },\n    []\n  );\n\n  // ensure the search input value reflects what's specified in the request object\n  useEffect(() => {\n    if (nameInputRef.current) {\n      nameInputRef.current.value = name || '';\n    }\n    if (ownerInputRef.current) {\n      ownerInputRef.current.value = owner || '';\n    }\n  }, [nameInputRef, name, owner]);\n\n  const filterCategoryMenuItems = filterCategoryOptions.map(\n    ({ value, label }) => <DropdownItem key={value}>{label}</DropdownItem>\n  );\n  const statusMenuItems = statusOptions\n    .filter((option) => option.value !== 'preparing')\n    .map(({ value, label }) => (\n      <SelectOption key={value} value={value}>\n        {label}\n      </SelectOption>\n    ));\n  const cloudProviderMenuItems = cloudProviderOptions.map(\n    ({ value, label }) => (\n      <SelectOption key={value} value={value}>\n        {label}\n      </SelectOption>\n    )\n  );\n  const regionMenuItems = regionOptions.map(({ value, label }) => (\n    <SelectOption key={value} value={value}>\n      {label}\n    </SelectOption>\n  ));\n\n  const filterCategoryDropdown = (\n    <ToolbarItem>\n      <Dropdown\n        onSelect={(event) => selectCategory(event)}\n        position={DropdownPosition.left}\n        toggle={\n          <DropdownToggle\n            onToggle={onFilterCategoryToggle}\n            style={{ width: '100%' }}\n          >\n            <FilterIcon size=\"sm\" /> {selectedCategory}\n          </DropdownToggle>\n        }\n        isOpen={categoryToggled}\n        dropdownItems={filterCategoryMenuItems}\n        style={{ width: '100%' }}\n      ></Dropdown>\n    </ToolbarItem>\n  );\n\n  const toggleGroupItems = (\n    <>\n      <ToolbarGroup variant=\"filter-group\">\n        {filterCategoryDropdown}\n\n        <ToolbarFilter\n          chips={statuses.map((v) => stringToChip(v, t))}\n          deleteChip={onSelectStatus}\n          deleteChipGroup={() => onDeleteQueryGroup('statuses')}\n          categoryName={t('status')}\n          showToolbarItem={selectedCategory === t('status')}\n        >\n          <Select\n            variant={'checkbox'}\n            aria-label={t('status')}\n            onToggle={onToggleStatuses}\n            onSelect={(_, v) =>\n              onSelectStatus('', stringToChip(v as string, t))\n            }\n            selections={statuses}\n            isOpen={statusesToggled}\n            placeholderText={t('Filter by status')}\n          >\n            {statusMenuItems}\n          </Select>\n        </ToolbarFilter>\n\n        <ToolbarFilter\n          chips={cloudProviders.map((v) => stringToChip(v, t))}\n          deleteChip={onSelectCloudProvider}\n          deleteChipGroup={() => onDeleteQueryGroup('cloudProviders')}\n          categoryName={t('CloudProvider')}\n          showToolbarItem={selectedCategory === t('CloudProvider')}\n        >\n          <Select\n            variant={'checkbox'}\n            aria-label={t('CloudProvider')}\n            onToggle={onToggleCloudProviders}\n            onSelect={(_, v) =>\n              onSelectCloudProvider('', stringToChip(v as string, t))\n            }\n            selections={cloudProviders}\n            isOpen={cloudProvidersToggled}\n            placeholderText={t('Filter by cloud provider')}\n          >\n            {cloudProviderMenuItems}\n          </Select>\n        </ToolbarFilter>\n\n        <ToolbarFilter\n          chips={regions.map((v) => stringToChip(v, t))}\n          deleteChip={onSelectRegion}\n          deleteChipGroup={() => onDeleteQueryGroup('regions')}\n          categoryName={t('region')}\n          showToolbarItem={selectedCategory === t('region')}\n        >\n          <Select\n            variant={'checkbox'}\n            aria-label={t('region')}\n            onToggle={onToggleRegions}\n            onSelect={(_, v) =>\n              onSelectRegion('', stringToChip(v as string, t))\n            }\n            selections={regions}\n            isOpen={regionsToggled}\n            placeholderText={t('Filter by region')}\n          >\n            {regionMenuItems}\n          </Select>\n        </ToolbarFilter>\n\n        <ToolbarFilter\n          chips={name ? [name] : []}\n          deleteChip={() => onDeleteQueryGroup('name')}\n          categoryName={t('name')}\n        >\n          {selectedCategory === t('name') && (\n            <ToolbarItem>\n              <InputGroup>\n                <TextInput\n                  name={t('name')}\n                  id={t('name')}\n                  type=\"search\"\n                  placeholder={t('nameSearchPlaceholder')}\n                  aria-label={t('nameSearchPlaceholder')}\n                  onChange={(name) =>\n                    debouncedOnQuery({\n                      size: request.size,\n                      page: 1,\n                      query: {\n                        ...request.query,\n                        name,\n                      },\n                    })\n                  }\n                  ref={nameInputRef}\n                />\n                <Button\n                  variant={'control'}\n                  aria-label=\"search button for name input\"\n                  onClick={() =>\n                    onQuery({\n                      size: request.size,\n                      page: 1,\n                      query: {\n                        ...request.query,\n                        name: nameInputRef.current?.value || '',\n                      },\n                    })\n                  }\n                >\n                  <SearchIcon />\n                </Button>\n              </InputGroup>\n            </ToolbarItem>\n          )}\n        </ToolbarFilter>\n\n        <ToolbarFilter\n          chips={owner ? [owner] : []}\n          deleteChip={() => onDeleteQueryGroup('owner')}\n          categoryName={t('owner')}\n        >\n          {selectedCategory === t('owner') && (\n            <ToolbarItem>\n              <InputGroup>\n                <TextInput\n                  name={t('owner')}\n                  id={t('owner')}\n                  type=\"search\"\n                  placeholder={t('ownerSearchPlaceholder')}\n                  aria-label={t('ownerSearchPlaceholder')}\n                  onChange={(owner) =>\n                    debouncedOnQuery({\n                      size: request.size,\n                      page: 1,\n                      query: {\n                        ...request.query,\n                        owner,\n                      },\n                    })\n                  }\n                  ref={ownerInputRef}\n                />\n                <Button\n                  variant={'control'}\n                  aria-label=\"search button for owner input\"\n                  onClick={() =>\n                    onQuery({\n                      size: request.size,\n                      page: 1,\n                      query: {\n                        ...request.query,\n                        owner: ownerInputRef.current?.value || '',\n                      },\n                    })\n                  }\n                >\n                  <SearchIcon />\n                </Button>\n              </InputGroup>\n            </ToolbarItem>\n          )}\n        </ToolbarFilter>\n      </ToolbarGroup>\n    </>\n  );\n  const toolbarItems = (\n    <>\n      <ToolbarToggleGroup toggleIcon={<FilterIcon />} breakpoint=\"xl\">\n        {toggleGroupItems}\n      </ToolbarToggleGroup>\n      <ToolbarGroup variant=\"icon-button-group\">\n        <ToolbarItem>\n          <Button variant=\"primary\">Create Kafka Instance</Button>\n        </ToolbarItem>\n      </ToolbarGroup>\n      <ToolbarItem variant=\"pagination\" alignment={{ default: 'alignRight' }}>\n        <KafkasPagination isCompact />\n      </ToolbarItem>\n    </>\n  );\n  return (\n    <Toolbar\n      id=\"toolbar-group-types\"\n      collapseListedFiltersBreakpoint=\"xl\"\n      clearAllFilters={clearAllFilters}\n    >\n      <ToolbarContent>{toolbarItems}</ToolbarContent>\n    </Toolbar>\n  );\n};\n\ntype KeyValueOptions = {\n  value: string;\n  label: string;\n};\n\n// enum InstanceStatus {\n//   READY = 'ready',\n//   ACCEPTED = 'accepted',\n//   PREPARING = 'preparing',\n//   PROVISIONING = 'provisioning',\n//   FAILED = 'failed',\n//   DEPROVISION = 'deprovision',\n//   DELETED = 'deleted',\n// }\n\nconst filterCategoryOptions: KeyValueOptions[] = [\n  { value: 'name', label: 'Name' },\n  { value: 'status', label: 'Status' },\n  { value: 'cloudprovider', label: 'Cloud Provider' },\n  { value: 'region', label: 'Region' },\n  { value: 'owner', label: 'Owner' },\n];\n\nconst cloudProviderOptions: KeyValueOptions[] = [\n  { value: 'aws', label: 'Amazon Web Services' },\n];\n\nconst statusOptions: KeyValueOptions[] = [\n  { value: 'ready', label: 'Ready' },\n  { value: 'failed', label: 'Failed' },\n  { value: 'accepted', label: 'Creation pending' },\n  { value: 'provisioning', label: 'Creation in progress' },\n  { value: 'preparing', label: 'Creation in progress' },\n  { value: 'deprovision', label: 'Deletion in progress' },\n];\nconst regionOptions: KeyValueOptions[] = [\n  { value: 'us-east-1', label: 'US East, N. Virginia' },\n];\n\ntype KafkasPaginationProps = {\n  isCompact?: boolean;\n};\nconst KafkasPagination: FunctionComponent<KafkasPaginationProps> = ({\n  isCompact = false,\n}) => {\n  const { request, response, onQuery } = useKafkasMachine();\n\n  return (\n    <Pagination\n      itemCount={response?.total || 0}\n      page={request.page}\n      perPage={request.size}\n      onChange={(page, size) => onQuery({ page, size })}\n      isCompact={isCompact}\n    />\n  );\n};\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport {\n  Alert,\n  AlertGroup,\n  Card,\n  CardBody,\n  Form,\n  FormAlert,\n  FormGroup,\n  Radio,\n  TextArea,\n  TextInput,\n} from '@patternfly/react-core';\n\nimport { useReviewMachine } from './CreateConnectorWizardContext';\nimport { StepBodyLayout } from './StepBodyLayout';\n\nexport function Review() {\n  const { t } = useTranslation();\n  const {\n    name,\n    serviceAccount,\n    configString,\n    configStringError,\n    configStringWarnings,\n    isSaving,\n    savingError,\n    onSetName,\n    onSetServiceAccount,\n    onUpdateConfiguration,\n  } = useReviewMachine();\n  return (\n    <StepBodyLayout\n      title={t('Review')}\n      description={\n        'Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit error adipisci, ducimus ipsum dicta quo beatae ratione aliquid nostrum animi eos, doloremque laborum quasi sed, vitae ipsa illo delectus! Quos'\n      }\n    >\n      <Card>\n        <CardBody>\n          <Form>\n            {savingError && (\n              <FormAlert>\n                <Alert\n                  variant=\"danger\"\n                  title={savingError}\n                  aria-live=\"polite\"\n                  isInline\n                />\n              </FormAlert>\n            )}\n            <FormGroup\n              label=\"Name\"\n              isRequired\n              fieldId=\"name\"\n              helperText=\"Please provide a unique name for the connector\"\n            >\n              <TextInput\n                isDisabled={isSaving}\n                value={name}\n                onChange={onSetName}\n                id=\"name\"\n              />\n            </FormGroup>\n            <FormGroup\n              label=\"Service Account\"\n              isRequired\n              fieldId=\"service-account\"\n            >\n              <Radio\n                isDisabled={isSaving}\n                isChecked={serviceAccount === undefined}\n                name=\"service-account\"\n                onChange={() => onSetServiceAccount(undefined)}\n                label=\"Automatically create a Service Account for this connector\"\n                id=\"service-account-automatic\"\n                value=\"automatic\"\n              />\n              <Radio\n                isDisabled={isSaving}\n                isChecked={serviceAccount !== undefined}\n                name=\"service-account\"\n                onChange={() =>\n                  onSetServiceAccount({ clientId: '', clientSecret: '' })\n                }\n                label=\"Provide the credentials manually\"\n                id=\"service-account-user\"\n                value=\"user\"\n              />\n              {serviceAccount !== undefined && (\n                <>\n                  <FormGroup label=\"Client ID\" isRequired fieldId=\"clientId\">\n                    <TextInput\n                      isDisabled={isSaving}\n                      value={serviceAccount.clientId}\n                      onChange={(clientId) =>\n                        onSetServiceAccount({ ...serviceAccount, clientId })\n                      }\n                      id=\"clientId\"\n                    />\n                  </FormGroup>\n                  <FormGroup\n                    label=\"Client Secret\"\n                    isRequired\n                    fieldId=\"clientSecret\"\n                  >\n                    <TextInput\n                      isDisabled={isSaving}\n                      value={serviceAccount.clientSecret}\n                      onChange={(clientSecret) =>\n                        onSetServiceAccount({ ...serviceAccount, clientSecret })\n                      }\n                      id=\"clientSecret\"\n                    />\n                  </FormGroup>\n                </>\n              )}\n            </FormGroup>\n            <FormGroup\n              label=\"Configuration\"\n              isRequired\n              fieldId=\"configuration\"\n              helperText=\"Please review the configuration data.\"\n              helperTextInvalid={configStringError}\n              validated={\n                configStringError !== undefined\n                  ? 'error'\n                  : configStringWarnings !== undefined\n                  ? 'warning'\n                  : 'default'\n              }\n            >\n              <TextArea\n                value={configString}\n                onChange={onUpdateConfiguration}\n                autoResize={true}\n              />\n              <AlertGroup>\n                {configStringWarnings?.map((w, idx) => (\n                  <Alert key={idx} title={w} variant=\"warning\" isInline />\n                ))}\n              </AlertGroup>\n            </FormGroup>\n          </Form>\n        </CardBody>\n      </Card>\n    </StepBodyLayout>\n  );\n}\n","import React, { Component, HTMLProps, ReactNode } from 'react';\n\nimport {\n  Button,\n  ButtonVariant,\n  KEY_CODES,\n  Modal,\n  ModalVariant,\n  PickOptional,\n  WizardContextProvider,\n  WizardHeader,\n  WizardNav,\n  WizardNavItem,\n  WizardNavItemProps,\n  WizardToggle,\n} from '@patternfly/react-core';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/Wizard/wizard';\n\nexport function getFlattenedSteps(steps: WizardStep[]): WizardStep[] {\n  const flattenedSteps: WizardStep[] = [];\n  for (const step of steps) {\n    if (step.steps) {\n      for (const childStep of step.steps) {\n        flattenedSteps.push(childStep);\n      }\n    } else {\n      flattenedSteps.push(step);\n    }\n  }\n  return flattenedSteps;\n}\n\nexport interface WizardStep {\n  /** Optional identifier */\n  id?: string | number;\n  /** The name of the step */\n  name: ReactNode;\n  /** The component to render in the main body */\n  component?: any;\n  /** Setting to true hides the side nav and footer */\n  isFinishedStep?: boolean;\n  /** Enables or disables the step in the navigation. Enabled by default. */\n  canJumpTo?: boolean;\n  /** Sub steps */\n  steps?: WizardStep[];\n  /** Props to pass to the WizardNavItem */\n  stepNavItemProps?:\n    | HTMLProps<HTMLButtonElement | HTMLAnchorElement>\n    | WizardNavItemProps;\n  /** (Unused if footer is controlled) Can change the Next button text. If nextButtonText is also set for the Wizard, this step specific one overrides it. */\n  nextButtonText?: ReactNode;\n  /** (Unused if footer is controlled) The condition needed to enable the Next button */\n  enableNext?: boolean;\n  /** (Unused if footer is controlled) True to hide the Cancel button */\n  hideCancelButton?: boolean;\n  /** (Unused if footer is controlled) True to hide the Back button */\n  hideBackButton?: boolean;\n}\n\nexport type WizardStepFunctionType = (\n  newStep: { id?: string | number; name: ReactNode },\n  prevStep: { prevId?: string | number; prevName: ReactNode }\n) => void;\n\nexport interface WizardProps extends HTMLProps<HTMLDivElement> {\n  /** Custom width of the wizard */\n  width?: number | string;\n  /** Custom height of the wizard */\n  height?: number | string;\n  /** The wizard title to display if header is desired */\n  title?: string;\n  /** An optional id for the title */\n  titleId?: string;\n  /** An optional id for the description */\n  descriptionId?: string;\n  /** The wizard description */\n  description?: ReactNode;\n  /** Flag indicating whether the close button should be in the header */\n  hideClose?: boolean;\n  /** Callback function to close the wizard */\n  onClose: () => void;\n  /** Callback function when a step in the nav is clicked */\n  onGoToStep?: WizardStepFunctionType;\n  /** Additional classes spread to the Wizard */\n  className?: string;\n  /** The wizard steps configuration object */\n  steps: WizardStep[];\n  /** The current step the wizard is on (1 or higher) */\n  currentStep: number;\n  /** Aria-label for the Nav */\n  navAriaLabel?: string;\n  /** Sets aria-labelledby on nav element */\n  navAriaLabelledBy?: string;\n  /** Aria-label for the main element */\n  mainAriaLabel?: string;\n  /** Sets aria-labelledby on the main element */\n  mainAriaLabelledBy?: string;\n  /** Can remove the default padding around the main body content by setting this to true */\n  hasNoBodyPadding?: boolean;\n  /** (Use to control the footer) Passing in a footer component lets you control the buttons yourself */\n  footer?: ReactNode;\n  /** (Unused if footer is controlled) Callback function to save at the end of the wizard, if not specified uses onClose */\n  onSave: () => void;\n  /** (Unused if footer is controlled) Callback function after Next button is clicked */\n  onNext: () => void;\n  /** (Unused if footer is controlled) Callback function after Back button is clicked */\n  onBack: () => void;\n  goToStep: (index: number) => void;\n  goToStepById: (id: number | string) => void;\n  goToStepByName: (name: string) => void;\n  /** (Unused if footer is controlled) The Next button text */\n  nextButtonText?: ReactNode;\n  /** (Unused if footer is controlled) The Back button text */\n  backButtonText?: ReactNode;\n  /** (Unused if footer is controlled) The Cancel button text */\n  cancelButtonText?: ReactNode;\n  /** (Unused if footer is controlled) aria-label for the close button */\n  closeButtonAriaLabel?: string;\n  /** The parent container to append the modal to. Defaults to document.body */\n  appendTo?: HTMLElement | (() => HTMLElement);\n  /** Flag indicating Wizard modal is open. Wizard will be placed into a modal if this prop is provided */\n  isOpen?: boolean;\n}\n\ninterface WizardState {\n  isNavOpen: boolean;\n}\n\nexport class UncontrolledWizard extends Component<WizardProps, WizardState> {\n  static displayName = 'Wizard';\n  private static currentId = 0;\n  static defaultProps: PickOptional<WizardProps> = {\n    title: undefined,\n    description: '',\n    className: '',\n    nextButtonText: 'Next',\n    backButtonText: 'Back',\n    cancelButtonText: 'Cancel',\n    hideClose: false,\n    closeButtonAriaLabel: 'Close',\n    navAriaLabel: undefined,\n    navAriaLabelledBy: undefined,\n    mainAriaLabel: undefined,\n    mainAriaLabelledBy: undefined,\n    hasNoBodyPadding: false,\n    onGoToStep: undefined,\n    width: undefined,\n    height: undefined,\n    footer: undefined,\n    appendTo: undefined,\n    isOpen: undefined,\n  };\n  private titleId: string;\n  private descriptionId: string;\n\n  constructor(props: WizardProps) {\n    super(props);\n    const newId = UncontrolledWizard.currentId++;\n    this.titleId = props.titleId || `pf-wizard-title-${newId}`;\n    this.descriptionId =\n      props.descriptionId || `pf-wizard-description-${newId}`;\n\n    this.state = {\n      isNavOpen: false,\n    };\n  }\n\n  private handleKeyClicks = (event: KeyboardEvent): void => {\n    if (event.keyCode === KEY_CODES.ESCAPE_KEY) {\n      if (this.state.isNavOpen) {\n        this.setState({ isNavOpen: !this.state.isNavOpen });\n      } else if (this.props.isOpen && this.props.onClose) {\n        this.props.onClose();\n      }\n    }\n  };\n\n  // private goToStep = (step: number): void => {\n  //   const { onGoToStep } = this.props;\n  //   const { currentStep } = this.state;\n  //   const flattenedSteps = this.getFlattenedSteps();\n  //   const maxSteps = flattenedSteps.length;\n  //   if (step < 1) {\n  //     step = 1;\n  //   } else if (step > maxSteps) {\n  //     step = maxSteps;\n  //   }\n  //   this.setState({ currentStep: step, isNavOpen: false });\n  //   const { id: prevId, name: prevName } = flattenedSteps[currentStep - 1];\n  //   const { id, name } = flattenedSteps[step - 1];\n  //   return onGoToStep && onGoToStep({ id, name }, { prevId, prevName });\n  // };\n\n  // private goToStepById = (stepId: number | string): void => {\n  //   const flattenedSteps = this.getFlattenedSteps();\n  //   let step;\n  //   for (let i = 0; i < flattenedSteps.length; i++) {\n  //     if (flattenedSteps[i].id === stepId) {\n  //       step = i + 1;\n  //       break;\n  //     }\n  //   }\n  //   if (step) {\n  //     this.setState({ currentStep: step });\n  //   }\n  // };\n\n  // private goToStepByName = (stepName: string): void => {\n  //   const flattenedSteps = this.getFlattenedSteps();\n  //   let step;\n  //   for (let i = 0; i < flattenedSteps.length; i++) {\n  //     if (flattenedSteps[i].name === stepName) {\n  //       step = i + 1;\n  //       break;\n  //     }\n  //   }\n  //   if (step) {\n  //     this.setState({ currentStep: step });\n  //   }\n  // };\n\n  private getFlattenedSteps = (): WizardStep[] => {\n    const { steps } = this.props;\n    return getFlattenedSteps(steps);\n  };\n\n  private getFlattenedStepsIndex = (\n    flattenedSteps: WizardStep[],\n    stepName: ReactNode\n  ): number => {\n    for (let i = 0; i < flattenedSteps.length; i++) {\n      if (flattenedSteps[i].name === stepName) {\n        return i + 1;\n      }\n    }\n\n    return 0;\n  };\n\n  private initSteps = (steps: WizardStep[]): WizardStep[] => {\n    // Set default Step values\n    for (let i = 0; i < steps.length; i++) {\n      if (steps[i].steps) {\n        for (let j = 0; j < steps[i].steps!.length; j++) {\n          steps[i].steps![j] = Object.assign(\n            { canJumpTo: true },\n            steps[i].steps![j]\n          );\n        }\n      }\n      steps[i] = Object.assign({ canJumpTo: true }, steps[i]);\n    }\n    return steps;\n  };\n\n  getElement = (appendTo: HTMLElement | (() => HTMLElement)) => {\n    if (typeof appendTo === 'function') {\n      return appendTo();\n    }\n    return appendTo || document.body;\n  };\n\n  componentDidMount() {\n    const target = typeof document !== 'undefined' ? document.body : null;\n    if (target) {\n      target.addEventListener('keydown', this.handleKeyClicks, false);\n    }\n  }\n\n  componentWillUnmount() {\n    const target = (typeof document !== 'undefined' && document.body) || null;\n    if (target) {\n      target.removeEventListener('keydown', this.handleKeyClicks, false);\n    }\n  }\n\n  render() {\n    const {\n      /* eslint-disable @typescript-eslint/no-unused-vars */\n      width,\n\n      height,\n      title,\n      description,\n      onClose,\n      onSave,\n      onBack,\n      onNext,\n      onGoToStep,\n      goToStep,\n      goToStepById,\n      goToStepByName,\n      className,\n      steps,\n      currentStep,\n      nextButtonText = 'Next',\n      backButtonText = 'Back',\n      cancelButtonText = 'Cancel',\n      hideClose,\n      closeButtonAriaLabel = 'Close',\n      navAriaLabel,\n      navAriaLabelledBy,\n      mainAriaLabel,\n      mainAriaLabelledBy,\n      hasNoBodyPadding,\n      footer,\n      appendTo,\n      isOpen,\n      titleId,\n      descriptionId,\n      ...rest\n      /* eslint-enable @typescript-eslint/no-unused-vars */\n    } = this.props;\n    const flattenedSteps = this.getFlattenedSteps();\n    const adjustedStep =\n      flattenedSteps.length < currentStep ? flattenedSteps.length : currentStep;\n    const activeStep = flattenedSteps[adjustedStep - 1];\n    const computedSteps: WizardStep[] = this.initSteps(steps);\n    const firstStep = activeStep === flattenedSteps[0];\n    const isValid =\n      activeStep && activeStep.enableNext !== undefined\n        ? activeStep.enableNext\n        : true;\n    const nav = (isWizardNavOpen: boolean) => {\n      const wizNavAProps = {\n        isOpen: isWizardNavOpen,\n        'aria-label': navAriaLabel,\n        'aria-labelledby':\n          (title || navAriaLabelledBy) && (navAriaLabelledBy || this.titleId),\n      };\n      return (\n        <WizardNav {...wizNavAProps}>\n          {computedSteps.map((step, index) => {\n            if (step.isFinishedStep) {\n              // Don't show finished step in the side nav\n              return null;\n            }\n            let enabled;\n            let navItemStep;\n            if (step.steps) {\n              let hasActiveChild = false;\n              let canJumpToParent = false;\n              for (const subStep of step.steps) {\n                if (activeStep.name === subStep.name) {\n                  // one of the children matches\n                  hasActiveChild = true;\n                }\n                if (subStep.canJumpTo) {\n                  canJumpToParent = true;\n                }\n              }\n              navItemStep = this.getFlattenedStepsIndex(\n                flattenedSteps,\n                step.steps[0].name\n              );\n              return (\n                <WizardNavItem\n                  key={index}\n                  content={step.name}\n                  isCurrent={hasActiveChild}\n                  isDisabled={!canJumpToParent}\n                  step={navItemStep}\n                  onNavItemClick={goToStep}\n                >\n                  <WizardNav {...wizNavAProps} returnList>\n                    {step.steps.map(\n                      (childStep: WizardStep, indexChild: number) => {\n                        if (childStep.isFinishedStep) {\n                          // Don't show finished step in the side nav\n                          return null;\n                        }\n                        navItemStep = this.getFlattenedStepsIndex(\n                          flattenedSteps,\n                          childStep.name\n                        );\n                        enabled = childStep.canJumpTo;\n                        return (\n                          <WizardNavItem\n                            key={`child_${indexChild}`}\n                            content={childStep.name}\n                            isCurrent={activeStep.name === childStep.name}\n                            isDisabled={!enabled}\n                            step={navItemStep}\n                            onNavItemClick={goToStep}\n                          />\n                        );\n                      }\n                    )}\n                  </WizardNav>\n                </WizardNavItem>\n              );\n            }\n            navItemStep = this.getFlattenedStepsIndex(\n              flattenedSteps,\n              step.name\n            );\n            enabled = step.canJumpTo;\n            return (\n              <WizardNavItem\n                {...step.stepNavItemProps}\n                key={index}\n                content={step.name}\n                isCurrent={activeStep.name === step.name}\n                isDisabled={!enabled}\n                step={navItemStep}\n                onNavItemClick={goToStep}\n              />\n            );\n          })}\n        </WizardNav>\n      );\n    };\n\n    const context = {\n      goToStepById,\n      goToStepByName,\n      onNext,\n      onBack,\n      onClose,\n      activeStep,\n    };\n\n    const divStyles = {\n      ...(height ? { height } : {}),\n      ...(width ? { width } : {}),\n    };\n\n    const wizard = (\n      <WizardContextProvider value={context}>\n        <div\n          {...rest}\n          className={css(\n            styles.wizard,\n            activeStep && activeStep.isFinishedStep && 'pf-m-finished',\n            className\n          )}\n          style={Object.keys(divStyles).length ? divStyles : undefined}\n        >\n          {title && (\n            <WizardHeader\n              titleId={this.titleId}\n              descriptionId={this.descriptionId}\n              onClose={onClose}\n              title={title}\n              description={description}\n              closeButtonAriaLabel={closeButtonAriaLabel}\n              hideClose={hideClose}\n            />\n          )}\n          <WizardToggle\n            mainAriaLabel={mainAriaLabel}\n            isInPage={isOpen === undefined}\n            mainAriaLabelledBy={\n              (title || mainAriaLabelledBy) &&\n              (mainAriaLabelledBy || this.titleId)\n            }\n            isNavOpen={this.state.isNavOpen}\n            onNavToggle={(isNavOpen) => this.setState({ isNavOpen })}\n            nav={nav}\n            steps={steps}\n            activeStep={activeStep}\n            hasNoBodyPadding={hasNoBodyPadding!}\n          >\n            {footer || (\n              <footer className={css(styles.wizardFooter)}>\n                <Button\n                  variant={ButtonVariant.primary}\n                  type=\"submit\"\n                  onClick={onNext}\n                  isDisabled={!isValid}\n                >\n                  {(activeStep && activeStep.nextButtonText) || nextButtonText}\n                </Button>\n                {!activeStep.hideBackButton && (\n                  <Button\n                    variant={ButtonVariant.secondary}\n                    onClick={onBack}\n                    className={css(firstStep && 'pf-m-disabled')}\n                  >\n                    {backButtonText}\n                  </Button>\n                )}\n                {!activeStep.hideCancelButton && (\n                  <div className={styles.wizardFooterCancel}>\n                    <Button variant={ButtonVariant.link} onClick={onClose}>\n                      {cancelButtonText}\n                    </Button>\n                  </div>\n                )}\n              </footer>\n              // <WizardFooterInternal\n              //   onNext={this.onNext}\n              //   onBack={this.onBack}\n              //   onClose={onClose}\n              //   isValid={isValid}\n              //   firstStep={firstStep}\n              //   activeStep={activeStep}\n              //   nextButtonText={(activeStep && activeStep.nextButtonText) || nextButtonText}\n              //   backButtonText={backButtonText}\n              //   cancelButtonText={cancelButtonText}\n              // />\n            )}\n          </WizardToggle>\n        </div>\n      </WizardContextProvider>\n    );\n\n    if (isOpen !== undefined) {\n      return (\n        <Modal\n          width={width !== null ? width : undefined}\n          isOpen={isOpen}\n          variant={ModalVariant.large}\n          aria-labelledby={this.titleId}\n          aria-describedby={this.descriptionId}\n          showClose={false}\n          hasNoBodyWrapper\n        >\n          {wizard}\n        </Modal>\n      );\n    }\n    return wizard;\n  }\n}\n","import React, { FunctionComponent, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { useSelector, useActor } from '@xstate/react';\n\nimport './CreateConnectorWizard.css';\nimport { creationWizardMachine } from './CreateConnectorWizard.machine';\nimport { useCreateConnectorWizardService } from './CreateConnectorWizardContext';\nimport { SelectCluster } from './StepClusters';\nimport { ConfiguratorStep } from './StepConfigurator';\nimport { SelectConnectorType } from './StepConnectorTypes';\nimport { StepErrorBoundary } from './StepErrorBoundary';\nimport { SelectKafkaInstance } from './StepKafkas';\nimport { Review } from './StepReview';\nimport {\n  getFlattenedSteps,\n  UncontrolledWizard,\n  WizardStep,\n} from './UncontrolledWizard';\n\nfunction useKafkaInstanceStep() {\n  const { t } = useTranslation();\n  const service = useCreateConnectorWizardService();\n  const { isActive, canJumpTo, enableNext } = useSelector(\n    service,\n    useCallback(\n      (state: typeof service.state) => ({\n        isActive: state.matches('selectKafka'),\n        canJumpTo:\n          creationWizardMachine.transition(state, 'jumpToSelectKafka')\n            .changed || state.matches('selectKafka'),\n        enableNext: creationWizardMachine.transition(state, 'next').changed,\n      }),\n      [service]\n    )\n  );\n  return {\n    name: t('Kafka instance'),\n    isActive,\n    component: (\n      <StepErrorBoundary>\n        <SelectKafkaInstance />\n      </StepErrorBoundary>\n    ),\n    canJumpTo,\n    enableNext,\n  };\n}\n\nfunction useConfigurationStep() {\n  const { t } = useTranslation();\n  const service = useCreateConnectorWizardService();\n  const { isActive, activeStep, canJumpTo, canJumpToStep, enableNext, steps } =\n    useSelector(\n      service,\n      useCallback(\n        (state: typeof service.state) => ({\n          isActive: state.matches('configureConnector'),\n          canJumpTo:\n            creationWizardMachine.transition(state, 'jumpToConfigureConnector')\n              .changed || state.matches('configureConnector'),\n          enableNext: creationWizardMachine.transition(state, 'next').changed,\n          steps: state.context.configurationSteps,\n          activeStep: state.context.activeConfigurationStep,\n          canJumpToStep: (idx: number) =>\n            creationWizardMachine.transition(state, {\n              type: 'jumpToConfigureConnector',\n              subStep: idx,\n            }).changed,\n        }),\n        [service]\n      )\n    );\n  return {\n    name: t('Configurations'),\n    isActive,\n    canJumpTo,\n    steps: steps\n      ? steps.map((step, idx) => ({\n          name: step,\n          isActive: isActive && activeStep === idx,\n          canJumpTo: canJumpToStep(idx),\n          enableNext,\n          component: (\n            <StepErrorBoundary>\n              <ConfiguratorStep />\n            </StepErrorBoundary>\n          ),\n        }))\n      : undefined,\n    enableNext,\n    component: (\n      <StepErrorBoundary>\n        <ConfiguratorStep />\n      </StepErrorBoundary>\n    ),\n  };\n}\n\nexport type CreateConnectorWizardProps = {\n  onClose: () => void;\n};\n\nexport const CreateConnectorWizard: FunctionComponent<CreateConnectorWizardProps> =\n  ({ onClose }) => {\n    const { t } = useTranslation();\n\n    const service = useCreateConnectorWizardService();\n    const [state, send] = useActor(service);\n\n    const kafkaInstanceStep = useKafkaInstanceStep();\n    const configurationStep = useConfigurationStep();\n\n    if (state.value === 'saved') return null;\n\n    const steps = [\n      {\n        name: t('Connector category'),\n        isActive: state.matches('selectConnector'),\n        component: (\n          <StepErrorBoundary>\n            <SelectConnectorType />\n          </StepErrorBoundary>\n        ),\n        canJumpTo:\n          creationWizardMachine.transition(state, 'jumpToSelectConnector')\n            .changed || state.matches('selectConnector'),\n        enableNext: creationWizardMachine.transition(state, 'next').changed,\n      },\n      kafkaInstanceStep,\n      {\n        name: t('OSD cluster'),\n        isActive: state.matches('selectCluster'),\n        component: (\n          <StepErrorBoundary>\n            <SelectCluster />\n          </StepErrorBoundary>\n        ),\n        canJumpTo:\n          creationWizardMachine.transition(state, 'jumpToSelectCluster')\n            .changed || state.matches('selectCluster'),\n        enableNext: creationWizardMachine.transition(state, 'next').changed,\n      },\n      configurationStep,\n      {\n        name: t('Review'),\n        isActive: state.matches('reviewConfiguration'),\n        component: (\n          <StepErrorBoundary>\n            <Review />\n          </StepErrorBoundary>\n        ),\n        canJumpTo:\n          creationWizardMachine.transition(state, 'jumpToReviewConfiguration')\n            .changed || state.matches('reviewConfiguration'),\n        enableNext: creationWizardMachine.transition(state, 'next').changed,\n        nextButtonText: 'Create connector',\n      },\n    ];\n\n    const flattenedSteps = getFlattenedSteps(steps) as Array<\n      WizardStep & { isActive: boolean }\n    >;\n    const currentStep =\n      flattenedSteps.reduceRight<number>(\n        (idx, s, currentIdx) =>\n          s.isActive && currentIdx > idx ? currentIdx : idx,\n        -1\n      ) + 1;\n\n    const onNext = () => send('next');\n    const onBack = () => send('prev');\n    const goToStep = (stepIndex: number) => {\n      switch (stepIndex) {\n        case 1:\n          send('jumpToSelectConnector');\n          break;\n        case 2:\n          send('jumpToSelectKafka');\n          break;\n        case 3:\n          send('jumpToSelectCluster');\n          break;\n        // case 4:\n        //   send('jumpToConfigureConnector');\n        //   break;\n        case flattenedSteps.length:\n          send('jumpToReviewConfiguration');\n          break;\n        default:\n          if (stepIndex < flattenedSteps.length) {\n            send({ type: 'jumpToConfigureConnector', subStep: stepIndex - 4 });\n          }\n      }\n    };\n    const goToStepById = (...args: any[]) => console.log('goToStepById', args);\n    const goToStepByName = (...args: any[]) =>\n      console.log('goToStepByName', args);\n\n    return (\n      <UncontrolledWizard\n        className=\"cos\"\n        steps={steps}\n        currentStep={currentStep}\n        onNext={onNext}\n        onBack={onBack}\n        onClose={onClose}\n        onSave={() => false}\n        goToStep={goToStep}\n        goToStepById={goToStepById}\n        goToStepByName={goToStepByName}\n        hasNoBodyPadding={true}\n      />\n    );\n  };\n","/* eslint-disable camelcase */\n\n/* eslint-disable no-undef */\nimport { ComponentType, LazyExoticComponent } from 'react';\n\nimport { ConnectorType } from '@rhoas/connector-management-sdk';\n\nimport { ConnectorConfiguratorResponse } from './StepConfiguratorLoader.machine';\n\ntype FederatedModuleConfigurationType = {\n  remoteEntry: string;\n  scope: string;\n  module: string;\n};\n\nexport type FederatedConfiguratorConfig = {\n  steps: string[];\n  Configurator: LazyExoticComponent<ComponentType<any>>;\n};\ntype FederatedConfigurationConfigModule = {\n  default: FederatedConfiguratorConfig;\n};\n\nexport const fetchConfigurator = async (\n  connector: ConnectorType,\n  config: Record<string, unknown>\n): Promise<ConnectorConfiguratorResponse> => {\n  const defaultConfig = Promise.resolve<ConnectorConfiguratorResponse>({\n    steps: false,\n    Configurator: false,\n  });\n  return new Promise(async (resolve) => {\n    try {\n      const federatedConfigurator =\n        await maybeGetFederatedConfiguratorForConnector(config, connector);\n      await injectFederatedModuleScript(\n        federatedConfigurator.remoteEntry as string\n      );\n      resolve(\n        loadFederatedConfigurator(\n          federatedConfigurator.scope,\n          federatedConfigurator.module\n        )\n      );\n    } catch (e) {\n      resolve(defaultConfig);\n    }\n  });\n};\n\nconst isValidConf = (maybeConf?: any) =>\n  maybeConf &&\n  maybeConf.remoteEntry &&\n  typeof maybeConf.remoteEntry === 'string' &&\n  maybeConf.scope &&\n  typeof maybeConf.scope === 'string' &&\n  maybeConf.module &&\n  typeof maybeConf.module === 'string';\n\nconst maybeGetFederatedConfiguratorForConnector = async (\n  config: Record<string, unknown>,\n  connector: ConnectorType\n): Promise<FederatedModuleConfigurationType> => {\n  console.log('Fetched federated configurator remotes configuration', config);\n  const maybeConfiguration = config[connector.id!];\n  console.log(\n    `Candidate configuration for \"${connector.id}\"`,\n    maybeConfiguration\n  );\n  if (!maybeConfiguration) {\n    console.log(\"Couldn't find any configuration for the requested connector\");\n    return Promise.reject();\n  }\n  if (isValidConf(maybeConfiguration)) {\n    console.log(\n      'Found a generic configuration for the connector',\n      maybeConfiguration\n    );\n    return maybeConfiguration as FederatedModuleConfigurationType;\n  }\n  console.log(\n    \"Couldn't find a valid configuration for the requested connector\"\n  );\n  return Promise.reject();\n};\n\nexport const injectFederatedModuleScript = async (url: string) => {\n  return new Promise<void>((resolve, reject) => {\n    const element = document.createElement('script');\n\n    element.src = url;\n    element.type = 'text/javascript';\n    element.async = true;\n\n    element.onload = () => {\n      console.log(`Dynamic federated module loaded: ${url}`);\n      document.head.removeChild(element);\n      resolve();\n    };\n\n    element.onerror = () => {\n      console.error(`Dynamic federated module Error: ${url}`);\n      console.log(`Dynamic federated module Removed: ${url}`);\n      document.head.removeChild(element);\n      reject();\n    };\n\n    document.head.appendChild(element);\n  });\n};\n\nexport async function loadFederatedConfigurator(\n  scope: string,\n  module: string\n): Promise<FederatedConfiguratorConfig> {\n  // Initializes the share scope. This fills it with known provided modules from this build and all remotes\n  await __webpack_init_sharing__('default');\n  const container = (window as any)[scope]; // or get the container somewhere else\n  // Initialize the container, it may provide shared modules\n  await container.init(__webpack_share_scopes__.default);\n  const factory = await (window as any)[scope].get(module);\n  const federatedConfigurationConfig =\n    factory() as FederatedConfigurationConfigModule;\n  console.log(\n    `loaded federated configurator configuration from ${scope}`,\n    federatedConfigurationConfig\n  );\n  return federatedConfigurationConfig.default;\n}\n","import React, { FunctionComponent, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  Button,\n  Level,\n  Modal,\n  PageSection,\n  Title,\n} from '@patternfly/react-core';\n\nimport { useBasename, useConfig } from '@rhoas/app-services-ui-shared';\n\nimport { useCos } from './CosContext';\nimport { CreateConnectorWizard } from './CreateConnectorWizard';\nimport { CreateConnectorWizardProvider } from './CreateConnectorWizardContext';\nimport { fetchConfigurator } from './loadFederatedConfigurator';\n\ntype CreateConnectorPageProps = {\n  onSave: () => void;\n  onClose: () => void;\n};\nexport const CreateConnectorPage: FunctionComponent<CreateConnectorPageProps> =\n  ({ onSave, onClose }) => {\n    const { t } = useTranslation();\n    const config = useConfig();\n    const basename = useBasename();\n    const { connectorsApiBasePath, getToken } = useCos();\n    const [askForLeaveConfirm, setAskForLeaveConfirm] = useState(false);\n    const openLeaveConfirm = () => setAskForLeaveConfirm(true);\n    const closeLeaveConfirm = () => setAskForLeaveConfirm(false);\n    return (\n      <>\n        <PageSection variant={'light'} hasShadowBottom>\n          <Breadcrumb>\n            <BreadcrumbItem to={basename?.getBasename()}>\n              {t('Connectors')}\n            </BreadcrumbItem>\n            <BreadcrumbItem isActive>{t('Create connector')}</BreadcrumbItem>\n          </Breadcrumb>\n          <Level className={'pf-u-pt-md pf-u-pb-md'}>\n            <Title headingLevel=\"h1\">{t('Create connector')}</Title>\n          </Level>\n        </PageSection>\n        <PageSection\n          padding={{ default: 'noPadding' }}\n          style={{ zIndex: 0 }}\n          type={'wizard'}\n        >\n          <CreateConnectorWizardProvider\n            accessToken={getToken}\n            connectorsApiBasePath={connectorsApiBasePath}\n            fetchConfigurator={(connector) =>\n              fetchConfigurator(connector, config?.cos.configurators || {})\n            }\n            onSave={onSave}\n          >\n            <CreateConnectorWizard onClose={openLeaveConfirm} />\n            <Modal\n              title={t('Leave page?')}\n              variant={'small'}\n              isOpen={askForLeaveConfirm}\n              onClose={closeLeaveConfirm}\n              actions={[\n                <Button key=\"confirm\" variant=\"primary\" onClick={onClose}>\n                  Confirm\n                </Button>,\n                <Button key=\"cancel\" variant=\"link\" onClick={closeLeaveConfirm}>\n                  Cancel\n                </Button>,\n              ]}\n            >\n              {t(\n                'Changes you have made will be lost and no connector will be created.'\n              )}\n            </Modal>\n          </CreateConnectorWizardProvider>\n        </PageSection>\n      </>\n    );\n  };\n","import React, { FunctionComponent, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Route, Switch, useHistory } from 'react-router-dom';\n\nimport { AlertVariant, useAlert } from '@rhoas/app-services-ui-shared';\n\nimport { ConnectedConnectorsPage } from './ConnectorsPage';\nimport { CosContextProvider } from './CosContext';\nimport { CreateConnectorPage } from './CreateConnectorPage';\n\ntype CosRoutesProps = {\n  getToken: () => Promise<string>;\n  connectorsApiBasePath: string;\n  kafkaManagementApiBasePath: string;\n};\n\nexport const CosRoutes: FunctionComponent<CosRoutesProps> = ({\n  getToken,\n  connectorsApiBasePath,\n  kafkaManagementApiBasePath,\n}) => {\n  const { t } = useTranslation();\n  const alert = useAlert();\n  const history = useHistory();\n  const goToConnectorsList = useCallback(() => history.push('/'), [history]);\n  const goToCreateConnector = useCallback(\n    () => history.push('/create-connector'),\n    [history]\n  );\n  const onConnectorSave = useCallback(() => {\n    alert?.addAlert({\n      id: 'connector-created',\n      variant: AlertVariant.success,\n      title: t('wizard.creation-success'),\n    });\n    goToConnectorsList();\n  }, [alert, goToConnectorsList, t]);\n  return (\n    <CosContextProvider\n      getToken={getToken}\n      connectorsApiBasePath={connectorsApiBasePath}\n      kafkaManagementApiBasePath={kafkaManagementApiBasePath}\n    >\n      <Switch>\n        <Route path={'/'} exact>\n          <ConnectedConnectorsPage onCreateConnector={goToCreateConnector} />\n        </Route>\n        <Route path={'/create-connector'}>\n          <CreateConnectorPage\n            onSave={onConnectorSave}\n            onClose={goToConnectorsList}\n          />\n        </Route>\n      </Switch>\n    </CosContextProvider>\n  );\n};\n","import React, { FunctionComponent } from 'react';\n\nimport {\n  EmptyState,\n  EmptyStateIcon,\n  Spinner,\n  Title,\n} from '@patternfly/react-core';\n\nexport const Loading: FunctionComponent = () => (\n  <EmptyState>\n    <EmptyStateIcon variant=\"container\" component={Spinner} />\n    <Title size=\"lg\" headingLevel=\"h4\">\n      Loading\n    </Title>\n  </EmptyState>\n);\n","import {\n  format as formatDate,\n  formatDistance,\n  formatRelative,\n  isDate,\n} from 'date-fns';\nimport { enUS } from 'date-fns/locale';\nimport i18n from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport Backend from 'i18next-http-backend';\nimport { initReactI18next } from 'react-i18next';\n\n// import all locales we need\n\nconst locales: { [key: string]: any } = {\n  en: enUS,\n}; // used to look up the required locale\n\n// don't want to use this?\n// have a look at the Quick start guide\n// for passing in lng and translations on init\n\ni18n\n  // load translation using http -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\n  // learn more: https://github.com/i18next/i18next-http-backend\n  .use(Backend)\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  .use(LanguageDetector)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    // Commenting it as we have fallbackLng for case of language detected as en-GB or en-US\n    // supportedLngs: ['en','it'],\n    backend: {\n      loadPath: `${__webpack_public_path__}locales/{{lng}}/{{ns}}.json`,\n    },\n    fallbackLng: 'en',\n    load: 'all',\n    debug: true,\n    // add any namespaces you're using here for loading purposes\n    ns: ['public'],\n    defaultNS: 'public',\n    nsSeparator: ':',\n    keySeparator: '.',\n\n    interpolation: {\n      defaultVariables: undefined,\n      escapeValue: false, // not needed for react as it escapes by default\n      format: (value, format, lng) => {\n        if (isDate(value) && format) {\n          const locale = lng ? locales[lng] : enUS;\n          if (format === 'short') return formatDate(value, 'P', { locale });\n          if (format === 'long') return formatDate(value, 'PPPP', { locale });\n          if (format === 'relative')\n            return formatRelative(value, new Date(), { locale });\n          if (format === 'ago')\n            return formatDistance(value, new Date(), {\n              locale,\n              addSuffix: true,\n            });\n\n          return formatDate(value, format, { locale });\n        }\n        return value;\n      },\n    },\n  });\n\nexport default i18n;\n"],"names":["saveConnector","accessToken","connectorsApiBasePath","kafkaManagementApiBasePath","kafka","cluster","connectorType","configuration","name","userServiceAccount","connectorsAPI","ConnectorsApi","Configuration","basePath","securityAPI","SecurityApi","callback","source","Promise","resolve","response","createServiceAccount","id","replaceAll","Date","now","cancelToken","token","clientId","data","client_id","clientSecret","client_secret","getOrCreateServiceAccount","then","connector","kind","metadata","kafka_id","deployment_location","cluster_id","connector_type_id","bootstrap_server","bootstrap_server_host","connector_spec","createConnector","type","catch","error","message","reason","cancel","model","createModel","events","payload","actions","notifySuccess","notifyError","notifySelect","updateState","assign","_context","event","connectorMachine","createMachine","initial","context","initialContext","states","verify","always","target","cond","ready","on","stopped","deleted","startingConnector","invoke","src","patchConnector","desired_state","undefined","headers","startConnector","stoppingConnector","stopConnector","deletingConnector","deleteConnector","status","guards","isReady","isStopped","isDeleted","sendParent","ConnectorStatus","label","t","useTranslation","statusOptions","value","ConnectorStatuses","Ready","Failed","Assigning","Assigned","Updating","Provisioning","Deleting","Deleted","find","s","useConnectorStatusLabel","Flex","FlexItem","spacer","default","ConnectorStatusIcon","toLowerCase","CheckCircleIcon","className","ExclamationCircleIcon","PendingIcon","Spinner","size","ConnectorDrawer","children","onClose","Drawer","isExpanded","DrawerContent","panelContent","ConnectorDrawerPanelContent","bootstrapServer","kafkaId","owner","createdAt","created_at","updatedAt","updated_at","activeTabKey","setActiveTabKey","useState","textListItem","title","TextListItem","component","TextListItemVariants","DrawerPanelContent","widths","DrawerHead","TextContent","Text","TextVariants","Title","headingLevel","TitleSizes","DrawerActions","DrawerCloseButton","onClick","DrawerPanelBody","Tabs","activeKey","onSelect","_","eventKey","Tab","TabTitleText","TextList","TextListVariants","date","dateTime","toISOString","makePaginatedApiMachine","service","dataTransformer","options","request","page","pollingEnabled","onBeforeSetResponse","notifyReady","notifyLoading","forwardUnknownEventsToParent","setResponse","e","items","map","i","total","fetch","actor","stop","spawn","callApi","setError","increasePage","decreasePage","query","api","idle","entry","success","queryEmpty","tags","queryResults","empty","results","loading","polling","after","INTERVAL","delays","pure","Object","keys","includes","_event","meta","isNotFirstPage","isNotLastPage","Math","ceil","isTotalZero","isQuerySuccesful","isQueryEmpty","isPollingEnabled","usePagination","useSelector","useCallback","state","hasTag","noResults","firstRequest","PAGINATED_MACHINE_ID","selectedConnector","selectConnector","deselectConnector","setSelectedConnector","unsetSelectedConnector","connectorsPageMachine","root","onSuccess","onError","listConnectors","fetchConnectors","withContext","makeConnectorMachine","forEach","d","send","to","listing","console","log","ConnectorsPageContext","createContext","ConnectorsPageProvider","useInterpret","devTools","Provider","useConnectorsPageMachineService","useContext","Error","useConnectorsMachine","apiData","props","ConnectorsTable","TableComposable","css","Thead","Tr","Th","Tbody","ConnectorsTableRow","connectorId","isSelected","canStart","canStop","canDelete","onStart","onStop","onDelete","isDisabled","isSeparator","Td","dataLabel","Pagination","itemCount","perPage","isCompact","onChange","perPageOptions","onSetPage","onPerPageSelect","variant","useDebounce","fnToDebounce","durationInMs","isNaN","TypeError","ConnectorsToolbar","searchInputRef","useRef","debouncedOnChange","toggleGroupItems","ToolbarItem","InputGroup","TextInput","ref","Button","SearchIcon","toolbarItems","ToolbarToggleGroup","toggleIcon","FilterIcon","breakpoint","ToolbarGroup","NavLink","alignment","Toolbar","collapseListedFiltersBreakpoint","ToolbarContent","CosContext","CosContextProvider","getToken","useCos","DialogDeleteConnector","connectorName","onCancel","onConfirm","showDialog","nameValue","setNameValue","Modal","ModalVariant","titleIconVariant","isOpen","key","Stack","StackItem","Trans","EmptyStateGenericError","EmptyState","EmptyStateVariant","EmptyStateIcon","icon","EmptyStateBody","EmptyStateGettingStarted","onHelp","onCreate","ButtonVariant","isSmall","isInline","EmptyStateNoMatchesFound","onClear","ConnectedConnectorsPage","onCreateConnector","alert","useAlert","description","addAlert","AlertVariant","ConnectorsPage","matches","useConnectorsPageIsReady","ConnectorsPageBody","Loading","PageSection","ConnectorsPageTitle","padding","isFilled","Card","ConnectedTable","ConnectedRow","connectorRef","transition","changed","useConnector","showDeleteConnectorConfirm","setShowDeleteConnectorConfirm","category","clusters","selectedCluster","selectCluster","deselectCluster","confirm","clustersMachine","ConnectorClustersApi","listConnectorClusters","fetchClusters","selection","selecting","valid","done","clusterSelected","noClusterSelected","version","json_schema","steps","activeStep","isActiveStepValid","change","isValid","next","prev","complete","changedStep","nextStep","min","length","prevStep","max","configuratorMachine","configuring","determineStep","hasNextStep","lastStep","configured","step","isLastStep","activeStepValid","configuratorLoaderMachineSchema","createSchema","configuratorLoaderMachineModel","Configurator","configuratorLoaderMachine","schema","onDone","failure","escalate","connectorTypesMachine","ConnectorTypesApi","categories","listConnectorTypes","lcName","rawItems","filteredItems","filter","c","labels","l","offset","slice","fetchConnectorTypes","connectorSelected","noConnectorSelected","kafkaManagementBasePath","instances","selectedInstance","selectInstance","deselectInstance","kafkasMachine","DefaultApi","statuses","cloudProviders","regions","search","join","Boolean","getKafkas","fetchKafkaInstances","instanceSelected","noInstanceSelected","ajv","allErrors","useDefaults","strict","strictSchema","createValidator","validator","compile","errors","details","JsonSchemaConfigurator","properties","schemaValidator","bridge","JSONSchemaBridge","KameletForm","onChangeModel","onSubmit","AutoFields","isPlain","CardBody","SubmitField","Auto","parent","AutoForm","super","ValidatedQuickForm","initialConfiguration","configString","setName","setServiceAccount","updateConfiguration","save","initialize","dataToPrettyString","serviceAccount","verifyConfigString","warnings","validationResult","JSON","parse","instancePath","stringify","verifyData","configStringWarnings","configStringError","setSavingError","savingError","reviewMachine","reviewing","saving","saved","isAllConfigured","dataVal","Map","inputMap","obj","mapToObject","isInvalid","jumpToSelectKafka","jumpToSelectCluster","jumpToSelectConnector","jumpToConfigureConnector","subStep","jumpToReviewConfiguration","notifySave","creationWizardMachine","connectorConfiguration","activeConfigurationStep","isConfigurationValid","configurationSteps","selectKafka","selectedKafkaInstance","configureConnector","loadConfigurator","configure","submittable","invalid","reviewConfiguration","isKafkaInstanceSelected","isClusterSelected","isConnectorSelected","isConnectorConfigured","areThereSubsteps","onSave","services","makeConfiguratorLoaderMachine","CreateConnectorWizardMachineService","CreateConnectorWizardProvider","fetchConfigurator","withConfig","useCreateConnectorWizardService","useCreateConnectorWizard","connectorTypeRef","selectConnectorRef","kafkaRef","selectKafkaInstanceRef","clusterRef","selectClusterRef","reviewRef","useClustersMachine","getSnapshot","selectedId","onQuery","useConnectorTypesMachine","useKafkasMachine","EmptyStateNoOSDCluster","ClusterIcon","StepBodyLayout","Level","SelectCluster","useClustersMachineIsReady","ClustersGallery","ClustersToolbar","Gallery","hasGutter","isHoverable","isSelectable","CardHeader","CardTitle","DescriptionList","DescriptionListGroup","DescriptionListTerm","DescriptionListDescription","debouncedOnQuery","ClustersPagination","ConnectedCustomConfigurator","ConnectedJsonSchemaConfigurator","ConfiguratorStep","isLoading","hasErrors","configuratorRef","hasCustomConfigurator","fallback","stringToChip","node","SelectConnectorType","useConnectorTypesMachineIsReady","ConnectorTypesGallery","ConnectorTypesToolbar","categoriesToggled","setCategoriesToggled","nameInputRef","clearAllFilters","toggleCategories","onSelectCategory","_category","values","onSelectFilter","useEffect","current","typeMenuItems","SelectOption","ToolbarFilter","chips","v","deleteChip","deleteChipGroup","onDeleteQueryGroup","categoryName","Select","onToggle","selections","placeholderText","ConnectorTypesPagination","ErrorFallback","role","StepErrorBoundary","ErrorBoundary","FallbackComponent","resetKeys","EmptyStateNoKafkaInstances","SpaceShuttleIcon","SelectKafkaInstance","useKafkasMachineIsReady","KafkasGallery","KafkaToolbar","region","statusesToggled","setStatusesToggled","cloudProvidersToggled","setCloudProvidersToggled","regionsToggled","setRegionsToggled","categoryToggled","setCategoryToggled","selectedCategory","setSelectedCategory","onToggleStatuses","onToggleCloudProviders","onToggleRegions","onFilterCategoryToggle","ownerInputRef","onSelectStatus","onSelectCloudProvider","onSelectRegion","selectCategory","innerText","filterCategoryMenuItems","filterCategoryOptions","DropdownItem","statusMenuItems","option","cloudProviderMenuItems","cloudProviderOptions","regionMenuItems","regionOptions","filterCategoryDropdown","Dropdown","position","DropdownPosition","toggle","DropdownToggle","style","width","dropdownItems","showToolbarItem","placeholder","KafkasPagination","Review","isSaving","onSetName","onSetServiceAccount","onUpdateConfiguration","useReviewMachine","Form","FormAlert","Alert","FormGroup","isRequired","fieldId","helperText","Radio","isChecked","helperTextInvalid","validated","TextArea","autoResize","AlertGroup","w","idx","getFlattenedSteps","flattenedSteps","childStep","push","UncontrolledWizard","Component","constructor","handleKeyClicks","keyCode","KEY_CODES","this","isNavOpen","setState","getFlattenedStepsIndex","stepName","initSteps","j","canJumpTo","getElement","appendTo","document","body","newId","currentId","titleId","descriptionId","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","render","height","onBack","onNext","onGoToStep","goToStep","goToStepById","goToStepByName","currentStep","nextButtonText","backButtonText","cancelButtonText","hideClose","closeButtonAriaLabel","navAriaLabel","navAriaLabelledBy","mainAriaLabel","mainAriaLabelledBy","hasNoBodyPadding","footer","rest","adjustedStep","computedSteps","firstStep","enableNext","divStyles","wizard","WizardContextProvider","isFinishedStep","WizardHeader","WizardToggle","isInPage","onNavToggle","nav","isWizardNavOpen","wizNavAProps","WizardNav","index","enabled","navItemStep","hasActiveChild","canJumpToParent","WizardNavItem","content","isCurrent","onNavItemClick","returnList","indexChild","stepNavItemProps","hideBackButton","hideCancelButton","showClose","hasNoBodyWrapper","displayName","defaultProps","CreateConnectorWizard","useActor","kafkaInstanceStep","isActive","useKafkaInstanceStep","configurationStep","canJumpToStep","useConfigurationStep","reduceRight","currentIdx","stepIndex","args","config","defaultConfig","federatedConfigurator","maybeGetFederatedConfiguratorForConnector","injectFederatedModuleScript","remoteEntry","scope","module","container","window","init","federatedConfigurationConfig","get","loadFederatedConfigurator","maybeConfiguration","maybeConf","reject","url","element","createElement","async","onload","head","removeChild","onerror","appendChild","CreateConnectorPage","useConfig","basename","useBasename","askForLeaveConfirm","setAskForLeaveConfirm","closeLeaveConfirm","hasShadowBottom","Breadcrumb","BreadcrumbItem","getBasename","zIndex","cos","configurators","CosRoutes","history","useHistory","goToConnectorsList","goToCreateConnector","onConnectorSave","Switch","Route","path","exact","locales","en","use","initReactI18next","backend","loadPath","fallbackLng","load","debug","ns","defaultNS","nsSeparator","keySeparator","interpolation","defaultVariables","escapeValue","format","lng","isDate","locale","formatRelative","formatDistance","addSuffix"],"sourceRoot":""}