"use strict";(self.webpackChunkcos_ui=self.webpackChunkcos_ui||[]).push([[655],{51123:(e,t,n)=>{n.r(t);var o=n(75418),a=n.n(o),r=n(66235),i=n(82699),l=(n(49901),n(74651),n(18391),n(56594),n(94694),n(99521),n(15202),n(70655)),s=n(31521),c=n(98068),u=n(21012),m=n(46332);const d=({children:e})=>{const[t,n]=(0,o.useState)([]),[r,i]=(0,o.useState)([]);(0,o.useEffect)((()=>{const e=r.map((e=>e.key)),n=t.filter((t=>!e.includes(null==t?void 0:t.id))).map((e=>{const{id:t=""}=e,n=setTimeout((()=>l(t)),8e3);return{key:e.id,timeOut:n}}));return i([...r,...n]),()=>r.forEach((e=>(null==e?void 0:e.timeOut)&&clearTimeout(e.timeOut)))}),[t]);const l=e=>{n((t=>[...t.filter((t=>t.id!==e))])),i((t=>[...t.filter((t=>t.key===e))]))};return a().createElement(m.AlertContext.Provider,{value:{addAlert:e=>{const o=(new Date).getTime().toString();n([...t,Object.assign(Object.assign({},e),{id:o})])}}},a().createElement(v,{alerts:t,onCloseAlert:l}),e)},v=({alerts:e,onCloseAlert:t})=>a().createElement(u.AlertGroup,{isToast:!0},e.map((e=>{var{id:n,variant:o,title:r,description:i,dataTestId:s}=e,c=(0,l.__rest)(e,["id","variant","title","description","dataTestId"]);return a().createElement(u.Alert,Object.assign({key:n,isLiveRegion:!0,variant:m.AlertVariant[o],variantLabel:"",title:r,actionClose:a().createElement(u.AlertActionCloseButton,{title:r,onClose:()=>t(n)}),"data-testid":s},c),i)}))),p=n.p+"f940137c.svg",g=({children:e})=>{const[t,n]=(0,o.useState)(!0),[r,i]=(0,o.useState)(!0),[l,m]=(0,o.useState)(!1),{t:d}=(0,s.useTranslation)(),v=a().createElement(u.PageHeaderTools,null,"email"),p=a().createElement(u.PageHeader,{logo:a().createElement(E,null),showNavToggle:!0,isNavOpen:t,headerTools:v,onNavToggle:r?()=>{m(!l)}:()=>{n(!t)},"aria-label":"global_navigation"}),g=a().createElement(u.Nav,{id:"nav-primary-simple",role:"navigation",theme:"dark","aria-label":"global"},a().createElement(u.NavList,{id:"nav-list-simple"},a().createElement(u.NavItem,{id:"connectors"},a().createElement(c.NavLink,{to:"/",activeClassName:"pf-m-current"},d("managedConnectors"))))),k=a().createElement(u.PageSidebar,{theme:"dark",nav:g,isNavOpen:r?l:t});return a().createElement(u.Page,{mainContainerId:"primary-app-container",role:"main",header:p,sidebar:k,onPageResize:e=>{i(e.mobileView)}},e)};function E(){const e=(0,c.useHistory)();return a().createElement("img",{src:p,onClick:function(){e.push("/")},alt:"PatternFly Logo"})}var k=n(60130),f=n(32385),h=n.n(f);let b;const y=()=>(0,l.__awaiter)(void 0,void 0,void 0,(function*(){return b||(yield P()),b})),P=()=>(0,l.__awaiter)(void 0,void 0,void 0,(function*(){try{b=new(h())({realm:"redhat-external",url:"https://sso.redhat.com/auth/",clientId:"cloud-services",promiseType:"native"}),b&&(yield b.init({onLoad:"login-required",promiseType:"native"}))}catch(e){b=void 0,console.warn("Auth: Unable to initialize keycloak. Client side will not be configured to use authentication",e)}})),_=()=>(0,l.__awaiter)(void 0,void 0,void 0,(function*(){return yield null==b?void 0:b.updateToken(50),(null==b?void 0:b.token)?b.token:(console.error("No keycloak token available"),"foo")})),z=a().createContext({keycloak:void 0}),C=e=>{const t={kas:{getToken:_},getUsername:()=>(0,l.__awaiter)(void 0,void 0,void 0,(function*(){return yield null==b?void 0:b.updateToken(50),(null==b?void 0:b.tokenParsed)?b.tokenParsed:(console.error("No keycloak token available"),{})})).then((e=>e.username))};return a().createElement(m.AuthContext.Provider,{value:t},e.children)};var w=n(97513),T=n(80027);let A;const B=()=>{const[e,t]=(0,o.useState)(!1),n=(0,o.useCallback)((()=>"/"),[]);(0,o.useEffect)((()=>{(0,l.__awaiter)(void 0,void 0,void 0,(function*(){A=yield y(),t(!0)}))}),[]);return a().createElement(z.Provider,{value:{keycloak:A,profile:null==A?void 0:A.profile}},a().createElement(C,null,a().createElement(m.BasenameContext.Provider,{value:{getBasename:n}},a().createElement(m.ConfigContext.Provider,{value:{cos:{apiBasePath:"https://cos-fleet-manager-cos.rh-fuse-153f1de160110098c1928a6c05e19444-0000.eu-de.containers.appdomain.cloud",configurators:{"debezium-mongodb-1.5.0.Final":{remoteEntry:"https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js",scope:"debezium_ui",module:"./config"},"debezium-mysql-1.5.0.Final":{remoteEntry:"https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js",scope:"debezium_ui",module:"./config"},"debezium-postgres-1.5.0.Final":{remoteEntry:"https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js",scope:"debezium_ui",module:"./config"}}}}},a().createElement(s.I18nextProvider,{i18n:T.Z},a().createElement(d,null,a().createElement(a().Suspense,{fallback:a().createElement(w.g,null)},a().createElement(c.BrowserRouter,null,a().createElement(g,null,e?a().createElement(N,null):a().createElement(u.Spinner,null))))))))))},N=()=>{const e=(0,m.useAuth)(),t=(0,m.useConfig)();return a().createElement(k.e,{getToken:()=>(0,l.__awaiter)(void 0,void 0,void 0,(function*(){return(yield null==e?void 0:e.kas.getToken())||""})),connectorsApiBasePath:(null==t?void 0:t.cos.apiBasePath)||"",kafkaManagementApiBasePath:"https://api.openshift.com"})},S=()=>{const e=(0,o.useCallback)((()=>"/"),[]),t={kas:{getToken:()=>Promise.resolve("dummy")},getUsername:()=>Promise.resolve("username")};return a().createElement(m.AuthContext.Provider,{value:t},a().createElement(m.BasenameContext.Provider,{value:{getBasename:e}},a().createElement(m.ConfigContext.Provider,{value:{cos:{apiBasePath:"localhost",configurators:{"debezium-mongodb-1.5.0.Final":{remoteEntry:"https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js",scope:"debezium_ui",module:"./config"},"debezium-mysql-1.5.0.Final":{remoteEntry:"https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js",scope:"debezium_ui",module:"./config"},"debezium-postgres-1.5.0.Final":{remoteEntry:"https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js",scope:"debezium_ui",module:"./config"}}}}},a().createElement(s.I18nextProvider,{i18n:T.Z},a().createElement(d,null,a().createElement(a().Suspense,{fallback:a().createElement(w.g,null)},a().createElement(c.BrowserRouter,null,a().createElement(g,null,a().createElement(x,null)))))))))},x=()=>{const e=(0,m.useAuth)(),t=(0,m.useConfig)();return a().createElement(k.e,{getToken:()=>(0,l.__awaiter)(void 0,void 0,void 0,(function*(){return(yield null==e?void 0:e.kas.getToken())||""})),connectorsApiBasePath:(null==t?void 0:t.cos.apiBasePath)||"",kafkaManagementApiBasePath:"https://api.openshift.com"})};"MISSING_ENV_VAR".DEMO_APP?((0,i.XY)({iframe:!1}),r.render(o.createElement(B,null),document.getElementById("root"))):r.render(o.createElement(S,null),document.getElementById("root"))}}]);
//# sourceMappingURL=655.f5a18c91.js.map