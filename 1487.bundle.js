(self.webpackChunk_cos_ui_apps_cos_ui=self.webpackChunk_cos_ui_apps_cos_ui||[]).push([[1487],{71487:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": () => (/* binding */ federated)\n});\n\n// EXTERNAL MODULE: consume shared module (default) react@^16.13.1 (singleton) (fallback: ../../node_modules/react/index.js)\nvar index_js_ = __webpack_require__(42403);\nvar index_js_default = /*#__PURE__*/__webpack_require__.n(index_js_);\n// EXTERNAL MODULE: consume shared module (default) @patternfly/react-core@^4.106.2 (singleton) (fallback: ../../node_modules/@patternfly/react-core/dist/esm/index.js)\nvar esm_index_js_ = __webpack_require__(63583);\n// EXTERNAL MODULE: consume shared module (default) @bf2/ui-shared@~0.3.0 (strict) (fallback: ../../node_modules/@bf2/ui-shared/dist/esm/index.js)\nvar dist_esm_index_js_ = __webpack_require__(18732);\n// EXTERNAL MODULE: consume shared module (default) react-router-dom@^5.2.0 (singleton) (fallback: ../../node_modules/react-router-dom/esm/react-router-dom.js)\nvar react_router_dom_js_ = __webpack_require__(48049);\n// EXTERNAL MODULE: consume shared module (default) react-i18next@^11.8.8 (strict) (fallback: ../../node_modules/react-i18next/dist/es/index.js)\nvar es_index_js_ = __webpack_require__(66170);\n// EXTERNAL MODULE: ../../packages/utils/dist/utils.esm.js\nvar utils_esm = __webpack_require__(41361);\n// EXTERNAL MODULE: consume shared module (default) i18next@^19.9.1 (strict) (fallback: ../../node_modules/i18next/dist/esm/i18next.js)\nvar i18next_js_ = __webpack_require__(34154);\nvar i18next_js_default = /*#__PURE__*/__webpack_require__.n(i18next_js_);\n// EXTERNAL MODULE: consume shared module (default) i18next-http-backend@^1.2.2 (strict) (fallback: ../../node_modules/i18next-http-backend/esm/index.js)\nvar i18next_http_backend_esm_index_js_ = __webpack_require__(31427);\nvar i18next_http_backend_esm_index_js_default = /*#__PURE__*/__webpack_require__.n(i18next_http_backend_esm_index_js_);\n// EXTERNAL MODULE: consume shared module (default) i18next-browser-languagedetector@^6.0.1 (strict) (fallback: ../../node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js)\nvar i18nextBrowserLanguageDetector_js_ = __webpack_require__(87282);\nvar i18nextBrowserLanguageDetector_js_default = /*#__PURE__*/__webpack_require__.n(i18nextBrowserLanguageDetector_js_);\n// EXTERNAL MODULE: ../../node_modules/keycloak-js/dist/keycloak.js\nvar keycloak = __webpack_require__(34482);\n// EXTERNAL MODULE: ../../packages/machines/dist/machines.esm.js\nvar machines_esm = __webpack_require__(83255);\n// EXTERNAL MODULE: consume shared module (default) @patternfly/react-styles@^4.7.8 (singleton) (fallback: ../../node_modules/@patternfly/react-styles/dist/esm/index.js)\nvar react_styles_dist_esm_index_js_ = __webpack_require__(42259);\n// EXTERNAL MODULE: consume shared module (default) @patternfly/react-table@^4.24.1 (singleton) (fallback: ../../node_modules/@patternfly/react-table/dist/esm/index.js)\nvar react_table_dist_esm_index_js_ = __webpack_require__(83379);\n// EXTERNAL MODULE: consume shared module (default) @patternfly/react-icons@^4.7.11 (singleton) (fallback: ../../node_modules/@patternfly/react-icons/dist/esm/index.js)\nvar react_icons_dist_esm_index_js_ = __webpack_require__(39576);\n// EXTERNAL MODULE: ../../packages/creationWizard/dist/index.js\nvar dist = __webpack_require__(70793);\n;// CONCATENATED MODULE: ../../packages/app/dist/app.esm.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar runtime_1 = /*#__PURE__*/createCommonjsModule(function (module) {\n  /**\n   * Copyright (c) 2014-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  var runtime = function (exports) {\n\n    var Op = Object.prototype;\n    var hasOwn = Op.hasOwnProperty;\n    var undefined$1; // More compressible than void 0.\n\n    var $Symbol = typeof Symbol === "function" ? Symbol : {};\n    var iteratorSymbol = $Symbol.iterator || "@@iterator";\n    var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";\n    var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";\n\n    function define(obj, key, value) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n      return obj[key];\n    }\n\n    try {\n      // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n      define({}, "");\n    } catch (err) {\n      define = function define(obj, key, value) {\n        return obj[key] = value;\n      };\n    }\n\n    function wrap(innerFn, outerFn, self, tryLocsList) {\n      // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n      var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n      var generator = Object.create(protoGenerator.prototype);\n      var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next,\n      // .throw, and .return methods.\n\n      generator._invoke = makeInvokeMethod(innerFn, self, context);\n      return generator;\n    }\n\n    exports.wrap = wrap; // Try/catch helper to minimize deoptimizations. Returns a completion\n    // record like context.tryEntries[i].completion. This interface could\n    // have been (and was previously) designed to take a closure to be\n    // invoked without arguments, but in all the cases we care about we\n    // already have an existing method we want to call, so there\'s no need\n    // to create a new function object. We can even get away with assuming\n    // the method takes exactly one argument, since that happens to be true\n    // in every case, so we don\'t have to touch the arguments object. The\n    // only additional allocation required is the completion record, which\n    // has a stable shape and so hopefully should be cheap to allocate.\n\n    function tryCatch(fn, obj, arg) {\n      try {\n        return {\n          type: "normal",\n          arg: fn.call(obj, arg)\n        };\n      } catch (err) {\n        return {\n          type: "throw",\n          arg: err\n        };\n      }\n    }\n\n    var GenStateSuspendedStart = "suspendedStart";\n    var GenStateSuspendedYield = "suspendedYield";\n    var GenStateExecuting = "executing";\n    var GenStateCompleted = "completed"; // Returning this object from the innerFn has the same effect as\n    // breaking out of the dispatch switch statement.\n\n    var ContinueSentinel = {}; // Dummy constructor functions that we use as the .constructor and\n    // .constructor.prototype properties for functions that return Generator\n    // objects. For full spec compliance, you may wish to configure your\n    // minifier not to mangle the names of these two functions.\n\n    function Generator() {}\n\n    function GeneratorFunction() {}\n\n    function GeneratorFunctionPrototype() {} // This is a polyfill for %IteratorPrototype% for environments that\n    // don\'t natively support it.\n\n\n    var IteratorPrototype = {};\n\n    IteratorPrototype[iteratorSymbol] = function () {\n      return this;\n    };\n\n    var getProto = Object.getPrototypeOf;\n    var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n\n    if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n      // This environment has a native %IteratorPrototype%; use it instead\n      // of the polyfill.\n      IteratorPrototype = NativeIteratorPrototype;\n    }\n\n    var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n    GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n    GeneratorFunctionPrototype.constructor = GeneratorFunction;\n    GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"); // Helper for defining the .next, .throw, and .return methods of the\n    // Iterator interface in terms of a single ._invoke method.\n\n    function defineIteratorMethods(prototype) {\n      ["next", "throw", "return"].forEach(function (method) {\n        define(prototype, method, function (arg) {\n          return this._invoke(method, arg);\n        });\n      });\n    }\n\n    exports.isGeneratorFunction = function (genFun) {\n      var ctor = typeof genFun === "function" && genFun.constructor;\n      return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can\n      // do is to check its .name property.\n      (ctor.displayName || ctor.name) === "GeneratorFunction" : false;\n    };\n\n    exports.mark = function (genFun) {\n      if (Object.setPrototypeOf) {\n        Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n      } else {\n        genFun.__proto__ = GeneratorFunctionPrototype;\n        define(genFun, toStringTagSymbol, "GeneratorFunction");\n      }\n\n      genFun.prototype = Object.create(Gp);\n      return genFun;\n    }; // Within the body of any async function, `await x` is transformed to\n    // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n    // `hasOwn.call(value, "__await")` to determine if the yielded value is\n    // meant to be awaited.\n\n\n    exports.awrap = function (arg) {\n      return {\n        __await: arg\n      };\n    };\n\n    function AsyncIterator(generator, PromiseImpl) {\n      function invoke(method, arg, resolve, reject) {\n        var record = tryCatch(generator[method], generator, arg);\n\n        if (record.type === "throw") {\n          reject(record.arg);\n        } else {\n          var result = record.arg;\n          var value = result.value;\n\n          if (value && typeof value === "object" && hasOwn.call(value, "__await")) {\n            return PromiseImpl.resolve(value.__await).then(function (value) {\n              invoke("next", value, resolve, reject);\n            }, function (err) {\n              invoke("throw", err, resolve, reject);\n            });\n          }\n\n          return PromiseImpl.resolve(value).then(function (unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration.\n            result.value = unwrapped;\n            resolve(result);\n          }, function (error) {\n            // If a rejected Promise was yielded, throw the rejection back\n            // into the async generator function so it can be handled there.\n            return invoke("throw", error, resolve, reject);\n          });\n        }\n      }\n\n      var previousPromise;\n\n      function enqueue(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n\n        return previousPromise = // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later\n        // invocations of the iterator.\n        callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      } // Define the unified helper method that is used to implement .next,\n      // .throw, and .return (see defineIteratorMethods).\n\n\n      this._invoke = enqueue;\n    }\n\n    defineIteratorMethods(AsyncIterator.prototype);\n\n    AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n      return this;\n    };\n\n    exports.AsyncIterator = AsyncIterator; // Note that simple async functions are implemented on top of\n    // AsyncIterator objects; they just return a Promise for the value of\n    // the final result produced by the iterator.\n\n    exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n      if (PromiseImpl === void 0) PromiseImpl = Promise;\n      var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n      return exports.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function (result) {\n        return result.done ? result.value : iter.next();\n      });\n    };\n\n    function makeInvokeMethod(innerFn, self, context) {\n      var state = GenStateSuspendedStart;\n      return function invoke(method, arg) {\n        if (state === GenStateExecuting) {\n          throw new Error("Generator is already running");\n        }\n\n        if (state === GenStateCompleted) {\n          if (method === "throw") {\n            throw arg;\n          } // Be forgiving, per 25.3.3.3.3 of the spec:\n          // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n\n\n          return doneResult();\n        }\n\n        context.method = method;\n        context.arg = arg;\n\n        while (true) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (context.method === "next") {\n            // Setting context._sent for legacy support of Babel\'s\n            // function.sent implementation.\n            context.sent = context._sent = context.arg;\n          } else if (context.method === "throw") {\n            if (state === GenStateSuspendedStart) {\n              state = GenStateCompleted;\n              throw context.arg;\n            }\n\n            context.dispatchException(context.arg);\n          } else if (context.method === "return") {\n            context.abrupt("return", context.arg);\n          }\n\n          state = GenStateExecuting;\n          var record = tryCatch(innerFn, self, context);\n\n          if (record.type === "normal") {\n            // If an exception is thrown from innerFn, we leave state ===\n            // GenStateExecuting and loop back for another invocation.\n            state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n            if (record.arg === ContinueSentinel) {\n              continue;\n            }\n\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          } else if (record.type === "throw") {\n            state = GenStateCompleted; // Dispatch the exception by looping back around to the\n            // context.dispatchException(context.arg) call above.\n\n            context.method = "throw";\n            context.arg = record.arg;\n          }\n        }\n      };\n    } // Call delegate.iterator[context.method](context.arg) and handle the\n    // result, either by returning a { value, done } result from the\n    // delegate iterator, or by modifying context.method and context.arg,\n    // setting context.delegate to null, and returning the ContinueSentinel.\n\n\n    function maybeInvokeDelegate(delegate, context) {\n      var method = delegate.iterator[context.method];\n\n      if (method === undefined$1) {\n        // A .throw or .return when the delegate iterator has no .throw\n        // method always terminates the yield* loop.\n        context.delegate = null;\n\n        if (context.method === "throw") {\n          // Note: ["return"] must be used for ES3 parsing compatibility.\n          if (delegate.iterator["return"]) {\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            context.method = "return";\n            context.arg = undefined$1;\n            maybeInvokeDelegate(delegate, context);\n\n            if (context.method === "throw") {\n              // If maybeInvokeDelegate(context) changed context.method from\n              // "return" to "throw", let that override the TypeError below.\n              return ContinueSentinel;\n            }\n          }\n\n          context.method = "throw";\n          context.arg = new TypeError("The iterator does not provide a \'throw\' method");\n        }\n\n        return ContinueSentinel;\n      }\n\n      var record = tryCatch(method, delegate.iterator, context.arg);\n\n      if (record.type === "throw") {\n        context.method = "throw";\n        context.arg = record.arg;\n        context.delegate = null;\n        return ContinueSentinel;\n      }\n\n      var info = record.arg;\n\n      if (!info) {\n        context.method = "throw";\n        context.arg = new TypeError("iterator result is not an object");\n        context.delegate = null;\n        return ContinueSentinel;\n      }\n\n      if (info.done) {\n        // Assign the result of the finished delegate to the temporary\n        // variable specified by delegate.resultName (see delegateYield).\n        context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield).\n\n        context.next = delegate.nextLoc; // If context.method was "throw" but the delegate handled the\n        // exception, let the outer generator proceed normally. If\n        // context.method was "next", forget context.arg since it has been\n        // "consumed" by the delegate iterator. If context.method was\n        // "return", allow the original .return call to continue in the\n        // outer generator.\n\n        if (context.method !== "return") {\n          context.method = "next";\n          context.arg = undefined$1;\n        }\n      } else {\n        // Re-yield the result returned by the delegate method.\n        return info;\n      } // The delegate iterator is finished, so forget it and continue with\n      // the outer generator.\n\n\n      context.delegate = null;\n      return ContinueSentinel;\n    } // Define Generator.prototype.{next,throw,return} in terms of the\n    // unified ._invoke helper method.\n\n\n    defineIteratorMethods(Gp);\n    define(Gp, toStringTagSymbol, "Generator"); // A Generator should always return itself as the iterator object when the\n    // @@iterator function is called on it. Some browsers\' implementations of the\n    // iterator prototype chain incorrectly implement this, causing the Generator\n    // object to not be returned from this call. This ensures that doesn\'t happen.\n    // See https://github.com/facebook/regenerator/issues/274 for more details.\n\n    Gp[iteratorSymbol] = function () {\n      return this;\n    };\n\n    Gp.toString = function () {\n      return "[object Generator]";\n    };\n\n    function pushTryEntry(locs) {\n      var entry = {\n        tryLoc: locs[0]\n      };\n\n      if (1 in locs) {\n        entry.catchLoc = locs[1];\n      }\n\n      if (2 in locs) {\n        entry.finallyLoc = locs[2];\n        entry.afterLoc = locs[3];\n      }\n\n      this.tryEntries.push(entry);\n    }\n\n    function resetTryEntry(entry) {\n      var record = entry.completion || {};\n      record.type = "normal";\n      delete record.arg;\n      entry.completion = record;\n    }\n\n    function Context(tryLocsList) {\n      // The root entry object (effectively a try statement without a catch\n      // or a finally block) gives us a place to store values thrown from\n      // locations where there is no enclosing try statement.\n      this.tryEntries = [{\n        tryLoc: "root"\n      }];\n      tryLocsList.forEach(pushTryEntry, this);\n      this.reset(true);\n    }\n\n    exports.keys = function (object) {\n      var keys = [];\n\n      for (var key in object) {\n        keys.push(key);\n      }\n\n      keys.reverse(); // Rather than returning an object with a next method, we keep\n      // things simple and return the next function itself.\n\n      return function next() {\n        while (keys.length) {\n          var key = keys.pop();\n\n          if (key in object) {\n            next.value = key;\n            next.done = false;\n            return next;\n          }\n        } // To avoid creating an additional object, we just hang the .value\n        // and .done properties off the next function object itself. This\n        // also ensures that the minifier will not anonymize the function.\n\n\n        next.done = true;\n        return next;\n      };\n    };\n\n    function values(iterable) {\n      if (iterable) {\n        var iteratorMethod = iterable[iteratorSymbol];\n\n        if (iteratorMethod) {\n          return iteratorMethod.call(iterable);\n        }\n\n        if (typeof iterable.next === "function") {\n          return iterable;\n        }\n\n        if (!isNaN(iterable.length)) {\n          var i = -1,\n              next = function next() {\n            while (++i < iterable.length) {\n              if (hasOwn.call(iterable, i)) {\n                next.value = iterable[i];\n                next.done = false;\n                return next;\n              }\n            }\n\n            next.value = undefined$1;\n            next.done = true;\n            return next;\n          };\n\n          return next.next = next;\n        }\n      } // Return an iterator with no values.\n\n\n      return {\n        next: doneResult\n      };\n    }\n\n    exports.values = values;\n\n    function doneResult() {\n      return {\n        value: undefined$1,\n        done: true\n      };\n    }\n\n    Context.prototype = {\n      constructor: Context,\n      reset: function reset(skipTempReset) {\n        this.prev = 0;\n        this.next = 0; // Resetting context._sent for legacy support of Babel\'s\n        // function.sent implementation.\n\n        this.sent = this._sent = undefined$1;\n        this.done = false;\n        this.delegate = null;\n        this.method = "next";\n        this.arg = undefined$1;\n        this.tryEntries.forEach(resetTryEntry);\n\n        if (!skipTempReset) {\n          for (var name in this) {\n            // Not sure about the optimal order of these conditions:\n            if (name.charAt(0) === "t" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n              this[name] = undefined$1;\n            }\n          }\n        }\n      },\n      stop: function stop() {\n        this.done = true;\n        var rootEntry = this.tryEntries[0];\n        var rootRecord = rootEntry.completion;\n\n        if (rootRecord.type === "throw") {\n          throw rootRecord.arg;\n        }\n\n        return this.rval;\n      },\n      dispatchException: function dispatchException(exception) {\n        if (this.done) {\n          throw exception;\n        }\n\n        var context = this;\n\n        function handle(loc, caught) {\n          record.type = "throw";\n          record.arg = exception;\n          context.next = loc;\n\n          if (caught) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            context.method = "next";\n            context.arg = undefined$1;\n          }\n\n          return !!caught;\n        }\n\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          var record = entry.completion;\n\n          if (entry.tryLoc === "root") {\n            // Exception thrown outside of any try block that could handle\n            // it, so set the completion value of the entire function to\n            // throw the exception.\n            return handle("end");\n          }\n\n          if (entry.tryLoc <= this.prev) {\n            var hasCatch = hasOwn.call(entry, "catchLoc");\n            var hasFinally = hasOwn.call(entry, "finallyLoc");\n\n            if (hasCatch && hasFinally) {\n              if (this.prev < entry.catchLoc) {\n                return handle(entry.catchLoc, true);\n              } else if (this.prev < entry.finallyLoc) {\n                return handle(entry.finallyLoc);\n              }\n            } else if (hasCatch) {\n              if (this.prev < entry.catchLoc) {\n                return handle(entry.catchLoc, true);\n              }\n            } else if (hasFinally) {\n              if (this.prev < entry.finallyLoc) {\n                return handle(entry.finallyLoc);\n              }\n            } else {\n              throw new Error("try statement without catch or finally");\n            }\n          }\n        }\n      },\n      abrupt: function abrupt(type, arg) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n\n          if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {\n            var finallyEntry = entry;\n            break;\n          }\n        }\n\n        if (finallyEntry && (type === "break" || type === "continue") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n          // Ignore the finally entry if control is not jumping to a\n          // location outside the try/catch block.\n          finallyEntry = null;\n        }\n\n        var record = finallyEntry ? finallyEntry.completion : {};\n        record.type = type;\n        record.arg = arg;\n\n        if (finallyEntry) {\n          this.method = "next";\n          this.next = finallyEntry.finallyLoc;\n          return ContinueSentinel;\n        }\n\n        return this.complete(record);\n      },\n      complete: function complete(record, afterLoc) {\n        if (record.type === "throw") {\n          throw record.arg;\n        }\n\n        if (record.type === "break" || record.type === "continue") {\n          this.next = record.arg;\n        } else if (record.type === "return") {\n          this.rval = this.arg = record.arg;\n          this.method = "return";\n          this.next = "end";\n        } else if (record.type === "normal" && afterLoc) {\n          this.next = afterLoc;\n        }\n\n        return ContinueSentinel;\n      },\n      finish: function finish(finallyLoc) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n\n          if (entry.finallyLoc === finallyLoc) {\n            this.complete(entry.completion, entry.afterLoc);\n            resetTryEntry(entry);\n            return ContinueSentinel;\n          }\n        }\n      },\n      "catch": function _catch(tryLoc) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n\n          if (entry.tryLoc === tryLoc) {\n            var record = entry.completion;\n\n            if (record.type === "throw") {\n              var thrown = record.arg;\n              resetTryEntry(entry);\n            }\n\n            return thrown;\n          }\n        } // The context.catch method must only be called with a location\n        // argument that corresponds to a known catch block.\n\n\n        throw new Error("illegal catch attempt");\n      },\n      delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n        this.delegate = {\n          iterator: values(iterable),\n          resultName: resultName,\n          nextLoc: nextLoc\n        };\n\n        if (this.method === "next") {\n          // Deliberately forget the last sent value so that we don\'t\n          // accidentally pass it on to the delegate.\n          this.arg = undefined$1;\n        }\n\n        return ContinueSentinel;\n      }\n    }; // Regardless of whether this script is executing as a CommonJS module\n    // or not, return the runtime object so that we can declare the variable\n    // regeneratorRuntime in the outer scope, which allows this module to be\n    // injected easily by `bin/regenerator --include-runtime script.js`.\n\n    return exports;\n  }( // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   module.exports );\n\n  try {\n    regeneratorRuntime = runtime;\n  } catch (accidentalStrictMode) {\n    // This module should not be running in strict mode, so the above\n    // assignment should always work unless something is misconfigured. Just\n    // in case runtime.js accidentally runs in strict mode, we can escape\n    // strict mode using a global Function call. This could conceivably fail\n    // if a Content Security Policy forbids using Function, but in that case\n    // the proper solution is to fix the accidental strict mode problem. If\n    // you\'ve misconfigured your bundler to force strict mode and applied a\n    // CSP to forbid Function, and you\'re not willing to fix either of those\n    // problems, please detail your unique predicament in a GitHub issue.\n    Function("r", "regeneratorRuntime = r")(runtime);\n  }\n});\n\n// have a look at the Quick start guide \n// for passing in lng and translations on init\n\ni18next_js_default().use((i18next_http_backend_esm_index_js_default())) // detect user language\n// learn more: https://github.com/i18next/i18next-browser-languageDetector\n.use((i18nextBrowserLanguageDetector_js_default())) // pass the i18n instance to react-i18next.\n.use(es_index_js_.initReactI18next) // init i18next\n// for all options read: https://www.i18next.com/overview/configuration-options\n.init({\n  // Commenting it as we have fallbackLng for case of language detected as en-GB or en-US\n  // supportedLngs: [\'en\',\'it\'],\n  backend: {\n    loadPath: __webpack_require__.p + "locales/{{lng}}/{{ns}}.json"\n  },\n  fallbackLng: \'en\',\n  load: \'all\',\n  debug: true,\n  // add any namespaces you\'re using here for loading purposes\n  ns: [\'public\'],\n  defaultNS: \'public\',\n  nsSeparator: \':\',\n  keySeparator: \'.\',\n  react: {\n    useSuspense: true,\n    wait: true\n  },\n  interpolation: {\n    defaultVariables: undefined,\n    escapeValue: false // not needed for react as it escapes by default\n\n  }\n});\n\nvar app_esm_keycloak;\n/**\r\n * Get keycloak instance\r\n *\r\n * @return an initiated keycloak instance or `undefined`\r\n * if keycloak isn\'t configured\r\n *\r\n */\n\nvar getKeycloakInstance = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {\n  var _ref = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee() {\n    return runtime_1.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (app_esm_keycloak) {\n              _context.next = 3;\n              break;\n            }\n\n            _context.next = 3;\n            return init();\n\n          case 3:\n            return _context.abrupt("return", app_esm_keycloak);\n\n          case 4:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getKeycloakInstance() {\n    return _ref.apply(this, arguments);\n  };\n}()));\n/**\r\n * Initiate keycloak instance.\r\n *\r\n * Set keycloak to undefined if\r\n * keycloak isn\'t configured\r\n *\r\n */\n\nvar init = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {\n  var _ref2 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee2() {\n    return runtime_1.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            app_esm_keycloak = new Keycloak({\n              realm: \'redhat-external\',\n              url: \'https://sso.redhat.com/auth/\',\n              clientId: \'cloud-services\'\n            });\n\n            if (!app_esm_keycloak) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 5;\n            return app_esm_keycloak.init({\n              onLoad: \'login-required\'\n            });\n\n          case 5:\n            _context2.next = 11;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2["catch"](0);\n            app_esm_keycloak = undefined;\n            console.warn(\'Auth: Unable to initialize keycloak. Client side will not be configured to use authentication\', _context2.t0);\n\n          case 11:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 7]]);\n  }));\n\n  return function init() {\n    return _ref2.apply(this, arguments);\n  };\n}()));\n/**\r\n * Use keycloak update token function to retrieve\r\n * keycloak token\r\n *\r\n * @return keycloak token or empty string if keycloak\r\n * isn\'t configured\r\n *\r\n */\n\nvar getKeyCloakToken = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {\n  var _ref4 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee4() {\n    var _keycloak, _keycloak2;\n\n    return runtime_1.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return (_keycloak = app_esm_keycloak) == null ? void 0 : _keycloak.updateToken(50);\n\n          case 2:\n            if (!((_keycloak2 = app_esm_keycloak) == null ? void 0 : _keycloak2.token)) {\n              _context4.next = 4;\n              break;\n            }\n\n            return _context4.abrupt("return", app_esm_keycloak.token);\n\n          case 4:\n            console.error(\'No keycloak token available\');\n            return _context4.abrupt("return", \'foo\');\n\n          case 6:\n          case "end":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function getKeyCloakToken() {\n    return _ref4.apply(this, arguments);\n  };\n}()));\n/**\r\n * Use keycloak update token function to retrieve\r\n * keycloak token\r\n *\r\n * @return keycloak token or empty string if keycloak\r\n * isn\'t configured\r\n *\r\n */\n\nvar getParsedKeyCloakToken = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {\n  var _ref5 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee5() {\n    var _keycloak3, _keycloak4;\n\n    return runtime_1.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return (_keycloak3 = app_esm_keycloak) == null ? void 0 : _keycloak3.updateToken(50);\n\n          case 2:\n            if (!((_keycloak4 = app_esm_keycloak) == null ? void 0 : _keycloak4.tokenParsed)) {\n              _context5.next = 4;\n              break;\n            }\n\n            return _context5.abrupt("return", app_esm_keycloak.tokenParsed);\n\n          case 4:\n            console.error(\'No keycloak token available\');\n            return _context5.abrupt("return", {});\n\n          case 6:\n          case "end":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function getParsedKeyCloakToken() {\n    return _ref5.apply(this, arguments);\n  };\n}()));\n\nvar KeycloakContext = /*#__PURE__*/index_js_default().createContext({\n  keycloak: undefined\n});\nvar KeycloakAuthProvider = function KeycloakAuthProvider(props) {\n  var getUsername = function getUsername() {\n    return getParsedKeyCloakToken().then(function (token) {\n      return token[\'username\'];\n    });\n  };\n\n  var authTokenContext = {\n    kas: {\n      getToken: getKeyCloakToken\n    },\n    getUsername: getUsername\n  };\n  return React__default.createElement(AuthContext.Provider, {\n    value: authTokenContext\n  }, props.children);\n};\n\nvar logo = "data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%22175px%22%20height%3D%2232px%22%20viewBox%3D%220%200%20175%2032%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%20%20%20%20%3Ctitle%3EPatternFly%20Logo%3C%2Ftitle%3E%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%2250.0004769%25%22%20y1%3D%223.02475509%25%22%20x2%3D%2250.0004769%25%22%20y2%3D%2295.3620086%25%22%20id%3D%22linearGradient-1%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%2360EFFF%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%231F89C7%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Symbols%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Nav-bar-%28desktop%29%22%20transform%3D%22translate%28-150.000000%2C%20-16.000000%29%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22PatternFly-Logo%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20transform%3D%22translate%28150.000000%2C%2016.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%2844.748858%2C%2011.200000%29%22%20fill%3D%22%23FFFFFF%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0.302054795%2C9.3488%20L0.302054795%2C0.3264%20L4.16883562%2C0.3264%20C4.73858447%2C0.3264%205.21723744%2C0.4096%205.60719178%2C0.5744%20C5.99714612%2C0.7408%206.31358447%2C0.9576%206.55650685%2C1.2296%20C6.79942922%2C1.5008%206.97442922%2C1.8048%207.08150685%2C2.1456%20C7.18778539%2C2.4856%207.24212329%2C2.8288%207.24212329%2C3.1768%20C7.24212329%2C3.3936%207.2173516%2C3.616%207.16541096%2C3.8408%20C7.11506849%2C4.064%207.03835616%2C4.284%206.9336758%2C4.496%20C6.82819635%2C4.708%206.69474886%2C4.9048%206.53093607%2C5.0912%20C6.36712329%2C5.2752%206.17054795%2C5.4384%205.94280822%2C5.5784%20C5.71426941%2C5.7184%205.45376712%2C5.828%205.15810502%2C5.908%20C4.86164384%2C5.988%204.53242009%2C6.0272%204.16803653%2C6.0272%20L2.04246575%2C6.0272%20L2.04246575%2C9.3472%20L0.302054795%2C9.3488%20L0.302054795%2C9.3488%20Z%20M4.24315068%2C4.372%20C4.4652968%2C4.372%204.65308219%2C4.3368%204.8033105%2C4.2664%20C4.95353881%2C4.1936%205.07579909%2C4.1024%205.17089041%2C3.988%20C5.26598174%2C3.8744%205.33310502%2C3.7464%205.37465753%2C3.6048%20C5.41700913%2C3.4616%205.43938356%2C3.32%205.43938356%2C3.176%20C5.43938356%2C3.0464%205.42100457%2C2.9112%205.38424658%2C2.7688%20C5.34908676%2C2.6304%205.2859589%2C2.5024%205.19646119%2C2.3832%20C5.10616438%2C2.2664%204.98230594%2C2.1696%204.82888128%2C2.0952%20C4.67305936%2C2.0192%204.47888128%2C1.9808%204.24394977%2C1.9808%20L2.04406393%2C1.9808%20L2.04406393%2C4.3712%20L4.24315068%2C4.372%20L4.24315068%2C4.372%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M19.2555936%2C9.3488%20L18.5571918%2C7.4816%20L15.0803653%2C7.4816%20L14.3899543%2C9.3488%20L12.5216895%2C9.3488%20L15.9737443%2C0.3264%20L17.6694064%2C0.3264%20L21.1214612%2C9.3488%20L19.2555936%2C9.3488%20Z%20M17.1052511%2C3.548%20C17.0589041%2C3.44%2017.0093607%2C3.3088%2016.956621%2C3.1584%20C16.9062785%2C3.0056%2016.8599315%2C2.8664%2016.8223744%2C2.7352%20C16.7880137%2C2.8672%2016.7440639%2C3.0056%2016.689726%2C3.1584%20C16.6361872%2C3.3088%2016.5858447%2C3.44%2016.5386986%2C3.548%20L15.6461187%2C5.8952%20L17.9922374%2C5.8952%20L17.1052511%2C3.548%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%2230.9038813%202.0064%2030.9038813%209.3488%2029.169863%209.3488%2029.169863%202.0064%2026.5920091%202.0064%2026.5920091%200.3264%2033.4809361%200.3264%2033.4809361%202.0064%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%2244.3932648%202.0064%2044.3932648%209.3488%2042.6584475%209.3488%2042.6584475%202.0064%2040.0805936%202.0064%2040.0805936%200.3264%2046.9695205%200.3264%2046.9695205%202.0064%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%2254.1509132%209.3488%2054.1509132%200.3264%2060.3022831%200.3264%2060.3022831%201.9816%2055.8905251%201.9816%2055.8905251%203.8752%2058.4859589%203.8752%2058.4859589%205.5232%2055.8905251%205.5232%2055.8905251%207.7016%2060.5715753%207.7016%2060.5715753%209.3512%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M67.8848174%2C9.3488%20L67.8848174%2C0.3264%20L72.0704338%2C0.3264%20C72.6401826%2C0.3264%2073.1172374%2C0.4032%2073.5%2C0.5624%20C73.8827626%2C0.7192%2074.1928082%2C0.928%2074.4269406%2C1.188%20C74.6594749%2C1.4488%2074.8296804%2C1.7488%2074.9295662%2C2.088%20C75.0278539%2C2.428%2075.0805936%2C2.7832%2075.0805936%2C3.152%20C75.0805936%2C3.4072%2075.0422374%2C3.6664%2074.9679224%2C3.928%20C74.8928082%2C4.1904%2074.7849315%2C4.4392%2074.6394977%2C4.6744%20C74.4900685%2C4.9096%2074.310274%2C5.1216%2074.0905251%2C5.3128%20C73.8739726%2C5.504%2073.6190639%2C5.6536%2073.3305936%2C5.756%20L75.0789954%2C9.3488%20L73.122032%2C9.3488%20L71.4375571%2C5.984%20L69.6228311%2C5.984%20L69.6228311%2C9.3488%20L67.8848174%2C9.3488%20L67.8848174%2C9.3488%20Z%20M72.0960046%2C4.3344%20C72.3165525%2C4.3344%2072.5067352%2C4.3016%2072.6545662%2C4.236%20C72.8047945%2C4.1704%2072.9278539%2C4.084%2073.0181507%2C3.9752%20C73.1108447%2C3.8656%2073.1787671%2C3.74%2073.2179224%2C3.596%20C73.2586758%2C3.4536%2073.2754566%2C3.3056%2073.2754566%2C3.1504%20C73.2754566%2C3.008%2073.2586758%2C2.8648%2073.2243151%2C2.724%20C73.186758%2C2.5832%2073.1260274%2C2.4584%2073.0413242%2C2.3456%20C72.9542237%2C2.236%2072.8295662%2C2.1464%2072.6793379%2C2.0792%20C72.5291096%2C2.012%2072.3317352%2C1.9792%2072.0968037%2C1.9792%20L69.6260274%2C1.9792%20L69.6260274%2C4.3328%20L72.0968037%2C4.3328%20L72.0968037%2C4.3344%20L72.0960046%2C4.3344%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M88.1552511%2C9.3488%20L84.5793379%2C4.0888%20C84.5202055%2C4.0016%2084.4578767%2C3.892%2084.3875571%2C3.7648%20C84.3172374%2C3.6376%2084.2597032%2C3.5192%2084.2061644%2C3.4104%20C84.2221461%2C3.5056%2084.2277397%2C3.6184%2084.2341324%2C3.7496%20C84.2413242%2C3.8792%2084.2469178%2C3.9936%2084.2469178%2C4.0888%20L84.2469178%2C9.3488%20L82.5176941%2C9.3488%20L82.5176941%2C0.3264%20L84.1502283%2C0.3264%20L87.6390411%2C5.5216%20C87.693379%2C5.6056%2087.7565068%2C5.7136%2087.8252283%2C5.8384%20C87.8979452%2C5.9632%2087.9610731%2C6.0856%2088.0122146%2C6.2024%20C88.0002283%2C6.0824%2087.9938356%2C5.9568%2087.9858447%2C5.8352%20C87.9778539%2C5.7112%2087.9746575%2C5.6056%2087.9746575%2C5.52%20L87.9746575%2C0.3248%20L89.6958904%2C0.3248%20L89.6958904%2C9.3472%20L88.1552511%2C9.3488%20L88.1552511%2C9.3488%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%2297.4590183%209.3488%2097.4590183%200.3264%20103.501712%200.3264%20103.501712%201.9816%2099.2002283%201.9816%2099.2002283%203.8752%20101.926712%203.8752%20101.926712%205.5232%2099.2002283%205.5232%2099.2002283%209.3496%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%22110.555251%209.3488%20110.555251%200.3264%20112.298059%200.3264%20112.298059%207.6752%20116.646689%207.6752%20116.646689%209.3488%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%22124.973973%209.3488%20124.973973%205.832%20121.634589%200.3264%20123.608333%200.3264%20125.835388%204.0144%20128.058447%200.3264%20130.03379%200.3264%20126.695205%205.832%20126.695205%209.3488%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M33.5144977%2C16.5608%20L16.7584475%2C0.1536%20L0%2C16.5608%20L6.6803653%2C26.036%20L11.7769406%2C24.864%20L16.790411%2C31.9208%20L21.7942922%2C24.8768%20L26.8341324%2C26.0352%20L33.5144977%2C16.5608%20Z%20M16.0624429%2C3.196%20L13.8921233%2C23.2768%20L9.74805936%2C17.6176%20L16.0624429%2C3.196%20Z%20M9.293379%2C16.9968%20L6.71232877%2C13.472%20L15.5877854%2C2.68%20L9.293379%2C16.9968%20Z%20M13.2041096%2C23.464%20L13.2041096%2C23.464%20L13.4454338%2C23.7968%20L12.0614155%2C24.1144%20L8.86666667%2C19.6184%20L9.43721461%2C18.3208%20L13.2041096%2C23.464%20Z%20M16.7576484%2C2.9296%20L18.9391553%2C24.2184%20L16.7528539%2C27.2176%20L14.5745434%2C24.2184%20L16.7576484%2C2.9296%20Z%20M20.309589%2C23.4648%20L24.1180365%2C18.2648%20L24.7141553%2C19.6184%20L21.5106164%2C24.128%20L20.0714612%2C23.7968%20L20.3119863%2C23.4664%20L20.309589%2C23.4648%20Z%20M19.6223744%2C23.2768%20L17.4800228%2C3.1792%20L23.8079909%2C17.5608%20L19.6223744%2C23.2768%20Z%20M17.9850457%2C2.6768%20L26.8021689%2C13.472%20L24.2626712%2C16.94%20L17.9850457%2C2.6768%20Z%20M6.96643836%2C25.2856%20L0.870205479%2C16.6408%20L12.7989726%2C4.9672%20L5.87089041%2C13.4504%20L8.98413242%2C17.7008%20L8.10593607%2C19.696%20L11.3598174%2C24.2768%20L6.96643836%2C25.2856%20Z%20M16.790411%2C30.7712%20L12.4785388%2C24.7032%20L13.8705479%2C24.3824%20L16.7512557%2C28.3496%20L19.6415525%2C24.3824%20L21.0910959%2C24.7168%20L16.790411%2C30.7712%20Z%20M22.2114155%2C24.2896%20L25.4740868%2C19.696%20L24.5719178%2C17.6448%20L27.6436073%2C13.4504%20L20.7155251%2C4.9672%20L32.6434932%2C16.6408%20L26.5480594%2C25.2864%20L22.2114155%2C24.2896%20Z%22%20id%3D%22Shape%22%20fill%3D%22url%28%23linearGradient-1%29%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";\n\nvar AppLayout = function AppLayout(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState(true),\n      isNavOpen = _useState[0],\n      setIsNavOpen = _useState[1];\n\n  var _useState2 = useState(true),\n      isMobileView = _useState2[0],\n      setIsMobileView = _useState2[1];\n\n  var _useState3 = useState(false),\n      isNavOpenMobile = _useState3[0],\n      setIsNavOpenMobile = _useState3[1];\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var onNavToggleMobile = function onNavToggleMobile() {\n    setIsNavOpenMobile(!isNavOpenMobile);\n  };\n\n  var onNavToggle = function onNavToggle() {\n    setIsNavOpen(!isNavOpen);\n  };\n\n  var onPageResize = function onPageResize(props) {\n    setIsMobileView(props.mobileView);\n  };\n\n  var HeaderTools = React__default.createElement(PageHeaderTools, null, \'email\');\n  var Header = React__default.createElement(PageHeader, {\n    logo: React__default.createElement(LogoImg, null),\n    showNavToggle: true,\n    isNavOpen: isNavOpen,\n    headerTools: HeaderTools,\n    onNavToggle: isMobileView ? onNavToggleMobile : onNavToggle,\n    "aria-label": \'global_navigation\'\n  });\n  var Navigation = React__default.createElement(Nav, {\n    id: "nav-primary-simple",\n    role: "navigation",\n    theme: "dark",\n    "aria-label": \'global\'\n  }, React__default.createElement(NavList, {\n    id: "nav-list-simple"\n  }, React__default.createElement(NavItem, {\n    id: \'connectors\'\n  }, React__default.createElement(NavLink, {\n    to: \'/\',\n    activeClassName: "pf-m-current"\n  }, t(\'managedConnectors\')))));\n  var Sidebar = React__default.createElement(PageSidebar, {\n    theme: "dark",\n    nav: Navigation,\n    isNavOpen: isMobileView ? isNavOpenMobile : isNavOpen\n  });\n  return React__default.createElement(Page, {\n    mainContainerId: "primary-app-container",\n    role: "main",\n    header: Header,\n    sidebar: Sidebar,\n    onPageResize: onPageResize\n  }, children);\n};\n\nfunction LogoImg() {\n  var history = useHistory();\n\n  function handleClick() {\n    history.push(\'/\');\n  }\n\n  return React__default.createElement("img", {\n    src: logo,\n    onClick: handleClick,\n    alt: "PatternFly Logo"\n  });\n}\n\nvar AppContext = /*#__PURE__*/(0,index_js_.createContext)(null);\nvar AppContextProvider = function AppContextProvider(_ref) {\n  var getToken = _ref.getToken,\n      basePath = _ref.basePath,\n      children = _ref.children;\n  return index_js_default().createElement(AppContext.Provider, {\n    value: {\n      getToken: getToken,\n      basePath: basePath\n    }\n  }, children);\n};\nvar useAppContext = function useAppContext() {\n  var context = (0,index_js_.useContext)(AppContext);\n  if (!context) throw new Error(\'useAppContext must be used inside an AppContextProvider\');\n  return _extends({}, context);\n};\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === \'undefined\') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName(\'head\')[0];\n  var style = document.createElement(\'style\');\n  style.type = \'text/css\';\n\n  if (insertAt === \'top\') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = ".connector-drawer__header-text{margin-bottom:0!important}.connector-drawer__header-title{margin-top:0!important}.connector-drawer__tab-content{padding-bottom:var(--pf-global--spacer--lg);padding-top:var(--pf-global--spacer--lg)}";\nstyleInject(css_248z);\n\nvar ConnectorDrawer = function ConnectorDrawer(_ref) {\n  var children = _ref.children;\n\n  var _useTranslation = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation.t;\n\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine = (0,machines_esm.useConnectorsMachine)(service),\n      selectedConnector = _useConnectorsMachine.selectedConnector,\n      deselectConnector = _useConnectorsMachine.deselectConnector;\n\n  var _useState = (0,index_js_.useState)(0),\n      activeTabKey = _useState[0],\n      setActiveTabKey = _useState[1];\n\n  var selectActiveKey = function selectActiveKey(_, eventKey) {\n    setActiveTabKey(eventKey);\n  };\n\n  var textListItem = function textListItem(title, value) {\n    return index_js_default().createElement((index_js_default()).Fragment, null, value && index_js_default().createElement((index_js_default()).Fragment, null, index_js_default().createElement(esm_index_js_.TextListItem, {\n      component: esm_index_js_.TextListItemVariants.dt\n    }, title), index_js_default().createElement(esm_index_js_.TextListItem, {\n      component: esm_index_js_.TextListItemVariants.dd\n    }, value)));\n  };\n\n  var panelContent = function panelContent() {\n    var _selectedConnector$me, _selectedConnector$ka, _selectedConnector$me2, _selectedConnector$me3, _selectedConnector$me4;\n\n    return index_js_default().createElement(esm_index_js_.DrawerPanelContent, {\n      widths: {\n        "default": \'width_50\'\n      }\n    }, index_js_default().createElement(esm_index_js_.DrawerHead, null, index_js_default().createElement(esm_index_js_.TextContent, null, index_js_default().createElement(esm_index_js_.Text, {\n      component: esm_index_js_.TextVariants.small,\n      className: "connector-drawer__header-text"\n    }, "Connector name"), index_js_default().createElement(esm_index_js_.Title, {\n      headingLevel: \'h2\',\n      size: esm_index_js_.TitleSizes.xl,\n      className: "connector-drawer__header-title"\n    }, selectedConnector == null ? void 0 : (_selectedConnector$me = selectedConnector.metadata) == null ? void 0 : _selectedConnector$me.name)), index_js_default().createElement(esm_index_js_.DrawerActions, null, index_js_default().createElement(esm_index_js_.DrawerCloseButton, {\n      onClick: deselectConnector\n    }))), index_js_default().createElement(esm_index_js_.DrawerPanelBody, null, index_js_default().createElement(esm_index_js_.Tabs, {\n      activeKey: activeTabKey,\n      onSelect: selectActiveKey\n    }, index_js_default().createElement(esm_index_js_.Tab, {\n      eventKey: 0,\n      title: index_js_default().createElement(esm_index_js_.TabTitleText, null, t(\'overview\'))\n    }, index_js_default().createElement("div", {\n      className: "connector-drawer__tab-content"\n    }, index_js_default().createElement(esm_index_js_.TextContent, null, index_js_default().createElement(esm_index_js_.TextList, {\n      component: esm_index_js_.TextListVariants.dl\n    }, textListItem(\'Bootstrap server\', selectedConnector == null ? void 0 : (_selectedConnector$ka = selectedConnector.kafka) == null ? void 0 : _selectedConnector$ka.bootstrap_server), textListItem(\'Connector\', selectedConnector == null ? void 0 : (_selectedConnector$me2 = selectedConnector.metadata) == null ? void 0 : _selectedConnector$me2.name), textListItem(\'Kafka_instance\', selectedConnector == null ? void 0 : (_selectedConnector$me3 = selectedConnector.metadata) == null ? void 0 : _selectedConnector$me3.kafka_id), textListItem(\'Owner\', selectedConnector == null ? void 0 : (_selectedConnector$me4 = selectedConnector.metadata) == null ? void 0 : _selectedConnector$me4.owner))))))));\n  };\n\n  return index_js_default().createElement(esm_index_js_.Drawer, {\n    isExpanded: selectedConnector !== undefined\n  }, index_js_default().createElement(esm_index_js_.DrawerContent, {\n    panelContent: panelContent()\n  }, children));\n};\n\nvar css_248z$1 = ".connectors-table-view__table{--pf-c-table-row__item--m-selected--ZIndex:var(--pf-global--ZIndex--xs);--pf-c-table-row__item--m-selected--BoxShadow:var(--pf-global--BoxShadow--sm-top),var(--pf-global--BoxShadow--sm-bottom);--pf-c-table-row__item--m-selectable--focus--BoxShadow:var(--pf-global--BoxShadow--sm-top),var(--pf-global--BoxShadow--sm-bottom);--pf-c-table-row__item--m-selectable--hover--ZIndex:calc(var(--pf-c-table-row__item--m-selected--ZIndex) + 1);--pf-c-table-row__item--before--BackgroundColor:transparent;--pf-c-table-row__item--m-selected--before--BackgroundColor:var(--pf-global--active-color--100);--pf-c-table-row__item--before--Top:0;--pf-c-table-row__item--before--Width:var(--pf-global--BorderWidth--lg);--pf-c-table-row__item--before--Transition:var(--pf-global--Transition);--pf-c-table-row__item--m-selectable--active--BoxShadow:var(--pf-global--BoxShadow--sm-top),var(--pf-global--BoxShadow--sm-bottom);--pf-c-table-row__item--m-selectable--OutlineOffset:calc(var(--pf-global--spacer--xs)*-1);--pf-c-table-row__item--m-selectable--hover--BoxShadow:var(--pf-global--BoxShadow--sm-top),var(--pf-global--BoxShadow--sm-bottom);margin-bottom:var(--pf-global--spacer--xs)}@media screen and (min-width:768px){.pf-c-table-row__item td:first-child:before{background-color:var(--pf-c-table-row__item--before--BackgroundColor);bottom:0;content:\\"\\";left:0;position:absolute;top:var(--pf-c-table-row__item--before--Top);transition:var(--pf-c-table-row__item--before--Transition);width:var(--pf-c-table-row__item--before--Width)}}.pf-c-table-row__item.pf-m-selectable{cursor:pointer;outline-offset:var(--pf-c-table-row__item--m-selectable--OutlineOffset)}.pf-c-table-row__item.pf-m-selectable:focus,.pf-c-table-row__item.pf-m-selectable:hover{position:relative;z-index:var(--pf-c-table-row__item--m-selectable--hover--ZIndex)}.pf-c-table-row__item.pf-m-selectable:hover{box-shadow:var(--pf-c-table-row__item--m-selectable--hover--BoxShadow)}.pf-c-table-row__item.pf-m-selectable:focus{box-shadow:var(--pf-c-table-row__item--m-selectable--focus--BoxShadow)}.pf-c-table-row__item.pf-m-selectable:active{box-shadow:var(--pf-c-table-row__item--m-selectable--active--BoxShadow)}.pf-c-table-row__item.pf-m-selectable.pf-m-selected{--pf-c-table-row__item--before--BackgroundColor:var(--pf-c-table-row__item--m-selected--before--BackgroundColor);box-shadow:var(--pf-c-table-row__item--m-selected--BoxShadow);position:relative;z-index:var(--pf-c-table-row__item--m-selected--ZIndex)}.pf-c-table-row__item.pf-m-disabled td{color:var(--pf-global--Color--200)}";\nstyleInject(css_248z$1);\n\nvar css_248z$2 = ".cos--connectors__table--icon--completed{color:var(--pf-global--success-color--100)}.cos--connectors__table--icon--failed{color:var(--pf-global--danger-color--100)}";\nstyleInject(css_248z$2);\n\nvar ConnectorStatusIcon = function ConnectorStatusIcon(_ref) {\n  var id = _ref.id,\n      status = _ref.status;\n\n  switch (status == null ? void 0 : status.toLowerCase()) {\n    case \'ready\':\n      return index_js_default().createElement(react_icons_dist_esm_index_js_.CheckCircleIcon, {\n        className: "cos--connectors__table--icon--completed"\n      });\n\n    case \'failed\':\n      return index_js_default().createElement(react_icons_dist_esm_index_js_.ExclamationCircleIcon, {\n        className: "cos--connectors__table--icon--failed"\n      });\n\n    case \'accepted\':\n      return index_js_default().createElement(react_icons_dist_esm_index_js_.PendingIcon, null);\n\n    case \'provisioning\':\n    case \'preparing\':\n      return index_js_default().createElement(esm_index_js_.Spinner, {\n        size: "md",\n        "aria-label": id,\n        "aria-valuetext": "Creation in progress"\n      });\n\n    case \'deprovision\':\n    case \'deleted\':\n      return null;\n  }\n\n  return index_js_default().createElement(react_icons_dist_esm_index_js_.PendingIcon, null);\n};\n\nvar ConnectorsToolbar = function ConnectorsToolbar() {\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine = (0,machines_esm.useConnectorsMachine)(service),\n      request = _useConnectorsMachine.request,\n      response = _useConnectorsMachine.response;\n\n  var onChange = function onChange(request) {\n    return service.send(_extends({\n      type: \'api.query\'\n    }, request));\n  };\n\n  var searchInputRef = (0,index_js_.useRef)(null);\n  var debouncedOnChange = (0,utils_esm.useDebounce)(onChange, 1000);\n  var defaultPerPageOptions = [{\n    title: \'1\',\n    value: 1\n  }, {\n    title: \'5\',\n    value: 5\n  }, {\n    title: \'10\',\n    value: 10\n  }]; // const [statuses, setStatuses] = useState<string[]>([\n  //   \'Pending\',\n  //   \'Created\',\n  //   \'Cancelled\',\n  // ]);\n  // const [statusesToggled, setStatusesToggled] = useState(false);\n  // const clearAllFilters = useCallback(() => {\n  //   setSearchValue(\'\');\n  //   setStatuses([]);\n  // }, []);\n  // const toggleStatuses = useCallback(\n  //   () => setStatusesToggled(prev => !prev),\n  //   []\n  // );\n  // const onSelectStatus = useCallback(\n  //   (_, status) =>\n  //     setStatuses(prev =>\n  //       prev.includes(status)\n  //         ? prev.filter(s => s !== status)\n  //         : [...prev, status]\n  //     ),\n  //   []\n  // );\n  // const statusMenuItems = [\n  //   <SelectOption key="statusPending" value="Pending" />,\n  //   <SelectOption key="statusCreated" value="Created" />,\n  //   <SelectOption key="statusCancelled" value="Cancelled" />,\n  // ];\n  // ensure the search input value reflects what\'s specified in the request object\n  // useEffect(() => {\n  //   if (searchInputRef.current) {\n  //     searchInputRef.current.value = (request.name as string | undefined) || \'\';\n  //   }\n  // }, [searchInputRef, request]);\n\n  var toggleGroupItems = index_js_default().createElement((index_js_default()).Fragment, null, index_js_default().createElement(esm_index_js_.ToolbarItem, null, index_js_default().createElement(esm_index_js_.InputGroup, null, index_js_default().createElement(esm_index_js_.TextInput, {\n    name: "textInput2",\n    id: "textInput2",\n    type: "search",\n    "aria-label": "search input example",\n    onChange: function onChange(value) {\n      return debouncedOnChange({\n        size: request.size,\n        page: 1,\n        name: value\n      });\n    },\n    ref: searchInputRef\n  }), index_js_default().createElement(esm_index_js_.Button, {\n    variant: \'control\',\n    "aria-label": "search button for search input"\n  }, index_js_default().createElement(react_icons_dist_esm_index_js_.SearchIcon, null)))));\n  var toolbarItems = index_js_default().createElement((index_js_default()).Fragment, null, index_js_default().createElement(esm_index_js_.ToolbarToggleGroup, {\n    toggleIcon: index_js_default().createElement(react_icons_dist_esm_index_js_.FilterIcon, null),\n    breakpoint: "xl"\n  }, toggleGroupItems), index_js_default().createElement(esm_index_js_.ToolbarGroup, {\n    variant: "icon-button-group"\n  }, index_js_default().createElement(esm_index_js_.ToolbarItem, null, index_js_default().createElement(react_router_dom_js_.NavLink, {\n    className: "pf-c-button pf-m-primary",\n    to: \'/create-connector\'\n  }, "Create Connector"))), index_js_default().createElement(esm_index_js_.ToolbarItem, {\n    variant: "pagination",\n    alignment: {\n      "default": \'alignRight\'\n    }\n  }, index_js_default().createElement(esm_index_js_.Pagination, {\n    itemCount: (response == null ? void 0 : response.total) || 0,\n    page: request.page,\n    perPage: request.size,\n    perPageOptions: defaultPerPageOptions,\n    onSetPage: function onSetPage(_, page, size) {\n      return onChange(_extends({}, request, {\n        page: page,\n        size: size || request.size\n      }));\n    },\n    onPerPageSelect: function onPerPageSelect() {\n      return false;\n    },\n    variant: "top",\n    isCompact: true\n  })));\n  return index_js_default().createElement(esm_index_js_.Toolbar, {\n    id: "toolbar-group-types",\n    collapseListedFiltersBreakpoint: "xl"\n  }, index_js_default().createElement(esm_index_js_.ToolbarContent, null, toolbarItems));\n};\n\n/**\r\n * A modal dialog to display confirmation for connector deletion.\r\n */\n\nvar DeleteDialog = function DeleteDialog(_ref) {\n  var connectorName = _ref.connectorName,\n      i18nCancel = _ref.i18nCancel,\n      i18nDelete = _ref.i18nDelete,\n      i18nTitle = _ref.i18nTitle,\n      onCancel = _ref.onCancel,\n      onConfirm = _ref.onConfirm,\n      showDialog = _ref.showDialog;\n\n  var _useState = (0,index_js_.useState)(\'\'),\n      nameValue = _useState[0],\n      setNameValue = _useState[1];\n\n  var canDelete = nameValue === connectorName;\n\n  var onCancelDelete = function onCancelDelete() {\n    setNameValue(\'\');\n    onCancel();\n  };\n\n  var onConfirmDelete = function onConfirmDelete() {\n    setNameValue(\'\');\n    onConfirm();\n  };\n\n  return index_js_default().createElement(esm_index_js_.Modal, {\n    variant: esm_index_js_.ModalVariant.small,\n    title: i18nTitle,\n    titleIconVariant: "warning",\n    isOpen: showDialog,\n    onClose: onCancel,\n    actions: [index_js_default().createElement(esm_index_js_.Button, {\n      key: "confirm",\n      variant: "danger",\n      isDisabled: !canDelete,\n      onClick: onConfirmDelete\n    }, i18nDelete), index_js_default().createElement(esm_index_js_.Button, {\n      key: "cancel",\n      variant: "link",\n      onClick: onCancelDelete\n    }, i18nCancel)]\n  }, index_js_default().createElement(esm_index_js_.Stack, null, index_js_default().createElement(esm_index_js_.StackItem, null, index_js_default().createElement(es_index_js_.Trans, {\n    i18nKey: "deleteConfirmMessage"\n  }, "Connector ", index_js_default().createElement("strong", null, {\n    connectorName: connectorName\n  }), " will be deleted.")), index_js_default().createElement(esm_index_js_.StackItem, null, index_js_default().createElement(es_index_js_.Trans, {\n    i18nKey: "deleteTypeNameMessage"\n  }, "Type ", index_js_default().createElement("strong", null, {\n    connectorName: connectorName\n  }), " to confirm the deletion.")), index_js_default().createElement(esm_index_js_.StackItem, null, index_js_default().createElement(esm_index_js_.TextInput, {\n    value: nameValue,\n    type: "text",\n    onChange: setNameValue,\n    "aria-label": "name input"\n  }))));\n};\n\nvar ConnectorsTable = function ConnectorsTable() {\n  var _response$items;\n\n  var _useTranslation = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation.t;\n\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine = (0,machines_esm.useConnectorsMachine)(service),\n      response = _useConnectorsMachine.response;\n\n  return index_js_default().createElement(esm_index_js_.PageSection, {\n    padding: {\n      "default": \'noPadding\'\n    },\n    isFilled: true\n  }, index_js_default().createElement(ConnectorsToolbar, null), index_js_default().createElement(react_table_dist_esm_index_js_.TableComposable, {\n    "aria-label": "Sortable Table",\n    className: (0,react_styles_dist_esm_index_js_.css)(\'connectors-table-view__table\')\n  }, index_js_default().createElement(react_table_dist_esm_index_js_.Thead, null, index_js_default().createElement(react_table_dist_esm_index_js_.Tr, null, index_js_default().createElement(react_table_dist_esm_index_js_.Th, null, t(\'name\')), index_js_default().createElement(react_table_dist_esm_index_js_.Th, null, t(\'type\')), index_js_default().createElement(react_table_dist_esm_index_js_.Th, null, t(\'category\')), index_js_default().createElement(react_table_dist_esm_index_js_.Th, null, t(\'status\')))), index_js_default().createElement(react_table_dist_esm_index_js_.Tbody, null, response == null ? void 0 : (_response$items = response.items) == null ? void 0 : _response$items.map(function (ref) {\n    return index_js_default().createElement(ConnectorRow, {\n      connectorRef: ref,\n      key: ref.id\n    });\n  }))));\n};\nvar ConnectorRow = function ConnectorRow(_ref) {\n  var _connector$metadata, _connector$metadata2;\n\n  var connectorRef = _ref.connectorRef;\n\n  var _useTranslation2 = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation2.t;\n\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine2 = (0,machines_esm.useConnectorsMachine)(service),\n      selectedConnector = _useConnectorsMachine2.selectedConnector;\n\n  var _useConnector = (0,machines_esm.useConnector)(connectorRef),\n      connector = _useConnector.connector,\n      canStart = _useConnector.canStart,\n      canStop = _useConnector.canStop,\n      canDelete = _useConnector.canDelete,\n      onStart = _useConnector.onStart,\n      onStop = _useConnector.onStop,\n      onDelete = _useConnector.onDelete,\n      onSelect = _useConnector.onSelect;\n\n  var _useState = (0,index_js_.useState)(false),\n      showDeleteConnectorConfirm = _useState[0],\n      setShowDeleteConnectorConfirm = _useState[1];\n\n  var doCancelDeleteConnector = function doCancelDeleteConnector() {\n    setShowDeleteConnectorConfirm(false);\n  };\n\n  var doDeleteConnector = function doDeleteConnector() {\n    setShowDeleteConnectorConfirm(false);\n    onDelete();\n  };\n\n  var actions = [{\n    title: \'Start\',\n    onClick: onStart,\n    isDisabled: !canStart\n  }, {\n    title: \'Stop\',\n    onClick: onStop,\n    isDisabled: !canStop\n  }, {\n    title: \'Delete\',\n    onClick: function onClick() {\n      return setShowDeleteConnectorConfirm(true);\n    },\n    isDisabled: !canDelete\n  }, {\n    isSeparator: true\n  }, {\n    title: \'Overview\',\n    onClick: onSelect\n  }];\n  var statusOptions = [{\n    value: \'ready\',\n    label: t(\'Running\')\n  }, {\n    value: \'failed\',\n    label: t(\'Failed\')\n  }, {\n    value: \'assigning\',\n    label: t(\'Creation pending\')\n  }, {\n    value: \'assigned\',\n    label: t(\'Creation in progress\')\n  }, {\n    value: \'updating\',\n    label: t(\'Creation in progress\')\n  }, {\n    value: \'provisioning\',\n    label: t(\'Creation in progress\')\n  }, {\n    value: \'deleting\',\n    label: t(\'Deleting\')\n  }, {\n    value: \'deleted\',\n    label: t(\'Deleting\')\n  }];\n\n  var getStatusLabel = function getStatusLabel(status) {\n    var _statusOptions$find;\n\n    return ((_statusOptions$find = statusOptions.find(function (s) {\n      return s.value === status;\n    })) == null ? void 0 : _statusOptions$find.label) || status;\n  };\n\n  return index_js_default().createElement((index_js_default()).Fragment, null, index_js_default().createElement(DeleteDialog, {\n    connectorName: (_connector$metadata = connector.metadata) == null ? void 0 : _connector$metadata.name,\n    i18nCancel: t(\'cancel\'),\n    i18nDelete: t(\'delete\'),\n    i18nTitle: t(\'deleteConnector\'),\n    showDialog: showDeleteConnectorConfirm,\n    onCancel: doCancelDeleteConnector,\n    onConfirm: doDeleteConnector\n  }), index_js_default().createElement(react_table_dist_esm_index_js_.Tr, {\n    onClick: function onClick(event) {\n      var _event$target;\n\n      // send the event only if the click didn\'t happen on the actions button\n      if (((_event$target = event.target) == null ? void 0 : _event$target.type) !== \'button\') {\n        onSelect();\n      }\n    },\n    className: (0,react_styles_dist_esm_index_js_.css)(\'pf-c-table-row__item\', \'pf-m-selectable\', (selectedConnector == null ? void 0 : selectedConnector.id) === connector.id && \'pf-m-selected\')\n  }, index_js_default().createElement(react_table_dist_esm_index_js_.Td, {\n    dataLabel: t(\'name\')\n  }, (_connector$metadata2 = connector.metadata) == null ? void 0 : _connector$metadata2.name), index_js_default().createElement(react_table_dist_esm_index_js_.Td, {\n    dataLabel: t(\'type\')\n  }, connector.connector_type_id), index_js_default().createElement(react_table_dist_esm_index_js_.Td, {\n    dataLabel: t(\'category\')\n  }, "TODO: MISSING"), index_js_default().createElement(react_table_dist_esm_index_js_.Td, {\n    dataLabel: t(\'status\')\n  }, index_js_default().createElement(esm_index_js_.Flex, null, index_js_default().createElement(esm_index_js_.FlexItem, {\n    spacer: {\n      "default": \'spacerSm\'\n    }\n  }, index_js_default().createElement(ConnectorStatusIcon, {\n    id: connector.id,\n    status: connector.status\n  })), index_js_default().createElement(esm_index_js_.FlexItem, null, getStatusLabel(connector.status)))), index_js_default().createElement(react_table_dist_esm_index_js_.Td, {\n    actions: {\n      items: actions\n    }\n  })));\n};\n\nvar ConnectedConnectorsPage = function ConnectedConnectorsPage(_ref) {\n  var onCreateConnector = _ref.onCreateConnector;\n\n  var _useTranslation = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation.t;\n\n  var _useAlert = (0,dist_esm_index_js_.useAlert)(),\n      addAlert = _useAlert.addAlert;\n\n  var _useAppContext = useAppContext(),\n      basePath = _useAppContext.basePath,\n      getToken = _useAppContext.getToken;\n\n  var onError = (0,index_js_.useCallback)(function (description) {\n    addAlert({\n      id: \'connectors-table-error\',\n      variant: dist_esm_index_js_.AlertVariant.danger,\n      title: t(\'common.something_went_wrong\'),\n      description: description\n    });\n  }, [addAlert, t]);\n  return index_js_default().createElement(machines_esm.ConnectorsMachineProvider, {\n    accessToken: getToken,\n    basePath: basePath,\n    onError: onError\n  }, index_js_default().createElement(ConnectorsPage, {\n    onCreateConnector: onCreateConnector\n  }));\n};\nvar ConnectorsPage = function ConnectorsPage(_ref2) {\n  var onCreateConnector = _ref2.onCreateConnector;\n  var service = (0,machines_esm.useConnectorsMachineService)();\n  var isReady = (0,machines_esm.useConnectorsMachineIsReady)(service);\n  return isReady ? index_js_default().createElement(ConnectorsPageBody, {\n    onCreateConnector: onCreateConnector\n  }) : index_js_default().createElement(utils_esm.Loading, null);\n};\n\nvar ConnectorsPageBody = function ConnectorsPageBody(_ref3) {\n  var onCreateConnector = _ref3.onCreateConnector;\n\n  var _useTranslation2 = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation2.t;\n\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine = (0,machines_esm.useConnectorsMachine)(service),\n      loading = _useConnectorsMachine.loading,\n      error = _useConnectorsMachine.error,\n      noResults = _useConnectorsMachine.noResults,\n      queryEmpty = _useConnectorsMachine.queryEmpty,\n      firstRequest = _useConnectorsMachine.firstRequest;\n\n  switch (true) {\n    case firstRequest:\n      return index_js_default().createElement(esm_index_js_.PageSection, {\n        padding: {\n          "default": \'noPadding\'\n        },\n        isFilled: true\n      }, index_js_default().createElement(utils_esm.Loading, null));\n\n    case queryEmpty:\n      return index_js_default().createElement(esm_index_js_.PageSection, {\n        padding: {\n          "default": \'noPadding\'\n        },\n        isFilled: true\n      }, index_js_default().createElement(utils_esm.NoMatchFound, {\n        onClear: function onClear() {\n          return service.send({\n            type: \'api.query\',\n            page: 1,\n            size: 10\n          });\n        }\n      }));\n\n    case loading:\n      return index_js_default().createElement(esm_index_js_.PageSection, {\n        padding: {\n          "default": \'noPadding\'\n        },\n        isFilled: true\n      }, index_js_default().createElement(ConnectorsToolbar, null), index_js_default().createElement(utils_esm.Loading, null));\n\n    case noResults || error:\n      return index_js_default().createElement(utils_esm.EmptyState, {\n        emptyStateProps: {\n          variant: utils_esm.EmptyStateVariant.GettingStarted\n        },\n        titleProps: {\n          title: \'cos.welcome_to_cos\'\n        },\n        emptyStateBodyProps: {\n          body: \'cos.welcome_empty_state_body\'\n        },\n        buttonProps: {\n          title: \'cos.create_cos\',\n          variant: esm_index_js_.ButtonVariant.primary,\n          onClick: onCreateConnector\n        }\n      });\n\n    default:\n      return index_js_default().createElement(ConnectorDrawer, null, index_js_default().createElement(esm_index_js_.PageSection, {\n        variant: \'light\'\n      }, index_js_default().createElement(esm_index_js_.TextContent, null, index_js_default().createElement(esm_index_js_.Title, {\n        headingLevel: "h1"\n      }, t(\'managedConnectors\')))), index_js_default().createElement(esm_index_js_.PageSection, {\n        variant: \'light\',\n        padding: {\n          "default": \'noPadding\'\n        }\n      }, index_js_default().createElement(ConnectorsTable, null)));\n  }\n};\n\nvar fetchConfigurator = /*#__PURE__*/function () {\n  var _ref = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee2(connector, config) {\n    var defaultConfig;\n    return runtime_1.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            defaultConfig = Promise.resolve({\n              steps: false,\n              Configurator: false\n            });\n            return _context2.abrupt("return", new Promise( /*#__PURE__*/function () {\n              var _ref2 = _asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee(resolve) {\n                var federatedConfigurator;\n                return runtime_1.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.prev = 0;\n                        _context.next = 3;\n                        return maybeGetFederatedConfiguratorForConnector(config, connector);\n\n                      case 3:\n                        federatedConfigurator = _context.sent;\n                        _context.next = 6;\n                        return injectFederatedModuleScript(federatedConfigurator.remoteEntry);\n\n                      case 6:\n                        resolve(loadFederatedConfigurator(federatedConfigurator.scope, federatedConfigurator.module));\n                        _context.next = 12;\n                        break;\n\n                      case 9:\n                        _context.prev = 9;\n                        _context.t0 = _context["catch"](0);\n                        resolve(defaultConfig);\n\n                      case 12:\n                      case "end":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, null, [[0, 9]]);\n              }));\n\n              return function (_x3) {\n                return _ref2.apply(this, arguments);\n              };\n            }()));\n\n          case 2:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function fetchConfigurator(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar isValidConf = function isValidConf(maybeConf) {\n  return maybeConf && maybeConf.remoteEntry && typeof maybeConf.remoteEntry === \'string\' && maybeConf.scope && typeof maybeConf.scope === \'string\' && maybeConf.module && typeof maybeConf.module === \'string\';\n};\n\nvar maybeGetFederatedConfiguratorForConnector = /*#__PURE__*/function () {\n  var _ref3 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee3(config, connector) {\n    var maybeConfiguration;\n    return runtime_1.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            console.log(\'Fetched federated configurator remotes configuration\', config);\n            maybeConfiguration = config[connector.id];\n            console.log("Candidate configuration for \\"" + connector.id + "\\"", maybeConfiguration);\n\n            if (maybeConfiguration) {\n              _context3.next = 6;\n              break;\n            }\n\n            console.log("Couldn\'t find any configuration for the requested connector");\n            return _context3.abrupt("return", Promise.reject());\n\n          case 6:\n            if (!isValidConf(maybeConfiguration)) {\n              _context3.next = 9;\n              break;\n            }\n\n            console.log(\'Found a generic configuration for the connector\', maybeConfiguration);\n            return _context3.abrupt("return", maybeConfiguration);\n\n          case 9:\n            console.log("Couldn\'t find a valid configuration for the requested connector");\n            return _context3.abrupt("return", Promise.reject());\n\n          case 11:\n          case "end":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function maybeGetFederatedConfiguratorForConnector(_x4, _x5) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar injectFederatedModuleScript = /*#__PURE__*/function () {\n  var _ref4 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee4(url) {\n    return runtime_1.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt("return", new Promise(function (resolve, reject) {\n              var element = document.createElement(\'script\');\n              element.src = url;\n              element.type = \'text/javascript\';\n              element.async = true;\n\n              element.onload = function () {\n                console.log("Dynamic federated module loaded: " + url);\n                document.head.removeChild(element);\n                resolve();\n              };\n\n              element.onerror = function () {\n                console.error("Dynamic federated module Error: " + url);\n                console.log("Dynamic federated module Removed: " + url);\n                document.head.removeChild(element);\n                reject();\n              };\n\n              document.head.appendChild(element);\n            }));\n\n          case 1:\n          case "end":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function injectFederatedModuleScript(_x6) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nfunction loadFederatedConfigurator(_x7, _x8) {\n  return _loadFederatedConfigurator.apply(this, arguments);\n}\n\nfunction _loadFederatedConfigurator() {\n  _loadFederatedConfigurator = _asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee5(scope, module) {\n    var container, factory, federatedConfigurationConfig;\n    return runtime_1.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return __webpack_require__.I(\'default\');\n\n          case 2:\n            container = window[scope]; // or get the container somewhere else\n            // Initialize the container, it may provide shared modules\n\n            _context5.next = 5;\n            return container.init(__webpack_require__.S["default"]);\n\n          case 5:\n            _context5.next = 7;\n            return window[scope].get(module);\n\n          case 7:\n            factory = _context5.sent;\n            federatedConfigurationConfig = factory();\n            console.log("loaded federated configurator configuration from " + scope, federatedConfigurationConfig);\n            return _context5.abrupt("return", federatedConfigurationConfig["default"]);\n\n          case 11:\n          case "end":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _loadFederatedConfigurator.apply(this, arguments);\n}\n\nvar CreateConnectorPage = function CreateConnectorPage(_ref) {\n  var onSave = _ref.onSave,\n      onClose = _ref.onClose;\n\n  var _useConfig = (0,dist_esm_index_js_.useConfig)(),\n      cos = _useConfig.cos;\n\n  var _useAppContext = useAppContext(),\n      basePath = _useAppContext.basePath,\n      getToken = _useAppContext.getToken;\n\n  return index_js_default().createElement(esm_index_js_.PageSection, {\n    padding: {\n      "default": \'noPadding\'\n    }\n  }, index_js_default().createElement(machines_esm.CreationWizardMachineProvider, {\n    accessToken: getToken,\n    basePath: basePath,\n    fetchConfigurator: function fetchConfigurator$1(connector) {\n      return fetchConfigurator(connector, cos.configurators);\n    },\n    onSave: onSave\n  }, index_js_default().createElement(dist.CreationWizard, {\n    onClose: onClose\n  })));\n};\n\nvar CosUiRoutes = function CosUiRoutes(_ref) {\n  var getToken = _ref.getToken,\n      apiBasepath = _ref.apiBasepath;\n\n  var _useTranslation = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation.t;\n\n  var _useAlert = (0,dist_esm_index_js_.useAlert)(),\n      addAlert = _useAlert.addAlert;\n\n  var history = (0,react_router_dom_js_.useHistory)();\n  var goToConnectorsList = (0,index_js_.useCallback)(function () {\n    return history.push(\'/\');\n  }, [history]);\n  var goToCreateConnector = (0,index_js_.useCallback)(function () {\n    return history.push(\'/create-connector\');\n  }, [history]);\n  var onConnectorSave = (0,index_js_.useCallback)(function () {\n    addAlert({\n      id: \'connector-created\',\n      variant: dist_esm_index_js_.AlertVariant.success,\n      title: t(\'wizard.creation-success\')\n    });\n    goToConnectorsList();\n  }, [addAlert, goToConnectorsList, t]);\n  return index_js_default().createElement(AppContextProvider, {\n    getToken: getToken,\n    basePath: apiBasepath\n  }, index_js_default().createElement(react_router_dom_js_.Switch, null, index_js_default().createElement(react_router_dom_js_.Route, {\n    path: \'/\',\n    exact: true\n  }, index_js_default().createElement(ConnectedConnectorsPage, {\n    onCreateConnector: goToCreateConnector\n  })), index_js_default().createElement(react_router_dom_js_.Route, {\n    path: \'/create-connector\'\n  }, index_js_default().createElement(CreateConnectorPage, {\n    onSave: onConnectorSave,\n    onClose: goToConnectorsList\n  }))));\n};\n\nvar Alerts = function Alerts(_ref) {\n  var alerts = _ref.alerts,\n      onCloseAlert = _ref.onCloseAlert;\n  return React__default.createElement(AlertGroup, {\n    isToast: true\n  }, alerts.map(function (_ref2) {\n    var id = _ref2.id,\n        variant = _ref2.variant,\n        title = _ref2.title,\n        description = _ref2.description,\n        dataTestId = _ref2.dataTestId,\n        rest = _objectWithoutPropertiesLoose(_ref2, ["id", "variant", "title", "description", "dataTestId"]);\n\n    return React__default.createElement(Alert, _extends({\n      key: id,\n      isLiveRegion: true,\n      variant: AlertVariant$1[variant],\n      variantLabel: "",\n      title: title,\n      actionClose: React__default.createElement(AlertActionCloseButton, {\n        title: title,\n        onClose: function onClose() {\n          return onCloseAlert(id);\n        }\n      }),\n      "data-testid": dataTestId\n    }, rest), description);\n  }));\n};\n\nvar AlertProvider = function AlertProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState([]),\n      alerts = _useState[0],\n      setAlerts = _useState[1];\n\n  var _useState2 = useState([]),\n      timers = _useState2[0],\n      setTimers = _useState2[1];\n\n  useEffect(function () {\n    var timersKeys = timers.map(function (timer) {\n      return timer.key;\n    });\n    var timeOuts = alerts.filter(function (alert) {\n      return !timersKeys.includes(alert == null ? void 0 : alert.id);\n    }).map(function (alert) {\n      var _alert$id = alert.id,\n          id = _alert$id === void 0 ? \'\' : _alert$id;\n      var timeOut = setTimeout(function () {\n        return hideAlert(id);\n      }, 8000);\n      return {\n        key: alert.id,\n        timeOut: timeOut\n      };\n    });\n    setTimers([].concat(timers, timeOuts));\n    return function () {\n      return timers.forEach(function (timer) {\n        return (timer == null ? void 0 : timer.timeOut) && clearTimeout(timer.timeOut);\n      });\n    };\n  }, [alerts]);\n\n  var createId = function createId() {\n    return new Date().getTime();\n  };\n\n  var hideAlert = function hideAlert(key) {\n    setAlerts(function (alerts) {\n      return [].concat(alerts.filter(function (el) {\n        return el.id !== key;\n      }));\n    });\n    setTimers(function (timers) {\n      return [].concat(timers.filter(function (timer) {\n        return timer.key === key;\n      }));\n    });\n  };\n\n  var addAlert = function addAlert(props) {\n    var id = createId().toString();\n    setAlerts([].concat(alerts, [_extends({}, props, {\n      id: id\n    })]));\n  };\n\n  return React__default.createElement(AlertContext.Provider, {\n    value: {\n      addAlert: addAlert\n    }\n  }, React__default.createElement(Alerts, {\n    alerts: alerts,\n    onCloseAlert: hideAlert\n  }), children);\n};\n\nvar keycloak$1;\nvar DemoApp = function DemoApp() {\n  var _keycloak;\n\n  var _useState = useState(false),\n      initialized = _useState[0],\n      setInitialized = _useState[1]; // Initialize the client\n\n\n  useEffect(function () {\n    var init = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee() {\n        return runtime_1.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getKeycloakInstance();\n\n              case 2:\n                keycloak$1 = _context.sent;\n                setInitialized(true);\n\n              case 4:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function init() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    init();\n  }, []);\n  var config = {\n    cos: {\n      apiBasePath: "https://cos-fm.apps.kammellol.rhmw-integrations.net",\n      configurators: {\n        \'debezium-mongodb-1.5.0.Final\': {\n          remoteEntry: \'https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js\',\n          scope: \'debezium_ui\',\n          module: \'./config\'\n        },\n        \'debezium-mysql-1.5.0.Final\': {\n          remoteEntry: \'https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js\',\n          scope: \'debezium_ui\',\n          module: \'./config\'\n        },\n        \'debezium-postgres-1.5.0.Final\': {\n          remoteEntry: \'https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js\',\n          scope: \'debezium_ui\',\n          module: \'./config\'\n        }\n      }\n    }\n  };\n  return React__default.createElement(KeycloakContext.Provider, {\n    value: {\n      keycloak: keycloak$1,\n      profile: (_keycloak = keycloak$1) == null ? void 0 : _keycloak.profile\n    }\n  }, React__default.createElement(KeycloakAuthProvider, null, React__default.createElement(ConfigContext.Provider, {\n    value: config\n  }, React__default.createElement(I18nextProvider, {\n    i18n: i18n\n  }, React__default.createElement(AlertProvider, null, React__default.createElement(React__default.Suspense, {\n    fallback: React__default.createElement(Loading, null)\n  }, React__default.createElement(BrowserRouter, null, React__default.createElement(AppLayout, null, initialized ? React__default.createElement(ConnectedRoutes, null) : React__default.createElement(Spinner, null)))))))));\n};\n\nvar ConnectedRoutes = function ConnectedRoutes() {\n  var auth = useAuth();\n\n  var _useConfig = useConfig(),\n      cos = _useConfig.cos;\n\n  return React__default.createElement(CosUiRoutes, {\n    getToken: auth.kas.getToken,\n    apiBasepath: cos.apiBasePath\n  });\n};\n\nvar FederatedApp = function FederatedApp() {\n  var _useConfig = (0,dist_esm_index_js_.useConfig)(),\n      cos = _useConfig.cos;\n\n  var _useAuth = (0,dist_esm_index_js_.useAuth)(),\n      kas = _useAuth.kas;\n\n  var _useBasename = (0,dist_esm_index_js_.useBasename)(),\n      getBasename = _useBasename.getBasename;\n\n  return index_js_default().createElement(es_index_js_.I18nextProvider, {\n    i18n: (i18next_js_default())\n  }, index_js_default().createElement((index_js_default()).Suspense, {\n    fallback: index_js_default().createElement(utils_esm.Loading, null)\n  }, index_js_default().createElement(react_router_dom_js_.BrowserRouter, {\n    basename: getBasename()\n  }, index_js_default().createElement(CosUiRoutes, {\n    getToken: kas.getToken,\n    apiBasepath: cos.apiBasePath\n  }))));\n};\n\n\n//# sourceMappingURL=app.esm.js.map\n\n;// CONCATENATED MODULE: ./src/federated.ts\n\n/* harmony default export */ const federated = (FederatedApp);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uL3BhY2thZ2VzL2FwcC9kaXN0L2FwcC5lc20uanM/MDExMSIsIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4vc3JjL2ZlZGVyYXRlZC50cz9jOWQ1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEc7QUFDb2hCO0FBQzdmO0FBQzlDO0FBQ0k7QUFDUztBQUN2RTtBQUNnQjtBQUNxQjtBQUM3QjtBQUN1SjtBQUMzSTtBQUNxQztBQUNrQztBQUM3RDs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGFBQWEsdUJBQXVCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsWUFBWSxFQUFFO0FBQ2hDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQjs7QUFFcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWU7QUFDZixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFD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QSxHQUFHLEVBQUUsZ0NBQTRCO0FBQ2pDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRWlDO0FBQ2pDOzs7QUMxcEUyQztBQUUzQyxnREFBZSxZQUFZLEVBQUMiLCJmaWxlIjoiNzE0ODcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3RfX2RlZmF1bHQsIHsgdXNlU3RhdGUsIGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVJlZiwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFBhZ2VIZWFkZXJUb29scywgUGFnZUhlYWRlciwgTmF2LCBOYXZMaXN0LCBOYXZJdGVtLCBQYWdlU2lkZWJhciwgUGFnZSwgRHJhd2VyLCBEcmF3ZXJDb250ZW50LCBEcmF3ZXJQYW5lbENvbnRlbnQsIERyYXdlckhlYWQsIFRleHRDb250ZW50LCBUZXh0LCBUZXh0VmFyaWFudHMsIFRpdGxlLCBUaXRsZVNpemVzLCBEcmF3ZXJBY3Rpb25zLCBEcmF3ZXJDbG9zZUJ1dHRvbiwgRHJhd2VyUGFuZWxCb2R5LCBUYWJzLCBUYWIsIFRhYlRpdGxlVGV4dCwgVGV4dExpc3QsIFRleHRMaXN0VmFyaWFudHMsIFRleHRMaXN0SXRlbSwgVGV4dExpc3RJdGVtVmFyaWFudHMsIFNwaW5uZXIsIFRvb2xiYXJJdGVtLCBJbnB1dEdyb3VwLCBUZXh0SW5wdXQsIEJ1dHRvbiwgVG9vbGJhclRvZ2dsZUdyb3VwLCBUb29sYmFyR3JvdXAsIFBhZ2luYXRpb24sIFRvb2xiYXIsIFRvb2xiYXJDb250ZW50LCBNb2RhbCwgTW9kYWxWYXJpYW50LCBTdGFjaywgU3RhY2tJdGVtLCBQYWdlU2VjdGlvbiwgRmxleCwgRmxleEl0ZW0sIEJ1dHRvblZhcmlhbnQsIEFsZXJ0R3JvdXAsIEFsZXJ0LCBBbGVydFZhcmlhbnQgYXMgQWxlcnRWYXJpYW50JDEsIEFsZXJ0QWN0aW9uQ2xvc2VCdXR0b24gfSBmcm9tICdAcGF0dGVybmZseS9yZWFjdC1jb3JlJztcbmltcG9ydCB7IEF1dGhDb250ZXh0LCB1c2VBbGVydCwgQWxlcnRWYXJpYW50LCB1c2VDb25maWcsIEFsZXJ0Q29udGV4dCwgQ29uZmlnQ29udGV4dCwgdXNlQXV0aCwgdXNlQmFzZW5hbWUgfSBmcm9tICdAYmYyL3VpLXNoYXJlZCc7XG5pbXBvcnQgeyBOYXZMaW5rLCB1c2VIaXN0b3J5LCBTd2l0Y2gsIFJvdXRlLCBCcm93c2VyUm91dGVyIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyBpbml0UmVhY3RJMThuZXh0LCB1c2VUcmFuc2xhdGlvbiwgVHJhbnMsIEkxOG5leHRQcm92aWRlciB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgdXNlRGVib3VuY2UsIExvYWRpbmcsIEVtcHR5U3RhdGUsIEVtcHR5U3RhdGVWYXJpYW50LCBOb01hdGNoRm91bmQgfSBmcm9tICdAY29zLXVpL3V0aWxzJztcbmltcG9ydCBpMThuIGZyb20gJ2kxOG5leHQnO1xuaW1wb3J0IEJhY2tlbmQgZnJvbSAnaTE4bmV4dC1odHRwLWJhY2tlbmQnO1xuaW1wb3J0IExhbmd1YWdlRGV0ZWN0b3IgZnJvbSAnaTE4bmV4dC1icm93c2VyLWxhbmd1YWdlZGV0ZWN0b3InO1xuaW1wb3J0IEtleWNsb2FrIGZyb20gJ2tleWNsb2FrLWpzJztcbmltcG9ydCB7IHVzZUNvbm5lY3RvcnNNYWNoaW5lU2VydmljZSwgdXNlQ29ubmVjdG9yc01hY2hpbmUsIHVzZUNvbm5lY3RvciwgQ29ubmVjdG9yc01hY2hpbmVQcm92aWRlciwgdXNlQ29ubmVjdG9yc01hY2hpbmVJc1JlYWR5LCBDcmVhdGlvbldpemFyZE1hY2hpbmVQcm92aWRlciB9IGZyb20gJ0Bjb3MtdWkvbWFjaGluZXMnO1xuaW1wb3J0IHsgY3NzIH0gZnJvbSAnQHBhdHRlcm5mbHkvcmVhY3Qtc3R5bGVzJztcbmltcG9ydCB7IFRhYmxlQ29tcG9zYWJsZSwgVGhlYWQsIFRyLCBUaCwgVGJvZHksIFRkIH0gZnJvbSAnQHBhdHRlcm5mbHkvcmVhY3QtdGFibGUnO1xuaW1wb3J0IHsgUGVuZGluZ0ljb24sIEV4Y2xhbWF0aW9uQ2lyY2xlSWNvbiwgQ2hlY2tDaXJjbGVJY29uLCBTZWFyY2hJY29uLCBGaWx0ZXJJY29uIH0gZnJvbSAnQHBhdHRlcm5mbHkvcmVhY3QtaWNvbnMnO1xuaW1wb3J0IHsgQ3JlYXRpb25XaXphcmQgfSBmcm9tICdAY29zLXVpL2NyZWF0aW9uLXdpemFyZCc7XG5cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUoZm4sIG1vZHVsZSkge1xuXHRyZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7XG59XG5cbnZhciBydW50aW1lXzEgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuICAvKipcbiAgICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gICAqXG4gICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICAgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gICAqL1xuICB2YXIgcnVudGltZSA9IGZ1bmN0aW9uIChleHBvcnRzKSB7XG5cbiAgICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICAgIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgICB2YXIgdW5kZWZpbmVkJDE7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuXG4gICAgdmFyICRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2wgOiB7fTtcbiAgICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICAgIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gICAgdmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjtcblxuICAgIGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG9ialtrZXldO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBJRSA4IGhhcyBhIGJyb2tlbiBPYmplY3QuZGVmaW5lUHJvcGVydHkgdGhhdCBvbmx5IHdvcmtzIG9uIERPTSBvYmplY3RzLlxuICAgICAgZGVmaW5lKHt9LCBcIlwiKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGRlZmluZSA9IGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG9ialtrZXldID0gdmFsdWU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpO1xuICAgICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7IC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy5cblxuICAgICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgICB9XG5cbiAgICBleHBvcnRzLndyYXAgPSB3cmFwOyAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmVcbiAgICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gICAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAgIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcbiAgICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAgIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAgIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2hcbiAgICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG5cbiAgICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogXCJub3JtYWxcIixcbiAgICAgICAgICBhcmc6IGZuLmNhbGwob2JqLCBhcmcpXG4gICAgICAgIH07XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBcInRocm93XCIsXG4gICAgICAgICAgYXJnOiBlcnJcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCA9IFwic3VzcGVuZGVkWWllbGRcIjtcbiAgICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICAgIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7IC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG5cbiAgICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9OyAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmRcbiAgICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAgIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuXG5cbiAgICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuXG4gICAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuXG4gICAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fSAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gICAgLy8gZG9uJ3QgbmF0aXZlbHkgc3VwcG9ydCBpdC5cblxuXG4gICAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5cbiAgICBJdGVyYXRvclByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICAgIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcblxuICAgIGlmIChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJiBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiYgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgICAgLy8gVGhpcyBlbnZpcm9ubWVudCBoYXMgYSBuYXRpdmUgJUl0ZXJhdG9yUHJvdG90eXBlJTsgdXNlIGl0IGluc3RlYWRcbiAgICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gICAgfVxuXG4gICAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID0gR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuICAgIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdwLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIik7IC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gICAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cblxuICAgIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgICAgZGVmaW5lKHByb3RvdHlwZSwgbWV0aG9kLCBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24gKGdlbkZ1bikge1xuICAgICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgICAgcmV0dXJuIGN0b3IgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fCAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCIgOiBmYWxzZTtcbiAgICB9O1xuXG4gICAgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24gKGdlbkZ1bikge1xuICAgICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICAgIGRlZmluZShnZW5GdW4sIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpO1xuICAgICAgfVxuXG4gICAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgICByZXR1cm4gZ2VuRnVuO1xuICAgIH07IC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAgIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gICAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAgIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuXG5cblxuICAgIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBfX2F3YWl0OiBhcmdcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7XG5cbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICByZWplY3QocmVjb3JkLmFyZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuXG4gICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbiAodW53cmFwcGVkKSB7XG4gICAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIElmIGEgcmVqZWN0ZWQgUHJvbWlzZSB3YXMgeWllbGRlZCwgdGhyb3cgdGhlIHJlamVjdGlvbiBiYWNrXG4gICAgICAgICAgICAvLyBpbnRvIHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGhhbmRsZWQgdGhlcmUuXG4gICAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPSAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgIC8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci5cbiAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcpIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTtcbiAgICAgIH0gLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gKHNlZSBkZWZpbmVJdGVyYXRvck1ldGhvZHMpLlxuXG5cbiAgICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7XG4gICAgfVxuXG4gICAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcblxuICAgIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIGV4cG9ydHMuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7IC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cblxuICAgIGV4cG9ydHMuYXN5bmMgPSBmdW5jdGlvbiAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7XG4gICAgICBpZiAoUHJvbWlzZUltcGwgPT09IHZvaWQgMCkgUHJvbWlzZUltcGwgPSBQcm9taXNlO1xuICAgICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcih3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSwgUHJvbWlzZUltcGwpO1xuICAgICAgcmV0dXJuIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKSA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgICB9IC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuXG5cbiAgICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcblxuICAgICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcbiAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lID8gR2VuU3RhdGVDb21wbGV0ZWQgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7IC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG5cbiAgICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAgIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cblxuXG4gICAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcblxuICAgICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkJDEpIHtcbiAgICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgLy8gTm90ZTogW1wicmV0dXJuXCJdIG11c3QgYmUgdXNlZCBmb3IgRVMzIHBhcnNpbmcgY29tcGF0aWJpbGl0eS5cbiAgICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAgIC8vIGNoYW5jZSB0byBjbGVhbiB1cC5cbiAgICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkJDE7XG4gICAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb21cbiAgICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICAgIGlmICghaW5mbykge1xuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7XG4gICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgICAvLyB2YXJpYWJsZSBzcGVjaWZpZWQgYnkgZGVsZWdhdGUucmVzdWx0TmFtZSAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTsgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuXG4gICAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7IC8vIElmIGNvbnRleHQubWV0aG9kIHdhcyBcInRocm93XCIgYnV0IHRoZSBkZWxlZ2F0ZSBoYW5kbGVkIHRoZVxuICAgICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAgIC8vIFwiY29uc3VtZWRcIiBieSB0aGUgZGVsZWdhdGUgaXRlcmF0b3IuIElmIGNvbnRleHQubWV0aG9kIHdhc1xuICAgICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCQxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuXG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgfSAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aFxuICAgICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cblxuXG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0gLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG5cblxuICAgIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG4gICAgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JcIik7IC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gICAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgICAvLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvclxuICAgIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIEdwLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgICB2YXIgZW50cnkgPSB7XG4gICAgICAgIHRyeUxvYzogbG9jc1swXVxuICAgICAgfTtcblxuICAgICAgaWYgKDEgaW4gbG9jcykge1xuICAgICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgICB9XG5cbiAgICAgIGlmICgyIGluIGxvY3MpIHtcbiAgICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHtcbiAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgICAgZGVsZXRlIHJlY29yZC5hcmc7XG4gICAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgICAgLy8gbG9jYXRpb25zIHdoZXJlIHRoZXJlIGlzIG5vIGVuY2xvc2luZyB0cnkgc3RhdGVtZW50LlxuICAgICAgdGhpcy50cnlFbnRyaWVzID0gW3tcbiAgICAgICAgdHJ5TG9jOiBcInJvb3RcIlxuICAgICAgfV07XG4gICAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgICB0aGlzLnJlc2V0KHRydWUpO1xuICAgIH1cblxuICAgIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIHZhciBrZXlzID0gW107XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICB9XG5cbiAgICAgIGtleXMucmV2ZXJzZSgpOyAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi5cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuXG4gICAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG5cblxuICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcblxuICAgICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICAgIHZhciBpID0gLTEsXG4gICAgICAgICAgICAgIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSB7XG4gICAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5leHQudmFsdWUgPSB1bmRlZmluZWQkMTtcbiAgICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGRvbmVSZXN1bHRcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZXhwb3J0cy52YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCQxLFxuICAgICAgICBkb25lOiB0cnVlXG4gICAgICB9O1xuICAgIH1cblxuICAgIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgICAgY29uc3RydWN0b3I6IENvbnRleHQsXG4gICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoc2tpcFRlbXBSZXNldCkge1xuICAgICAgICB0aGlzLnByZXYgPSAwO1xuICAgICAgICB0aGlzLm5leHQgPSAwOyAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuXG4gICAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQkMTtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZCQxO1xuICAgICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZCQxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgICAgfSxcbiAgICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihleGNlcHRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcblxuICAgICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcbiAgICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICAgIGlmIChjYXVnaHQpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkJDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuICEhY2F1Z2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgICAgLy8gaXQsIHNvIHNldCB0aGUgY29tcGxldGlvbiB2YWx1ZSBvZiB0aGUgZW50aXJlIGZ1bmN0aW9uIHRvXG4gICAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgICB2YXIgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XG5cbiAgICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0eXBlLCBhcmcpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcblxuICAgICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiYgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJiAodHlwZSA9PT0gXCJicmVha1wiIHx8IHR5cGUgPT09IFwiY29udGludWVcIikgJiYgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiYgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgICB9LFxuICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHwgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICAgIHRoaXMubmV4dCA9IHJlY29yZC5hcmc7XG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgdGhpcy5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfSxcbiAgICAgIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKGZpbmFsbHlMb2MpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcblxuICAgICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJjYXRjaFwiOiBmdW5jdGlvbiBfY2F0Y2godHJ5TG9jKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG5cbiAgICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcbiAgICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG5cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgICB9LFxuICAgICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24gZGVsZWdhdGVZaWVsZChpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS5cbiAgICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZCQxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG4gICAgfTsgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAgIC8vIG9yIG5vdCwgcmV0dXJuIHRoZSBydW50aW1lIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBkZWNsYXJlIHRoZSB2YXJpYWJsZVxuICAgIC8vIHJlZ2VuZXJhdG9yUnVudGltZSBpbiB0aGUgb3V0ZXIgc2NvcGUsIHdoaWNoIGFsbG93cyB0aGlzIG1vZHVsZSB0byBiZVxuICAgIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG5cbiAgICByZXR1cm4gZXhwb3J0cztcbiAgfSggLy8gSWYgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlLCB1c2UgbW9kdWxlLmV4cG9ydHNcbiAgLy8gYXMgdGhlIHJlZ2VuZXJhdG9yUnVudGltZSBuYW1lc3BhY2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZW1wdHlcbiAgLy8gb2JqZWN0LiBFaXRoZXIgd2F5LCB0aGUgcmVzdWx0aW5nIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAvLyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIHZhcmlhYmxlIGF0IHRoZSB0b3Agb2YgdGhpcyBmaWxlLlxuICAgbW9kdWxlLmV4cG9ydHMgKTtcblxuICB0cnkge1xuICAgIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG4gIH0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gICAgLy8gVGhpcyBtb2R1bGUgc2hvdWxkIG5vdCBiZSBydW5uaW5nIGluIHN0cmljdCBtb2RlLCBzbyB0aGUgYWJvdmVcbiAgICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3RcbiAgICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIHdlIGNhbiBlc2NhcGVcbiAgICAvLyBzdHJpY3QgbW9kZSB1c2luZyBhIGdsb2JhbCBGdW5jdGlvbiBjYWxsLiBUaGlzIGNvdWxkIGNvbmNlaXZhYmx5IGZhaWxcbiAgICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2VcbiAgICAvLyB0aGUgcHJvcGVyIHNvbHV0aW9uIGlzIHRvIGZpeCB0aGUgYWNjaWRlbnRhbCBzdHJpY3QgbW9kZSBwcm9ibGVtLiBJZlxuICAgIC8vIHlvdSd2ZSBtaXNjb25maWd1cmVkIHlvdXIgYnVuZGxlciB0byBmb3JjZSBzdHJpY3QgbW9kZSBhbmQgYXBwbGllZCBhXG4gICAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXG4gICAgLy8gcHJvYmxlbXMsIHBsZWFzZSBkZXRhaWwgeW91ciB1bmlxdWUgcHJlZGljYW1lbnQgaW4gYSBHaXRIdWIgaXNzdWUuXG4gICAgRnVuY3Rpb24oXCJyXCIsIFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShydW50aW1lKTtcbiAgfVxufSk7XG5cbi8vIGhhdmUgYSBsb29rIGF0IHRoZSBRdWljayBzdGFydCBndWlkZSBcbi8vIGZvciBwYXNzaW5nIGluIGxuZyBhbmQgdHJhbnNsYXRpb25zIG9uIGluaXRcblxuaTE4biAvLyBsb2FkIHRyYW5zbGF0aW9uIHVzaW5nIGh0dHAgLT4gc2VlIC9wdWJsaWMvbG9jYWxlcyAoaS5lLiBodHRwczovL2dpdGh1Yi5jb20vaTE4bmV4dC9yZWFjdC1pMThuZXh0L3RyZWUvbWFzdGVyL2V4YW1wbGUvcmVhY3QvcHVibGljL2xvY2FsZXMpXG4vLyBsZWFybiBtb3JlOiBodHRwczovL2dpdGh1Yi5jb20vaTE4bmV4dC9pMThuZXh0LWh0dHAtYmFja2VuZFxuLnVzZShCYWNrZW5kKSAvLyBkZXRlY3QgdXNlciBsYW5ndWFnZVxuLy8gbGVhcm4gbW9yZTogaHR0cHM6Ly9naXRodWIuY29tL2kxOG5leHQvaTE4bmV4dC1icm93c2VyLWxhbmd1YWdlRGV0ZWN0b3Jcbi51c2UoTGFuZ3VhZ2VEZXRlY3RvcikgLy8gcGFzcyB0aGUgaTE4biBpbnN0YW5jZSB0byByZWFjdC1pMThuZXh0LlxuLnVzZShpbml0UmVhY3RJMThuZXh0KSAvLyBpbml0IGkxOG5leHRcbi8vIGZvciBhbGwgb3B0aW9ucyByZWFkOiBodHRwczovL3d3dy5pMThuZXh0LmNvbS9vdmVydmlldy9jb25maWd1cmF0aW9uLW9wdGlvbnNcbi5pbml0KHtcbiAgLy8gQ29tbWVudGluZyBpdCBhcyB3ZSBoYXZlIGZhbGxiYWNrTG5nIGZvciBjYXNlIG9mIGxhbmd1YWdlIGRldGVjdGVkIGFzIGVuLUdCIG9yIGVuLVVTXG4gIC8vIHN1cHBvcnRlZExuZ3M6IFsnZW4nLCdpdCddLFxuICBiYWNrZW5kOiB7XG4gICAgbG9hZFBhdGg6IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJsb2NhbGVzL3t7bG5nfX0ve3tuc319Lmpzb25cIlxuICB9LFxuICBmYWxsYmFja0xuZzogJ2VuJyxcbiAgbG9hZDogJ2FsbCcsXG4gIGRlYnVnOiB0cnVlLFxuICAvLyBhZGQgYW55IG5hbWVzcGFjZXMgeW91J3JlIHVzaW5nIGhlcmUgZm9yIGxvYWRpbmcgcHVycG9zZXNcbiAgbnM6IFsncHVibGljJ10sXG4gIGRlZmF1bHROUzogJ3B1YmxpYycsXG4gIG5zU2VwYXJhdG9yOiAnOicsXG4gIGtleVNlcGFyYXRvcjogJy4nLFxuICByZWFjdDoge1xuICAgIHVzZVN1c3BlbnNlOiB0cnVlLFxuICAgIHdhaXQ6IHRydWVcbiAgfSxcbiAgaW50ZXJwb2xhdGlvbjoge1xuICAgIGRlZmF1bHRWYXJpYWJsZXM6IHVuZGVmaW5lZCxcbiAgICBlc2NhcGVWYWx1ZTogZmFsc2UgLy8gbm90IG5lZWRlZCBmb3IgcmVhY3QgYXMgaXQgZXNjYXBlcyBieSBkZWZhdWx0XG5cbiAgfVxufSk7XG5cbnZhciBrZXljbG9haztcbi8qKlxyXG4gKiBHZXQga2V5Y2xvYWsgaW5zdGFuY2VcclxuICpcclxuICogQHJldHVybiBhbiBpbml0aWF0ZWQga2V5Y2xvYWsgaW5zdGFuY2Ugb3IgYHVuZGVmaW5lZGBcclxuICogaWYga2V5Y2xvYWsgaXNuJ3QgY29uZmlndXJlZFxyXG4gKlxyXG4gKi9cblxudmFyIGdldEtleWNsb2FrSW5zdGFuY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZiA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3J1bnRpbWVfMS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgcmV0dXJuIHJ1bnRpbWVfMS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgaWYgKGtleWNsb2FrKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7XG4gICAgICAgICAgICByZXR1cm4gaW5pdCgpO1xuXG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBrZXljbG9hayk7XG5cbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWUpO1xuICB9KSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGdldEtleWNsb2FrSW5zdGFuY2UoKSB7XG4gICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKTtcbi8qKlxyXG4gKiBJbml0aWF0ZSBrZXljbG9hayBpbnN0YW5jZS5cclxuICpcclxuICogU2V0IGtleWNsb2FrIHRvIHVuZGVmaW5lZCBpZlxyXG4gKiBrZXljbG9hayBpc24ndCBjb25maWd1cmVkXHJcbiAqXHJcbiAqL1xuXG52YXIgaW5pdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIHZhciBfcmVmMiA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3J1bnRpbWVfMS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkge1xuICAgIHJldHVybiBydW50aW1lXzEud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7XG4gICAgICAgICAgICBrZXljbG9hayA9IG5ldyBLZXljbG9hayh7XG4gICAgICAgICAgICAgIHJlYWxtOiAncmVkaGF0LWV4dGVybmFsJyxcbiAgICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9zc28ucmVkaGF0LmNvbS9hdXRoLycsXG4gICAgICAgICAgICAgIGNsaWVudElkOiAnY2xvdWQtc2VydmljZXMnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFrZXljbG9haykge1xuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7XG4gICAgICAgICAgICByZXR1cm4ga2V5Y2xvYWsuaW5pdCh7XG4gICAgICAgICAgICAgIG9uTG9hZDogJ2xvZ2luLXJlcXVpcmVkJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDc7XG4gICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbXCJjYXRjaFwiXSgwKTtcbiAgICAgICAgICAgIGtleWNsb2FrID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdBdXRoOiBVbmFibGUgdG8gaW5pdGlhbGl6ZSBrZXljbG9hay4gQ2xpZW50IHNpZGUgd2lsbCBub3QgYmUgY29uZmlndXJlZCB0byB1c2UgYXV0aGVudGljYXRpb24nLCBfY29udGV4dDIudDApO1xuXG4gICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzAsIDddXSk7XG4gIH0pKTtcblxuICByZXR1cm4gZnVuY3Rpb24gaW5pdCgpIHtcbiAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKTtcbi8qKlxyXG4gKiBVc2Uga2V5Y2xvYWsgdXBkYXRlIHRva2VuIGZ1bmN0aW9uIHRvIHJldHJpZXZlXHJcbiAqIGtleWNsb2FrIHRva2VuXHJcbiAqXHJcbiAqIEByZXR1cm4ga2V5Y2xvYWsgdG9rZW4gb3IgZW1wdHkgc3RyaW5nIGlmIGtleWNsb2FrXHJcbiAqIGlzbid0IGNvbmZpZ3VyZWRcclxuICpcclxuICovXG5cbnZhciBnZXRLZXlDbG9ha1Rva2VuID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWY0ID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcnVudGltZV8xLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7XG4gICAgdmFyIF9rZXljbG9haywgX2tleWNsb2FrMjtcblxuICAgIHJldHVybiBydW50aW1lXzEud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7XG4gICAgICAgICAgICByZXR1cm4gKF9rZXljbG9hayA9IGtleWNsb2FrKSA9PSBudWxsID8gdm9pZCAwIDogX2tleWNsb2FrLnVwZGF0ZVRva2VuKDUwKTtcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGlmICghKChfa2V5Y2xvYWsyID0ga2V5Y2xvYWspID09IG51bGwgPyB2b2lkIDAgOiBfa2V5Y2xvYWsyLnRva2VuKSkge1xuICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdChcInJldHVyblwiLCBrZXljbG9hay50b2tlbik7XG5cbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdObyBrZXljbG9hayB0b2tlbiBhdmFpbGFibGUnKTtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KFwicmV0dXJuXCIsICdmb28nKTtcblxuICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWU0KTtcbiAgfSkpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBnZXRLZXlDbG9ha1Rva2VuKCkge1xuICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpO1xuLyoqXHJcbiAqIFVzZSBrZXljbG9hayB1cGRhdGUgdG9rZW4gZnVuY3Rpb24gdG8gcmV0cmlldmVcclxuICoga2V5Y2xvYWsgdG9rZW5cclxuICpcclxuICogQHJldHVybiBrZXljbG9hayB0b2tlbiBvciBlbXB0eSBzdHJpbmcgaWYga2V5Y2xvYWtcclxuICogaXNuJ3QgY29uZmlndXJlZFxyXG4gKlxyXG4gKi9cblxudmFyIGdldFBhcnNlZEtleUNsb2FrVG9rZW4gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZjUgPSAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9ydW50aW1lXzEubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHtcbiAgICB2YXIgX2tleWNsb2FrMywgX2tleWNsb2FrNDtcblxuICAgIHJldHVybiBydW50aW1lXzEud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7XG4gICAgICAgICAgICByZXR1cm4gKF9rZXljbG9hazMgPSBrZXljbG9haykgPT0gbnVsbCA/IHZvaWQgMCA6IF9rZXljbG9hazMudXBkYXRlVG9rZW4oNTApO1xuXG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgaWYgKCEoKF9rZXljbG9hazQgPSBrZXljbG9haykgPT0gbnVsbCA/IHZvaWQgMCA6IF9rZXljbG9hazQudG9rZW5QYXJzZWQpKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwicmV0dXJuXCIsIGtleWNsb2FrLnRva2VuUGFyc2VkKTtcblxuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIGtleWNsb2FrIHRva2VuIGF2YWlsYWJsZScpO1xuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIiwge30pO1xuXG4gICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTUpO1xuICB9KSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGdldFBhcnNlZEtleUNsb2FrVG9rZW4oKSB7XG4gICAgcmV0dXJuIF9yZWY1LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59KCk7XG5cbnZhciBLZXljbG9ha0NvbnRleHQgPSAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlQ29udGV4dCh7XG4gIGtleWNsb2FrOiB1bmRlZmluZWRcbn0pO1xudmFyIEtleWNsb2FrQXV0aFByb3ZpZGVyID0gZnVuY3Rpb24gS2V5Y2xvYWtBdXRoUHJvdmlkZXIocHJvcHMpIHtcbiAgdmFyIGdldFVzZXJuYW1lID0gZnVuY3Rpb24gZ2V0VXNlcm5hbWUoKSB7XG4gICAgcmV0dXJuIGdldFBhcnNlZEtleUNsb2FrVG9rZW4oKS50aGVuKGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgcmV0dXJuIHRva2VuWyd1c2VybmFtZSddO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBhdXRoVG9rZW5Db250ZXh0ID0ge1xuICAgIGthczoge1xuICAgICAgZ2V0VG9rZW46IGdldEtleUNsb2FrVG9rZW5cbiAgICB9LFxuICAgIGdldFVzZXJuYW1lOiBnZXRVc2VybmFtZVxuICB9O1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChBdXRoQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBhdXRoVG9rZW5Db250ZXh0XG4gIH0sIHByb3BzLmNoaWxkcmVuKTtcbn07XG5cbnZhciBsb2dvID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sJTIwdmVyc2lvbiUzRCUyMjEuMCUyMiUyMGVuY29kaW5nJTNEJTIyVVRGLTglMjIlM0YlM0UlM0NzdmclMjB3aWR0aCUzRCUyMjE3NXB4JTIyJTIwaGVpZ2h0JTNEJTIyMzJweCUyMiUyMHZpZXdCb3glM0QlMjIwJTIwMCUyMDE3NSUyMDMyJTIyJTIwdmVyc2lvbiUzRCUyMjEuMSUyMiUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIweG1sbnMlM0F4bGluayUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMTk5OSUyRnhsaW5rJTIyJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDdGl0bGUlM0VQYXR0ZXJuRmx5JTIwTG9nbyUzQyUyRnRpdGxlJTNFJTIwJTIwJTIwJTIwJTNDZGVzYyUzRUNyZWF0ZWQlMjB3aXRoJTIwU2tldGNoLiUzQyUyRmRlc2MlM0UlMjAlMjAlMjAlMjAlM0NkZWZzJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbGluZWFyR3JhZGllbnQlMjB4MSUzRCUyMjUwLjAwMDQ3NjklMjUlMjIlMjB5MSUzRCUyMjMuMDI0NzU1MDklMjUlMjIlMjB4MiUzRCUyMjUwLjAwMDQ3NjklMjUlMjIlMjB5MiUzRCUyMjk1LjM2MjAwODYlMjUlMjIlMjBpZCUzRCUyMmxpbmVhckdyYWRpZW50LTElMjIlM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NzdG9wJTIwc3RvcC1jb2xvciUzRCUyMiUyMzYwRUZGRiUyMiUyMG9mZnNldCUzRCUyMjAlMjUlMjIlM0UlM0MlMkZzdG9wJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDc3RvcCUyMHN0b3AtY29sb3IlM0QlMjIlMjMxRjg5QzclMjIlMjBvZmZzZXQlM0QlMjIxMDAlMjUlMjIlM0UlM0MlMkZzdG9wJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGbGluZWFyR3JhZGllbnQlM0UlMjAlMjAlMjAlMjAlM0MlMkZkZWZzJTNFJTIwJTIwJTIwJTIwJTNDZyUyMGlkJTNEJTIyU3ltYm9scyUyMiUyMHN0cm9rZSUzRCUyMm5vbmUlMjIlMjBzdHJva2Utd2lkdGglM0QlMjIxJTIyJTIwZmlsbCUzRCUyMm5vbmUlMjIlMjBmaWxsLXJ1bGUlM0QlMjJldmVub2RkJTIyJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDZyUyMGlkJTNEJTIyTmF2LWJhci0lMjhkZXNrdG9wJTI5JTIyJTIwdHJhbnNmb3JtJTNEJTIydHJhbnNsYXRlJTI4LTE1MC4wMDAwMDAlMkMlMjAtMTYuMDAwMDAwJTI5JTIyJTIwZmlsbC1ydWxlJTNEJTIybm9uemVybyUyMiUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ2clMjBpZCUzRCUyMlBhdHRlcm5GbHktTG9nbyUyMiUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ2clMjB0cmFuc2Zvcm0lM0QlMjJ0cmFuc2xhdGUlMjgxNTAuMDAwMDAwJTJDJTIwMTYuMDAwMDAwJTI5JTIyJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDZyUyMGlkJTNEJTIyR3JvdXAlMjIlMjB0cmFuc2Zvcm0lM0QlMjJ0cmFuc2xhdGUlMjg0NC43NDg4NTglMkMlMjAxMS4yMDAwMDAlMjklMjIlMjBmaWxsJTNEJTIyJTIzRkZGRkZGJTIyJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNMC4zMDIwNTQ3OTUlMkM5LjM0ODglMjBMMC4zMDIwNTQ3OTUlMkMwLjMyNjQlMjBMNC4xNjg4MzU2MiUyQzAuMzI2NCUyMEM0LjczODU4NDQ3JTJDMC4zMjY0JTIwNS4yMTcyMzc0NCUyQzAuNDA5NiUyMDUuNjA3MTkxNzglMkMwLjU3NDQlMjBDNS45OTcxNDYxMiUyQzAuNzQwOCUyMDYuMzEzNTg0NDclMkMwLjk1NzYlMjA2LjU1NjUwNjg1JTJDMS4yMjk2JTIwQzYuNzk5NDI5MjIlMkMxLjUwMDglMjA2Ljk3NDQyOTIyJTJDMS44MDQ4JTIwNy4wODE1MDY4NSUyQzIuMTQ1NiUyMEM3LjE4Nzc4NTM5JTJDMi40ODU2JTIwNy4yNDIxMjMyOSUyQzIuODI4OCUyMDcuMjQyMTIzMjklMkMzLjE3NjglMjBDNy4yNDIxMjMyOSUyQzMuMzkzNiUyMDcuMjE3MzUxNiUyQzMuNjE2JTIwNy4xNjU0MTA5NiUyQzMuODQwOCUyMEM3LjExNTA2ODQ5JTJDNC4wNjQlMjA3LjAzODM1NjE2JTJDNC4yODQlMjA2LjkzMzY3NTglMkM0LjQ5NiUyMEM2LjgyODE5NjM1JTJDNC43MDglMjA2LjY5NDc0ODg2JTJDNC45MDQ4JTIwNi41MzA5MzYwNyUyQzUuMDkxMiUyMEM2LjM2NzEyMzI5JTJDNS4yNzUyJTIwNi4xNzA1NDc5NSUyQzUuNDM4NCUyMDUuOTQyODA4MjIlMkM1LjU3ODQlMjBDNS43MTQyNjk0MSUyQzUuNzE4NCUyMDUuNDUzNzY3MTIlMkM1LjgyOCUyMDUuMTU4MTA1MDIlMkM1LjkwOCUyMEM0Ljg2MTY0Mzg0JTJDNS45ODglMjA0LjUzMjQyMDA5JTJDNi4wMjcyJTIwNC4xNjgwMzY1MyUyQzYuMDI3MiUyMEwyLjA0MjQ2NTc1JTJDNi4wMjcyJTIwTDIuMDQyNDY1NzUlMkM5LjM0NzIlMjBMMC4zMDIwNTQ3OTUlMkM5LjM0ODglMjBMMC4zMDIwNTQ3OTUlMkM5LjM0ODglMjBaJTIwTTQuMjQzMTUwNjglMkM0LjM3MiUyMEM0LjQ2NTI5NjglMkM0LjM3MiUyMDQuNjUzMDgyMTklMkM0LjMzNjglMjA0LjgwMzMxMDUlMkM0LjI2NjQlMjBDNC45NTM1Mzg4MSUyQzQuMTkzNiUyMDUuMDc1Nzk5MDklMkM0LjEwMjQlMjA1LjE3MDg5MDQxJTJDMy45ODglMjBDNS4yNjU5ODE3NCUyQzMuODc0NCUyMDUuMzMzMTA1MDIlMkMzLjc0NjQlMjA1LjM3NDY1NzUzJTJDMy42MDQ4JTIwQzUuNDE3MDA5MTMlMkMzLjQ2MTYlMjA1LjQzOTM4MzU2JTJDMy4zMiUyMDUuNDM5MzgzNTYlMkMzLjE3NiUyMEM1LjQzOTM4MzU2JTJDMy4wNDY0JTIwNS40MjEwMDQ1NyUyQzIuOTExMiUyMDUuMzg0MjQ2NTglMkMyLjc2ODglMjBDNS4zNDkwODY3NiUyQzIuNjMwNCUyMDUuMjg1OTU4OSUyQzIuNTAyNCUyMDUuMTk2NDYxMTklMkMyLjM4MzIlMjBDNS4xMDYxNjQzOCUyQzIuMjY2NCUyMDQuOTgyMzA1OTQlMkMyLjE2OTYlMjA0LjgyODg4MTI4JTJDMi4wOTUyJTIwQzQuNjczMDU5MzYlMkMyLjAxOTIlMjA0LjQ3ODg4MTI4JTJDMS45ODA4JTIwNC4yNDM5NDk3NyUyQzEuOTgwOCUyMEwyLjA0NDA2MzkzJTJDMS45ODA4JTIwTDIuMDQ0MDYzOTMlMkM0LjM3MTIlMjBMNC4yNDMxNTA2OCUyQzQuMzcyJTIwTDQuMjQzMTUwNjglMkM0LjM3MiUyMFolMjIlMjBpZCUzRCUyMlNoYXBlJTIyJTNFJTNDJTJGcGF0aCUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTTE5LjI1NTU5MzYlMkM5LjM0ODglMjBMMTguNTU3MTkxOCUyQzcuNDgxNiUyMEwxNS4wODAzNjUzJTJDNy40ODE2JTIwTDE0LjM4OTk1NDMlMkM5LjM0ODglMjBMMTIuNTIxNjg5NSUyQzkuMzQ4OCUyMEwxNS45NzM3NDQzJTJDMC4zMjY0JTIwTDE3LjY2OTQwNjQlMkMwLjMyNjQlMjBMMjEuMTIxNDYxMiUyQzkuMzQ4OCUyMEwxOS4yNTU1OTM2JTJDOS4zNDg4JTIwWiUyME0xNy4xMDUyNTExJTJDMy41NDglMjBDMTcuMDU4OTA0MSUyQzMuNDQlMjAxNy4wMDkzNjA3JTJDMy4zMDg4JTIwMTYuOTU2NjIxJTJDMy4xNTg0JTIwQzE2LjkwNjI3ODUlMkMzLjAwNTYlMjAxNi44NTk5MzE1JTJDMi44NjY0JTIwMTYuODIyMzc0NCUyQzIuNzM1MiUyMEMxNi43ODgwMTM3JTJDMi44NjcyJTIwMTYuNzQ0MDYzOSUyQzMuMDA1NiUyMDE2LjY4OTcyNiUyQzMuMTU4NCUyMEMxNi42MzYxODcyJTJDMy4zMDg4JTIwMTYuNTg1ODQ0NyUyQzMuNDQlMjAxNi41Mzg2OTg2JTJDMy41NDglMjBMMTUuNjQ2MTE4NyUyQzUuODk1MiUyMEwxNy45OTIyMzc0JTJDNS44OTUyJTIwTDE3LjEwNTI1MTElMkMzLjU0OCUyMFolMjIlMjBpZCUzRCUyMlNoYXBlJTIyJTNFJTNDJTJGcGF0aCUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BvbHlnb24lMjBpZCUzRCUyMlBhdGglMjIlMjBwb2ludHMlM0QlMjIzMC45MDM4ODEzJTIwMi4wMDY0JTIwMzAuOTAzODgxMyUyMDkuMzQ4OCUyMDI5LjE2OTg2MyUyMDkuMzQ4OCUyMDI5LjE2OTg2MyUyMDIuMDA2NCUyMDI2LjU5MjAwOTElMjAyLjAwNjQlMjAyNi41OTIwMDkxJTIwMC4zMjY0JTIwMzMuNDgwOTM2MSUyMDAuMzI2NCUyMDMzLjQ4MDkzNjElMjAyLjAwNjQlMjIlM0UlM0MlMkZwb2x5Z29uJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcG9seWdvbiUyMGlkJTNEJTIyUGF0aCUyMiUyMHBvaW50cyUzRCUyMjQ0LjM5MzI2NDglMjAyLjAwNjQlMjA0NC4zOTMyNjQ4JTIwOS4zNDg4JTIwNDIuNjU4NDQ3NSUyMDkuMzQ4OCUyMDQyLjY1ODQ0NzUlMjAyLjAwNjQlMjA0MC4wODA1OTM2JTIwMi4wMDY0JTIwNDAuMDgwNTkzNiUyMDAuMzI2NCUyMDQ2Ljk2OTUyMDUlMjAwLjMyNjQlMjA0Ni45Njk1MjA1JTIwMi4wMDY0JTIyJTNFJTNDJTJGcG9seWdvbiUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BvbHlnb24lMjBpZCUzRCUyMlBhdGglMjIlMjBwb2ludHMlM0QlMjI1NC4xNTA5MTMyJTIwOS4zNDg4JTIwNTQuMTUwOTEzMiUyMDAuMzI2NCUyMDYwLjMwMjI4MzElMjAwLjMyNjQlMjA2MC4zMDIyODMxJTIwMS45ODE2JTIwNTUuODkwNTI1MSUyMDEuOTgxNiUyMDU1Ljg5MDUyNTElMjAzLjg3NTIlMjA1OC40ODU5NTg5JTIwMy44NzUyJTIwNTguNDg1OTU4OSUyMDUuNTIzMiUyMDU1Ljg5MDUyNTElMjA1LjUyMzIlMjA1NS44OTA1MjUxJTIwNy43MDE2JTIwNjAuNTcxNTc1MyUyMDcuNzAxNiUyMDYwLjU3MTU3NTMlMjA5LjM1MTIlMjIlM0UlM0MlMkZwb2x5Z29uJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNNjcuODg0ODE3NCUyQzkuMzQ4OCUyMEw2Ny44ODQ4MTc0JTJDMC4zMjY0JTIwTDcyLjA3MDQzMzglMkMwLjMyNjQlMjBDNzIuNjQwMTgyNiUyQzAuMzI2NCUyMDczLjExNzIzNzQlMkMwLjQwMzIlMjA3My41JTJDMC41NjI0JTIwQzczLjg4Mjc2MjYlMkMwLjcxOTIlMjA3NC4xOTI4MDgyJTJDMC45MjglMjA3NC40MjY5NDA2JTJDMS4xODglMjBDNzQuNjU5NDc0OSUyQzEuNDQ4OCUyMDc0LjgyOTY4MDQlMkMxLjc0ODglMjA3NC45Mjk1NjYyJTJDMi4wODglMjBDNzUuMDI3ODUzOSUyQzIuNDI4JTIwNzUuMDgwNTkzNiUyQzIuNzgzMiUyMDc1LjA4MDU5MzYlMkMzLjE1MiUyMEM3NS4wODA1OTM2JTJDMy40MDcyJTIwNzUuMDQyMjM3NCUyQzMuNjY2NCUyMDc0Ljk2NzkyMjQlMkMzLjkyOCUyMEM3NC44OTI4MDgyJTJDNC4xOTA0JTIwNzQuNzg0OTMxNSUyQzQuNDM5MiUyMDc0LjYzOTQ5NzclMkM0LjY3NDQlMjBDNzQuNDkwMDY4NSUyQzQuOTA5NiUyMDc0LjMxMDI3NCUyQzUuMTIxNiUyMDc0LjA5MDUyNTElMkM1LjMxMjglMjBDNzMuODczOTcyNiUyQzUuNTA0JTIwNzMuNjE5MDYzOSUyQzUuNjUzNiUyMDczLjMzMDU5MzYlMkM1Ljc1NiUyMEw3NS4wNzg5OTU0JTJDOS4zNDg4JTIwTDczLjEyMjAzMiUyQzkuMzQ4OCUyMEw3MS40Mzc1NTcxJTJDNS45ODQlMjBMNjkuNjIyODMxMSUyQzUuOTg0JTIwTDY5LjYyMjgzMTElMkM5LjM0ODglMjBMNjcuODg0ODE3NCUyQzkuMzQ4OCUyMEw2Ny44ODQ4MTc0JTJDOS4zNDg4JTIwWiUyME03Mi4wOTYwMDQ2JTJDNC4zMzQ0JTIwQzcyLjMxNjU1MjUlMkM0LjMzNDQlMjA3Mi41MDY3MzUyJTJDNC4zMDE2JTIwNzIuNjU0NTY2MiUyQzQuMjM2JTIwQzcyLjgwNDc5NDUlMkM0LjE3MDQlMjA3Mi45Mjc4NTM5JTJDNC4wODQlMjA3My4wMTgxNTA3JTJDMy45NzUyJTIwQzczLjExMDg0NDclMkMzLjg2NTYlMjA3My4xNzg3NjcxJTJDMy43NCUyMDczLjIxNzkyMjQlMkMzLjU5NiUyMEM3My4yNTg2NzU4JTJDMy40NTM2JTIwNzMuMjc1NDU2NiUyQzMuMzA1NiUyMDczLjI3NTQ1NjYlMkMzLjE1MDQlMjBDNzMuMjc1NDU2NiUyQzMuMDA4JTIwNzMuMjU4Njc1OCUyQzIuODY0OCUyMDczLjIyNDMxNTElMkMyLjcyNCUyMEM3My4xODY3NTglMkMyLjU4MzIlMjA3My4xMjYwMjc0JTJDMi40NTg0JTIwNzMuMDQxMzI0MiUyQzIuMzQ1NiUyMEM3Mi45NTQyMjM3JTJDMi4yMzYlMjA3Mi44Mjk1NjYyJTJDMi4xNDY0JTIwNzIuNjc5MzM3OSUyQzIuMDc5MiUyMEM3Mi41MjkxMDk2JTJDMi4wMTIlMjA3Mi4zMzE3MzUyJTJDMS45NzkyJTIwNzIuMDk2ODAzNyUyQzEuOTc5MiUyMEw2OS42MjYwMjc0JTJDMS45NzkyJTIwTDY5LjYyNjAyNzQlMkM0LjMzMjglMjBMNzIuMDk2ODAzNyUyQzQuMzMyOCUyMEw3Mi4wOTY4MDM3JTJDNC4zMzQ0JTIwTDcyLjA5NjAwNDYlMkM0LjMzNDQlMjBaJTIyJTIwaWQlM0QlMjJTaGFwZSUyMiUzRSUzQyUyRnBhdGglM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk04OC4xNTUyNTExJTJDOS4zNDg4JTIwTDg0LjU3OTMzNzklMkM0LjA4ODglMjBDODQuNTIwMjA1NSUyQzQuMDAxNiUyMDg0LjQ1Nzg3NjclMkMzLjg5MiUyMDg0LjM4NzU1NzElMkMzLjc2NDglMjBDODQuMzE3MjM3NCUyQzMuNjM3NiUyMDg0LjI1OTcwMzIlMkMzLjUxOTIlMjA4NC4yMDYxNjQ0JTJDMy40MTA0JTIwQzg0LjIyMjE0NjElMkMzLjUwNTYlMjA4NC4yMjc3Mzk3JTJDMy42MTg0JTIwODQuMjM0MTMyNCUyQzMuNzQ5NiUyMEM4NC4yNDEzMjQyJTJDMy44NzkyJTIwODQuMjQ2OTE3OCUyQzMuOTkzNiUyMDg0LjI0NjkxNzglMkM0LjA4ODglMjBMODQuMjQ2OTE3OCUyQzkuMzQ4OCUyMEw4Mi41MTc2OTQxJTJDOS4zNDg4JTIwTDgyLjUxNzY5NDElMkMwLjMyNjQlMjBMODQuMTUwMjI4MyUyQzAuMzI2NCUyMEw4Ny42MzkwNDExJTJDNS41MjE2JTIwQzg3LjY5MzM3OSUyQzUuNjA1NiUyMDg3Ljc1NjUwNjglMkM1LjcxMzYlMjA4Ny44MjUyMjgzJTJDNS44Mzg0JTIwQzg3Ljg5Nzk0NTIlMkM1Ljk2MzIlMjA4Ny45NjEwNzMxJTJDNi4wODU2JTIwODguMDEyMjE0NiUyQzYuMjAyNCUyMEM4OC4wMDAyMjgzJTJDNi4wODI0JTIwODcuOTkzODM1NiUyQzUuOTU2OCUyMDg3Ljk4NTg0NDclMkM1LjgzNTIlMjBDODcuOTc3ODUzOSUyQzUuNzExMiUyMDg3Ljk3NDY1NzUlMkM1LjYwNTYlMjA4Ny45NzQ2NTc1JTJDNS41MiUyMEw4Ny45NzQ2NTc1JTJDMC4zMjQ4JTIwTDg5LjY5NTg5MDQlMkMwLjMyNDglMjBMODkuNjk1ODkwNCUyQzkuMzQ3MiUyMEw4OC4xNTUyNTExJTJDOS4zNDg4JTIwTDg4LjE1NTI1MTElMkM5LjM0ODglMjBaJTIyJTIwaWQlM0QlMjJQYXRoJTIyJTNFJTNDJTJGcGF0aCUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BvbHlnb24lMjBpZCUzRCUyMlBhdGglMjIlMjBwb2ludHMlM0QlMjI5Ny40NTkwMTgzJTIwOS4zNDg4JTIwOTcuNDU5MDE4MyUyMDAuMzI2NCUyMDEwMy41MDE3MTIlMjAwLjMyNjQlMjAxMDMuNTAxNzEyJTIwMS45ODE2JTIwOTkuMjAwMjI4MyUyMDEuOTgxNiUyMDk5LjIwMDIyODMlMjAzLjg3NTIlMjAxMDEuOTI2NzEyJTIwMy44NzUyJTIwMTAxLjkyNjcxMiUyMDUuNTIzMiUyMDk5LjIwMDIyODMlMjA1LjUyMzIlMjA5OS4yMDAyMjgzJTIwOS4zNDk2JTIyJTNFJTNDJTJGcG9seWdvbiUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BvbHlnb24lMjBpZCUzRCUyMlBhdGglMjIlMjBwb2ludHMlM0QlMjIxMTAuNTU1MjUxJTIwOS4zNDg4JTIwMTEwLjU1NTI1MSUyMDAuMzI2NCUyMDExMi4yOTgwNTklMjAwLjMyNjQlMjAxMTIuMjk4MDU5JTIwNy42NzUyJTIwMTE2LjY0NjY4OSUyMDcuNjc1MiUyMDExNi42NDY2ODklMjA5LjM0ODglMjIlM0UlM0MlMkZwb2x5Z29uJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcG9seWdvbiUyMGlkJTNEJTIyUGF0aCUyMiUyMHBvaW50cyUzRCUyMjEyNC45NzM5NzMlMjA5LjM0ODglMjAxMjQuOTczOTczJTIwNS44MzIlMjAxMjEuNjM0NTg5JTIwMC4zMjY0JTIwMTIzLjYwODMzMyUyMDAuMzI2NCUyMDEyNS44MzUzODglMjA0LjAxNDQlMjAxMjguMDU4NDQ3JTIwMC4zMjY0JTIwMTMwLjAzMzc5JTIwMC4zMjY0JTIwMTI2LjY5NTIwNSUyMDUuODMyJTIwMTI2LjY5NTIwNSUyMDkuMzQ4OCUyMiUzRSUzQyUyRnBvbHlnb24lM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZnJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNMzMuNTE0NDk3NyUyQzE2LjU2MDglMjBMMTYuNzU4NDQ3NSUyQzAuMTUzNiUyMEwwJTJDMTYuNTYwOCUyMEw2LjY4MDM2NTMlMkMyNi4wMzYlMjBMMTEuNzc2OTQwNiUyQzI0Ljg2NCUyMEwxNi43OTA0MTElMkMzMS45MjA4JTIwTDIxLjc5NDI5MjIlMkMyNC44NzY4JTIwTDI2LjgzNDEzMjQlMkMyNi4wMzUyJTIwTDMzLjUxNDQ5NzclMkMxNi41NjA4JTIwWiUyME0xNi4wNjI0NDI5JTJDMy4xOTYlMjBMMTMuODkyMTIzMyUyQzIzLjI3NjglMjBMOS43NDgwNTkzNiUyQzE3LjYxNzYlMjBMMTYuMDYyNDQyOSUyQzMuMTk2JTIwWiUyME05LjI5MzM3OSUyQzE2Ljk5NjglMjBMNi43MTIzMjg3NyUyQzEzLjQ3MiUyMEwxNS41ODc3ODU0JTJDMi42OCUyMEw5LjI5MzM3OSUyQzE2Ljk5NjglMjBaJTIwTTEzLjIwNDEwOTYlMkMyMy40NjQlMjBMMTMuMjA0MTA5NiUyQzIzLjQ2NCUyMEwxMy40NDU0MzM4JTJDMjMuNzk2OCUyMEwxMi4wNjE0MTU1JTJDMjQuMTE0NCUyMEw4Ljg2NjY2NjY3JTJDMTkuNjE4NCUyMEw5LjQzNzIxNDYxJTJDMTguMzIwOCUyMEwxMy4yMDQxMDk2JTJDMjMuNDY0JTIwWiUyME0xNi43NTc2NDg0JTJDMi45Mjk2JTIwTDE4LjkzOTE1NTMlMkMyNC4yMTg0JTIwTDE2Ljc1Mjg1MzklMkMyNy4yMTc2JTIwTDE0LjU3NDU0MzQlMkMyNC4yMTg0JTIwTDE2Ljc1NzY0ODQlMkMyLjkyOTYlMjBaJTIwTTIwLjMwOTU4OSUyQzIzLjQ2NDglMjBMMjQuMTE4MDM2NSUyQzE4LjI2NDglMjBMMjQuNzE0MTU1MyUyQzE5LjYxODQlMjBMMjEuNTEwNjE2NCUyQzI0LjEyOCUyMEwyMC4wNzE0NjEyJTJDMjMuNzk2OCUyMEwyMC4zMTE5ODYzJTJDMjMuNDY2NCUyMEwyMC4zMDk1ODklMkMyMy40NjQ4JTIwWiUyME0xOS42MjIzNzQ0JTJDMjMuMjc2OCUyMEwxNy40ODAwMjI4JTJDMy4xNzkyJTIwTDIzLjgwNzk5MDklMkMxNy41NjA4JTIwTDE5LjYyMjM3NDQlMkMyMy4yNzY4JTIwWiUyME0xNy45ODUwNDU3JTJDMi42NzY4JTIwTDI2LjgwMjE2ODklMkMxMy40NzIlMjBMMjQuMjYyNjcxMiUyQzE2Ljk0JTIwTDE3Ljk4NTA0NTclMkMyLjY3NjglMjBaJTIwTTYuOTY2NDM4MzYlMkMyNS4yODU2JTIwTDAuODcwMjA1NDc5JTJDMTYuNjQwOCUyMEwxMi43OTg5NzI2JTJDNC45NjcyJTIwTDUuODcwODkwNDElMkMxMy40NTA0JTIwTDguOTg0MTMyNDIlMkMxNy43MDA4JTIwTDguMTA1OTM2MDclMkMxOS42OTYlMjBMMTEuMzU5ODE3NCUyQzI0LjI3NjglMjBMNi45NjY0MzgzNiUyQzI1LjI4NTYlMjBaJTIwTTE2Ljc5MDQxMSUyQzMwLjc3MTIlMjBMMTIuNDc4NTM4OCUyQzI0LjcwMzIlMjBMMTMuODcwNTQ3OSUyQzI0LjM4MjQlMjBMMTYuNzUxMjU1NyUyQzI4LjM0OTYlMjBMMTkuNjQxNTUyNSUyQzI0LjM4MjQlMjBMMjEuMDkxMDk1OSUyQzI0LjcxNjglMjBMMTYuNzkwNDExJTJDMzAuNzcxMiUyMFolMjBNMjIuMjExNDE1NSUyQzI0LjI4OTYlMjBMMjUuNDc0MDg2OCUyQzE5LjY5NiUyMEwyNC41NzE5MTc4JTJDMTcuNjQ0OCUyMEwyNy42NDM2MDczJTJDMTMuNDUwNCUyMEwyMC43MTU1MjUxJTJDNC45NjcyJTIwTDMyLjY0MzQ5MzIlMkMxNi42NDA4JTIwTDI2LjU0ODA1OTQlMkMyNS4yODY0JTIwTDIyLjIxMTQxNTUlMkMyNC4yODk2JTIwWiUyMiUyMGlkJTNEJTIyU2hhcGUlMjIlMjBmaWxsJTNEJTIydXJsJTI4JTIzbGluZWFyR3JhZGllbnQtMSUyOSUyMiUzRSUzQyUyRnBhdGglM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZnJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGZyUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQyUyRmclM0UlMjAlMjAlMjAlMjAlM0MlMkZnJTNFJTNDJTJGc3ZnJTNFXCI7XG5cbnZhciBBcHBMYXlvdXQgPSBmdW5jdGlvbiBBcHBMYXlvdXQoX3JlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSh0cnVlKSxcbiAgICAgIGlzTmF2T3BlbiA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldElzTmF2T3BlbiA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgX3VzZVN0YXRlMiA9IHVzZVN0YXRlKHRydWUpLFxuICAgICAgaXNNb2JpbGVWaWV3ID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldElzTW9iaWxlVmlldyA9IF91c2VTdGF0ZTJbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICBpc05hdk9wZW5Nb2JpbGUgPSBfdXNlU3RhdGUzWzBdLFxuICAgICAgc2V0SXNOYXZPcGVuTW9iaWxlID0gX3VzZVN0YXRlM1sxXTtcblxuICB2YXIgX3VzZVRyYW5zbGF0aW9uID0gdXNlVHJhbnNsYXRpb24oKSxcbiAgICAgIHQgPSBfdXNlVHJhbnNsYXRpb24udDtcblxuICB2YXIgb25OYXZUb2dnbGVNb2JpbGUgPSBmdW5jdGlvbiBvbk5hdlRvZ2dsZU1vYmlsZSgpIHtcbiAgICBzZXRJc05hdk9wZW5Nb2JpbGUoIWlzTmF2T3Blbk1vYmlsZSk7XG4gIH07XG5cbiAgdmFyIG9uTmF2VG9nZ2xlID0gZnVuY3Rpb24gb25OYXZUb2dnbGUoKSB7XG4gICAgc2V0SXNOYXZPcGVuKCFpc05hdk9wZW4pO1xuICB9O1xuXG4gIHZhciBvblBhZ2VSZXNpemUgPSBmdW5jdGlvbiBvblBhZ2VSZXNpemUocHJvcHMpIHtcbiAgICBzZXRJc01vYmlsZVZpZXcocHJvcHMubW9iaWxlVmlldyk7XG4gIH07XG5cbiAgdmFyIEhlYWRlclRvb2xzID0gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdlSGVhZGVyVG9vbHMsIG51bGwsICdlbWFpbCcpO1xuICB2YXIgSGVhZGVyID0gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdlSGVhZGVyLCB7XG4gICAgbG9nbzogUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChMb2dvSW1nLCBudWxsKSxcbiAgICBzaG93TmF2VG9nZ2xlOiB0cnVlLFxuICAgIGlzTmF2T3BlbjogaXNOYXZPcGVuLFxuICAgIGhlYWRlclRvb2xzOiBIZWFkZXJUb29scyxcbiAgICBvbk5hdlRvZ2dsZTogaXNNb2JpbGVWaWV3ID8gb25OYXZUb2dnbGVNb2JpbGUgOiBvbk5hdlRvZ2dsZSxcbiAgICBcImFyaWEtbGFiZWxcIjogJ2dsb2JhbF9uYXZpZ2F0aW9uJ1xuICB9KTtcbiAgdmFyIE5hdmlnYXRpb24gPSBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KE5hdiwge1xuICAgIGlkOiBcIm5hdi1wcmltYXJ5LXNpbXBsZVwiLFxuICAgIHJvbGU6IFwibmF2aWdhdGlvblwiLFxuICAgIHRoZW1lOiBcImRhcmtcIixcbiAgICBcImFyaWEtbGFiZWxcIjogJ2dsb2JhbCdcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChOYXZMaXN0LCB7XG4gICAgaWQ6IFwibmF2LWxpc3Qtc2ltcGxlXCJcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChOYXZJdGVtLCB7XG4gICAgaWQ6ICdjb25uZWN0b3JzJ1xuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KE5hdkxpbmssIHtcbiAgICB0bzogJy8nLFxuICAgIGFjdGl2ZUNsYXNzTmFtZTogXCJwZi1tLWN1cnJlbnRcIlxuICB9LCB0KCdtYW5hZ2VkQ29ubmVjdG9ycycpKSkpKTtcbiAgdmFyIFNpZGViYXIgPSBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBhZ2VTaWRlYmFyLCB7XG4gICAgdGhlbWU6IFwiZGFya1wiLFxuICAgIG5hdjogTmF2aWdhdGlvbixcbiAgICBpc05hdk9wZW46IGlzTW9iaWxlVmlldyA/IGlzTmF2T3Blbk1vYmlsZSA6IGlzTmF2T3BlblxuICB9KTtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGFnZSwge1xuICAgIG1haW5Db250YWluZXJJZDogXCJwcmltYXJ5LWFwcC1jb250YWluZXJcIixcbiAgICByb2xlOiBcIm1haW5cIixcbiAgICBoZWFkZXI6IEhlYWRlcixcbiAgICBzaWRlYmFyOiBTaWRlYmFyLFxuICAgIG9uUGFnZVJlc2l6ZTogb25QYWdlUmVzaXplXG4gIH0sIGNoaWxkcmVuKTtcbn07XG5cbmZ1bmN0aW9uIExvZ29JbWcoKSB7XG4gIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKCkge1xuICAgIGhpc3RvcnkucHVzaCgnLycpO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwge1xuICAgIHNyYzogbG9nbyxcbiAgICBvbkNsaWNrOiBoYW5kbGVDbGljayxcbiAgICBhbHQ6IFwiUGF0dGVybkZseSBMb2dvXCJcbiAgfSk7XG59XG5cbnZhciBBcHBDb250ZXh0ID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbnRleHQobnVsbCk7XG52YXIgQXBwQ29udGV4dFByb3ZpZGVyID0gZnVuY3Rpb24gQXBwQ29udGV4dFByb3ZpZGVyKF9yZWYpIHtcbiAgdmFyIGdldFRva2VuID0gX3JlZi5nZXRUb2tlbixcbiAgICAgIGJhc2VQYXRoID0gX3JlZi5iYXNlUGF0aCxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQXBwQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB7XG4gICAgICBnZXRUb2tlbjogZ2V0VG9rZW4sXG4gICAgICBiYXNlUGF0aDogYmFzZVBhdGhcbiAgICB9XG4gIH0sIGNoaWxkcmVuKTtcbn07XG52YXIgdXNlQXBwQ29udGV4dCA9IGZ1bmN0aW9uIHVzZUFwcENvbnRleHQoKSB7XG4gIHZhciBjb250ZXh0ID0gdXNlQ29udGV4dChBcHBDb250ZXh0KTtcbiAgaWYgKCFjb250ZXh0KSB0aHJvdyBuZXcgRXJyb3IoJ3VzZUFwcENvbnRleHQgbXVzdCBiZSB1c2VkIGluc2lkZSBhbiBBcHBDb250ZXh0UHJvdmlkZXInKTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBjb250ZXh0KTtcbn07XG5cbmZ1bmN0aW9uIHN0eWxlSW5qZWN0KGNzcywgcmVmKSB7XG4gIGlmIChyZWYgPT09IHZvaWQgMCkgcmVmID0ge307XG4gIHZhciBpbnNlcnRBdCA9IHJlZi5pbnNlcnRBdDtcblxuICBpZiAoIWNzcyB8fCB0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnO1xuXG4gIGlmIChpbnNlcnRBdCA9PT0gJ3RvcCcpIHtcbiAgICBpZiAoaGVhZC5maXJzdENoaWxkKSB7XG4gICAgICBoZWFkLmluc2VydEJlZm9yZShzdHlsZSwgaGVhZC5maXJzdENoaWxkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIGNzc18yNDh6ID0gXCIuY29ubmVjdG9yLWRyYXdlcl9faGVhZGVyLXRleHR7bWFyZ2luLWJvdHRvbTowIWltcG9ydGFudH0uY29ubmVjdG9yLWRyYXdlcl9faGVhZGVyLXRpdGxle21hcmdpbi10b3A6MCFpbXBvcnRhbnR9LmNvbm5lY3Rvci1kcmF3ZXJfX3RhYi1jb250ZW50e3BhZGRpbmctYm90dG9tOnZhcigtLXBmLWdsb2JhbC0tc3BhY2VyLS1sZyk7cGFkZGluZy10b3A6dmFyKC0tcGYtZ2xvYmFsLS1zcGFjZXItLWxnKX1cIjtcbnN0eWxlSW5qZWN0KGNzc18yNDh6KTtcblxudmFyIENvbm5lY3RvckRyYXdlciA9IGZ1bmN0aW9uIENvbm5lY3RvckRyYXdlcihfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG5cbiAgdmFyIF91c2VUcmFuc2xhdGlvbiA9IHVzZVRyYW5zbGF0aW9uKCksXG4gICAgICB0ID0gX3VzZVRyYW5zbGF0aW9uLnQ7XG5cbiAgdmFyIHNlcnZpY2UgPSB1c2VDb25uZWN0b3JzTWFjaGluZVNlcnZpY2UoKTtcblxuICB2YXIgX3VzZUNvbm5lY3RvcnNNYWNoaW5lID0gdXNlQ29ubmVjdG9yc01hY2hpbmUoc2VydmljZSksXG4gICAgICBzZWxlY3RlZENvbm5lY3RvciA9IF91c2VDb25uZWN0b3JzTWFjaGluZS5zZWxlY3RlZENvbm5lY3RvcixcbiAgICAgIGRlc2VsZWN0Q29ubmVjdG9yID0gX3VzZUNvbm5lY3RvcnNNYWNoaW5lLmRlc2VsZWN0Q29ubmVjdG9yO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSgwKSxcbiAgICAgIGFjdGl2ZVRhYktleSA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldEFjdGl2ZVRhYktleSA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgc2VsZWN0QWN0aXZlS2V5ID0gZnVuY3Rpb24gc2VsZWN0QWN0aXZlS2V5KF8sIGV2ZW50S2V5KSB7XG4gICAgc2V0QWN0aXZlVGFiS2V5KGV2ZW50S2V5KTtcbiAgfTtcblxuICB2YXIgdGV4dExpc3RJdGVtID0gZnVuY3Rpb24gdGV4dExpc3RJdGVtKHRpdGxlLCB2YWx1ZSkge1xuICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LCBudWxsLCB2YWx1ZSAmJiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRleHRMaXN0SXRlbSwge1xuICAgICAgY29tcG9uZW50OiBUZXh0TGlzdEl0ZW1WYXJpYW50cy5kdFxuICAgIH0sIHRpdGxlKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUZXh0TGlzdEl0ZW0sIHtcbiAgICAgIGNvbXBvbmVudDogVGV4dExpc3RJdGVtVmFyaWFudHMuZGRcbiAgICB9LCB2YWx1ZSkpKTtcbiAgfTtcblxuICB2YXIgcGFuZWxDb250ZW50ID0gZnVuY3Rpb24gcGFuZWxDb250ZW50KCkge1xuICAgIHZhciBfc2VsZWN0ZWRDb25uZWN0b3IkbWUsIF9zZWxlY3RlZENvbm5lY3RvciRrYSwgX3NlbGVjdGVkQ29ubmVjdG9yJG1lMiwgX3NlbGVjdGVkQ29ubmVjdG9yJG1lMywgX3NlbGVjdGVkQ29ubmVjdG9yJG1lNDtcblxuICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KERyYXdlclBhbmVsQ29udGVudCwge1xuICAgICAgd2lkdGhzOiB7XG4gICAgICAgIFwiZGVmYXVsdFwiOiAnd2lkdGhfNTAnXG4gICAgICB9XG4gICAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChEcmF3ZXJIZWFkLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRleHRDb250ZW50LCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICAgIGNvbXBvbmVudDogVGV4dFZhcmlhbnRzLnNtYWxsLFxuICAgICAgY2xhc3NOYW1lOiBcImNvbm5lY3Rvci1kcmF3ZXJfX2hlYWRlci10ZXh0XCJcbiAgICB9LCBcIkNvbm5lY3RvciBuYW1lXCIpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRpdGxlLCB7XG4gICAgICBoZWFkaW5nTGV2ZWw6ICdoMicsXG4gICAgICBzaXplOiBUaXRsZVNpemVzWyd4bCddLFxuICAgICAgY2xhc3NOYW1lOiBcImNvbm5lY3Rvci1kcmF3ZXJfX2hlYWRlci10aXRsZVwiXG4gICAgfSwgc2VsZWN0ZWRDb25uZWN0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IChfc2VsZWN0ZWRDb25uZWN0b3IkbWUgPSBzZWxlY3RlZENvbm5lY3Rvci5tZXRhZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zZWxlY3RlZENvbm5lY3RvciRtZS5uYW1lKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRHJhd2VyQWN0aW9ucywgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChEcmF3ZXJDbG9zZUJ1dHRvbiwge1xuICAgICAgb25DbGljazogZGVzZWxlY3RDb25uZWN0b3JcbiAgICB9KSkpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KERyYXdlclBhbmVsQm9keSwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUYWJzLCB7XG4gICAgICBhY3RpdmVLZXk6IGFjdGl2ZVRhYktleSxcbiAgICAgIG9uU2VsZWN0OiBzZWxlY3RBY3RpdmVLZXlcbiAgICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRhYiwge1xuICAgICAgZXZlbnRLZXk6IDAsXG4gICAgICB0aXRsZTogUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUYWJUaXRsZVRleHQsIG51bGwsIHQoJ292ZXJ2aWV3JykpXG4gICAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiY29ubmVjdG9yLWRyYXdlcl9fdGFiLWNvbnRlbnRcIlxuICAgIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGV4dENvbnRlbnQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGV4dExpc3QsIHtcbiAgICAgIGNvbXBvbmVudDogVGV4dExpc3RWYXJpYW50cy5kbFxuICAgIH0sIHRleHRMaXN0SXRlbSgnQm9vdHN0cmFwIHNlcnZlcicsIHNlbGVjdGVkQ29ubmVjdG9yID09IG51bGwgPyB2b2lkIDAgOiAoX3NlbGVjdGVkQ29ubmVjdG9yJGthID0gc2VsZWN0ZWRDb25uZWN0b3Iua2Fma2EpID09IG51bGwgPyB2b2lkIDAgOiBfc2VsZWN0ZWRDb25uZWN0b3Ika2EuYm9vdHN0cmFwX3NlcnZlciksIHRleHRMaXN0SXRlbSgnQ29ubmVjdG9yJywgc2VsZWN0ZWRDb25uZWN0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IChfc2VsZWN0ZWRDb25uZWN0b3IkbWUyID0gc2VsZWN0ZWRDb25uZWN0b3IubWV0YWRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfc2VsZWN0ZWRDb25uZWN0b3IkbWUyLm5hbWUpLCB0ZXh0TGlzdEl0ZW0oJ0thZmthX2luc3RhbmNlJywgc2VsZWN0ZWRDb25uZWN0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IChfc2VsZWN0ZWRDb25uZWN0b3IkbWUzID0gc2VsZWN0ZWRDb25uZWN0b3IubWV0YWRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfc2VsZWN0ZWRDb25uZWN0b3IkbWUzLmthZmthX2lkKSwgdGV4dExpc3RJdGVtKCdPd25lcicsIHNlbGVjdGVkQ29ubmVjdG9yID09IG51bGwgPyB2b2lkIDAgOiAoX3NlbGVjdGVkQ29ubmVjdG9yJG1lNCA9IHNlbGVjdGVkQ29ubmVjdG9yLm1ldGFkYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX3NlbGVjdGVkQ29ubmVjdG9yJG1lNC5vd25lcikpKSkpKSkpO1xuICB9O1xuXG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KERyYXdlciwge1xuICAgIGlzRXhwYW5kZWQ6IHNlbGVjdGVkQ29ubmVjdG9yICE9PSB1bmRlZmluZWRcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChEcmF3ZXJDb250ZW50LCB7XG4gICAgcGFuZWxDb250ZW50OiBwYW5lbENvbnRlbnQoKVxuICB9LCBjaGlsZHJlbikpO1xufTtcblxudmFyIGNzc18yNDh6JDEgPSBcIi5jb25uZWN0b3JzLXRhYmxlLXZpZXdfX3RhYmxley0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLW0tc2VsZWN0ZWQtLVpJbmRleDp2YXIoLS1wZi1nbG9iYWwtLVpJbmRleC0teHMpOy0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLW0tc2VsZWN0ZWQtLUJveFNoYWRvdzp2YXIoLS1wZi1nbG9iYWwtLUJveFNoYWRvdy0tc20tdG9wKSx2YXIoLS1wZi1nbG9iYWwtLUJveFNoYWRvdy0tc20tYm90dG9tKTstLXBmLWMtdGFibGUtcm93X19pdGVtLS1tLXNlbGVjdGFibGUtLWZvY3VzLS1Cb3hTaGFkb3c6dmFyKC0tcGYtZ2xvYmFsLS1Cb3hTaGFkb3ctLXNtLXRvcCksdmFyKC0tcGYtZ2xvYmFsLS1Cb3hTaGFkb3ctLXNtLWJvdHRvbSk7LS1wZi1jLXRhYmxlLXJvd19faXRlbS0tbS1zZWxlY3RhYmxlLS1ob3Zlci0tWkluZGV4OmNhbGModmFyKC0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLW0tc2VsZWN0ZWQtLVpJbmRleCkgKyAxKTstLXBmLWMtdGFibGUtcm93X19pdGVtLS1iZWZvcmUtLUJhY2tncm91bmRDb2xvcjp0cmFuc3BhcmVudDstLXBmLWMtdGFibGUtcm93X19pdGVtLS1tLXNlbGVjdGVkLS1iZWZvcmUtLUJhY2tncm91bmRDb2xvcjp2YXIoLS1wZi1nbG9iYWwtLWFjdGl2ZS1jb2xvci0tMTAwKTstLXBmLWMtdGFibGUtcm93X19pdGVtLS1iZWZvcmUtLVRvcDowOy0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLWJlZm9yZS0tV2lkdGg6dmFyKC0tcGYtZ2xvYmFsLS1Cb3JkZXJXaWR0aC0tbGcpOy0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLWJlZm9yZS0tVHJhbnNpdGlvbjp2YXIoLS1wZi1nbG9iYWwtLVRyYW5zaXRpb24pOy0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLW0tc2VsZWN0YWJsZS0tYWN0aXZlLS1Cb3hTaGFkb3c6dmFyKC0tcGYtZ2xvYmFsLS1Cb3hTaGFkb3ctLXNtLXRvcCksdmFyKC0tcGYtZ2xvYmFsLS1Cb3hTaGFkb3ctLXNtLWJvdHRvbSk7LS1wZi1jLXRhYmxlLXJvd19faXRlbS0tbS1zZWxlY3RhYmxlLS1PdXRsaW5lT2Zmc2V0OmNhbGModmFyKC0tcGYtZ2xvYmFsLS1zcGFjZXItLXhzKSotMSk7LS1wZi1jLXRhYmxlLXJvd19faXRlbS0tbS1zZWxlY3RhYmxlLS1ob3Zlci0tQm94U2hhZG93OnZhcigtLXBmLWdsb2JhbC0tQm94U2hhZG93LS1zbS10b3ApLHZhcigtLXBmLWdsb2JhbC0tQm94U2hhZG93LS1zbS1ib3R0b20pO21hcmdpbi1ib3R0b206dmFyKC0tcGYtZ2xvYmFsLS1zcGFjZXItLXhzKX1AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOjc2OHB4KXsucGYtYy10YWJsZS1yb3dfX2l0ZW0gdGQ6Zmlyc3QtY2hpbGQ6YmVmb3Jle2JhY2tncm91bmQtY29sb3I6dmFyKC0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLWJlZm9yZS0tQmFja2dyb3VuZENvbG9yKTtib3R0b206MDtjb250ZW50OlxcXCJcXFwiO2xlZnQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6dmFyKC0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLWJlZm9yZS0tVG9wKTt0cmFuc2l0aW9uOnZhcigtLXBmLWMtdGFibGUtcm93X19pdGVtLS1iZWZvcmUtLVRyYW5zaXRpb24pO3dpZHRoOnZhcigtLXBmLWMtdGFibGUtcm93X19pdGVtLS1iZWZvcmUtLVdpZHRoKX19LnBmLWMtdGFibGUtcm93X19pdGVtLnBmLW0tc2VsZWN0YWJsZXtjdXJzb3I6cG9pbnRlcjtvdXRsaW5lLW9mZnNldDp2YXIoLS1wZi1jLXRhYmxlLXJvd19faXRlbS0tbS1zZWxlY3RhYmxlLS1PdXRsaW5lT2Zmc2V0KX0ucGYtYy10YWJsZS1yb3dfX2l0ZW0ucGYtbS1zZWxlY3RhYmxlOmZvY3VzLC5wZi1jLXRhYmxlLXJvd19faXRlbS5wZi1tLXNlbGVjdGFibGU6aG92ZXJ7cG9zaXRpb246cmVsYXRpdmU7ei1pbmRleDp2YXIoLS1wZi1jLXRhYmxlLXJvd19faXRlbS0tbS1zZWxlY3RhYmxlLS1ob3Zlci0tWkluZGV4KX0ucGYtYy10YWJsZS1yb3dfX2l0ZW0ucGYtbS1zZWxlY3RhYmxlOmhvdmVye2JveC1zaGFkb3c6dmFyKC0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLW0tc2VsZWN0YWJsZS0taG92ZXItLUJveFNoYWRvdyl9LnBmLWMtdGFibGUtcm93X19pdGVtLnBmLW0tc2VsZWN0YWJsZTpmb2N1c3tib3gtc2hhZG93OnZhcigtLXBmLWMtdGFibGUtcm93X19pdGVtLS1tLXNlbGVjdGFibGUtLWZvY3VzLS1Cb3hTaGFkb3cpfS5wZi1jLXRhYmxlLXJvd19faXRlbS5wZi1tLXNlbGVjdGFibGU6YWN0aXZle2JveC1zaGFkb3c6dmFyKC0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLW0tc2VsZWN0YWJsZS0tYWN0aXZlLS1Cb3hTaGFkb3cpfS5wZi1jLXRhYmxlLXJvd19faXRlbS5wZi1tLXNlbGVjdGFibGUucGYtbS1zZWxlY3RlZHstLXBmLWMtdGFibGUtcm93X19pdGVtLS1iZWZvcmUtLUJhY2tncm91bmRDb2xvcjp2YXIoLS1wZi1jLXRhYmxlLXJvd19faXRlbS0tbS1zZWxlY3RlZC0tYmVmb3JlLS1CYWNrZ3JvdW5kQ29sb3IpO2JveC1zaGFkb3c6dmFyKC0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLW0tc2VsZWN0ZWQtLUJveFNoYWRvdyk7cG9zaXRpb246cmVsYXRpdmU7ei1pbmRleDp2YXIoLS1wZi1jLXRhYmxlLXJvd19faXRlbS0tbS1zZWxlY3RlZC0tWkluZGV4KX0ucGYtYy10YWJsZS1yb3dfX2l0ZW0ucGYtbS1kaXNhYmxlZCB0ZHtjb2xvcjp2YXIoLS1wZi1nbG9iYWwtLUNvbG9yLS0yMDApfVwiO1xuc3R5bGVJbmplY3QoY3NzXzI0OHokMSk7XG5cbnZhciBjc3NfMjQ4eiQyID0gXCIuY29zLS1jb25uZWN0b3JzX190YWJsZS0taWNvbi0tY29tcGxldGVke2NvbG9yOnZhcigtLXBmLWdsb2JhbC0tc3VjY2Vzcy1jb2xvci0tMTAwKX0uY29zLS1jb25uZWN0b3JzX190YWJsZS0taWNvbi0tZmFpbGVke2NvbG9yOnZhcigtLXBmLWdsb2JhbC0tZGFuZ2VyLWNvbG9yLS0xMDApfVwiO1xuc3R5bGVJbmplY3QoY3NzXzI0OHokMik7XG5cbnZhciBDb25uZWN0b3JTdGF0dXNJY29uID0gZnVuY3Rpb24gQ29ubmVjdG9yU3RhdHVzSWNvbihfcmVmKSB7XG4gIHZhciBpZCA9IF9yZWYuaWQsXG4gICAgICBzdGF0dXMgPSBfcmVmLnN0YXR1cztcblxuICBzd2l0Y2ggKHN0YXR1cyA9PSBudWxsID8gdm9pZCAwIDogc3RhdHVzLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdyZWFkeSc6XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDaGVja0NpcmNsZUljb24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNvcy0tY29ubmVjdG9yc19fdGFibGUtLWljb24tLWNvbXBsZXRlZFwiXG4gICAgICB9KTtcblxuICAgIGNhc2UgJ2ZhaWxlZCc6XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFeGNsYW1hdGlvbkNpcmNsZUljb24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNvcy0tY29ubmVjdG9yc19fdGFibGUtLWljb24tLWZhaWxlZFwiXG4gICAgICB9KTtcblxuICAgIGNhc2UgJ2FjY2VwdGVkJzpcbiAgICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBlbmRpbmdJY29uLCBudWxsKTtcblxuICAgIGNhc2UgJ3Byb3Zpc2lvbmluZyc6XG4gICAgY2FzZSAncHJlcGFyaW5nJzpcbiAgICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNwaW5uZXIsIHtcbiAgICAgICAgc2l6ZTogXCJtZFwiLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogaWQsXG4gICAgICAgIFwiYXJpYS12YWx1ZXRleHRcIjogXCJDcmVhdGlvbiBpbiBwcm9ncmVzc1wiXG4gICAgICB9KTtcblxuICAgIGNhc2UgJ2RlcHJvdmlzaW9uJzpcbiAgICBjYXNlICdkZWxldGVkJzpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGVuZGluZ0ljb24sIG51bGwpO1xufTtcblxudmFyIENvbm5lY3RvcnNUb29sYmFyID0gZnVuY3Rpb24gQ29ubmVjdG9yc1Rvb2xiYXIoKSB7XG4gIHZhciBzZXJ2aWNlID0gdXNlQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlKCk7XG5cbiAgdmFyIF91c2VDb25uZWN0b3JzTWFjaGluZSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lKHNlcnZpY2UpLFxuICAgICAgcmVxdWVzdCA9IF91c2VDb25uZWN0b3JzTWFjaGluZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2UgPSBfdXNlQ29ubmVjdG9yc01hY2hpbmUucmVzcG9uc2U7XG5cbiAgdmFyIG9uQ2hhbmdlID0gZnVuY3Rpb24gb25DaGFuZ2UocmVxdWVzdCkge1xuICAgIHJldHVybiBzZXJ2aWNlLnNlbmQoX2V4dGVuZHMoe1xuICAgICAgdHlwZTogJ2FwaS5xdWVyeSdcbiAgICB9LCByZXF1ZXN0KSk7XG4gIH07XG5cbiAgdmFyIHNlYXJjaElucHV0UmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgZGVib3VuY2VkT25DaGFuZ2UgPSB1c2VEZWJvdW5jZShvbkNoYW5nZSwgMTAwMCk7XG4gIHZhciBkZWZhdWx0UGVyUGFnZU9wdGlvbnMgPSBbe1xuICAgIHRpdGxlOiAnMScsXG4gICAgdmFsdWU6IDFcbiAgfSwge1xuICAgIHRpdGxlOiAnNScsXG4gICAgdmFsdWU6IDVcbiAgfSwge1xuICAgIHRpdGxlOiAnMTAnLFxuICAgIHZhbHVlOiAxMFxuICB9XTsgLy8gY29uc3QgW3N0YXR1c2VzLCBzZXRTdGF0dXNlc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW1xuICAvLyAgICdQZW5kaW5nJyxcbiAgLy8gICAnQ3JlYXRlZCcsXG4gIC8vICAgJ0NhbmNlbGxlZCcsXG4gIC8vIF0pO1xuICAvLyBjb25zdCBbc3RhdHVzZXNUb2dnbGVkLCBzZXRTdGF0dXNlc1RvZ2dsZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvLyBjb25zdCBjbGVhckFsbEZpbHRlcnMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gIC8vICAgc2V0U2VhcmNoVmFsdWUoJycpO1xuICAvLyAgIHNldFN0YXR1c2VzKFtdKTtcbiAgLy8gfSwgW10pO1xuICAvLyBjb25zdCB0b2dnbGVTdGF0dXNlcyA9IHVzZUNhbGxiYWNrKFxuICAvLyAgICgpID0+IHNldFN0YXR1c2VzVG9nZ2xlZChwcmV2ID0+ICFwcmV2KSxcbiAgLy8gICBbXVxuICAvLyApO1xuICAvLyBjb25zdCBvblNlbGVjdFN0YXR1cyA9IHVzZUNhbGxiYWNrKFxuICAvLyAgIChfLCBzdGF0dXMpID0+XG4gIC8vICAgICBzZXRTdGF0dXNlcyhwcmV2ID0+XG4gIC8vICAgICAgIHByZXYuaW5jbHVkZXMoc3RhdHVzKVxuICAvLyAgICAgICAgID8gcHJldi5maWx0ZXIocyA9PiBzICE9PSBzdGF0dXMpXG4gIC8vICAgICAgICAgOiBbLi4ucHJldiwgc3RhdHVzXVxuICAvLyAgICAgKSxcbiAgLy8gICBbXVxuICAvLyApO1xuICAvLyBjb25zdCBzdGF0dXNNZW51SXRlbXMgPSBbXG4gIC8vICAgPFNlbGVjdE9wdGlvbiBrZXk9XCJzdGF0dXNQZW5kaW5nXCIgdmFsdWU9XCJQZW5kaW5nXCIgLz4sXG4gIC8vICAgPFNlbGVjdE9wdGlvbiBrZXk9XCJzdGF0dXNDcmVhdGVkXCIgdmFsdWU9XCJDcmVhdGVkXCIgLz4sXG4gIC8vICAgPFNlbGVjdE9wdGlvbiBrZXk9XCJzdGF0dXNDYW5jZWxsZWRcIiB2YWx1ZT1cIkNhbmNlbGxlZFwiIC8+LFxuICAvLyBdO1xuICAvLyBlbnN1cmUgdGhlIHNlYXJjaCBpbnB1dCB2YWx1ZSByZWZsZWN0cyB3aGF0J3Mgc3BlY2lmaWVkIGluIHRoZSByZXF1ZXN0IG9iamVjdFxuICAvLyB1c2VFZmZlY3QoKCkgPT4ge1xuICAvLyAgIGlmIChzZWFyY2hJbnB1dFJlZi5jdXJyZW50KSB7XG4gIC8vICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50LnZhbHVlID0gKHJlcXVlc3QubmFtZSBhcyBzdHJpbmcgfCB1bmRlZmluZWQpIHx8ICcnO1xuICAvLyAgIH1cbiAgLy8gfSwgW3NlYXJjaElucHV0UmVmLCByZXF1ZXN0XSk7XG5cbiAgdmFyIHRvZ2dsZUdyb3VwSXRlbXMgPSBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRvb2xiYXJJdGVtLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KElucHV0R3JvdXAsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGV4dElucHV0LCB7XG4gICAgbmFtZTogXCJ0ZXh0SW5wdXQyXCIsXG4gICAgaWQ6IFwidGV4dElucHV0MlwiLFxuICAgIHR5cGU6IFwic2VhcmNoXCIsXG4gICAgXCJhcmlhLWxhYmVsXCI6IFwic2VhcmNoIGlucHV0IGV4YW1wbGVcIixcbiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UodmFsdWUpIHtcbiAgICAgIHJldHVybiBkZWJvdW5jZWRPbkNoYW5nZSh7XG4gICAgICAgIHNpemU6IHJlcXVlc3Quc2l6ZSxcbiAgICAgICAgcGFnZTogMSxcbiAgICAgICAgbmFtZTogdmFsdWVcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgcmVmOiBzZWFyY2hJbnB1dFJlZlxuICB9KSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB2YXJpYW50OiAnY29udHJvbCcsXG4gICAgXCJhcmlhLWxhYmVsXCI6IFwic2VhcmNoIGJ1dHRvbiBmb3Igc2VhcmNoIGlucHV0XCJcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTZWFyY2hJY29uLCBudWxsKSkpKSk7XG4gIHZhciB0b29sYmFySXRlbXMgPSBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRvb2xiYXJUb2dnbGVHcm91cCwge1xuICAgIHRvZ2dsZUljb246IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRmlsdGVySWNvbiwgbnVsbCksXG4gICAgYnJlYWtwb2ludDogXCJ4bFwiXG4gIH0sIHRvZ2dsZUdyb3VwSXRlbXMpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRvb2xiYXJHcm91cCwge1xuICAgIHZhcmlhbnQ6IFwiaWNvbi1idXR0b24tZ3JvdXBcIlxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRvb2xiYXJJdGVtLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KE5hdkxpbmssIHtcbiAgICBjbGFzc05hbWU6IFwicGYtYy1idXR0b24gcGYtbS1wcmltYXJ5XCIsXG4gICAgdG86ICcvY3JlYXRlLWNvbm5lY3RvcidcbiAgfSwgXCJDcmVhdGUgQ29ubmVjdG9yXCIpKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhckl0ZW0sIHtcbiAgICB2YXJpYW50OiBcInBhZ2luYXRpb25cIixcbiAgICBhbGlnbm1lbnQ6IHtcbiAgICAgIFwiZGVmYXVsdFwiOiAnYWxpZ25SaWdodCdcbiAgICB9XG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGFnaW5hdGlvbiwge1xuICAgIGl0ZW1Db3VudDogKHJlc3BvbnNlID09IG51bGwgPyB2b2lkIDAgOiByZXNwb25zZS50b3RhbCkgfHwgMCxcbiAgICBwYWdlOiByZXF1ZXN0LnBhZ2UsXG4gICAgcGVyUGFnZTogcmVxdWVzdC5zaXplLFxuICAgIHBlclBhZ2VPcHRpb25zOiBkZWZhdWx0UGVyUGFnZU9wdGlvbnMsXG4gICAgb25TZXRQYWdlOiBmdW5jdGlvbiBvblNldFBhZ2UoXywgcGFnZSwgc2l6ZSkge1xuICAgICAgcmV0dXJuIG9uQ2hhbmdlKF9leHRlbmRzKHt9LCByZXF1ZXN0LCB7XG4gICAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICAgIHNpemU6IHNpemUgfHwgcmVxdWVzdC5zaXplXG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBvblBlclBhZ2VTZWxlY3Q6IGZ1bmN0aW9uIG9uUGVyUGFnZVNlbGVjdCgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIHZhcmlhbnQ6IFwidG9wXCIsXG4gICAgaXNDb21wYWN0OiB0cnVlXG4gIH0pKSk7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRvb2xiYXIsIHtcbiAgICBpZDogXCJ0b29sYmFyLWdyb3VwLXR5cGVzXCIsXG4gICAgY29sbGFwc2VMaXN0ZWRGaWx0ZXJzQnJlYWtwb2ludDogXCJ4bFwiXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhckNvbnRlbnQsIG51bGwsIHRvb2xiYXJJdGVtcykpO1xufTtcblxuLyoqXHJcbiAqIEEgbW9kYWwgZGlhbG9nIHRvIGRpc3BsYXkgY29uZmlybWF0aW9uIGZvciBjb25uZWN0b3IgZGVsZXRpb24uXHJcbiAqL1xuXG52YXIgRGVsZXRlRGlhbG9nID0gZnVuY3Rpb24gRGVsZXRlRGlhbG9nKF9yZWYpIHtcbiAgdmFyIGNvbm5lY3Rvck5hbWUgPSBfcmVmLmNvbm5lY3Rvck5hbWUsXG4gICAgICBpMThuQ2FuY2VsID0gX3JlZi5pMThuQ2FuY2VsLFxuICAgICAgaTE4bkRlbGV0ZSA9IF9yZWYuaTE4bkRlbGV0ZSxcbiAgICAgIGkxOG5UaXRsZSA9IF9yZWYuaTE4blRpdGxlLFxuICAgICAgb25DYW5jZWwgPSBfcmVmLm9uQ2FuY2VsLFxuICAgICAgb25Db25maXJtID0gX3JlZi5vbkNvbmZpcm0sXG4gICAgICBzaG93RGlhbG9nID0gX3JlZi5zaG93RGlhbG9nO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSgnJyksXG4gICAgICBuYW1lVmFsdWUgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXROYW1lVmFsdWUgPSBfdXNlU3RhdGVbMV07XG5cbiAgdmFyIGNhbkRlbGV0ZSA9IG5hbWVWYWx1ZSA9PT0gY29ubmVjdG9yTmFtZTtcblxuICB2YXIgb25DYW5jZWxEZWxldGUgPSBmdW5jdGlvbiBvbkNhbmNlbERlbGV0ZSgpIHtcbiAgICBzZXROYW1lVmFsdWUoJycpO1xuICAgIG9uQ2FuY2VsKCk7XG4gIH07XG5cbiAgdmFyIG9uQ29uZmlybURlbGV0ZSA9IGZ1bmN0aW9uIG9uQ29uZmlybURlbGV0ZSgpIHtcbiAgICBzZXROYW1lVmFsdWUoJycpO1xuICAgIG9uQ29uZmlybSgpO1xuICB9O1xuXG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KE1vZGFsLCB7XG4gICAgdmFyaWFudDogTW9kYWxWYXJpYW50LnNtYWxsLFxuICAgIHRpdGxlOiBpMThuVGl0bGUsXG4gICAgdGl0bGVJY29uVmFyaWFudDogXCJ3YXJuaW5nXCIsXG4gICAgaXNPcGVuOiBzaG93RGlhbG9nLFxuICAgIG9uQ2xvc2U6IG9uQ2FuY2VsLFxuICAgIGFjdGlvbnM6IFtSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAga2V5OiBcImNvbmZpcm1cIixcbiAgICAgIHZhcmlhbnQ6IFwiZGFuZ2VyXCIsXG4gICAgICBpc0Rpc2FibGVkOiAhY2FuRGVsZXRlLFxuICAgICAgb25DbGljazogb25Db25maXJtRGVsZXRlXG4gICAgfSwgaTE4bkRlbGV0ZSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgICBrZXk6IFwiY2FuY2VsXCIsXG4gICAgICB2YXJpYW50OiBcImxpbmtcIixcbiAgICAgIG9uQ2xpY2s6IG9uQ2FuY2VsRGVsZXRlXG4gICAgfSwgaTE4bkNhbmNlbCldXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU3RhY2ssIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU3RhY2tJdGVtLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRyYW5zLCB7XG4gICAgaTE4bktleTogXCJkZWxldGVDb25maXJtTWVzc2FnZVwiXG4gIH0sIFwiQ29ubmVjdG9yIFwiLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3Ryb25nXCIsIG51bGwsIHtcbiAgICBjb25uZWN0b3JOYW1lOiBjb25uZWN0b3JOYW1lXG4gIH0pLCBcIiB3aWxsIGJlIGRlbGV0ZWQuXCIpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTdGFja0l0ZW0sIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVHJhbnMsIHtcbiAgICBpMThuS2V5OiBcImRlbGV0ZVR5cGVOYW1lTWVzc2FnZVwiXG4gIH0sIFwiVHlwZSBcIiwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiLCBudWxsLCB7XG4gICAgY29ubmVjdG9yTmFtZTogY29ubmVjdG9yTmFtZVxuICB9KSwgXCIgdG8gY29uZmlybSB0aGUgZGVsZXRpb24uXCIpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTdGFja0l0ZW0sIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGV4dElucHV0LCB7XG4gICAgdmFsdWU6IG5hbWVWYWx1ZSxcbiAgICB0eXBlOiBcInRleHRcIixcbiAgICBvbkNoYW5nZTogc2V0TmFtZVZhbHVlLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBcIm5hbWUgaW5wdXRcIlxuICB9KSkpKTtcbn07XG5cbnZhciBDb25uZWN0b3JzVGFibGUgPSBmdW5jdGlvbiBDb25uZWN0b3JzVGFibGUoKSB7XG4gIHZhciBfcmVzcG9uc2UkaXRlbXM7XG5cbiAgdmFyIF91c2VUcmFuc2xhdGlvbiA9IHVzZVRyYW5zbGF0aW9uKCksXG4gICAgICB0ID0gX3VzZVRyYW5zbGF0aW9uLnQ7XG5cbiAgdmFyIHNlcnZpY2UgPSB1c2VDb25uZWN0b3JzTWFjaGluZVNlcnZpY2UoKTtcblxuICB2YXIgX3VzZUNvbm5lY3RvcnNNYWNoaW5lID0gdXNlQ29ubmVjdG9yc01hY2hpbmUoc2VydmljZSksXG4gICAgICByZXNwb25zZSA9IF91c2VDb25uZWN0b3JzTWFjaGluZS5yZXNwb25zZTtcblxuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdlU2VjdGlvbiwge1xuICAgIHBhZGRpbmc6IHtcbiAgICAgIFwiZGVmYXVsdFwiOiAnbm9QYWRkaW5nJ1xuICAgIH0sXG4gICAgaXNGaWxsZWQ6IHRydWVcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25uZWN0b3JzVG9vbGJhciwgbnVsbCksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGFibGVDb21wb3NhYmxlLCB7XG4gICAgXCJhcmlhLWxhYmVsXCI6IFwiU29ydGFibGUgVGFibGVcIixcbiAgICBjbGFzc05hbWU6IGNzcygnY29ubmVjdG9ycy10YWJsZS12aWV3X190YWJsZScpXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGhlYWQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVHIsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGgsIG51bGwsIHQoJ25hbWUnKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGgsIG51bGwsIHQoJ3R5cGUnKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGgsIG51bGwsIHQoJ2NhdGVnb3J5JykpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRoLCBudWxsLCB0KCdzdGF0dXMnKSkpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUYm9keSwgbnVsbCwgcmVzcG9uc2UgPT0gbnVsbCA/IHZvaWQgMCA6IChfcmVzcG9uc2UkaXRlbXMgPSByZXNwb25zZS5pdGVtcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9yZXNwb25zZSRpdGVtcy5tYXAoZnVuY3Rpb24gKHJlZikge1xuICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RvclJvdywge1xuICAgICAgY29ubmVjdG9yUmVmOiByZWYsXG4gICAgICBrZXk6IHJlZi5pZFxuICAgIH0pO1xuICB9KSkpKTtcbn07XG52YXIgQ29ubmVjdG9yUm93ID0gZnVuY3Rpb24gQ29ubmVjdG9yUm93KF9yZWYpIHtcbiAgdmFyIF9jb25uZWN0b3IkbWV0YWRhdGEsIF9jb25uZWN0b3IkbWV0YWRhdGEyO1xuXG4gIHZhciBjb25uZWN0b3JSZWYgPSBfcmVmLmNvbm5lY3RvclJlZjtcblxuICB2YXIgX3VzZVRyYW5zbGF0aW9uMiA9IHVzZVRyYW5zbGF0aW9uKCksXG4gICAgICB0ID0gX3VzZVRyYW5zbGF0aW9uMi50O1xuXG4gIHZhciBzZXJ2aWNlID0gdXNlQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlKCk7XG5cbiAgdmFyIF91c2VDb25uZWN0b3JzTWFjaGluZTIgPSB1c2VDb25uZWN0b3JzTWFjaGluZShzZXJ2aWNlKSxcbiAgICAgIHNlbGVjdGVkQ29ubmVjdG9yID0gX3VzZUNvbm5lY3RvcnNNYWNoaW5lMi5zZWxlY3RlZENvbm5lY3RvcjtcblxuICB2YXIgX3VzZUNvbm5lY3RvciA9IHVzZUNvbm5lY3Rvcihjb25uZWN0b3JSZWYpLFxuICAgICAgY29ubmVjdG9yID0gX3VzZUNvbm5lY3Rvci5jb25uZWN0b3IsXG4gICAgICBjYW5TdGFydCA9IF91c2VDb25uZWN0b3IuY2FuU3RhcnQsXG4gICAgICBjYW5TdG9wID0gX3VzZUNvbm5lY3Rvci5jYW5TdG9wLFxuICAgICAgY2FuRGVsZXRlID0gX3VzZUNvbm5lY3Rvci5jYW5EZWxldGUsXG4gICAgICBvblN0YXJ0ID0gX3VzZUNvbm5lY3Rvci5vblN0YXJ0LFxuICAgICAgb25TdG9wID0gX3VzZUNvbm5lY3Rvci5vblN0b3AsXG4gICAgICBvbkRlbGV0ZSA9IF91c2VDb25uZWN0b3Iub25EZWxldGUsXG4gICAgICBvblNlbGVjdCA9IF91c2VDb25uZWN0b3Iub25TZWxlY3Q7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIHNob3dEZWxldGVDb25uZWN0b3JDb25maXJtID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0U2hvd0RlbGV0ZUNvbm5lY3RvckNvbmZpcm0gPSBfdXNlU3RhdGVbMV07XG5cbiAgdmFyIGRvQ2FuY2VsRGVsZXRlQ29ubmVjdG9yID0gZnVuY3Rpb24gZG9DYW5jZWxEZWxldGVDb25uZWN0b3IoKSB7XG4gICAgc2V0U2hvd0RlbGV0ZUNvbm5lY3RvckNvbmZpcm0oZmFsc2UpO1xuICB9O1xuXG4gIHZhciBkb0RlbGV0ZUNvbm5lY3RvciA9IGZ1bmN0aW9uIGRvRGVsZXRlQ29ubmVjdG9yKCkge1xuICAgIHNldFNob3dEZWxldGVDb25uZWN0b3JDb25maXJtKGZhbHNlKTtcbiAgICBvbkRlbGV0ZSgpO1xuICB9O1xuXG4gIHZhciBhY3Rpb25zID0gW3tcbiAgICB0aXRsZTogJ1N0YXJ0JyxcbiAgICBvbkNsaWNrOiBvblN0YXJ0LFxuICAgIGlzRGlzYWJsZWQ6ICFjYW5TdGFydFxuICB9LCB7XG4gICAgdGl0bGU6ICdTdG9wJyxcbiAgICBvbkNsaWNrOiBvblN0b3AsXG4gICAgaXNEaXNhYmxlZDogIWNhblN0b3BcbiAgfSwge1xuICAgIHRpdGxlOiAnRGVsZXRlJyxcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIHNldFNob3dEZWxldGVDb25uZWN0b3JDb25maXJtKHRydWUpO1xuICAgIH0sXG4gICAgaXNEaXNhYmxlZDogIWNhbkRlbGV0ZVxuICB9LCB7XG4gICAgaXNTZXBhcmF0b3I6IHRydWVcbiAgfSwge1xuICAgIHRpdGxlOiAnT3ZlcnZpZXcnLFxuICAgIG9uQ2xpY2s6IG9uU2VsZWN0XG4gIH1dO1xuICB2YXIgc3RhdHVzT3B0aW9ucyA9IFt7XG4gICAgdmFsdWU6ICdyZWFkeScsXG4gICAgbGFiZWw6IHQoJ1J1bm5pbmcnKVxuICB9LCB7XG4gICAgdmFsdWU6ICdmYWlsZWQnLFxuICAgIGxhYmVsOiB0KCdGYWlsZWQnKVxuICB9LCB7XG4gICAgdmFsdWU6ICdhc3NpZ25pbmcnLFxuICAgIGxhYmVsOiB0KCdDcmVhdGlvbiBwZW5kaW5nJylcbiAgfSwge1xuICAgIHZhbHVlOiAnYXNzaWduZWQnLFxuICAgIGxhYmVsOiB0KCdDcmVhdGlvbiBpbiBwcm9ncmVzcycpXG4gIH0sIHtcbiAgICB2YWx1ZTogJ3VwZGF0aW5nJyxcbiAgICBsYWJlbDogdCgnQ3JlYXRpb24gaW4gcHJvZ3Jlc3MnKVxuICB9LCB7XG4gICAgdmFsdWU6ICdwcm92aXNpb25pbmcnLFxuICAgIGxhYmVsOiB0KCdDcmVhdGlvbiBpbiBwcm9ncmVzcycpXG4gIH0sIHtcbiAgICB2YWx1ZTogJ2RlbGV0aW5nJyxcbiAgICBsYWJlbDogdCgnRGVsZXRpbmcnKVxuICB9LCB7XG4gICAgdmFsdWU6ICdkZWxldGVkJyxcbiAgICBsYWJlbDogdCgnRGVsZXRpbmcnKVxuICB9XTtcblxuICB2YXIgZ2V0U3RhdHVzTGFiZWwgPSBmdW5jdGlvbiBnZXRTdGF0dXNMYWJlbChzdGF0dXMpIHtcbiAgICB2YXIgX3N0YXR1c09wdGlvbnMkZmluZDtcblxuICAgIHJldHVybiAoKF9zdGF0dXNPcHRpb25zJGZpbmQgPSBzdGF0dXNPcHRpb25zLmZpbmQoZnVuY3Rpb24gKHMpIHtcbiAgICAgIHJldHVybiBzLnZhbHVlID09PSBzdGF0dXM7XG4gICAgfSkpID09IG51bGwgPyB2b2lkIDAgOiBfc3RhdHVzT3B0aW9ucyRmaW5kLmxhYmVsKSB8fCBzdGF0dXM7XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRGVsZXRlRGlhbG9nLCB7XG4gICAgY29ubmVjdG9yTmFtZTogKF9jb25uZWN0b3IkbWV0YWRhdGEgPSBjb25uZWN0b3IubWV0YWRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfY29ubmVjdG9yJG1ldGFkYXRhLm5hbWUsXG4gICAgaTE4bkNhbmNlbDogdCgnY2FuY2VsJyksXG4gICAgaTE4bkRlbGV0ZTogdCgnZGVsZXRlJyksXG4gICAgaTE4blRpdGxlOiB0KCdkZWxldGVDb25uZWN0b3InKSxcbiAgICBzaG93RGlhbG9nOiBzaG93RGVsZXRlQ29ubmVjdG9yQ29uZmlybSxcbiAgICBvbkNhbmNlbDogZG9DYW5jZWxEZWxldGVDb25uZWN0b3IsXG4gICAgb25Db25maXJtOiBkb0RlbGV0ZUNvbm5lY3RvclxuICB9KSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUciwge1xuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgIHZhciBfZXZlbnQkdGFyZ2V0O1xuXG4gICAgICAvLyBzZW5kIHRoZSBldmVudCBvbmx5IGlmIHRoZSBjbGljayBkaWRuJ3QgaGFwcGVuIG9uIHRoZSBhY3Rpb25zIGJ1dHRvblxuICAgICAgaWYgKCgoX2V2ZW50JHRhcmdldCA9IGV2ZW50LnRhcmdldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9ldmVudCR0YXJnZXQudHlwZSkgIT09ICdidXR0b24nKSB7XG4gICAgICAgIG9uU2VsZWN0KCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjbGFzc05hbWU6IGNzcygncGYtYy10YWJsZS1yb3dfX2l0ZW0nLCAncGYtbS1zZWxlY3RhYmxlJywgKHNlbGVjdGVkQ29ubmVjdG9yID09IG51bGwgPyB2b2lkIDAgOiBzZWxlY3RlZENvbm5lY3Rvci5pZCkgPT09IGNvbm5lY3Rvci5pZCAmJiAncGYtbS1zZWxlY3RlZCcpXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGQsIHtcbiAgICBkYXRhTGFiZWw6IHQoJ25hbWUnKVxuICB9LCAoX2Nvbm5lY3RvciRtZXRhZGF0YTIgPSBjb25uZWN0b3IubWV0YWRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfY29ubmVjdG9yJG1ldGFkYXRhMi5uYW1lKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUZCwge1xuICAgIGRhdGFMYWJlbDogdCgndHlwZScpXG4gIH0sIGNvbm5lY3Rvci5jb25uZWN0b3JfdHlwZV9pZCksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGQsIHtcbiAgICBkYXRhTGFiZWw6IHQoJ2NhdGVnb3J5JylcbiAgfSwgXCJUT0RPOiBNSVNTSU5HXCIpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRkLCB7XG4gICAgZGF0YUxhYmVsOiB0KCdzdGF0dXMnKVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZsZXgsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRmxleEl0ZW0sIHtcbiAgICBzcGFjZXI6IHtcbiAgICAgIFwiZGVmYXVsdFwiOiAnc3BhY2VyU20nXG4gICAgfVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RvclN0YXR1c0ljb24sIHtcbiAgICBpZDogY29ubmVjdG9yLmlkLFxuICAgIHN0YXR1czogY29ubmVjdG9yLnN0YXR1c1xuICB9KSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRmxleEl0ZW0sIG51bGwsIGdldFN0YXR1c0xhYmVsKGNvbm5lY3Rvci5zdGF0dXMpKSkpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRkLCB7XG4gICAgYWN0aW9uczoge1xuICAgICAgaXRlbXM6IGFjdGlvbnNcbiAgICB9XG4gIH0pKSk7XG59O1xuXG52YXIgQ29ubmVjdGVkQ29ubmVjdG9yc1BhZ2UgPSBmdW5jdGlvbiBDb25uZWN0ZWRDb25uZWN0b3JzUGFnZShfcmVmKSB7XG4gIHZhciBvbkNyZWF0ZUNvbm5lY3RvciA9IF9yZWYub25DcmVhdGVDb25uZWN0b3I7XG5cbiAgdmFyIF91c2VUcmFuc2xhdGlvbiA9IHVzZVRyYW5zbGF0aW9uKCksXG4gICAgICB0ID0gX3VzZVRyYW5zbGF0aW9uLnQ7XG5cbiAgdmFyIF91c2VBbGVydCA9IHVzZUFsZXJ0KCksXG4gICAgICBhZGRBbGVydCA9IF91c2VBbGVydC5hZGRBbGVydDtcblxuICB2YXIgX3VzZUFwcENvbnRleHQgPSB1c2VBcHBDb250ZXh0KCksXG4gICAgICBiYXNlUGF0aCA9IF91c2VBcHBDb250ZXh0LmJhc2VQYXRoLFxuICAgICAgZ2V0VG9rZW4gPSBfdXNlQXBwQ29udGV4dC5nZXRUb2tlbjtcblxuICB2YXIgb25FcnJvciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgIGFkZEFsZXJ0KHtcbiAgICAgIGlkOiAnY29ubmVjdG9ycy10YWJsZS1lcnJvcicsXG4gICAgICB2YXJpYW50OiBBbGVydFZhcmlhbnQuZGFuZ2VyLFxuICAgICAgdGl0bGU6IHQoJ2NvbW1vbi5zb21ldGhpbmdfd2VudF93cm9uZycpLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uXG4gICAgfSk7XG4gIH0sIFthZGRBbGVydCwgdF0pO1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25uZWN0b3JzTWFjaGluZVByb3ZpZGVyLCB7XG4gICAgYWNjZXNzVG9rZW46IGdldFRva2VuLFxuICAgIGJhc2VQYXRoOiBiYXNlUGF0aCxcbiAgICBvbkVycm9yOiBvbkVycm9yXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdG9yc1BhZ2UsIHtcbiAgICBvbkNyZWF0ZUNvbm5lY3Rvcjogb25DcmVhdGVDb25uZWN0b3JcbiAgfSkpO1xufTtcbnZhciBDb25uZWN0b3JzUGFnZSA9IGZ1bmN0aW9uIENvbm5lY3RvcnNQYWdlKF9yZWYyKSB7XG4gIHZhciBvbkNyZWF0ZUNvbm5lY3RvciA9IF9yZWYyLm9uQ3JlYXRlQ29ubmVjdG9yO1xuICB2YXIgc2VydmljZSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lU2VydmljZSgpO1xuICB2YXIgaXNSZWFkeSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lSXNSZWFkeShzZXJ2aWNlKTtcbiAgcmV0dXJuIGlzUmVhZHkgPyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RvcnNQYWdlQm9keSwge1xuICAgIG9uQ3JlYXRlQ29ubmVjdG9yOiBvbkNyZWF0ZUNvbm5lY3RvclxuICB9KSA6IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZywgbnVsbCk7XG59O1xuXG52YXIgQ29ubmVjdG9yc1BhZ2VCb2R5ID0gZnVuY3Rpb24gQ29ubmVjdG9yc1BhZ2VCb2R5KF9yZWYzKSB7XG4gIHZhciBvbkNyZWF0ZUNvbm5lY3RvciA9IF9yZWYzLm9uQ3JlYXRlQ29ubmVjdG9yO1xuXG4gIHZhciBfdXNlVHJhbnNsYXRpb24yID0gdXNlVHJhbnNsYXRpb24oKSxcbiAgICAgIHQgPSBfdXNlVHJhbnNsYXRpb24yLnQ7XG5cbiAgdmFyIHNlcnZpY2UgPSB1c2VDb25uZWN0b3JzTWFjaGluZVNlcnZpY2UoKTtcblxuICB2YXIgX3VzZUNvbm5lY3RvcnNNYWNoaW5lID0gdXNlQ29ubmVjdG9yc01hY2hpbmUoc2VydmljZSksXG4gICAgICBsb2FkaW5nID0gX3VzZUNvbm5lY3RvcnNNYWNoaW5lLmxvYWRpbmcsXG4gICAgICBlcnJvciA9IF91c2VDb25uZWN0b3JzTWFjaGluZS5lcnJvcixcbiAgICAgIG5vUmVzdWx0cyA9IF91c2VDb25uZWN0b3JzTWFjaGluZS5ub1Jlc3VsdHMsXG4gICAgICBxdWVyeUVtcHR5ID0gX3VzZUNvbm5lY3RvcnNNYWNoaW5lLnF1ZXJ5RW1wdHksXG4gICAgICBmaXJzdFJlcXVlc3QgPSBfdXNlQ29ubmVjdG9yc01hY2hpbmUuZmlyc3RSZXF1ZXN0O1xuXG4gIHN3aXRjaCAodHJ1ZSkge1xuICAgIGNhc2UgZmlyc3RSZXF1ZXN0OlxuICAgICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGFnZVNlY3Rpb24sIHtcbiAgICAgICAgcGFkZGluZzoge1xuICAgICAgICAgIFwiZGVmYXVsdFwiOiAnbm9QYWRkaW5nJ1xuICAgICAgICB9LFxuICAgICAgICBpc0ZpbGxlZDogdHJ1ZVxuICAgICAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChMb2FkaW5nLCBudWxsKSk7XG5cbiAgICBjYXNlIHF1ZXJ5RW1wdHk6XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdlU2VjdGlvbiwge1xuICAgICAgICBwYWRkaW5nOiB7XG4gICAgICAgICAgXCJkZWZhdWx0XCI6ICdub1BhZGRpbmcnXG4gICAgICAgIH0sXG4gICAgICAgIGlzRmlsbGVkOiB0cnVlXG4gICAgICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KE5vTWF0Y2hGb3VuZCwge1xuICAgICAgICBvbkNsZWFyOiBmdW5jdGlvbiBvbkNsZWFyKCkge1xuICAgICAgICAgIHJldHVybiBzZXJ2aWNlLnNlbmQoe1xuICAgICAgICAgICAgdHlwZTogJ2FwaS5xdWVyeScsXG4gICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgc2l6ZTogMTBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuXG4gICAgY2FzZSBsb2FkaW5nOlxuICAgICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGFnZVNlY3Rpb24sIHtcbiAgICAgICAgcGFkZGluZzoge1xuICAgICAgICAgIFwiZGVmYXVsdFwiOiAnbm9QYWRkaW5nJ1xuICAgICAgICB9LFxuICAgICAgICBpc0ZpbGxlZDogdHJ1ZVxuICAgICAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25uZWN0b3JzVG9vbGJhciwgbnVsbCksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZywgbnVsbCkpO1xuXG4gICAgY2FzZSBub1Jlc3VsdHMgfHwgZXJyb3I6XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFbXB0eVN0YXRlLCB7XG4gICAgICAgIGVtcHR5U3RhdGVQcm9wczoge1xuICAgICAgICAgIHZhcmlhbnQ6IEVtcHR5U3RhdGVWYXJpYW50LkdldHRpbmdTdGFydGVkXG4gICAgICAgIH0sXG4gICAgICAgIHRpdGxlUHJvcHM6IHtcbiAgICAgICAgICB0aXRsZTogJ2Nvcy53ZWxjb21lX3RvX2NvcydcbiAgICAgICAgfSxcbiAgICAgICAgZW1wdHlTdGF0ZUJvZHlQcm9wczoge1xuICAgICAgICAgIGJvZHk6ICdjb3Mud2VsY29tZV9lbXB0eV9zdGF0ZV9ib2R5J1xuICAgICAgICB9LFxuICAgICAgICBidXR0b25Qcm9wczoge1xuICAgICAgICAgIHRpdGxlOiAnY29zLmNyZWF0ZV9jb3MnLFxuICAgICAgICAgIHZhcmlhbnQ6IEJ1dHRvblZhcmlhbnQucHJpbWFyeSxcbiAgICAgICAgICBvbkNsaWNrOiBvbkNyZWF0ZUNvbm5lY3RvclxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25uZWN0b3JEcmF3ZXIsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGFnZVNlY3Rpb24sIHtcbiAgICAgICAgdmFyaWFudDogJ2xpZ2h0J1xuICAgICAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUZXh0Q29udGVudCwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUaXRsZSwge1xuICAgICAgICBoZWFkaW5nTGV2ZWw6IFwiaDFcIlxuICAgICAgfSwgdCgnbWFuYWdlZENvbm5lY3RvcnMnKSkpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdlU2VjdGlvbiwge1xuICAgICAgICB2YXJpYW50OiAnbGlnaHQnLFxuICAgICAgICBwYWRkaW5nOiB7XG4gICAgICAgICAgXCJkZWZhdWx0XCI6ICdub1BhZGRpbmcnXG4gICAgICAgIH1cbiAgICAgIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdG9yc1RhYmxlLCBudWxsKSkpO1xuICB9XG59O1xuXG52YXIgZmV0Y2hDb25maWd1cmF0b3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZiA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3J1bnRpbWVfMS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGNvbm5lY3RvciwgY29uZmlnKSB7XG4gICAgdmFyIGRlZmF1bHRDb25maWc7XG4gICAgcmV0dXJuIHJ1bnRpbWVfMS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcbiAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGRlZmF1bHRDb25maWcgPSBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBzdGVwczogZmFsc2UsXG4gICAgICAgICAgICAgIENvbmZpZ3VyYXRvcjogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgbmV3IFByb21pc2UoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcnVudGltZV8xLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZlZGVyYXRlZENvbmZpZ3VyYXRvcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gcnVudGltZV8xLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1heWJlR2V0RmVkZXJhdGVkQ29uZmlndXJhdG9yRm9yQ29ubmVjdG9yKGNvbmZpZywgY29ubmVjdG9yKTtcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGZlZGVyYXRlZENvbmZpZ3VyYXRvciA9IF9jb250ZXh0LnNlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3RGZWRlcmF0ZWRNb2R1bGVTY3JpcHQoZmVkZXJhdGVkQ29uZmlndXJhdG9yLnJlbW90ZUVudHJ5KTtcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobG9hZEZlZGVyYXRlZENvbmZpZ3VyYXRvcihmZWRlcmF0ZWRDb25maWd1cmF0b3Iuc2NvcGUsIGZlZGVyYXRlZENvbmZpZ3VyYXRvci5tb2R1bGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0W1wiY2F0Y2hcIl0oMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRlZmF1bHRDb25maWcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA5XV0pO1xuICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0oKSkpO1xuXG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTIpO1xuICB9KSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGZldGNoQ29uZmlndXJhdG9yKF94LCBfeDIpIHtcbiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpO1xuXG52YXIgaXNWYWxpZENvbmYgPSBmdW5jdGlvbiBpc1ZhbGlkQ29uZihtYXliZUNvbmYpIHtcbiAgcmV0dXJuIG1heWJlQ29uZiAmJiBtYXliZUNvbmYucmVtb3RlRW50cnkgJiYgdHlwZW9mIG1heWJlQ29uZi5yZW1vdGVFbnRyeSA9PT0gJ3N0cmluZycgJiYgbWF5YmVDb25mLnNjb3BlICYmIHR5cGVvZiBtYXliZUNvbmYuc2NvcGUgPT09ICdzdHJpbmcnICYmIG1heWJlQ29uZi5tb2R1bGUgJiYgdHlwZW9mIG1heWJlQ29uZi5tb2R1bGUgPT09ICdzdHJpbmcnO1xufTtcblxudmFyIG1heWJlR2V0RmVkZXJhdGVkQ29uZmlndXJhdG9yRm9yQ29ubmVjdG9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWYzID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcnVudGltZV8xLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoY29uZmlnLCBjb25uZWN0b3IpIHtcbiAgICB2YXIgbWF5YmVDb25maWd1cmF0aW9uO1xuICAgIHJldHVybiBydW50aW1lXzEud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2hlZCBmZWRlcmF0ZWQgY29uZmlndXJhdG9yIHJlbW90ZXMgY29uZmlndXJhdGlvbicsIGNvbmZpZyk7XG4gICAgICAgICAgICBtYXliZUNvbmZpZ3VyYXRpb24gPSBjb25maWdbY29ubmVjdG9yLmlkXTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2FuZGlkYXRlIGNvbmZpZ3VyYXRpb24gZm9yIFxcXCJcIiArIGNvbm5lY3Rvci5pZCArIFwiXFxcIlwiLCBtYXliZUNvbmZpZ3VyYXRpb24pO1xuXG4gICAgICAgICAgICBpZiAobWF5YmVDb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ291bGRuJ3QgZmluZCBhbnkgY29uZmlndXJhdGlvbiBmb3IgdGhlIHJlcXVlc3RlZCBjb25uZWN0b3JcIik7XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdChcInJldHVyblwiLCBQcm9taXNlLnJlamVjdCgpKTtcblxuICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgIGlmICghaXNWYWxpZENvbmYobWF5YmVDb25maWd1cmF0aW9uKSkge1xuICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRm91bmQgYSBnZW5lcmljIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBjb25uZWN0b3InLCBtYXliZUNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwgbWF5YmVDb25maWd1cmF0aW9uKTtcblxuICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ291bGRuJ3QgZmluZCBhIHZhbGlkIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSByZXF1ZXN0ZWQgY29ubmVjdG9yXCIpO1xuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwgUHJvbWlzZS5yZWplY3QoKSk7XG5cbiAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTMpO1xuICB9KSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIG1heWJlR2V0RmVkZXJhdGVkQ29uZmlndXJhdG9yRm9yQ29ubmVjdG9yKF94NCwgX3g1KSB7XG4gICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59KCk7XG5cbnZhciBpbmplY3RGZWRlcmF0ZWRNb2R1bGVTY3JpcHQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZjQgPSAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9ydW50aW1lXzEubWFyayhmdW5jdGlvbiBfY2FsbGVlNCh1cmwpIHtcbiAgICByZXR1cm4gcnVudGltZV8xLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkge1xuICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoXCJyZXR1cm5cIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICAgICAgICBlbGVtZW50LnNyYyA9IHVybDtcbiAgICAgICAgICAgICAgZWxlbWVudC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gICAgICAgICAgICAgIGVsZW1lbnQuYXN5bmMgPSB0cnVlO1xuXG4gICAgICAgICAgICAgIGVsZW1lbnQub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRHluYW1pYyBmZWRlcmF0ZWQgbW9kdWxlIGxvYWRlZDogXCIgKyB1cmwpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGVsZW1lbnQub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRHluYW1pYyBmZWRlcmF0ZWQgbW9kdWxlIEVycm9yOiBcIiArIHVybCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEeW5hbWljIGZlZGVyYXRlZCBtb2R1bGUgUmVtb3ZlZDogXCIgKyB1cmwpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWU0KTtcbiAgfSkpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBpbmplY3RGZWRlcmF0ZWRNb2R1bGVTY3JpcHQoX3g2KSB7XG4gICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59KCk7XG5mdW5jdGlvbiBsb2FkRmVkZXJhdGVkQ29uZmlndXJhdG9yKF94NywgX3g4KSB7XG4gIHJldHVybiBfbG9hZEZlZGVyYXRlZENvbmZpZ3VyYXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfbG9hZEZlZGVyYXRlZENvbmZpZ3VyYXRvcigpIHtcbiAgX2xvYWRGZWRlcmF0ZWRDb25maWd1cmF0b3IgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3J1bnRpbWVfMS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KHNjb3BlLCBtb2R1bGUpIHtcbiAgICB2YXIgY29udGFpbmVyLCBmYWN0b3J5LCBmZWRlcmF0ZWRDb25maWd1cmF0aW9uQ29uZmlnO1xuICAgIHJldHVybiBydW50aW1lXzEud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7XG4gICAgICAgICAgICByZXR1cm4gX193ZWJwYWNrX2luaXRfc2hhcmluZ19fKCdkZWZhdWx0Jyk7XG5cbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBjb250YWluZXIgPSB3aW5kb3dbc2NvcGVdOyAvLyBvciBnZXQgdGhlIGNvbnRhaW5lciBzb21ld2hlcmUgZWxzZVxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgY29udGFpbmVyLCBpdCBtYXkgcHJvdmlkZSBzaGFyZWQgbW9kdWxlc1xuXG4gICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU7XG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLmluaXQoX193ZWJwYWNrX3NoYXJlX3Njb3Blc19fW1wiZGVmYXVsdFwiXSk7XG5cbiAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDc7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93W3Njb3BlXS5nZXQobW9kdWxlKTtcblxuICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIGZhY3RvcnkgPSBfY29udGV4dDUuc2VudDtcbiAgICAgICAgICAgIGZlZGVyYXRlZENvbmZpZ3VyYXRpb25Db25maWcgPSBmYWN0b3J5KCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRlZCBmZWRlcmF0ZWQgY29uZmlndXJhdG9yIGNvbmZpZ3VyYXRpb24gZnJvbSBcIiArIHNjb3BlLCBmZWRlcmF0ZWRDb25maWd1cmF0aW9uQ29uZmlnKTtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwicmV0dXJuXCIsIGZlZGVyYXRlZENvbmZpZ3VyYXRpb25Db25maWdbXCJkZWZhdWx0XCJdKTtcblxuICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlNSk7XG4gIH0pKTtcbiAgcmV0dXJuIF9sb2FkRmVkZXJhdGVkQ29uZmlndXJhdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbnZhciBDcmVhdGVDb25uZWN0b3JQYWdlID0gZnVuY3Rpb24gQ3JlYXRlQ29ubmVjdG9yUGFnZShfcmVmKSB7XG4gIHZhciBvblNhdmUgPSBfcmVmLm9uU2F2ZSxcbiAgICAgIG9uQ2xvc2UgPSBfcmVmLm9uQ2xvc2U7XG5cbiAgdmFyIF91c2VDb25maWcgPSB1c2VDb25maWcoKSxcbiAgICAgIGNvcyA9IF91c2VDb25maWcuY29zO1xuXG4gIHZhciBfdXNlQXBwQ29udGV4dCA9IHVzZUFwcENvbnRleHQoKSxcbiAgICAgIGJhc2VQYXRoID0gX3VzZUFwcENvbnRleHQuYmFzZVBhdGgsXG4gICAgICBnZXRUb2tlbiA9IF91c2VBcHBDb250ZXh0LmdldFRva2VuO1xuXG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBhZ2VTZWN0aW9uLCB7XG4gICAgcGFkZGluZzoge1xuICAgICAgXCJkZWZhdWx0XCI6ICdub1BhZGRpbmcnXG4gICAgfVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENyZWF0aW9uV2l6YXJkTWFjaGluZVByb3ZpZGVyLCB7XG4gICAgYWNjZXNzVG9rZW46IGdldFRva2VuLFxuICAgIGJhc2VQYXRoOiBiYXNlUGF0aCxcbiAgICBmZXRjaENvbmZpZ3VyYXRvcjogZnVuY3Rpb24gZmV0Y2hDb25maWd1cmF0b3IkMShjb25uZWN0b3IpIHtcbiAgICAgIHJldHVybiBmZXRjaENvbmZpZ3VyYXRvcihjb25uZWN0b3IsIGNvcy5jb25maWd1cmF0b3JzKTtcbiAgICB9LFxuICAgIG9uU2F2ZTogb25TYXZlXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ3JlYXRpb25XaXphcmQsIHtcbiAgICBvbkNsb3NlOiBvbkNsb3NlXG4gIH0pKSk7XG59O1xuXG52YXIgQ29zVWlSb3V0ZXMgPSBmdW5jdGlvbiBDb3NVaVJvdXRlcyhfcmVmKSB7XG4gIHZhciBnZXRUb2tlbiA9IF9yZWYuZ2V0VG9rZW4sXG4gICAgICBhcGlCYXNlcGF0aCA9IF9yZWYuYXBpQmFzZXBhdGg7XG5cbiAgdmFyIF91c2VUcmFuc2xhdGlvbiA9IHVzZVRyYW5zbGF0aW9uKCksXG4gICAgICB0ID0gX3VzZVRyYW5zbGF0aW9uLnQ7XG5cbiAgdmFyIF91c2VBbGVydCA9IHVzZUFsZXJ0KCksXG4gICAgICBhZGRBbGVydCA9IF91c2VBbGVydC5hZGRBbGVydDtcblxuICB2YXIgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTtcbiAgdmFyIGdvVG9Db25uZWN0b3JzTGlzdCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gaGlzdG9yeS5wdXNoKCcvJyk7XG4gIH0sIFtoaXN0b3J5XSk7XG4gIHZhciBnb1RvQ3JlYXRlQ29ubmVjdG9yID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBoaXN0b3J5LnB1c2goJy9jcmVhdGUtY29ubmVjdG9yJyk7XG4gIH0sIFtoaXN0b3J5XSk7XG4gIHZhciBvbkNvbm5lY3RvclNhdmUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgYWRkQWxlcnQoe1xuICAgICAgaWQ6ICdjb25uZWN0b3ItY3JlYXRlZCcsXG4gICAgICB2YXJpYW50OiBBbGVydFZhcmlhbnQuc3VjY2VzcyxcbiAgICAgIHRpdGxlOiB0KCd3aXphcmQuY3JlYXRpb24tc3VjY2VzcycpXG4gICAgfSk7XG4gICAgZ29Ub0Nvbm5lY3RvcnNMaXN0KCk7XG4gIH0sIFthZGRBbGVydCwgZ29Ub0Nvbm5lY3RvcnNMaXN0LCB0XSk7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEFwcENvbnRleHRQcm92aWRlciwge1xuICAgIGdldFRva2VuOiBnZXRUb2tlbixcbiAgICBiYXNlUGF0aDogYXBpQmFzZXBhdGhcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTd2l0Y2gsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHtcbiAgICBwYXRoOiAnLycsXG4gICAgZXhhY3Q6IHRydWVcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25uZWN0ZWRDb25uZWN0b3JzUGFnZSwge1xuICAgIG9uQ3JlYXRlQ29ubmVjdG9yOiBnb1RvQ3JlYXRlQ29ubmVjdG9yXG4gIH0pKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSb3V0ZSwge1xuICAgIHBhdGg6ICcvY3JlYXRlLWNvbm5lY3RvcidcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDcmVhdGVDb25uZWN0b3JQYWdlLCB7XG4gICAgb25TYXZlOiBvbkNvbm5lY3RvclNhdmUsXG4gICAgb25DbG9zZTogZ29Ub0Nvbm5lY3RvcnNMaXN0XG4gIH0pKSkpO1xufTtcblxudmFyIEFsZXJ0cyA9IGZ1bmN0aW9uIEFsZXJ0cyhfcmVmKSB7XG4gIHZhciBhbGVydHMgPSBfcmVmLmFsZXJ0cyxcbiAgICAgIG9uQ2xvc2VBbGVydCA9IF9yZWYub25DbG9zZUFsZXJ0O1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChBbGVydEdyb3VwLCB7XG4gICAgaXNUb2FzdDogdHJ1ZVxuICB9LCBhbGVydHMubWFwKGZ1bmN0aW9uIChfcmVmMikge1xuICAgIHZhciBpZCA9IF9yZWYyLmlkLFxuICAgICAgICB2YXJpYW50ID0gX3JlZjIudmFyaWFudCxcbiAgICAgICAgdGl0bGUgPSBfcmVmMi50aXRsZSxcbiAgICAgICAgZGVzY3JpcHRpb24gPSBfcmVmMi5kZXNjcmlwdGlvbixcbiAgICAgICAgZGF0YVRlc3RJZCA9IF9yZWYyLmRhdGFUZXN0SWQsXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmMiwgW1wiaWRcIiwgXCJ2YXJpYW50XCIsIFwidGl0bGVcIiwgXCJkZXNjcmlwdGlvblwiLCBcImRhdGFUZXN0SWRcIl0pO1xuXG4gICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQWxlcnQsIF9leHRlbmRzKHtcbiAgICAgIGtleTogaWQsXG4gICAgICBpc0xpdmVSZWdpb246IHRydWUsXG4gICAgICB2YXJpYW50OiBBbGVydFZhcmlhbnQkMVt2YXJpYW50XSxcbiAgICAgIHZhcmlhbnRMYWJlbDogXCJcIixcbiAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgIGFjdGlvbkNsb3NlOiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEFsZXJ0QWN0aW9uQ2xvc2VCdXR0b24sIHtcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkge1xuICAgICAgICAgIHJldHVybiBvbkNsb3NlQWxlcnQoaWQpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFwiZGF0YS10ZXN0aWRcIjogZGF0YVRlc3RJZFxuICAgIH0sIHJlc3QpLCBkZXNjcmlwdGlvbik7XG4gIH0pKTtcbn07XG5cbnZhciBBbGVydFByb3ZpZGVyID0gZnVuY3Rpb24gQWxlcnRQcm92aWRlcihfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKFtdKSxcbiAgICAgIGFsZXJ0cyA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldEFsZXJ0cyA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgX3VzZVN0YXRlMiA9IHVzZVN0YXRlKFtdKSxcbiAgICAgIHRpbWVycyA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRUaW1lcnMgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRpbWVyc0tleXMgPSB0aW1lcnMubWFwKGZ1bmN0aW9uICh0aW1lcikge1xuICAgICAgcmV0dXJuIHRpbWVyLmtleTtcbiAgICB9KTtcbiAgICB2YXIgdGltZU91dHMgPSBhbGVydHMuZmlsdGVyKGZ1bmN0aW9uIChhbGVydCkge1xuICAgICAgcmV0dXJuICF0aW1lcnNLZXlzLmluY2x1ZGVzKGFsZXJ0ID09IG51bGwgPyB2b2lkIDAgOiBhbGVydC5pZCk7XG4gICAgfSkubWFwKGZ1bmN0aW9uIChhbGVydCkge1xuICAgICAgdmFyIF9hbGVydCRpZCA9IGFsZXJ0LmlkLFxuICAgICAgICAgIGlkID0gX2FsZXJ0JGlkID09PSB2b2lkIDAgPyAnJyA6IF9hbGVydCRpZDtcbiAgICAgIHZhciB0aW1lT3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBoaWRlQWxlcnQoaWQpO1xuICAgICAgfSwgODAwMCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBrZXk6IGFsZXJ0LmlkLFxuICAgICAgICB0aW1lT3V0OiB0aW1lT3V0XG4gICAgICB9O1xuICAgIH0pO1xuICAgIHNldFRpbWVycyhbXS5jb25jYXQodGltZXJzLCB0aW1lT3V0cykpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGltZXJzLmZvckVhY2goZnVuY3Rpb24gKHRpbWVyKSB7XG4gICAgICAgIHJldHVybiAodGltZXIgPT0gbnVsbCA/IHZvaWQgMCA6IHRpbWVyLnRpbWVPdXQpICYmIGNsZWFyVGltZW91dCh0aW1lci50aW1lT3V0KTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0sIFthbGVydHNdKTtcblxuICB2YXIgY3JlYXRlSWQgPSBmdW5jdGlvbiBjcmVhdGVJZCgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH07XG5cbiAgdmFyIGhpZGVBbGVydCA9IGZ1bmN0aW9uIGhpZGVBbGVydChrZXkpIHtcbiAgICBzZXRBbGVydHMoZnVuY3Rpb24gKGFsZXJ0cykge1xuICAgICAgcmV0dXJuIFtdLmNvbmNhdChhbGVydHMuZmlsdGVyKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICByZXR1cm4gZWwuaWQgIT09IGtleTtcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgICBzZXRUaW1lcnMoZnVuY3Rpb24gKHRpbWVycykge1xuICAgICAgcmV0dXJuIFtdLmNvbmNhdCh0aW1lcnMuZmlsdGVyKGZ1bmN0aW9uICh0aW1lcikge1xuICAgICAgICByZXR1cm4gdGltZXIua2V5ID09PSBrZXk7XG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGFkZEFsZXJ0ID0gZnVuY3Rpb24gYWRkQWxlcnQocHJvcHMpIHtcbiAgICB2YXIgaWQgPSBjcmVhdGVJZCgpLnRvU3RyaW5nKCk7XG4gICAgc2V0QWxlcnRzKFtdLmNvbmNhdChhbGVydHMsIFtfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIGlkOiBpZFxuICAgIH0pXSkpO1xuICB9O1xuXG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEFsZXJ0Q29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB7XG4gICAgICBhZGRBbGVydDogYWRkQWxlcnRcbiAgICB9XG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQWxlcnRzLCB7XG4gICAgYWxlcnRzOiBhbGVydHMsXG4gICAgb25DbG9zZUFsZXJ0OiBoaWRlQWxlcnRcbiAgfSksIGNoaWxkcmVuKTtcbn07XG5cbnZhciBrZXljbG9hayQxO1xudmFyIERlbW9BcHAgPSBmdW5jdGlvbiBEZW1vQXBwKCkge1xuICB2YXIgX2tleWNsb2FrO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICBpbml0aWFsaXplZCA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldEluaXRpYWxpemVkID0gX3VzZVN0YXRlWzFdOyAvLyBJbml0aWFsaXplIHRoZSBjbGllbnRcblxuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGluaXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3J1bnRpbWVfMS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICAgIHJldHVybiBydW50aW1lXzEud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0S2V5Y2xvYWtJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBrZXljbG9hayQxID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICBzZXRJbml0aWFsaXplZCh0cnVlKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSk7XG4gICAgICB9KSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KCk7XG5cbiAgICBpbml0KCk7XG4gIH0sIFtdKTtcbiAgdmFyIGNvbmZpZyA9IHtcbiAgICBjb3M6IHtcbiAgICAgIGFwaUJhc2VQYXRoOiBwcm9jZXNzLmVudi5CQVNFX1BBVEgsXG4gICAgICBjb25maWd1cmF0b3JzOiB7XG4gICAgICAgICdkZWJleml1bS1tb25nb2RiLTEuNS4wLkZpbmFsJzoge1xuICAgICAgICAgIHJlbW90ZUVudHJ5OiAnaHR0cHM6Ly9kYnotdWkuYXBwcy5rYW1tZWxsb2wucmhtdy1pbnRlZ3JhdGlvbnMubmV0L2Riei1jb25uZWN0b3ItY29uZmlndXJhdG9yLnJlbW90ZUVudHJ5LmpzJyxcbiAgICAgICAgICBzY29wZTogJ2RlYmV6aXVtX3VpJyxcbiAgICAgICAgICBtb2R1bGU6ICcuL2NvbmZpZydcbiAgICAgICAgfSxcbiAgICAgICAgJ2RlYmV6aXVtLW15c3FsLTEuNS4wLkZpbmFsJzoge1xuICAgICAgICAgIHJlbW90ZUVudHJ5OiAnaHR0cHM6Ly9kYnotdWkuYXBwcy5rYW1tZWxsb2wucmhtdy1pbnRlZ3JhdGlvbnMubmV0L2Riei1jb25uZWN0b3ItY29uZmlndXJhdG9yLnJlbW90ZUVudHJ5LmpzJyxcbiAgICAgICAgICBzY29wZTogJ2RlYmV6aXVtX3VpJyxcbiAgICAgICAgICBtb2R1bGU6ICcuL2NvbmZpZydcbiAgICAgICAgfSxcbiAgICAgICAgJ2RlYmV6aXVtLXBvc3RncmVzLTEuNS4wLkZpbmFsJzoge1xuICAgICAgICAgIHJlbW90ZUVudHJ5OiAnaHR0cHM6Ly9kYnotdWkuYXBwcy5rYW1tZWxsb2wucmhtdy1pbnRlZ3JhdGlvbnMubmV0L2Riei1jb25uZWN0b3ItY29uZmlndXJhdG9yLnJlbW90ZUVudHJ5LmpzJyxcbiAgICAgICAgICBzY29wZTogJ2RlYmV6aXVtX3VpJyxcbiAgICAgICAgICBtb2R1bGU6ICcuL2NvbmZpZydcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoS2V5Y2xvYWtDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHtcbiAgICAgIGtleWNsb2FrOiBrZXljbG9hayQxLFxuICAgICAgcHJvZmlsZTogKF9rZXljbG9hayA9IGtleWNsb2FrJDEpID09IG51bGwgPyB2b2lkIDAgOiBfa2V5Y2xvYWsucHJvZmlsZVxuICAgIH1cbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChLZXljbG9ha0F1dGhQcm92aWRlciwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25maWdDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGNvbmZpZ1xuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEkxOG5leHRQcm92aWRlciwge1xuICAgIGkxOG46IGkxOG5cbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChBbGVydFByb3ZpZGVyLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LlN1c3BlbnNlLCB7XG4gICAgZmFsbGJhY2s6IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZywgbnVsbClcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCcm93c2VyUm91dGVyLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEFwcExheW91dCwgbnVsbCwgaW5pdGlhbGl6ZWQgPyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RlZFJvdXRlcywgbnVsbCkgOiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNwaW5uZXIsIG51bGwpKSkpKSkpKSk7XG59O1xuXG52YXIgQ29ubmVjdGVkUm91dGVzID0gZnVuY3Rpb24gQ29ubmVjdGVkUm91dGVzKCkge1xuICB2YXIgYXV0aCA9IHVzZUF1dGgoKTtcblxuICB2YXIgX3VzZUNvbmZpZyA9IHVzZUNvbmZpZygpLFxuICAgICAgY29zID0gX3VzZUNvbmZpZy5jb3M7XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29zVWlSb3V0ZXMsIHtcbiAgICBnZXRUb2tlbjogYXV0aC5rYXMuZ2V0VG9rZW4sXG4gICAgYXBpQmFzZXBhdGg6IGNvcy5hcGlCYXNlUGF0aFxuICB9KTtcbn07XG5cbnZhciBGZWRlcmF0ZWRBcHAgPSBmdW5jdGlvbiBGZWRlcmF0ZWRBcHAoKSB7XG4gIHZhciBfdXNlQ29uZmlnID0gdXNlQ29uZmlnKCksXG4gICAgICBjb3MgPSBfdXNlQ29uZmlnLmNvcztcblxuICB2YXIgX3VzZUF1dGggPSB1c2VBdXRoKCksXG4gICAgICBrYXMgPSBfdXNlQXV0aC5rYXM7XG5cbiAgdmFyIF91c2VCYXNlbmFtZSA9IHVzZUJhc2VuYW1lKCksXG4gICAgICBnZXRCYXNlbmFtZSA9IF91c2VCYXNlbmFtZS5nZXRCYXNlbmFtZTtcblxuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChJMThuZXh0UHJvdmlkZXIsIHtcbiAgICBpMThuOiBpMThuXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuU3VzcGVuc2UsIHtcbiAgICBmYWxsYmFjazogUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChMb2FkaW5nLCBudWxsKVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJyb3dzZXJSb3V0ZXIsIHtcbiAgICBiYXNlbmFtZTogZ2V0QmFzZW5hbWUoKVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvc1VpUm91dGVzLCB7XG4gICAgZ2V0VG9rZW46IGthcy5nZXRUb2tlbixcbiAgICBhcGlCYXNlcGF0aDogY29zLmFwaUJhc2VQYXRoXG4gIH0pKSkpO1xufTtcblxuZXhwb3J0IHsgRGVtb0FwcCwgRmVkZXJhdGVkQXBwIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgRmVkZXJhdGVkQXBwIH0gZnJvbSAnQGNvcy11aS9hcHAnO1xuXG5leHBvcnQgZGVmYXVsdCBGZWRlcmF0ZWRBcHA7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///71487\n')},31100:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SecurityApi = exports.SecurityApiFactory = exports.SecurityApiFp = exports.SecurityApiAxiosParamCreator = exports.DefaultApi = exports.DefaultApiFactory = exports.DefaultApiFp = exports.DefaultApiAxiosParamCreator = exports.ConnectorsApi = exports.ConnectorsApiFactory = exports.ConnectorsApiFp = exports.ConnectorsApiAxiosParamCreator = exports.ConnectorTypesApi = exports.ConnectorTypesApiFactory = exports.ConnectorTypesApiFp = exports.ConnectorTypesApiAxiosParamCreator = exports.ConnectorClustersApi = exports.ConnectorClustersApiFactory = exports.ConnectorClustersApiFp = exports.ConnectorClustersApiAxiosParamCreator = exports.ConnectorTypeAllOfLabelsEnum = exports.ConnectorTypeLabelsEnum = void 0;\nconst axios_1 = __webpack_require__(40107);\n// Some imports not used depending on template conditions\n// @ts-ignore\nconst common_1 = __webpack_require__(98691);\n// @ts-ignore\nconst base_1 = __webpack_require__(50778);\n/**\n    * @export\n    * @enum {string}\n    */\nvar ConnectorTypeLabelsEnum;\n(function (ConnectorTypeLabelsEnum) {\n    ConnectorTypeLabelsEnum[\"Sink\"] = \"sink\";\n    ConnectorTypeLabelsEnum[\"Source\"] = \"source\";\n})(ConnectorTypeLabelsEnum = exports.ConnectorTypeLabelsEnum || (exports.ConnectorTypeLabelsEnum = {}));\n/**\n    * @export\n    * @enum {string}\n    */\nvar ConnectorTypeAllOfLabelsEnum;\n(function (ConnectorTypeAllOfLabelsEnum) {\n    ConnectorTypeAllOfLabelsEnum[\"Sink\"] = \"sink\";\n    ConnectorTypeAllOfLabelsEnum[\"Source\"] = \"source\";\n})(ConnectorTypeAllOfLabelsEnum = exports.ConnectorTypeAllOfLabelsEnum || (exports.ConnectorTypeAllOfLabelsEnum = {}));\n/**\n * ConnectorClustersApi - axios parameter creator\n * @export\n */\nconst ConnectorClustersApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Create a new connector cluster\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {ConnectorCluster} connectorCluster Connector cluster data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnectorCluster: (async, connectorCluster, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'async' is not null or undefined\n            common_1.assertParamExists('createConnectorCluster', 'async', async);\n            // verify required parameter 'connectorCluster' is not null or undefined\n            common_1.assertParamExists('createConnectorCluster', 'connectorCluster', connectorCluster);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (async !== undefined) {\n                localVarQueryParameter['async'] = async;\n            }\n            localVarHeaderParameter['Content-Type'] = 'application/json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(connectorCluster, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Delete a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnectorCluster: (connectorClusterId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorClusterId' is not null or undefined\n            common_1.assertParamExists('deleteConnectorCluster', 'connectorClusterId', connectorClusterId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters/{connector_cluster_id}`\n                .replace(`{${\"connector_cluster_id\"}}`, encodeURIComponent(String(connectorClusterId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'DELETE' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Get a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorCluster: (connectorClusterId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorClusterId' is not null or undefined\n            common_1.assertParamExists('getConnectorCluster', 'connectorClusterId', connectorClusterId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters/{connector_cluster_id}`\n                .replace(`{${\"connector_cluster_id\"}}`, encodeURIComponent(String(connectorClusterId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Get a connector cluster\\'s addon parameters\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorClusterAddonParameters: (connectorClusterId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorClusterId' is not null or undefined\n            common_1.assertParamExists('getConnectorClusterAddonParameters', 'connectorClusterId', connectorClusterId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters/{connector_cluster_id}/addon_parameters`\n                .replace(`{${\"connector_cluster_id\"}}`, encodeURIComponent(String(connectorClusterId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of connector clusters\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorClusters: (page, size, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.ConnectorClustersApiAxiosParamCreator = ConnectorClustersApiAxiosParamCreator;\n/**\n * ConnectorClustersApi - functional programming interface\n * @export\n */\nconst ConnectorClustersApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.ConnectorClustersApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Create a new connector cluster\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {ConnectorCluster} connectorCluster Connector cluster data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnectorCluster(async, connectorCluster, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.createConnectorCluster(async, connectorCluster, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Delete a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnectorCluster(connectorClusterId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteConnectorCluster(connectorClusterId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Get a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorCluster(connectorClusterId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getConnectorCluster(connectorClusterId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Get a connector cluster\\'s addon parameters\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorClusterAddonParameters(connectorClusterId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getConnectorClusterAddonParameters(connectorClusterId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of connector clusters\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorClusters(page, size, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.listConnectorClusters(page, size, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.ConnectorClustersApiFp = ConnectorClustersApiFp;\n/**\n * ConnectorClustersApi - factory interface\n * @export\n */\nconst ConnectorClustersApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.ConnectorClustersApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Create a new connector cluster\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {ConnectorCluster} connectorCluster Connector cluster data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnectorCluster(async, connectorCluster, options) {\n            return localVarFp.createConnectorCluster(async, connectorCluster, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Delete a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnectorCluster(connectorClusterId, options) {\n            return localVarFp.deleteConnectorCluster(connectorClusterId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Get a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorCluster(connectorClusterId, options) {\n            return localVarFp.getConnectorCluster(connectorClusterId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Get a connector cluster\\'s addon parameters\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorClusterAddonParameters(connectorClusterId, options) {\n            return localVarFp.getConnectorClusterAddonParameters(connectorClusterId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of connector clusters\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorClusters(page, size, options) {\n            return localVarFp.listConnectorClusters(page, size, options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.ConnectorClustersApiFactory = ConnectorClustersApiFactory;\n/**\n * ConnectorClustersApi - object-oriented interface\n * @export\n * @class ConnectorClustersApi\n * @extends {BaseAPI}\n */\nclass ConnectorClustersApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Create a new connector cluster\n     * @param {boolean} async Perform the action in an asynchronous manner\n     * @param {ConnectorCluster} connectorCluster Connector cluster data\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    createConnectorCluster(async, connectorCluster, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).createConnectorCluster(async, connectorCluster, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Delete a connector cluster\n     * @param {string} connectorClusterId The id of the connector cluster\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    deleteConnectorCluster(connectorClusterId, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).deleteConnectorCluster(connectorClusterId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Get a connector cluster\n     * @param {string} connectorClusterId The id of the connector cluster\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    getConnectorCluster(connectorClusterId, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).getConnectorCluster(connectorClusterId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Get a connector cluster\\'s addon parameters\n     * @param {string} connectorClusterId The id of the connector cluster\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    getConnectorClusterAddonParameters(connectorClusterId, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).getConnectorClusterAddonParameters(connectorClusterId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of connector clusters\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    listConnectorClusters(page, size, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).listConnectorClusters(page, size, options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.ConnectorClustersApi = ConnectorClustersApi;\n/**\n * ConnectorTypesApi - axios parameter creator\n * @export\n */\nconst ConnectorTypesApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Get a connector type by id\n         * @param {string} connectorTypeId The id of the connector type\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorTypeByID: (connectorTypeId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorTypeId' is not null or undefined\n            common_1.assertParamExists('getConnectorTypeByID', 'connectorTypeId', connectorTypeId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_types/{connector_type_id}`\n                .replace(`{${\"connector_type_id\"}}`, encodeURIComponent(String(connectorTypeId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorTypes: (page, size, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_types`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.ConnectorTypesApiAxiosParamCreator = ConnectorTypesApiAxiosParamCreator;\n/**\n * ConnectorTypesApi - functional programming interface\n * @export\n */\nconst ConnectorTypesApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.ConnectorTypesApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Get a connector type by id\n         * @param {string} connectorTypeId The id of the connector type\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorTypeByID(connectorTypeId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getConnectorTypeByID(connectorTypeId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorTypes(page, size, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.listConnectorTypes(page, size, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.ConnectorTypesApiFp = ConnectorTypesApiFp;\n/**\n * ConnectorTypesApi - factory interface\n * @export\n */\nconst ConnectorTypesApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.ConnectorTypesApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Get a connector type by id\n         * @param {string} connectorTypeId The id of the connector type\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorTypeByID(connectorTypeId, options) {\n            return localVarFp.getConnectorTypeByID(connectorTypeId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorTypes(page, size, options) {\n            return localVarFp.listConnectorTypes(page, size, options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.ConnectorTypesApiFactory = ConnectorTypesApiFactory;\n/**\n * ConnectorTypesApi - object-oriented interface\n * @export\n * @class ConnectorTypesApi\n * @extends {BaseAPI}\n */\nclass ConnectorTypesApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Get a connector type by id\n     * @param {string} connectorTypeId The id of the connector type\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorTypesApi\n     */\n    getConnectorTypeByID(connectorTypeId, options) {\n        return exports.ConnectorTypesApiFp(this.configuration).getConnectorTypeByID(connectorTypeId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of connector types\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorTypesApi\n     */\n    listConnectorTypes(page, size, options) {\n        return exports.ConnectorTypesApiFp(this.configuration).listConnectorTypes(page, size, options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.ConnectorTypesApi = ConnectorTypesApi;\n/**\n * ConnectorsApi - axios parameter creator\n * @export\n */\nconst ConnectorsApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Create a new connector\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {Connector} connector Connector data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnector: (async, connector, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'async' is not null or undefined\n            common_1.assertParamExists('createConnector', 'async', async);\n            // verify required parameter 'connector' is not null or undefined\n            common_1.assertParamExists('createConnector', 'connector', connector);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (async !== undefined) {\n                localVarQueryParameter['async'] = async;\n            }\n            localVarHeaderParameter['Content-Type'] = 'application/json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(connector, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Delete a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnector: (connectorId, kafkaId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorId' is not null or undefined\n            common_1.assertParamExists('deleteConnector', 'connectorId', connectorId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors/{connector_id}`\n                .replace(`{${\"connector_id\"}}`, encodeURIComponent(String(connectorId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'DELETE' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (kafkaId !== undefined) {\n                localVarQueryParameter['kafka_id'] = kafkaId;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Get a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnector: (connectorId, kafkaId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorId' is not null or undefined\n            common_1.assertParamExists('getConnector', 'connectorId', connectorId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors/{connector_id}`\n                .replace(`{${\"connector_id\"}}`, encodeURIComponent(String(connectorId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (kafkaId !== undefined) {\n                localVarQueryParameter['kafka_id'] = kafkaId;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectors: (page, size, kafkaId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            if (kafkaId !== undefined) {\n                localVarQueryParameter['kafka_id'] = kafkaId;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary patch a connector\n         * @param {string} connectorId The id of the connector\n         * @param {object} body Data to patch the connector with\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        patchConnector: (connectorId, body, kafkaId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorId' is not null or undefined\n            common_1.assertParamExists('patchConnector', 'connectorId', connectorId);\n            // verify required parameter 'body' is not null or undefined\n            common_1.assertParamExists('patchConnector', 'body', body);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors/{connector_id}`\n                .replace(`{${\"connector_id\"}}`, encodeURIComponent(String(connectorId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'PATCH' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (kafkaId !== undefined) {\n                localVarQueryParameter['kafka_id'] = kafkaId;\n            }\n            localVarHeaderParameter['Content-Type'] = 'application/json-patch+json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(body, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.ConnectorsApiAxiosParamCreator = ConnectorsApiAxiosParamCreator;\n/**\n * ConnectorsApi - functional programming interface\n * @export\n */\nconst ConnectorsApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.ConnectorsApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Create a new connector\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {Connector} connector Connector data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnector(async, connector, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.createConnector(async, connector, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Delete a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnector(connectorId, kafkaId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteConnector(connectorId, kafkaId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Get a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnector(connectorId, kafkaId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getConnector(connectorId, kafkaId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectors(page, size, kafkaId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.listConnectors(page, size, kafkaId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary patch a connector\n         * @param {string} connectorId The id of the connector\n         * @param {object} body Data to patch the connector with\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        patchConnector(connectorId, body, kafkaId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.patchConnector(connectorId, body, kafkaId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.ConnectorsApiFp = ConnectorsApiFp;\n/**\n * ConnectorsApi - factory interface\n * @export\n */\nconst ConnectorsApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.ConnectorsApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Create a new connector\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {Connector} connector Connector data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnector(async, connector, options) {\n            return localVarFp.createConnector(async, connector, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Delete a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnector(connectorId, kafkaId, options) {\n            return localVarFp.deleteConnector(connectorId, kafkaId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Get a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnector(connectorId, kafkaId, options) {\n            return localVarFp.getConnector(connectorId, kafkaId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectors(page, size, kafkaId, options) {\n            return localVarFp.listConnectors(page, size, kafkaId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary patch a connector\n         * @param {string} connectorId The id of the connector\n         * @param {object} body Data to patch the connector with\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        patchConnector(connectorId, body, kafkaId, options) {\n            return localVarFp.patchConnector(connectorId, body, kafkaId, options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.ConnectorsApiFactory = ConnectorsApiFactory;\n/**\n * ConnectorsApi - object-oriented interface\n * @export\n * @class ConnectorsApi\n * @extends {BaseAPI}\n */\nclass ConnectorsApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Create a new connector\n     * @param {boolean} async Perform the action in an asynchronous manner\n     * @param {Connector} connector Connector data\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    createConnector(async, connector, options) {\n        return exports.ConnectorsApiFp(this.configuration).createConnector(async, connector, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Delete a connector\n     * @param {string} connectorId The id of the connector\n     * @param {string} [kafkaId] The kafka cluster id\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    deleteConnector(connectorId, kafkaId, options) {\n        return exports.ConnectorsApiFp(this.configuration).deleteConnector(connectorId, kafkaId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Get a connector\n     * @param {string} connectorId The id of the connector\n     * @param {string} [kafkaId] The kafka cluster id\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    getConnector(connectorId, kafkaId, options) {\n        return exports.ConnectorsApiFp(this.configuration).getConnector(connectorId, kafkaId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of connector types\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {string} [kafkaId] The kafka cluster id\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    listConnectors(page, size, kafkaId, options) {\n        return exports.ConnectorsApiFp(this.configuration).listConnectors(page, size, kafkaId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary patch a connector\n     * @param {string} connectorId The id of the connector\n     * @param {object} body Data to patch the connector with\n     * @param {string} [kafkaId] The kafka cluster id\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    patchConnector(connectorId, body, kafkaId, options) {\n        return exports.ConnectorsApiFp(this.configuration).patchConnector(connectorId, body, kafkaId, options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.ConnectorsApi = ConnectorsApi;\n/**\n * DefaultApi - axios parameter creator\n * @export\n */\nconst DefaultApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Creates a Kafka request\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {KafkaRequestPayload} kafkaRequestPayload Kafka data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createKafka: (async, kafkaRequestPayload, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'async' is not null or undefined\n            common_1.assertParamExists('createKafka', 'async', async);\n            // verify required parameter 'kafkaRequestPayload' is not null or undefined\n            common_1.assertParamExists('createKafka', 'kafkaRequestPayload', kafkaRequestPayload);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (async !== undefined) {\n                localVarQueryParameter['async'] = async;\n            }\n            localVarHeaderParameter['Content-Type'] = 'application/json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(kafkaRequestPayload, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Deletes a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteKafkaById: (id, async, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('deleteKafkaById', 'id', id);\n            // verify required parameter 'async' is not null or undefined\n            common_1.assertParamExists('deleteKafkaById', 'async', async);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas/{id}`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'DELETE' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (async !== undefined) {\n                localVarQueryParameter['async'] = async;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns the list of supported regions of the supported cloud provider\n         * @param {string} id The ID of record\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviderRegions: (id, page, size, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getCloudProviderRegions', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/cloud_providers/{id}/regions`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns the list of supported cloud providers\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviders: (page, size, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1/cloud_providers`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkaById: (id, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getKafkaById', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas/{id}`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of Kafka requests\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [orderBy] Specifies the order by criteria. The syntax of this parameter is similar to the syntax of the &#x60;order by&#x60; clause of an SQL statement. Each query can be ordered by any of the &#x60;kafkaRequests&#x60; fields. For example, to return all Kafka instances ordered by their name, use the following syntax:  &#x60;&#x60;&#x60;sql name asc &#x60;&#x60;&#x60;  To return all Kafka instances ordered by their name _and_ created date, use the following syntax:  &#x60;&#x60;&#x60;sql name asc, created_at asc &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then the results are ordered by name.\n         * @param {string} [search] Search criteria.  The syntax of this parameter is similar to the syntax of the &#x60;where&#x60; clause of an SQL statement. Allowed fields in the search are &#x60;cloud_provider&#x60;, &#x60;name&#x60;, &#x60;owner&#x60;, &#x60;region&#x60;, and &#x60;status&#x60;. Allowed comparators are &#x60;&lt;&gt;&#x60;, &#x60;&#x3D;&#x60;, or &#x60;LIKE&#x60;. Allowed joins are &#x60;AND&#x60; and &#x60;OR&#x60;. However, you can use a maximum of 10 joins in a search query.  Examples:  To return a Kafka instance with the name &#x60;my-kafka&#x60; and the region &#x60;aws&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name &#x3D; my-kafka and cloud_provider &#x3D; aws &#x60;&#x60;&#x60;[p-]  To return a Kafka instance with a name that starts with &#x60;my&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name like my%25 &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then all the Kafka instances that the user has permission to see are returned.  Note. If the query is invalid, an error is returned.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkas: (page, size, orderBy, search, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            if (orderBy !== undefined) {\n                localVarQueryParameter['orderBy'] = orderBy;\n            }\n            if (search !== undefined) {\n                localVarQueryParameter['search'] = search;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns metrics with instant query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByInstantQuery: (id, filters, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getMetricsByInstantQuery', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas/{id}/metrics/query`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (filters) {\n                localVarQueryParameter['filters'] = filters;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns metrics with timeseries range query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {number} duration The length of time in minutes for which to return the metrics\n         * @param {number} interval The interval in seconds between data points\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByRangeQuery: (id, duration, interval, filters, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getMetricsByRangeQuery', 'id', id);\n            // verify required parameter 'duration' is not null or undefined\n            common_1.assertParamExists('getMetricsByRangeQuery', 'duration', duration);\n            // verify required parameter 'interval' is not null or undefined\n            common_1.assertParamExists('getMetricsByRangeQuery', 'interval', interval);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas/{id}/metrics/query_range`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (duration !== undefined) {\n                localVarQueryParameter['duration'] = duration;\n            }\n            if (interval !== undefined) {\n                localVarQueryParameter['interval'] = interval;\n            }\n            if (filters) {\n                localVarQueryParameter['filters'] = filters;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns the status of resources, such as whether maximum service capacity has been reached\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceStatus: (options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1/status`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns the version metadata\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getVersionMetadata: (options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.DefaultApiAxiosParamCreator = DefaultApiAxiosParamCreator;\n/**\n * DefaultApi - functional programming interface\n * @export\n */\nconst DefaultApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.DefaultApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Creates a Kafka request\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {KafkaRequestPayload} kafkaRequestPayload Kafka data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createKafka(async, kafkaRequestPayload, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.createKafka(async, kafkaRequestPayload, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Deletes a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteKafkaById(id, async, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteKafkaById(id, async, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns the list of supported regions of the supported cloud provider\n         * @param {string} id The ID of record\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviderRegions(id, page, size, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getCloudProviderRegions(id, page, size, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns the list of supported cloud providers\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviders(page, size, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getCloudProviders(page, size, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkaById(id, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getKafkaById(id, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of Kafka requests\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [orderBy] Specifies the order by criteria. The syntax of this parameter is similar to the syntax of the &#x60;order by&#x60; clause of an SQL statement. Each query can be ordered by any of the &#x60;kafkaRequests&#x60; fields. For example, to return all Kafka instances ordered by their name, use the following syntax:  &#x60;&#x60;&#x60;sql name asc &#x60;&#x60;&#x60;  To return all Kafka instances ordered by their name _and_ created date, use the following syntax:  &#x60;&#x60;&#x60;sql name asc, created_at asc &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then the results are ordered by name.\n         * @param {string} [search] Search criteria.  The syntax of this parameter is similar to the syntax of the &#x60;where&#x60; clause of an SQL statement. Allowed fields in the search are &#x60;cloud_provider&#x60;, &#x60;name&#x60;, &#x60;owner&#x60;, &#x60;region&#x60;, and &#x60;status&#x60;. Allowed comparators are &#x60;&lt;&gt;&#x60;, &#x60;&#x3D;&#x60;, or &#x60;LIKE&#x60;. Allowed joins are &#x60;AND&#x60; and &#x60;OR&#x60;. However, you can use a maximum of 10 joins in a search query.  Examples:  To return a Kafka instance with the name &#x60;my-kafka&#x60; and the region &#x60;aws&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name &#x3D; my-kafka and cloud_provider &#x3D; aws &#x60;&#x60;&#x60;[p-]  To return a Kafka instance with a name that starts with &#x60;my&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name like my%25 &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then all the Kafka instances that the user has permission to see are returned.  Note. If the query is invalid, an error is returned.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkas(page, size, orderBy, search, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getKafkas(page, size, orderBy, search, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns metrics with instant query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByInstantQuery(id, filters, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getMetricsByInstantQuery(id, filters, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns metrics with timeseries range query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {number} duration The length of time in minutes for which to return the metrics\n         * @param {number} interval The interval in seconds between data points\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByRangeQuery(id, duration, interval, filters, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getMetricsByRangeQuery(id, duration, interval, filters, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns the status of resources, such as whether maximum service capacity has been reached\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceStatus(options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getServiceStatus(options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns the version metadata\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getVersionMetadata(options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getVersionMetadata(options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.DefaultApiFp = DefaultApiFp;\n/**\n * DefaultApi - factory interface\n * @export\n */\nconst DefaultApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.DefaultApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Creates a Kafka request\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {KafkaRequestPayload} kafkaRequestPayload Kafka data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createKafka(async, kafkaRequestPayload, options) {\n            return localVarFp.createKafka(async, kafkaRequestPayload, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Deletes a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteKafkaById(id, async, options) {\n            return localVarFp.deleteKafkaById(id, async, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns the list of supported regions of the supported cloud provider\n         * @param {string} id The ID of record\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviderRegions(id, page, size, options) {\n            return localVarFp.getCloudProviderRegions(id, page, size, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns the list of supported cloud providers\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviders(page, size, options) {\n            return localVarFp.getCloudProviders(page, size, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkaById(id, options) {\n            return localVarFp.getKafkaById(id, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of Kafka requests\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [orderBy] Specifies the order by criteria. The syntax of this parameter is similar to the syntax of the &#x60;order by&#x60; clause of an SQL statement. Each query can be ordered by any of the &#x60;kafkaRequests&#x60; fields. For example, to return all Kafka instances ordered by their name, use the following syntax:  &#x60;&#x60;&#x60;sql name asc &#x60;&#x60;&#x60;  To return all Kafka instances ordered by their name _and_ created date, use the following syntax:  &#x60;&#x60;&#x60;sql name asc, created_at asc &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then the results are ordered by name.\n         * @param {string} [search] Search criteria.  The syntax of this parameter is similar to the syntax of the &#x60;where&#x60; clause of an SQL statement. Allowed fields in the search are &#x60;cloud_provider&#x60;, &#x60;name&#x60;, &#x60;owner&#x60;, &#x60;region&#x60;, and &#x60;status&#x60;. Allowed comparators are &#x60;&lt;&gt;&#x60;, &#x60;&#x3D;&#x60;, or &#x60;LIKE&#x60;. Allowed joins are &#x60;AND&#x60; and &#x60;OR&#x60;. However, you can use a maximum of 10 joins in a search query.  Examples:  To return a Kafka instance with the name &#x60;my-kafka&#x60; and the region &#x60;aws&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name &#x3D; my-kafka and cloud_provider &#x3D; aws &#x60;&#x60;&#x60;[p-]  To return a Kafka instance with a name that starts with &#x60;my&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name like my%25 &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then all the Kafka instances that the user has permission to see are returned.  Note. If the query is invalid, an error is returned.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkas(page, size, orderBy, search, options) {\n            return localVarFp.getKafkas(page, size, orderBy, search, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns metrics with instant query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByInstantQuery(id, filters, options) {\n            return localVarFp.getMetricsByInstantQuery(id, filters, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns metrics with timeseries range query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {number} duration The length of time in minutes for which to return the metrics\n         * @param {number} interval The interval in seconds between data points\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByRangeQuery(id, duration, interval, filters, options) {\n            return localVarFp.getMetricsByRangeQuery(id, duration, interval, filters, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns the status of resources, such as whether maximum service capacity has been reached\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceStatus(options) {\n            return localVarFp.getServiceStatus(options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns the version metadata\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getVersionMetadata(options) {\n            return localVarFp.getVersionMetadata(options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.DefaultApiFactory = DefaultApiFactory;\n/**\n * DefaultApi - object-oriented interface\n * @export\n * @class DefaultApi\n * @extends {BaseAPI}\n */\nclass DefaultApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Creates a Kafka request\n     * @param {boolean} async Perform the action in an asynchronous manner\n     * @param {KafkaRequestPayload} kafkaRequestPayload Kafka data\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    createKafka(async, kafkaRequestPayload, options) {\n        return exports.DefaultApiFp(this.configuration).createKafka(async, kafkaRequestPayload, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Deletes a Kafka request by ID\n     * @param {string} id The ID of record\n     * @param {boolean} async Perform the action in an asynchronous manner\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    deleteKafkaById(id, async, options) {\n        return exports.DefaultApiFp(this.configuration).deleteKafkaById(id, async, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns the list of supported regions of the supported cloud provider\n     * @param {string} id The ID of record\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getCloudProviderRegions(id, page, size, options) {\n        return exports.DefaultApiFp(this.configuration).getCloudProviderRegions(id, page, size, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns the list of supported cloud providers\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getCloudProviders(page, size, options) {\n        return exports.DefaultApiFp(this.configuration).getCloudProviders(page, size, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a Kafka request by ID\n     * @param {string} id The ID of record\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getKafkaById(id, options) {\n        return exports.DefaultApiFp(this.configuration).getKafkaById(id, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of Kafka requests\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {string} [orderBy] Specifies the order by criteria. The syntax of this parameter is similar to the syntax of the &#x60;order by&#x60; clause of an SQL statement. Each query can be ordered by any of the &#x60;kafkaRequests&#x60; fields. For example, to return all Kafka instances ordered by their name, use the following syntax:  &#x60;&#x60;&#x60;sql name asc &#x60;&#x60;&#x60;  To return all Kafka instances ordered by their name _and_ created date, use the following syntax:  &#x60;&#x60;&#x60;sql name asc, created_at asc &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then the results are ordered by name.\n     * @param {string} [search] Search criteria.  The syntax of this parameter is similar to the syntax of the &#x60;where&#x60; clause of an SQL statement. Allowed fields in the search are &#x60;cloud_provider&#x60;, &#x60;name&#x60;, &#x60;owner&#x60;, &#x60;region&#x60;, and &#x60;status&#x60;. Allowed comparators are &#x60;&lt;&gt;&#x60;, &#x60;&#x3D;&#x60;, or &#x60;LIKE&#x60;. Allowed joins are &#x60;AND&#x60; and &#x60;OR&#x60;. However, you can use a maximum of 10 joins in a search query.  Examples:  To return a Kafka instance with the name &#x60;my-kafka&#x60; and the region &#x60;aws&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name &#x3D; my-kafka and cloud_provider &#x3D; aws &#x60;&#x60;&#x60;[p-]  To return a Kafka instance with a name that starts with &#x60;my&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name like my%25 &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then all the Kafka instances that the user has permission to see are returned.  Note. If the query is invalid, an error is returned.\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getKafkas(page, size, orderBy, search, options) {\n        return exports.DefaultApiFp(this.configuration).getKafkas(page, size, orderBy, search, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns metrics with instant query by Kafka ID\n     * @param {string} id The ID of record\n     * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getMetricsByInstantQuery(id, filters, options) {\n        return exports.DefaultApiFp(this.configuration).getMetricsByInstantQuery(id, filters, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns metrics with timeseries range query by Kafka ID\n     * @param {string} id The ID of record\n     * @param {number} duration The length of time in minutes for which to return the metrics\n     * @param {number} interval The interval in seconds between data points\n     * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getMetricsByRangeQuery(id, duration, interval, filters, options) {\n        return exports.DefaultApiFp(this.configuration).getMetricsByRangeQuery(id, duration, interval, filters, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns the status of resources, such as whether maximum service capacity has been reached\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getServiceStatus(options) {\n        return exports.DefaultApiFp(this.configuration).getServiceStatus(options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns the version metadata\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getVersionMetadata(options) {\n        return exports.DefaultApiFp(this.configuration).getVersionMetadata(options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.DefaultApi = DefaultApi;\n/**\n * SecurityApi - axios parameter creator\n * @export\n */\nconst SecurityApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Creates a service account\n         * @param {ServiceAccountRequest} serviceAccountRequest Service account request\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createServiceAccount: (serviceAccountRequest, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'serviceAccountRequest' is not null or undefined\n            common_1.assertParamExists('createServiceAccount', 'serviceAccountRequest', serviceAccountRequest);\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            localVarHeaderParameter['Content-Type'] = 'application/json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(serviceAccountRequest, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Deletes a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteServiceAccountById: (id, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('deleteServiceAccountById', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts/{id}`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'DELETE' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returned service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccountById: (id, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getServiceAccountById', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts/{id}`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of service accounts\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccounts: (options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Resets the credentials for a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        resetServiceAccountCreds: (id, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('resetServiceAccountCreds', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts/{id}/reset_credentials`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.SecurityApiAxiosParamCreator = SecurityApiAxiosParamCreator;\n/**\n * SecurityApi - functional programming interface\n * @export\n */\nconst SecurityApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.SecurityApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Creates a service account\n         * @param {ServiceAccountRequest} serviceAccountRequest Service account request\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createServiceAccount(serviceAccountRequest, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.createServiceAccount(serviceAccountRequest, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Deletes a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteServiceAccountById(id, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteServiceAccountById(id, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returned service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccountById(id, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getServiceAccountById(id, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of service accounts\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccounts(options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getServiceAccounts(options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Resets the credentials for a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        resetServiceAccountCreds(id, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.resetServiceAccountCreds(id, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.SecurityApiFp = SecurityApiFp;\n/**\n * SecurityApi - factory interface\n * @export\n */\nconst SecurityApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.SecurityApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Creates a service account\n         * @param {ServiceAccountRequest} serviceAccountRequest Service account request\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createServiceAccount(serviceAccountRequest, options) {\n            return localVarFp.createServiceAccount(serviceAccountRequest, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Deletes a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteServiceAccountById(id, options) {\n            return localVarFp.deleteServiceAccountById(id, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returned service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccountById(id, options) {\n            return localVarFp.getServiceAccountById(id, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of service accounts\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccounts(options) {\n            return localVarFp.getServiceAccounts(options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Resets the credentials for a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        resetServiceAccountCreds(id, options) {\n            return localVarFp.resetServiceAccountCreds(id, options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.SecurityApiFactory = SecurityApiFactory;\n/**\n * SecurityApi - object-oriented interface\n * @export\n * @class SecurityApi\n * @extends {BaseAPI}\n */\nclass SecurityApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Creates a service account\n     * @param {ServiceAccountRequest} serviceAccountRequest Service account request\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    createServiceAccount(serviceAccountRequest, options) {\n        return exports.SecurityApiFp(this.configuration).createServiceAccount(serviceAccountRequest, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Deletes a service account by ID\n     * @param {string} id The ID of record\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    deleteServiceAccountById(id, options) {\n        return exports.SecurityApiFp(this.configuration).deleteServiceAccountById(id, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returned service account by ID\n     * @param {string} id The ID of record\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    getServiceAccountById(id, options) {\n        return exports.SecurityApiFp(this.configuration).getServiceAccountById(id, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of service accounts\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    getServiceAccounts(options) {\n        return exports.SecurityApiFp(this.configuration).getServiceAccounts(options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Resets the credentials for a service account by ID\n     * @param {string} id The ID of record\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    resetServiceAccountCreds(id, options) {\n        return exports.SecurityApiFp(this.configuration).resetServiceAccountCreds(id, options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.SecurityApi = SecurityApi;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2FwaS5qcz9iMjc0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwrREFBK0QsZ0JBQWdCLEVBQUUsRUFBRTtBQUM5RztBQUNBLG1DQUFtQyxNQUFNLDZCQUE2QixFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ2pHLGtDQUFrQyxNQUFNLGlDQUFpQyxFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ3BHLCtCQUErQixxRkFBcUY7QUFDcEg7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4Q0FBNkMsQ0FBQyxjQUFjLEVBQUM7QUFDN0QsbUJBQW1CLEdBQUcsMEJBQTBCLEdBQUcscUJBQXFCLEdBQUcsb0NBQW9DLEdBQUcsa0JBQWtCLEdBQUcseUJBQXlCLEdBQUcsb0JBQW9CLEdBQUcsbUNBQW1DLEdBQUcscUJBQXFCLEdBQUcsNEJBQTRCLEdBQUcsdUJBQXVCLEdBQUcsc0NBQXNDLEdBQUcseUJBQXlCLEdBQUcsZ0NBQWdDLEdBQUcsMkJBQTJCLEdBQUcsMENBQTBDLEdBQUcsNEJBQTRCLEdBQUcsbUNBQW1DLEdBQUcsOEJBQThCLEdBQUcsNkNBQTZDLEdBQUcsb0NBQW9DLEdBQUcsK0JBQStCO0FBQ2hzQixnQkFBZ0IsbUJBQU8sQ0FBQyxLQUFPO0FBQy9CO0FBQ0E7QUFDQSxpQkFBaUIsbUJBQU8sQ0FBQyxLQUFVO0FBQ25DO0FBQ0EsZUFBZSxtQkFBTyxDQUFDLEtBQVE7QUFDL0I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnRUFBZ0UsK0JBQStCLEtBQUs7QUFDckc7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywwRUFBMEUsb0NBQW9D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RUFBRTtBQUNyQixvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixPQUFPO0FBQzFCLG1CQUFtQixFQUFFO0FBQ3JCLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxzQkFBc0I7QUFDckMsZUFBZSxFQUFFO0FBQ2pCLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsRUFBRTtBQUNqQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLEVBQUU7QUFDakIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEVBQUU7QUFDakIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxFQUFFO0FBQ2pCLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIiLCJmaWxlIjoiMzExMDAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIHRzbGludDpkaXNhYmxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyoqXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyIGlzIGEgUmVzdCBBUEkgdG8gbWFuYWdlIGNvbm5lY3RvcnMuXG4gKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIE9wZW5BUEkgZG9jdW1lbnQ6IDAuMC4zXG4gKlxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNlY3VyaXR5QXBpID0gZXhwb3J0cy5TZWN1cml0eUFwaUZhY3RvcnkgPSBleHBvcnRzLlNlY3VyaXR5QXBpRnAgPSBleHBvcnRzLlNlY3VyaXR5QXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBleHBvcnRzLkRlZmF1bHRBcGkgPSBleHBvcnRzLkRlZmF1bHRBcGlGYWN0b3J5ID0gZXhwb3J0cy5EZWZhdWx0QXBpRnAgPSBleHBvcnRzLkRlZmF1bHRBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IGV4cG9ydHMuQ29ubmVjdG9yc0FwaSA9IGV4cG9ydHMuQ29ubmVjdG9yc0FwaUZhY3RvcnkgPSBleHBvcnRzLkNvbm5lY3RvcnNBcGlGcCA9IGV4cG9ydHMuQ29ubmVjdG9yc0FwaUF4aW9zUGFyYW1DcmVhdG9yID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaSA9IGV4cG9ydHMuQ29ubmVjdG9yVHlwZXNBcGlGYWN0b3J5ID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUZwID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUF4aW9zUGFyYW1DcmVhdG9yID0gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaSA9IGV4cG9ydHMuQ29ubmVjdG9yQ2x1c3RlcnNBcGlGYWN0b3J5ID0gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaUZwID0gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaUF4aW9zUGFyYW1DcmVhdG9yID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlQWxsT2ZMYWJlbHNFbnVtID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlTGFiZWxzRW51bSA9IHZvaWQgMDtcbmNvbnN0IGF4aW9zXzEgPSByZXF1aXJlKFwiYXhpb3NcIik7XG4vLyBTb21lIGltcG9ydHMgbm90IHVzZWQgZGVwZW5kaW5nIG9uIHRlbXBsYXRlIGNvbmRpdGlvbnNcbi8vIEB0cy1pZ25vcmVcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIi4vY29tbW9uXCIpO1xuLy8gQHRzLWlnbm9yZVxuY29uc3QgYmFzZV8xID0gcmVxdWlyZShcIi4vYmFzZVwiKTtcbi8qKlxuICAgICogQGV4cG9ydFxuICAgICogQGVudW0ge3N0cmluZ31cbiAgICAqL1xudmFyIENvbm5lY3RvclR5cGVMYWJlbHNFbnVtO1xuKGZ1bmN0aW9uIChDb25uZWN0b3JUeXBlTGFiZWxzRW51bSkge1xuICAgIENvbm5lY3RvclR5cGVMYWJlbHNFbnVtW1wiU2lua1wiXSA9IFwic2lua1wiO1xuICAgIENvbm5lY3RvclR5cGVMYWJlbHNFbnVtW1wiU291cmNlXCJdID0gXCJzb3VyY2VcIjtcbn0pKENvbm5lY3RvclR5cGVMYWJlbHNFbnVtID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlTGFiZWxzRW51bSB8fCAoZXhwb3J0cy5Db25uZWN0b3JUeXBlTGFiZWxzRW51bSA9IHt9KSk7XG4vKipcbiAgICAqIEBleHBvcnRcbiAgICAqIEBlbnVtIHtzdHJpbmd9XG4gICAgKi9cbnZhciBDb25uZWN0b3JUeXBlQWxsT2ZMYWJlbHNFbnVtO1xuKGZ1bmN0aW9uIChDb25uZWN0b3JUeXBlQWxsT2ZMYWJlbHNFbnVtKSB7XG4gICAgQ29ubmVjdG9yVHlwZUFsbE9mTGFiZWxzRW51bVtcIlNpbmtcIl0gPSBcInNpbmtcIjtcbiAgICBDb25uZWN0b3JUeXBlQWxsT2ZMYWJlbHNFbnVtW1wiU291cmNlXCJdID0gXCJzb3VyY2VcIjtcbn0pKENvbm5lY3RvclR5cGVBbGxPZkxhYmVsc0VudW0gPSBleHBvcnRzLkNvbm5lY3RvclR5cGVBbGxPZkxhYmVsc0VudW0gfHwgKGV4cG9ydHMuQ29ubmVjdG9yVHlwZUFsbE9mTGFiZWxzRW51bSA9IHt9KSk7XG4vKipcbiAqIENvbm5lY3RvckNsdXN0ZXJzQXBpIC0gYXhpb3MgcGFyYW1ldGVyIGNyZWF0b3JcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgQ29ubmVjdG9yQ2x1c3RlcnNBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7Q29ubmVjdG9yQ2x1c3Rlcn0gY29ubmVjdG9yQ2x1c3RlciBDb25uZWN0b3IgY2x1c3RlciBkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDb25uZWN0b3JDbHVzdGVyOiAoYXN5bmMsIGNvbm5lY3RvckNsdXN0ZXIsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYXN5bmMnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZUNvbm5lY3RvckNsdXN0ZXInLCAnYXN5bmMnLCBhc3luYyk7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdjb25uZWN0b3JDbHVzdGVyJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdjcmVhdGVDb25uZWN0b3JDbHVzdGVyJywgJ2Nvbm5lY3RvckNsdXN0ZXInLCBjb25uZWN0b3JDbHVzdGVyKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2Nvbm5lY3Rvcl9tZ210L3YxL2thZmthX2Nvbm5lY3Rvcl9jbHVzdGVyc2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ1BPU1QnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChhc3luYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnYXN5bmMnXSA9IGFzeW5jO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5kYXRhID0gY29tbW9uXzEuc2VyaWFsaXplRGF0YUlmTmVlZGVkKGNvbm5lY3RvckNsdXN0ZXIsIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgRGVsZXRlIGEgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVDb25uZWN0b3JDbHVzdGVyOiAoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2Nvbm5lY3RvckNsdXN0ZXJJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZGVsZXRlQ29ubmVjdG9yQ2x1c3RlcicsICdjb25uZWN0b3JDbHVzdGVySWQnLCBjb25uZWN0b3JDbHVzdGVySWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yX2NsdXN0ZXJzL3tjb25uZWN0b3JfY2x1c3Rlcl9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiY29ubmVjdG9yX2NsdXN0ZXJfaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjb25uZWN0b3JDbHVzdGVySWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0RFTEVURScgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb25uZWN0b3JDbHVzdGVyOiAoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2Nvbm5lY3RvckNsdXN0ZXJJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0Q29ubmVjdG9yQ2x1c3RlcicsICdjb25uZWN0b3JDbHVzdGVySWQnLCBjb25uZWN0b3JDbHVzdGVySWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yX2NsdXN0ZXJzL3tjb25uZWN0b3JfY2x1c3Rlcl9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiY29ubmVjdG9yX2NsdXN0ZXJfaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjb25uZWN0b3JDbHVzdGVySWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIGNsdXN0ZXJcXCdzIGFkZG9uIHBhcmFtZXRlcnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb25uZWN0b3JDbHVzdGVyQWRkb25QYXJhbWV0ZXJzOiAoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2Nvbm5lY3RvckNsdXN0ZXJJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0Q29ubmVjdG9yQ2x1c3RlckFkZG9uUGFyYW1ldGVycycsICdjb25uZWN0b3JDbHVzdGVySWQnLCBjb25uZWN0b3JDbHVzdGVySWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yX2NsdXN0ZXJzL3tjb25uZWN0b3JfY2x1c3Rlcl9pZH0vYWRkb25fcGFyYW1ldGVyc2BcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJjb25uZWN0b3JfY2x1c3Rlcl9pZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGNvbm5lY3RvckNsdXN0ZXJJZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgY2x1c3RlcnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENvbm5lY3RvckNsdXN0ZXJzOiAocGFnZSwgc2l6ZSwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9jb25uZWN0b3JfbWdtdC92MS9rYWZrYV9jb25uZWN0b3JfY2x1c3RlcnNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChwYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydwYWdlJ10gPSBwYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ3NpemUnXSA9IHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBDb25uZWN0b3JDbHVzdGVyc0FwaUF4aW9zUGFyYW1DcmVhdG9yO1xuLyoqXG4gKiBDb25uZWN0b3JDbHVzdGVyc0FwaSAtIGZ1bmN0aW9uYWwgcHJvZ3JhbW1pbmcgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvckNsdXN0ZXJzQXBpRnAgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbikge1xuICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IgPSBleHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpQXhpb3NQYXJhbUNyZWF0b3IoY29uZmlndXJhdGlvbik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7Q29ubmVjdG9yQ2x1c3Rlcn0gY29ubmVjdG9yQ2x1c3RlciBDb25uZWN0b3IgY2x1c3RlciBkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDb25uZWN0b3JDbHVzdGVyKGFzeW5jLCBjb25uZWN0b3JDbHVzdGVyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5jcmVhdGVDb25uZWN0b3JDbHVzdGVyKGFzeW5jLCBjb25uZWN0b3JDbHVzdGVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBEZWxldGUgYSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yQ2x1c3RlcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUNvbm5lY3RvckNsdXN0ZXIoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5kZWxldGVDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0Q29ubmVjdG9yQ2x1c3Rlcihjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvciBjbHVzdGVyXFwncyBhZGRvbiBwYXJhbWV0ZXJzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JDbHVzdGVySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29ubmVjdG9yQ2x1c3RlckFkZG9uUGFyYW1ldGVycyhjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldENvbm5lY3RvckNsdXN0ZXJBZGRvblBhcmFtZXRlcnMoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgY2x1c3RlcnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENvbm5lY3RvckNsdXN0ZXJzKHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmxpc3RDb25uZWN0b3JDbHVzdGVycyhwYWdlLCBzaXplLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpRnAgPSBDb25uZWN0b3JDbHVzdGVyc0FwaUZwO1xuLyoqXG4gKiBDb25uZWN0b3JDbHVzdGVyc0FwaSAtIGZhY3RvcnkgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvckNsdXN0ZXJzQXBpRmFjdG9yeSA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uLCBiYXNlUGF0aCwgYXhpb3MpIHtcbiAgICBjb25zdCBsb2NhbFZhckZwID0gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaUZwKGNvbmZpZ3VyYXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGUgYSBuZXcgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0ge0Nvbm5lY3RvckNsdXN0ZXJ9IGNvbm5lY3RvckNsdXN0ZXIgQ29ubmVjdG9yIGNsdXN0ZXIgZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlQ29ubmVjdG9yQ2x1c3Rlcihhc3luYywgY29ubmVjdG9yQ2x1c3Rlciwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuY3JlYXRlQ29ubmVjdG9yQ2x1c3Rlcihhc3luYywgY29ubmVjdG9yQ2x1c3Rlciwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JDbHVzdGVySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlQ29ubmVjdG9yQ2x1c3Rlcihjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmRlbGV0ZUNvbm5lY3RvckNsdXN0ZXIoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0Q29ubmVjdG9yQ2x1c3Rlcihjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3IgY2x1c3RlclxcJ3MgYWRkb24gcGFyYW1ldGVyc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yQ2x1c3RlcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3RvckNsdXN0ZXJBZGRvblBhcmFtZXRlcnMoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5nZXRDb25uZWN0b3JDbHVzdGVyQWRkb25QYXJhbWV0ZXJzKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIGNvbm5lY3RvciBjbHVzdGVyc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0Q29ubmVjdG9yQ2x1c3RlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAubGlzdENvbm5lY3RvckNsdXN0ZXJzKHBhZ2UsIHNpemUsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpRmFjdG9yeSA9IENvbm5lY3RvckNsdXN0ZXJzQXBpRmFjdG9yeTtcbi8qKlxuICogQ29ubmVjdG9yQ2x1c3RlcnNBcGkgLSBvYmplY3Qtb3JpZW50ZWQgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgQ29ubmVjdG9yQ2x1c3RlcnNBcGlcbiAqIEBleHRlbmRzIHtCYXNlQVBJfVxuICovXG5jbGFzcyBDb25uZWN0b3JDbHVzdGVyc0FwaSBleHRlbmRzIGJhc2VfMS5CYXNlQVBJIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBjb25uZWN0b3IgY2x1c3RlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXN5bmMgUGVyZm9ybSB0aGUgYWN0aW9uIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXJcbiAgICAgKiBAcGFyYW0ge0Nvbm5lY3RvckNsdXN0ZXJ9IGNvbm5lY3RvckNsdXN0ZXIgQ29ubmVjdG9yIGNsdXN0ZXIgZGF0YVxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yQ2x1c3RlcnNBcGlcbiAgICAgKi9cbiAgICBjcmVhdGVDb25uZWN0b3JDbHVzdGVyKGFzeW5jLCBjb25uZWN0b3JDbHVzdGVyLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5jcmVhdGVDb25uZWN0b3JDbHVzdGVyKGFzeW5jLCBjb25uZWN0b3JDbHVzdGVyLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBEZWxldGUgYSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JDbHVzdGVySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yQ2x1c3RlcnNBcGlcbiAgICAgKi9cbiAgICBkZWxldGVDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuZGVsZXRlQ29ubmVjdG9yQ2x1c3Rlcihjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBDb25uZWN0b3JDbHVzdGVyc0FwaVxuICAgICAqL1xuICAgIGdldENvbm5lY3RvckNsdXN0ZXIoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIGNsdXN0ZXJcXCdzIGFkZG9uIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yQ2x1c3RlcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIENvbm5lY3RvckNsdXN0ZXJzQXBpXG4gICAgICovXG4gICAgZ2V0Q29ubmVjdG9yQ2x1c3RlckFkZG9uUGFyYW1ldGVycyhjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuQ29ubmVjdG9yQ2x1c3RlcnNBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmdldENvbm5lY3RvckNsdXN0ZXJBZGRvblBhcmFtZXRlcnMoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgY2x1c3RlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIENvbm5lY3RvckNsdXN0ZXJzQXBpXG4gICAgICovXG4gICAgbGlzdENvbm5lY3RvckNsdXN0ZXJzKHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuQ29ubmVjdG9yQ2x1c3RlcnNBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmxpc3RDb25uZWN0b3JDbHVzdGVycyhwYWdlLCBzaXplLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG59XG5leHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpID0gQ29ubmVjdG9yQ2x1c3RlcnNBcGk7XG4vKipcbiAqIENvbm5lY3RvclR5cGVzQXBpIC0gYXhpb3MgcGFyYW1ldGVyIGNyZWF0b3JcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgQ29ubmVjdG9yVHlwZXNBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvciB0eXBlIGJ5IGlkXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JUeXBlSWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgdHlwZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29ubmVjdG9yVHlwZUJ5SUQ6IChjb25uZWN0b3JUeXBlSWQsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY29ubmVjdG9yVHlwZUlkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdnZXRDb25uZWN0b3JUeXBlQnlJRCcsICdjb25uZWN0b3JUeXBlSWQnLCBjb25uZWN0b3JUeXBlSWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yX3R5cGVzL3tjb25uZWN0b3JfdHlwZV9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiY29ubmVjdG9yX3R5cGVfaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjb25uZWN0b3JUeXBlSWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgY29ubmVjdG9yIHR5cGVzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RDb25uZWN0b3JUeXBlczogKHBhZ2UsIHNpemUsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yX3R5cGVzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAocGFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsncGFnZSddID0gcGFnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydzaXplJ10gPSBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgIH07XG59O1xuZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUF4aW9zUGFyYW1DcmVhdG9yID0gQ29ubmVjdG9yVHlwZXNBcGlBeGlvc1BhcmFtQ3JlYXRvcjtcbi8qKlxuICogQ29ubmVjdG9yVHlwZXNBcGkgLSBmdW5jdGlvbmFsIHByb2dyYW1taW5nIGludGVyZmFjZVxuICogQGV4cG9ydFxuICovXG5jb25zdCBDb25uZWN0b3JUeXBlc0FwaUZwID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24pIHtcbiAgICBjb25zdCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUF4aW9zUGFyYW1DcmVhdG9yKGNvbmZpZ3VyYXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3IgdHlwZSBieSBpZFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yVHlwZUlkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIHR5cGVcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3RvclR5cGVCeUlEKGNvbm5lY3RvclR5cGVJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0Q29ubmVjdG9yVHlwZUJ5SUQoY29ubmVjdG9yVHlwZUlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgdHlwZXNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENvbm5lY3RvclR5cGVzKHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmxpc3RDb25uZWN0b3JUeXBlcyhwYWdlLCBzaXplLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvclR5cGVzQXBpRnAgPSBDb25uZWN0b3JUeXBlc0FwaUZwO1xuLyoqXG4gKiBDb25uZWN0b3JUeXBlc0FwaSAtIGZhY3RvcnkgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvclR5cGVzQXBpRmFjdG9yeSA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uLCBiYXNlUGF0aCwgYXhpb3MpIHtcbiAgICBjb25zdCBsb2NhbFZhckZwID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUZwKGNvbmZpZ3VyYXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3IgdHlwZSBieSBpZFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yVHlwZUlkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIHR5cGVcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3RvclR5cGVCeUlEKGNvbm5lY3RvclR5cGVJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0Q29ubmVjdG9yVHlwZUJ5SUQoY29ubmVjdG9yVHlwZUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgY29ubmVjdG9yIHR5cGVzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RDb25uZWN0b3JUeXBlcyhwYWdlLCBzaXplLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5saXN0Q29ubmVjdG9yVHlwZXMocGFnZSwgc2l6ZSwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbmV4cG9ydHMuQ29ubmVjdG9yVHlwZXNBcGlGYWN0b3J5ID0gQ29ubmVjdG9yVHlwZXNBcGlGYWN0b3J5O1xuLyoqXG4gKiBDb25uZWN0b3JUeXBlc0FwaSAtIG9iamVjdC1vcmllbnRlZCBpbnRlcmZhY2VcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBDb25uZWN0b3JUeXBlc0FwaVxuICogQGV4dGVuZHMge0Jhc2VBUEl9XG4gKi9cbmNsYXNzIENvbm5lY3RvclR5cGVzQXBpIGV4dGVuZHMgYmFzZV8xLkJhc2VBUEkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIHR5cGUgYnkgaWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yVHlwZUlkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIHR5cGVcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIENvbm5lY3RvclR5cGVzQXBpXG4gICAgICovXG4gICAgZ2V0Q29ubmVjdG9yVHlwZUJ5SUQoY29ubmVjdG9yVHlwZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkNvbm5lY3RvclR5cGVzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRDb25uZWN0b3JUeXBlQnlJRChjb25uZWN0b3JUeXBlSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIGNvbm5lY3RvciB0eXBlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yVHlwZXNBcGlcbiAgICAgKi9cbiAgICBsaXN0Q29ubmVjdG9yVHlwZXMocGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUZwKHRoaXMuY29uZmlndXJhdGlvbikubGlzdENvbm5lY3RvclR5cGVzKHBhZ2UsIHNpemUsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29ubmVjdG9yVHlwZXNBcGkgPSBDb25uZWN0b3JUeXBlc0FwaTtcbi8qKlxuICogQ29ubmVjdG9yc0FwaSAtIGF4aW9zIHBhcmFtZXRlciBjcmVhdG9yXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvcnNBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0ge0Nvbm5lY3Rvcn0gY29ubmVjdG9yIENvbm5lY3RvciBkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDb25uZWN0b3I6IChhc3luYywgY29ubmVjdG9yLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2FzeW5jJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdjcmVhdGVDb25uZWN0b3InLCAnYXN5bmMnLCBhc3luYyk7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdjb25uZWN0b3InIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZUNvbm5lY3RvcicsICdjb25uZWN0b3InLCBjb25uZWN0b3IpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yc2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ1BPU1QnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChhc3luYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnYXN5bmMnXSA9IGFzeW5jO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5kYXRhID0gY29tbW9uXzEuc2VyaWFsaXplRGF0YUlmTmVlZGVkKGNvbm5lY3RvciwgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucywgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBEZWxldGUgYSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUNvbm5lY3RvcjogKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2Nvbm5lY3RvcklkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdkZWxldGVDb25uZWN0b3InLCAnY29ubmVjdG9ySWQnLCBjb25uZWN0b3JJZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9jb25uZWN0b3JfbWdtdC92MS9rYWZrYV9jb25uZWN0b3JzL3tjb25uZWN0b3JfaWR9YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImNvbm5lY3Rvcl9pZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGNvbm5lY3RvcklkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdERUxFVEUnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChrYWZrYUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydrYWZrYV9pZCddID0ga2Fma2FJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29ubmVjdG9yOiAoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY29ubmVjdG9ySWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2dldENvbm5lY3RvcicsICdjb25uZWN0b3JJZCcsIGNvbm5lY3RvcklkKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2Nvbm5lY3Rvcl9tZ210L3YxL2thZmthX2Nvbm5lY3RvcnMve2Nvbm5lY3Rvcl9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiY29ubmVjdG9yX2lkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoY29ubmVjdG9ySWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKGthZmthSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ2thZmthX2lkJ10gPSBrYWZrYUlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgY29ubmVjdG9yIHR5cGVzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENvbm5lY3RvcnM6IChwYWdlLCBzaXplLCBrYWZrYUlkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2Nvbm5lY3Rvcl9tZ210L3YxL2thZmthX2Nvbm5lY3RvcnNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChwYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydwYWdlJ10gPSBwYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ3NpemUnXSA9IHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2Fma2FJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsna2Fma2FfaWQnXSA9IGthZmthSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBwYXRjaCBhIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGJvZHkgRGF0YSB0byBwYXRjaCB0aGUgY29ubmVjdG9yIHdpdGhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgcGF0Y2hDb25uZWN0b3I6IChjb25uZWN0b3JJZCwgYm9keSwga2Fma2FJZCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdjb25uZWN0b3JJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygncGF0Y2hDb25uZWN0b3InLCAnY29ubmVjdG9ySWQnLCBjb25uZWN0b3JJZCk7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdib2R5JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdwYXRjaENvbm5lY3RvcicsICdib2R5JywgYm9keSk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9jb25uZWN0b3JfbWdtdC92MS9rYWZrYV9jb25uZWN0b3JzL3tjb25uZWN0b3JfaWR9YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImNvbm5lY3Rvcl9pZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGNvbm5lY3RvcklkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdQQVRDSCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKGthZmthSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ2thZmthX2lkJ10gPSBrYWZrYUlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24tcGF0Y2granNvbic7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmRhdGEgPSBjb21tb25fMS5zZXJpYWxpemVEYXRhSWZOZWVkZWQoYm9keSwgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucywgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvcnNBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IENvbm5lY3RvcnNBcGlBeGlvc1BhcmFtQ3JlYXRvcjtcbi8qKlxuICogQ29ubmVjdG9yc0FwaSAtIGZ1bmN0aW9uYWwgcHJvZ3JhbW1pbmcgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvcnNBcGlGcCA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgY29uc3QgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvciA9IGV4cG9ydHMuQ29ubmVjdG9yc0FwaUF4aW9zUGFyYW1DcmVhdG9yKGNvbmZpZ3VyYXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGUgYSBuZXcgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXN5bmMgUGVyZm9ybSB0aGUgYWN0aW9uIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXJcbiAgICAgICAgICogQHBhcmFtIHtDb25uZWN0b3J9IGNvbm5lY3RvciBDb25uZWN0b3IgZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlQ29ubmVjdG9yKGFzeW5jLCBjb25uZWN0b3IsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmNyZWF0ZUNvbm5lY3Rvcihhc3luYywgY29ubmVjdG9yLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBEZWxldGUgYSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUNvbm5lY3Rvcihjb25uZWN0b3JJZCwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZGVsZXRlQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3Rvcihjb25uZWN0b3JJZCwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0Q29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgdHlwZXNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2thZmthSWRdIFRoZSBrYWZrYSBjbHVzdGVyIGlkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0Q29ubmVjdG9ycyhwYWdlLCBzaXplLCBrYWZrYUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5saXN0Q29ubmVjdG9ycyhwYWdlLCBzaXplLCBrYWZrYUlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBwYXRjaCBhIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGJvZHkgRGF0YSB0byBwYXRjaCB0aGUgY29ubmVjdG9yIHdpdGhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgcGF0Y2hDb25uZWN0b3IoY29ubmVjdG9ySWQsIGJvZHksIGthZmthSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLnBhdGNoQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBib2R5LCBrYWZrYUlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvcnNBcGlGcCA9IENvbm5lY3RvcnNBcGlGcDtcbi8qKlxuICogQ29ubmVjdG9yc0FwaSAtIGZhY3RvcnkgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvcnNBcGlGYWN0b3J5ID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24sIGJhc2VQYXRoLCBheGlvcykge1xuICAgIGNvbnN0IGxvY2FsVmFyRnAgPSBleHBvcnRzLkNvbm5lY3RvcnNBcGlGcChjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlIGEgbmV3IGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7Q29ubmVjdG9yfSBjb25uZWN0b3IgQ29ubmVjdG9yIGRhdGFcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUNvbm5lY3Rvcihhc3luYywgY29ubmVjdG9yLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5jcmVhdGVDb25uZWN0b3IoYXN5bmMsIGNvbm5lY3Rvciwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5kZWxldGVDb25uZWN0b3IoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3Rvcihjb25uZWN0b3JJZCwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0Q29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgY29ubmVjdG9yIHR5cGVzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENvbm5lY3RvcnMocGFnZSwgc2l6ZSwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAubGlzdENvbm5lY3RvcnMocGFnZSwgc2l6ZSwga2Fma2FJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IHBhdGNoIGEgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gYm9keSBEYXRhIHRvIHBhdGNoIHRoZSBjb25uZWN0b3Igd2l0aFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2thZmthSWRdIFRoZSBrYWZrYSBjbHVzdGVyIGlkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBwYXRjaENvbm5lY3Rvcihjb25uZWN0b3JJZCwgYm9keSwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAucGF0Y2hDb25uZWN0b3IoY29ubmVjdG9ySWQsIGJvZHksIGthZmthSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvcnNBcGlGYWN0b3J5ID0gQ29ubmVjdG9yc0FwaUZhY3Rvcnk7XG4vKipcbiAqIENvbm5lY3RvcnNBcGkgLSBvYmplY3Qtb3JpZW50ZWQgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgQ29ubmVjdG9yc0FwaVxuICogQGV4dGVuZHMge0Jhc2VBUEl9XG4gKi9cbmNsYXNzIENvbm5lY3RvcnNBcGkgZXh0ZW5kcyBiYXNlXzEuQmFzZUFQSSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBDcmVhdGUgYSBuZXcgY29ubmVjdG9yXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAqIEBwYXJhbSB7Q29ubmVjdG9yfSBjb25uZWN0b3IgQ29ubmVjdG9yIGRhdGFcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIENvbm5lY3RvcnNBcGlcbiAgICAgKi9cbiAgICBjcmVhdGVDb25uZWN0b3IoYXN5bmMsIGNvbm5lY3Rvciwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5jcmVhdGVDb25uZWN0b3IoYXN5bmMsIGNvbm5lY3Rvciwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgRGVsZXRlIGEgY29ubmVjdG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yc0FwaVxuICAgICAqL1xuICAgIGRlbGV0ZUNvbm5lY3Rvcihjb25uZWN0b3JJZCwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5kZWxldGVDb25uZWN0b3IoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIENvbm5lY3RvcnNBcGlcbiAgICAgKi9cbiAgICBnZXRDb25uZWN0b3IoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuQ29ubmVjdG9yc0FwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuZ2V0Q29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgdHlwZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2thZmthSWRdIFRoZSBrYWZrYSBjbHVzdGVyIGlkXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBDb25uZWN0b3JzQXBpXG4gICAgICovXG4gICAgbGlzdENvbm5lY3RvcnMocGFnZSwgc2l6ZSwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5saXN0Q29ubmVjdG9ycyhwYWdlLCBzaXplLCBrYWZrYUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBwYXRjaCBhIGNvbm5lY3RvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBib2R5IERhdGEgdG8gcGF0Y2ggdGhlIGNvbm5lY3RvciB3aXRoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yc0FwaVxuICAgICAqL1xuICAgIHBhdGNoQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBib2R5LCBrYWZrYUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkNvbm5lY3RvcnNBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLnBhdGNoQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBib2R5LCBrYWZrYUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG59XG5leHBvcnRzLkNvbm5lY3RvcnNBcGkgPSBDb25uZWN0b3JzQXBpO1xuLyoqXG4gKiBEZWZhdWx0QXBpIC0gYXhpb3MgcGFyYW1ldGVyIGNyZWF0b3JcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgRGVmYXVsdEFwaUF4aW9zUGFyYW1DcmVhdG9yID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIEthZmthIHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0ge0thZmthUmVxdWVzdFBheWxvYWR9IGthZmthUmVxdWVzdFBheWxvYWQgS2Fma2EgZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlS2Fma2E6IChhc3luYywga2Fma2FSZXF1ZXN0UGF5bG9hZCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdhc3luYycgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnY3JlYXRlS2Fma2EnLCAnYXN5bmMnLCBhc3luYyk7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdrYWZrYVJlcXVlc3RQYXlsb2FkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdjcmVhdGVLYWZrYScsICdrYWZrYVJlcXVlc3RQYXlsb2FkJywga2Fma2FSZXF1ZXN0UGF5bG9hZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9rYWZrYXNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdQT1NUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAoYXN5bmMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ2FzeW5jJ10gPSBhc3luYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuZGF0YSA9IGNvbW1vbl8xLnNlcmlhbGl6ZURhdGFJZk5lZWRlZChrYWZrYVJlcXVlc3RQYXlsb2FkLCBsb2NhbFZhclJlcXVlc3RPcHRpb25zLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZXMgYSBLYWZrYSByZXF1ZXN0IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXN5bmMgUGVyZm9ybSB0aGUgYWN0aW9uIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUthZmthQnlJZDogKGlkLCBhc3luYywgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZGVsZXRlS2Fma2FCeUlkJywgJ2lkJywgaWQpO1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYXN5bmMnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2RlbGV0ZUthZmthQnlJZCcsICdhc3luYycsIGFzeW5jKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL2thZmthcy97aWR9YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImlkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0RFTEVURScgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKGFzeW5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydhc3luYyddID0gYXN5bmM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBsaXN0IG9mIHN1cHBvcnRlZCByZWdpb25zIG9mIHRoZSBzdXBwb3J0ZWQgY2xvdWQgcHJvdmlkZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnM6IChpZCwgcGFnZSwgc2l6ZSwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnMnLCAnaWQnLCBpZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9jbG91ZF9wcm92aWRlcnMve2lkfS9yZWdpb25zYFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImlkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKHBhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ3BhZ2UnXSA9IHBhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnc2l6ZSddID0gc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIGNsb3VkIHByb3ZpZGVyc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDbG91ZFByb3ZpZGVyczogKHBhZ2UsIHNpemUsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjEvY2xvdWRfcHJvdmlkZXJzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAocGFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsncGFnZSddID0gcGFnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydzaXplJ10gPSBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIEthZmthIHJlcXVlc3QgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldEthZmthQnlJZDogKGlkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2lkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdnZXRLYWZrYUJ5SWQnLCAnaWQnLCBpZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9rYWZrYXMve2lkfWBcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJpZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGlkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIEthZmthIHJlcXVlc3RzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcmRlckJ5XSBTcGVjaWZpZXMgdGhlIG9yZGVyIGJ5IGNyaXRlcmlhLiBUaGUgc3ludGF4IG9mIHRoaXMgcGFyYW1ldGVyIGlzIHNpbWlsYXIgdG8gdGhlIHN5bnRheCBvZiB0aGUgJiN4NjA7b3JkZXIgYnkmI3g2MDsgY2xhdXNlIG9mIGFuIFNRTCBzdGF0ZW1lbnQuIEVhY2ggcXVlcnkgY2FuIGJlIG9yZGVyZWQgYnkgYW55IG9mIHRoZSAmI3g2MDtrYWZrYVJlcXVlc3RzJiN4NjA7IGZpZWxkcy4gRm9yIGV4YW1wbGUsIHRvIHJldHVybiBhbGwgS2Fma2EgaW5zdGFuY2VzIG9yZGVyZWQgYnkgdGhlaXIgbmFtZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjICYjeDYwOyYjeDYwOyYjeDYwOyAgVG8gcmV0dXJuIGFsbCBLYWZrYSBpbnN0YW5jZXMgb3JkZXJlZCBieSB0aGVpciBuYW1lIF9hbmRfIGNyZWF0ZWQgZGF0ZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjLCBjcmVhdGVkX2F0IGFzYyAmI3g2MDsmI3g2MDsmI3g2MDsgIElmIHRoZSBwYXJhbWV0ZXIgaXNuXFwmIzM5O3QgcHJvdmlkZWQsIG9yIGlmIHRoZSB2YWx1ZSBpcyBlbXB0eSwgdGhlbiB0aGUgcmVzdWx0cyBhcmUgb3JkZXJlZCBieSBuYW1lLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlYXJjaF0gU2VhcmNoIGNyaXRlcmlhLiAgVGhlIHN5bnRheCBvZiB0aGlzIHBhcmFtZXRlciBpcyBzaW1pbGFyIHRvIHRoZSBzeW50YXggb2YgdGhlICYjeDYwO3doZXJlJiN4NjA7IGNsYXVzZSBvZiBhbiBTUUwgc3RhdGVtZW50LiBBbGxvd2VkIGZpZWxkcyBpbiB0aGUgc2VhcmNoIGFyZSAmI3g2MDtjbG91ZF9wcm92aWRlciYjeDYwOywgJiN4NjA7bmFtZSYjeDYwOywgJiN4NjA7b3duZXImI3g2MDssICYjeDYwO3JlZ2lvbiYjeDYwOywgYW5kICYjeDYwO3N0YXR1cyYjeDYwOy4gQWxsb3dlZCBjb21wYXJhdG9ycyBhcmUgJiN4NjA7Jmx0OyZndDsmI3g2MDssICYjeDYwOyYjeDNEOyYjeDYwOywgb3IgJiN4NjA7TElLRSYjeDYwOy4gQWxsb3dlZCBqb2lucyBhcmUgJiN4NjA7QU5EJiN4NjA7IGFuZCAmI3g2MDtPUiYjeDYwOy4gSG93ZXZlciwgeW91IGNhbiB1c2UgYSBtYXhpbXVtIG9mIDEwIGpvaW5zIGluIGEgc2VhcmNoIHF1ZXJ5LiAgRXhhbXBsZXM6ICBUbyByZXR1cm4gYSBLYWZrYSBpbnN0YW5jZSB3aXRoIHRoZSBuYW1lICYjeDYwO215LWthZmthJiN4NjA7IGFuZCB0aGUgcmVnaW9uICYjeDYwO2F3cyYjeDYwOywgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7IG5hbWUgJiN4M0Q7IG15LWthZmthIGFuZCBjbG91ZF9wcm92aWRlciAmI3gzRDsgYXdzICYjeDYwOyYjeDYwOyYjeDYwO1twLV0gIFRvIHJldHVybiBhIEthZmthIGluc3RhbmNlIHdpdGggYSBuYW1lIHRoYXQgc3RhcnRzIHdpdGggJiN4NjA7bXkmI3g2MDssIHVzZSB0aGUgZm9sbG93aW5nIHN5bnRheDogICYjeDYwOyYjeDYwOyYjeDYwOyBuYW1lIGxpa2UgbXklMjUgJiN4NjA7JiN4NjA7JiN4NjA7ICBJZiB0aGUgcGFyYW1ldGVyIGlzblxcJiMzOTt0IHByb3ZpZGVkLCBvciBpZiB0aGUgdmFsdWUgaXMgZW1wdHksIHRoZW4gYWxsIHRoZSBLYWZrYSBpbnN0YW5jZXMgdGhhdCB0aGUgdXNlciBoYXMgcGVybWlzc2lvbiB0byBzZWUgYXJlIHJldHVybmVkLiAgTm90ZS4gSWYgdGhlIHF1ZXJ5IGlzIGludmFsaWQsIGFuIGVycm9yIGlzIHJldHVybmVkLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0S2Fma2FzOiAocGFnZSwgc2l6ZSwgb3JkZXJCeSwgc2VhcmNoLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL2thZmthc2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKHBhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ3BhZ2UnXSA9IHBhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnc2l6ZSddID0gc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcmRlckJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydvcmRlckJ5J10gPSBvcmRlckJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlYXJjaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnc2VhcmNoJ10gPSBzZWFyY2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIG1ldHJpY3Mgd2l0aCBpbnN0YW50IHF1ZXJ5IGJ5IEthZmthIElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gW2ZpbHRlcnNdIExpc3Qgb2YgbWV0cmljcyB0byBmZXRjaC4gRmV0Y2ggYWxsIG1ldHJpY3Mgd2hlbiBlbXB0eS4gTGlzdCBlbnRyaWVzIGFyZSBLYWZrYSBpbnRlcm5hbCBtZXRyaWMgbmFtZXMuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRNZXRyaWNzQnlJbnN0YW50UXVlcnk6IChpZCwgZmlsdGVycywgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0TWV0cmljc0J5SW5zdGFudFF1ZXJ5JywgJ2lkJywgaWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjEva2Fma2FzL3tpZH0vbWV0cmljcy9xdWVyeWBcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJpZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGlkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnZmlsdGVycyddID0gZmlsdGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgbWV0cmljcyB3aXRoIHRpbWVzZXJpZXMgcmFuZ2UgcXVlcnkgYnkgS2Fma2EgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBsZW5ndGggb2YgdGltZSBpbiBtaW51dGVzIGZvciB3aGljaCB0byByZXR1cm4gdGhlIG1ldHJpY3NcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGludGVydmFsIFRoZSBpbnRlcnZhbCBpbiBzZWNvbmRzIGJldHdlZW4gZGF0YSBwb2ludHNcbiAgICAgICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBbZmlsdGVyc10gTGlzdCBvZiBtZXRyaWNzIHRvIGZldGNoLiBGZXRjaCBhbGwgbWV0cmljcyB3aGVuIGVtcHR5LiBMaXN0IGVudHJpZXMgYXJlIEthZmthIGludGVybmFsIG1ldHJpYyBuYW1lcy5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldE1ldHJpY3NCeVJhbmdlUXVlcnk6IChpZCwgZHVyYXRpb24sIGludGVydmFsLCBmaWx0ZXJzLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2lkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdnZXRNZXRyaWNzQnlSYW5nZVF1ZXJ5JywgJ2lkJywgaWQpO1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZHVyYXRpb24nIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2dldE1ldHJpY3NCeVJhbmdlUXVlcnknLCAnZHVyYXRpb24nLCBkdXJhdGlvbik7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpbnRlcnZhbCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0TWV0cmljc0J5UmFuZ2VRdWVyeScsICdpbnRlcnZhbCcsIGludGVydmFsKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL2thZmthcy97aWR9L21ldHJpY3MvcXVlcnlfcmFuZ2VgXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhpZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAoZHVyYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ2R1cmF0aW9uJ10gPSBkdXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbnRlcnZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnaW50ZXJ2YWwnXSA9IGludGVydmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydmaWx0ZXJzJ10gPSBmaWx0ZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgc3RhdHVzIG9mIHJlc291cmNlcywgc3VjaCBhcyB3aGV0aGVyIG1heGltdW0gc2VydmljZSBjYXBhY2l0eSBoYXMgYmVlbiByZWFjaGVkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZXJ2aWNlU3RhdHVzOiAob3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9zdGF0dXNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIHZlcnNpb24gbWV0YWRhdGFcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFZlcnNpb25NZXRhZGF0YTogKG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjFgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgIH07XG59O1xuZXhwb3J0cy5EZWZhdWx0QXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBEZWZhdWx0QXBpQXhpb3NQYXJhbUNyZWF0b3I7XG4vKipcbiAqIERlZmF1bHRBcGkgLSBmdW5jdGlvbmFsIHByb2dyYW1taW5nIGludGVyZmFjZVxuICogQGV4cG9ydFxuICovXG5jb25zdCBEZWZhdWx0QXBpRnAgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbikge1xuICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IgPSBleHBvcnRzLkRlZmF1bHRBcGlBeGlvc1BhcmFtQ3JlYXRvcihjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIEthZmthIHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0ge0thZmthUmVxdWVzdFBheWxvYWR9IGthZmthUmVxdWVzdFBheWxvYWQgS2Fma2EgZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlS2Fma2EoYXN5bmMsIGthZmthUmVxdWVzdFBheWxvYWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmNyZWF0ZUthZmthKGFzeW5jLCBrYWZrYVJlcXVlc3RQYXlsb2FkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBEZWxldGVzIGEgS2Fma2EgcmVxdWVzdCBieSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVLYWZrYUJ5SWQoaWQsIGFzeW5jLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5kZWxldGVLYWZrYUJ5SWQoaWQsIGFzeW5jLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBsaXN0IG9mIHN1cHBvcnRlZCByZWdpb25zIG9mIHRoZSBzdXBwb3J0ZWQgY2xvdWQgcHJvdmlkZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnMoaWQsIHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldENsb3VkUHJvdmlkZXJSZWdpb25zKGlkLCBwYWdlLCBzaXplLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBsaXN0IG9mIHN1cHBvcnRlZCBjbG91ZCBwcm92aWRlcnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2xvdWRQcm92aWRlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0Q2xvdWRQcm92aWRlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIEthZmthIHJlcXVlc3QgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldEthZmthQnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0S2Fma2FCeUlkKGlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBLYWZrYSByZXF1ZXN0c1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3JkZXJCeV0gU3BlY2lmaWVzIHRoZSBvcmRlciBieSBjcml0ZXJpYS4gVGhlIHN5bnRheCBvZiB0aGlzIHBhcmFtZXRlciBpcyBzaW1pbGFyIHRvIHRoZSBzeW50YXggb2YgdGhlICYjeDYwO29yZGVyIGJ5JiN4NjA7IGNsYXVzZSBvZiBhbiBTUUwgc3RhdGVtZW50LiBFYWNoIHF1ZXJ5IGNhbiBiZSBvcmRlcmVkIGJ5IGFueSBvZiB0aGUgJiN4NjA7a2Fma2FSZXF1ZXN0cyYjeDYwOyBmaWVsZHMuIEZvciBleGFtcGxlLCB0byByZXR1cm4gYWxsIEthZmthIGluc3RhbmNlcyBvcmRlcmVkIGJ5IHRoZWlyIG5hbWUsIHVzZSB0aGUgZm9sbG93aW5nIHN5bnRheDogICYjeDYwOyYjeDYwOyYjeDYwO3NxbCBuYW1lIGFzYyAmI3g2MDsmI3g2MDsmI3g2MDsgIFRvIHJldHVybiBhbGwgS2Fma2EgaW5zdGFuY2VzIG9yZGVyZWQgYnkgdGhlaXIgbmFtZSBfYW5kXyBjcmVhdGVkIGRhdGUsIHVzZSB0aGUgZm9sbG93aW5nIHN5bnRheDogICYjeDYwOyYjeDYwOyYjeDYwO3NxbCBuYW1lIGFzYywgY3JlYXRlZF9hdCBhc2MgJiN4NjA7JiN4NjA7JiN4NjA7ICBJZiB0aGUgcGFyYW1ldGVyIGlzblxcJiMzOTt0IHByb3ZpZGVkLCBvciBpZiB0aGUgdmFsdWUgaXMgZW1wdHksIHRoZW4gdGhlIHJlc3VsdHMgYXJlIG9yZGVyZWQgYnkgbmFtZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzZWFyY2hdIFNlYXJjaCBjcml0ZXJpYS4gIFRoZSBzeW50YXggb2YgdGhpcyBwYXJhbWV0ZXIgaXMgc2ltaWxhciB0byB0aGUgc3ludGF4IG9mIHRoZSAmI3g2MDt3aGVyZSYjeDYwOyBjbGF1c2Ugb2YgYW4gU1FMIHN0YXRlbWVudC4gQWxsb3dlZCBmaWVsZHMgaW4gdGhlIHNlYXJjaCBhcmUgJiN4NjA7Y2xvdWRfcHJvdmlkZXImI3g2MDssICYjeDYwO25hbWUmI3g2MDssICYjeDYwO293bmVyJiN4NjA7LCAmI3g2MDtyZWdpb24mI3g2MDssIGFuZCAmI3g2MDtzdGF0dXMmI3g2MDsuIEFsbG93ZWQgY29tcGFyYXRvcnMgYXJlICYjeDYwOyZsdDsmZ3Q7JiN4NjA7LCAmI3g2MDsmI3gzRDsmI3g2MDssIG9yICYjeDYwO0xJS0UmI3g2MDsuIEFsbG93ZWQgam9pbnMgYXJlICYjeDYwO0FORCYjeDYwOyBhbmQgJiN4NjA7T1ImI3g2MDsuIEhvd2V2ZXIsIHlvdSBjYW4gdXNlIGEgbWF4aW11bSBvZiAxMCBqb2lucyBpbiBhIHNlYXJjaCBxdWVyeS4gIEV4YW1wbGVzOiAgVG8gcmV0dXJuIGEgS2Fma2EgaW5zdGFuY2Ugd2l0aCB0aGUgbmFtZSAmI3g2MDtteS1rYWZrYSYjeDYwOyBhbmQgdGhlIHJlZ2lvbiAmI3g2MDthd3MmI3g2MDssIHVzZSB0aGUgZm9sbG93aW5nIHN5bnRheDogICYjeDYwOyYjeDYwOyYjeDYwOyBuYW1lICYjeDNEOyBteS1rYWZrYSBhbmQgY2xvdWRfcHJvdmlkZXIgJiN4M0Q7IGF3cyAmI3g2MDsmI3g2MDsmI3g2MDtbcC1dICBUbyByZXR1cm4gYSBLYWZrYSBpbnN0YW5jZSB3aXRoIGEgbmFtZSB0aGF0IHN0YXJ0cyB3aXRoICYjeDYwO215JiN4NjA7LCB1c2UgdGhlIGZvbGxvd2luZyBzeW50YXg6ICAmI3g2MDsmI3g2MDsmI3g2MDsgbmFtZSBsaWtlIG15JTI1ICYjeDYwOyYjeDYwOyYjeDYwOyAgSWYgdGhlIHBhcmFtZXRlciBpc25cXCYjMzk7dCBwcm92aWRlZCwgb3IgaWYgdGhlIHZhbHVlIGlzIGVtcHR5LCB0aGVuIGFsbCB0aGUgS2Fma2EgaW5zdGFuY2VzIHRoYXQgdGhlIHVzZXIgaGFzIHBlcm1pc3Npb24gdG8gc2VlIGFyZSByZXR1cm5lZC4gIE5vdGUuIElmIHRoZSBxdWVyeSBpcyBpbnZhbGlkLCBhbiBlcnJvciBpcyByZXR1cm5lZC5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldEthZmthcyhwYWdlLCBzaXplLCBvcmRlckJ5LCBzZWFyY2gsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldEthZmthcyhwYWdlLCBzaXplLCBvcmRlckJ5LCBzZWFyY2gsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgbWV0cmljcyB3aXRoIGluc3RhbnQgcXVlcnkgYnkgS2Fma2EgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBbZmlsdGVyc10gTGlzdCBvZiBtZXRyaWNzIHRvIGZldGNoLiBGZXRjaCBhbGwgbWV0cmljcyB3aGVuIGVtcHR5LiBMaXN0IGVudHJpZXMgYXJlIEthZmthIGludGVybmFsIG1ldHJpYyBuYW1lcy5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldE1ldHJpY3NCeUluc3RhbnRRdWVyeShpZCwgZmlsdGVycywgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0TWV0cmljc0J5SW5zdGFudFF1ZXJ5KGlkLCBmaWx0ZXJzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIG1ldHJpY3Mgd2l0aCB0aW1lc2VyaWVzIHJhbmdlIHF1ZXJ5IGJ5IEthZmthIElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgbGVuZ3RoIG9mIHRpbWUgaW4gbWludXRlcyBmb3Igd2hpY2ggdG8gcmV0dXJuIHRoZSBtZXRyaWNzXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcnZhbCBUaGUgaW50ZXJ2YWwgaW4gc2Vjb25kcyBiZXR3ZWVuIGRhdGEgcG9pbnRzXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gW2ZpbHRlcnNdIExpc3Qgb2YgbWV0cmljcyB0byBmZXRjaC4gRmV0Y2ggYWxsIG1ldHJpY3Mgd2hlbiBlbXB0eS4gTGlzdCBlbnRyaWVzIGFyZSBLYWZrYSBpbnRlcm5hbCBtZXRyaWMgbmFtZXMuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRNZXRyaWNzQnlSYW5nZVF1ZXJ5KGlkLCBkdXJhdGlvbiwgaW50ZXJ2YWwsIGZpbHRlcnMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldE1ldHJpY3NCeVJhbmdlUXVlcnkoaWQsIGR1cmF0aW9uLCBpbnRlcnZhbCwgZmlsdGVycywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgc3RhdHVzIG9mIHJlc291cmNlcywgc3VjaCBhcyB3aGV0aGVyIG1heGltdW0gc2VydmljZSBjYXBhY2l0eSBoYXMgYmVlbiByZWFjaGVkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZXJ2aWNlU3RhdHVzKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldFNlcnZpY2VTdGF0dXMob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgdmVyc2lvbiBtZXRhZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VmVyc2lvbk1ldGFkYXRhKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldFZlcnNpb25NZXRhZGF0YShvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkRlZmF1bHRBcGlGcCA9IERlZmF1bHRBcGlGcDtcbi8qKlxuICogRGVmYXVsdEFwaSAtIGZhY3RvcnkgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IERlZmF1bHRBcGlGYWN0b3J5ID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24sIGJhc2VQYXRoLCBheGlvcykge1xuICAgIGNvbnN0IGxvY2FsVmFyRnAgPSBleHBvcnRzLkRlZmF1bHRBcGlGcChjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIEthZmthIHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0ge0thZmthUmVxdWVzdFBheWxvYWR9IGthZmthUmVxdWVzdFBheWxvYWQgS2Fma2EgZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlS2Fma2EoYXN5bmMsIGthZmthUmVxdWVzdFBheWxvYWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmNyZWF0ZUthZmthKGFzeW5jLCBrYWZrYVJlcXVlc3RQYXlsb2FkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgRGVsZXRlcyBhIEthZmthIHJlcXVlc3QgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlS2Fma2FCeUlkKGlkLCBhc3luYywgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZGVsZXRlS2Fma2FCeUlkKGlkLCBhc3luYywgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIHJlZ2lvbnMgb2YgdGhlIHN1cHBvcnRlZCBjbG91ZCBwcm92aWRlclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDbG91ZFByb3ZpZGVyUmVnaW9ucyhpZCwgcGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnMoaWQsIHBhZ2UsIHNpemUsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBsaXN0IG9mIHN1cHBvcnRlZCBjbG91ZCBwcm92aWRlcnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2xvdWRQcm92aWRlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0Q2xvdWRQcm92aWRlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBLYWZrYSByZXF1ZXN0IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRLYWZrYUJ5SWQoaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmdldEthZmthQnlJZChpZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIEthZmthIHJlcXVlc3RzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcmRlckJ5XSBTcGVjaWZpZXMgdGhlIG9yZGVyIGJ5IGNyaXRlcmlhLiBUaGUgc3ludGF4IG9mIHRoaXMgcGFyYW1ldGVyIGlzIHNpbWlsYXIgdG8gdGhlIHN5bnRheCBvZiB0aGUgJiN4NjA7b3JkZXIgYnkmI3g2MDsgY2xhdXNlIG9mIGFuIFNRTCBzdGF0ZW1lbnQuIEVhY2ggcXVlcnkgY2FuIGJlIG9yZGVyZWQgYnkgYW55IG9mIHRoZSAmI3g2MDtrYWZrYVJlcXVlc3RzJiN4NjA7IGZpZWxkcy4gRm9yIGV4YW1wbGUsIHRvIHJldHVybiBhbGwgS2Fma2EgaW5zdGFuY2VzIG9yZGVyZWQgYnkgdGhlaXIgbmFtZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjICYjeDYwOyYjeDYwOyYjeDYwOyAgVG8gcmV0dXJuIGFsbCBLYWZrYSBpbnN0YW5jZXMgb3JkZXJlZCBieSB0aGVpciBuYW1lIF9hbmRfIGNyZWF0ZWQgZGF0ZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjLCBjcmVhdGVkX2F0IGFzYyAmI3g2MDsmI3g2MDsmI3g2MDsgIElmIHRoZSBwYXJhbWV0ZXIgaXNuXFwmIzM5O3QgcHJvdmlkZWQsIG9yIGlmIHRoZSB2YWx1ZSBpcyBlbXB0eSwgdGhlbiB0aGUgcmVzdWx0cyBhcmUgb3JkZXJlZCBieSBuYW1lLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlYXJjaF0gU2VhcmNoIGNyaXRlcmlhLiAgVGhlIHN5bnRheCBvZiB0aGlzIHBhcmFtZXRlciBpcyBzaW1pbGFyIHRvIHRoZSBzeW50YXggb2YgdGhlICYjeDYwO3doZXJlJiN4NjA7IGNsYXVzZSBvZiBhbiBTUUwgc3RhdGVtZW50LiBBbGxvd2VkIGZpZWxkcyBpbiB0aGUgc2VhcmNoIGFyZSAmI3g2MDtjbG91ZF9wcm92aWRlciYjeDYwOywgJiN4NjA7bmFtZSYjeDYwOywgJiN4NjA7b3duZXImI3g2MDssICYjeDYwO3JlZ2lvbiYjeDYwOywgYW5kICYjeDYwO3N0YXR1cyYjeDYwOy4gQWxsb3dlZCBjb21wYXJhdG9ycyBhcmUgJiN4NjA7Jmx0OyZndDsmI3g2MDssICYjeDYwOyYjeDNEOyYjeDYwOywgb3IgJiN4NjA7TElLRSYjeDYwOy4gQWxsb3dlZCBqb2lucyBhcmUgJiN4NjA7QU5EJiN4NjA7IGFuZCAmI3g2MDtPUiYjeDYwOy4gSG93ZXZlciwgeW91IGNhbiB1c2UgYSBtYXhpbXVtIG9mIDEwIGpvaW5zIGluIGEgc2VhcmNoIHF1ZXJ5LiAgRXhhbXBsZXM6ICBUbyByZXR1cm4gYSBLYWZrYSBpbnN0YW5jZSB3aXRoIHRoZSBuYW1lICYjeDYwO215LWthZmthJiN4NjA7IGFuZCB0aGUgcmVnaW9uICYjeDYwO2F3cyYjeDYwOywgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7IG5hbWUgJiN4M0Q7IG15LWthZmthIGFuZCBjbG91ZF9wcm92aWRlciAmI3gzRDsgYXdzICYjeDYwOyYjeDYwOyYjeDYwO1twLV0gIFRvIHJldHVybiBhIEthZmthIGluc3RhbmNlIHdpdGggYSBuYW1lIHRoYXQgc3RhcnRzIHdpdGggJiN4NjA7bXkmI3g2MDssIHVzZSB0aGUgZm9sbG93aW5nIHN5bnRheDogICYjeDYwOyYjeDYwOyYjeDYwOyBuYW1lIGxpa2UgbXklMjUgJiN4NjA7JiN4NjA7JiN4NjA7ICBJZiB0aGUgcGFyYW1ldGVyIGlzblxcJiMzOTt0IHByb3ZpZGVkLCBvciBpZiB0aGUgdmFsdWUgaXMgZW1wdHksIHRoZW4gYWxsIHRoZSBLYWZrYSBpbnN0YW5jZXMgdGhhdCB0aGUgdXNlciBoYXMgcGVybWlzc2lvbiB0byBzZWUgYXJlIHJldHVybmVkLiAgTm90ZS4gSWYgdGhlIHF1ZXJ5IGlzIGludmFsaWQsIGFuIGVycm9yIGlzIHJldHVybmVkLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0S2Fma2FzKHBhZ2UsIHNpemUsIG9yZGVyQnksIHNlYXJjaCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0S2Fma2FzKHBhZ2UsIHNpemUsIG9yZGVyQnksIHNlYXJjaCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgbWV0cmljcyB3aXRoIGluc3RhbnQgcXVlcnkgYnkgS2Fma2EgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBbZmlsdGVyc10gTGlzdCBvZiBtZXRyaWNzIHRvIGZldGNoLiBGZXRjaCBhbGwgbWV0cmljcyB3aGVuIGVtcHR5LiBMaXN0IGVudHJpZXMgYXJlIEthZmthIGludGVybmFsIG1ldHJpYyBuYW1lcy5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldE1ldHJpY3NCeUluc3RhbnRRdWVyeShpZCwgZmlsdGVycywgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0TWV0cmljc0J5SW5zdGFudFF1ZXJ5KGlkLCBmaWx0ZXJzLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBtZXRyaWNzIHdpdGggdGltZXNlcmllcyByYW5nZSBxdWVyeSBieSBLYWZrYSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGxlbmd0aCBvZiB0aW1lIGluIG1pbnV0ZXMgZm9yIHdoaWNoIHRvIHJldHVybiB0aGUgbWV0cmljc1xuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZXJ2YWwgVGhlIGludGVydmFsIGluIHNlY29uZHMgYmV0d2VlbiBkYXRhIHBvaW50c1xuICAgICAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtmaWx0ZXJzXSBMaXN0IG9mIG1ldHJpY3MgdG8gZmV0Y2guIEZldGNoIGFsbCBtZXRyaWNzIHdoZW4gZW1wdHkuIExpc3QgZW50cmllcyBhcmUgS2Fma2EgaW50ZXJuYWwgbWV0cmljIG5hbWVzLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TWV0cmljc0J5UmFuZ2VRdWVyeShpZCwgZHVyYXRpb24sIGludGVydmFsLCBmaWx0ZXJzLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5nZXRNZXRyaWNzQnlSYW5nZVF1ZXJ5KGlkLCBkdXJhdGlvbiwgaW50ZXJ2YWwsIGZpbHRlcnMsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBzdGF0dXMgb2YgcmVzb3VyY2VzLCBzdWNoIGFzIHdoZXRoZXIgbWF4aW11bSBzZXJ2aWNlIGNhcGFjaXR5IGhhcyBiZWVuIHJlYWNoZWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlcnZpY2VTdGF0dXMob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0U2VydmljZVN0YXR1cyhvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgdmVyc2lvbiBtZXRhZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VmVyc2lvbk1ldGFkYXRhKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmdldFZlcnNpb25NZXRhZGF0YShvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuZXhwb3J0cy5EZWZhdWx0QXBpRmFjdG9yeSA9IERlZmF1bHRBcGlGYWN0b3J5O1xuLyoqXG4gKiBEZWZhdWx0QXBpIC0gb2JqZWN0LW9yaWVudGVkIGludGVyZmFjZVxuICogQGV4cG9ydFxuICogQGNsYXNzIERlZmF1bHRBcGlcbiAqIEBleHRlbmRzIHtCYXNlQVBJfVxuICovXG5jbGFzcyBEZWZhdWx0QXBpIGV4dGVuZHMgYmFzZV8xLkJhc2VBUEkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIEthZmthIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICogQHBhcmFtIHtLYWZrYVJlcXVlc3RQYXlsb2FkfSBrYWZrYVJlcXVlc3RQYXlsb2FkIEthZmthIGRhdGFcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIERlZmF1bHRBcGlcbiAgICAgKi9cbiAgICBjcmVhdGVLYWZrYShhc3luYywga2Fma2FSZXF1ZXN0UGF5bG9hZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5jcmVhdGVLYWZrYShhc3luYywga2Fma2FSZXF1ZXN0UGF5bG9hZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgRGVsZXRlcyBhIEthZmthIHJlcXVlc3QgYnkgSURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXN5bmMgUGVyZm9ybSB0aGUgYWN0aW9uIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXJcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIERlZmF1bHRBcGlcbiAgICAgKi9cbiAgICBkZWxldGVLYWZrYUJ5SWQoaWQsIGFzeW5jLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmRlbGV0ZUthZmthQnlJZChpZCwgYXN5bmMsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIHJlZ2lvbnMgb2YgdGhlIHN1cHBvcnRlZCBjbG91ZCBwcm92aWRlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QXBpXG4gICAgICovXG4gICAgZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnMoaWQsIHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnMoaWQsIHBhZ2UsIHNpemUsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIGNsb3VkIHByb3ZpZGVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGdldENsb3VkUHJvdmlkZXJzKHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuZ2V0Q2xvdWRQcm92aWRlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgUmV0dXJucyBhIEthZmthIHJlcXVlc3QgYnkgSURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGdldEthZmthQnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRLYWZrYUJ5SWQoaWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIEthZmthIHJlcXVlc3RzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcmRlckJ5XSBTcGVjaWZpZXMgdGhlIG9yZGVyIGJ5IGNyaXRlcmlhLiBUaGUgc3ludGF4IG9mIHRoaXMgcGFyYW1ldGVyIGlzIHNpbWlsYXIgdG8gdGhlIHN5bnRheCBvZiB0aGUgJiN4NjA7b3JkZXIgYnkmI3g2MDsgY2xhdXNlIG9mIGFuIFNRTCBzdGF0ZW1lbnQuIEVhY2ggcXVlcnkgY2FuIGJlIG9yZGVyZWQgYnkgYW55IG9mIHRoZSAmI3g2MDtrYWZrYVJlcXVlc3RzJiN4NjA7IGZpZWxkcy4gRm9yIGV4YW1wbGUsIHRvIHJldHVybiBhbGwgS2Fma2EgaW5zdGFuY2VzIG9yZGVyZWQgYnkgdGhlaXIgbmFtZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjICYjeDYwOyYjeDYwOyYjeDYwOyAgVG8gcmV0dXJuIGFsbCBLYWZrYSBpbnN0YW5jZXMgb3JkZXJlZCBieSB0aGVpciBuYW1lIF9hbmRfIGNyZWF0ZWQgZGF0ZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjLCBjcmVhdGVkX2F0IGFzYyAmI3g2MDsmI3g2MDsmI3g2MDsgIElmIHRoZSBwYXJhbWV0ZXIgaXNuXFwmIzM5O3QgcHJvdmlkZWQsIG9yIGlmIHRoZSB2YWx1ZSBpcyBlbXB0eSwgdGhlbiB0aGUgcmVzdWx0cyBhcmUgb3JkZXJlZCBieSBuYW1lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2VhcmNoXSBTZWFyY2ggY3JpdGVyaWEuICBUaGUgc3ludGF4IG9mIHRoaXMgcGFyYW1ldGVyIGlzIHNpbWlsYXIgdG8gdGhlIHN5bnRheCBvZiB0aGUgJiN4NjA7d2hlcmUmI3g2MDsgY2xhdXNlIG9mIGFuIFNRTCBzdGF0ZW1lbnQuIEFsbG93ZWQgZmllbGRzIGluIHRoZSBzZWFyY2ggYXJlICYjeDYwO2Nsb3VkX3Byb3ZpZGVyJiN4NjA7LCAmI3g2MDtuYW1lJiN4NjA7LCAmI3g2MDtvd25lciYjeDYwOywgJiN4NjA7cmVnaW9uJiN4NjA7LCBhbmQgJiN4NjA7c3RhdHVzJiN4NjA7LiBBbGxvd2VkIGNvbXBhcmF0b3JzIGFyZSAmI3g2MDsmbHQ7Jmd0OyYjeDYwOywgJiN4NjA7JiN4M0Q7JiN4NjA7LCBvciAmI3g2MDtMSUtFJiN4NjA7LiBBbGxvd2VkIGpvaW5zIGFyZSAmI3g2MDtBTkQmI3g2MDsgYW5kICYjeDYwO09SJiN4NjA7LiBIb3dldmVyLCB5b3UgY2FuIHVzZSBhIG1heGltdW0gb2YgMTAgam9pbnMgaW4gYSBzZWFyY2ggcXVlcnkuICBFeGFtcGxlczogIFRvIHJldHVybiBhIEthZmthIGluc3RhbmNlIHdpdGggdGhlIG5hbWUgJiN4NjA7bXkta2Fma2EmI3g2MDsgYW5kIHRoZSByZWdpb24gJiN4NjA7YXdzJiN4NjA7LCB1c2UgdGhlIGZvbGxvd2luZyBzeW50YXg6ICAmI3g2MDsmI3g2MDsmI3g2MDsgbmFtZSAmI3gzRDsgbXkta2Fma2EgYW5kIGNsb3VkX3Byb3ZpZGVyICYjeDNEOyBhd3MgJiN4NjA7JiN4NjA7JiN4NjA7W3AtXSAgVG8gcmV0dXJuIGEgS2Fma2EgaW5zdGFuY2Ugd2l0aCBhIG5hbWUgdGhhdCBzdGFydHMgd2l0aCAmI3g2MDtteSYjeDYwOywgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7IG5hbWUgbGlrZSBteSUyNSAmI3g2MDsmI3g2MDsmI3g2MDsgIElmIHRoZSBwYXJhbWV0ZXIgaXNuXFwmIzM5O3QgcHJvdmlkZWQsIG9yIGlmIHRoZSB2YWx1ZSBpcyBlbXB0eSwgdGhlbiBhbGwgdGhlIEthZmthIGluc3RhbmNlcyB0aGF0IHRoZSB1c2VyIGhhcyBwZXJtaXNzaW9uIHRvIHNlZSBhcmUgcmV0dXJuZWQuICBOb3RlLiBJZiB0aGUgcXVlcnkgaXMgaW52YWxpZCwgYW4gZXJyb3IgaXMgcmV0dXJuZWQuXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QXBpXG4gICAgICovXG4gICAgZ2V0S2Fma2FzKHBhZ2UsIHNpemUsIG9yZGVyQnksIHNlYXJjaCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRLYWZrYXMocGFnZSwgc2l6ZSwgb3JkZXJCeSwgc2VhcmNoLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIG1ldHJpY3Mgd2l0aCBpbnN0YW50IHF1ZXJ5IGJ5IEthZmthIElEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtmaWx0ZXJzXSBMaXN0IG9mIG1ldHJpY3MgdG8gZmV0Y2guIEZldGNoIGFsbCBtZXRyaWNzIHdoZW4gZW1wdHkuIExpc3QgZW50cmllcyBhcmUgS2Fma2EgaW50ZXJuYWwgbWV0cmljIG5hbWVzLlxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGdldE1ldHJpY3NCeUluc3RhbnRRdWVyeShpZCwgZmlsdGVycywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRNZXRyaWNzQnlJbnN0YW50UXVlcnkoaWQsIGZpbHRlcnMsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgbWV0cmljcyB3aXRoIHRpbWVzZXJpZXMgcmFuZ2UgcXVlcnkgYnkgS2Fma2EgSURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgbGVuZ3RoIG9mIHRpbWUgaW4gbWludXRlcyBmb3Igd2hpY2ggdG8gcmV0dXJuIHRoZSBtZXRyaWNzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGludGVydmFsIFRoZSBpbnRlcnZhbCBpbiBzZWNvbmRzIGJldHdlZW4gZGF0YSBwb2ludHNcbiAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtmaWx0ZXJzXSBMaXN0IG9mIG1ldHJpY3MgdG8gZmV0Y2guIEZldGNoIGFsbCBtZXRyaWNzIHdoZW4gZW1wdHkuIExpc3QgZW50cmllcyBhcmUgS2Fma2EgaW50ZXJuYWwgbWV0cmljIG5hbWVzLlxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGdldE1ldHJpY3NCeVJhbmdlUXVlcnkoaWQsIGR1cmF0aW9uLCBpbnRlcnZhbCwgZmlsdGVycywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRNZXRyaWNzQnlSYW5nZVF1ZXJ5KGlkLCBkdXJhdGlvbiwgaW50ZXJ2YWwsIGZpbHRlcnMsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIHN0YXR1cyBvZiByZXNvdXJjZXMsIHN1Y2ggYXMgd2hldGhlciBtYXhpbXVtIHNlcnZpY2UgY2FwYWNpdHkgaGFzIGJlZW4gcmVhY2hlZFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGdldFNlcnZpY2VTdGF0dXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRTZXJ2aWNlU3RhdHVzKG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIHZlcnNpb24gbWV0YWRhdGFcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIERlZmF1bHRBcGlcbiAgICAgKi9cbiAgICBnZXRWZXJzaW9uTWV0YWRhdGEob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRWZXJzaW9uTWV0YWRhdGEob3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxufVxuZXhwb3J0cy5EZWZhdWx0QXBpID0gRGVmYXVsdEFwaTtcbi8qKlxuICogU2VjdXJpdHlBcGkgLSBheGlvcyBwYXJhbWV0ZXIgY3JlYXRvclxuICogQGV4cG9ydFxuICovXG5jb25zdCBTZWN1cml0eUFwaUF4aW9zUGFyYW1DcmVhdG9yID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIHNlcnZpY2UgYWNjb3VudFxuICAgICAgICAgKiBAcGFyYW0ge1NlcnZpY2VBY2NvdW50UmVxdWVzdH0gc2VydmljZUFjY291bnRSZXF1ZXN0IFNlcnZpY2UgYWNjb3VudCByZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVTZXJ2aWNlQWNjb3VudDogKHNlcnZpY2VBY2NvdW50UmVxdWVzdCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdzZXJ2aWNlQWNjb3VudFJlcXVlc3QnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZVNlcnZpY2VBY2NvdW50JywgJ3NlcnZpY2VBY2NvdW50UmVxdWVzdCcsIHNlcnZpY2VBY2NvdW50UmVxdWVzdCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9zZXJ2aWNlX2FjY291bnRzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnUE9TVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5kYXRhID0gY29tbW9uXzEuc2VyaWFsaXplRGF0YUlmTmVlZGVkKHNlcnZpY2VBY2NvdW50UmVxdWVzdCwgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucywgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBEZWxldGVzIGEgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVTZXJ2aWNlQWNjb3VudEJ5SWQ6IChpZCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZGVsZXRlU2VydmljZUFjY291bnRCeUlkJywgJ2lkJywgaWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjEvc2VydmljZV9hY2NvdW50cy97aWR9YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImlkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0RFTEVURScgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJuZWQgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZXJ2aWNlQWNjb3VudEJ5SWQ6IChpZCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0U2VydmljZUFjY291bnRCeUlkJywgJ2lkJywgaWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjEvc2VydmljZV9hY2NvdW50cy97aWR9YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImlkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2Ygc2VydmljZSBhY2NvdW50c1xuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U2VydmljZUFjY291bnRzOiAob3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9zZXJ2aWNlX2FjY291bnRzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXNldHMgdGhlIGNyZWRlbnRpYWxzIGZvciBhIHNlcnZpY2UgYWNjb3VudCBieSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgcmVzZXRTZXJ2aWNlQWNjb3VudENyZWRzOiAoaWQsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnaWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ3Jlc2V0U2VydmljZUFjY291bnRDcmVkcycsICdpZCcsIGlkKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL3NlcnZpY2VfYWNjb3VudHMve2lkfS9yZXNldF9jcmVkZW50aWFsc2BcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJpZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGlkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdQT1NUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgfTtcbn07XG5leHBvcnRzLlNlY3VyaXR5QXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBTZWN1cml0eUFwaUF4aW9zUGFyYW1DcmVhdG9yO1xuLyoqXG4gKiBTZWN1cml0eUFwaSAtIGZ1bmN0aW9uYWwgcHJvZ3JhbW1pbmcgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IFNlY3VyaXR5QXBpRnAgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbikge1xuICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IgPSBleHBvcnRzLlNlY3VyaXR5QXBpQXhpb3NQYXJhbUNyZWF0b3IoY29uZmlndXJhdGlvbik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZXMgYSBzZXJ2aWNlIGFjY291bnRcbiAgICAgICAgICogQHBhcmFtIHtTZXJ2aWNlQWNjb3VudFJlcXVlc3R9IHNlcnZpY2VBY2NvdW50UmVxdWVzdCBTZXJ2aWNlIGFjY291bnQgcmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlU2VydmljZUFjY291bnQoc2VydmljZUFjY291bnRSZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5jcmVhdGVTZXJ2aWNlQWNjb3VudChzZXJ2aWNlQWNjb3VudFJlcXVlc3QsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZXMgYSBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZVNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZGVsZXRlU2VydmljZUFjY291bnRCeUlkKGlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5lZCBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0U2VydmljZUFjY291bnRCeUlkKGlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBzZXJ2aWNlIGFjY291bnRzXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZXJ2aWNlQWNjb3VudHMob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0U2VydmljZUFjY291bnRzKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJlc2V0cyB0aGUgY3JlZGVudGlhbHMgZm9yIGEgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICByZXNldFNlcnZpY2VBY2NvdW50Q3JlZHMoaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLnJlc2V0U2VydmljZUFjY291bnRDcmVkcyhpZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuZXhwb3J0cy5TZWN1cml0eUFwaUZwID0gU2VjdXJpdHlBcGlGcDtcbi8qKlxuICogU2VjdXJpdHlBcGkgLSBmYWN0b3J5IGludGVyZmFjZVxuICogQGV4cG9ydFxuICovXG5jb25zdCBTZWN1cml0eUFwaUZhY3RvcnkgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbiwgYmFzZVBhdGgsIGF4aW9zKSB7XG4gICAgY29uc3QgbG9jYWxWYXJGcCA9IGV4cG9ydHMuU2VjdXJpdHlBcGlGcChjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIHNlcnZpY2UgYWNjb3VudFxuICAgICAgICAgKiBAcGFyYW0ge1NlcnZpY2VBY2NvdW50UmVxdWVzdH0gc2VydmljZUFjY291bnRSZXF1ZXN0IFNlcnZpY2UgYWNjb3VudCByZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVTZXJ2aWNlQWNjb3VudChzZXJ2aWNlQWNjb3VudFJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmNyZWF0ZVNlcnZpY2VBY2NvdW50KHNlcnZpY2VBY2NvdW50UmVxdWVzdCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZXMgYSBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZVNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZGVsZXRlU2VydmljZUFjY291bnRCeUlkKGlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJuZWQgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZXJ2aWNlQWNjb3VudEJ5SWQoaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmdldFNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIHNlcnZpY2UgYWNjb3VudHNcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlcnZpY2VBY2NvdW50cyhvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5nZXRTZXJ2aWNlQWNjb3VudHMob3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJlc2V0cyB0aGUgY3JlZGVudGlhbHMgZm9yIGEgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICByZXNldFNlcnZpY2VBY2NvdW50Q3JlZHMoaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLnJlc2V0U2VydmljZUFjY291bnRDcmVkcyhpZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbmV4cG9ydHMuU2VjdXJpdHlBcGlGYWN0b3J5ID0gU2VjdXJpdHlBcGlGYWN0b3J5O1xuLyoqXG4gKiBTZWN1cml0eUFwaSAtIG9iamVjdC1vcmllbnRlZCBpbnRlcmZhY2VcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBTZWN1cml0eUFwaVxuICogQGV4dGVuZHMge0Jhc2VBUEl9XG4gKi9cbmNsYXNzIFNlY3VyaXR5QXBpIGV4dGVuZHMgYmFzZV8xLkJhc2VBUEkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIHNlcnZpY2UgYWNjb3VudFxuICAgICAqIEBwYXJhbSB7U2VydmljZUFjY291bnRSZXF1ZXN0fSBzZXJ2aWNlQWNjb3VudFJlcXVlc3QgU2VydmljZSBhY2NvdW50IHJlcXVlc3RcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIFNlY3VyaXR5QXBpXG4gICAgICovXG4gICAgY3JlYXRlU2VydmljZUFjY291bnQoc2VydmljZUFjY291bnRSZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLlNlY3VyaXR5QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5jcmVhdGVTZXJ2aWNlQWNjb3VudChzZXJ2aWNlQWNjb3VudFJlcXVlc3QsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IERlbGV0ZXMgYSBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgU2VjdXJpdHlBcGlcbiAgICAgKi9cbiAgICBkZWxldGVTZXJ2aWNlQWNjb3VudEJ5SWQoaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuU2VjdXJpdHlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmRlbGV0ZVNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgUmV0dXJuZWQgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIFNlY3VyaXR5QXBpXG4gICAgICovXG4gICAgZ2V0U2VydmljZUFjY291bnRCeUlkKGlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLlNlY3VyaXR5QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRTZXJ2aWNlQWNjb3VudEJ5SWQoaWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIHNlcnZpY2UgYWNjb3VudHNcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIFNlY3VyaXR5QXBpXG4gICAgICovXG4gICAgZ2V0U2VydmljZUFjY291bnRzKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuU2VjdXJpdHlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmdldFNlcnZpY2VBY2NvdW50cyhvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBSZXNldHMgdGhlIGNyZWRlbnRpYWxzIGZvciBhIHNlcnZpY2UgYWNjb3VudCBieSBJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBTZWN1cml0eUFwaVxuICAgICAqL1xuICAgIHJlc2V0U2VydmljZUFjY291bnRDcmVkcyhpZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5TZWN1cml0eUFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikucmVzZXRTZXJ2aWNlQWNjb3VudENyZWRzKGlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG59XG5leHBvcnRzLlNlY3VyaXR5QXBpID0gU2VjdXJpdHlBcGk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///31100\n")},50778:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.RequiredError = exports.BaseAPI = exports.COLLECTION_FORMATS = exports.BASE_PATH = void 0;\n// Some imports not used depending on template conditions\n// @ts-ignore\nconst axios_1 = __webpack_require__(40107);\nexports.BASE_PATH = "https://api.openshift.com".replace(/\\/+$/, "");\n/**\n *\n * @export\n */\nexports.COLLECTION_FORMATS = {\n    csv: ",",\n    ssv: " ",\n    tsv: "\\t",\n    pipes: "|",\n};\n/**\n *\n * @export\n * @class BaseAPI\n */\nclass BaseAPI {\n    constructor(configuration, basePath = exports.BASE_PATH, axios = axios_1.default) {\n        this.basePath = basePath;\n        this.axios = axios;\n        if (configuration) {\n            this.configuration = configuration;\n            this.basePath = configuration.basePath || this.basePath;\n        }\n    }\n}\nexports.BaseAPI = BaseAPI;\n;\n/**\n *\n * @export\n * @class RequiredError\n * @extends {Error}\n */\nclass RequiredError extends Error {\n    constructor(field, msg) {\n        super(msg);\n        this.field = field;\n        this.name = "RequiredError";\n    }\n}\nexports.RequiredError = RequiredError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2Jhc2UuanM/MmIyNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLENBQUMsY0FBYyxFQUFDO0FBQzdELHFCQUFxQixHQUFHLGVBQWUsR0FBRywwQkFBMEIsR0FBRyxpQkFBaUI7QUFDeEY7QUFDQTtBQUNBLGdCQUFnQixtQkFBTyxDQUFDLEtBQU87QUFDL0IsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCIiwiZmlsZSI6IjUwNzc4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8qKlxuICogQ29ubmVjdG9yIFNlcnZpY2UgRmxlZXQgTWFuYWdlclxuICogQ29ubmVjdG9yIFNlcnZpY2UgRmxlZXQgTWFuYWdlciBpcyBhIFJlc3QgQVBJIHRvIG1hbmFnZSBjb25uZWN0b3JzLlxuICpcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBPcGVuQVBJIGRvY3VtZW50OiAwLjAuM1xuICpcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IE9wZW5BUEkgR2VuZXJhdG9yIChodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2gpLlxuICogaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoXG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVxdWlyZWRFcnJvciA9IGV4cG9ydHMuQmFzZUFQSSA9IGV4cG9ydHMuQ09MTEVDVElPTl9GT1JNQVRTID0gZXhwb3J0cy5CQVNFX1BBVEggPSB2b2lkIDA7XG4vLyBTb21lIGltcG9ydHMgbm90IHVzZWQgZGVwZW5kaW5nIG9uIHRlbXBsYXRlIGNvbmRpdGlvbnNcbi8vIEB0cy1pZ25vcmVcbmNvbnN0IGF4aW9zXzEgPSByZXF1aXJlKFwiYXhpb3NcIik7XG5leHBvcnRzLkJBU0VfUEFUSCA9IFwiaHR0cHM6Ly9hcGkub3BlbnNoaWZ0LmNvbVwiLnJlcGxhY2UoL1xcLyskLywgXCJcIik7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydHMuQ09MTEVDVElPTl9GT1JNQVRTID0ge1xuICAgIGNzdjogXCIsXCIsXG4gICAgc3N2OiBcIiBcIixcbiAgICB0c3Y6IFwiXFx0XCIsXG4gICAgcGlwZXM6IFwifFwiLFxufTtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBCYXNlQVBJXG4gKi9cbmNsYXNzIEJhc2VBUEkge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24sIGJhc2VQYXRoID0gZXhwb3J0cy5CQVNFX1BBVEgsIGF4aW9zID0gYXhpb3NfMS5kZWZhdWx0KSB7XG4gICAgICAgIHRoaXMuYmFzZVBhdGggPSBiYXNlUGF0aDtcbiAgICAgICAgdGhpcy5heGlvcyA9IGF4aW9zO1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuYmFzZVBhdGggPSBjb25maWd1cmF0aW9uLmJhc2VQYXRoIHx8IHRoaXMuYmFzZVBhdGg7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkJhc2VBUEkgPSBCYXNlQVBJO1xuO1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGNsYXNzIFJlcXVpcmVkRXJyb3JcbiAqIEBleHRlbmRzIHtFcnJvcn1cbiAqL1xuY2xhc3MgUmVxdWlyZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZCwgbXNnKSB7XG4gICAgICAgIHN1cGVyKG1zZyk7XG4gICAgICAgIHRoaXMuZmllbGQgPSBmaWVsZDtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJSZXF1aXJlZEVycm9yXCI7XG4gICAgfVxufVxuZXhwb3J0cy5SZXF1aXJlZEVycm9yID0gUmVxdWlyZWRFcnJvcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///50778\n')},98691:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.createRequestFunction = exports.toPathString = exports.serializeDataIfNeeded = exports.setSearchParams = exports.setOAuthToObject = exports.setBearerAuthToObject = exports.setBasicAuthToObject = exports.setApiKeyToObject = exports.assertParamExists = exports.DUMMY_BASE_URL = void 0;\nconst base_1 = __webpack_require__(50778);\n/**\n *\n * @export\n */\nexports.DUMMY_BASE_URL = \'https://example.com\';\n/**\n *\n * @throws {RequiredError}\n * @export\n */\nconst assertParamExists = function (functionName, paramName, paramValue) {\n    if (paramValue === null || paramValue === undefined) {\n        throw new base_1.RequiredError(paramName, `Required parameter ${paramName} was null or undefined when calling ${functionName}.`);\n    }\n};\nexports.assertParamExists = assertParamExists;\n/**\n *\n * @export\n */\nconst setApiKeyToObject = function (object, keyParamName, configuration) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (configuration && configuration.apiKey) {\n            const localVarApiKeyValue = typeof configuration.apiKey === \'function\'\n                ? yield configuration.apiKey(keyParamName)\n                : yield configuration.apiKey;\n            object[keyParamName] = localVarApiKeyValue;\n        }\n    });\n};\nexports.setApiKeyToObject = setApiKeyToObject;\n/**\n *\n * @export\n */\nconst setBasicAuthToObject = function (object, configuration) {\n    if (configuration && (configuration.username || configuration.password)) {\n        object["auth"] = { username: configuration.username, password: configuration.password };\n    }\n};\nexports.setBasicAuthToObject = setBasicAuthToObject;\n/**\n *\n * @export\n */\nconst setBearerAuthToObject = function (object, configuration) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (configuration && configuration.accessToken) {\n            const accessToken = typeof configuration.accessToken === \'function\'\n                ? yield configuration.accessToken()\n                : yield configuration.accessToken;\n            object["Authorization"] = "Bearer " + accessToken;\n        }\n    });\n};\nexports.setBearerAuthToObject = setBearerAuthToObject;\n/**\n *\n * @export\n */\nconst setOAuthToObject = function (object, name, scopes, configuration) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (configuration && configuration.accessToken) {\n            const localVarAccessTokenValue = typeof configuration.accessToken === \'function\'\n                ? yield configuration.accessToken(name, scopes)\n                : yield configuration.accessToken;\n            object["Authorization"] = "Bearer " + localVarAccessTokenValue;\n        }\n    });\n};\nexports.setOAuthToObject = setOAuthToObject;\n/**\n *\n * @export\n */\nconst setSearchParams = function (url, ...objects) {\n    const searchParams = new URLSearchParams(url.search);\n    for (const object of objects) {\n        for (const key in object) {\n            if (Array.isArray(object[key])) {\n                searchParams.delete(key);\n                for (const item of object[key]) {\n                    searchParams.append(key, item);\n                }\n            }\n            else {\n                searchParams.set(key, object[key]);\n            }\n        }\n    }\n    url.search = searchParams.toString();\n};\nexports.setSearchParams = setSearchParams;\n/**\n *\n * @export\n */\nconst serializeDataIfNeeded = function (value, requestOptions, configuration) {\n    const nonString = typeof value !== \'string\';\n    const needsSerialization = nonString && configuration && configuration.isJsonMime\n        ? configuration.isJsonMime(requestOptions.headers[\'Content-Type\'])\n        : nonString;\n    return needsSerialization\n        ? JSON.stringify(value !== undefined ? value : {})\n        : (value || "");\n};\nexports.serializeDataIfNeeded = serializeDataIfNeeded;\n/**\n *\n * @export\n */\nconst toPathString = function (url) {\n    return url.pathname + url.search + url.hash;\n};\nexports.toPathString = toPathString;\n/**\n *\n * @export\n */\nconst createRequestFunction = function (axiosArgs, globalAxios, BASE_PATH, configuration) {\n    return (axios = globalAxios, basePath = BASE_PATH) => {\n        const axiosRequestArgs = Object.assign(Object.assign({}, axiosArgs.options), { url: ((configuration === null || configuration === void 0 ? void 0 : configuration.basePath) || basePath) + axiosArgs.url });\n        return axios.request(axiosRequestArgs);\n    };\n};\nexports.createRequestFunction = createRequestFunction;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2NvbW1vbi5qcz84ZDY0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwrREFBK0QsZ0JBQWdCLEVBQUUsRUFBRTtBQUM5RztBQUNBLG1DQUFtQyxNQUFNLDZCQUE2QixFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ2pHLGtDQUFrQyxNQUFNLGlDQUFpQyxFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ3BHLCtCQUErQixxRkFBcUY7QUFDcEg7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4Q0FBNkMsQ0FBQyxjQUFjLEVBQUM7QUFDN0QsNkJBQTZCLEdBQUcsb0JBQW9CLEdBQUcsNkJBQTZCLEdBQUcsdUJBQXVCLEdBQUcsd0JBQXdCLEdBQUcsNkJBQTZCLEdBQUcsNEJBQTRCLEdBQUcseUJBQXlCLEdBQUcseUJBQXlCLEdBQUcsc0JBQXNCO0FBQ3pSLGVBQWUsbUJBQU8sQ0FBQyxLQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsVUFBVSxzQ0FBc0MsYUFBYTtBQUNySTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCx1QkFBdUIsNEhBQTRIO0FBQ2xOO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiIsImZpbGUiOiI5ODY5MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIENvbm5lY3RvciBTZXJ2aWNlIEZsZWV0IE1hbmFnZXJcbiAqIENvbm5lY3RvciBTZXJ2aWNlIEZsZWV0IE1hbmFnZXIgaXMgYSBSZXN0IEFQSSB0byBtYW5hZ2UgY29ubmVjdG9ycy5cbiAqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgT3BlbkFQSSBkb2N1bWVudDogMC4wLjNcbiAqXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSBPcGVuQVBJIEdlbmVyYXRvciAoaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoKS5cbiAqIGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uID0gZXhwb3J0cy50b1BhdGhTdHJpbmcgPSBleHBvcnRzLnNlcmlhbGl6ZURhdGFJZk5lZWRlZCA9IGV4cG9ydHMuc2V0U2VhcmNoUGFyYW1zID0gZXhwb3J0cy5zZXRPQXV0aFRvT2JqZWN0ID0gZXhwb3J0cy5zZXRCZWFyZXJBdXRoVG9PYmplY3QgPSBleHBvcnRzLnNldEJhc2ljQXV0aFRvT2JqZWN0ID0gZXhwb3J0cy5zZXRBcGlLZXlUb09iamVjdCA9IGV4cG9ydHMuYXNzZXJ0UGFyYW1FeGlzdHMgPSBleHBvcnRzLkRVTU1ZX0JBU0VfVVJMID0gdm9pZCAwO1xuY29uc3QgYmFzZV8xID0gcmVxdWlyZShcIi4vYmFzZVwiKTtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0cy5EVU1NWV9CQVNFX1VSTCA9ICdodHRwczovL2V4YW1wbGUuY29tJztcbi8qKlxuICpcbiAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IGFzc2VydFBhcmFtRXhpc3RzID0gZnVuY3Rpb24gKGZ1bmN0aW9uTmFtZSwgcGFyYW1OYW1lLCBwYXJhbVZhbHVlKSB7XG4gICAgaWYgKHBhcmFtVmFsdWUgPT09IG51bGwgfHwgcGFyYW1WYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBiYXNlXzEuUmVxdWlyZWRFcnJvcihwYXJhbU5hbWUsIGBSZXF1aXJlZCBwYXJhbWV0ZXIgJHtwYXJhbU5hbWV9IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgJHtmdW5jdGlvbk5hbWV9LmApO1xuICAgIH1cbn07XG5leHBvcnRzLmFzc2VydFBhcmFtRXhpc3RzID0gYXNzZXJ0UGFyYW1FeGlzdHM7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IHNldEFwaUtleVRvT2JqZWN0ID0gZnVuY3Rpb24gKG9iamVjdCwga2V5UGFyYW1OYW1lLCBjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24gJiYgY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXBpS2V5VmFsdWUgPSB0eXBlb2YgY29uZmlndXJhdGlvbi5hcGlLZXkgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICA/IHlpZWxkIGNvbmZpZ3VyYXRpb24uYXBpS2V5KGtleVBhcmFtTmFtZSlcbiAgICAgICAgICAgICAgICA6IHlpZWxkIGNvbmZpZ3VyYXRpb24uYXBpS2V5O1xuICAgICAgICAgICAgb2JqZWN0W2tleVBhcmFtTmFtZV0gPSBsb2NhbFZhckFwaUtleVZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuZXhwb3J0cy5zZXRBcGlLZXlUb09iamVjdCA9IHNldEFwaUtleVRvT2JqZWN0O1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICovXG5jb25zdCBzZXRCYXNpY0F1dGhUb09iamVjdCA9IGZ1bmN0aW9uIChvYmplY3QsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICBpZiAoY29uZmlndXJhdGlvbiAmJiAoY29uZmlndXJhdGlvbi51c2VybmFtZSB8fCBjb25maWd1cmF0aW9uLnBhc3N3b3JkKSkge1xuICAgICAgICBvYmplY3RbXCJhdXRoXCJdID0geyB1c2VybmFtZTogY29uZmlndXJhdGlvbi51c2VybmFtZSwgcGFzc3dvcmQ6IGNvbmZpZ3VyYXRpb24ucGFzc3dvcmQgfTtcbiAgICB9XG59O1xuZXhwb3J0cy5zZXRCYXNpY0F1dGhUb09iamVjdCA9IHNldEJhc2ljQXV0aFRvT2JqZWN0O1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICovXG5jb25zdCBzZXRCZWFyZXJBdXRoVG9PYmplY3QgPSBmdW5jdGlvbiAob2JqZWN0LCBjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24gJiYgY29uZmlndXJhdGlvbi5hY2Nlc3NUb2tlbikge1xuICAgICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSB0eXBlb2YgY29uZmlndXJhdGlvbi5hY2Nlc3NUb2tlbiA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgID8geWllbGQgY29uZmlndXJhdGlvbi5hY2Nlc3NUb2tlbigpXG4gICAgICAgICAgICAgICAgOiB5aWVsZCBjb25maWd1cmF0aW9uLmFjY2Vzc1Rva2VuO1xuICAgICAgICAgICAgb2JqZWN0W1wiQXV0aG9yaXphdGlvblwiXSA9IFwiQmVhcmVyIFwiICsgYWNjZXNzVG9rZW47XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5leHBvcnRzLnNldEJlYXJlckF1dGhUb09iamVjdCA9IHNldEJlYXJlckF1dGhUb09iamVjdDtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqL1xuY29uc3Qgc2V0T0F1dGhUb09iamVjdCA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWUsIHNjb3BlcywgY29uZmlndXJhdGlvbikge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uICYmIGNvbmZpZ3VyYXRpb24uYWNjZXNzVG9rZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQWNjZXNzVG9rZW5WYWx1ZSA9IHR5cGVvZiBjb25maWd1cmF0aW9uLmFjY2Vzc1Rva2VuID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyB5aWVsZCBjb25maWd1cmF0aW9uLmFjY2Vzc1Rva2VuKG5hbWUsIHNjb3BlcylcbiAgICAgICAgICAgICAgICA6IHlpZWxkIGNvbmZpZ3VyYXRpb24uYWNjZXNzVG9rZW47XG4gICAgICAgICAgICBvYmplY3RbXCJBdXRob3JpemF0aW9uXCJdID0gXCJCZWFyZXIgXCIgKyBsb2NhbFZhckFjY2Vzc1Rva2VuVmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5leHBvcnRzLnNldE9BdXRoVG9PYmplY3QgPSBzZXRPQXV0aFRvT2JqZWN0O1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICovXG5jb25zdCBzZXRTZWFyY2hQYXJhbXMgPSBmdW5jdGlvbiAodXJsLCAuLi5vYmplY3RzKSB7XG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoKTtcbiAgICBmb3IgKGNvbnN0IG9iamVjdCBvZiBvYmplY3RzKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0W2tleV0pKSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1zLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBvYmplY3Rba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1zLnNldChrZXksIG9iamVjdFtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1cmwuc2VhcmNoID0gc2VhcmNoUGFyYW1zLnRvU3RyaW5nKCk7XG59O1xuZXhwb3J0cy5zZXRTZWFyY2hQYXJhbXMgPSBzZXRTZWFyY2hQYXJhbXM7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IHNlcmlhbGl6ZURhdGFJZk5lZWRlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgcmVxdWVzdE9wdGlvbnMsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICBjb25zdCBub25TdHJpbmcgPSB0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnO1xuICAgIGNvbnN0IG5lZWRzU2VyaWFsaXphdGlvbiA9IG5vblN0cmluZyAmJiBjb25maWd1cmF0aW9uICYmIGNvbmZpZ3VyYXRpb24uaXNKc29uTWltZVxuICAgICAgICA/IGNvbmZpZ3VyYXRpb24uaXNKc29uTWltZShyZXF1ZXN0T3B0aW9ucy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSlcbiAgICAgICAgOiBub25TdHJpbmc7XG4gICAgcmV0dXJuIG5lZWRzU2VyaWFsaXphdGlvblxuICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHt9KVxuICAgICAgICA6ICh2YWx1ZSB8fCBcIlwiKTtcbn07XG5leHBvcnRzLnNlcmlhbGl6ZURhdGFJZk5lZWRlZCA9IHNlcmlhbGl6ZURhdGFJZk5lZWRlZDtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgdG9QYXRoU3RyaW5nID0gZnVuY3Rpb24gKHVybCkge1xuICAgIHJldHVybiB1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoICsgdXJsLmhhc2g7XG59O1xuZXhwb3J0cy50b1BhdGhTdHJpbmcgPSB0b1BhdGhTdHJpbmc7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IGNyZWF0ZVJlcXVlc3RGdW5jdGlvbiA9IGZ1bmN0aW9uIChheGlvc0FyZ3MsIGdsb2JhbEF4aW9zLCBCQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICByZXR1cm4gKGF4aW9zID0gZ2xvYmFsQXhpb3MsIGJhc2VQYXRoID0gQkFTRV9QQVRIKSA9PiB7XG4gICAgICAgIGNvbnN0IGF4aW9zUmVxdWVzdEFyZ3MgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGF4aW9zQXJncy5vcHRpb25zKSwgeyB1cmw6ICgoY29uZmlndXJhdGlvbiA9PT0gbnVsbCB8fCBjb25maWd1cmF0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWd1cmF0aW9uLmJhc2VQYXRoKSB8fCBiYXNlUGF0aCkgKyBheGlvc0FyZ3MudXJsIH0pO1xuICAgICAgICByZXR1cm4gYXhpb3MucmVxdWVzdChheGlvc1JlcXVlc3RBcmdzKTtcbiAgICB9O1xufTtcbmV4cG9ydHMuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uID0gY3JlYXRlUmVxdWVzdEZ1bmN0aW9uO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///98691\n')},8722:(__unused_webpack_module,exports)=>{"use strict";eval("\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Configuration = void 0;\nclass Configuration {\n    constructor(param = {}) {\n        this.apiKey = param.apiKey;\n        this.username = param.username;\n        this.password = param.password;\n        this.accessToken = param.accessToken;\n        this.basePath = param.basePath;\n        this.baseOptions = param.baseOptions;\n        this.formDataCtor = param.formDataCtor;\n    }\n    /**\n     * Check if the given MIME is a JSON MIME.\n     * JSON MIME examples:\n     *   application/json\n     *   application/json; charset=UTF8\n     *   APPLICATION/JSON\n     *   application/vnd.company+json\n     * @param mime - MIME (Multipurpose Internet Mail Extensions)\n     * @return True if the given MIME is JSON, false otherwise.\n     */\n    isJsonMime(mime) {\n        const jsonMime = new RegExp('^(application\\/json|[^;/ \\t]+\\/[^;/ \\t]+[+]json)[ \\t]*(;.*)?$', 'i');\n        return mime !== null && (jsonMime.test(mime) || mime.toLowerCase() === 'application/json-patch+json');\n    }\n}\nexports.Configuration = Configuration;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2NvbmZpZ3VyYXRpb24uanM/OWQ5NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLENBQUMsY0FBYyxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQjtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELFdBQVcsc0JBQXNCO0FBQzdGO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiIsImZpbGUiOiI4NzIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8qKlxuICogQ29ubmVjdG9yIFNlcnZpY2UgRmxlZXQgTWFuYWdlclxuICogQ29ubmVjdG9yIFNlcnZpY2UgRmxlZXQgTWFuYWdlciBpcyBhIFJlc3QgQVBJIHRvIG1hbmFnZSBjb25uZWN0b3JzLlxuICpcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBPcGVuQVBJIGRvY3VtZW50OiAwLjAuM1xuICpcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IE9wZW5BUEkgR2VuZXJhdG9yIChodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2gpLlxuICogaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoXG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29uZmlndXJhdGlvbiA9IHZvaWQgMDtcbmNsYXNzIENvbmZpZ3VyYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtID0ge30pIHtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBwYXJhbS5hcGlLZXk7XG4gICAgICAgIHRoaXMudXNlcm5hbWUgPSBwYXJhbS51c2VybmFtZTtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhcmFtLnBhc3N3b3JkO1xuICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuID0gcGFyYW0uYWNjZXNzVG9rZW47XG4gICAgICAgIHRoaXMuYmFzZVBhdGggPSBwYXJhbS5iYXNlUGF0aDtcbiAgICAgICAgdGhpcy5iYXNlT3B0aW9ucyA9IHBhcmFtLmJhc2VPcHRpb25zO1xuICAgICAgICB0aGlzLmZvcm1EYXRhQ3RvciA9IHBhcmFtLmZvcm1EYXRhQ3RvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIGdpdmVuIE1JTUUgaXMgYSBKU09OIE1JTUUuXG4gICAgICogSlNPTiBNSU1FIGV4YW1wbGVzOlxuICAgICAqICAgYXBwbGljYXRpb24vanNvblxuICAgICAqICAgYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEY4XG4gICAgICogICBBUFBMSUNBVElPTi9KU09OXG4gICAgICogICBhcHBsaWNhdGlvbi92bmQuY29tcGFueStqc29uXG4gICAgICogQHBhcmFtIG1pbWUgLSBNSU1FIChNdWx0aXB1cnBvc2UgSW50ZXJuZXQgTWFpbCBFeHRlbnNpb25zKVxuICAgICAqIEByZXR1cm4gVHJ1ZSBpZiB0aGUgZ2l2ZW4gTUlNRSBpcyBKU09OLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgaXNKc29uTWltZShtaW1lKSB7XG4gICAgICAgIGNvbnN0IGpzb25NaW1lID0gbmV3IFJlZ0V4cCgnXihhcHBsaWNhdGlvblxcL2pzb258W147LyBcXHRdK1xcL1teOy8gXFx0XStbK11qc29uKVsgXFx0XSooOy4qKT8kJywgJ2knKTtcbiAgICAgICAgcmV0dXJuIG1pbWUgIT09IG51bGwgJiYgKGpzb25NaW1lLnRlc3QobWltZSkgfHwgbWltZS50b0xvd2VyQ2FzZSgpID09PSAnYXBwbGljYXRpb24vanNvbi1wYXRjaCtqc29uJyk7XG4gICAgfVxufVxuZXhwb3J0cy5Db25maWd1cmF0aW9uID0gQ29uZmlndXJhdGlvbjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8722\n")},22750:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\n__exportStar(__webpack_require__(31100), exports);\n__exportStar(__webpack_require__(8722), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2luZGV4LmpzPzVlZDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msb0NBQW9DLGFBQWEsRUFBRSxFQUFFO0FBQ3ZGLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxDQUFDLGNBQWMsRUFBQztBQUM3RCxhQUFhLG1CQUFPLENBQUMsS0FBTztBQUM1QixhQUFhLG1CQUFPLENBQUMsSUFBaUIiLCJmaWxlIjoiMjI3NTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIHRzbGludDpkaXNhYmxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyoqXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyIGlzIGEgUmVzdCBBUEkgdG8gbWFuYWdlIGNvbm5lY3RvcnMuXG4gKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIE9wZW5BUEkgZG9jdW1lbnQ6IDAuMC4zXG4gKlxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vYXBpXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jb25maWd1cmF0aW9uXCIpLCBleHBvcnRzKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22750\n')},81778:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports, "__esModule", ({value:!0}));var t=__webpack_require__(42403),n=e(t),a=__webpack_require__(35471),r=__webpack_require__(83255),i=__webpack_require__(42259),o=e(__webpack_require__(53778)),l=__webpack_require__(63583),c=__webpack_require__(41361),u=__webpack_require__(39576),s=__webpack_require__(14170),d=__webpack_require__(25102),m=__webpack_require__(66170),p=__webpack_require__(63585),g=__webpack_require__(94963);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function E(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return v(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function h(e){for(var t,n=[],a=E(e);!(t=a()).done;){var r=t.value;if(r.steps)for(var i,o=E(r.steps);!(i=o()).done;)n.push(i.value);else n.push(r)}return n}var b=function(e){var t,a;function r(t){var n;(n=e.call(this,t)||this).titleId=void 0,n.descriptionId=void 0,n.handleKeyClicks=function(e){e.keyCode===l.KEY_CODES.ESCAPE_KEY&&(n.state.isNavOpen?n.setState({isNavOpen:!n.state.isNavOpen}):n.props.isOpen&&n.props.onClose&&n.props.onClose())},n.getFlattenedSteps=function(){return h(n.props.steps)},n.getFlattenedStepsIndex=function(e,t){for(var n=0;n<e.length;n++)if(e[n].name===t)return n+1;return 0},n.initSteps=function(e){for(var t=0;t<e.length;t++){if(e[t].steps)for(var n=0;n<e[t].steps.length;n++)e[t].steps[n]=Object.assign({canJumpTo:!0},e[t].steps[n]);e[t]=Object.assign({canJumpTo:!0},e[t])}return e},n.getElement=function(e){return"function"==typeof e?e():e||document.body};var a=r.currentId++;return n.titleId=t.titleId||"pf-wizard-title-"+a,n.descriptionId=t.descriptionId||"pf-wizard-description-"+a,n.state={isNavOpen:!1},n}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var c=r.prototype;return c.componentDidMount=function(){var e="undefined"!=typeof document?document.body:null;e&&e.addEventListener("keydown",this.handleKeyClicks,!1)},c.componentWillUnmount=function(){var e="undefined"!=typeof document&&document.body||null;e&&e.removeEventListener("keydown",this.handleKeyClicks,!1)},c.render=function(){var e=this,t=this.props,a=t.width,r=t.height,c=t.title,u=t.description,s=t.onClose,d=t.onBack,m=t.onNext,p=t.goToStep,g=t.goToStepById,v=t.goToStepByName,h=t.className,b=t.steps,C=t.currentStep,y=t.nextButtonText,S=void 0===y?"Next":y,T=t.backButtonText,x=void 0===T?"Back":T,I=t.cancelButtonText,k=void 0===I?"Cancel":I,P=t.hideClose,B=t.closeButtonAriaLabel,L=void 0===B?"Close":B,N=t.navAriaLabel,z=t.navAriaLabelledBy,A=t.mainAriaLabel,D=t.mainAriaLabelledBy,F=t.hasNoBodyPadding,w=t.footer,M=t.isOpen,O=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t.indexOf(n=i[a])>=0||(r[n]=e[n]);return r}(t,["width","height","title","description","onClose","onSave","onBack","onNext","onGoToStep","goToStep","goToStepById","goToStepByName","className","steps","currentStep","nextButtonText","backButtonText","cancelButtonText","hideClose","closeButtonAriaLabel","navAriaLabel","navAriaLabelledBy","mainAriaLabel","mainAriaLabelledBy","hasNoBodyPadding","footer","appendTo","isOpen","titleId","descriptionId"]),W=this.getFlattenedSteps(),G=W[(W.length<C?W.length:C)-1],q=this.initSteps(b),R=G===W[0],j=!G||void 0===G.enableNext||G.enableNext,_={goToStepById:g,goToStepByName:v,onNext:m,onBack:d,onClose:s,activeStep:G},J=f({},r?{height:r}:{},a?{width:a}:{}),K=n.createElement(l.WizardContextProvider,{value:_},n.createElement("div",f({},O,{className:i.css(o.wizard,G&&G.isFinishedStep&&"pf-m-finished",h),style:Object.keys(J).length?J:void 0}),c&&n.createElement(l.WizardHeader,{titleId:this.titleId,descriptionId:this.descriptionId,onClose:s,title:c,description:u,closeButtonAriaLabel:L,hideClose:P}),n.createElement(l.WizardToggle,{mainAriaLabel:A,isInPage:void 0===M,mainAriaLabelledBy:(c||D)&&(D||this.titleId),isNavOpen:this.state.isNavOpen,onNavToggle:function(t){return e.setState({isNavOpen:t})},nav:function(t){var a={isOpen:t,"aria-label":N,"aria-labelledby":(c||z)&&(z||e.titleId)};return n.createElement(l.WizardNav,f({},a),q.map((function(t,r){if(t.isFinishedStep)return null;var i;if(t.steps){for(var o,c=!1,u=!1,s=E(t.steps);!(o=s()).done;){var d=o.value;G.name===d.name&&(c=!0),d.canJumpTo&&(u=!0)}return i=e.getFlattenedStepsIndex(W,t.steps[0].name),n.createElement(l.WizardNavItem,{key:r,content:t.name,isCurrent:c,isDisabled:!u,step:i,onNavItemClick:p},n.createElement(l.WizardNav,f({},a,{returnList:!0}),t.steps.map((function(t,a){return t.isFinishedStep?null:(i=e.getFlattenedStepsIndex(W,t.name),n.createElement(l.WizardNavItem,{key:"child_"+a,content:t.name,isCurrent:G.name===t.name,isDisabled:!t.canJumpTo,step:i,onNavItemClick:p}))}))))}return i=e.getFlattenedStepsIndex(W,t.name),n.createElement(l.WizardNavItem,f({},t.stepNavItemProps,{key:r,content:t.name,isCurrent:G.name===t.name,isDisabled:!t.canJumpTo,step:i,onNavItemClick:p}))})))},steps:b,activeStep:G,hasNoBodyPadding:F},w||n.createElement("footer",{className:i.css(o.wizardFooter)},n.createElement(l.Button,{variant:l.ButtonVariant.primary,type:"submit",onClick:m,isDisabled:!j},G&&G.nextButtonText||S),!G.hideBackButton&&n.createElement(l.Button,{variant:l.ButtonVariant.secondary,onClick:d,className:i.css(R&&"pf-m-disabled")},x),!G.hideCancelButton&&n.createElement("div",{className:o.wizardFooterCancel},n.createElement(l.Button,{variant:l.ButtonVariant.link,onClick:s},k))))));return void 0!==M?n.createElement(l.Modal,{width:null!==a?a:void 0,isOpen:M,variant:l.ModalVariant.large,"aria-labelledby":this.titleId,"aria-describedby":this.descriptionId,showClose:!1,hasNoBodyWrapper:!0},K):K},r}(t.Component);function C(){var e=r.useCreationWizardMachineKafkasActor();return r.useKafkasMachineIsReady(e)?n.createElement(y,null):null}b.displayName="Wizard",b.currentId=0,b.defaultProps={title:void 0,description:"",className:"",nextButtonText:"Next",backButtonText:"Back",cancelButtonText:"Cancel",hideClose:!1,closeButtonAriaLabel:"Close",navAriaLabel:void 0,navAriaLabelledBy:void 0,mainAriaLabel:void 0,mainAriaLabelledBy:void 0,hasNoBodyPadding:!1,onGoToStep:void 0,width:void 0,height:void 0,footer:void 0,appendTo:void 0,isOpen:void 0};var y=function(){var e,t=s.useHistory(),a=r.useCreationWizardMachineKafkasActor(),i=r.useKafkasMachine(a),o=i.response,u=i.selectedId,d=i.onSelect,m=i.onQuery;switch(!0){case i.firstRequest:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(c.Loading,null));case i.queryEmpty:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(S,null),n.createElement(c.NoMatchFound,{onClear:function(){return m({page:1,size:10})}}));case i.noResults||i.error:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(c.EmptyState,{emptyStateProps:{variant:c.EmptyStateVariant.GettingStarted},titleProps:{title:"cos.no_kafka_instance"},emptyStateBodyProps:{body:"cos.no_kafka_instance_body"},buttonProps:{title:"cos.create_kafka_instance",variant:l.ButtonVariant.primary,onClick:function(){return t.push("/create-connector")}}}));case i.loading:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(S,null),n.createElement(c.Loading,null));default:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(S,null),n.createElement(l.PageSection,{isFilled:!0},n.createElement(l.Gallery,{hasGutter:!0},null==o||null==(e=o.items)?void 0:e.map((function(e){return n.createElement(l.Card,{isHoverable:!0,key:e.id,isSelectable:!0,isSelected:u===e.id,onClick:function(){return d(e.id)}},n.createElement(l.CardHeader,null,n.createElement(l.CardTitle,null,e.name)),n.createElement(l.CardBody,null,n.createElement(l.DescriptionList,null,n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Region"),n.createElement(l.DescriptionListDescription,null,e.region)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Owner"),n.createElement(l.DescriptionListDescription,null,e.owner)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Created"),n.createElement(l.DescriptionListDescription,null,e.created_at)))))})))))}},S=function(){var e=r.useCreationWizardMachineKafkasActor(),a=r.useKafkasMachine(e),i=a.request,o=a.response,s=a.onQuery,d=i.query||{},m=d.name,p=void 0===m?"":m,g=d.statuses,v=void 0===g?[]:g,E=t.useCallback((function(){return s({page:1,size:i.size})}),[s,i.size]),h=t.useRef(null),b=c.useDebounce(s,1e3),C=function(e,t){return s(f({},i,{query:f({},i.query||{},{statuses:(null==v?void 0:v.includes(t))?v.filter((function(e){return e!==t})):[].concat(v||[],[t])})}))},y=t.useState(!1),S=y[0],x=y[1],I=t.useCallback((function(){return x((function(e){return!e}))}),[]),k=T.map((function(e){var t=e.value;return n.createElement(l.SelectOption,{key:t,value:t},e.label)}));t.useEffect((function(){h.current&&(h.current.value=p)}),[h,p]);var P=n.createElement(n.Fragment,null,n.createElement(l.ToolbarItem,null,n.createElement(l.InputGroup,null,n.createElement(l.TextInput,{name:"textInput2",id:"textInput2",type:"search","aria-label":"search input example",onChange:function(e){return b({size:i.size,page:1,query:{name:e,statuses:v}})},ref:h}),n.createElement(l.Button,{variant:"control","aria-label":"search button for search input"},n.createElement(u.SearchIcon,null)))),n.createElement(l.ToolbarGroup,{variant:"filter-group"},n.createElement(l.ToolbarFilter,{chips:v,deleteChip:C,deleteChipGroup:function(){return s(f({},i,{query:f({},i.query||{},{statuses:void 0})}))},categoryName:"Status"},n.createElement(l.Select,{variant:"checkbox","aria-label":"Status",onToggle:I,onSelect:function(e,t){return C(0,t)},selections:v,isOpen:S,placeholderText:"Status"},k)))),B=n.createElement(n.Fragment,null,n.createElement(l.ToolbarToggleGroup,{toggleIcon:n.createElement(u.FilterIcon,null),breakpoint:"xl"},P),n.createElement(l.ToolbarGroup,{variant:"icon-button-group"},n.createElement(l.ToolbarItem,null,n.createElement(l.Button,{variant:"primary"},"Create Kafka Instance"))),n.createElement(l.ToolbarItem,{variant:"pagination",alignment:{default:"alignRight"}},n.createElement(l.Pagination,{itemCount:(null==o?void 0:o.total)||0,page:i.page,perPage:i.size,perPageOptions:[{title:"1",value:1},{title:"5",value:5},{title:"10",value:10}],onSetPage:function(e,t,n){return s(f({},i,{page:t,size:n||i.size}))},onPerPageSelect:function(){return!1},variant:"top",isCompact:!0})));return n.createElement(l.Toolbar,{id:"toolbar-group-types",collapseListedFiltersBreakpoint:"xl",clearAllFilters:E},n.createElement(l.ToolbarContent,null,B))},T=[{value:"ready",label:"Ready"},{value:"failed",label:"Failed"},{value:"accepted",label:"Creation pending"},{value:"provisioning",label:"Creation in progress"},{value:"preparing",label:"Creation in progress"},{value:"deprovision",label:"Deletion in progress"},{value:"deleted",label:"Deletion in progress"}];function x(){var e=r.useCreationWizardMachineClustersActor();return r.useClustersMachineIsReady(e)?n.createElement(I,null):null}var I=function(){var e,t=s.useHistory(),a=r.useCreationWizardMachineClustersActor(),i=r.useClustersMachine(a),o=i.response,u=i.selectedId,d=i.onSelect,m=i.onQuery;switch(!0){case i.firstRequest:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(c.Loading,null));case i.queryEmpty:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(k,null),n.createElement(c.NoMatchFound,{onClear:function(){return m({page:1,size:10})}}));case i.noResults||i.error:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(c.EmptyState,{emptyStateProps:{variant:c.EmptyStateVariant.GettingStarted},titleProps:{title:"cos.no_clusters_instance"},emptyStateBodyProps:{body:"cos.no_clusters_instance_body"},buttonProps:{title:"cos.create_clusters_instance",variant:l.ButtonVariant.primary,onClick:function(){return t.push("/create-connector")}}}));case i.loading:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(k,null),n.createElement(c.Loading,null));default:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(k,null),n.createElement(l.PageSection,{isFilled:!0},n.createElement(l.Gallery,{hasGutter:!0},null==o||null==(e=o.items)?void 0:e.map((function(e){var t,a,r;return n.createElement(l.Card,{isHoverable:!0,key:e.id,isSelectable:!0,isSelected:u===e.id,onClick:function(){return d(e.id)}},n.createElement(l.CardHeader,null,n.createElement(l.CardTitle,null,null==(t=e.metadata)?void 0:t.name)),n.createElement(l.CardBody,null,n.createElement(l.DescriptionList,null,n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Owner"),n.createElement(l.DescriptionListDescription,null,null==(a=e.metadata)?void 0:a.owner)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Created"),n.createElement(l.DescriptionListDescription,null,null==(r=e.metadata)?void 0:r.created_at)))))})))))}},k=function(){var e=r.useCreationWizardMachineClustersActor(),a=r.useClustersMachine(e),i=a.request,o=a.response,s=a.onQuery,d=t.useRef(null),m=c.useDebounce(s,1e3),p=n.createElement(n.Fragment,null,n.createElement(l.ToolbarItem,null,n.createElement(l.InputGroup,null,n.createElement(l.TextInput,{name:"textInput2",id:"textInput2",type:"search","aria-label":"search input example",onChange:function(e){return m({size:i.size,page:1,name:e})},ref:d}),n.createElement(l.Button,{variant:"control","aria-label":"search button for search input"},n.createElement(u.SearchIcon,null))))),g=n.createElement(n.Fragment,null,n.createElement(l.ToolbarToggleGroup,{toggleIcon:n.createElement(u.FilterIcon,null),breakpoint:"xl"},p),n.createElement(l.ToolbarGroup,{variant:"icon-button-group"},n.createElement(l.ToolbarItem,null,n.createElement(l.Button,{variant:"primary"},"Create Clusters Instance"))),n.createElement(l.ToolbarItem,{variant:"pagination",alignment:{default:"alignRight"}},n.createElement(l.Pagination,{itemCount:(null==o?void 0:o.total)||0,page:i.page,perPage:i.size,perPageOptions:[{title:"1",value:1},{title:"5",value:5},{title:"10",value:10}],onSetPage:function(e,t,n){return s(f({},i,{page:t,size:n||i.size}))},onPerPageSelect:function(){return!1},variant:"top",isCompact:!0})));return n.createElement(l.Toolbar,{id:"toolbar-group-types",collapseListedFiltersBreakpoint:"xl"},n.createElement(l.ToolbarContent,null,g))},P=[{title:"1",value:1},{title:"5",value:5},{title:"10",value:10}];function B(){var e,a,i,o,s=r.useCreationWizardMachineConnectorTypesActor(),d=t.useState(""),m=d[0],p=d[1],g=t.useState(["Sink","Source"]),f=g[0],v=g[1],E=t.useState(!1),h=E[0],b=E[1],C=t.useCallback((function(){p(""),v([])}),[]),y=t.useCallback((function(){return b((function(e){return!e}))}),[]),S=t.useCallback((function(e,t){return v((function(e){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(e,[t])}))}),[]);switch(!0){case s.state.matches("loading"):return n.createElement(l.EmptyState,null,n.createElement(l.EmptyStateIcon,{variant:"container",component:l.Spinner}),n.createElement(l.Title,{size:"lg",headingLevel:"h4"},"Loading"));case s.state.matches("failure"):return n.createElement(c.NoMatchFound,null);default:var T=[n.createElement(l.SelectOption,{key:"Sink",value:"Sink"}),n.createElement(l.SelectOption,{key:"Source",value:"Source"})],x=n.createElement(n.Fragment,null,n.createElement(l.ToolbarItem,null,n.createElement(l.InputGroup,null,n.createElement(l.TextInput,{name:"textInput2",id:"textInput2",type:"search","aria-label":"search input example",onChange:p,value:m}),n.createElement(l.Button,{variant:"control","aria-label":"search button for search input"},n.createElement(u.SearchIcon,null)))),n.createElement(l.ToolbarGroup,{variant:"filter-group"},n.createElement(l.ToolbarFilter,{chips:f,deleteChip:S,deleteChipGroup:function(){return v([])},categoryName:"Connector type"},n.createElement(l.Select,{variant:"checkbox","aria-label":"Connector type",onToggle:y,onSelect:S,selections:f,isOpen:h,placeholderText:"Connector type"},T)))),I=n.createElement(n.Fragment,null,n.createElement(l.ToolbarToggleGroup,{toggleIcon:n.createElement(u.FilterIcon,null),breakpoint:"xl"},x),n.createElement(l.ToolbarItem,{variant:"pagination",alignment:{default:"alignRight"}},n.createElement(l.Pagination,{itemCount:(null==(e=s.state.context.connectors)?void 0:e.total)||0,page:((null==(a=s.state.context.connectors)?void 0:a.page)||0)+1,perPage:(null==(i=s.state.context.connectors)?void 0:i.size)||0,perPageOptions:P,onSetPage:function(){return!1},onPerPageSelect:function(){return!1},variant:"top",isCompact:!0})));return n.createElement(l.PageSection,{padding:{default:"noPadding"}},n.createElement(l.Toolbar,{id:"toolbar-group-types",collapseListedFiltersBreakpoint:"xl",clearAllFilters:C},n.createElement(l.ToolbarContent,null,I)),n.createElement(l.PageSection,{isFilled:!0},n.createElement(l.Gallery,{hasGutter:!0},null==(o=s.state.context.connectors)?void 0:o.items.filter((function(e){return""===m||e.name.includes(m)})).map((function(e){var t;return n.createElement(l.Card,{isHoverable:!0,key:e.id,isSelectable:!0,isSelected:(null==(t=s.state.context.selectedConnector)?void 0:t.id)===e.id,onClick:function(){s.send({type:"selectConnector",selectedConnector:e.id})}},n.createElement(l.CardHeader,null,n.createElement(l.CardTitle,null,e.name)),n.createElement(l.CardBody,null,n.createElement(l.DescriptionList,null,n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListDescription,null,e.description)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Version"),n.createElement(l.DescriptionListDescription,null,e.version)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"ID"),n.createElement(l.DescriptionListDescription,null,e.id)))))})))))}}var L=function(e){var r=e.actor,i=e.Configurator,o=a.useSelector(r,t.useCallback((function(e){return{connector:e.context.connector,activeStep:e.context.activeStep,configuration:e.context.configuration}}),[r]));return n.createElement(i,{activeStep:o.activeStep,configuration:o.configuration,connector:o.connector,onChange:function(e,t){return r.send({type:"change",configuration:e,isValid:t})}})},N=function(e){var r=e.actor,i=a.useSelector(r,t.useCallback((function(e){return{connector:e.context.connector,configuration:e.context.configuration}}),[r]));return n.createElement(d.JsonSchemaConfigurator,{schema:i.connector.json_schema,configuration:i.configuration||{},onChange:function(e,t){return r.send({type:"change",configuration:e,isValid:t})}})},z=function(){var e=m.useTranslation().t,i=r.useCreationWizardMachineService(),o=a.useSelector(i,t.useCallback((function(e){return{isLoading:e.matches({configureConnector:"loadConfigurator"}),hasErrors:e.matches("failure"),hasCustomConfigurator:!1!==e.context.Configurator&&void 0!==e.context.Configurator,configuration:e.context.connectorConfiguration,Configurator:e.context.Configurator,configuratorRef:e.children.configuratorRef}}),[i])),c=o.Configurator,s=o.configuratorRef;switch(!0){case o.isLoading:return n.createElement(l.EmptyState,null,n.createElement(l.EmptyStateIcon,{variant:"container",component:l.Spinner}),n.createElement(l.Title,{size:"lg",headingLevel:"h4"},e("loading")));case o.hasErrors:return n.createElement(l.EmptyState,null,n.createElement(l.EmptyStateIcon,{icon:u.ExclamationCircleIcon}),n.createElement(l.Title,{size:"lg",headingLevel:"h4"},"Error message"));case o.hasCustomConfigurator:return n.createElement(l.PageSection,{variant:"light"},n.createElement(n.Suspense,{fallback:null},n.createElement(L,{actor:s,Configurator:c})));default:return n.createElement(l.PageSection,{variant:"light"},n.createElement(N,{actor:s}))}};function A(){var e=r.useCreationWizardMachineReviewActor(),a=r.useReviewMachine(e),i=a.name,o=a.serviceAccount,c=a.configString,u=a.configStringError,s=a.configStringWarnings,d=a.isSaving,m=a.savingError,g=a.onSetName,v=a.onSetServiceAccount,E=a.onUpdateConfiguration,h=t.useCallback((function(e,t){e.layout(),e.focus()}),[]);return n.createElement(l.PageSection,{variant:"light"},n.createElement(l.Form,null,m&&n.createElement(l.FormAlert,null,n.createElement(l.Alert,{variant:"danger",title:m,"aria-live":"polite",isInline:!0})),n.createElement(l.FormGroup,{label:"Name",isRequired:!0,fieldId:"name",helperText:"Please provide a unique name for the connector"},n.createElement(l.TextInput,{isDisabled:d,value:i,onChange:g,id:"name"})),n.createElement(l.FormGroup,{label:"Service Account",isRequired:!0,fieldId:"service-account"},n.createElement(l.Radio,{isDisabled:d,isChecked:void 0===o,name:"service-account",onChange:function(){return v(void 0)},label:"Automatically create a Service Account for this connector",id:"service-account-automatic",value:"automatic"}),n.createElement(l.Radio,{isDisabled:d,isChecked:void 0!==o,name:"service-account",onChange:function(){return v({clientId:"",clientSecret:""})},label:"Provide the credentials manually",id:"service-account-user",value:"user"}),void 0!==o&&n.createElement(n.Fragment,null,n.createElement(l.FormGroup,{label:"Client ID",isRequired:!0,fieldId:"clientId"},n.createElement(l.TextInput,{isDisabled:d,value:o.clientId,onChange:function(e){return v(f({},o,{clientId:e}))},id:"clientId"})),n.createElement(l.FormGroup,{label:"Client Secret",isRequired:!0,fieldId:"clientSecret"},n.createElement(l.TextInput,{isDisabled:d,value:o.clientSecret,onChange:function(e){return v(f({},o,{clientSecret:e}))},id:"clientSecret"})))),n.createElement(l.FormGroup,{label:"Configuration",isRequired:!0,fieldId:"configuration",helperText:"Please review the configuration data.",helperTextInvalid:u,validated:void 0!==u?"error":void 0!==s?"warning":"default"},n.createElement(p.CodeEditor,{id:"configuration",isDarkTheme:!1,isLineNumbersVisible:!0,isReadOnly:d,isMinimapVisible:!1,isLanguageLabelVisible:!0,code:c,onChange:E,language:p.Language.json,onEditorDidMount:h,height:"400px"}),n.createElement(l.AlertGroup,null,null==s?void 0:s.map((function(e,t){return n.createElement(l.Alert,{key:t,title:e,variant:"warning",isInline:!0})}))))))}var D=function(e){var t=e.error;return n.createElement("div",{role:"alert"},n.createElement("p",null,"Something went wrong:"),n.createElement("pre",null,t.message))},F=function(e){var t=e.children;return n.createElement(g.ErrorBoundary,{FallbackComponent:D,resetKeys:[Date.now()]},t)};Object.keys(r).forEach((function(e){"default"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})})),exports.CreationWizard=function(e){var i=e.onClose,o=m.useTranslation().t,l=r.useCreationWizardMachineService(),c=a.useService(l),u=c[0],s=c[1],d=function(){var e=r.useCreationWizardMachineService(),i=a.useSelector(e,t.useCallback((function(e){return{isActive:e.matches("selectKafka"),canJumpTo:r.creationWizardMachine.transition(e,"jumpToSelectKafka").changed||e.matches("selectKafka"),enableNext:r.creationWizardMachine.transition(e,"next").changed}}),[e])),o=i.canJumpTo,l=i.enableNext;return{name:"Select kafka instance",isActive:i.isActive,component:n.createElement(F,null,n.createElement(C,null)),canJumpTo:o,enableNext:l}}(),p=function(){var e=r.useCreationWizardMachineService(),i=a.useSelector(e,t.useCallback((function(e){return{isActive:e.matches("configureConnector"),canJumpTo:r.creationWizardMachine.transition(e,"jumpToConfigureConnector").changed||e.matches("configureConnector"),enableNext:r.creationWizardMachine.transition(e,"next").changed,steps:e.context.configurationSteps,activeStep:e.context.activeConfigurationStep,canJumpToStep:function(t){return r.creationWizardMachine.transition(e,{type:"jumpToConfigureConnector",subStep:t}).changed}}}),[e])),o=i.isActive,l=i.activeStep,c=i.canJumpToStep,u=i.enableNext,s=i.steps;return{name:"Configuration",isActive:o,canJumpTo:i.canJumpTo,steps:s?s.map((function(e,t){return{name:e,isActive:o&&l===t,canJumpTo:c(t),enableNext:u,component:n.createElement(F,null,n.createElement(z,null))}})):void 0,enableNext:u,component:n.createElement(F,null,n.createElement(z,null))}}();if("saved"===u.value)return null;var g=[{name:"Connector",isActive:u.matches("selectConnector"),component:n.createElement(F,null,n.createElement(B,null)),canJumpTo:r.creationWizardMachine.transition(u,"jumpToSelectConnector").changed||u.matches("selectConnector"),enableNext:r.creationWizardMachine.transition(u,"next").changed},d,{name:o("selectOcmCluster"),isActive:u.matches("selectCluster"),component:n.createElement(F,null,n.createElement(x,null)),canJumpTo:r.creationWizardMachine.transition(u,"jumpToSelectCluster").changed||u.matches("selectCluster"),enableNext:r.creationWizardMachine.transition(u,"next").changed},p,{name:"Review",isActive:u.matches("reviewConfiguration"),component:n.createElement(F,null,n.createElement(A,null)),canJumpTo:r.creationWizardMachine.transition(u,"jumpToReviewConfiguration").changed||u.matches("reviewConfiguration"),enableNext:r.creationWizardMachine.transition(u,"next").changed,nextButtonText:"Create connector"}],f=h(g),v=f.reduceRight((function(e,t,n){return t.isActive&&n>e?n:e}),-1)+1;return n.createElement(b,{className:"cos",steps:g,currentStep:v,onNext:function(){return s("next")},onBack:function(){return s("prev")},onClose:i,onSave:function(){return!1},goToStep:function(e){switch(e){case 1:s("jumpToSelectConnector");break;case 2:s("jumpToSelectKafka");break;case 3:s("jumpToSelectCluster");break;case f.length:s("jumpToReviewConfiguration");break;default:e<f.length&&s({type:"jumpToConfigureConnector",subStep:e-4})}},goToStepById:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.log("goToStepById",t)},goToStepByName:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.log("goToStepByName",t)},hasNoBodyPadding:!0})};\n//# sourceMappingURL=creation-wizard.cjs.production.min.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2NyZWF0aW9uV2l6YXJkL2Rpc3QvY3JlYXRpb24td2l6YXJkLmNqcy5wcm9kdWN0aW9uLm1pbi5qcz9hNDcwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhLGNBQWMsd0RBQXdELDhDQUEyQyxDQUFDLFNBQVMsRUFBQyxDQUFDLE1BQU0sbUJBQU8sQ0FBQyxLQUFPLFdBQVcsbUJBQU8sQ0FBQyxLQUFlLElBQUksbUJBQU8sQ0FBQyxLQUFrQixJQUFJLG1CQUFPLENBQUMsS0FBMEIsTUFBTSxtQkFBTyxDQUFDLEtBQXVELEtBQUssbUJBQU8sQ0FBQyxLQUF3QixJQUFJLG1CQUFPLENBQUMsS0FBZSxJQUFJLG1CQUFPLENBQUMsS0FBeUIsSUFBSSxtQkFBTyxDQUFDLEtBQWMsSUFBSSxtQkFBTyxDQUFDLEtBQWtDLElBQUksbUJBQU8sQ0FBQyxLQUFlLElBQUksbUJBQU8sQ0FBQyxLQUErQixJQUFJLG1CQUFPLENBQUMsS0FBc0IsRUFBRSxhQUFhLG9DQUFvQyxZQUFZLG1CQUFtQixLQUFLLG1CQUFtQixzRUFBc0UsU0FBUyx3QkFBd0IsZ0JBQWdCLG9DQUFvQywyQkFBMkIsSUFBSSxjQUFjLFNBQVMsZ0JBQWdCLE1BQU0seURBQXlELHNDQUFzQyxNQUFNLHlDQUF5QyxvREFBb0QscUxBQXFMLHVDQUF1QyxTQUFTLFFBQVEsa0JBQWtCLG9CQUFvQixRQUFRLEVBQUUsdUJBQXVCLDZKQUE2Siw0Q0FBNEMsY0FBYyxzQkFBc0IsY0FBYyxFQUFFLGNBQWMsa0NBQWtDLGNBQWMsaUJBQWlCLGVBQWUsU0FBUyxrQkFBa0IsUUFBUSxjQUFjLE1BQU0sNkZBQTZGLG1FQUFtRSw2QkFBNkIsc0RBQXNELGdDQUFnQyx3QkFBd0Isd0NBQXdDLFlBQVksV0FBVyxnQ0FBZ0MsU0FBUyx5QkFBeUIsWUFBWSxXQUFXLEtBQUssMEJBQTBCLG9CQUFvQixpQ0FBaUMsYUFBYSxnQkFBZ0Isb0JB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LG1CQUFtQixpQkFBaUIsNkJBQTZCLFNBQVMsc0JBQXNCLFVBQVUsa0NBQWtDLE1BQU0sOEJBQThCLE1BQU0sZ0NBQWdDLE1BQU0sNkNBQTZDLE1BQU0sdUJBQXVCLDRDQUE0QyxHQUFHLHlCQUF5Qiw4Q0FBOEMsSUFBSSxzQkFBc0IscUNBQXFDLDJCQUEyQiw4Q0FBOEMsSUFBSSxzQkFBc0IsdUNBQXVDLHFCQUFxQjtBQUMvODBCIiwiZmlsZSI6IjgxNzc4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShlKXtyZXR1cm4gZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJlwiZGVmYXVsdFwiaW4gZT9lLmRlZmF1bHQ6ZX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdD1yZXF1aXJlKFwicmVhY3RcIiksbj1lKHQpLGE9cmVxdWlyZShcIkB4c3RhdGUvcmVhY3RcIikscj1yZXF1aXJlKFwiQGNvcy11aS9tYWNoaW5lc1wiKSxpPXJlcXVpcmUoXCJAcGF0dGVybmZseS9yZWFjdC1zdHlsZXNcIiksbz1lKHJlcXVpcmUoXCJAcGF0dGVybmZseS9yZWFjdC1zdHlsZXMvY3NzL2NvbXBvbmVudHMvV2l6YXJkL3dpemFyZFwiKSksbD1yZXF1aXJlKFwiQHBhdHRlcm5mbHkvcmVhY3QtY29yZVwiKSxjPXJlcXVpcmUoXCJAY29zLXVpL3V0aWxzXCIpLHU9cmVxdWlyZShcIkBwYXR0ZXJuZmx5L3JlYWN0LWljb25zXCIpLHM9cmVxdWlyZShcInJlYWN0LXJvdXRlclwiKSxkPXJlcXVpcmUoXCJAY29zLXVpL2pzb24tc2NoZW1hLWNvbmZpZ3VyYXRvclwiKSxtPXJlcXVpcmUoXCJyZWFjdC1pMThuZXh0XCIpLHA9cmVxdWlyZShcIkBwYXR0ZXJuZmx5L3JlYWN0LWNvZGUtZWRpdG9yXCIpLGc9cmVxdWlyZShcInJlYWN0LWVycm9yLWJvdW5kYXJ5XCIpO2Z1bmN0aW9uIGYoKXtyZXR1cm4oZj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciBhIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sYSkmJihlW2FdPW5bYV0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHYoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxhPW5ldyBBcnJheSh0KTtuPHQ7bisrKWFbbl09ZVtuXTtyZXR1cm4gYX1mdW5jdGlvbiBFKGUsdCl7dmFyIG47aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFN5bWJvbHx8bnVsbD09ZVtTeW1ib2wuaXRlcmF0b3JdKXtpZihBcnJheS5pc0FycmF5KGUpfHwobj1mdW5jdGlvbihlLHQpe2lmKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiB2KGUsdm9pZCAwKTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20oZSk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP3YoZSx2b2lkIDApOnZvaWQgMH19KGUpKXx8dCYmZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXtuJiYoZT1uKTt2YXIgYT0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVthKytdfX19dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXJldHVybihuPWVbU3ltYm9sLml0ZXJhdG9yXSgpKS5uZXh0LmJpbmQobil9ZnVuY3Rpb24gaChlKXtmb3IodmFyIHQsbj1bXSxhPUUoZSk7ISh0PWEoKSkuZG9uZTspe3ZhciByPXQudmFsdWU7aWYoci5zdGVwcylmb3IodmFyIGksbz1FKHIuc3RlcHMpOyEoaT1vKCkpLmRvbmU7KW4ucHVzaChpLnZhbHVlKTtlbHNlIG4ucHVzaChyKX1yZXR1cm4gbn12YXIgYj1mdW5jdGlvbihlKXt2YXIgdCxhO2Z1bmN0aW9uIHIodCl7dmFyIG47KG49ZS5jYWxsKHRoaXMsdCl8fHRoaXMpLnRpdGxlSWQ9dm9pZCAwLG4uZGVzY3JpcHRpb25JZD12b2lkIDAsbi5oYW5kbGVLZXlDbGlja3M9ZnVuY3Rpb24oZSl7ZS5rZXlDb2RlPT09bC5LRVlfQ09ERVMuRVNDQVBFX0tFWSYmKG4uc3RhdGUuaXNOYXZPcGVuP24uc2V0U3RhdGUoe2lzTmF2T3Blbjohbi5zdGF0ZS5pc05hdk9wZW59KTpuLnByb3BzLmlzT3BlbiYmbi5wcm9wcy5vbkNsb3NlJiZuLnByb3BzLm9uQ2xvc2UoKSl9LG4uZ2V0RmxhdHRlbmVkU3RlcHM9ZnVuY3Rpb24oKXtyZXR1cm4gaChuLnByb3BzLnN0ZXBzKX0sbi5nZXRGbGF0dGVuZWRTdGVwc0luZGV4PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXS5uYW1lPT09dClyZXR1cm4gbisxO3JldHVybiAwfSxuLmluaXRTdGVwcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7aWYoZVt0XS5zdGVwcylmb3IodmFyIG49MDtuPGVbdF0uc3RlcHMubGVuZ3RoO24rKyllW3RdLnN0ZXBzW25dPU9iamVjdC5hc3NpZ24oe2Nhbkp1bXBUbzohMH0sZVt0XS5zdGVwc1tuXSk7ZVt0XT1PYmplY3QuYXNzaWduKHtjYW5KdW1wVG86ITB9LGVbdF0pfXJldHVybiBlfSxuLmdldEVsZW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZT9lKCk6ZXx8ZG9jdW1lbnQuYm9keX07dmFyIGE9ci5jdXJyZW50SWQrKztyZXR1cm4gbi50aXRsZUlkPXQudGl0bGVJZHx8XCJwZi13aXphcmQtdGl0bGUtXCIrYSxuLmRlc2NyaXB0aW9uSWQ9dC5kZXNjcmlwdGlvbklkfHxcInBmLXdpemFyZC1kZXNjcmlwdGlvbi1cIithLG4uc3RhdGU9e2lzTmF2T3BlbjohMX0sbn1hPWUsKHQ9cikucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsdC5fX3Byb3RvX189YTt2YXIgYz1yLnByb3RvdHlwZTtyZXR1cm4gYy5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3ZhciBlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudC5ib2R5Om51bGw7ZSYmZS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuaGFuZGxlS2V5Q2xpY2tzLCExKX0sYy5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe3ZhciBlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuYm9keXx8bnVsbDtlJiZlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5oYW5kbGVLZXlDbGlja3MsITEpfSxjLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnByb3BzLGE9dC53aWR0aCxyPXQuaGVpZ2h0LGM9dC50aXRsZSx1PXQuZGVzY3JpcHRpb24scz10Lm9uQ2xvc2UsZD10Lm9uQmFjayxtPXQub25OZXh0LHA9dC5nb1RvU3RlcCxnPXQuZ29Ub1N0ZXBCeUlkLHY9dC5nb1RvU3RlcEJ5TmFtZSxoPXQuY2xhc3NOYW1lLGI9dC5zdGVwcyxDPXQuY3VycmVudFN0ZXAseT10Lm5leHRCdXR0b25UZXh0LFM9dm9pZCAwPT09eT9cIk5leHRcIjp5LFQ9dC5iYWNrQnV0dG9uVGV4dCx4PXZvaWQgMD09PVQ/XCJCYWNrXCI6VCxJPXQuY2FuY2VsQnV0dG9uVGV4dCxrPXZvaWQgMD09PUk/XCJDYW5jZWxcIjpJLFA9dC5oaWRlQ2xvc2UsQj10LmNsb3NlQnV0dG9uQXJpYUxhYmVsLEw9dm9pZCAwPT09Qj9cIkNsb3NlXCI6QixOPXQubmF2QXJpYUxhYmVsLHo9dC5uYXZBcmlhTGFiZWxsZWRCeSxBPXQubWFpbkFyaWFMYWJlbCxEPXQubWFpbkFyaWFMYWJlbGxlZEJ5LEY9dC5oYXNOb0JvZHlQYWRkaW5nLHc9dC5mb290ZXIsTT10LmlzT3BlbixPPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgbixhLHI9e30saT1PYmplY3Qua2V5cyhlKTtmb3IoYT0wO2E8aS5sZW5ndGg7YSsrKXQuaW5kZXhPZihuPWlbYV0pPj0wfHwocltuXT1lW25dKTtyZXR1cm4gcn0odCxbXCJ3aWR0aFwiLFwiaGVpZ2h0XCIsXCJ0aXRsZVwiLFwiZGVzY3JpcHRpb25cIixcIm9uQ2xvc2VcIixcIm9uU2F2ZVwiLFwib25CYWNrXCIsXCJvbk5leHRcIixcIm9uR29Ub1N0ZXBcIixcImdvVG9TdGVwXCIsXCJnb1RvU3RlcEJ5SWRcIixcImdvVG9TdGVwQnlOYW1lXCIsXCJjbGFzc05hbWVcIixcInN0ZXBzXCIsXCJjdXJyZW50U3RlcFwiLFwibmV4dEJ1dHRvblRleHRcIixcImJhY2tCdXR0b25UZXh0XCIsXCJjYW5jZWxCdXR0b25UZXh0XCIsXCJoaWRlQ2xvc2VcIixcImNsb3NlQnV0dG9uQXJpYUxhYmVsXCIsXCJuYXZBcmlhTGFiZWxcIixcIm5hdkFyaWFMYWJlbGxlZEJ5XCIsXCJtYWluQXJpYUxhYmVsXCIsXCJtYWluQXJpYUxhYmVsbGVkQnlcIixcImhhc05vQm9keVBhZGRpbmdcIixcImZvb3RlclwiLFwiYXBwZW5kVG9cIixcImlzT3BlblwiLFwidGl0bGVJZFwiLFwiZGVzY3JpcHRpb25JZFwiXSksVz10aGlzLmdldEZsYXR0ZW5lZFN0ZXBzKCksRz1XWyhXLmxlbmd0aDxDP1cubGVuZ3RoOkMpLTFdLHE9dGhpcy5pbml0U3RlcHMoYiksUj1HPT09V1swXSxqPSFHfHx2b2lkIDA9PT1HLmVuYWJsZU5leHR8fEcuZW5hYmxlTmV4dCxfPXtnb1RvU3RlcEJ5SWQ6Zyxnb1RvU3RlcEJ5TmFtZTp2LG9uTmV4dDptLG9uQmFjazpkLG9uQ2xvc2U6cyxhY3RpdmVTdGVwOkd9LEo9Zih7fSxyP3toZWlnaHQ6cn06e30sYT97d2lkdGg6YX06e30pLEs9bi5jcmVhdGVFbGVtZW50KGwuV2l6YXJkQ29udGV4dFByb3ZpZGVyLHt2YWx1ZTpffSxuLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixmKHt9LE8se2NsYXNzTmFtZTppLmNzcyhvLndpemFyZCxHJiZHLmlzRmluaXNoZWRTdGVwJiZcInBmLW0tZmluaXNoZWRcIixoKSxzdHlsZTpPYmplY3Qua2V5cyhKKS5sZW5ndGg/Sjp2b2lkIDB9KSxjJiZuLmNyZWF0ZUVsZW1lbnQobC5XaXphcmRIZWFkZXIse3RpdGxlSWQ6dGhpcy50aXRsZUlkLGRlc2NyaXB0aW9uSWQ6dGhpcy5kZXNjcmlwdGlvbklkLG9uQ2xvc2U6cyx0aXRsZTpjLGRlc2NyaXB0aW9uOnUsY2xvc2VCdXR0b25BcmlhTGFiZWw6TCxoaWRlQ2xvc2U6UH0pLG4uY3JlYXRlRWxlbWVudChsLldpemFyZFRvZ2dsZSx7bWFpbkFyaWFMYWJlbDpBLGlzSW5QYWdlOnZvaWQgMD09PU0sbWFpbkFyaWFMYWJlbGxlZEJ5OihjfHxEKSYmKER8fHRoaXMudGl0bGVJZCksaXNOYXZPcGVuOnRoaXMuc3RhdGUuaXNOYXZPcGVuLG9uTmF2VG9nZ2xlOmZ1bmN0aW9uKHQpe3JldHVybiBlLnNldFN0YXRlKHtpc05hdk9wZW46dH0pfSxuYXY6ZnVuY3Rpb24odCl7dmFyIGE9e2lzT3Blbjp0LFwiYXJpYS1sYWJlbFwiOk4sXCJhcmlhLWxhYmVsbGVkYnlcIjooY3x8eikmJih6fHxlLnRpdGxlSWQpfTtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuV2l6YXJkTmF2LGYoe30sYSkscS5tYXAoKGZ1bmN0aW9uKHQscil7aWYodC5pc0ZpbmlzaGVkU3RlcClyZXR1cm4gbnVsbDt2YXIgaTtpZih0LnN0ZXBzKXtmb3IodmFyIG8sYz0hMSx1PSExLHM9RSh0LnN0ZXBzKTshKG89cygpKS5kb25lOyl7dmFyIGQ9by52YWx1ZTtHLm5hbWU9PT1kLm5hbWUmJihjPSEwKSxkLmNhbkp1bXBUbyYmKHU9ITApfXJldHVybiBpPWUuZ2V0RmxhdHRlbmVkU3RlcHNJbmRleChXLHQuc3RlcHNbMF0ubmFtZSksbi5jcmVhdGVFbGVtZW50KGwuV2l6YXJkTmF2SXRlbSx7a2V5OnIsY29udGVudDp0Lm5hbWUsaXNDdXJyZW50OmMsaXNEaXNhYmxlZDohdSxzdGVwOmksb25OYXZJdGVtQ2xpY2s6cH0sbi5jcmVhdGVFbGVtZW50KGwuV2l6YXJkTmF2LGYoe30sYSx7cmV0dXJuTGlzdDohMH0pLHQuc3RlcHMubWFwKChmdW5jdGlvbih0LGEpe3JldHVybiB0LmlzRmluaXNoZWRTdGVwP251bGw6KGk9ZS5nZXRGbGF0dGVuZWRTdGVwc0luZGV4KFcsdC5uYW1lKSxuLmNyZWF0ZUVsZW1lbnQobC5XaXphcmROYXZJdGVtLHtrZXk6XCJjaGlsZF9cIithLGNvbnRlbnQ6dC5uYW1lLGlzQ3VycmVudDpHLm5hbWU9PT10Lm5hbWUsaXNEaXNhYmxlZDohdC5jYW5KdW1wVG8sc3RlcDppLG9uTmF2SXRlbUNsaWNrOnB9KSl9KSkpKX1yZXR1cm4gaT1lLmdldEZsYXR0ZW5lZFN0ZXBzSW5kZXgoVyx0Lm5hbWUpLG4uY3JlYXRlRWxlbWVudChsLldpemFyZE5hdkl0ZW0sZih7fSx0LnN0ZXBOYXZJdGVtUHJvcHMse2tleTpyLGNvbnRlbnQ6dC5uYW1lLGlzQ3VycmVudDpHLm5hbWU9PT10Lm5hbWUsaXNEaXNhYmxlZDohdC5jYW5KdW1wVG8sc3RlcDppLG9uTmF2SXRlbUNsaWNrOnB9KSl9KSkpfSxzdGVwczpiLGFjdGl2ZVN0ZXA6RyxoYXNOb0JvZHlQYWRkaW5nOkZ9LHd8fG4uY3JlYXRlRWxlbWVudChcImZvb3RlclwiLHtjbGFzc05hbWU6aS5jc3Moby53aXphcmRGb290ZXIpfSxuLmNyZWF0ZUVsZW1lbnQobC5CdXR0b24se3ZhcmlhbnQ6bC5CdXR0b25WYXJpYW50LnByaW1hcnksdHlwZTpcInN1Ym1pdFwiLG9uQ2xpY2s6bSxpc0Rpc2FibGVkOiFqfSxHJiZHLm5leHRCdXR0b25UZXh0fHxTKSwhRy5oaWRlQmFja0J1dHRvbiYmbi5jcmVhdGVFbGVtZW50KGwuQnV0dG9uLHt2YXJpYW50OmwuQnV0dG9uVmFyaWFudC5zZWNvbmRhcnksb25DbGljazpkLGNsYXNzTmFtZTppLmNzcyhSJiZcInBmLW0tZGlzYWJsZWRcIil9LHgpLCFHLmhpZGVDYW5jZWxCdXR0b24mJm4uY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6by53aXphcmRGb290ZXJDYW5jZWx9LG4uY3JlYXRlRWxlbWVudChsLkJ1dHRvbix7dmFyaWFudDpsLkJ1dHRvblZhcmlhbnQubGluayxvbkNsaWNrOnN9LGspKSkpKSk7cmV0dXJuIHZvaWQgMCE9PU0/bi5jcmVhdGVFbGVtZW50KGwuTW9kYWwse3dpZHRoOm51bGwhPT1hP2E6dm9pZCAwLGlzT3BlbjpNLHZhcmlhbnQ6bC5Nb2RhbFZhcmlhbnQubGFyZ2UsXCJhcmlhLWxhYmVsbGVkYnlcIjp0aGlzLnRpdGxlSWQsXCJhcmlhLWRlc2NyaWJlZGJ5XCI6dGhpcy5kZXNjcmlwdGlvbklkLHNob3dDbG9zZTohMSxoYXNOb0JvZHlXcmFwcGVyOiEwfSxLKTpLfSxyfSh0LkNvbXBvbmVudCk7ZnVuY3Rpb24gQygpe3ZhciBlPXIudXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lS2Fma2FzQWN0b3IoKTtyZXR1cm4gci51c2VLYWZrYXNNYWNoaW5lSXNSZWFkeShlKT9uLmNyZWF0ZUVsZW1lbnQoeSxudWxsKTpudWxsfWIuZGlzcGxheU5hbWU9XCJXaXphcmRcIixiLmN1cnJlbnRJZD0wLGIuZGVmYXVsdFByb3BzPXt0aXRsZTp2b2lkIDAsZGVzY3JpcHRpb246XCJcIixjbGFzc05hbWU6XCJcIixuZXh0QnV0dG9uVGV4dDpcIk5leHRcIixiYWNrQnV0dG9uVGV4dDpcIkJhY2tcIixjYW5jZWxCdXR0b25UZXh0OlwiQ2FuY2VsXCIsaGlkZUNsb3NlOiExLGNsb3NlQnV0dG9uQXJpYUxhYmVsOlwiQ2xvc2VcIixuYXZBcmlhTGFiZWw6dm9pZCAwLG5hdkFyaWFMYWJlbGxlZEJ5OnZvaWQgMCxtYWluQXJpYUxhYmVsOnZvaWQgMCxtYWluQXJpYUxhYmVsbGVkQnk6dm9pZCAwLGhhc05vQm9keVBhZGRpbmc6ITEsb25Hb1RvU3RlcDp2b2lkIDAsd2lkdGg6dm9pZCAwLGhlaWdodDp2b2lkIDAsZm9vdGVyOnZvaWQgMCxhcHBlbmRUbzp2b2lkIDAsaXNPcGVuOnZvaWQgMH07dmFyIHk9ZnVuY3Rpb24oKXt2YXIgZSx0PXMudXNlSGlzdG9yeSgpLGE9ci51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVLYWZrYXNBY3RvcigpLGk9ci51c2VLYWZrYXNNYWNoaW5lKGEpLG89aS5yZXNwb25zZSx1PWkuc2VsZWN0ZWRJZCxkPWkub25TZWxlY3QsbT1pLm9uUXVlcnk7c3dpdGNoKCEwKXtjYXNlIGkuZmlyc3RSZXF1ZXN0OnJldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5QYWdlU2VjdGlvbix7cGFkZGluZzp7ZGVmYXVsdDpcIm5vUGFkZGluZ1wifSxpc0ZpbGxlZDohMH0sbi5jcmVhdGVFbGVtZW50KGMuTG9hZGluZyxudWxsKSk7Y2FzZSBpLnF1ZXJ5RW1wdHk6cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLlBhZ2VTZWN0aW9uLHtwYWRkaW5nOntkZWZhdWx0Olwibm9QYWRkaW5nXCJ9LGlzRmlsbGVkOiEwfSxuLmNyZWF0ZUVsZW1lbnQoUyxudWxsKSxuLmNyZWF0ZUVsZW1lbnQoYy5Ob01hdGNoRm91bmQse29uQ2xlYXI6ZnVuY3Rpb24oKXtyZXR1cm4gbSh7cGFnZToxLHNpemU6MTB9KX19KSk7Y2FzZSBpLm5vUmVzdWx0c3x8aS5lcnJvcjpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuUGFnZVNlY3Rpb24se3BhZGRpbmc6e2RlZmF1bHQ6XCJub1BhZGRpbmdcIn0saXNGaWxsZWQ6ITB9LG4uY3JlYXRlRWxlbWVudChjLkVtcHR5U3RhdGUse2VtcHR5U3RhdGVQcm9wczp7dmFyaWFudDpjLkVtcHR5U3RhdGVWYXJpYW50LkdldHRpbmdTdGFydGVkfSx0aXRsZVByb3BzOnt0aXRsZTpcImNvcy5ub19rYWZrYV9pbnN0YW5jZVwifSxlbXB0eVN0YXRlQm9keVByb3BzOntib2R5OlwiY29zLm5vX2thZmthX2luc3RhbmNlX2JvZHlcIn0sYnV0dG9uUHJvcHM6e3RpdGxlOlwiY29zLmNyZWF0ZV9rYWZrYV9pbnN0YW5jZVwiLHZhcmlhbnQ6bC5CdXR0b25WYXJpYW50LnByaW1hcnksb25DbGljazpmdW5jdGlvbigpe3JldHVybiB0LnB1c2goXCIvY3JlYXRlLWNvbm5lY3RvclwiKX19fSkpO2Nhc2UgaS5sb2FkaW5nOnJldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5QYWdlU2VjdGlvbix7cGFkZGluZzp7ZGVmYXVsdDpcIm5vUGFkZGluZ1wifSxpc0ZpbGxlZDohMH0sbi5jcmVhdGVFbGVtZW50KFMsbnVsbCksbi5jcmVhdGVFbGVtZW50KGMuTG9hZGluZyxudWxsKSk7ZGVmYXVsdDpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuUGFnZVNlY3Rpb24se3BhZGRpbmc6e2RlZmF1bHQ6XCJub1BhZGRpbmdcIn0saXNGaWxsZWQ6ITB9LG4uY3JlYXRlRWxlbWVudChTLG51bGwpLG4uY3JlYXRlRWxlbWVudChsLlBhZ2VTZWN0aW9uLHtpc0ZpbGxlZDohMH0sbi5jcmVhdGVFbGVtZW50KGwuR2FsbGVyeSx7aGFzR3V0dGVyOiEwfSxudWxsPT1vfHxudWxsPT0oZT1vLml0ZW1zKT92b2lkIDA6ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5DYXJkLHtpc0hvdmVyYWJsZTohMCxrZXk6ZS5pZCxpc1NlbGVjdGFibGU6ITAsaXNTZWxlY3RlZDp1PT09ZS5pZCxvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIGQoZS5pZCl9fSxuLmNyZWF0ZUVsZW1lbnQobC5DYXJkSGVhZGVyLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuQ2FyZFRpdGxlLG51bGwsZS5uYW1lKSksbi5jcmVhdGVFbGVtZW50KGwuQ2FyZEJvZHksbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3QsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RHcm91cCxudWxsLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdFRlcm0sbnVsbCxcIlJlZ2lvblwiKSxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3REZXNjcmlwdGlvbixudWxsLGUucmVnaW9uKSksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RUZXJtLG51bGwsXCJPd25lclwiKSxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3REZXNjcmlwdGlvbixudWxsLGUub3duZXIpKSxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RHcm91cCxudWxsLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdFRlcm0sbnVsbCxcIkNyZWF0ZWRcIiksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0RGVzY3JpcHRpb24sbnVsbCxlLmNyZWF0ZWRfYXQpKSkpKX0pKSkpKX19LFM9ZnVuY3Rpb24oKXt2YXIgZT1yLnVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUthZmthc0FjdG9yKCksYT1yLnVzZUthZmthc01hY2hpbmUoZSksaT1hLnJlcXVlc3Qsbz1hLnJlc3BvbnNlLHM9YS5vblF1ZXJ5LGQ9aS5xdWVyeXx8e30sbT1kLm5hbWUscD12b2lkIDA9PT1tP1wiXCI6bSxnPWQuc3RhdHVzZXMsdj12b2lkIDA9PT1nP1tdOmcsRT10LnVzZUNhbGxiYWNrKChmdW5jdGlvbigpe3JldHVybiBzKHtwYWdlOjEsc2l6ZTppLnNpemV9KX0pLFtzLGkuc2l6ZV0pLGg9dC51c2VSZWYobnVsbCksYj1jLnVzZURlYm91bmNlKHMsMWUzKSxDPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoZih7fSxpLHtxdWVyeTpmKHt9LGkucXVlcnl8fHt9LHtzdGF0dXNlczoobnVsbD09dj92b2lkIDA6di5pbmNsdWRlcyh0KSk/di5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dH0pKTpbXS5jb25jYXQodnx8W10sW3RdKX0pfSkpfSx5PXQudXNlU3RhdGUoITEpLFM9eVswXSx4PXlbMV0sST10LnVzZUNhbGxiYWNrKChmdW5jdGlvbigpe3JldHVybiB4KChmdW5jdGlvbihlKXtyZXR1cm4hZX0pKX0pLFtdKSxrPVQubWFwKChmdW5jdGlvbihlKXt2YXIgdD1lLnZhbHVlO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5TZWxlY3RPcHRpb24se2tleTp0LHZhbHVlOnR9LGUubGFiZWwpfSkpO3QudXNlRWZmZWN0KChmdW5jdGlvbigpe2guY3VycmVudCYmKGguY3VycmVudC52YWx1ZT1wKX0pLFtoLHBdKTt2YXIgUD1uLmNyZWF0ZUVsZW1lbnQobi5GcmFnbWVudCxudWxsLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJJdGVtLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuSW5wdXRHcm91cCxudWxsLG4uY3JlYXRlRWxlbWVudChsLlRleHRJbnB1dCx7bmFtZTpcInRleHRJbnB1dDJcIixpZDpcInRleHRJbnB1dDJcIix0eXBlOlwic2VhcmNoXCIsXCJhcmlhLWxhYmVsXCI6XCJzZWFyY2ggaW5wdXQgZXhhbXBsZVwiLG9uQ2hhbmdlOmZ1bmN0aW9uKGUpe3JldHVybiBiKHtzaXplOmkuc2l6ZSxwYWdlOjEscXVlcnk6e25hbWU6ZSxzdGF0dXNlczp2fX0pfSxyZWY6aH0pLG4uY3JlYXRlRWxlbWVudChsLkJ1dHRvbix7dmFyaWFudDpcImNvbnRyb2xcIixcImFyaWEtbGFiZWxcIjpcInNlYXJjaCBidXR0b24gZm9yIHNlYXJjaCBpbnB1dFwifSxuLmNyZWF0ZUVsZW1lbnQodS5TZWFyY2hJY29uLG51bGwpKSkpLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJHcm91cCx7dmFyaWFudDpcImZpbHRlci1ncm91cFwifSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyRmlsdGVyLHtjaGlwczp2LGRlbGV0ZUNoaXA6QyxkZWxldGVDaGlwR3JvdXA6ZnVuY3Rpb24oKXtyZXR1cm4gcyhmKHt9LGkse3F1ZXJ5OmYoe30saS5xdWVyeXx8e30se3N0YXR1c2VzOnZvaWQgMH0pfSkpfSxjYXRlZ29yeU5hbWU6XCJTdGF0dXNcIn0sbi5jcmVhdGVFbGVtZW50KGwuU2VsZWN0LHt2YXJpYW50OlwiY2hlY2tib3hcIixcImFyaWEtbGFiZWxcIjpcIlN0YXR1c1wiLG9uVG9nZ2xlOkksb25TZWxlY3Q6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQygwLHQpfSxzZWxlY3Rpb25zOnYsaXNPcGVuOlMscGxhY2Vob2xkZXJUZXh0OlwiU3RhdHVzXCJ9LGspKSkpLEI9bi5jcmVhdGVFbGVtZW50KG4uRnJhZ21lbnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyVG9nZ2xlR3JvdXAse3RvZ2dsZUljb246bi5jcmVhdGVFbGVtZW50KHUuRmlsdGVySWNvbixudWxsKSxicmVha3BvaW50OlwieGxcIn0sUCksbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckdyb3VwLHt2YXJpYW50OlwiaWNvbi1idXR0b24tZ3JvdXBcIn0sbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckl0ZW0sbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5CdXR0b24se3ZhcmlhbnQ6XCJwcmltYXJ5XCJ9LFwiQ3JlYXRlIEthZmthIEluc3RhbmNlXCIpKSksbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckl0ZW0se3ZhcmlhbnQ6XCJwYWdpbmF0aW9uXCIsYWxpZ25tZW50OntkZWZhdWx0OlwiYWxpZ25SaWdodFwifX0sbi5jcmVhdGVFbGVtZW50KGwuUGFnaW5hdGlvbix7aXRlbUNvdW50OihudWxsPT1vP3ZvaWQgMDpvLnRvdGFsKXx8MCxwYWdlOmkucGFnZSxwZXJQYWdlOmkuc2l6ZSxwZXJQYWdlT3B0aW9uczpbe3RpdGxlOlwiMVwiLHZhbHVlOjF9LHt0aXRsZTpcIjVcIix2YWx1ZTo1fSx7dGl0bGU6XCIxMFwiLHZhbHVlOjEwfV0sb25TZXRQYWdlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gcyhmKHt9LGkse3BhZ2U6dCxzaXplOm58fGkuc2l6ZX0pKX0sb25QZXJQYWdlU2VsZWN0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LHZhcmlhbnQ6XCJ0b3BcIixpc0NvbXBhY3Q6ITB9KSkpO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyLHtpZDpcInRvb2xiYXItZ3JvdXAtdHlwZXNcIixjb2xsYXBzZUxpc3RlZEZpbHRlcnNCcmVha3BvaW50OlwieGxcIixjbGVhckFsbEZpbHRlcnM6RX0sbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckNvbnRlbnQsbnVsbCxCKSl9LFQ9W3t2YWx1ZTpcInJlYWR5XCIsbGFiZWw6XCJSZWFkeVwifSx7dmFsdWU6XCJmYWlsZWRcIixsYWJlbDpcIkZhaWxlZFwifSx7dmFsdWU6XCJhY2NlcHRlZFwiLGxhYmVsOlwiQ3JlYXRpb24gcGVuZGluZ1wifSx7dmFsdWU6XCJwcm92aXNpb25pbmdcIixsYWJlbDpcIkNyZWF0aW9uIGluIHByb2dyZXNzXCJ9LHt2YWx1ZTpcInByZXBhcmluZ1wiLGxhYmVsOlwiQ3JlYXRpb24gaW4gcHJvZ3Jlc3NcIn0se3ZhbHVlOlwiZGVwcm92aXNpb25cIixsYWJlbDpcIkRlbGV0aW9uIGluIHByb2dyZXNzXCJ9LHt2YWx1ZTpcImRlbGV0ZWRcIixsYWJlbDpcIkRlbGV0aW9uIGluIHByb2dyZXNzXCJ9XTtmdW5jdGlvbiB4KCl7dmFyIGU9ci51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVDbHVzdGVyc0FjdG9yKCk7cmV0dXJuIHIudXNlQ2x1c3RlcnNNYWNoaW5lSXNSZWFkeShlKT9uLmNyZWF0ZUVsZW1lbnQoSSxudWxsKTpudWxsfXZhciBJPWZ1bmN0aW9uKCl7dmFyIGUsdD1zLnVzZUhpc3RvcnkoKSxhPXIudXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lQ2x1c3RlcnNBY3RvcigpLGk9ci51c2VDbHVzdGVyc01hY2hpbmUoYSksbz1pLnJlc3BvbnNlLHU9aS5zZWxlY3RlZElkLGQ9aS5vblNlbGVjdCxtPWkub25RdWVyeTtzd2l0Y2goITApe2Nhc2UgaS5maXJzdFJlcXVlc3Q6cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLlBhZ2VTZWN0aW9uLHtwYWRkaW5nOntkZWZhdWx0Olwibm9QYWRkaW5nXCJ9LGlzRmlsbGVkOiEwfSxuLmNyZWF0ZUVsZW1lbnQoYy5Mb2FkaW5nLG51bGwpKTtjYXNlIGkucXVlcnlFbXB0eTpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuUGFnZVNlY3Rpb24se3BhZGRpbmc6e2RlZmF1bHQ6XCJub1BhZGRpbmdcIn0saXNGaWxsZWQ6ITB9LG4uY3JlYXRlRWxlbWVudChrLG51bGwpLG4uY3JlYXRlRWxlbWVudChjLk5vTWF0Y2hGb3VuZCx7b25DbGVhcjpmdW5jdGlvbigpe3JldHVybiBtKHtwYWdlOjEsc2l6ZToxMH0pfX0pKTtjYXNlIGkubm9SZXN1bHRzfHxpLmVycm9yOnJldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5QYWdlU2VjdGlvbix7cGFkZGluZzp7ZGVmYXVsdDpcIm5vUGFkZGluZ1wifSxpc0ZpbGxlZDohMH0sbi5jcmVhdGVFbGVtZW50KGMuRW1wdHlTdGF0ZSx7ZW1wdHlTdGF0ZVByb3BzOnt2YXJpYW50OmMuRW1wdHlTdGF0ZVZhcmlhbnQuR2V0dGluZ1N0YXJ0ZWR9LHRpdGxlUHJvcHM6e3RpdGxlOlwiY29zLm5vX2NsdXN0ZXJzX2luc3RhbmNlXCJ9LGVtcHR5U3RhdGVCb2R5UHJvcHM6e2JvZHk6XCJjb3Mubm9fY2x1c3RlcnNfaW5zdGFuY2VfYm9keVwifSxidXR0b25Qcm9wczp7dGl0bGU6XCJjb3MuY3JlYXRlX2NsdXN0ZXJzX2luc3RhbmNlXCIsdmFyaWFudDpsLkJ1dHRvblZhcmlhbnQucHJpbWFyeSxvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIHQucHVzaChcIi9jcmVhdGUtY29ubmVjdG9yXCIpfX19KSk7Y2FzZSBpLmxvYWRpbmc6cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLlBhZ2VTZWN0aW9uLHtwYWRkaW5nOntkZWZhdWx0Olwibm9QYWRkaW5nXCJ9LGlzRmlsbGVkOiEwfSxuLmNyZWF0ZUVsZW1lbnQoayxudWxsKSxuLmNyZWF0ZUVsZW1lbnQoYy5Mb2FkaW5nLG51bGwpKTtkZWZhdWx0OnJldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5QYWdlU2VjdGlvbix7cGFkZGluZzp7ZGVmYXVsdDpcIm5vUGFkZGluZ1wifSxpc0ZpbGxlZDohMH0sbi5jcmVhdGVFbGVtZW50KGssbnVsbCksbi5jcmVhdGVFbGVtZW50KGwuUGFnZVNlY3Rpb24se2lzRmlsbGVkOiEwfSxuLmNyZWF0ZUVsZW1lbnQobC5HYWxsZXJ5LHtoYXNHdXR0ZXI6ITB9LG51bGw9PW98fG51bGw9PShlPW8uaXRlbXMpP3ZvaWQgMDplLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQsYSxyO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5DYXJkLHtpc0hvdmVyYWJsZTohMCxrZXk6ZS5pZCxpc1NlbGVjdGFibGU6ITAsaXNTZWxlY3RlZDp1PT09ZS5pZCxvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIGQoZS5pZCl9fSxuLmNyZWF0ZUVsZW1lbnQobC5DYXJkSGVhZGVyLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuQ2FyZFRpdGxlLG51bGwsbnVsbD09KHQ9ZS5tZXRhZGF0YSk/dm9pZCAwOnQubmFtZSkpLG4uY3JlYXRlRWxlbWVudChsLkNhcmRCb2R5LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RUZXJtLG51bGwsXCJPd25lclwiKSxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3REZXNjcmlwdGlvbixudWxsLG51bGw9PShhPWUubWV0YWRhdGEpP3ZvaWQgMDphLm93bmVyKSksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RUZXJtLG51bGwsXCJDcmVhdGVkXCIpLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdERlc2NyaXB0aW9uLG51bGwsbnVsbD09KHI9ZS5tZXRhZGF0YSk/dm9pZCAwOnIuY3JlYXRlZF9hdCkpKSkpfSkpKSkpfX0saz1mdW5jdGlvbigpe3ZhciBlPXIudXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lQ2x1c3RlcnNBY3RvcigpLGE9ci51c2VDbHVzdGVyc01hY2hpbmUoZSksaT1hLnJlcXVlc3Qsbz1hLnJlc3BvbnNlLHM9YS5vblF1ZXJ5LGQ9dC51c2VSZWYobnVsbCksbT1jLnVzZURlYm91bmNlKHMsMWUzKSxwPW4uY3JlYXRlRWxlbWVudChuLkZyYWdtZW50LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckl0ZW0sbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5JbnB1dEdyb3VwLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuVGV4dElucHV0LHtuYW1lOlwidGV4dElucHV0MlwiLGlkOlwidGV4dElucHV0MlwiLHR5cGU6XCJzZWFyY2hcIixcImFyaWEtbGFiZWxcIjpcInNlYXJjaCBpbnB1dCBleGFtcGxlXCIsb25DaGFuZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG0oe3NpemU6aS5zaXplLHBhZ2U6MSxuYW1lOmV9KX0scmVmOmR9KSxuLmNyZWF0ZUVsZW1lbnQobC5CdXR0b24se3ZhcmlhbnQ6XCJjb250cm9sXCIsXCJhcmlhLWxhYmVsXCI6XCJzZWFyY2ggYnV0dG9uIGZvciBzZWFyY2ggaW5wdXRcIn0sbi5jcmVhdGVFbGVtZW50KHUuU2VhcmNoSWNvbixudWxsKSkpKSksZz1uLmNyZWF0ZUVsZW1lbnQobi5GcmFnbWVudCxudWxsLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJUb2dnbGVHcm91cCx7dG9nZ2xlSWNvbjpuLmNyZWF0ZUVsZW1lbnQodS5GaWx0ZXJJY29uLG51bGwpLGJyZWFrcG9pbnQ6XCJ4bFwifSxwKSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyR3JvdXAse3ZhcmlhbnQ6XCJpY29uLWJ1dHRvbi1ncm91cFwifSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFySXRlbSxudWxsLG4uY3JlYXRlRWxlbWVudChsLkJ1dHRvbix7dmFyaWFudDpcInByaW1hcnlcIn0sXCJDcmVhdGUgQ2x1c3RlcnMgSW5zdGFuY2VcIikpKSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFySXRlbSx7dmFyaWFudDpcInBhZ2luYXRpb25cIixhbGlnbm1lbnQ6e2RlZmF1bHQ6XCJhbGlnblJpZ2h0XCJ9fSxuLmNyZWF0ZUVsZW1lbnQobC5QYWdpbmF0aW9uLHtpdGVtQ291bnQ6KG51bGw9PW8/dm9pZCAwOm8udG90YWwpfHwwLHBhZ2U6aS5wYWdlLHBlclBhZ2U6aS5zaXplLHBlclBhZ2VPcHRpb25zOlt7dGl0bGU6XCIxXCIsdmFsdWU6MX0se3RpdGxlOlwiNVwiLHZhbHVlOjV9LHt0aXRsZTpcIjEwXCIsdmFsdWU6MTB9XSxvblNldFBhZ2U6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBzKGYoe30saSx7cGFnZTp0LHNpemU6bnx8aS5zaXplfSkpfSxvblBlclBhZ2VTZWxlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdmFyaWFudDpcInRvcFwiLGlzQ29tcGFjdDohMH0pKSk7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXIse2lkOlwidG9vbGJhci1ncm91cC10eXBlc1wiLGNvbGxhcHNlTGlzdGVkRmlsdGVyc0JyZWFrcG9pbnQ6XCJ4bFwifSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyQ29udGVudCxudWxsLGcpKX0sUD1be3RpdGxlOlwiMVwiLHZhbHVlOjF9LHt0aXRsZTpcIjVcIix2YWx1ZTo1fSx7dGl0bGU6XCIxMFwiLHZhbHVlOjEwfV07ZnVuY3Rpb24gQigpe3ZhciBlLGEsaSxvLHM9ci51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVDb25uZWN0b3JUeXBlc0FjdG9yKCksZD10LnVzZVN0YXRlKFwiXCIpLG09ZFswXSxwPWRbMV0sZz10LnVzZVN0YXRlKFtcIlNpbmtcIixcIlNvdXJjZVwiXSksZj1nWzBdLHY9Z1sxXSxFPXQudXNlU3RhdGUoITEpLGg9RVswXSxiPUVbMV0sQz10LnVzZUNhbGxiYWNrKChmdW5jdGlvbigpe3AoXCJcIiksdihbXSl9KSxbXSkseT10LnVzZUNhbGxiYWNrKChmdW5jdGlvbigpe3JldHVybiBiKChmdW5jdGlvbihlKXtyZXR1cm4hZX0pKX0pLFtdKSxTPXQudXNlQ2FsbGJhY2soKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHYoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmluY2x1ZGVzKHQpP2UuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSE9PXR9KSk6W10uY29uY2F0KGUsW3RdKX0pKX0pLFtdKTtzd2l0Y2goITApe2Nhc2Ugcy5zdGF0ZS5tYXRjaGVzKFwibG9hZGluZ1wiKTpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuRW1wdHlTdGF0ZSxudWxsLG4uY3JlYXRlRWxlbWVudChsLkVtcHR5U3RhdGVJY29uLHt2YXJpYW50OlwiY29udGFpbmVyXCIsY29tcG9uZW50OmwuU3Bpbm5lcn0pLG4uY3JlYXRlRWxlbWVudChsLlRpdGxlLHtzaXplOlwibGdcIixoZWFkaW5nTGV2ZWw6XCJoNFwifSxcIkxvYWRpbmdcIikpO2Nhc2Ugcy5zdGF0ZS5tYXRjaGVzKFwiZmFpbHVyZVwiKTpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGMuTm9NYXRjaEZvdW5kLG51bGwpO2RlZmF1bHQ6dmFyIFQ9W24uY3JlYXRlRWxlbWVudChsLlNlbGVjdE9wdGlvbix7a2V5OlwiU2lua1wiLHZhbHVlOlwiU2lua1wifSksbi5jcmVhdGVFbGVtZW50KGwuU2VsZWN0T3B0aW9uLHtrZXk6XCJTb3VyY2VcIix2YWx1ZTpcIlNvdXJjZVwifSldLHg9bi5jcmVhdGVFbGVtZW50KG4uRnJhZ21lbnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFySXRlbSxudWxsLG4uY3JlYXRlRWxlbWVudChsLklucHV0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5UZXh0SW5wdXQse25hbWU6XCJ0ZXh0SW5wdXQyXCIsaWQ6XCJ0ZXh0SW5wdXQyXCIsdHlwZTpcInNlYXJjaFwiLFwiYXJpYS1sYWJlbFwiOlwic2VhcmNoIGlucHV0IGV4YW1wbGVcIixvbkNoYW5nZTpwLHZhbHVlOm19KSxuLmNyZWF0ZUVsZW1lbnQobC5CdXR0b24se3ZhcmlhbnQ6XCJjb250cm9sXCIsXCJhcmlhLWxhYmVsXCI6XCJzZWFyY2ggYnV0dG9uIGZvciBzZWFyY2ggaW5wdXRcIn0sbi5jcmVhdGVFbGVtZW50KHUuU2VhcmNoSWNvbixudWxsKSkpKSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyR3JvdXAse3ZhcmlhbnQ6XCJmaWx0ZXItZ3JvdXBcIn0sbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckZpbHRlcix7Y2hpcHM6ZixkZWxldGVDaGlwOlMsZGVsZXRlQ2hpcEdyb3VwOmZ1bmN0aW9uKCl7cmV0dXJuIHYoW10pfSxjYXRlZ29yeU5hbWU6XCJDb25uZWN0b3IgdHlwZVwifSxuLmNyZWF0ZUVsZW1lbnQobC5TZWxlY3Qse3ZhcmlhbnQ6XCJjaGVja2JveFwiLFwiYXJpYS1sYWJlbFwiOlwiQ29ubmVjdG9yIHR5cGVcIixvblRvZ2dsZTp5LG9uU2VsZWN0OlMsc2VsZWN0aW9uczpmLGlzT3BlbjpoLHBsYWNlaG9sZGVyVGV4dDpcIkNvbm5lY3RvciB0eXBlXCJ9LFQpKSkpLEk9bi5jcmVhdGVFbGVtZW50KG4uRnJhZ21lbnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyVG9nZ2xlR3JvdXAse3RvZ2dsZUljb246bi5jcmVhdGVFbGVtZW50KHUuRmlsdGVySWNvbixudWxsKSxicmVha3BvaW50OlwieGxcIn0seCksbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckl0ZW0se3ZhcmlhbnQ6XCJwYWdpbmF0aW9uXCIsYWxpZ25tZW50OntkZWZhdWx0OlwiYWxpZ25SaWdodFwifX0sbi5jcmVhdGVFbGVtZW50KGwuUGFnaW5hdGlvbix7aXRlbUNvdW50OihudWxsPT0oZT1zLnN0YXRlLmNvbnRleHQuY29ubmVjdG9ycyk/dm9pZCAwOmUudG90YWwpfHwwLHBhZ2U6KChudWxsPT0oYT1zLnN0YXRlLmNvbnRleHQuY29ubmVjdG9ycyk/dm9pZCAwOmEucGFnZSl8fDApKzEscGVyUGFnZToobnVsbD09KGk9cy5zdGF0ZS5jb250ZXh0LmNvbm5lY3RvcnMpP3ZvaWQgMDppLnNpemUpfHwwLHBlclBhZ2VPcHRpb25zOlAsb25TZXRQYWdlOmZ1bmN0aW9uKCl7cmV0dXJuITF9LG9uUGVyUGFnZVNlbGVjdDpmdW5jdGlvbigpe3JldHVybiExfSx2YXJpYW50OlwidG9wXCIsaXNDb21wYWN0OiEwfSkpKTtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuUGFnZVNlY3Rpb24se3BhZGRpbmc6e2RlZmF1bHQ6XCJub1BhZGRpbmdcIn19LG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXIse2lkOlwidG9vbGJhci1ncm91cC10eXBlc1wiLGNvbGxhcHNlTGlzdGVkRmlsdGVyc0JyZWFrcG9pbnQ6XCJ4bFwiLGNsZWFyQWxsRmlsdGVyczpDfSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyQ29udGVudCxudWxsLEkpKSxuLmNyZWF0ZUVsZW1lbnQobC5QYWdlU2VjdGlvbix7aXNGaWxsZWQ6ITB9LG4uY3JlYXRlRWxlbWVudChsLkdhbGxlcnkse2hhc0d1dHRlcjohMH0sbnVsbD09KG89cy5zdGF0ZS5jb250ZXh0LmNvbm5lY3RvcnMpP3ZvaWQgMDpvLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuXCJcIj09PW18fGUubmFtZS5pbmNsdWRlcyhtKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5DYXJkLHtpc0hvdmVyYWJsZTohMCxrZXk6ZS5pZCxpc1NlbGVjdGFibGU6ITAsaXNTZWxlY3RlZDoobnVsbD09KHQ9cy5zdGF0ZS5jb250ZXh0LnNlbGVjdGVkQ29ubmVjdG9yKT92b2lkIDA6dC5pZCk9PT1lLmlkLG9uQ2xpY2s6ZnVuY3Rpb24oKXtzLnNlbmQoe3R5cGU6XCJzZWxlY3RDb25uZWN0b3JcIixzZWxlY3RlZENvbm5lY3RvcjplLmlkfSl9fSxuLmNyZWF0ZUVsZW1lbnQobC5DYXJkSGVhZGVyLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuQ2FyZFRpdGxlLG51bGwsZS5uYW1lKSksbi5jcmVhdGVFbGVtZW50KGwuQ2FyZEJvZHksbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3QsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RHcm91cCxudWxsLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdERlc2NyaXB0aW9uLG51bGwsZS5kZXNjcmlwdGlvbikpLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdEdyb3VwLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0VGVybSxudWxsLFwiVmVyc2lvblwiKSxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3REZXNjcmlwdGlvbixudWxsLGUudmVyc2lvbikpLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdEdyb3VwLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0VGVybSxudWxsLFwiSURcIiksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0RGVzY3JpcHRpb24sbnVsbCxlLmlkKSkpKSl9KSkpKSl9fXZhciBMPWZ1bmN0aW9uKGUpe3ZhciByPWUuYWN0b3IsaT1lLkNvbmZpZ3VyYXRvcixvPWEudXNlU2VsZWN0b3Iocix0LnVzZUNhbGxiYWNrKChmdW5jdGlvbihlKXtyZXR1cm57Y29ubmVjdG9yOmUuY29udGV4dC5jb25uZWN0b3IsYWN0aXZlU3RlcDplLmNvbnRleHQuYWN0aXZlU3RlcCxjb25maWd1cmF0aW9uOmUuY29udGV4dC5jb25maWd1cmF0aW9ufX0pLFtyXSkpO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQoaSx7YWN0aXZlU3RlcDpvLmFjdGl2ZVN0ZXAsY29uZmlndXJhdGlvbjpvLmNvbmZpZ3VyYXRpb24sY29ubmVjdG9yOm8uY29ubmVjdG9yLG9uQ2hhbmdlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuc2VuZCh7dHlwZTpcImNoYW5nZVwiLGNvbmZpZ3VyYXRpb246ZSxpc1ZhbGlkOnR9KX19KX0sTj1mdW5jdGlvbihlKXt2YXIgcj1lLmFjdG9yLGk9YS51c2VTZWxlY3RvcihyLHQudXNlQ2FsbGJhY2soKGZ1bmN0aW9uKGUpe3JldHVybntjb25uZWN0b3I6ZS5jb250ZXh0LmNvbm5lY3Rvcixjb25maWd1cmF0aW9uOmUuY29udGV4dC5jb25maWd1cmF0aW9ufX0pLFtyXSkpO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQoZC5Kc29uU2NoZW1hQ29uZmlndXJhdG9yLHtzY2hlbWE6aS5jb25uZWN0b3IuanNvbl9zY2hlbWEsY29uZmlndXJhdGlvbjppLmNvbmZpZ3VyYXRpb258fHt9LG9uQ2hhbmdlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuc2VuZCh7dHlwZTpcImNoYW5nZVwiLGNvbmZpZ3VyYXRpb246ZSxpc1ZhbGlkOnR9KX19KX0sej1mdW5jdGlvbigpe3ZhciBlPW0udXNlVHJhbnNsYXRpb24oKS50LGk9ci51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlKCksbz1hLnVzZVNlbGVjdG9yKGksdC51c2VDYWxsYmFjaygoZnVuY3Rpb24oZSl7cmV0dXJue2lzTG9hZGluZzplLm1hdGNoZXMoe2NvbmZpZ3VyZUNvbm5lY3RvcjpcImxvYWRDb25maWd1cmF0b3JcIn0pLGhhc0Vycm9yczplLm1hdGNoZXMoXCJmYWlsdXJlXCIpLGhhc0N1c3RvbUNvbmZpZ3VyYXRvcjohMSE9PWUuY29udGV4dC5Db25maWd1cmF0b3ImJnZvaWQgMCE9PWUuY29udGV4dC5Db25maWd1cmF0b3IsY29uZmlndXJhdGlvbjplLmNvbnRleHQuY29ubmVjdG9yQ29uZmlndXJhdGlvbixDb25maWd1cmF0b3I6ZS5jb250ZXh0LkNvbmZpZ3VyYXRvcixjb25maWd1cmF0b3JSZWY6ZS5jaGlsZHJlbi5jb25maWd1cmF0b3JSZWZ9fSksW2ldKSksYz1vLkNvbmZpZ3VyYXRvcixzPW8uY29uZmlndXJhdG9yUmVmO3N3aXRjaCghMCl7Y2FzZSBvLmlzTG9hZGluZzpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuRW1wdHlTdGF0ZSxudWxsLG4uY3JlYXRlRWxlbWVudChsLkVtcHR5U3RhdGVJY29uLHt2YXJpYW50OlwiY29udGFpbmVyXCIsY29tcG9uZW50OmwuU3Bpbm5lcn0pLG4uY3JlYXRlRWxlbWVudChsLlRpdGxlLHtzaXplOlwibGdcIixoZWFkaW5nTGV2ZWw6XCJoNFwifSxlKFwibG9hZGluZ1wiKSkpO2Nhc2Ugby5oYXNFcnJvcnM6cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLkVtcHR5U3RhdGUsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5FbXB0eVN0YXRlSWNvbix7aWNvbjp1LkV4Y2xhbWF0aW9uQ2lyY2xlSWNvbn0pLG4uY3JlYXRlRWxlbWVudChsLlRpdGxlLHtzaXplOlwibGdcIixoZWFkaW5nTGV2ZWw6XCJoNFwifSxcIkVycm9yIG1lc3NhZ2VcIikpO2Nhc2Ugby5oYXNDdXN0b21Db25maWd1cmF0b3I6cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLlBhZ2VTZWN0aW9uLHt2YXJpYW50OlwibGlnaHRcIn0sbi5jcmVhdGVFbGVtZW50KG4uU3VzcGVuc2Use2ZhbGxiYWNrOm51bGx9LG4uY3JlYXRlRWxlbWVudChMLHthY3RvcjpzLENvbmZpZ3VyYXRvcjpjfSkpKTtkZWZhdWx0OnJldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5QYWdlU2VjdGlvbix7dmFyaWFudDpcImxpZ2h0XCJ9LG4uY3JlYXRlRWxlbWVudChOLHthY3RvcjpzfSkpfX07ZnVuY3Rpb24gQSgpe3ZhciBlPXIudXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lUmV2aWV3QWN0b3IoKSxhPXIudXNlUmV2aWV3TWFjaGluZShlKSxpPWEubmFtZSxvPWEuc2VydmljZUFjY291bnQsYz1hLmNvbmZpZ1N0cmluZyx1PWEuY29uZmlnU3RyaW5nRXJyb3Iscz1hLmNvbmZpZ1N0cmluZ1dhcm5pbmdzLGQ9YS5pc1NhdmluZyxtPWEuc2F2aW5nRXJyb3IsZz1hLm9uU2V0TmFtZSx2PWEub25TZXRTZXJ2aWNlQWNjb3VudCxFPWEub25VcGRhdGVDb25maWd1cmF0aW9uLGg9dC51c2VDYWxsYmFjaygoZnVuY3Rpb24oZSx0KXtlLmxheW91dCgpLGUuZm9jdXMoKX0pLFtdKTtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuUGFnZVNlY3Rpb24se3ZhcmlhbnQ6XCJsaWdodFwifSxuLmNyZWF0ZUVsZW1lbnQobC5Gb3JtLG51bGwsbSYmbi5jcmVhdGVFbGVtZW50KGwuRm9ybUFsZXJ0LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuQWxlcnQse3ZhcmlhbnQ6XCJkYW5nZXJcIix0aXRsZTptLFwiYXJpYS1saXZlXCI6XCJwb2xpdGVcIixpc0lubGluZTohMH0pKSxuLmNyZWF0ZUVsZW1lbnQobC5Gb3JtR3JvdXAse2xhYmVsOlwiTmFtZVwiLGlzUmVxdWlyZWQ6ITAsZmllbGRJZDpcIm5hbWVcIixoZWxwZXJUZXh0OlwiUGxlYXNlIHByb3ZpZGUgYSB1bmlxdWUgbmFtZSBmb3IgdGhlIGNvbm5lY3RvclwifSxuLmNyZWF0ZUVsZW1lbnQobC5UZXh0SW5wdXQse2lzRGlzYWJsZWQ6ZCx2YWx1ZTppLG9uQ2hhbmdlOmcsaWQ6XCJuYW1lXCJ9KSksbi5jcmVhdGVFbGVtZW50KGwuRm9ybUdyb3VwLHtsYWJlbDpcIlNlcnZpY2UgQWNjb3VudFwiLGlzUmVxdWlyZWQ6ITAsZmllbGRJZDpcInNlcnZpY2UtYWNjb3VudFwifSxuLmNyZWF0ZUVsZW1lbnQobC5SYWRpbyx7aXNEaXNhYmxlZDpkLGlzQ2hlY2tlZDp2b2lkIDA9PT1vLG5hbWU6XCJzZXJ2aWNlLWFjY291bnRcIixvbkNoYW5nZTpmdW5jdGlvbigpe3JldHVybiB2KHZvaWQgMCl9LGxhYmVsOlwiQXV0b21hdGljYWxseSBjcmVhdGUgYSBTZXJ2aWNlIEFjY291bnQgZm9yIHRoaXMgY29ubmVjdG9yXCIsaWQ6XCJzZXJ2aWNlLWFjY291bnQtYXV0b21hdGljXCIsdmFsdWU6XCJhdXRvbWF0aWNcIn0pLG4uY3JlYXRlRWxlbWVudChsLlJhZGlvLHtpc0Rpc2FibGVkOmQsaXNDaGVja2VkOnZvaWQgMCE9PW8sbmFtZTpcInNlcnZpY2UtYWNjb3VudFwiLG9uQ2hhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIHYoe2NsaWVudElkOlwiXCIsY2xpZW50U2VjcmV0OlwiXCJ9KX0sbGFiZWw6XCJQcm92aWRlIHRoZSBjcmVkZW50aWFscyBtYW51YWxseVwiLGlkOlwic2VydmljZS1hY2NvdW50LXVzZXJcIix2YWx1ZTpcInVzZXJcIn0pLHZvaWQgMCE9PW8mJm4uY3JlYXRlRWxlbWVudChuLkZyYWdtZW50LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRm9ybUdyb3VwLHtsYWJlbDpcIkNsaWVudCBJRFwiLGlzUmVxdWlyZWQ6ITAsZmllbGRJZDpcImNsaWVudElkXCJ9LG4uY3JlYXRlRWxlbWVudChsLlRleHRJbnB1dCx7aXNEaXNhYmxlZDpkLHZhbHVlOm8uY2xpZW50SWQsb25DaGFuZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHYoZih7fSxvLHtjbGllbnRJZDplfSkpfSxpZDpcImNsaWVudElkXCJ9KSksbi5jcmVhdGVFbGVtZW50KGwuRm9ybUdyb3VwLHtsYWJlbDpcIkNsaWVudCBTZWNyZXRcIixpc1JlcXVpcmVkOiEwLGZpZWxkSWQ6XCJjbGllbnRTZWNyZXRcIn0sbi5jcmVhdGVFbGVtZW50KGwuVGV4dElucHV0LHtpc0Rpc2FibGVkOmQsdmFsdWU6by5jbGllbnRTZWNyZXQsb25DaGFuZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHYoZih7fSxvLHtjbGllbnRTZWNyZXQ6ZX0pKX0saWQ6XCJjbGllbnRTZWNyZXRcIn0pKSkpLG4uY3JlYXRlRWxlbWVudChsLkZvcm1Hcm91cCx7bGFiZWw6XCJDb25maWd1cmF0aW9uXCIsaXNSZXF1aXJlZDohMCxmaWVsZElkOlwiY29uZmlndXJhdGlvblwiLGhlbHBlclRleHQ6XCJQbGVhc2UgcmV2aWV3IHRoZSBjb25maWd1cmF0aW9uIGRhdGEuXCIsaGVscGVyVGV4dEludmFsaWQ6dSx2YWxpZGF0ZWQ6dm9pZCAwIT09dT9cImVycm9yXCI6dm9pZCAwIT09cz9cIndhcm5pbmdcIjpcImRlZmF1bHRcIn0sbi5jcmVhdGVFbGVtZW50KHAuQ29kZUVkaXRvcix7aWQ6XCJjb25maWd1cmF0aW9uXCIsaXNEYXJrVGhlbWU6ITEsaXNMaW5lTnVtYmVyc1Zpc2libGU6ITAsaXNSZWFkT25seTpkLGlzTWluaW1hcFZpc2libGU6ITEsaXNMYW5ndWFnZUxhYmVsVmlzaWJsZTohMCxjb2RlOmMsb25DaGFuZ2U6RSxsYW5ndWFnZTpwLkxhbmd1YWdlLmpzb24sb25FZGl0b3JEaWRNb3VudDpoLGhlaWdodDpcIjQwMHB4XCJ9KSxuLmNyZWF0ZUVsZW1lbnQobC5BbGVydEdyb3VwLG51bGwsbnVsbD09cz92b2lkIDA6cy5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLkFsZXJ0LHtrZXk6dCx0aXRsZTplLHZhcmlhbnQ6XCJ3YXJuaW5nXCIsaXNJbmxpbmU6ITB9KX0pKSkpKSl9dmFyIEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5lcnJvcjtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KFwiZGl2XCIse3JvbGU6XCJhbGVydFwifSxuLmNyZWF0ZUVsZW1lbnQoXCJwXCIsbnVsbCxcIlNvbWV0aGluZyB3ZW50IHdyb25nOlwiKSxuLmNyZWF0ZUVsZW1lbnQoXCJwcmVcIixudWxsLHQubWVzc2FnZSkpfSxGPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY2hpbGRyZW47cmV0dXJuIG4uY3JlYXRlRWxlbWVudChnLkVycm9yQm91bmRhcnkse0ZhbGxiYWNrQ29tcG9uZW50OkQscmVzZXRLZXlzOltEYXRlLm5vdygpXX0sdCl9O09iamVjdC5rZXlzKHIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe1wiZGVmYXVsdFwiIT09ZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsZSx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcltlXX19KX0pKSxleHBvcnRzLkNyZWF0aW9uV2l6YXJkPWZ1bmN0aW9uKGUpe3ZhciBpPWUub25DbG9zZSxvPW0udXNlVHJhbnNsYXRpb24oKS50LGw9ci51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlKCksYz1hLnVzZVNlcnZpY2UobCksdT1jWzBdLHM9Y1sxXSxkPWZ1bmN0aW9uKCl7dmFyIGU9ci51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlKCksaT1hLnVzZVNlbGVjdG9yKGUsdC51c2VDYWxsYmFjaygoZnVuY3Rpb24oZSl7cmV0dXJue2lzQWN0aXZlOmUubWF0Y2hlcyhcInNlbGVjdEthZmthXCIpLGNhbkp1bXBUbzpyLmNyZWF0aW9uV2l6YXJkTWFjaGluZS50cmFuc2l0aW9uKGUsXCJqdW1wVG9TZWxlY3RLYWZrYVwiKS5jaGFuZ2VkfHxlLm1hdGNoZXMoXCJzZWxlY3RLYWZrYVwiKSxlbmFibGVOZXh0OnIuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24oZSxcIm5leHRcIikuY2hhbmdlZH19KSxbZV0pKSxvPWkuY2FuSnVtcFRvLGw9aS5lbmFibGVOZXh0O3JldHVybntuYW1lOlwiU2VsZWN0IGthZmthIGluc3RhbmNlXCIsaXNBY3RpdmU6aS5pc0FjdGl2ZSxjb21wb25lbnQ6bi5jcmVhdGVFbGVtZW50KEYsbnVsbCxuLmNyZWF0ZUVsZW1lbnQoQyxudWxsKSksY2FuSnVtcFRvOm8sZW5hYmxlTmV4dDpsfX0oKSxwPWZ1bmN0aW9uKCl7dmFyIGU9ci51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlKCksaT1hLnVzZVNlbGVjdG9yKGUsdC51c2VDYWxsYmFjaygoZnVuY3Rpb24oZSl7cmV0dXJue2lzQWN0aXZlOmUubWF0Y2hlcyhcImNvbmZpZ3VyZUNvbm5lY3RvclwiKSxjYW5KdW1wVG86ci5jcmVhdGlvbldpemFyZE1hY2hpbmUudHJhbnNpdGlvbihlLFwianVtcFRvQ29uZmlndXJlQ29ubmVjdG9yXCIpLmNoYW5nZWR8fGUubWF0Y2hlcyhcImNvbmZpZ3VyZUNvbm5lY3RvclwiKSxlbmFibGVOZXh0OnIuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24oZSxcIm5leHRcIikuY2hhbmdlZCxzdGVwczplLmNvbnRleHQuY29uZmlndXJhdGlvblN0ZXBzLGFjdGl2ZVN0ZXA6ZS5jb250ZXh0LmFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwLGNhbkp1bXBUb1N0ZXA6ZnVuY3Rpb24odCl7cmV0dXJuIHIuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24oZSx7dHlwZTpcImp1bXBUb0NvbmZpZ3VyZUNvbm5lY3RvclwiLHN1YlN0ZXA6dH0pLmNoYW5nZWR9fX0pLFtlXSkpLG89aS5pc0FjdGl2ZSxsPWkuYWN0aXZlU3RlcCxjPWkuY2FuSnVtcFRvU3RlcCx1PWkuZW5hYmxlTmV4dCxzPWkuc3RlcHM7cmV0dXJue25hbWU6XCJDb25maWd1cmF0aW9uXCIsaXNBY3RpdmU6byxjYW5KdW1wVG86aS5jYW5KdW1wVG8sc3RlcHM6cz9zLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm57bmFtZTplLGlzQWN0aXZlOm8mJmw9PT10LGNhbkp1bXBUbzpjKHQpLGVuYWJsZU5leHQ6dSxjb21wb25lbnQ6bi5jcmVhdGVFbGVtZW50KEYsbnVsbCxuLmNyZWF0ZUVsZW1lbnQoeixudWxsKSl9fSkpOnZvaWQgMCxlbmFibGVOZXh0OnUsY29tcG9uZW50Om4uY3JlYXRlRWxlbWVudChGLG51bGwsbi5jcmVhdGVFbGVtZW50KHosbnVsbCkpfX0oKTtpZihcInNhdmVkXCI9PT11LnZhbHVlKXJldHVybiBudWxsO3ZhciBnPVt7bmFtZTpcIkNvbm5lY3RvclwiLGlzQWN0aXZlOnUubWF0Y2hlcyhcInNlbGVjdENvbm5lY3RvclwiKSxjb21wb25lbnQ6bi5jcmVhdGVFbGVtZW50KEYsbnVsbCxuLmNyZWF0ZUVsZW1lbnQoQixudWxsKSksY2FuSnVtcFRvOnIuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24odSxcImp1bXBUb1NlbGVjdENvbm5lY3RvclwiKS5jaGFuZ2VkfHx1Lm1hdGNoZXMoXCJzZWxlY3RDb25uZWN0b3JcIiksZW5hYmxlTmV4dDpyLmNyZWF0aW9uV2l6YXJkTWFjaGluZS50cmFuc2l0aW9uKHUsXCJuZXh0XCIpLmNoYW5nZWR9LGQse25hbWU6byhcInNlbGVjdE9jbUNsdXN0ZXJcIiksaXNBY3RpdmU6dS5tYXRjaGVzKFwic2VsZWN0Q2x1c3RlclwiKSxjb21wb25lbnQ6bi5jcmVhdGVFbGVtZW50KEYsbnVsbCxuLmNyZWF0ZUVsZW1lbnQoeCxudWxsKSksY2FuSnVtcFRvOnIuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24odSxcImp1bXBUb1NlbGVjdENsdXN0ZXJcIikuY2hhbmdlZHx8dS5tYXRjaGVzKFwic2VsZWN0Q2x1c3RlclwiKSxlbmFibGVOZXh0OnIuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24odSxcIm5leHRcIikuY2hhbmdlZH0scCx7bmFtZTpcIlJldmlld1wiLGlzQWN0aXZlOnUubWF0Y2hlcyhcInJldmlld0NvbmZpZ3VyYXRpb25cIiksY29tcG9uZW50Om4uY3JlYXRlRWxlbWVudChGLG51bGwsbi5jcmVhdGVFbGVtZW50KEEsbnVsbCkpLGNhbkp1bXBUbzpyLmNyZWF0aW9uV2l6YXJkTWFjaGluZS50cmFuc2l0aW9uKHUsXCJqdW1wVG9SZXZpZXdDb25maWd1cmF0aW9uXCIpLmNoYW5nZWR8fHUubWF0Y2hlcyhcInJldmlld0NvbmZpZ3VyYXRpb25cIiksZW5hYmxlTmV4dDpyLmNyZWF0aW9uV2l6YXJkTWFjaGluZS50cmFuc2l0aW9uKHUsXCJuZXh0XCIpLmNoYW5nZWQsbmV4dEJ1dHRvblRleHQ6XCJDcmVhdGUgY29ubmVjdG9yXCJ9XSxmPWgoZyksdj1mLnJlZHVjZVJpZ2h0KChmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQuaXNBY3RpdmUmJm4+ZT9uOmV9KSwtMSkrMTtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGIse2NsYXNzTmFtZTpcImNvc1wiLHN0ZXBzOmcsY3VycmVudFN0ZXA6dixvbk5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gcyhcIm5leHRcIil9LG9uQmFjazpmdW5jdGlvbigpe3JldHVybiBzKFwicHJldlwiKX0sb25DbG9zZTppLG9uU2F2ZTpmdW5jdGlvbigpe3JldHVybiExfSxnb1RvU3RlcDpmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSAxOnMoXCJqdW1wVG9TZWxlY3RDb25uZWN0b3JcIik7YnJlYWs7Y2FzZSAyOnMoXCJqdW1wVG9TZWxlY3RLYWZrYVwiKTticmVhaztjYXNlIDM6cyhcImp1bXBUb1NlbGVjdENsdXN0ZXJcIik7YnJlYWs7Y2FzZSBmLmxlbmd0aDpzKFwianVtcFRvUmV2aWV3Q29uZmlndXJhdGlvblwiKTticmVhaztkZWZhdWx0OmU8Zi5sZW5ndGgmJnMoe3R5cGU6XCJqdW1wVG9Db25maWd1cmVDb25uZWN0b3JcIixzdWJTdGVwOmUtNH0pfX0sZ29Ub1N0ZXBCeUlkOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGNvbnNvbGUubG9nKFwiZ29Ub1N0ZXBCeUlkXCIsdCl9LGdvVG9TdGVwQnlOYW1lOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGNvbnNvbGUubG9nKFwiZ29Ub1N0ZXBCeU5hbWVcIix0KX0saGFzTm9Cb2R5UGFkZGluZzohMH0pfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0aW9uLXdpemFyZC5janMucHJvZHVjdGlvbi5taW4uanMubWFwXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///81778\n')},70793:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\n\nif (true) {\n  module.exports = __webpack_require__(81778)\n} else {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2NyZWF0aW9uV2l6YXJkL2Rpc3QvaW5kZXguanM/MDNhMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ1k7O0FBRVosSUFBSSxJQUFxQztBQUN6QyxFQUFFLDJDQUFtRTtBQUNyRSxDQUFDLE1BQU0sRUFFTiIsImZpbGUiOiI3MDc5My5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuJ3VzZSBzdHJpY3QnXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jcmVhdGlvbi13aXphcmQuY2pzLnByb2R1Y3Rpb24ubWluLmpzJylcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jcmVhdGlvbi13aXphcmQuY2pzLmRldmVsb3BtZW50LmpzJylcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///70793\n")},25102:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"JsonSchemaConfigurator\": () => (/* binding */ JsonSchemaConfigurator),\n/* harmony export */   \"createValidator\": () => (/* binding */ createValidator)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(42403);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(53379);\n/* harmony import */ var uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var uniforms_bridge_json_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(25646);\n/* harmony import */ var uniforms_bridge_json_schema__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uniforms_bridge_json_schema__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var ajv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(77586);\n/* harmony import */ var ajv__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ajv__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var uniforms_es5__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(59267);\n/* harmony import */ var uniforms_es5__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(uniforms_es5__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\nvar ajv = /*#__PURE__*/new (ajv__WEBPACK_IMPORTED_MODULE_3___default())({\n  allErrors: true,\n  useDefaults: false,\n  strict: 'log',\n  strictSchema: false\n});\nfunction createValidator(schema) {\n  var validator = ajv.compile(schema);\n  return function (model) {\n    var _validator$errors;\n\n    validator(model);\n    return ((_validator$errors = validator.errors) == null ? void 0 : _validator$errors.length) ? {\n      details: validator.errors\n    } : null;\n  };\n}\nvar JsonSchemaConfigurator = function JsonSchemaConfigurator(_ref) {\n  var schema = _ref.schema,\n      configuration = _ref.configuration,\n      onChange = _ref.onChange;\n  schema.type = schema.type || 'object';\n  var schemaValidator = createValidator(schema);\n  var bridge = new uniforms_bridge_json_schema__WEBPACK_IMPORTED_MODULE_2__.JSONSchemaBridge(schema, schemaValidator);\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__.AutoForm, {\n    schema: bridge,\n    model: configuration,\n    autosave: true,\n    autosaveDelay: 0\n  }, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__.AutoFields, null), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__.ErrorsField, null), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(WizardNext, {\n    onChange: onChange\n  }));\n};\n\nvar WizardNext = function WizardNext(_ref2) {\n  var onChange = _ref2.onChange;\n\n  var _useForm = (0,uniforms_es5__WEBPACK_IMPORTED_MODULE_4__.useForm)(),\n      changed = _useForm.changed,\n      submitted = _useForm.submitted,\n      error = _useForm.error,\n      model = _useForm.model;\n\n  var isValid = !error;\n  var prevChangeModel = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (prevChangeModel.current !== model && changed && submitted) {\n      prevChangeModel.current = model;\n      onChange(isValid ? model : undefined, isValid);\n    }\n  }, [prevChangeModel, changed, submitted, isValid, model, onChange]);\n  return null;\n};\n\n\n//# sourceMappingURL=json-schema-configurator.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2pzb25TY2hlbWFDb25maWd1cmF0b3IvZGlzdC9qc29uLXNjaGVtYS1jb25maWd1cmF0b3IuZXNtLmpzPzZmMzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQWlEO0FBQ3VCO0FBQ1Q7QUFDekM7QUFDaUI7O0FBRXZDLDJCQUEyQiw0Q0FBRztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix5RUFBZ0I7QUFDbkMsU0FBUywwREFBbUIsQ0FBQyx5REFBUTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsRUFBRSwwREFBbUIsQ0FBQywyREFBVSxTQUFTLDBEQUFtQixDQUFDLDREQUFXLFNBQVMsMERBQW1CO0FBQ3ZHO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUEsaUJBQWlCLHFEQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLDZDQUFNO0FBQzlCLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVtRDtBQUNuRCIsImZpbGUiOiIyNTEwMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEF1dG9Gb3JtLCBBdXRvRmllbGRzLCBFcnJvcnNGaWVsZCB9IGZyb20gJ3VuaWZvcm1zLXBhdHRlcm5mbHknO1xuaW1wb3J0IHsgSlNPTlNjaGVtYUJyaWRnZSB9IGZyb20gJ3VuaWZvcm1zLWJyaWRnZS1qc29uLXNjaGVtYSc7XG5pbXBvcnQgQWp2IGZyb20gJ2Fqdic7XG5pbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSAndW5pZm9ybXMvZXM1JztcblxudmFyIGFqdiA9IC8qI19fUFVSRV9fKi9uZXcgQWp2KHtcbiAgYWxsRXJyb3JzOiB0cnVlLFxuICB1c2VEZWZhdWx0czogZmFsc2UsXG4gIHN0cmljdDogJ2xvZycsXG4gIHN0cmljdFNjaGVtYTogZmFsc2Vcbn0pO1xuZnVuY3Rpb24gY3JlYXRlVmFsaWRhdG9yKHNjaGVtYSkge1xuICB2YXIgdmFsaWRhdG9yID0gYWp2LmNvbXBpbGUoc2NoZW1hKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChtb2RlbCkge1xuICAgIHZhciBfdmFsaWRhdG9yJGVycm9ycztcblxuICAgIHZhbGlkYXRvcihtb2RlbCk7XG4gICAgcmV0dXJuICgoX3ZhbGlkYXRvciRlcnJvcnMgPSB2YWxpZGF0b3IuZXJyb3JzKSA9PSBudWxsID8gdm9pZCAwIDogX3ZhbGlkYXRvciRlcnJvcnMubGVuZ3RoKSA/IHtcbiAgICAgIGRldGFpbHM6IHZhbGlkYXRvci5lcnJvcnNcbiAgICB9IDogbnVsbDtcbiAgfTtcbn1cbnZhciBKc29uU2NoZW1hQ29uZmlndXJhdG9yID0gZnVuY3Rpb24gSnNvblNjaGVtYUNvbmZpZ3VyYXRvcihfcmVmKSB7XG4gIHZhciBzY2hlbWEgPSBfcmVmLnNjaGVtYSxcbiAgICAgIGNvbmZpZ3VyYXRpb24gPSBfcmVmLmNvbmZpZ3VyYXRpb24sXG4gICAgICBvbkNoYW5nZSA9IF9yZWYub25DaGFuZ2U7XG4gIHNjaGVtYS50eXBlID0gc2NoZW1hLnR5cGUgfHwgJ29iamVjdCc7XG4gIHZhciBzY2hlbWFWYWxpZGF0b3IgPSBjcmVhdGVWYWxpZGF0b3Ioc2NoZW1hKTtcbiAgdmFyIGJyaWRnZSA9IG5ldyBKU09OU2NoZW1hQnJpZGdlKHNjaGVtYSwgc2NoZW1hVmFsaWRhdG9yKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXV0b0Zvcm0sIHtcbiAgICBzY2hlbWE6IGJyaWRnZSxcbiAgICBtb2RlbDogY29uZmlndXJhdGlvbixcbiAgICBhdXRvc2F2ZTogdHJ1ZSxcbiAgICBhdXRvc2F2ZURlbGF5OiAwXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXV0b0ZpZWxkcywgbnVsbCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRXJyb3JzRmllbGQsIG51bGwpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFdpemFyZE5leHQsIHtcbiAgICBvbkNoYW5nZTogb25DaGFuZ2VcbiAgfSkpO1xufTtcblxudmFyIFdpemFyZE5leHQgPSBmdW5jdGlvbiBXaXphcmROZXh0KF9yZWYyKSB7XG4gIHZhciBvbkNoYW5nZSA9IF9yZWYyLm9uQ2hhbmdlO1xuXG4gIHZhciBfdXNlRm9ybSA9IHVzZUZvcm0oKSxcbiAgICAgIGNoYW5nZWQgPSBfdXNlRm9ybS5jaGFuZ2VkLFxuICAgICAgc3VibWl0dGVkID0gX3VzZUZvcm0uc3VibWl0dGVkLFxuICAgICAgZXJyb3IgPSBfdXNlRm9ybS5lcnJvcixcbiAgICAgIG1vZGVsID0gX3VzZUZvcm0ubW9kZWw7XG5cbiAgdmFyIGlzVmFsaWQgPSAhZXJyb3I7XG4gIHZhciBwcmV2Q2hhbmdlTW9kZWwgPSB1c2VSZWYoKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJldkNoYW5nZU1vZGVsLmN1cnJlbnQgIT09IG1vZGVsICYmIGNoYW5nZWQgJiYgc3VibWl0dGVkKSB7XG4gICAgICBwcmV2Q2hhbmdlTW9kZWwuY3VycmVudCA9IG1vZGVsO1xuICAgICAgb25DaGFuZ2UoaXNWYWxpZCA/IG1vZGVsIDogdW5kZWZpbmVkLCBpc1ZhbGlkKTtcbiAgICB9XG4gIH0sIFtwcmV2Q2hhbmdlTW9kZWwsIGNoYW5nZWQsIHN1Ym1pdHRlZCwgaXNWYWxpZCwgbW9kZWwsIG9uQ2hhbmdlXSk7XG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IHsgSnNvblNjaGVtYUNvbmZpZ3VyYXRvciwgY3JlYXRlVmFsaWRhdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qc29uLXNjaGVtYS1jb25maWd1cmF0b3IuZXNtLmpzLm1hcFxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///25102\n")},83255:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ConnectorsMachineProvider\": () => (/* binding */ ConnectorsMachineProvider),\n/* harmony export */   \"CreationWizardMachineProvider\": () => (/* binding */ CreationWizardMachineProvider),\n/* harmony export */   \"PAGINATED_MACHINE_ID\": () => (/* binding */ PAGINATED_MACHINE_ID),\n/* harmony export */   \"clustersMachine\": () => (/* binding */ clustersMachine),\n/* harmony export */   \"configuratorLoaderMachine\": () => (/* binding */ configuratorLoaderMachine),\n/* harmony export */   \"configuratorMachine\": () => (/* binding */ configuratorMachine),\n/* harmony export */   \"connectorMachine\": () => (/* binding */ connectorMachine),\n/* harmony export */   \"connectorTypesMachine\": () => (/* binding */ connectorTypesMachine),\n/* harmony export */   \"connectorsMachine\": () => (/* binding */ connectorsMachine),\n/* harmony export */   \"creationWizardMachine\": () => (/* binding */ creationWizardMachine),\n/* harmony export */   \"getPaginatedApiMachineEvents\": () => (/* binding */ getPaginatedApiMachineEvents),\n/* harmony export */   \"getPaginatedApiMachineEventsHandlers\": () => (/* binding */ getPaginatedApiMachineEventsHandlers),\n/* harmony export */   \"kafkasMachine\": () => (/* binding */ kafkasMachine),\n/* harmony export */   \"makeConnectorMachine\": () => (/* binding */ makeConnectorMachine),\n/* harmony export */   \"makeFetchMachine\": () => (/* binding */ makeFetchMachine),\n/* harmony export */   \"makePaginatedApiMachine\": () => (/* binding */ makePaginatedApiMachine),\n/* harmony export */   \"reviewMachine\": () => (/* binding */ reviewMachine),\n/* harmony export */   \"useClustersMachine\": () => (/* binding */ useClustersMachine),\n/* harmony export */   \"useClustersMachineIsReady\": () => (/* binding */ useClustersMachineIsReady),\n/* harmony export */   \"useConnector\": () => (/* binding */ useConnector),\n/* harmony export */   \"useConnectorsMachine\": () => (/* binding */ useConnectorsMachine),\n/* harmony export */   \"useConnectorsMachineIsReady\": () => (/* binding */ useConnectorsMachineIsReady),\n/* harmony export */   \"useConnectorsMachineService\": () => (/* binding */ useConnectorsMachineService),\n/* harmony export */   \"useCreationWizardMachineClustersActor\": () => (/* binding */ useCreationWizardMachineClustersActor),\n/* harmony export */   \"useCreationWizardMachineConnectorTypesActor\": () => (/* binding */ useCreationWizardMachineConnectorTypesActor),\n/* harmony export */   \"useCreationWizardMachineKafkasActor\": () => (/* binding */ useCreationWizardMachineKafkasActor),\n/* harmony export */   \"useCreationWizardMachineReviewActor\": () => (/* binding */ useCreationWizardMachineReviewActor),\n/* harmony export */   \"useCreationWizardMachineService\": () => (/* binding */ useCreationWizardMachineService),\n/* harmony export */   \"useKafkasMachine\": () => (/* binding */ useKafkasMachine),\n/* harmony export */   \"useKafkasMachineIsReady\": () => (/* binding */ useKafkasMachineIsReady),\n/* harmony export */   \"usePagination\": () => (/* binding */ usePagination),\n/* harmony export */   \"useReviewMachine\": () => (/* binding */ useReviewMachine)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(42403);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(77616);\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(xstate__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(25612);\n/* harmony import */ var xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(32292);\n/* harmony import */ var xstate_lib_model__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _xstate_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(35471);\n/* harmony import */ var _xstate_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_xstate_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(40107);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(22750);\n/* harmony import */ var _cos_ui_api__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_cos_ui_api__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _cos_ui_json_schema_configurator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(25102);\n\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar startConnector = function startConnector(_ref) {\n  var accessToken = _ref.accessToken,\n      basePath = _ref.basePath,\n      connector = _ref.connector;\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (callback) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    apisService.patchConnector(connector.id, {\n      desired_state: 'ready'\n    }, undefined, {\n      cancelToken: source.token,\n      headers: {\n        'Content-type': 'application/merge-patch+json'\n      }\n    }).then(function (response) {\n      callback({\n        type: 'connector.actionSuccess',\n        connector: response.data\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        callback({\n          type: 'connector.actionError',\n          error: error.response.data.reason\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\nvar stopConnector = function stopConnector(_ref2) {\n  var accessToken = _ref2.accessToken,\n      basePath = _ref2.basePath,\n      connector = _ref2.connector;\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (callback) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    apisService.patchConnector(connector.id, {\n      desired_state: 'stopped'\n    }, undefined, {\n      cancelToken: source.token,\n      headers: {\n        'Content-type': 'application/merge-patch+json'\n      }\n    }).then(function (response) {\n      callback({\n        type: 'connector.actionSuccess',\n        connector: response.data\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        callback({\n          type: 'connector.actionError',\n          error: error.response.data.reason\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\nvar deleteConnector = function deleteConnector(_ref3) {\n  var accessToken = _ref3.accessToken,\n      basePath = _ref3.basePath,\n      connector = _ref3.connector;\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (callback) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    apisService.deleteConnector(connector.id, undefined, {\n      cancelToken: source.token\n    }).then(function () {\n      callback({\n        type: 'connector.actionSuccess',\n        connector: _extends({}, connector, {\n          status: 'deleting',\n          desired_state: 'deleted'\n        })\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        callback({\n          type: 'connector.actionError',\n          error: error.response.data.reason\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\nvar fetchConnectors = function fetchConnectors(accessToken, basePath) {\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (request, onSuccess, onError) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    var page = request.page,\n        size = request.size; // const query = name.length > 0 ? `name LIKE ${name}` : undefined;\n\n    apisService.listConnectors(\"\" + page, \"\" + size, undefined, {\n      cancelToken: source.token\n    }).then(function (response) {\n      onSuccess({\n        items: response.data.items,\n        total: response.data.total,\n        page: response.data.page,\n        size: response.data.size\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        onError({\n          error: error.message,\n          page: request.page\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nvar connectorMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar connectorMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  accessToken: function accessToken() {\n    return Promise.resolve('');\n  },\n  basePath: '',\n  connector: {}\n}, {\n  events: {\n    'connector.start': function connectorStart() {\n      return {};\n    },\n    'connector.stop': function connectorStop() {\n      return {};\n    },\n    'connector.remove': function connectorRemove() {\n      return {};\n    },\n    'connector.select': function connectorSelect() {\n      return {};\n    },\n    'connector.actionSuccess': function connectorActionSuccess(payload) {\n      return payload;\n    },\n    'connector.actionError': function connectorActionError(payload) {\n      return payload;\n    }\n  }\n});\nvar connectorMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: connectorMachineSchema,\n  id: 'connector',\n  initial: 'verify',\n  context: connectorMachineModel.initialContext,\n  states: {\n    verify: {\n      always: [{\n        target: 'ready',\n        cond: 'isReady'\n      }, {\n        target: 'stopped',\n        cond: 'isStopped'\n      }, {\n        target: 'deleted',\n        cond: 'isDeleted'\n      }]\n    },\n    ready: {\n      on: {\n        'connector.stop': 'stoppingConnector',\n        'connector.remove': 'deletingConnector'\n      }\n    },\n    stopped: {\n      on: {\n        'connector.start': 'startingConnector',\n        'connector.remove': 'deletingConnector'\n      }\n    },\n    deleted: {},\n    startingConnector: {\n      invoke: {\n        id: 'startingConnectorCb',\n        src: function src(context) {\n          return startConnector({\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            connector: context.connector\n          });\n        }\n      },\n      on: {\n        'connector.actionSuccess': {\n          target: 'verify',\n          actions: ['updateState', 'notifySuccessToParent']\n        },\n        'connector.actionError': {\n          target: 'verify',\n          actions: 'notifyErrorToParent'\n        }\n      }\n    },\n    stoppingConnector: {\n      invoke: {\n        id: 'stoppingConnectorCb',\n        src: function src(context) {\n          return stopConnector({\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            connector: context.connector\n          });\n        }\n      },\n      on: {\n        'connector.actionSuccess': {\n          target: 'verify',\n          actions: ['updateState', 'notifySuccessToParent']\n        },\n        'connector.actionError': {\n          target: 'verify',\n          actions: 'notifyErrorToParent'\n        }\n      }\n    },\n    deletingConnector: {\n      invoke: {\n        id: 'deletingConnectorCb',\n        src: function src(context) {\n          return deleteConnector({\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            connector: context.connector\n          });\n        }\n      },\n      on: {\n        'connector.actionSuccess': {\n          target: 'deleted',\n          actions: ['updateState', 'notifySuccessToParent']\n        },\n        'connector.actionError': {\n          target: 'verify',\n          actions: 'notifyErrorToParent'\n        }\n      }\n    }\n  },\n  on: {\n    'connector.select': {\n      actions: 'notifySelectToParent'\n    }\n  }\n}, {\n  guards: {\n    isReady: function isReady(context) {\n      return context.connector.desired_state === 'ready';\n    },\n    isStopped: function isStopped(context) {\n      return context.connector.desired_state === 'stopped';\n    },\n    isDeleted: function isDeleted(context) {\n      return context.connector.desired_state === 'deleted';\n    }\n  },\n  actions: {\n    updateState: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'connector.actionSuccess') return {};\n      return {\n        connector: event.connector\n      };\n    }),\n    notifySuccessToParent: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)('actionSuccess'),\n    notifyErrorToParent: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)('actionFailure'),\n    notifySelectToParent: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (_ref) {\n      var connector = _ref.connector;\n      return {\n        type: 'selectConnector',\n        connector: connector\n      };\n    })\n  }\n});\nvar makeConnectorMachine = function makeConnectorMachine(context) {\n  return connectorMachine.withContext(context);\n};\nvar useConnector = function useConnector(ref) {\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(ref, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return {\n      connector: state.context.connector,\n      canStart: connectorMachine.transition(state, 'connector.start').changed === true,\n      canStop: connectorMachine.transition(state, 'connector.stop').changed === true,\n      canDelete: connectorMachine.transition(state, 'connector.remove').changed === true\n    };\n  }, [ref])),\n      connector = _useSelector.connector,\n      canStart = _useSelector.canStart,\n      canStop = _useSelector.canStop,\n      canDelete = _useSelector.canDelete;\n\n  var onStart = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    return ref.send({\n      type: 'connector.start'\n    });\n  }, [ref]);\n  var onStop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    return ref.send({\n      type: 'connector.stop'\n    });\n  }, [ref]);\n  var onDelete = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    return ref.send({\n      type: 'connector.remove'\n    });\n  }, [ref]);\n  var onSelect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    return ref.send({\n      type: 'connector.select'\n    });\n  }, [ref]);\n  return {\n    connector: connector,\n    canStart: canStart,\n    canStop: canStop,\n    canDelete: canDelete,\n    onStart: onStart,\n    onStop: onStop,\n    onDelete: onDelete,\n    onSelect: onSelect\n  };\n};\n\nfunction makeFetchMachine() {\n  var fetchMachineSchema = {\n    context: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n  };\n  var fetchMachineModel = (0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n    data: undefined,\n    error: undefined\n  });\n  return (0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n    schema: fetchMachineSchema,\n    id: 'fetchMachine',\n    context: {},\n    initial: 'loading',\n    states: {\n      loading: {\n        invoke: {\n          id: 'fetchService',\n          src: 'fetchService',\n          onDone: {\n            target: 'success',\n            actions: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n              return {\n                data: event.data\n              };\n            })\n          },\n          onError: {\n            target: 'failure',\n            actions: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n              error: function error(_context, event) {\n                return event.data;\n              }\n            })\n          }\n        }\n      },\n      failure: {\n        type: 'final'\n      },\n      success: {\n        type: 'final',\n        data: function data(_ref) {\n          var _data = _ref.data;\n          return _extends({}, _data);\n        }\n      }\n    }\n  });\n}\n\nvar paginatedApiMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar getPaginatedApiMachineEvents = function getPaginatedApiMachineEvents() {\n  return {\n    'api.refresh': function apiRefresh() {\n      return {};\n    },\n    'api.nextPage': function apiNextPage() {\n      return {};\n    },\n    'api.prevPage': function apiPrevPage() {\n      return {};\n    },\n    'api.query': function apiQuery(payload) {\n      return payload;\n    },\n    'api.setResponse': function apiSetResponse(payload) {\n      return payload;\n    },\n    'api.setError': function apiSetError(payload) {\n      return payload;\n    },\n    // notifyParent\n    'api.ready': function apiReady() {\n      return {};\n    },\n    'api.loading': function apiLoading(payload) {\n      return payload;\n    },\n    'api.success': function apiSuccess(payload) {\n      return payload;\n    },\n    'api.error': function apiError(payload) {\n      return payload;\n    }\n  };\n};\nvar getPaginatedApiMachineEventsHandlers = function getPaginatedApiMachineEventsHandlers(to) {\n  return {\n    'api.refresh': {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    },\n    'api.nextPage': {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    },\n    'api.prevPage': {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    },\n    'api.query': {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    }\n  };\n};\nfunction makePaginatedApiMachine(service, dataTransformer, options) {\n  var paginatedApiMachineModel = (0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n    request: {\n      page: 1,\n      size: 10\n    },\n    response: undefined,\n    pollingEnabled: (options == null ? void 0 : options.pollingEnabled) || false,\n    onBeforeSetResponse: options == null ? void 0 : options.onBeforeSetResponse,\n    dataTransformer: dataTransformer\n  }, {\n    events: _extends({}, getPaginatedApiMachineEvents())\n  });\n\n  var callApi = function callApi(context) {\n    return function (callback) {\n      return service(context.request, function (payload) {\n        return callback(paginatedApiMachineModel.events['api.setResponse'](payload));\n      }, function (payload) {\n        return callback(paginatedApiMachineModel.events['api.setError'](payload));\n      });\n    };\n  };\n\n  return (0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n    schema: paginatedApiMachineSchema,\n    id: 'paginatedApiMachine',\n    context: paginatedApiMachineModel.initialContext,\n    type: 'parallel',\n    states: {\n      api: {\n        initial: 'idle',\n        states: {\n          idle: {\n            entry: 'notifyReady',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              }\n            }\n          },\n          success: {\n            always: [{\n              target: 'queryEmpty',\n              cond: 'isQueryEmpty'\n            }, {\n              target: 'queryResults',\n              cond: 'isQuerySuccesful'\n            }, {\n              target: 'empty',\n              cond: 'isTotalZero'\n            }, {\n              target: 'results'\n            }]\n          },\n          queryEmpty: {\n            tags: 'queryEmpty',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.prevPage': {\n                target: 'loading',\n                actions: 'decreasePage',\n                cond: 'isNotFirstPage'\n              },\n              'api.refresh': {\n                target: 'loading',\n                actions: 'fetch'\n              }\n            }\n          },\n          queryResults: {\n            tags: 'queryResults',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.nextPage': {\n                target: 'loading',\n                actions: 'increasePage',\n                cond: 'isNotLastPage'\n              },\n              'api.prevPage': {\n                target: 'loading',\n                actions: 'decreasePage',\n                cond: 'isNotFirstPage'\n              },\n              'api.refresh': {\n                target: 'loading'\n              }\n            }\n          },\n          empty: {\n            tags: 'empty',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.refresh': {\n                target: 'loading'\n              }\n            }\n          },\n          results: {\n            tags: 'results',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.nextPage': {\n                target: 'loading',\n                actions: 'increasePage',\n                cond: 'isNotLastPage'\n              },\n              'api.prevPage': {\n                target: 'loading',\n                actions: 'decreasePage',\n                cond: 'isNotFirstPage'\n              },\n              'api.refresh': {\n                target: 'loading'\n              }\n            }\n          },\n          error: {\n            tags: 'error',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.refresh': {\n                target: 'loading'\n              },\n              'api.prevPage': {\n                target: 'loading',\n                actions: 'decreasePage',\n                cond: 'isNotFirstPage'\n              }\n            }\n          },\n          loading: {\n            tags: ['loading'],\n            entry: ['notifyLoading', 'fetch'],\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.setResponse': {\n                target: 'success',\n                actions: ['setResponse', 'notifySuccess']\n              },\n              'api.setError': {\n                target: 'error',\n                actions: ['setError', 'notifyError']\n              }\n            }\n          }\n        },\n        on: {\n          '*': {\n            actions: 'forwardUnknownEventsToParent'\n          }\n        }\n      },\n      polling: {\n        entry: 'fetch',\n        on: {\n          'api.setResponse': {\n            actions: 'setResponse'\n          }\n        },\n        after: {\n          INTERVAL: {\n            cond: 'isPollingEnabled',\n            target: 'polling'\n          }\n        }\n      }\n    }\n  }, {\n    delays: {\n      INTERVAL: 5000\n    },\n    actions: {\n      fetch: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n        if (context.actor && context.actor.stop) {\n          context.actor.stop();\n        }\n\n        var actor = (0,xstate__WEBPACK_IMPORTED_MODULE_1__.spawn)(callApi(context));\n        return {\n          actor: actor\n        };\n      }),\n      setResponse: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context, e) {\n        if (e.type !== 'api.setResponse' || e.page !== context.request.page) return {};\n\n        if (context.onBeforeSetResponse) {\n          var _context$response;\n\n          context.onBeforeSetResponse((_context$response = context.response) == null ? void 0 : _context$response.items);\n        }\n\n        return {\n          response: {\n            items: e.items.map(function (i) {\n              return context.dataTransformer(i);\n            }),\n            total: e.total,\n            error: undefined\n          }\n        };\n      }),\n      setError: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context, e) {\n        var _context$response2, _context$response3;\n\n        if (e.type !== 'api.setError' || e.page !== context.request.page) return {};\n        return {\n          response: {\n            items: ((_context$response2 = context.response) == null ? void 0 : _context$response2.items) || [],\n            total: ((_context$response3 = context.response) == null ? void 0 : _context$response3.total) || 0,\n            error: e.error\n          }\n        };\n      }),\n      increasePage: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n        return {\n          request: _extends({}, context.request, {\n            page: context.request.page + 1\n          })\n        };\n      }),\n      decreasePage: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n        return {\n          request: _extends({}, context.request, {\n            page: context.request.page - 1\n          })\n        };\n      }),\n      query: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context, event) {\n        if (event.type !== 'api.query') return {};\n        var page = event.page,\n            size = event.size,\n            query = event.query;\n        return {\n          request: {\n            page: page || context.request.page,\n            size: size || context.request.size,\n            query: query\n          }\n        };\n      }),\n      notifyReady: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)({\n        type: 'api.ready'\n      }),\n      notifySuccess: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (context) {\n        return _extends({\n          type: 'api.success'\n        }, context.response);\n      }),\n      notifyError: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (context) {\n        var _context$response4;\n\n        return {\n          type: 'api.error',\n          error: (_context$response4 = context.response) == null ? void 0 : _context$response4.error\n        };\n      }),\n      notifyLoading: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (context) {\n        return _extends({\n          type: 'api.loading'\n        }, context.request);\n      }),\n      forwardUnknownEventsToParent: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.pure)(function (_context, event) {\n        if (Object.keys(paginatedApiMachineModel.events).includes(event.type) === false) {\n          return (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (_context, _event, meta) {\n            return meta._event.data;\n          });\n        }\n\n        return [];\n      })\n    },\n    guards: {\n      isNotFirstPage: function isNotFirstPage(context) {\n        return context.response !== undefined && context.request.page > 1;\n      },\n      isNotLastPage: function isNotLastPage(context) {\n        return context.response !== undefined && context.request.size > 0 && context.request.page < Math.ceil(context.response.total / context.request.size);\n      },\n      isTotalZero: function isTotalZero(context) {\n        var _context$response5;\n\n        return ((_context$response5 = context.response) == null ? void 0 : _context$response5.total) === 0;\n      },\n      isQuerySuccesful: function isQuerySuccesful(context) {\n        var _context$response6;\n\n        return context.request.query !== undefined && context.response !== undefined && ((_context$response6 = context.response) == null ? void 0 : _context$response6.total) > 0;\n      },\n      isQueryEmpty: function isQueryEmpty(context) {\n        var _context$response7;\n\n        return context.request.query !== undefined && context.response !== undefined && ((_context$response7 = context.response) == null ? void 0 : _context$response7.total) === 0;\n      },\n      isPollingEnabled: function isPollingEnabled(context) {\n        return context.pollingEnabled;\n      }\n    }\n  });\n} // https://stackoverflow.com/questions/50321419/typescript-returntype-of-generic-function/64919133#64919133\n\nvar usePagination = function usePagination(actor) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return {\n      request: state.context.request,\n      response: state.context.response,\n      loading: state.hasTag('loading'),\n      queryEmpty: state.hasTag('queryEmpty'),\n      queryResults: state.hasTag('queryResults'),\n      noResults: state.hasTag('empty'),\n      results: state.hasTag('results'),\n      error: state.hasTag('error'),\n      firstRequest: state.context.response === undefined\n    };\n  }, [actor]));\n};\n\nvar PAGINATED_MACHINE_ID = 'paginatedApi';\nvar connectorsMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar connectorsMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  accessToken: function accessToken() {\n    return Promise.resolve('');\n  },\n  basePath: '',\n  selectedConnector: undefined\n}, {\n  events: /*#__PURE__*/_extends({}, /*#__PURE__*/getPaginatedApiMachineEvents(), {\n    actionSuccess: function actionSuccess() {\n      return {};\n    },\n    actionFailure: function actionFailure() {\n      return {};\n    },\n    selectConnector: function selectConnector(payload) {\n      return payload;\n    },\n    deselectConnector: function deselectConnector() {\n      return {};\n    }\n  })\n});\nvar connectorsMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: connectorsMachineSchema,\n  id: 'connectors',\n  initial: 'root',\n  context: connectorsMachineModel.initialContext,\n  states: {\n    root: {\n      type: 'parallel',\n      states: {\n        api: {\n          initial: 'idle',\n          invoke: {\n            id: PAGINATED_MACHINE_ID,\n            src: function src(context) {\n              return makePaginatedApiMachine(fetchConnectors(context.accessToken, context.basePath), function (connector) {\n                return (0,xstate__WEBPACK_IMPORTED_MODULE_1__.spawn)(makeConnectorMachine({\n                  accessToken: context.accessToken,\n                  basePath: context.basePath,\n                  connector: connector\n                }), \"connector-\" + connector.id);\n              }, {\n                pollingEnabled: true,\n                onBeforeSetResponse: function onBeforeSetResponse(data) {\n                  if (data) {\n                    data.forEach(function (d) {\n                      if (d && d.stop) {\n                        d.stop();\n                      }\n                    });\n                  }\n                }\n              });\n            }\n          },\n          states: {\n            idle: {\n              on: {\n                'api.ready': 'ready'\n              }\n            },\n            ready: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('api.query', {\n                to: PAGINATED_MACHINE_ID\n              })\n            }\n          },\n          on: /*#__PURE__*/_extends({}, /*#__PURE__*/getPaginatedApiMachineEventsHandlers(PAGINATED_MACHINE_ID), {\n            'api.error': {\n              actions: 'notifyError'\n            },\n            actionSuccess: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('api.query', {\n                to: PAGINATED_MACHINE_ID\n              })\n            },\n            actionFailure: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('api.query', {\n                to: PAGINATED_MACHINE_ID\n              })\n            },\n            selectConnector: {\n              actions: 'setSelectedConnector'\n            },\n            deselectConnector: {\n              actions: 'unsetSelectedConnector'\n            }\n          })\n        },\n        listing: {}\n      }\n    }\n  }\n}, {\n  actions: {\n    setSelectedConnector: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'selectConnector') return {};\n      return {\n        selectedConnector: event.connector\n      };\n    }),\n    unsetSelectedConnector: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'deselectConnector') return {};\n      return {\n        selectedConnector: undefined\n      };\n    }),\n    notifyError: function notifyError(context, event) {\n      console.log(context, event);\n\n      if (event.type === 'api.error' && context.onError) {\n        context.onError(event.error);\n      }\n    }\n  }\n});\nvar useConnectorsMachine = function useConnectorsMachine(service) {\n  var apiData = usePagination(service.state.children[PAGINATED_MACHINE_ID]);\n\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return {\n      selectedConnector: state.context.selectedConnector\n    };\n  }, [service])),\n      selectedConnector = _useSelector.selectedConnector;\n\n  var deselectConnector = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    service.send({\n      type: 'deselectConnector'\n    });\n  }, [service]);\n  return _extends({}, apiData, {\n    selectedConnector: selectedConnector,\n    deselectConnector: deselectConnector\n  });\n};\n\nvar ConnectorsMachineServiceContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar ConnectorsMachineProvider = function ConnectorsMachineProvider(_ref) {\n  var children = _ref.children,\n      accessToken = _ref.accessToken,\n      basePath = _ref.basePath,\n      onError = _ref.onError;\n  var service = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useInterpret)(connectorsMachine, {\n    context: {\n      accessToken: accessToken,\n      basePath: basePath,\n      onError: onError\n    },\n    devTools: true\n  });\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ConnectorsMachineServiceContext.Provider, {\n    value: service\n  }, children);\n};\nvar useConnectorsMachineService = function useConnectorsMachineService() {\n  var service = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ConnectorsMachineServiceContext);\n\n  if (!service) {\n    throw new Error(\"useConnectorsMachineService() must be used in a child of <ConnectorsMachineProvider>\");\n  }\n\n  return service;\n};\nvar useConnectorsMachineIsReady = function useConnectorsMachineIsReady(service) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.matches({\n      root: {\n        api: 'ready'\n      }\n    });\n  }, [service]));\n};\n\nvar PAGINATED_MACHINE_ID$1 = 'paginatedApi';\n\nvar fetchClusters = function fetchClusters(accessToken, basePath) {\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorClustersApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (request, onSuccess, onError) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    var page = request.page,\n        size = request.size;\n    apisService.listConnectorClusters(\"\" + page, \"\" + size, {\n      cancelToken: source.token\n    }).then(function (response) {\n      onSuccess({\n        items: response.data.items,\n        total: response.data.total,\n        page: response.data.page,\n        size: response.data.size\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        onError({\n          error: error.message,\n          page: request.page\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nvar clustersMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar clustersMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  accessToken: function accessToken() {\n    return Promise.resolve('');\n  },\n  basePath: '',\n  clusters: undefined,\n  selectedCluster: undefined,\n  error: undefined\n}, {\n  events: /*#__PURE__*/_extends({\n    selectCluster: function selectCluster(payload) {\n      return _extends({}, payload);\n    },\n    deselectCluster: function deselectCluster() {\n      return {};\n    },\n    confirm: function confirm() {\n      return {};\n    }\n  }, /*#__PURE__*/getPaginatedApiMachineEvents())\n});\nvar clustersMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: clustersMachineSchema,\n  id: 'clusters',\n  initial: 'root',\n  context: clustersMachineModel.initialContext,\n  states: {\n    root: {\n      type: 'parallel',\n      states: {\n        api: {\n          initial: 'idle',\n          invoke: {\n            id: PAGINATED_MACHINE_ID$1,\n            src: function src(context) {\n              return makePaginatedApiMachine(fetchClusters(context.accessToken, context.basePath), function (i) {\n                return i;\n              });\n            }\n          },\n          states: {\n            idle: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('api.query', {\n                to: PAGINATED_MACHINE_ID$1\n              }),\n              on: {\n                'api.ready': 'ready'\n              }\n            },\n            ready: {}\n          },\n          on: /*#__PURE__*/_extends({}, /*#__PURE__*/getPaginatedApiMachineEventsHandlers(PAGINATED_MACHINE_ID$1), {\n            'api.success': {\n              actions: 'success'\n            }\n          })\n        },\n        selection: {\n          id: 'selection',\n          initial: 'verify',\n          states: {\n            verify: {\n              always: [{\n                target: 'selecting',\n                cond: 'noClusterSelected'\n              }, {\n                target: 'valid',\n                cond: 'clusterSelected'\n              }]\n            },\n            selecting: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isInvalid'),\n              on: {\n                selectCluster: {\n                  target: 'valid',\n                  actions: 'selectCluster'\n                }\n              }\n            },\n            valid: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isValid'),\n              on: {\n                selectCluster: {\n                  target: 'verify',\n                  actions: 'selectCluster',\n                  cond: function cond(_, event) {\n                    return event.selectedCluster !== undefined;\n                  }\n                },\n                deselectCluster: {\n                  target: 'verify',\n                  actions: 'reset'\n                },\n                confirm: {\n                  target: '#done',\n                  cond: 'clusterSelected'\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    done: {\n      id: 'done',\n      type: 'final',\n      data: {\n        selectedCluster: function selectedCluster(context) {\n          return context.selectedCluster;\n        }\n      }\n    }\n  }\n}, {\n  actions: {\n    success: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'api.success') return {};\n\n      var response = _objectWithoutPropertiesLoose(event, [\"type\"]);\n\n      return {\n        response: response\n      };\n    }),\n    selectCluster: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedCluster: function selectedCluster(context, event) {\n        if (event.type === 'selectCluster') {\n          var _context$response, _context$response$ite;\n\n          return (_context$response = context.response) == null ? void 0 : (_context$response$ite = _context$response.items) == null ? void 0 : _context$response$ite.find(function (i) {\n            return i.id === event.selectedCluster;\n          });\n        }\n\n        return context.selectedCluster;\n      }\n    }),\n    reset: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedCluster: function selectedCluster(context, event) {\n        return event.type === 'deselectCluster' ? undefined : context.selectedCluster;\n      }\n    })\n  },\n  guards: {\n    clusterSelected: function clusterSelected(context) {\n      return context.selectedCluster !== undefined;\n    },\n    noClusterSelected: function noClusterSelected(context) {\n      return context.selectedCluster === undefined;\n    }\n  }\n});\nvar useClustersMachineIsReady = function useClustersMachineIsReady(actor) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.matches({\n      root: {\n        api: 'ready'\n      }\n    });\n  }, [actor]));\n};\nvar useClustersMachine = function useClustersMachine(actor) {\n  var api = usePagination(actor.state.children[PAGINATED_MACHINE_ID$1]);\n\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    var _state$context$select;\n\n    return {\n      selectedId: (_state$context$select = state.context.selectedCluster) == null ? void 0 : _state$context$select.id\n    };\n  }, [actor])),\n      selectedId = _useSelector.selectedId;\n\n  var onSelect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (selectedCluster) {\n    actor.send({\n      type: 'selectCluster',\n      selectedCluster: selectedCluster\n    });\n  }, [actor]);\n  var onQuery = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (request) {\n    actor.send(_extends({\n      type: 'api.query'\n    }, request));\n  }, [actor]);\n  return _extends({}, api, {\n    selectedId: selectedId,\n    onSelect: onSelect,\n    onQuery: onQuery\n  });\n};\n\nvar configuratorLoaderMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar configuratorLoaderMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: configuratorLoaderMachineSchema,\n  id: 'configurator',\n  initial: 'loading',\n  states: {\n    loading: {\n      invoke: {\n        id: 'fetchConfigurator',\n        src: 'fetchConfigurator',\n        onDone: {\n          target: 'success',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n            return event.data;\n          })\n        },\n        onError: {\n          target: 'failure',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            error: function error(_context, event) {\n              return event.data;\n            }\n          })\n        }\n      }\n    },\n    failure: {\n      entry: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.escalate)(function (context) {\n        return {\n          message: context.error\n        };\n      })\n    },\n    success: {\n      type: 'final',\n      data: function data(_ref) {\n        var Configurator = _ref.Configurator,\n            steps = _ref.steps;\n        return {\n          Configurator: Configurator,\n          steps: steps\n        };\n      }\n    }\n  }\n});\n\nvar configuratorMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar configuratorMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: configuratorMachineSchema,\n  id: 'configurator',\n  initial: 'configuring',\n  context: {\n    connector: {\n      id: 'something',\n      name: 'something',\n      version: '0.1',\n      json_schema: {}\n    },\n    steps: ['one', 'two', 'three'],\n    activeStep: 0,\n    isActiveStepValid: false,\n    configuration: undefined\n  },\n  states: {\n    configuring: {\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isInvalid'),\n      always: [{\n        target: 'valid',\n        cond: 'activeStepValid'\n      }]\n    },\n    valid: {\n      id: 'valid',\n      initial: 'determineStep',\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isValid'),\n      states: {\n        determineStep: {\n          always: [{\n            target: '#valid.lastStep',\n            cond: 'isLastStep'\n          }, {\n            target: '#valid.hasNextStep'\n          }]\n        },\n        hasNextStep: {\n          on: {\n            next: {\n              target: '#configurator.configuring',\n              actions: ['nextStep', 'changedStep']\n            }\n          }\n        },\n        lastStep: {\n          on: {\n            next: '#configurator.configured'\n          }\n        }\n      }\n    },\n    configured: {\n      type: 'final',\n      data: function data(_ref2) {\n        var configuration = _ref2.configuration;\n        return {\n          configuration: configuration\n        };\n      }\n    }\n  },\n  on: {\n    change: {\n      target: 'configuring',\n      actions: 'change'\n    },\n    prev: {\n      target: 'configuring',\n      actions: ['prevStep', 'changedStep']\n    }\n  }\n}, {\n  actions: {\n    nextStep: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n      return {\n        activeStep: Math.min(context.activeStep + 1, context.steps.length - 1),\n        isActiveStepValid: false\n      };\n    }),\n    prevStep: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n      return {\n        activeStep: Math.max(context.activeStep - 1, 0),\n        isActiveStepValid: false\n      };\n    }),\n    change: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      return event.type === 'change' ? {\n        configuration: event.configuration,\n        isActiveStepValid: event.isValid\n      } : {};\n    }),\n    changedStep: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)(function (context) {\n      return {\n        type: 'changedStep',\n        step: context.activeStep\n      };\n    })\n  },\n  guards: {\n    isLastStep: function isLastStep(context) {\n      return context.activeStep === context.steps.length - 1;\n    },\n    activeStepValid: function activeStepValid(context) {\n      return context.isActiveStepValid;\n    }\n  }\n});\n\nvar fetchConnectorTypes = function fetchConnectorTypes(accessToken, basePath) {\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorTypesApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return apisService.listConnectorTypes();\n};\n\nvar connectorTypesMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar connectorTypesMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: connectorTypesMachineSchema,\n  id: 'connectors',\n  initial: 'loading',\n  states: {\n    loading: {\n      invoke: {\n        id: 'fetchConnectors',\n        src: function src(context) {\n          return fetchConnectorTypes(context.accessToken, context.basePath);\n        },\n        onDone: {\n          target: 'verify',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            connectors: function connectors(_context, event) {\n              return event.data.data;\n            }\n          })\n        },\n        onError: {\n          target: 'failure',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            error: function error(_context, event) {\n              return event.data;\n            }\n          })\n        }\n      }\n    },\n    failure: {\n      entry: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.escalate)(function (context) {\n        return {\n          message: context.error\n        };\n      })\n    },\n    verify: {\n      always: [{\n        target: 'selecting',\n        cond: 'noConnectorSelected'\n      }, {\n        target: 'valid',\n        cond: 'connectorSelected'\n      }]\n    },\n    selecting: {\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isInvalid'),\n      on: {\n        selectConnector: {\n          target: 'valid',\n          actions: 'selectConnector',\n          cond: function cond(_, event) {\n            return event.selectedConnector !== undefined;\n          }\n        }\n      }\n    },\n    valid: {\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isValid'),\n      on: {\n        selectConnector: {\n          target: 'verify',\n          actions: 'selectConnector'\n        },\n        deselectConnector: {\n          target: 'verify',\n          actions: 'reset'\n        },\n        confirm: {\n          target: 'done',\n          cond: 'connectorSelected'\n        }\n      }\n    },\n    done: {\n      type: 'final',\n      data: {\n        selectedConnector: function selectedConnector(context) {\n          return context.selectedConnector;\n        }\n      }\n    }\n  }\n}, {\n  actions: {\n    selectConnector: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedConnector: function selectedConnector(context, event) {\n        if (event.type === 'selectConnector') {\n          var _context$connectors, _context$connectors$i;\n\n          return (_context$connectors = context.connectors) == null ? void 0 : (_context$connectors$i = _context$connectors.items) == null ? void 0 : _context$connectors$i.find(function (i) {\n            return i.id === event.selectedConnector;\n          });\n        }\n\n        return context.selectedConnector;\n      }\n    }),\n    reset: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedConnector: function selectedConnector(context, event) {\n        return event.type === 'deselectConnector' ? undefined : context.selectedConnector;\n      }\n    })\n  },\n  guards: {\n    connectorSelected: function connectorSelected(context) {\n      return context.selectedConnector !== undefined;\n    },\n    noConnectorSelected: function noConnectorSelected(context) {\n      return context.selectedConnector === undefined;\n    }\n  }\n});\n\nvar PAGINATED_MACHINE_ID$2 = 'paginatedApi';\n\nvar fetchKafkaInstances = function fetchKafkaInstances(accessToken, basePath) {\n  // TODO: remove after demo\n  basePath = 'https://api.openshift.com';\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.DefaultApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (request, onSuccess, onError) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    var page = request.page,\n        size = request.size,\n        query = request.query;\n\n    var _ref = query || {},\n        name = _ref.name,\n        statuses = _ref.statuses;\n\n    var nameSearch = name && name.length > 0 ? \" name LIKE \" + name : undefined;\n    var statusSearch = statuses && statuses.length > 0 ? statuses.map(function (s) {\n      return \"status = \" + s;\n    }).join(' OR ') : undefined;\n    var search = [nameSearch, statusSearch].filter(Boolean).join(' AND ');\n    apisService.getKafkas(\"\" + page, \"\" + size, undefined, search, {\n      cancelToken: source.token\n    }).then(function (response) {\n      onSuccess({\n        items: response.data.items,\n        total: response.data.total,\n        page: response.data.page,\n        size: response.data.size\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        onError({\n          error: error.message,\n          page: request.page\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nvar kafkasMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar kafkasMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  accessToken: function accessToken() {\n    return Promise.resolve('');\n  },\n  basePath: '',\n  instances: undefined,\n  selectedInstance: undefined,\n  error: undefined\n}, {\n  events: /*#__PURE__*/_extends({\n    selectInstance: function selectInstance(payload) {\n      return _extends({}, payload);\n    },\n    deselectInstance: function deselectInstance() {\n      return {};\n    },\n    confirm: function confirm() {\n      return {};\n    }\n  }, /*#__PURE__*/getPaginatedApiMachineEvents())\n});\nvar kafkasMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: kafkasMachineSchema,\n  id: 'kafkas',\n  initial: 'root',\n  context: kafkasMachineModel.initialContext,\n  states: {\n    root: {\n      type: 'parallel',\n      states: {\n        api: {\n          initial: 'idle',\n          invoke: {\n            id: PAGINATED_MACHINE_ID$2,\n            src: function src(context) {\n              return makePaginatedApiMachine(fetchKafkaInstances(context.accessToken, context.basePath), function (i) {\n                return i;\n              });\n            }\n          },\n          states: {\n            idle: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('api.query', {\n                to: PAGINATED_MACHINE_ID$2\n              }),\n              on: {\n                'api.ready': 'ready'\n              }\n            },\n            ready: {}\n          },\n          on: /*#__PURE__*/_extends({}, /*#__PURE__*/getPaginatedApiMachineEventsHandlers(PAGINATED_MACHINE_ID$2), {\n            'api.success': {\n              actions: 'success'\n            }\n          })\n        },\n        selection: {\n          id: 'selection',\n          initial: 'verify',\n          states: {\n            verify: {\n              always: [{\n                target: 'selecting',\n                cond: 'noInstanceSelected'\n              }, {\n                target: 'valid',\n                cond: 'instanceSelected'\n              }]\n            },\n            selecting: {\n              entry: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)('isInvalid'),\n              on: {\n                selectInstance: {\n                  target: 'valid',\n                  actions: 'selectInstance'\n                }\n              }\n            },\n            valid: {\n              entry: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)('isValid'),\n              on: {\n                selectInstance: {\n                  target: 'verify',\n                  actions: 'selectInstance',\n                  cond: function cond(_, event) {\n                    return event.selectedInstance !== undefined;\n                  }\n                },\n                deselectInstance: {\n                  target: 'verify',\n                  actions: 'reset'\n                },\n                confirm: {\n                  target: '#done',\n                  cond: 'instanceSelected'\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    done: {\n      id: 'done',\n      type: 'final',\n      data: {\n        selectedInstance: function selectedInstance(context) {\n          return context.selectedInstance;\n        }\n      }\n    }\n  }\n}, {\n  actions: {\n    success: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'api.success') return {};\n\n      var response = _objectWithoutPropertiesLoose(event, [\"type\"]);\n\n      return {\n        response: response\n      };\n    }),\n    selectInstance: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedInstance: function selectedInstance(context, event) {\n        if (event.type === 'selectInstance') {\n          var _context$response, _context$response$ite;\n\n          return (_context$response = context.response) == null ? void 0 : (_context$response$ite = _context$response.items) == null ? void 0 : _context$response$ite.find(function (i) {\n            return i.id === event.selectedInstance;\n          });\n        }\n\n        return context.selectedInstance;\n      }\n    }),\n    reset: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedInstance: function selectedInstance(context, event) {\n        return event.type === 'deselectInstance' ? undefined : context.selectedInstance;\n      }\n    })\n  },\n  guards: {\n    instanceSelected: function instanceSelected(context) {\n      return context.selectedInstance !== undefined;\n    },\n    noInstanceSelected: function noInstanceSelected(context) {\n      return context.selectedInstance === undefined;\n    }\n  }\n});\nvar useKafkasMachineIsReady = function useKafkasMachineIsReady(actor) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.matches({\n      root: {\n        api: 'ready'\n      }\n    });\n  }, [actor]));\n};\nvar useKafkasMachine = function useKafkasMachine(actor) {\n  var api = usePagination(actor.state.children[PAGINATED_MACHINE_ID$2]);\n\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    var _state$context$select;\n\n    return {\n      selectedId: (_state$context$select = state.context.selectedInstance) == null ? void 0 : _state$context$select.id\n    };\n  }, [actor])),\n      selectedId = _useSelector.selectedId;\n\n  var onSelect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (selectedInstance) {\n    actor.send({\n      type: 'selectInstance',\n      selectedInstance: selectedInstance\n    });\n  }, [actor]);\n  var onQuery = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (request) {\n    actor.send(_extends({\n      type: 'api.query'\n    }, request));\n  }, [actor]);\n  return _extends({}, api, {\n    selectedId: selectedId,\n    onSelect: onSelect,\n    onQuery: onQuery\n  });\n};\n\nvar saveConnector = function saveConnector(_ref) {\n  var accessToken = _ref.accessToken,\n      basePath = _ref.basePath,\n      kafka = _ref.kafka,\n      cluster = _ref.cluster,\n      connectorType = _ref.connectorType,\n      configuration = _ref.configuration,\n      name = _ref.name,\n      userServiceAccount = _ref.userServiceAccount;\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (callback) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    var async = true;\n    var connector = {\n      kind: 'Connector',\n      metadata: {\n        name: name,\n        kafka_id: kafka.id\n      },\n      deployment_location: {\n        kind: 'addon',\n        cluster_id: cluster.id\n      },\n      connector_type_id: connectorType.id,\n      kafka: {\n        bootstrap_server: kafka.bootstrap_server_host || 'demo',\n        client_id: userServiceAccount == null ? void 0 : userServiceAccount.clientId,\n        client_secret: userServiceAccount == null ? void 0 : userServiceAccount.clientSecret\n      },\n      connector_spec: configuration\n    };\n    apisService.createConnector(async, connector, {\n      cancelToken: source.token\n    }).then(function () {\n      callback({\n        type: 'success'\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        callback({\n          type: 'failure',\n          message: error.response.data.reason\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nvar reviewMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar reviewMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  initialConfiguration: undefined,\n  configString: '',\n  name: '',\n  validator: /*#__PURE__*/(0,_cos_ui_json_schema_configurator__WEBPACK_IMPORTED_MODULE_5__.createValidator)({})\n}, {\n  events: {\n    setName: function setName(payload) {\n      return payload;\n    },\n    setServiceAccount: function setServiceAccount(payload) {\n      return payload;\n    },\n    updateConfiguration: function updateConfiguration(payload) {\n      return payload;\n    },\n    save: function save() {\n      return {};\n    },\n    success: function success() {\n      return {};\n    },\n    failure: function failure(payload) {\n      return payload;\n    }\n  }\n});\nvar reviewMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: reviewMachineSchema,\n  id: 'review',\n  initial: 'verify',\n  context: reviewMachineModel.initialContext,\n  entry: 'initialize',\n  states: {\n    verify: {\n      entry: 'verifyConfigString',\n      always: [{\n        target: 'valid',\n        cond: 'isAllConfigured'\n      }, {\n        target: 'reviewing'\n      }]\n    },\n    reviewing: {\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isInvalid'),\n      on: {\n        setName: {\n          target: 'verify',\n          actions: 'setName'\n        },\n        setServiceAccount: {\n          target: 'verify',\n          actions: 'setServiceAccount'\n        },\n        updateConfiguration: {\n          target: 'verify',\n          actions: 'updateConfiguration'\n        }\n      }\n    },\n    valid: {\n      id: 'valid',\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isValid'),\n      on: {\n        setName: {\n          target: 'verify',\n          actions: 'setName'\n        },\n        setServiceAccount: {\n          target: 'verify',\n          actions: 'setServiceAccount'\n        },\n        updateConfiguration: {\n          target: 'verify',\n          actions: 'updateConfiguration'\n        },\n        save: 'saving'\n      }\n    },\n    saving: {\n      invoke: {\n        src: function src(context) {\n          return saveConnector({\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            kafka: context.kafka,\n            cluster: context.cluster,\n            connectorType: context.connectorType,\n            configuration: JSON.parse(context.configString),\n            name: context.name,\n            userServiceAccount: context.userServiceAccount\n          });\n        }\n      },\n      on: {\n        success: 'saved',\n        failure: {\n          target: 'valid',\n          actions: 'setSavingError'\n        }\n      },\n      tags: ['saving']\n    },\n    saved: {\n      type: 'final'\n    }\n  }\n}, {\n  actions: {\n    initialize: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n      return {\n        configString: dataToPrettyString(context.initialConfiguration),\n        validator: (0,_cos_ui_json_schema_configurator__WEBPACK_IMPORTED_MODULE_5__.createValidator)(context.connectorType.json_schema)\n      };\n    }),\n    setName: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      return event.type === 'setName' ? {\n        name: event.name\n      } : {};\n    }),\n    setServiceAccount: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      return event.type === 'setServiceAccount' ? {\n        userServiceAccount: event.serviceAccount\n      } : {};\n    }),\n    updateConfiguration: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      return event.type === 'updateConfiguration' ? {\n        configString: event.data\n      } : {};\n    }),\n    verifyConfigString: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n      var _verifyData = verifyData(context.configString, context.validator),\n          warnings = _verifyData.warnings,\n          error = _verifyData.error;\n\n      return {\n        configStringWarnings: warnings,\n        configStringError: error\n      };\n    }),\n    setSavingError: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      if (event.type !== 'failure') return {};\n      return {\n        savingError: event.message\n      };\n    })\n  },\n  guards: {\n    isAllConfigured: function isAllConfigured(context) {\n      return context.configString !== undefined && context.configStringError === undefined && context.name.length > 0;\n    }\n  }\n});\n\nfunction dataToPrettyString(data) {\n  var dataVal = data instanceof Map ? mapToObject(data) : data;\n\n  try {\n    return JSON.stringify(dataVal, null, 2);\n  } catch (e) {\n    return '';\n  }\n}\n\nfunction mapToObject(inputMap) {\n  var obj = {};\n  inputMap.forEach(function (value, key) {\n    obj[key] = value;\n  });\n  return obj;\n}\n\nfunction verifyData(data, validator) {\n  try {\n    var parsedData = JSON.parse(data);\n    var validationResult = validator(parsedData);\n    return {\n      warnings: validationResult ? validationResult.details.map(function (d) {\n        return d.instancePath + \" \" + d.message;\n      }) : undefined,\n      error: undefined\n    };\n  } catch (e) {\n    return {\n      warnings: undefined,\n      error: \"Invalid JSON: \" + e.message\n    };\n  }\n}\n\nvar useReviewMachine = function useReviewMachine(actor) {\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return {\n      name: state.context.name,\n      serviceAccount: state.context.userServiceAccount,\n      configString: state.context.configString,\n      configStringError: state.context.configStringError,\n      configStringWarnings: state.context.configStringWarnings,\n      isSaving: state.hasTag('saving'),\n      savingError: state.context.savingError\n    };\n  }, [actor])),\n      name = _useSelector.name,\n      serviceAccount = _useSelector.serviceAccount,\n      configString = _useSelector.configString,\n      configStringError = _useSelector.configStringError,\n      configStringWarnings = _useSelector.configStringWarnings,\n      isSaving = _useSelector.isSaving,\n      savingError = _useSelector.savingError;\n\n  var onSetName = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (name) {\n    actor.send({\n      type: 'setName',\n      name: name\n    });\n  }, [actor]);\n  var onSetServiceAccount = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (serviceAccount) {\n    actor.send({\n      type: 'setServiceAccount',\n      serviceAccount: serviceAccount\n    });\n  }, [actor]);\n  var onUpdateConfiguration = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (data) {\n    actor.send({\n      type: 'updateConfiguration',\n      data: data || ''\n    });\n  }, [actor]);\n  return {\n    name: name,\n    serviceAccount: serviceAccount,\n    configString: configString,\n    configStringError: configStringError,\n    configStringWarnings: configStringWarnings,\n    isSaving: isSaving,\n    savingError: savingError,\n    onSetName: onSetName,\n    onSetServiceAccount: onSetServiceAccount,\n    onUpdateConfiguration: onUpdateConfiguration\n  };\n};\n\nvar creationWizardMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar creationWizardMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({}, {\n  events: {\n    isValid: function isValid() {\n      return {};\n    },\n    isInvalid: function isInvalid() {\n      return {};\n    },\n    prev: function prev() {\n      return {};\n    },\n    next: function next() {\n      return {};\n    },\n    changedStep: function changedStep(_ref) {\n      var step = _ref.step;\n      return {\n        step: step\n      };\n    },\n    jumpToSelectKafka: function jumpToSelectKafka() {\n      return {};\n    },\n    jumpToSelectCluster: function jumpToSelectCluster() {\n      return {};\n    },\n    jumpToSelectConnector: function jumpToSelectConnector() {\n      return {};\n    },\n    jumpToConfigureConnector: function jumpToConfigureConnector(_ref2) {\n      var subStep = _ref2.subStep;\n      return {\n        subStep: subStep\n      };\n    },\n    jumpToReviewConfiguration: function jumpToReviewConfiguration() {\n      return {};\n    }\n  }\n});\nvar creationWizardMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: creationWizardMachineSchema,\n  id: 'creationWizard',\n  initial: 'selectConnector',\n  context: creationWizardMachineModel.initialContext,\n  states: {\n    selectConnector: {\n      initial: 'selecting',\n      invoke: {\n        id: 'selectConnectorRef',\n        src: connectorTypesMachine,\n        data: function data(context) {\n          return {\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            selectedConnector: context.selectedConnector\n          };\n        },\n        onDone: {\n          target: 'selectKafka',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n            return {\n              selectedConnector: event.data.selectedConnector,\n              connectorConfiguration: false,\n              activeConfigurationStep: 0,\n              isConfigurationValid: false,\n              configurationSteps: false\n            };\n          })\n        },\n        onError: '.error'\n      },\n      states: {\n        error: {},\n        selecting: {\n          on: {\n            isValid: 'valid'\n          }\n        },\n        valid: {\n          on: {\n            isInvalid: 'selecting',\n            next: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('confirm', {\n                to: 'selectConnectorRef'\n              })\n            }\n          }\n        }\n      }\n    },\n    selectKafka: {\n      initial: 'selecting',\n      invoke: {\n        id: 'selectKafkaInstanceRef',\n        src: kafkasMachine,\n        data: function data(context) {\n          return {\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            selectedInstance: context.selectedKafkaInstance,\n            request: {\n              page: 1,\n              size: 10\n            }\n          };\n        },\n        onDone: {\n          target: 'selectCluster',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            selectedKafkaInstance: function selectedKafkaInstance(_, event) {\n              return event.data.selectedInstance;\n            }\n          })\n        },\n        onError: '.error'\n      },\n      states: {\n        error: {},\n        selecting: {\n          on: {\n            isValid: 'valid'\n          }\n        },\n        valid: {\n          on: {\n            isInvalid: 'selecting',\n            next: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('confirm', {\n                to: 'selectKafkaInstanceRef'\n              })\n            }\n          }\n        }\n      },\n      on: {\n        prev: 'selectConnector'\n      }\n    },\n    selectCluster: {\n      initial: 'selecting',\n      invoke: {\n        id: 'selectClusterRef',\n        src: clustersMachine,\n        data: function data(context) {\n          return {\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            selectedCluster: context.selectedCluster\n          };\n        },\n        onDone: {\n          target: 'configureConnector',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            selectedCluster: function selectedCluster(_, event) {\n              return event.data.selectedCluster;\n            }\n          })\n        },\n        onError: '.error'\n      },\n      states: {\n        error: {},\n        selecting: {\n          on: {\n            isValid: 'valid'\n          }\n        },\n        valid: {\n          on: {\n            isInvalid: 'selecting',\n            next: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('confirm', {\n                to: 'selectClusterRef'\n              })\n            }\n          }\n        }\n      },\n      on: {\n        prev: 'selectKafka'\n      }\n    },\n    configureConnector: {\n      initial: 'loadConfigurator',\n      states: {\n        loadConfigurator: {\n          invoke: {\n            id: 'configuratorLoader',\n            src: 'makeConfiguratorLoaderMachine',\n            data: function data(context) {\n              return {\n                connector: context.selectedConnector\n              };\n            },\n            onDone: {\n              target: 'configure',\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n                return {\n                  Configurator: event.data.Configurator,\n                  configurationSteps: event.data.steps\n                };\n              })\n            },\n            onError: {\n              actions: function actions(_context, event) {\n                return console.error(event.data.message);\n              }\n            }\n          }\n        },\n        configure: {\n          id: 'configure',\n          initial: 'configuring',\n          invoke: {\n            id: 'configuratorRef',\n            src: configuratorMachine,\n            data: function data(context) {\n              return {\n                connector: context.selectedConnector,\n                configuration: context.connectorConfiguration,\n                steps: context.configurationSteps || ['single step'],\n                activeStep: context.activeConfigurationStep || 0,\n                isActiveStepValid: context.connectorConfiguration !== false\n              };\n            },\n            onDone: {\n              target: '#creationWizard.reviewConfiguration',\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n                return {\n                  connectorConfiguration: event.data.configuration || true\n                };\n              })\n            },\n            onError: {\n              actions: function actions(_context, event) {\n                return console.error(event.data.message);\n              }\n            }\n          },\n          states: {\n            configuring: {\n              on: {\n                isValid: 'valid'\n              }\n            },\n            valid: {\n              on: {\n                isInvalid: 'configuring',\n                next: {\n                  actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('next', {\n                    to: 'configuratorRef'\n                  })\n                }\n              }\n            }\n          },\n          on: {\n            prev: [{\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('prev', {\n                to: 'configuratorRef'\n              }),\n              cond: 'areThereSubsteps'\n            }, {\n              target: '#creationWizard.selectCluster'\n            }],\n            changedStep: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n                activeConfigurationStep: function activeConfigurationStep(_, event) {\n                  return event.step;\n                }\n              })\n            }\n          }\n        }\n      }\n    },\n    reviewConfiguration: {\n      id: 'review',\n      initial: 'reviewing',\n      invoke: {\n        id: 'reviewRef',\n        src: reviewMachine,\n        data: function data(context) {\n          return {\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            kafka: context.selectedKafkaInstance,\n            cluster: context.selectedCluster,\n            connectorType: context.selectedConnector,\n            initialConfiguration: context.connectorConfiguration,\n            name: ''\n          };\n        },\n        onDone: {\n          target: '#creationWizard.saved',\n          actions: [/*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n            return {\n              connectorConfiguration: event.data\n            };\n          }), 'notifySave']\n        },\n        onError: {\n          actions: function actions(_context, event) {\n            return console.error(event.data.message);\n          }\n        }\n      },\n      states: {\n        reviewing: {\n          on: {\n            isValid: 'valid'\n          }\n        },\n        valid: {\n          on: {\n            isInvalid: 'reviewing',\n            next: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('save', {\n                to: 'reviewRef'\n              })\n            }\n          }\n        }\n      },\n      on: {\n        prev: 'configureConnector'\n      }\n    },\n    saved: {\n      id: 'saved',\n      type: 'final'\n    }\n  },\n  on: {\n    jumpToSelectConnector: {\n      target: 'selectConnector'\n    },\n    jumpToSelectKafka: {\n      target: 'selectKafka',\n      cond: 'isConnectorSelected'\n    },\n    jumpToSelectCluster: {\n      target: 'selectCluster',\n      cond: 'isKafkaInstanceSelected'\n    },\n    jumpToConfigureConnector: {\n      target: 'configureConnector',\n      cond: 'isClusterSelected',\n      actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n        return {\n          activeConfigurationStep: event.subStep || 0\n        };\n      })\n    },\n    jumpToReviewConfiguration: {\n      target: 'reviewConfiguration',\n      cond: 'isConnectorConfigured'\n    }\n  }\n}, {\n  guards: {\n    isKafkaInstanceSelected: function isKafkaInstanceSelected(context) {\n      return context.selectedKafkaInstance !== undefined;\n    },\n    isClusterSelected: function isClusterSelected(context) {\n      return context.selectedCluster !== undefined;\n    },\n    isConnectorSelected: function isConnectorSelected(context, event) {\n      var subStep = event.subStep;\n\n      if (subStep) {\n        return context.selectedConnector !== undefined && (context.connectorConfiguration !== undefined || subStep <= context.activeConfigurationStep);\n      }\n\n      return context.selectedConnector !== undefined;\n    },\n    isConnectorConfigured: function isConnectorConfigured(context) {\n      if (!context.configurationSteps) {\n        return context.connectorConfiguration !== undefined && context.connectorConfiguration !== false;\n      }\n\n      return context.connectorConfiguration !== undefined && context.connectorConfiguration !== false || context.activeConfigurationStep === context.configurationSteps.length - 1 && context.isConfigurationValid === true;\n    },\n    areThereSubsteps: function areThereSubsteps(context) {\n      return context.activeConfigurationStep > 0;\n    }\n  },\n  actions: {\n    notifySave: function notifySave(context) {\n      if (context.onSave) {\n        context.onSave();\n      }\n    }\n  },\n  services: {\n    makeConfiguratorLoaderMachine: function makeConfiguratorLoaderMachine() {\n      return configuratorLoaderMachine;\n    }\n  }\n});\n\nvar CreationWizardMachineService = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar CreationWizardMachineProvider = function CreationWizardMachineProvider(_ref) {\n  var children = _ref.children,\n      accessToken = _ref.accessToken,\n      basePath = _ref.basePath,\n      _fetchConfigurator = _ref.fetchConfigurator,\n      onSave = _ref.onSave;\n  var makeConfiguratorLoaderMachine = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    return configuratorLoaderMachine.withConfig({\n      services: {\n        fetchConfigurator: function fetchConfigurator(context) {\n          return _fetchConfigurator(context.connector);\n        }\n      }\n    });\n  }, [_fetchConfigurator]);\n  var service = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useInterpret)(creationWizardMachine, {\n    devTools: true,\n    context: {\n      accessToken: accessToken,\n      basePath: basePath,\n      onSave: onSave\n    },\n    services: {\n      makeConfiguratorLoaderMachine: makeConfiguratorLoaderMachine\n    }\n  });\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(CreationWizardMachineService.Provider, {\n    value: service\n  }, children);\n};\nvar useCreationWizardMachineService = function useCreationWizardMachineService() {\n  var service = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CreationWizardMachineService);\n\n  if (!service) {\n    throw new Error(\"useCreationWizardMachineService() must be used in a child of <CreationWizardMachineProvider>\");\n  }\n\n  return service;\n};\nvar useCreationWizardMachineConnectorTypesActor = function useCreationWizardMachineConnectorTypesActor() {\n  var service = useCreationWizardMachineService();\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.children.selectConnectorRef;\n  }, [service]));\n};\nvar useCreationWizardMachineKafkasActor = function useCreationWizardMachineKafkasActor() {\n  var service = useCreationWizardMachineService();\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.children.selectKafkaInstanceRef;\n  }, [service]));\n};\nvar useCreationWizardMachineClustersActor = function useCreationWizardMachineClustersActor() {\n  var service = useCreationWizardMachineService();\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.children.selectClusterRef;\n  }, [service]));\n};\nvar useCreationWizardMachineReviewActor = function useCreationWizardMachineReviewActor() {\n  var service = useCreationWizardMachineService();\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.children.reviewRef;\n  }, [service]));\n};\n\n\n//# sourceMappingURL=machines.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL21hY2hpbmVzL2Rpc3QvbWFjaGluZXMuZXNtLmpzPzY1OGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0U7QUFDMEM7QUFDMUM7QUFDdkI7QUFDVztBQUNoQztBQUNzRjtBQUM3Qzs7QUFFbkU7QUFDQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGFBQWEsdUJBQXVCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQWEsS0FBSyxzREFBYTtBQUN2RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esc0JBQXNCLDBEQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxXQUFXLHFEQUFjO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQWEsS0FBSyxzREFBYTtBQUN2RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esc0JBQXNCLDBEQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxXQUFXLHFEQUFjO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtB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QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxnREFBZ0Qsb0RBQWE7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGtEQUFXO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsZ0JBQWdCLDJEQUFZO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFNBQVMsMERBQW1CO0FBQzVCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxnQkFBZ0IsaURBQVU7O0FBRTFCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMERBQVcsVUFBVSxrREFBVztBQUN6QztBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxTQUFTLDBEQUFXLFVBQVUsa0RBQVc7QUFDekM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsU0FBUywwREFBVyxVQUFVLGtEQUFXO0FBQ3pDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMERBQVcsVUFBVSxrREFBVztBQUN6QztBQUNBLEdBQUc7QUFDSDs7QUFFeXlCO0FBQ3p5QiIsImZpbGUiOiI4MzI1NS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlQ29udGV4dCwgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZU1hY2hpbmUsIGFzc2lnbiwgY3JlYXRlU2NoZW1hLCBzcGF3biwgc2VuZCBhcyBzZW5kJDEsIHNlbmRQYXJlbnQgYXMgc2VuZFBhcmVudCQxIH0gZnJvbSAneHN0YXRlJztcbmltcG9ydCB7IHNlbmRQYXJlbnQsIHNlbmQsIHB1cmUsIGVzY2FsYXRlIH0gZnJvbSAneHN0YXRlL2xpYi9hY3Rpb25zJztcbmltcG9ydCB7IGNyZWF0ZU1vZGVsIH0gZnJvbSAneHN0YXRlL2xpYi9tb2RlbCc7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciwgdXNlSW50ZXJwcmV0IH0gZnJvbSAnQHhzdGF0ZS9yZWFjdCc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgQ29ubmVjdG9yc0FwaSwgQ29uZmlndXJhdGlvbiwgQ29ubmVjdG9yQ2x1c3RlcnNBcGksIENvbm5lY3RvclR5cGVzQXBpLCBEZWZhdWx0QXBpIH0gZnJvbSAnQGNvcy11aS9hcGknO1xuaW1wb3J0IHsgY3JlYXRlVmFsaWRhdG9yIH0gZnJvbSAnQGNvcy11aS9qc29uLXNjaGVtYS1jb25maWd1cmF0b3InO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIHN0YXJ0Q29ubmVjdG9yID0gZnVuY3Rpb24gc3RhcnRDb25uZWN0b3IoX3JlZikge1xuICB2YXIgYWNjZXNzVG9rZW4gPSBfcmVmLmFjY2Vzc1Rva2VuLFxuICAgICAgYmFzZVBhdGggPSBfcmVmLmJhc2VQYXRoLFxuICAgICAgY29ubmVjdG9yID0gX3JlZi5jb25uZWN0b3I7XG4gIHZhciBhcGlzU2VydmljZSA9IG5ldyBDb25uZWN0b3JzQXBpKG5ldyBDb25maWd1cmF0aW9uKHtcbiAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXG4gICAgYmFzZVBhdGg6IGJhc2VQYXRoXG4gIH0pKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBDYW5jZWxUb2tlbiA9IGF4aW9zLkNhbmNlbFRva2VuO1xuICAgIHZhciBzb3VyY2UgPSBDYW5jZWxUb2tlbi5zb3VyY2UoKTtcbiAgICBhcGlzU2VydmljZS5wYXRjaENvbm5lY3Rvcihjb25uZWN0b3IuaWQsIHtcbiAgICAgIGRlc2lyZWRfc3RhdGU6ICdyZWFkeSdcbiAgICB9LCB1bmRlZmluZWQsIHtcbiAgICAgIGNhbmNlbFRva2VuOiBzb3VyY2UudG9rZW4sXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vbWVyZ2UtcGF0Y2granNvbidcbiAgICAgIH1cbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgY2FsbGJhY2soe1xuICAgICAgICB0eXBlOiAnY29ubmVjdG9yLmFjdGlvblN1Y2Nlc3MnLFxuICAgICAgICBjb25uZWN0b3I6IHJlc3BvbnNlLmRhdGFcbiAgICAgIH0pO1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoIWF4aW9zLmlzQ2FuY2VsKGVycm9yKSkge1xuICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgdHlwZTogJ2Nvbm5lY3Rvci5hY3Rpb25FcnJvcicsXG4gICAgICAgICAgZXJyb3I6IGVycm9yLnJlc3BvbnNlLmRhdGEucmVhc29uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBzb3VyY2UuY2FuY2VsKCdPcGVyYXRpb24gY2FuY2VsZWQgYnkgdGhlIHVzZXIuJyk7XG4gICAgfTtcbiAgfTtcbn07XG52YXIgc3RvcENvbm5lY3RvciA9IGZ1bmN0aW9uIHN0b3BDb25uZWN0b3IoX3JlZjIpIHtcbiAgdmFyIGFjY2Vzc1Rva2VuID0gX3JlZjIuYWNjZXNzVG9rZW4sXG4gICAgICBiYXNlUGF0aCA9IF9yZWYyLmJhc2VQYXRoLFxuICAgICAgY29ubmVjdG9yID0gX3JlZjIuY29ubmVjdG9yO1xuICB2YXIgYXBpc1NlcnZpY2UgPSBuZXcgQ29ubmVjdG9yc0FwaShuZXcgQ29uZmlndXJhdGlvbih7XG4gICAgYWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuLFxuICAgIGJhc2VQYXRoOiBiYXNlUGF0aFxuICB9KSk7XG4gIHJldHVybiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgQ2FuY2VsVG9rZW4gPSBheGlvcy5DYW5jZWxUb2tlbjtcbiAgICB2YXIgc291cmNlID0gQ2FuY2VsVG9rZW4uc291cmNlKCk7XG4gICAgYXBpc1NlcnZpY2UucGF0Y2hDb25uZWN0b3IoY29ubmVjdG9yLmlkLCB7XG4gICAgICBkZXNpcmVkX3N0YXRlOiAnc3RvcHBlZCdcbiAgICB9LCB1bmRlZmluZWQsIHtcbiAgICAgIGNhbmNlbFRva2VuOiBzb3VyY2UudG9rZW4sXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vbWVyZ2UtcGF0Y2granNvbidcbiAgICAgIH1cbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgY2FsbGJhY2soe1xuICAgICAgICB0eXBlOiAnY29ubmVjdG9yLmFjdGlvblN1Y2Nlc3MnLFxuICAgICAgICBjb25uZWN0b3I6IHJlc3BvbnNlLmRhdGFcbiAgICAgIH0pO1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoIWF4aW9zLmlzQ2FuY2VsKGVycm9yKSkge1xuICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgdHlwZTogJ2Nvbm5lY3Rvci5hY3Rpb25FcnJvcicsXG4gICAgICAgICAgZXJyb3I6IGVycm9yLnJlc3BvbnNlLmRhdGEucmVhc29uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBzb3VyY2UuY2FuY2VsKCdPcGVyYXRpb24gY2FuY2VsZWQgYnkgdGhlIHVzZXIuJyk7XG4gICAgfTtcbiAgfTtcbn07XG52YXIgZGVsZXRlQ29ubmVjdG9yID0gZnVuY3Rpb24gZGVsZXRlQ29ubmVjdG9yKF9yZWYzKSB7XG4gIHZhciBhY2Nlc3NUb2tlbiA9IF9yZWYzLmFjY2Vzc1Rva2VuLFxuICAgICAgYmFzZVBhdGggPSBfcmVmMy5iYXNlUGF0aCxcbiAgICAgIGNvbm5lY3RvciA9IF9yZWYzLmNvbm5lY3RvcjtcbiAgdmFyIGFwaXNTZXJ2aWNlID0gbmV3IENvbm5lY3RvcnNBcGkobmV3IENvbmZpZ3VyYXRpb24oe1xuICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICBiYXNlUGF0aDogYmFzZVBhdGhcbiAgfSkpO1xuICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIENhbmNlbFRva2VuID0gYXhpb3MuQ2FuY2VsVG9rZW47XG4gICAgdmFyIHNvdXJjZSA9IENhbmNlbFRva2VuLnNvdXJjZSgpO1xuICAgIGFwaXNTZXJ2aWNlLmRlbGV0ZUNvbm5lY3Rvcihjb25uZWN0b3IuaWQsIHVuZGVmaW5lZCwge1xuICAgICAgY2FuY2VsVG9rZW46IHNvdXJjZS50b2tlblxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2soe1xuICAgICAgICB0eXBlOiAnY29ubmVjdG9yLmFjdGlvblN1Y2Nlc3MnLFxuICAgICAgICBjb25uZWN0b3I6IF9leHRlbmRzKHt9LCBjb25uZWN0b3IsIHtcbiAgICAgICAgICBzdGF0dXM6ICdkZWxldGluZycsXG4gICAgICAgICAgZGVzaXJlZF9zdGF0ZTogJ2RlbGV0ZWQnXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKCFheGlvcy5pc0NhbmNlbChlcnJvcikpIHtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgIHR5cGU6ICdjb25uZWN0b3IuYWN0aW9uRXJyb3InLFxuICAgICAgICAgIGVycm9yOiBlcnJvci5yZXNwb25zZS5kYXRhLnJlYXNvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgc291cmNlLmNhbmNlbCgnT3BlcmF0aW9uIGNhbmNlbGVkIGJ5IHRoZSB1c2VyLicpO1xuICAgIH07XG4gIH07XG59O1xudmFyIGZldGNoQ29ubmVjdG9ycyA9IGZ1bmN0aW9uIGZldGNoQ29ubmVjdG9ycyhhY2Nlc3NUb2tlbiwgYmFzZVBhdGgpIHtcbiAgdmFyIGFwaXNTZXJ2aWNlID0gbmV3IENvbm5lY3RvcnNBcGkobmV3IENvbmZpZ3VyYXRpb24oe1xuICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICBiYXNlUGF0aDogYmFzZVBhdGhcbiAgfSkpO1xuICByZXR1cm4gZnVuY3Rpb24gKHJlcXVlc3QsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBDYW5jZWxUb2tlbiA9IGF4aW9zLkNhbmNlbFRva2VuO1xuICAgIHZhciBzb3VyY2UgPSBDYW5jZWxUb2tlbi5zb3VyY2UoKTtcbiAgICB2YXIgcGFnZSA9IHJlcXVlc3QucGFnZSxcbiAgICAgICAgc2l6ZSA9IHJlcXVlc3Quc2l6ZTsgLy8gY29uc3QgcXVlcnkgPSBuYW1lLmxlbmd0aCA+IDAgPyBgbmFtZSBMSUtFICR7bmFtZX1gIDogdW5kZWZpbmVkO1xuXG4gICAgYXBpc1NlcnZpY2UubGlzdENvbm5lY3RvcnMoXCJcIiArIHBhZ2UsIFwiXCIgKyBzaXplLCB1bmRlZmluZWQsIHtcbiAgICAgIGNhbmNlbFRva2VuOiBzb3VyY2UudG9rZW5cbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgb25TdWNjZXNzKHtcbiAgICAgICAgaXRlbXM6IHJlc3BvbnNlLmRhdGEuaXRlbXMsXG4gICAgICAgIHRvdGFsOiByZXNwb25zZS5kYXRhLnRvdGFsLFxuICAgICAgICBwYWdlOiByZXNwb25zZS5kYXRhLnBhZ2UsXG4gICAgICAgIHNpemU6IHJlc3BvbnNlLmRhdGEuc2l6ZVxuICAgICAgfSk7XG4gICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIGlmICghYXhpb3MuaXNDYW5jZWwoZXJyb3IpKSB7XG4gICAgICAgIG9uRXJyb3Ioe1xuICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgIHBhZ2U6IHJlcXVlc3QucGFnZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgc291cmNlLmNhbmNlbCgnT3BlcmF0aW9uIGNhbmNlbGVkIGJ5IHRoZSB1c2VyLicpO1xuICAgIH07XG4gIH07XG59O1xuXG52YXIgY29ubmVjdG9yTWFjaGluZVNjaGVtYSA9IHtcbiAgY29udGV4dDogLyojX19QVVJFX18qL2NyZWF0ZVNjaGVtYSgpXG59O1xudmFyIGNvbm5lY3Rvck1hY2hpbmVNb2RlbCA9IC8qI19fUFVSRV9fKi9jcmVhdGVNb2RlbCh7XG4gIGFjY2Vzc1Rva2VuOiBmdW5jdGlvbiBhY2Nlc3NUb2tlbigpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCcnKTtcbiAgfSxcbiAgYmFzZVBhdGg6ICcnLFxuICBjb25uZWN0b3I6IHt9XG59LCB7XG4gIGV2ZW50czoge1xuICAgICdjb25uZWN0b3Iuc3RhcnQnOiBmdW5jdGlvbiBjb25uZWN0b3JTdGFydCgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgICdjb25uZWN0b3Iuc3RvcCc6IGZ1bmN0aW9uIGNvbm5lY3RvclN0b3AoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICAnY29ubmVjdG9yLnJlbW92ZSc6IGZ1bmN0aW9uIGNvbm5lY3RvclJlbW92ZSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgICdjb25uZWN0b3Iuc2VsZWN0JzogZnVuY3Rpb24gY29ubmVjdG9yU2VsZWN0KCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgJ2Nvbm5lY3Rvci5hY3Rpb25TdWNjZXNzJzogZnVuY3Rpb24gY29ubmVjdG9yQWN0aW9uU3VjY2VzcyhwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9LFxuICAgICdjb25uZWN0b3IuYWN0aW9uRXJyb3InOiBmdW5jdGlvbiBjb25uZWN0b3JBY3Rpb25FcnJvcihwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9XG4gIH1cbn0pO1xudmFyIGNvbm5lY3Rvck1hY2hpbmUgPSAvKiNfX1BVUkVfXyovY3JlYXRlTWFjaGluZSh7XG4gIHNjaGVtYTogY29ubmVjdG9yTWFjaGluZVNjaGVtYSxcbiAgaWQ6ICdjb25uZWN0b3InLFxuICBpbml0aWFsOiAndmVyaWZ5JyxcbiAgY29udGV4dDogY29ubmVjdG9yTWFjaGluZU1vZGVsLmluaXRpYWxDb250ZXh0LFxuICBzdGF0ZXM6IHtcbiAgICB2ZXJpZnk6IHtcbiAgICAgIGFsd2F5czogW3tcbiAgICAgICAgdGFyZ2V0OiAncmVhZHknLFxuICAgICAgICBjb25kOiAnaXNSZWFkeSdcbiAgICAgIH0sIHtcbiAgICAgICAgdGFyZ2V0OiAnc3RvcHBlZCcsXG4gICAgICAgIGNvbmQ6ICdpc1N0b3BwZWQnXG4gICAgICB9LCB7XG4gICAgICAgIHRhcmdldDogJ2RlbGV0ZWQnLFxuICAgICAgICBjb25kOiAnaXNEZWxldGVkJ1xuICAgICAgfV1cbiAgICB9LFxuICAgIHJlYWR5OiB7XG4gICAgICBvbjoge1xuICAgICAgICAnY29ubmVjdG9yLnN0b3AnOiAnc3RvcHBpbmdDb25uZWN0b3InLFxuICAgICAgICAnY29ubmVjdG9yLnJlbW92ZSc6ICdkZWxldGluZ0Nvbm5lY3RvcidcbiAgICAgIH1cbiAgICB9LFxuICAgIHN0b3BwZWQ6IHtcbiAgICAgIG9uOiB7XG4gICAgICAgICdjb25uZWN0b3Iuc3RhcnQnOiAnc3RhcnRpbmdDb25uZWN0b3InLFxuICAgICAgICAnY29ubmVjdG9yLnJlbW92ZSc6ICdkZWxldGluZ0Nvbm5lY3RvcidcbiAgICAgIH1cbiAgICB9LFxuICAgIGRlbGV0ZWQ6IHt9LFxuICAgIHN0YXJ0aW5nQ29ubmVjdG9yOiB7XG4gICAgICBpbnZva2U6IHtcbiAgICAgICAgaWQ6ICdzdGFydGluZ0Nvbm5lY3RvckNiJyxcbiAgICAgICAgc3JjOiBmdW5jdGlvbiBzcmMoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBzdGFydENvbm5lY3Rvcih7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY29udGV4dC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VQYXRoOiBjb250ZXh0LmJhc2VQYXRoLFxuICAgICAgICAgICAgY29ubmVjdG9yOiBjb250ZXh0LmNvbm5lY3RvclxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgJ2Nvbm5lY3Rvci5hY3Rpb25TdWNjZXNzJzoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogWyd1cGRhdGVTdGF0ZScsICdub3RpZnlTdWNjZXNzVG9QYXJlbnQnXVxuICAgICAgICB9LFxuICAgICAgICAnY29ubmVjdG9yLmFjdGlvbkVycm9yJzoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogJ25vdGlmeUVycm9yVG9QYXJlbnQnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHN0b3BwaW5nQ29ubmVjdG9yOiB7XG4gICAgICBpbnZva2U6IHtcbiAgICAgICAgaWQ6ICdzdG9wcGluZ0Nvbm5lY3RvckNiJyxcbiAgICAgICAgc3JjOiBmdW5jdGlvbiBzcmMoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBzdG9wQ29ubmVjdG9yKHtcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBjb250ZXh0LmFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgYmFzZVBhdGg6IGNvbnRleHQuYmFzZVBhdGgsXG4gICAgICAgICAgICBjb25uZWN0b3I6IGNvbnRleHQuY29ubmVjdG9yXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICAnY29ubmVjdG9yLmFjdGlvblN1Y2Nlc3MnOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiBbJ3VwZGF0ZVN0YXRlJywgJ25vdGlmeVN1Y2Nlc3NUb1BhcmVudCddXG4gICAgICAgIH0sXG4gICAgICAgICdjb25uZWN0b3IuYWN0aW9uRXJyb3InOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiAnbm90aWZ5RXJyb3JUb1BhcmVudCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZGVsZXRpbmdDb25uZWN0b3I6IHtcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ2RlbGV0aW5nQ29ubmVjdG9yQ2InLFxuICAgICAgICBzcmM6IGZ1bmN0aW9uIHNyYyhjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIGRlbGV0ZUNvbm5lY3Rvcih7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY29udGV4dC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VQYXRoOiBjb250ZXh0LmJhc2VQYXRoLFxuICAgICAgICAgICAgY29ubmVjdG9yOiBjb250ZXh0LmNvbm5lY3RvclxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgJ2Nvbm5lY3Rvci5hY3Rpb25TdWNjZXNzJzoge1xuICAgICAgICAgIHRhcmdldDogJ2RlbGV0ZWQnLFxuICAgICAgICAgIGFjdGlvbnM6IFsndXBkYXRlU3RhdGUnLCAnbm90aWZ5U3VjY2Vzc1RvUGFyZW50J11cbiAgICAgICAgfSxcbiAgICAgICAgJ2Nvbm5lY3Rvci5hY3Rpb25FcnJvcic6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgIGFjdGlvbnM6ICdub3RpZnlFcnJvclRvUGFyZW50J1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBvbjoge1xuICAgICdjb25uZWN0b3Iuc2VsZWN0Jzoge1xuICAgICAgYWN0aW9uczogJ25vdGlmeVNlbGVjdFRvUGFyZW50J1xuICAgIH1cbiAgfVxufSwge1xuICBndWFyZHM6IHtcbiAgICBpc1JlYWR5OiBmdW5jdGlvbiBpc1JlYWR5KGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmNvbm5lY3Rvci5kZXNpcmVkX3N0YXRlID09PSAncmVhZHknO1xuICAgIH0sXG4gICAgaXNTdG9wcGVkOiBmdW5jdGlvbiBpc1N0b3BwZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuY29ubmVjdG9yLmRlc2lyZWRfc3RhdGUgPT09ICdzdG9wcGVkJztcbiAgICB9LFxuICAgIGlzRGVsZXRlZDogZnVuY3Rpb24gaXNEZWxldGVkKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmNvbm5lY3Rvci5kZXNpcmVkX3N0YXRlID09PSAnZGVsZXRlZCc7XG4gICAgfVxuICB9LFxuICBhY3Rpb25zOiB7XG4gICAgdXBkYXRlU3RhdGU6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdjb25uZWN0b3IuYWN0aW9uU3VjY2VzcycpIHJldHVybiB7fTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbm5lY3RvcjogZXZlbnQuY29ubmVjdG9yXG4gICAgICB9O1xuICAgIH0pLFxuICAgIG5vdGlmeVN1Y2Nlc3NUb1BhcmVudDogLyojX19QVVJFX18qL3NlbmRQYXJlbnQoJ2FjdGlvblN1Y2Nlc3MnKSxcbiAgICBub3RpZnlFcnJvclRvUGFyZW50OiAvKiNfX1BVUkVfXyovc2VuZFBhcmVudCgnYWN0aW9uRmFpbHVyZScpLFxuICAgIG5vdGlmeVNlbGVjdFRvUGFyZW50OiAvKiNfX1BVUkVfXyovc2VuZFBhcmVudChmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIGNvbm5lY3RvciA9IF9yZWYuY29ubmVjdG9yO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ3NlbGVjdENvbm5lY3RvcicsXG4gICAgICAgIGNvbm5lY3RvcjogY29ubmVjdG9yXG4gICAgICB9O1xuICAgIH0pXG4gIH1cbn0pO1xudmFyIG1ha2VDb25uZWN0b3JNYWNoaW5lID0gZnVuY3Rpb24gbWFrZUNvbm5lY3Rvck1hY2hpbmUoY29udGV4dCkge1xuICByZXR1cm4gY29ubmVjdG9yTWFjaGluZS53aXRoQ29udGV4dChjb250ZXh0KTtcbn07XG52YXIgdXNlQ29ubmVjdG9yID0gZnVuY3Rpb24gdXNlQ29ubmVjdG9yKHJlZikge1xuICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IocmVmLCB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29ubmVjdG9yOiBzdGF0ZS5jb250ZXh0LmNvbm5lY3RvcixcbiAgICAgIGNhblN0YXJ0OiBjb25uZWN0b3JNYWNoaW5lLnRyYW5zaXRpb24oc3RhdGUsICdjb25uZWN0b3Iuc3RhcnQnKS5jaGFuZ2VkID09PSB0cnVlLFxuICAgICAgY2FuU3RvcDogY29ubmVjdG9yTWFjaGluZS50cmFuc2l0aW9uKHN0YXRlLCAnY29ubmVjdG9yLnN0b3AnKS5jaGFuZ2VkID09PSB0cnVlLFxuICAgICAgY2FuRGVsZXRlOiBjb25uZWN0b3JNYWNoaW5lLnRyYW5zaXRpb24oc3RhdGUsICdjb25uZWN0b3IucmVtb3ZlJykuY2hhbmdlZCA9PT0gdHJ1ZVxuICAgIH07XG4gIH0sIFtyZWZdKSksXG4gICAgICBjb25uZWN0b3IgPSBfdXNlU2VsZWN0b3IuY29ubmVjdG9yLFxuICAgICAgY2FuU3RhcnQgPSBfdXNlU2VsZWN0b3IuY2FuU3RhcnQsXG4gICAgICBjYW5TdG9wID0gX3VzZVNlbGVjdG9yLmNhblN0b3AsXG4gICAgICBjYW5EZWxldGUgPSBfdXNlU2VsZWN0b3IuY2FuRGVsZXRlO1xuXG4gIHZhciBvblN0YXJ0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZWYuc2VuZCh7XG4gICAgICB0eXBlOiAnY29ubmVjdG9yLnN0YXJ0J1xuICAgIH0pO1xuICB9LCBbcmVmXSk7XG4gIHZhciBvblN0b3AgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlZi5zZW5kKHtcbiAgICAgIHR5cGU6ICdjb25uZWN0b3Iuc3RvcCdcbiAgICB9KTtcbiAgfSwgW3JlZl0pO1xuICB2YXIgb25EZWxldGUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlZi5zZW5kKHtcbiAgICAgIHR5cGU6ICdjb25uZWN0b3IucmVtb3ZlJ1xuICAgIH0pO1xuICB9LCBbcmVmXSk7XG4gIHZhciBvblNlbGVjdCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmVmLnNlbmQoe1xuICAgICAgdHlwZTogJ2Nvbm5lY3Rvci5zZWxlY3QnXG4gICAgfSk7XG4gIH0sIFtyZWZdKTtcbiAgcmV0dXJuIHtcbiAgICBjb25uZWN0b3I6IGNvbm5lY3RvcixcbiAgICBjYW5TdGFydDogY2FuU3RhcnQsXG4gICAgY2FuU3RvcDogY2FuU3RvcCxcbiAgICBjYW5EZWxldGU6IGNhbkRlbGV0ZSxcbiAgICBvblN0YXJ0OiBvblN0YXJ0LFxuICAgIG9uU3RvcDogb25TdG9wLFxuICAgIG9uRGVsZXRlOiBvbkRlbGV0ZSxcbiAgICBvblNlbGVjdDogb25TZWxlY3RcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIG1ha2VGZXRjaE1hY2hpbmUoKSB7XG4gIHZhciBmZXRjaE1hY2hpbmVTY2hlbWEgPSB7XG4gICAgY29udGV4dDogY3JlYXRlU2NoZW1hKClcbiAgfTtcbiAgdmFyIGZldGNoTWFjaGluZU1vZGVsID0gY3JlYXRlTW9kZWwoe1xuICAgIGRhdGE6IHVuZGVmaW5lZCxcbiAgICBlcnJvcjogdW5kZWZpbmVkXG4gIH0pO1xuICByZXR1cm4gY3JlYXRlTWFjaGluZSh7XG4gICAgc2NoZW1hOiBmZXRjaE1hY2hpbmVTY2hlbWEsXG4gICAgaWQ6ICdmZXRjaE1hY2hpbmUnLFxuICAgIGNvbnRleHQ6IHt9LFxuICAgIGluaXRpYWw6ICdsb2FkaW5nJyxcbiAgICBzdGF0ZXM6IHtcbiAgICAgIGxvYWRpbmc6IHtcbiAgICAgICAgaW52b2tlOiB7XG4gICAgICAgICAgaWQ6ICdmZXRjaFNlcnZpY2UnLFxuICAgICAgICAgIHNyYzogJ2ZldGNoU2VydmljZScsXG4gICAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgICB0YXJnZXQ6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgIGFjdGlvbnM6IGFzc2lnbihmdW5jdGlvbiAoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZGF0YTogZXZlbnQuZGF0YVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRXJyb3I6IHtcbiAgICAgICAgICAgIHRhcmdldDogJ2ZhaWx1cmUnLFxuICAgICAgICAgICAgYWN0aW9uczogYXNzaWduKHtcbiAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudC5kYXRhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGZhaWx1cmU6IHtcbiAgICAgICAgdHlwZTogJ2ZpbmFsJ1xuICAgICAgfSxcbiAgICAgIHN1Y2Nlc3M6IHtcbiAgICAgICAgdHlwZTogJ2ZpbmFsJyxcbiAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShfcmVmKSB7XG4gICAgICAgICAgdmFyIF9kYXRhID0gX3JlZi5kYXRhO1xuICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgX2RhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxudmFyIHBhZ2luYXRlZEFwaU1hY2hpbmVTY2hlbWEgPSB7XG4gIGNvbnRleHQ6IC8qI19fUFVSRV9fKi9jcmVhdGVTY2hlbWEoKVxufTtcbnZhciBnZXRQYWdpbmF0ZWRBcGlNYWNoaW5lRXZlbnRzID0gZnVuY3Rpb24gZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50cygpIHtcbiAgcmV0dXJuIHtcbiAgICAnYXBpLnJlZnJlc2gnOiBmdW5jdGlvbiBhcGlSZWZyZXNoKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgJ2FwaS5uZXh0UGFnZSc6IGZ1bmN0aW9uIGFwaU5leHRQYWdlKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgJ2FwaS5wcmV2UGFnZSc6IGZ1bmN0aW9uIGFwaVByZXZQYWdlKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgJ2FwaS5xdWVyeSc6IGZ1bmN0aW9uIGFwaVF1ZXJ5KHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0sXG4gICAgJ2FwaS5zZXRSZXNwb25zZSc6IGZ1bmN0aW9uIGFwaVNldFJlc3BvbnNlKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0sXG4gICAgJ2FwaS5zZXRFcnJvcic6IGZ1bmN0aW9uIGFwaVNldEVycm9yKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0sXG4gICAgLy8gbm90aWZ5UGFyZW50XG4gICAgJ2FwaS5yZWFkeSc6IGZ1bmN0aW9uIGFwaVJlYWR5KCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgJ2FwaS5sb2FkaW5nJzogZnVuY3Rpb24gYXBpTG9hZGluZyhwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9LFxuICAgICdhcGkuc3VjY2Vzcyc6IGZ1bmN0aW9uIGFwaVN1Y2Nlc3MocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSxcbiAgICAnYXBpLmVycm9yJzogZnVuY3Rpb24gYXBpRXJyb3IocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfVxuICB9O1xufTtcbnZhciBnZXRQYWdpbmF0ZWRBcGlNYWNoaW5lRXZlbnRzSGFuZGxlcnMgPSBmdW5jdGlvbiBnZXRQYWdpbmF0ZWRBcGlNYWNoaW5lRXZlbnRzSGFuZGxlcnModG8pIHtcbiAgcmV0dXJuIHtcbiAgICAnYXBpLnJlZnJlc2gnOiB7XG4gICAgICBhY3Rpb25zOiBzZW5kKGZ1bmN0aW9uIChfLCBlKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfSwge1xuICAgICAgICB0bzogdG9cbiAgICAgIH0pXG4gICAgfSxcbiAgICAnYXBpLm5leHRQYWdlJzoge1xuICAgICAgYWN0aW9uczogc2VuZChmdW5jdGlvbiAoXywgZSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH0sIHtcbiAgICAgICAgdG86IHRvXG4gICAgICB9KVxuICAgIH0sXG4gICAgJ2FwaS5wcmV2UGFnZSc6IHtcbiAgICAgIGFjdGlvbnM6IHNlbmQoZnVuY3Rpb24gKF8sIGUpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9LCB7XG4gICAgICAgIHRvOiB0b1xuICAgICAgfSlcbiAgICB9LFxuICAgICdhcGkucXVlcnknOiB7XG4gICAgICBhY3Rpb25zOiBzZW5kKGZ1bmN0aW9uIChfLCBlKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfSwge1xuICAgICAgICB0bzogdG9cbiAgICAgIH0pXG4gICAgfVxuICB9O1xufTtcbmZ1bmN0aW9uIG1ha2VQYWdpbmF0ZWRBcGlNYWNoaW5lKHNlcnZpY2UsIGRhdGFUcmFuc2Zvcm1lciwgb3B0aW9ucykge1xuICB2YXIgcGFnaW5hdGVkQXBpTWFjaGluZU1vZGVsID0gY3JlYXRlTW9kZWwoe1xuICAgIHJlcXVlc3Q6IHtcbiAgICAgIHBhZ2U6IDEsXG4gICAgICBzaXplOiAxMFxuICAgIH0sXG4gICAgcmVzcG9uc2U6IHVuZGVmaW5lZCxcbiAgICBwb2xsaW5nRW5hYmxlZDogKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucG9sbGluZ0VuYWJsZWQpIHx8IGZhbHNlLFxuICAgIG9uQmVmb3JlU2V0UmVzcG9uc2U6IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMub25CZWZvcmVTZXRSZXNwb25zZSxcbiAgICBkYXRhVHJhbnNmb3JtZXI6IGRhdGFUcmFuc2Zvcm1lclxuICB9LCB7XG4gICAgZXZlbnRzOiBfZXh0ZW5kcyh7fSwgZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50cygpKVxuICB9KTtcblxuICB2YXIgY2FsbEFwaSA9IGZ1bmN0aW9uIGNhbGxBcGkoY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBzZXJ2aWNlKGNvbnRleHQucmVxdWVzdCwgZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHBhZ2luYXRlZEFwaU1hY2hpbmVNb2RlbC5ldmVudHNbJ2FwaS5zZXRSZXNwb25zZSddKHBheWxvYWQpKTtcbiAgICAgIH0sIGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhwYWdpbmF0ZWRBcGlNYWNoaW5lTW9kZWwuZXZlbnRzWydhcGkuc2V0RXJyb3InXShwYXlsb2FkKSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiBjcmVhdGVNYWNoaW5lKHtcbiAgICBzY2hlbWE6IHBhZ2luYXRlZEFwaU1hY2hpbmVTY2hlbWEsXG4gICAgaWQ6ICdwYWdpbmF0ZWRBcGlNYWNoaW5lJyxcbiAgICBjb250ZXh0OiBwYWdpbmF0ZWRBcGlNYWNoaW5lTW9kZWwuaW5pdGlhbENvbnRleHQsXG4gICAgdHlwZTogJ3BhcmFsbGVsJyxcbiAgICBzdGF0ZXM6IHtcbiAgICAgIGFwaToge1xuICAgICAgICBpbml0aWFsOiAnaWRsZScsXG4gICAgICAgIHN0YXRlczoge1xuICAgICAgICAgIGlkbGU6IHtcbiAgICAgICAgICAgIGVudHJ5OiAnbm90aWZ5UmVhZHknLFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgJ2FwaS5xdWVyeSc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiAncXVlcnknXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHN1Y2Nlc3M6IHtcbiAgICAgICAgICAgIGFsd2F5czogW3tcbiAgICAgICAgICAgICAgdGFyZ2V0OiAncXVlcnlFbXB0eScsXG4gICAgICAgICAgICAgIGNvbmQ6ICdpc1F1ZXJ5RW1wdHknXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIHRhcmdldDogJ3F1ZXJ5UmVzdWx0cycsXG4gICAgICAgICAgICAgIGNvbmQ6ICdpc1F1ZXJ5U3VjY2VzZnVsJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICB0YXJnZXQ6ICdlbXB0eScsXG4gICAgICAgICAgICAgIGNvbmQ6ICdpc1RvdGFsWmVybydcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiAncmVzdWx0cydcbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfSxcbiAgICAgICAgICBxdWVyeUVtcHR5OiB7XG4gICAgICAgICAgICB0YWdzOiAncXVlcnlFbXB0eScsXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAnYXBpLnF1ZXJ5Jzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdxdWVyeSdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FwaS5wcmV2UGFnZSc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiAnZGVjcmVhc2VQYWdlJyxcbiAgICAgICAgICAgICAgICBjb25kOiAnaXNOb3RGaXJzdFBhZ2UnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhcGkucmVmcmVzaCc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiAnZmV0Y2gnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHF1ZXJ5UmVzdWx0czoge1xuICAgICAgICAgICAgdGFnczogJ3F1ZXJ5UmVzdWx0cycsXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAnYXBpLnF1ZXJ5Jzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdxdWVyeSdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FwaS5uZXh0UGFnZSc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiAnaW5jcmVhc2VQYWdlJyxcbiAgICAgICAgICAgICAgICBjb25kOiAnaXNOb3RMYXN0UGFnZSdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FwaS5wcmV2UGFnZSc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiAnZGVjcmVhc2VQYWdlJyxcbiAgICAgICAgICAgICAgICBjb25kOiAnaXNOb3RGaXJzdFBhZ2UnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhcGkucmVmcmVzaCc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbXB0eToge1xuICAgICAgICAgICAgdGFnczogJ2VtcHR5JyxcbiAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICdhcGkucXVlcnknOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogJ3F1ZXJ5J1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnYXBpLnJlZnJlc2gnOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZydcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVzdWx0czoge1xuICAgICAgICAgICAgdGFnczogJ3Jlc3VsdHMnLFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgJ2FwaS5xdWVyeSc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiAncXVlcnknXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhcGkubmV4dFBhZ2UnOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogJ2luY3JlYXNlUGFnZScsXG4gICAgICAgICAgICAgICAgY29uZDogJ2lzTm90TGFzdFBhZ2UnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhcGkucHJldlBhZ2UnOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogJ2RlY3JlYXNlUGFnZScsXG4gICAgICAgICAgICAgICAgY29uZDogJ2lzTm90Rmlyc3RQYWdlJ1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnYXBpLnJlZnJlc2gnOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZydcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgIHRhZ3M6ICdlcnJvcicsXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAnYXBpLnF1ZXJ5Jzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdxdWVyeSdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FwaS5yZWZyZXNoJzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhcGkucHJldlBhZ2UnOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogJ2RlY3JlYXNlUGFnZScsXG4gICAgICAgICAgICAgICAgY29uZDogJ2lzTm90Rmlyc3RQYWdlJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsb2FkaW5nOiB7XG4gICAgICAgICAgICB0YWdzOiBbJ2xvYWRpbmcnXSxcbiAgICAgICAgICAgIGVudHJ5OiBbJ25vdGlmeUxvYWRpbmcnLCAnZmV0Y2gnXSxcbiAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICdhcGkucXVlcnknOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogJ3F1ZXJ5J1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnYXBpLnNldFJlc3BvbnNlJzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFsnc2V0UmVzcG9uc2UnLCAnbm90aWZ5U3VjY2VzcyddXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhcGkuc2V0RXJyb3InOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFsnc2V0RXJyb3InLCAnbm90aWZ5RXJyb3InXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbjoge1xuICAgICAgICAgICcqJzoge1xuICAgICAgICAgICAgYWN0aW9uczogJ2ZvcndhcmRVbmtub3duRXZlbnRzVG9QYXJlbnQnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcG9sbGluZzoge1xuICAgICAgICBlbnRyeTogJ2ZldGNoJyxcbiAgICAgICAgb246IHtcbiAgICAgICAgICAnYXBpLnNldFJlc3BvbnNlJzoge1xuICAgICAgICAgICAgYWN0aW9uczogJ3NldFJlc3BvbnNlJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYWZ0ZXI6IHtcbiAgICAgICAgICBJTlRFUlZBTDoge1xuICAgICAgICAgICAgY29uZDogJ2lzUG9sbGluZ0VuYWJsZWQnLFxuICAgICAgICAgICAgdGFyZ2V0OiAncG9sbGluZydcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBkZWxheXM6IHtcbiAgICAgIElOVEVSVkFMOiA1MDAwXG4gICAgfSxcbiAgICBhY3Rpb25zOiB7XG4gICAgICBmZXRjaDogYXNzaWduKGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0LmFjdG9yICYmIGNvbnRleHQuYWN0b3Iuc3RvcCkge1xuICAgICAgICAgIGNvbnRleHQuYWN0b3Iuc3RvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFjdG9yID0gc3Bhd24oY2FsbEFwaShjb250ZXh0KSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYWN0b3I6IGFjdG9yXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIHNldFJlc3BvbnNlOiBhc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQsIGUpIHtcbiAgICAgICAgaWYgKGUudHlwZSAhPT0gJ2FwaS5zZXRSZXNwb25zZScgfHwgZS5wYWdlICE9PSBjb250ZXh0LnJlcXVlc3QucGFnZSkgcmV0dXJuIHt9O1xuXG4gICAgICAgIGlmIChjb250ZXh0Lm9uQmVmb3JlU2V0UmVzcG9uc2UpIHtcbiAgICAgICAgICB2YXIgX2NvbnRleHQkcmVzcG9uc2U7XG5cbiAgICAgICAgICBjb250ZXh0Lm9uQmVmb3JlU2V0UmVzcG9uc2UoKF9jb250ZXh0JHJlc3BvbnNlID0gY29udGV4dC5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jb250ZXh0JHJlc3BvbnNlLml0ZW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgIGl0ZW1zOiBlLml0ZW1zLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5kYXRhVHJhbnNmb3JtZXIoaSk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHRvdGFsOiBlLnRvdGFsLFxuICAgICAgICAgICAgZXJyb3I6IHVuZGVmaW5lZFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgc2V0RXJyb3I6IGFzc2lnbihmdW5jdGlvbiAoY29udGV4dCwgZSkge1xuICAgICAgICB2YXIgX2NvbnRleHQkcmVzcG9uc2UyLCBfY29udGV4dCRyZXNwb25zZTM7XG5cbiAgICAgICAgaWYgKGUudHlwZSAhPT0gJ2FwaS5zZXRFcnJvcicgfHwgZS5wYWdlICE9PSBjb250ZXh0LnJlcXVlc3QucGFnZSkgcmV0dXJuIHt9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICBpdGVtczogKChfY29udGV4dCRyZXNwb25zZTIgPSBjb250ZXh0LnJlc3BvbnNlKSA9PSBudWxsID8gdm9pZCAwIDogX2NvbnRleHQkcmVzcG9uc2UyLml0ZW1zKSB8fCBbXSxcbiAgICAgICAgICAgIHRvdGFsOiAoKF9jb250ZXh0JHJlc3BvbnNlMyA9IGNvbnRleHQucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfY29udGV4dCRyZXNwb25zZTMudG90YWwpIHx8IDAsXG4gICAgICAgICAgICBlcnJvcjogZS5lcnJvclxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgaW5jcmVhc2VQYWdlOiBhc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXF1ZXN0OiBfZXh0ZW5kcyh7fSwgY29udGV4dC5yZXF1ZXN0LCB7XG4gICAgICAgICAgICBwYWdlOiBjb250ZXh0LnJlcXVlc3QucGFnZSArIDFcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBkZWNyZWFzZVBhZ2U6IGFzc2lnbihmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlcXVlc3Q6IF9leHRlbmRzKHt9LCBjb250ZXh0LnJlcXVlc3QsIHtcbiAgICAgICAgICAgIHBhZ2U6IGNvbnRleHQucmVxdWVzdC5wYWdlIC0gMVxuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIHF1ZXJ5OiBhc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50eXBlICE9PSAnYXBpLnF1ZXJ5JykgcmV0dXJuIHt9O1xuICAgICAgICB2YXIgcGFnZSA9IGV2ZW50LnBhZ2UsXG4gICAgICAgICAgICBzaXplID0gZXZlbnQuc2l6ZSxcbiAgICAgICAgICAgIHF1ZXJ5ID0gZXZlbnQucXVlcnk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVxdWVzdDoge1xuICAgICAgICAgICAgcGFnZTogcGFnZSB8fCBjb250ZXh0LnJlcXVlc3QucGFnZSxcbiAgICAgICAgICAgIHNpemU6IHNpemUgfHwgY29udGV4dC5yZXF1ZXN0LnNpemUsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnlcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIG5vdGlmeVJlYWR5OiBzZW5kUGFyZW50KHtcbiAgICAgICAgdHlwZTogJ2FwaS5yZWFkeSdcbiAgICAgIH0pLFxuICAgICAgbm90aWZ5U3VjY2Vzczogc2VuZFBhcmVudChmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgICAgIHR5cGU6ICdhcGkuc3VjY2VzcydcbiAgICAgICAgfSwgY29udGV4dC5yZXNwb25zZSk7XG4gICAgICB9KSxcbiAgICAgIG5vdGlmeUVycm9yOiBzZW5kUGFyZW50KGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHZhciBfY29udGV4dCRyZXNwb25zZTQ7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnYXBpLmVycm9yJyxcbiAgICAgICAgICBlcnJvcjogKF9jb250ZXh0JHJlc3BvbnNlNCA9IGNvbnRleHQucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfY29udGV4dCRyZXNwb25zZTQuZXJyb3JcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgbm90aWZ5TG9hZGluZzogc2VuZFBhcmVudChmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgICAgIHR5cGU6ICdhcGkubG9hZGluZydcbiAgICAgICAgfSwgY29udGV4dC5yZXF1ZXN0KTtcbiAgICAgIH0pLFxuICAgICAgZm9yd2FyZFVua25vd25FdmVudHNUb1BhcmVudDogcHVyZShmdW5jdGlvbiAoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhwYWdpbmF0ZWRBcGlNYWNoaW5lTW9kZWwuZXZlbnRzKS5pbmNsdWRlcyhldmVudC50eXBlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gc2VuZFBhcmVudChmdW5jdGlvbiAoX2NvbnRleHQsIF9ldmVudCwgbWV0YSkge1xuICAgICAgICAgICAgcmV0dXJuIG1ldGEuX2V2ZW50LmRhdGE7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW107XG4gICAgICB9KVxuICAgIH0sXG4gICAgZ3VhcmRzOiB7XG4gICAgICBpc05vdEZpcnN0UGFnZTogZnVuY3Rpb24gaXNOb3RGaXJzdFBhZ2UoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gY29udGV4dC5yZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmIGNvbnRleHQucmVxdWVzdC5wYWdlID4gMTtcbiAgICAgIH0sXG4gICAgICBpc05vdExhc3RQYWdlOiBmdW5jdGlvbiBpc05vdExhc3RQYWdlKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQucmVzcG9uc2UgIT09IHVuZGVmaW5lZCAmJiBjb250ZXh0LnJlcXVlc3Quc2l6ZSA+IDAgJiYgY29udGV4dC5yZXF1ZXN0LnBhZ2UgPCBNYXRoLmNlaWwoY29udGV4dC5yZXNwb25zZS50b3RhbCAvIGNvbnRleHQucmVxdWVzdC5zaXplKTtcbiAgICAgIH0sXG4gICAgICBpc1RvdGFsWmVybzogZnVuY3Rpb24gaXNUb3RhbFplcm8oY29udGV4dCkge1xuICAgICAgICB2YXIgX2NvbnRleHQkcmVzcG9uc2U1O1xuXG4gICAgICAgIHJldHVybiAoKF9jb250ZXh0JHJlc3BvbnNlNSA9IGNvbnRleHQucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfY29udGV4dCRyZXNwb25zZTUudG90YWwpID09PSAwO1xuICAgICAgfSxcbiAgICAgIGlzUXVlcnlTdWNjZXNmdWw6IGZ1bmN0aW9uIGlzUXVlcnlTdWNjZXNmdWwoY29udGV4dCkge1xuICAgICAgICB2YXIgX2NvbnRleHQkcmVzcG9uc2U2O1xuXG4gICAgICAgIHJldHVybiBjb250ZXh0LnJlcXVlc3QucXVlcnkgIT09IHVuZGVmaW5lZCAmJiBjb250ZXh0LnJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiYgKChfY29udGV4dCRyZXNwb25zZTYgPSBjb250ZXh0LnJlc3BvbnNlKSA9PSBudWxsID8gdm9pZCAwIDogX2NvbnRleHQkcmVzcG9uc2U2LnRvdGFsKSA+IDA7XG4gICAgICB9LFxuICAgICAgaXNRdWVyeUVtcHR5OiBmdW5jdGlvbiBpc1F1ZXJ5RW1wdHkoY29udGV4dCkge1xuICAgICAgICB2YXIgX2NvbnRleHQkcmVzcG9uc2U3O1xuXG4gICAgICAgIHJldHVybiBjb250ZXh0LnJlcXVlc3QucXVlcnkgIT09IHVuZGVmaW5lZCAmJiBjb250ZXh0LnJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiYgKChfY29udGV4dCRyZXNwb25zZTcgPSBjb250ZXh0LnJlc3BvbnNlKSA9PSBudWxsID8gdm9pZCAwIDogX2NvbnRleHQkcmVzcG9uc2U3LnRvdGFsKSA9PT0gMDtcbiAgICAgIH0sXG4gICAgICBpc1BvbGxpbmdFbmFibGVkOiBmdW5jdGlvbiBpc1BvbGxpbmdFbmFibGVkKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQucG9sbGluZ0VuYWJsZWQ7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn0gLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTAzMjE0MTkvdHlwZXNjcmlwdC1yZXR1cm50eXBlLW9mLWdlbmVyaWMtZnVuY3Rpb24vNjQ5MTkxMzMjNjQ5MTkxMzNcblxudmFyIHVzZVBhZ2luYXRpb24gPSBmdW5jdGlvbiB1c2VQYWdpbmF0aW9uKGFjdG9yKSB7XG4gIHJldHVybiB1c2VTZWxlY3RvcihhY3RvciwgdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcXVlc3Q6IHN0YXRlLmNvbnRleHQucmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlOiBzdGF0ZS5jb250ZXh0LnJlc3BvbnNlLFxuICAgICAgbG9hZGluZzogc3RhdGUuaGFzVGFnKCdsb2FkaW5nJyksXG4gICAgICBxdWVyeUVtcHR5OiBzdGF0ZS5oYXNUYWcoJ3F1ZXJ5RW1wdHknKSxcbiAgICAgIHF1ZXJ5UmVzdWx0czogc3RhdGUuaGFzVGFnKCdxdWVyeVJlc3VsdHMnKSxcbiAgICAgIG5vUmVzdWx0czogc3RhdGUuaGFzVGFnKCdlbXB0eScpLFxuICAgICAgcmVzdWx0czogc3RhdGUuaGFzVGFnKCdyZXN1bHRzJyksXG4gICAgICBlcnJvcjogc3RhdGUuaGFzVGFnKCdlcnJvcicpLFxuICAgICAgZmlyc3RSZXF1ZXN0OiBzdGF0ZS5jb250ZXh0LnJlc3BvbnNlID09PSB1bmRlZmluZWRcbiAgICB9O1xuICB9LCBbYWN0b3JdKSk7XG59O1xuXG52YXIgUEFHSU5BVEVEX01BQ0hJTkVfSUQgPSAncGFnaW5hdGVkQXBpJztcbnZhciBjb25uZWN0b3JzTWFjaGluZVNjaGVtYSA9IHtcbiAgY29udGV4dDogLyojX19QVVJFX18qL2NyZWF0ZVNjaGVtYSgpXG59O1xudmFyIGNvbm5lY3RvcnNNYWNoaW5lTW9kZWwgPSAvKiNfX1BVUkVfXyovY3JlYXRlTW9kZWwoe1xuICBhY2Nlc3NUb2tlbjogZnVuY3Rpb24gYWNjZXNzVG9rZW4oKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgnJyk7XG4gIH0sXG4gIGJhc2VQYXRoOiAnJyxcbiAgc2VsZWN0ZWRDb25uZWN0b3I6IHVuZGVmaW5lZFxufSwge1xuICBldmVudHM6IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7fSwgLyojX19QVVJFX18qL2dldFBhZ2luYXRlZEFwaU1hY2hpbmVFdmVudHMoKSwge1xuICAgIGFjdGlvblN1Y2Nlc3M6IGZ1bmN0aW9uIGFjdGlvblN1Y2Nlc3MoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBhY3Rpb25GYWlsdXJlOiBmdW5jdGlvbiBhY3Rpb25GYWlsdXJlKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgc2VsZWN0Q29ubmVjdG9yOiBmdW5jdGlvbiBzZWxlY3RDb25uZWN0b3IocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSxcbiAgICBkZXNlbGVjdENvbm5lY3RvcjogZnVuY3Rpb24gZGVzZWxlY3RDb25uZWN0b3IoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9KVxufSk7XG52YXIgY29ubmVjdG9yc01hY2hpbmUgPSAvKiNfX1BVUkVfXyovY3JlYXRlTWFjaGluZSh7XG4gIHNjaGVtYTogY29ubmVjdG9yc01hY2hpbmVTY2hlbWEsXG4gIGlkOiAnY29ubmVjdG9ycycsXG4gIGluaXRpYWw6ICdyb290JyxcbiAgY29udGV4dDogY29ubmVjdG9yc01hY2hpbmVNb2RlbC5pbml0aWFsQ29udGV4dCxcbiAgc3RhdGVzOiB7XG4gICAgcm9vdDoge1xuICAgICAgdHlwZTogJ3BhcmFsbGVsJyxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBhcGk6IHtcbiAgICAgICAgICBpbml0aWFsOiAnaWRsZScsXG4gICAgICAgICAgaW52b2tlOiB7XG4gICAgICAgICAgICBpZDogUEFHSU5BVEVEX01BQ0hJTkVfSUQsXG4gICAgICAgICAgICBzcmM6IGZ1bmN0aW9uIHNyYyhjb250ZXh0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBtYWtlUGFnaW5hdGVkQXBpTWFjaGluZShmZXRjaENvbm5lY3RvcnMoY29udGV4dC5hY2Nlc3NUb2tlbiwgY29udGV4dC5iYXNlUGF0aCksIGZ1bmN0aW9uIChjb25uZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Bhd24obWFrZUNvbm5lY3Rvck1hY2hpbmUoe1xuICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IGNvbnRleHQuYWNjZXNzVG9rZW4sXG4gICAgICAgICAgICAgICAgICBiYXNlUGF0aDogY29udGV4dC5iYXNlUGF0aCxcbiAgICAgICAgICAgICAgICAgIGNvbm5lY3RvcjogY29ubmVjdG9yXG4gICAgICAgICAgICAgICAgfSksIFwiY29ubmVjdG9yLVwiICsgY29ubmVjdG9yLmlkKTtcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHBvbGxpbmdFbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG9uQmVmb3JlU2V0UmVzcG9uc2U6IGZ1bmN0aW9uIG9uQmVmb3JlU2V0UmVzcG9uc2UoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGQgJiYgZC5zdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdGF0ZXM6IHtcbiAgICAgICAgICAgIGlkbGU6IHtcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAnYXBpLnJlYWR5JzogJ3JlYWR5J1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVhZHk6IHtcbiAgICAgICAgICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kJDEoJ2FwaS5xdWVyeScsIHtcbiAgICAgICAgICAgICAgICB0bzogUEFHSU5BVEVEX01BQ0hJTkVfSURcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uOiAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9nZXRQYWdpbmF0ZWRBcGlNYWNoaW5lRXZlbnRzSGFuZGxlcnMoUEFHSU5BVEVEX01BQ0hJTkVfSUQpLCB7XG4gICAgICAgICAgICAnYXBpLmVycm9yJzoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiAnbm90aWZ5RXJyb3InXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWN0aW9uU3VjY2Vzczoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovc2VuZCQxKCdhcGkucXVlcnknLCB7XG4gICAgICAgICAgICAgICAgdG86IFBBR0lOQVRFRF9NQUNISU5FX0lEXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWN0aW9uRmFpbHVyZToge1xuICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovc2VuZCQxKCdhcGkucXVlcnknLCB7XG4gICAgICAgICAgICAgICAgdG86IFBBR0lOQVRFRF9NQUNISU5FX0lEXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VsZWN0Q29ubmVjdG9yOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6ICdzZXRTZWxlY3RlZENvbm5lY3RvcidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXNlbGVjdENvbm5lY3Rvcjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiAndW5zZXRTZWxlY3RlZENvbm5lY3RvcidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBsaXN0aW5nOiB7fVxuICAgICAgfVxuICAgIH1cbiAgfVxufSwge1xuICBhY3Rpb25zOiB7XG4gICAgc2V0U2VsZWN0ZWRDb25uZWN0b3I6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdzZWxlY3RDb25uZWN0b3InKSByZXR1cm4ge307XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzZWxlY3RlZENvbm5lY3RvcjogZXZlbnQuY29ubmVjdG9yXG4gICAgICB9O1xuICAgIH0pLFxuICAgIHVuc2V0U2VsZWN0ZWRDb25uZWN0b3I6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdkZXNlbGVjdENvbm5lY3RvcicpIHJldHVybiB7fTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNlbGVjdGVkQ29ubmVjdG9yOiB1bmRlZmluZWRcbiAgICAgIH07XG4gICAgfSksXG4gICAgbm90aWZ5RXJyb3I6IGZ1bmN0aW9uIG5vdGlmeUVycm9yKGNvbnRleHQsIGV2ZW50KSB7XG4gICAgICBjb25zb2xlLmxvZyhjb250ZXh0LCBldmVudCk7XG5cbiAgICAgIGlmIChldmVudC50eXBlID09PSAnYXBpLmVycm9yJyAmJiBjb250ZXh0Lm9uRXJyb3IpIHtcbiAgICAgICAgY29udGV4dC5vbkVycm9yKGV2ZW50LmVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xudmFyIHVzZUNvbm5lY3RvcnNNYWNoaW5lID0gZnVuY3Rpb24gdXNlQ29ubmVjdG9yc01hY2hpbmUoc2VydmljZSkge1xuICB2YXIgYXBpRGF0YSA9IHVzZVBhZ2luYXRpb24oc2VydmljZS5zdGF0ZS5jaGlsZHJlbltQQUdJTkFURURfTUFDSElORV9JRF0pO1xuXG4gIHZhciBfdXNlU2VsZWN0b3IgPSB1c2VTZWxlY3RvcihzZXJ2aWNlLCB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2VsZWN0ZWRDb25uZWN0b3I6IHN0YXRlLmNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3JcbiAgICB9O1xuICB9LCBbc2VydmljZV0pKSxcbiAgICAgIHNlbGVjdGVkQ29ubmVjdG9yID0gX3VzZVNlbGVjdG9yLnNlbGVjdGVkQ29ubmVjdG9yO1xuXG4gIHZhciBkZXNlbGVjdENvbm5lY3RvciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBzZXJ2aWNlLnNlbmQoe1xuICAgICAgdHlwZTogJ2Rlc2VsZWN0Q29ubmVjdG9yJ1xuICAgIH0pO1xuICB9LCBbc2VydmljZV0pO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIGFwaURhdGEsIHtcbiAgICBzZWxlY3RlZENvbm5lY3Rvcjogc2VsZWN0ZWRDb25uZWN0b3IsXG4gICAgZGVzZWxlY3RDb25uZWN0b3I6IGRlc2VsZWN0Q29ubmVjdG9yXG4gIH0pO1xufTtcblxudmFyIENvbm5lY3RvcnNNYWNoaW5lU2VydmljZUNvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChudWxsKTtcbnZhciBDb25uZWN0b3JzTWFjaGluZVByb3ZpZGVyID0gZnVuY3Rpb24gQ29ubmVjdG9yc01hY2hpbmVQcm92aWRlcihfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBhY2Nlc3NUb2tlbiA9IF9yZWYuYWNjZXNzVG9rZW4sXG4gICAgICBiYXNlUGF0aCA9IF9yZWYuYmFzZVBhdGgsXG4gICAgICBvbkVycm9yID0gX3JlZi5vbkVycm9yO1xuICB2YXIgc2VydmljZSA9IHVzZUludGVycHJldChjb25uZWN0b3JzTWFjaGluZSwge1xuICAgIGNvbnRleHQ6IHtcbiAgICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICAgIGJhc2VQYXRoOiBiYXNlUGF0aCxcbiAgICAgIG9uRXJyb3I6IG9uRXJyb3JcbiAgICB9LFxuICAgIGRldlRvb2xzOiB0cnVlXG4gIH0pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDb25uZWN0b3JzTWFjaGluZVNlcnZpY2VDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHNlcnZpY2VcbiAgfSwgY2hpbGRyZW4pO1xufTtcbnZhciB1c2VDb25uZWN0b3JzTWFjaGluZVNlcnZpY2UgPSBmdW5jdGlvbiB1c2VDb25uZWN0b3JzTWFjaGluZVNlcnZpY2UoKSB7XG4gIHZhciBzZXJ2aWNlID0gdXNlQ29udGV4dChDb25uZWN0b3JzTWFjaGluZVNlcnZpY2VDb250ZXh0KTtcblxuICBpZiAoIXNlcnZpY2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VDb25uZWN0b3JzTWFjaGluZVNlcnZpY2UoKSBtdXN0IGJlIHVzZWQgaW4gYSBjaGlsZCBvZiA8Q29ubmVjdG9yc01hY2hpbmVQcm92aWRlcj5cIik7XG4gIH1cblxuICByZXR1cm4gc2VydmljZTtcbn07XG52YXIgdXNlQ29ubmVjdG9yc01hY2hpbmVJc1JlYWR5ID0gZnVuY3Rpb24gdXNlQ29ubmVjdG9yc01hY2hpbmVJc1JlYWR5KHNlcnZpY2UpIHtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKHNlcnZpY2UsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5tYXRjaGVzKHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgYXBpOiAncmVhZHknXG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtzZXJ2aWNlXSkpO1xufTtcblxudmFyIFBBR0lOQVRFRF9NQUNISU5FX0lEJDEgPSAncGFnaW5hdGVkQXBpJztcblxudmFyIGZldGNoQ2x1c3RlcnMgPSBmdW5jdGlvbiBmZXRjaENsdXN0ZXJzKGFjY2Vzc1Rva2VuLCBiYXNlUGF0aCkge1xuICB2YXIgYXBpc1NlcnZpY2UgPSBuZXcgQ29ubmVjdG9yQ2x1c3RlcnNBcGkobmV3IENvbmZpZ3VyYXRpb24oe1xuICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICBiYXNlUGF0aDogYmFzZVBhdGhcbiAgfSkpO1xuICByZXR1cm4gZnVuY3Rpb24gKHJlcXVlc3QsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBDYW5jZWxUb2tlbiA9IGF4aW9zLkNhbmNlbFRva2VuO1xuICAgIHZhciBzb3VyY2UgPSBDYW5jZWxUb2tlbi5zb3VyY2UoKTtcbiAgICB2YXIgcGFnZSA9IHJlcXVlc3QucGFnZSxcbiAgICAgICAgc2l6ZSA9IHJlcXVlc3Quc2l6ZTtcbiAgICBhcGlzU2VydmljZS5saXN0Q29ubmVjdG9yQ2x1c3RlcnMoXCJcIiArIHBhZ2UsIFwiXCIgKyBzaXplLCB7XG4gICAgICBjYW5jZWxUb2tlbjogc291cmNlLnRva2VuXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIG9uU3VjY2Vzcyh7XG4gICAgICAgIGl0ZW1zOiByZXNwb25zZS5kYXRhLml0ZW1zLFxuICAgICAgICB0b3RhbDogcmVzcG9uc2UuZGF0YS50b3RhbCxcbiAgICAgICAgcGFnZTogcmVzcG9uc2UuZGF0YS5wYWdlLFxuICAgICAgICBzaXplOiByZXNwb25zZS5kYXRhLnNpemVcbiAgICAgIH0pO1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoIWF4aW9zLmlzQ2FuY2VsKGVycm9yKSkge1xuICAgICAgICBvbkVycm9yKHtcbiAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBwYWdlOiByZXF1ZXN0LnBhZ2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNvdXJjZS5jYW5jZWwoJ09wZXJhdGlvbiBjYW5jZWxlZCBieSB0aGUgdXNlci4nKTtcbiAgICB9O1xuICB9O1xufTtcblxudmFyIGNsdXN0ZXJzTWFjaGluZVNjaGVtYSA9IHtcbiAgY29udGV4dDogLyojX19QVVJFX18qL2NyZWF0ZVNjaGVtYSgpXG59O1xudmFyIGNsdXN0ZXJzTWFjaGluZU1vZGVsID0gLyojX19QVVJFX18qL2NyZWF0ZU1vZGVsKHtcbiAgYWNjZXNzVG9rZW46IGZ1bmN0aW9uIGFjY2Vzc1Rva2VuKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJycpO1xuICB9LFxuICBiYXNlUGF0aDogJycsXG4gIGNsdXN0ZXJzOiB1bmRlZmluZWQsXG4gIHNlbGVjdGVkQ2x1c3RlcjogdW5kZWZpbmVkLFxuICBlcnJvcjogdW5kZWZpbmVkXG59LCB7XG4gIGV2ZW50czogLyojX19QVVJFX18qL19leHRlbmRzKHtcbiAgICBzZWxlY3RDbHVzdGVyOiBmdW5jdGlvbiBzZWxlY3RDbHVzdGVyKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcGF5bG9hZCk7XG4gICAgfSxcbiAgICBkZXNlbGVjdENsdXN0ZXI6IGZ1bmN0aW9uIGRlc2VsZWN0Q2x1c3RlcigpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0oKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9LCAvKiNfX1BVUkVfXyovZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50cygpKVxufSk7XG52YXIgY2x1c3RlcnNNYWNoaW5lID0gLyojX19QVVJFX18qL2NyZWF0ZU1hY2hpbmUoe1xuICBzY2hlbWE6IGNsdXN0ZXJzTWFjaGluZVNjaGVtYSxcbiAgaWQ6ICdjbHVzdGVycycsXG4gIGluaXRpYWw6ICdyb290JyxcbiAgY29udGV4dDogY2x1c3RlcnNNYWNoaW5lTW9kZWwuaW5pdGlhbENvbnRleHQsXG4gIHN0YXRlczoge1xuICAgIHJvb3Q6IHtcbiAgICAgIHR5cGU6ICdwYXJhbGxlbCcsXG4gICAgICBzdGF0ZXM6IHtcbiAgICAgICAgYXBpOiB7XG4gICAgICAgICAgaW5pdGlhbDogJ2lkbGUnLFxuICAgICAgICAgIGludm9rZToge1xuICAgICAgICAgICAgaWQ6IFBBR0lOQVRFRF9NQUNISU5FX0lEJDEsXG4gICAgICAgICAgICBzcmM6IGZ1bmN0aW9uIHNyYyhjb250ZXh0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBtYWtlUGFnaW5hdGVkQXBpTWFjaGluZShmZXRjaENsdXN0ZXJzKGNvbnRleHQuYWNjZXNzVG9rZW4sIGNvbnRleHQuYmFzZVBhdGgpLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YXRlczoge1xuICAgICAgICAgICAgaWRsZToge1xuICAgICAgICAgICAgICBlbnRyeTogLyojX19QVVJFX18qL3NlbmQkMSgnYXBpLnF1ZXJ5Jywge1xuICAgICAgICAgICAgICAgIHRvOiBQQUdJTkFURURfTUFDSElORV9JRCQxXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICdhcGkucmVhZHknOiAncmVhZHknXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWFkeToge31cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uOiAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9nZXRQYWdpbmF0ZWRBcGlNYWNoaW5lRXZlbnRzSGFuZGxlcnMoUEFHSU5BVEVEX01BQ0hJTkVfSUQkMSksIHtcbiAgICAgICAgICAgICdhcGkuc3VjY2Vzcyc6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogJ3N1Y2Nlc3MnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0aW9uOiB7XG4gICAgICAgICAgaWQ6ICdzZWxlY3Rpb24nLFxuICAgICAgICAgIGluaXRpYWw6ICd2ZXJpZnknLFxuICAgICAgICAgIHN0YXRlczoge1xuICAgICAgICAgICAgdmVyaWZ5OiB7XG4gICAgICAgICAgICAgIGFsd2F5czogW3tcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdzZWxlY3RpbmcnLFxuICAgICAgICAgICAgICAgIGNvbmQ6ICdub0NsdXN0ZXJTZWxlY3RlZCdcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ3ZhbGlkJyxcbiAgICAgICAgICAgICAgICBjb25kOiAnY2x1c3RlclNlbGVjdGVkJ1xuICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdGluZzoge1xuICAgICAgICAgICAgICBlbnRyeTogLyojX19QVVJFX18qL3NlbmRQYXJlbnQkMSgnaXNJbnZhbGlkJyksXG4gICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0Q2x1c3Rlcjoge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAndmFsaWQnLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uczogJ3NlbGVjdENsdXN0ZXInXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmFsaWQ6IHtcbiAgICAgICAgICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50JDEoJ2lzVmFsaWQnKSxcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICBzZWxlY3RDbHVzdGVyOiB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uczogJ3NlbGVjdENsdXN0ZXInLFxuICAgICAgICAgICAgICAgICAgY29uZDogZnVuY3Rpb24gY29uZChfLCBldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuc2VsZWN0ZWRDbHVzdGVyICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZXNlbGVjdENsdXN0ZXI6IHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zOiAncmVzZXQnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb25maXJtOiB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXQ6ICcjZG9uZScsXG4gICAgICAgICAgICAgICAgICBjb25kOiAnY2x1c3RlclNlbGVjdGVkJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZG9uZToge1xuICAgICAgaWQ6ICdkb25lJyxcbiAgICAgIHR5cGU6ICdmaW5hbCcsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNlbGVjdGVkQ2x1c3RlcjogZnVuY3Rpb24gc2VsZWN0ZWRDbHVzdGVyKGNvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZENsdXN0ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn0sIHtcbiAgYWN0aW9uczoge1xuICAgIHN1Y2Nlc3M6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdhcGkuc3VjY2VzcycpIHJldHVybiB7fTtcblxuICAgICAgdmFyIHJlc3BvbnNlID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoZXZlbnQsIFtcInR5cGVcIl0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXNwb25zZTogcmVzcG9uc2VcbiAgICAgIH07XG4gICAgfSksXG4gICAgc2VsZWN0Q2x1c3RlcjogLyojX19QVVJFX18qL2Fzc2lnbih7XG4gICAgICBzZWxlY3RlZENsdXN0ZXI6IGZ1bmN0aW9uIHNlbGVjdGVkQ2x1c3Rlcihjb250ZXh0LCBldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3NlbGVjdENsdXN0ZXInKSB7XG4gICAgICAgICAgdmFyIF9jb250ZXh0JHJlc3BvbnNlLCBfY29udGV4dCRyZXNwb25zZSRpdGU7XG5cbiAgICAgICAgICByZXR1cm4gKF9jb250ZXh0JHJlc3BvbnNlID0gY29udGV4dC5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY29udGV4dCRyZXNwb25zZSRpdGUgPSBfY29udGV4dCRyZXNwb25zZS5pdGVtcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jb250ZXh0JHJlc3BvbnNlJGl0ZS5maW5kKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICByZXR1cm4gaS5pZCA9PT0gZXZlbnQuc2VsZWN0ZWRDbHVzdGVyO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRDbHVzdGVyO1xuICAgICAgfVxuICAgIH0pLFxuICAgIHJlc2V0OiAvKiNfX1BVUkVfXyovYXNzaWduKHtcbiAgICAgIHNlbGVjdGVkQ2x1c3RlcjogZnVuY3Rpb24gc2VsZWN0ZWRDbHVzdGVyKGNvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBldmVudC50eXBlID09PSAnZGVzZWxlY3RDbHVzdGVyJyA/IHVuZGVmaW5lZCA6IGNvbnRleHQuc2VsZWN0ZWRDbHVzdGVyO1xuICAgICAgfVxuICAgIH0pXG4gIH0sXG4gIGd1YXJkczoge1xuICAgIGNsdXN0ZXJTZWxlY3RlZDogZnVuY3Rpb24gY2x1c3RlclNlbGVjdGVkKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkQ2x1c3RlciAhPT0gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgbm9DbHVzdGVyU2VsZWN0ZWQ6IGZ1bmN0aW9uIG5vQ2x1c3RlclNlbGVjdGVkKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkQ2x1c3RlciA9PT0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufSk7XG52YXIgdXNlQ2x1c3RlcnNNYWNoaW5lSXNSZWFkeSA9IGZ1bmN0aW9uIHVzZUNsdXN0ZXJzTWFjaGluZUlzUmVhZHkoYWN0b3IpIHtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKGFjdG9yLCB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUubWF0Y2hlcyh7XG4gICAgICByb290OiB7XG4gICAgICAgIGFwaTogJ3JlYWR5J1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbYWN0b3JdKSk7XG59O1xudmFyIHVzZUNsdXN0ZXJzTWFjaGluZSA9IGZ1bmN0aW9uIHVzZUNsdXN0ZXJzTWFjaGluZShhY3Rvcikge1xuICB2YXIgYXBpID0gdXNlUGFnaW5hdGlvbihhY3Rvci5zdGF0ZS5jaGlsZHJlbltQQUdJTkFURURfTUFDSElORV9JRCQxXSk7XG5cbiAgdmFyIF91c2VTZWxlY3RvciA9IHVzZVNlbGVjdG9yKGFjdG9yLCB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICB2YXIgX3N0YXRlJGNvbnRleHQkc2VsZWN0O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbGVjdGVkSWQ6IChfc3RhdGUkY29udGV4dCRzZWxlY3QgPSBzdGF0ZS5jb250ZXh0LnNlbGVjdGVkQ2x1c3RlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9zdGF0ZSRjb250ZXh0JHNlbGVjdC5pZFxuICAgIH07XG4gIH0sIFthY3Rvcl0pKSxcbiAgICAgIHNlbGVjdGVkSWQgPSBfdXNlU2VsZWN0b3Iuc2VsZWN0ZWRJZDtcblxuICB2YXIgb25TZWxlY3QgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc2VsZWN0ZWRDbHVzdGVyKSB7XG4gICAgYWN0b3Iuc2VuZCh7XG4gICAgICB0eXBlOiAnc2VsZWN0Q2x1c3RlcicsXG4gICAgICBzZWxlY3RlZENsdXN0ZXI6IHNlbGVjdGVkQ2x1c3RlclxuICAgIH0pO1xuICB9LCBbYWN0b3JdKTtcbiAgdmFyIG9uUXVlcnkgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgIGFjdG9yLnNlbmQoX2V4dGVuZHMoe1xuICAgICAgdHlwZTogJ2FwaS5xdWVyeSdcbiAgICB9LCByZXF1ZXN0KSk7XG4gIH0sIFthY3Rvcl0pO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIGFwaSwge1xuICAgIHNlbGVjdGVkSWQ6IHNlbGVjdGVkSWQsXG4gICAgb25TZWxlY3Q6IG9uU2VsZWN0LFxuICAgIG9uUXVlcnk6IG9uUXVlcnlcbiAgfSk7XG59O1xuXG52YXIgY29uZmlndXJhdG9yTG9hZGVyTWFjaGluZVNjaGVtYSA9IHtcbiAgY29udGV4dDogLyojX19QVVJFX18qL2NyZWF0ZVNjaGVtYSgpXG59O1xudmFyIGNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUgPSAvKiNfX1BVUkVfXyovY3JlYXRlTWFjaGluZSh7XG4gIHNjaGVtYTogY29uZmlndXJhdG9yTG9hZGVyTWFjaGluZVNjaGVtYSxcbiAgaWQ6ICdjb25maWd1cmF0b3InLFxuICBpbml0aWFsOiAnbG9hZGluZycsXG4gIHN0YXRlczoge1xuICAgIGxvYWRpbmc6IHtcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ2ZldGNoQ29uZmlndXJhdG9yJyxcbiAgICAgICAgc3JjOiAnZmV0Y2hDb25maWd1cmF0b3InLFxuICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICdzdWNjZXNzJyxcbiAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBldmVudC5kYXRhO1xuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIG9uRXJyb3I6IHtcbiAgICAgICAgICB0YXJnZXQ6ICdmYWlsdXJlJyxcbiAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovYXNzaWduKHtcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LmRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZmFpbHVyZToge1xuICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9lc2NhbGF0ZShmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1lc3NhZ2U6IGNvbnRleHQuZXJyb3JcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgfSxcbiAgICBzdWNjZXNzOiB7XG4gICAgICB0eXBlOiAnZmluYWwnLFxuICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShfcmVmKSB7XG4gICAgICAgIHZhciBDb25maWd1cmF0b3IgPSBfcmVmLkNvbmZpZ3VyYXRvcixcbiAgICAgICAgICAgIHN0ZXBzID0gX3JlZi5zdGVwcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBDb25maWd1cmF0b3I6IENvbmZpZ3VyYXRvcixcbiAgICAgICAgICBzdGVwczogc3RlcHNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG52YXIgY29uZmlndXJhdG9yTWFjaGluZVNjaGVtYSA9IHtcbiAgY29udGV4dDogLyojX19QVVJFX18qL2NyZWF0ZVNjaGVtYSgpXG59O1xudmFyIGNvbmZpZ3VyYXRvck1hY2hpbmUgPSAvKiNfX1BVUkVfXyovY3JlYXRlTWFjaGluZSh7XG4gIHNjaGVtYTogY29uZmlndXJhdG9yTWFjaGluZVNjaGVtYSxcbiAgaWQ6ICdjb25maWd1cmF0b3InLFxuICBpbml0aWFsOiAnY29uZmlndXJpbmcnLFxuICBjb250ZXh0OiB7XG4gICAgY29ubmVjdG9yOiB7XG4gICAgICBpZDogJ3NvbWV0aGluZycsXG4gICAgICBuYW1lOiAnc29tZXRoaW5nJyxcbiAgICAgIHZlcnNpb246ICcwLjEnLFxuICAgICAganNvbl9zY2hlbWE6IHt9XG4gICAgfSxcbiAgICBzdGVwczogWydvbmUnLCAndHdvJywgJ3RocmVlJ10sXG4gICAgYWN0aXZlU3RlcDogMCxcbiAgICBpc0FjdGl2ZVN0ZXBWYWxpZDogZmFsc2UsXG4gICAgY29uZmlndXJhdGlvbjogdW5kZWZpbmVkXG4gIH0sXG4gIHN0YXRlczoge1xuICAgIGNvbmZpZ3VyaW5nOiB7XG4gICAgICBlbnRyeTogLyojX19QVVJFX18qL3NlbmRQYXJlbnQkMSgnaXNJbnZhbGlkJyksXG4gICAgICBhbHdheXM6IFt7XG4gICAgICAgIHRhcmdldDogJ3ZhbGlkJyxcbiAgICAgICAgY29uZDogJ2FjdGl2ZVN0ZXBWYWxpZCdcbiAgICAgIH1dXG4gICAgfSxcbiAgICB2YWxpZDoge1xuICAgICAgaWQ6ICd2YWxpZCcsXG4gICAgICBpbml0aWFsOiAnZGV0ZXJtaW5lU3RlcCcsXG4gICAgICBlbnRyeTogLyojX19QVVJFX18qL3NlbmRQYXJlbnQkMSgnaXNWYWxpZCcpLFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGRldGVybWluZVN0ZXA6IHtcbiAgICAgICAgICBhbHdheXM6IFt7XG4gICAgICAgICAgICB0YXJnZXQ6ICcjdmFsaWQubGFzdFN0ZXAnLFxuICAgICAgICAgICAgY29uZDogJ2lzTGFzdFN0ZXAnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgdGFyZ2V0OiAnI3ZhbGlkLmhhc05leHRTdGVwJ1xuICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIGhhc05leHRTdGVwOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIG5leHQ6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiAnI2NvbmZpZ3VyYXRvci5jb25maWd1cmluZycsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFsnbmV4dFN0ZXAnLCAnY2hhbmdlZFN0ZXAnXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbGFzdFN0ZXA6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgbmV4dDogJyNjb25maWd1cmF0b3IuY29uZmlndXJlZCdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbmZpZ3VyZWQ6IHtcbiAgICAgIHR5cGU6ICdmaW5hbCcsXG4gICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKF9yZWYyKSB7XG4gICAgICAgIHZhciBjb25maWd1cmF0aW9uID0gX3JlZjIuY29uZmlndXJhdGlvbjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjb25maWd1cmF0aW9uOiBjb25maWd1cmF0aW9uXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBvbjoge1xuICAgIGNoYW5nZToge1xuICAgICAgdGFyZ2V0OiAnY29uZmlndXJpbmcnLFxuICAgICAgYWN0aW9uczogJ2NoYW5nZSdcbiAgICB9LFxuICAgIHByZXY6IHtcbiAgICAgIHRhcmdldDogJ2NvbmZpZ3VyaW5nJyxcbiAgICAgIGFjdGlvbnM6IFsncHJldlN0ZXAnLCAnY2hhbmdlZFN0ZXAnXVxuICAgIH1cbiAgfVxufSwge1xuICBhY3Rpb25zOiB7XG4gICAgbmV4dFN0ZXA6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFjdGl2ZVN0ZXA6IE1hdGgubWluKGNvbnRleHQuYWN0aXZlU3RlcCArIDEsIGNvbnRleHQuc3RlcHMubGVuZ3RoIC0gMSksXG4gICAgICAgIGlzQWN0aXZlU3RlcFZhbGlkOiBmYWxzZVxuICAgICAgfTtcbiAgICB9KSxcbiAgICBwcmV2U3RlcDogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYWN0aXZlU3RlcDogTWF0aC5tYXgoY29udGV4dC5hY3RpdmVTdGVwIC0gMSwgMCksXG4gICAgICAgIGlzQWN0aXZlU3RlcFZhbGlkOiBmYWxzZVxuICAgICAgfTtcbiAgICB9KSxcbiAgICBjaGFuZ2U6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF8sIGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQudHlwZSA9PT0gJ2NoYW5nZScgPyB7XG4gICAgICAgIGNvbmZpZ3VyYXRpb246IGV2ZW50LmNvbmZpZ3VyYXRpb24sXG4gICAgICAgIGlzQWN0aXZlU3RlcFZhbGlkOiBldmVudC5pc1ZhbGlkXG4gICAgICB9IDoge307XG4gICAgfSksXG4gICAgY2hhbmdlZFN0ZXA6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50JDEoZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdjaGFuZ2VkU3RlcCcsXG4gICAgICAgIHN0ZXA6IGNvbnRleHQuYWN0aXZlU3RlcFxuICAgICAgfTtcbiAgICB9KVxuICB9LFxuICBndWFyZHM6IHtcbiAgICBpc0xhc3RTdGVwOiBmdW5jdGlvbiBpc0xhc3RTdGVwKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmFjdGl2ZVN0ZXAgPT09IGNvbnRleHQuc3RlcHMubGVuZ3RoIC0gMTtcbiAgICB9LFxuICAgIGFjdGl2ZVN0ZXBWYWxpZDogZnVuY3Rpb24gYWN0aXZlU3RlcFZhbGlkKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmlzQWN0aXZlU3RlcFZhbGlkO1xuICAgIH1cbiAgfVxufSk7XG5cbnZhciBmZXRjaENvbm5lY3RvclR5cGVzID0gZnVuY3Rpb24gZmV0Y2hDb25uZWN0b3JUeXBlcyhhY2Nlc3NUb2tlbiwgYmFzZVBhdGgpIHtcbiAgdmFyIGFwaXNTZXJ2aWNlID0gbmV3IENvbm5lY3RvclR5cGVzQXBpKG5ldyBDb25maWd1cmF0aW9uKHtcbiAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXG4gICAgYmFzZVBhdGg6IGJhc2VQYXRoXG4gIH0pKTtcbiAgcmV0dXJuIGFwaXNTZXJ2aWNlLmxpc3RDb25uZWN0b3JUeXBlcygpO1xufTtcblxudmFyIGNvbm5lY3RvclR5cGVzTWFjaGluZVNjaGVtYSA9IHtcbiAgY29udGV4dDogLyojX19QVVJFX18qL2NyZWF0ZVNjaGVtYSgpXG59O1xudmFyIGNvbm5lY3RvclR5cGVzTWFjaGluZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVNYWNoaW5lKHtcbiAgc2NoZW1hOiBjb25uZWN0b3JUeXBlc01hY2hpbmVTY2hlbWEsXG4gIGlkOiAnY29ubmVjdG9ycycsXG4gIGluaXRpYWw6ICdsb2FkaW5nJyxcbiAgc3RhdGVzOiB7XG4gICAgbG9hZGluZzoge1xuICAgICAgaW52b2tlOiB7XG4gICAgICAgIGlkOiAnZmV0Y2hDb25uZWN0b3JzJyxcbiAgICAgICAgc3JjOiBmdW5jdGlvbiBzcmMoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBmZXRjaENvbm5lY3RvclR5cGVzKGNvbnRleHQuYWNjZXNzVG9rZW4sIGNvbnRleHQuYmFzZVBhdGgpO1xuICAgICAgICB9LFxuICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgIGFjdGlvbnM6IC8qI19fUFVSRV9fKi9hc3NpZ24oe1xuICAgICAgICAgICAgY29ubmVjdG9yczogZnVuY3Rpb24gY29ubmVjdG9ycyhfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LmRhdGEuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiB7XG4gICAgICAgICAgdGFyZ2V0OiAnZmFpbHVyZScsXG4gICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbih7XG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBldmVudC5kYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGZhaWx1cmU6IHtcbiAgICAgIGVudHJ5OiAvKiNfX1BVUkVfXyovZXNjYWxhdGUoZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtZXNzYWdlOiBjb250ZXh0LmVycm9yXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgIH0sXG4gICAgdmVyaWZ5OiB7XG4gICAgICBhbHdheXM6IFt7XG4gICAgICAgIHRhcmdldDogJ3NlbGVjdGluZycsXG4gICAgICAgIGNvbmQ6ICdub0Nvbm5lY3RvclNlbGVjdGVkJ1xuICAgICAgfSwge1xuICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgIGNvbmQ6ICdjb25uZWN0b3JTZWxlY3RlZCdcbiAgICAgIH1dXG4gICAgfSxcbiAgICBzZWxlY3Rpbmc6IHtcbiAgICAgIGVudHJ5OiAvKiNfX1BVUkVfXyovc2VuZFBhcmVudCQxKCdpc0ludmFsaWQnKSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHNlbGVjdENvbm5lY3Rvcjoge1xuICAgICAgICAgIHRhcmdldDogJ3ZhbGlkJyxcbiAgICAgICAgICBhY3Rpb25zOiAnc2VsZWN0Q29ubmVjdG9yJyxcbiAgICAgICAgICBjb25kOiBmdW5jdGlvbiBjb25kKF8sIGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQuc2VsZWN0ZWRDb25uZWN0b3IgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHZhbGlkOiB7XG4gICAgICBlbnRyeTogLyojX19QVVJFX18qL3NlbmRQYXJlbnQkMSgnaXNWYWxpZCcpLFxuICAgICAgb246IHtcbiAgICAgICAgc2VsZWN0Q29ubmVjdG9yOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiAnc2VsZWN0Q29ubmVjdG9yJ1xuICAgICAgICB9LFxuICAgICAgICBkZXNlbGVjdENvbm5lY3Rvcjoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogJ3Jlc2V0J1xuICAgICAgICB9LFxuICAgICAgICBjb25maXJtOiB7XG4gICAgICAgICAgdGFyZ2V0OiAnZG9uZScsXG4gICAgICAgICAgY29uZDogJ2Nvbm5lY3RvclNlbGVjdGVkJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkb25lOiB7XG4gICAgICB0eXBlOiAnZmluYWwnLFxuICAgICAgZGF0YToge1xuICAgICAgICBzZWxlY3RlZENvbm5lY3RvcjogZnVuY3Rpb24gc2VsZWN0ZWRDb25uZWN0b3IoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkQ29ubmVjdG9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59LCB7XG4gIGFjdGlvbnM6IHtcbiAgICBzZWxlY3RDb25uZWN0b3I6IC8qI19fUFVSRV9fKi9hc3NpZ24oe1xuICAgICAgc2VsZWN0ZWRDb25uZWN0b3I6IGZ1bmN0aW9uIHNlbGVjdGVkQ29ubmVjdG9yKGNvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAnc2VsZWN0Q29ubmVjdG9yJykge1xuICAgICAgICAgIHZhciBfY29udGV4dCRjb25uZWN0b3JzLCBfY29udGV4dCRjb25uZWN0b3JzJGk7XG5cbiAgICAgICAgICByZXR1cm4gKF9jb250ZXh0JGNvbm5lY3RvcnMgPSBjb250ZXh0LmNvbm5lY3RvcnMpID09IG51bGwgPyB2b2lkIDAgOiAoX2NvbnRleHQkY29ubmVjdG9ycyRpID0gX2NvbnRleHQkY29ubmVjdG9ycy5pdGVtcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jb250ZXh0JGNvbm5lY3RvcnMkaS5maW5kKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICByZXR1cm4gaS5pZCA9PT0gZXZlbnQuc2VsZWN0ZWRDb25uZWN0b3I7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZENvbm5lY3RvcjtcbiAgICAgIH1cbiAgICB9KSxcbiAgICByZXNldDogLyojX19QVVJFX18qL2Fzc2lnbih7XG4gICAgICBzZWxlY3RlZENvbm5lY3RvcjogZnVuY3Rpb24gc2VsZWN0ZWRDb25uZWN0b3IoY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnR5cGUgPT09ICdkZXNlbGVjdENvbm5lY3RvcicgPyB1bmRlZmluZWQgOiBjb250ZXh0LnNlbGVjdGVkQ29ubmVjdG9yO1xuICAgICAgfVxuICAgIH0pXG4gIH0sXG4gIGd1YXJkczoge1xuICAgIGNvbm5lY3RvclNlbGVjdGVkOiBmdW5jdGlvbiBjb25uZWN0b3JTZWxlY3RlZChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZENvbm5lY3RvciAhPT0gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgbm9Db25uZWN0b3JTZWxlY3RlZDogZnVuY3Rpb24gbm9Db25uZWN0b3JTZWxlY3RlZChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZENvbm5lY3RvciA9PT0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufSk7XG5cbnZhciBQQUdJTkFURURfTUFDSElORV9JRCQyID0gJ3BhZ2luYXRlZEFwaSc7XG5cbnZhciBmZXRjaEthZmthSW5zdGFuY2VzID0gZnVuY3Rpb24gZmV0Y2hLYWZrYUluc3RhbmNlcyhhY2Nlc3NUb2tlbiwgYmFzZVBhdGgpIHtcbiAgLy8gVE9ETzogcmVtb3ZlIGFmdGVyIGRlbW9cbiAgYmFzZVBhdGggPSAnaHR0cHM6Ly9hcGkub3BlbnNoaWZ0LmNvbSc7XG4gIHZhciBhcGlzU2VydmljZSA9IG5ldyBEZWZhdWx0QXBpKG5ldyBDb25maWd1cmF0aW9uKHtcbiAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXG4gICAgYmFzZVBhdGg6IGJhc2VQYXRoXG4gIH0pKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChyZXF1ZXN0LCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgQ2FuY2VsVG9rZW4gPSBheGlvcy5DYW5jZWxUb2tlbjtcbiAgICB2YXIgc291cmNlID0gQ2FuY2VsVG9rZW4uc291cmNlKCk7XG4gICAgdmFyIHBhZ2UgPSByZXF1ZXN0LnBhZ2UsXG4gICAgICAgIHNpemUgPSByZXF1ZXN0LnNpemUsXG4gICAgICAgIHF1ZXJ5ID0gcmVxdWVzdC5xdWVyeTtcblxuICAgIHZhciBfcmVmID0gcXVlcnkgfHwge30sXG4gICAgICAgIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICAgIHN0YXR1c2VzID0gX3JlZi5zdGF0dXNlcztcblxuICAgIHZhciBuYW1lU2VhcmNoID0gbmFtZSAmJiBuYW1lLmxlbmd0aCA+IDAgPyBcIiBuYW1lIExJS0UgXCIgKyBuYW1lIDogdW5kZWZpbmVkO1xuICAgIHZhciBzdGF0dXNTZWFyY2ggPSBzdGF0dXNlcyAmJiBzdGF0dXNlcy5sZW5ndGggPiAwID8gc3RhdHVzZXMubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICByZXR1cm4gXCJzdGF0dXMgPSBcIiArIHM7XG4gICAgfSkuam9pbignIE9SICcpIDogdW5kZWZpbmVkO1xuICAgIHZhciBzZWFyY2ggPSBbbmFtZVNlYXJjaCwgc3RhdHVzU2VhcmNoXS5maWx0ZXIoQm9vbGVhbikuam9pbignIEFORCAnKTtcbiAgICBhcGlzU2VydmljZS5nZXRLYWZrYXMoXCJcIiArIHBhZ2UsIFwiXCIgKyBzaXplLCB1bmRlZmluZWQsIHNlYXJjaCwge1xuICAgICAgY2FuY2VsVG9rZW46IHNvdXJjZS50b2tlblxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBvblN1Y2Nlc3Moe1xuICAgICAgICBpdGVtczogcmVzcG9uc2UuZGF0YS5pdGVtcyxcbiAgICAgICAgdG90YWw6IHJlc3BvbnNlLmRhdGEudG90YWwsXG4gICAgICAgIHBhZ2U6IHJlc3BvbnNlLmRhdGEucGFnZSxcbiAgICAgICAgc2l6ZTogcmVzcG9uc2UuZGF0YS5zaXplXG4gICAgICB9KTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKCFheGlvcy5pc0NhbmNlbChlcnJvcikpIHtcbiAgICAgICAgb25FcnJvcih7XG4gICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgcGFnZTogcmVxdWVzdC5wYWdlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBzb3VyY2UuY2FuY2VsKCdPcGVyYXRpb24gY2FuY2VsZWQgYnkgdGhlIHVzZXIuJyk7XG4gICAgfTtcbiAgfTtcbn07XG5cbnZhciBrYWZrYXNNYWNoaW5lU2NoZW1hID0ge1xuICBjb250ZXh0OiAvKiNfX1BVUkVfXyovY3JlYXRlU2NoZW1hKClcbn07XG52YXIga2Fma2FzTWFjaGluZU1vZGVsID0gLyojX19QVVJFX18qL2NyZWF0ZU1vZGVsKHtcbiAgYWNjZXNzVG9rZW46IGZ1bmN0aW9uIGFjY2Vzc1Rva2VuKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJycpO1xuICB9LFxuICBiYXNlUGF0aDogJycsXG4gIGluc3RhbmNlczogdW5kZWZpbmVkLFxuICBzZWxlY3RlZEluc3RhbmNlOiB1bmRlZmluZWQsXG4gIGVycm9yOiB1bmRlZmluZWRcbn0sIHtcbiAgZXZlbnRzOiAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe1xuICAgIHNlbGVjdEluc3RhbmNlOiBmdW5jdGlvbiBzZWxlY3RJbnN0YW5jZShwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHBheWxvYWQpO1xuICAgIH0sXG4gICAgZGVzZWxlY3RJbnN0YW5jZTogZnVuY3Rpb24gZGVzZWxlY3RJbnN0YW5jZSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0oKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9LCAvKiNfX1BVUkVfXyovZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50cygpKVxufSk7XG52YXIga2Fma2FzTWFjaGluZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVNYWNoaW5lKHtcbiAgc2NoZW1hOiBrYWZrYXNNYWNoaW5lU2NoZW1hLFxuICBpZDogJ2thZmthcycsXG4gIGluaXRpYWw6ICdyb290JyxcbiAgY29udGV4dDoga2Fma2FzTWFjaGluZU1vZGVsLmluaXRpYWxDb250ZXh0LFxuICBzdGF0ZXM6IHtcbiAgICByb290OiB7XG4gICAgICB0eXBlOiAncGFyYWxsZWwnLFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGFwaToge1xuICAgICAgICAgIGluaXRpYWw6ICdpZGxlJyxcbiAgICAgICAgICBpbnZva2U6IHtcbiAgICAgICAgICAgIGlkOiBQQUdJTkFURURfTUFDSElORV9JRCQyLFxuICAgICAgICAgICAgc3JjOiBmdW5jdGlvbiBzcmMoY29udGV4dCkge1xuICAgICAgICAgICAgICByZXR1cm4gbWFrZVBhZ2luYXRlZEFwaU1hY2hpbmUoZmV0Y2hLYWZrYUluc3RhbmNlcyhjb250ZXh0LmFjY2Vzc1Rva2VuLCBjb250ZXh0LmJhc2VQYXRoKSwgZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdGF0ZXM6IHtcbiAgICAgICAgICAgIGlkbGU6IHtcbiAgICAgICAgICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kJDEoJ2FwaS5xdWVyeScsIHtcbiAgICAgICAgICAgICAgICB0bzogUEFHSU5BVEVEX01BQ0hJTkVfSUQkMlxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAnYXBpLnJlYWR5JzogJ3JlYWR5J1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVhZHk6IHt9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbjogLyojX19QVVJFX18qL19leHRlbmRzKHt9LCAvKiNfX1BVUkVfXyovZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50c0hhbmRsZXJzKFBBR0lOQVRFRF9NQUNISU5FX0lEJDIpLCB7XG4gICAgICAgICAgICAnYXBpLnN1Y2Nlc3MnOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6ICdzdWNjZXNzJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdGlvbjoge1xuICAgICAgICAgIGlkOiAnc2VsZWN0aW9uJyxcbiAgICAgICAgICBpbml0aWFsOiAndmVyaWZ5JyxcbiAgICAgICAgICBzdGF0ZXM6IHtcbiAgICAgICAgICAgIHZlcmlmeToge1xuICAgICAgICAgICAgICBhbHdheXM6IFt7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnc2VsZWN0aW5nJyxcbiAgICAgICAgICAgICAgICBjb25kOiAnbm9JbnN0YW5jZVNlbGVjdGVkJ1xuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAndmFsaWQnLFxuICAgICAgICAgICAgICAgIGNvbmQ6ICdpbnN0YW5jZVNlbGVjdGVkJ1xuICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdGluZzoge1xuICAgICAgICAgICAgICBlbnRyeTogLyojX19QVVJFX18qL3NlbmRQYXJlbnQoJ2lzSW52YWxpZCcpLFxuICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgIHNlbGVjdEluc3RhbmNlOiB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zOiAnc2VsZWN0SW5zdGFuY2UnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmFsaWQ6IHtcbiAgICAgICAgICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50KCdpc1ZhbGlkJyksXG4gICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0SW5zdGFuY2U6IHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zOiAnc2VsZWN0SW5zdGFuY2UnLFxuICAgICAgICAgICAgICAgICAgY29uZDogZnVuY3Rpb24gY29uZChfLCBldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuc2VsZWN0ZWRJbnN0YW5jZSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVzZWxlY3RJbnN0YW5jZToge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdyZXNldCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbmZpcm06IHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogJyNkb25lJyxcbiAgICAgICAgICAgICAgICAgIGNvbmQ6ICdpbnN0YW5jZVNlbGVjdGVkJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZG9uZToge1xuICAgICAgaWQ6ICdkb25lJyxcbiAgICAgIHR5cGU6ICdmaW5hbCcsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNlbGVjdGVkSW5zdGFuY2U6IGZ1bmN0aW9uIHNlbGVjdGVkSW5zdGFuY2UoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkSW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn0sIHtcbiAgYWN0aW9uczoge1xuICAgIHN1Y2Nlc3M6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdhcGkuc3VjY2VzcycpIHJldHVybiB7fTtcblxuICAgICAgdmFyIHJlc3BvbnNlID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoZXZlbnQsIFtcInR5cGVcIl0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXNwb25zZTogcmVzcG9uc2VcbiAgICAgIH07XG4gICAgfSksXG4gICAgc2VsZWN0SW5zdGFuY2U6IC8qI19fUFVSRV9fKi9hc3NpZ24oe1xuICAgICAgc2VsZWN0ZWRJbnN0YW5jZTogZnVuY3Rpb24gc2VsZWN0ZWRJbnN0YW5jZShjb250ZXh0LCBldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3NlbGVjdEluc3RhbmNlJykge1xuICAgICAgICAgIHZhciBfY29udGV4dCRyZXNwb25zZSwgX2NvbnRleHQkcmVzcG9uc2UkaXRlO1xuXG4gICAgICAgICAgcmV0dXJuIChfY29udGV4dCRyZXNwb25zZSA9IGNvbnRleHQucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiAoX2NvbnRleHQkcmVzcG9uc2UkaXRlID0gX2NvbnRleHQkcmVzcG9uc2UuaXRlbXMpID09IG51bGwgPyB2b2lkIDAgOiBfY29udGV4dCRyZXNwb25zZSRpdGUuZmluZChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuIGkuaWQgPT09IGV2ZW50LnNlbGVjdGVkSW5zdGFuY2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZEluc3RhbmNlO1xuICAgICAgfVxuICAgIH0pLFxuICAgIHJlc2V0OiAvKiNfX1BVUkVfXyovYXNzaWduKHtcbiAgICAgIHNlbGVjdGVkSW5zdGFuY2U6IGZ1bmN0aW9uIHNlbGVjdGVkSW5zdGFuY2UoY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnR5cGUgPT09ICdkZXNlbGVjdEluc3RhbmNlJyA/IHVuZGVmaW5lZCA6IGNvbnRleHQuc2VsZWN0ZWRJbnN0YW5jZTtcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuICBndWFyZHM6IHtcbiAgICBpbnN0YW5jZVNlbGVjdGVkOiBmdW5jdGlvbiBpbnN0YW5jZVNlbGVjdGVkKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkSW5zdGFuY2UgIT09IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIG5vSW5zdGFuY2VTZWxlY3RlZDogZnVuY3Rpb24gbm9JbnN0YW5jZVNlbGVjdGVkKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkSW5zdGFuY2UgPT09IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn0pO1xudmFyIHVzZUthZmthc01hY2hpbmVJc1JlYWR5ID0gZnVuY3Rpb24gdXNlS2Fma2FzTWFjaGluZUlzUmVhZHkoYWN0b3IpIHtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKGFjdG9yLCB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUubWF0Y2hlcyh7XG4gICAgICByb290OiB7XG4gICAgICAgIGFwaTogJ3JlYWR5J1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbYWN0b3JdKSk7XG59O1xudmFyIHVzZUthZmthc01hY2hpbmUgPSBmdW5jdGlvbiB1c2VLYWZrYXNNYWNoaW5lKGFjdG9yKSB7XG4gIHZhciBhcGkgPSB1c2VQYWdpbmF0aW9uKGFjdG9yLnN0YXRlLmNoaWxkcmVuW1BBR0lOQVRFRF9NQUNISU5FX0lEJDJdKTtcblxuICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoYWN0b3IsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHZhciBfc3RhdGUkY29udGV4dCRzZWxlY3Q7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc2VsZWN0ZWRJZDogKF9zdGF0ZSRjb250ZXh0JHNlbGVjdCA9IHN0YXRlLmNvbnRleHQuc2VsZWN0ZWRJbnN0YW5jZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zdGF0ZSRjb250ZXh0JHNlbGVjdC5pZFxuICAgIH07XG4gIH0sIFthY3Rvcl0pKSxcbiAgICAgIHNlbGVjdGVkSWQgPSBfdXNlU2VsZWN0b3Iuc2VsZWN0ZWRJZDtcblxuICB2YXIgb25TZWxlY3QgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc2VsZWN0ZWRJbnN0YW5jZSkge1xuICAgIGFjdG9yLnNlbmQoe1xuICAgICAgdHlwZTogJ3NlbGVjdEluc3RhbmNlJyxcbiAgICAgIHNlbGVjdGVkSW5zdGFuY2U6IHNlbGVjdGVkSW5zdGFuY2VcbiAgICB9KTtcbiAgfSwgW2FjdG9yXSk7XG4gIHZhciBvblF1ZXJ5ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICBhY3Rvci5zZW5kKF9leHRlbmRzKHtcbiAgICAgIHR5cGU6ICdhcGkucXVlcnknXG4gICAgfSwgcmVxdWVzdCkpO1xuICB9LCBbYWN0b3JdKTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBhcGksIHtcbiAgICBzZWxlY3RlZElkOiBzZWxlY3RlZElkLFxuICAgIG9uU2VsZWN0OiBvblNlbGVjdCxcbiAgICBvblF1ZXJ5OiBvblF1ZXJ5XG4gIH0pO1xufTtcblxudmFyIHNhdmVDb25uZWN0b3IgPSBmdW5jdGlvbiBzYXZlQ29ubmVjdG9yKF9yZWYpIHtcbiAgdmFyIGFjY2Vzc1Rva2VuID0gX3JlZi5hY2Nlc3NUb2tlbixcbiAgICAgIGJhc2VQYXRoID0gX3JlZi5iYXNlUGF0aCxcbiAgICAgIGthZmthID0gX3JlZi5rYWZrYSxcbiAgICAgIGNsdXN0ZXIgPSBfcmVmLmNsdXN0ZXIsXG4gICAgICBjb25uZWN0b3JUeXBlID0gX3JlZi5jb25uZWN0b3JUeXBlLFxuICAgICAgY29uZmlndXJhdGlvbiA9IF9yZWYuY29uZmlndXJhdGlvbixcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICB1c2VyU2VydmljZUFjY291bnQgPSBfcmVmLnVzZXJTZXJ2aWNlQWNjb3VudDtcbiAgdmFyIGFwaXNTZXJ2aWNlID0gbmV3IENvbm5lY3RvcnNBcGkobmV3IENvbmZpZ3VyYXRpb24oe1xuICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICBiYXNlUGF0aDogYmFzZVBhdGhcbiAgfSkpO1xuICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIENhbmNlbFRva2VuID0gYXhpb3MuQ2FuY2VsVG9rZW47XG4gICAgdmFyIHNvdXJjZSA9IENhbmNlbFRva2VuLnNvdXJjZSgpO1xuICAgIHZhciBhc3luYyA9IHRydWU7XG4gICAgdmFyIGNvbm5lY3RvciA9IHtcbiAgICAgIGtpbmQ6ICdDb25uZWN0b3InLFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAga2Fma2FfaWQ6IGthZmthLmlkXG4gICAgICB9LFxuICAgICAgZGVwbG95bWVudF9sb2NhdGlvbjoge1xuICAgICAgICBraW5kOiAnYWRkb24nLFxuICAgICAgICBjbHVzdGVyX2lkOiBjbHVzdGVyLmlkXG4gICAgICB9LFxuICAgICAgY29ubmVjdG9yX3R5cGVfaWQ6IGNvbm5lY3RvclR5cGUuaWQsXG4gICAgICBrYWZrYToge1xuICAgICAgICBib290c3RyYXBfc2VydmVyOiBrYWZrYS5ib290c3RyYXBfc2VydmVyX2hvc3QgfHwgJ2RlbW8nLFxuICAgICAgICBjbGllbnRfaWQ6IHVzZXJTZXJ2aWNlQWNjb3VudCA9PSBudWxsID8gdm9pZCAwIDogdXNlclNlcnZpY2VBY2NvdW50LmNsaWVudElkLFxuICAgICAgICBjbGllbnRfc2VjcmV0OiB1c2VyU2VydmljZUFjY291bnQgPT0gbnVsbCA/IHZvaWQgMCA6IHVzZXJTZXJ2aWNlQWNjb3VudC5jbGllbnRTZWNyZXRcbiAgICAgIH0sXG4gICAgICBjb25uZWN0b3Jfc3BlYzogY29uZmlndXJhdGlvblxuICAgIH07XG4gICAgYXBpc1NlcnZpY2UuY3JlYXRlQ29ubmVjdG9yKGFzeW5jLCBjb25uZWN0b3IsIHtcbiAgICAgIGNhbmNlbFRva2VuOiBzb3VyY2UudG9rZW5cbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnXG4gICAgICB9KTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKCFheGlvcy5pc0NhbmNlbChlcnJvcikpIHtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgIHR5cGU6ICdmYWlsdXJlJyxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvci5yZXNwb25zZS5kYXRhLnJlYXNvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgc291cmNlLmNhbmNlbCgnT3BlcmF0aW9uIGNhbmNlbGVkIGJ5IHRoZSB1c2VyLicpO1xuICAgIH07XG4gIH07XG59O1xuXG52YXIgcmV2aWV3TWFjaGluZVNjaGVtYSA9IHtcbiAgY29udGV4dDogLyojX19QVVJFX18qL2NyZWF0ZVNjaGVtYSgpXG59O1xudmFyIHJldmlld01hY2hpbmVNb2RlbCA9IC8qI19fUFVSRV9fKi9jcmVhdGVNb2RlbCh7XG4gIGluaXRpYWxDb25maWd1cmF0aW9uOiB1bmRlZmluZWQsXG4gIGNvbmZpZ1N0cmluZzogJycsXG4gIG5hbWU6ICcnLFxuICB2YWxpZGF0b3I6IC8qI19fUFVSRV9fKi9jcmVhdGVWYWxpZGF0b3Ioe30pXG59LCB7XG4gIGV2ZW50czoge1xuICAgIHNldE5hbWU6IGZ1bmN0aW9uIHNldE5hbWUocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSxcbiAgICBzZXRTZXJ2aWNlQWNjb3VudDogZnVuY3Rpb24gc2V0U2VydmljZUFjY291bnQocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSxcbiAgICB1cGRhdGVDb25maWd1cmF0aW9uOiBmdW5jdGlvbiB1cGRhdGVDb25maWd1cmF0aW9uKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0sXG4gICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBmYWlsdXJlOiBmdW5jdGlvbiBmYWlsdXJlKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH1cbiAgfVxufSk7XG52YXIgcmV2aWV3TWFjaGluZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVNYWNoaW5lKHtcbiAgc2NoZW1hOiByZXZpZXdNYWNoaW5lU2NoZW1hLFxuICBpZDogJ3JldmlldycsXG4gIGluaXRpYWw6ICd2ZXJpZnknLFxuICBjb250ZXh0OiByZXZpZXdNYWNoaW5lTW9kZWwuaW5pdGlhbENvbnRleHQsXG4gIGVudHJ5OiAnaW5pdGlhbGl6ZScsXG4gIHN0YXRlczoge1xuICAgIHZlcmlmeToge1xuICAgICAgZW50cnk6ICd2ZXJpZnlDb25maWdTdHJpbmcnLFxuICAgICAgYWx3YXlzOiBbe1xuICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgIGNvbmQ6ICdpc0FsbENvbmZpZ3VyZWQnXG4gICAgICB9LCB7XG4gICAgICAgIHRhcmdldDogJ3Jldmlld2luZydcbiAgICAgIH1dXG4gICAgfSxcbiAgICByZXZpZXdpbmc6IHtcbiAgICAgIGVudHJ5OiAvKiNfX1BVUkVfXyovc2VuZFBhcmVudCQxKCdpc0ludmFsaWQnKSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHNldE5hbWU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgIGFjdGlvbnM6ICdzZXROYW1lJ1xuICAgICAgICB9LFxuICAgICAgICBzZXRTZXJ2aWNlQWNjb3VudDoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogJ3NldFNlcnZpY2VBY2NvdW50J1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVDb25maWd1cmF0aW9uOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiAndXBkYXRlQ29uZmlndXJhdGlvbidcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgdmFsaWQ6IHtcbiAgICAgIGlkOiAndmFsaWQnLFxuICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50JDEoJ2lzVmFsaWQnKSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHNldE5hbWU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgIGFjdGlvbnM6ICdzZXROYW1lJ1xuICAgICAgICB9LFxuICAgICAgICBzZXRTZXJ2aWNlQWNjb3VudDoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogJ3NldFNlcnZpY2VBY2NvdW50J1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVDb25maWd1cmF0aW9uOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiAndXBkYXRlQ29uZmlndXJhdGlvbidcbiAgICAgICAgfSxcbiAgICAgICAgc2F2ZTogJ3NhdmluZydcbiAgICAgIH1cbiAgICB9LFxuICAgIHNhdmluZzoge1xuICAgICAgaW52b2tlOiB7XG4gICAgICAgIHNyYzogZnVuY3Rpb24gc3JjKGNvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm4gc2F2ZUNvbm5lY3Rvcih7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY29udGV4dC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VQYXRoOiBjb250ZXh0LmJhc2VQYXRoLFxuICAgICAgICAgICAga2Fma2E6IGNvbnRleHQua2Fma2EsXG4gICAgICAgICAgICBjbHVzdGVyOiBjb250ZXh0LmNsdXN0ZXIsXG4gICAgICAgICAgICBjb25uZWN0b3JUeXBlOiBjb250ZXh0LmNvbm5lY3RvclR5cGUsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uOiBKU09OLnBhcnNlKGNvbnRleHQuY29uZmlnU3RyaW5nKSxcbiAgICAgICAgICAgIG5hbWU6IGNvbnRleHQubmFtZSxcbiAgICAgICAgICAgIHVzZXJTZXJ2aWNlQWNjb3VudDogY29udGV4dC51c2VyU2VydmljZUFjY291bnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHN1Y2Nlc3M6ICdzYXZlZCcsXG4gICAgICAgIGZhaWx1cmU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgICAgYWN0aW9uczogJ3NldFNhdmluZ0Vycm9yJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGFnczogWydzYXZpbmcnXVxuICAgIH0sXG4gICAgc2F2ZWQ6IHtcbiAgICAgIHR5cGU6ICdmaW5hbCdcbiAgICB9XG4gIH1cbn0sIHtcbiAgYWN0aW9uczoge1xuICAgIGluaXRpYWxpemU6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbmZpZ1N0cmluZzogZGF0YVRvUHJldHR5U3RyaW5nKGNvbnRleHQuaW5pdGlhbENvbmZpZ3VyYXRpb24pLFxuICAgICAgICB2YWxpZGF0b3I6IGNyZWF0ZVZhbGlkYXRvcihjb250ZXh0LmNvbm5lY3RvclR5cGUuanNvbl9zY2hlbWEpXG4gICAgICB9O1xuICAgIH0pLFxuICAgIHNldE5hbWU6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF8sIGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQudHlwZSA9PT0gJ3NldE5hbWUnID8ge1xuICAgICAgICBuYW1lOiBldmVudC5uYW1lXG4gICAgICB9IDoge307XG4gICAgfSksXG4gICAgc2V0U2VydmljZUFjY291bnQ6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF8sIGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQudHlwZSA9PT0gJ3NldFNlcnZpY2VBY2NvdW50JyA/IHtcbiAgICAgICAgdXNlclNlcnZpY2VBY2NvdW50OiBldmVudC5zZXJ2aWNlQWNjb3VudFxuICAgICAgfSA6IHt9O1xuICAgIH0pLFxuICAgIHVwZGF0ZUNvbmZpZ3VyYXRpb246IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF8sIGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQudHlwZSA9PT0gJ3VwZGF0ZUNvbmZpZ3VyYXRpb24nID8ge1xuICAgICAgICBjb25maWdTdHJpbmc6IGV2ZW50LmRhdGFcbiAgICAgIH0gOiB7fTtcbiAgICB9KSxcbiAgICB2ZXJpZnlDb25maWdTdHJpbmc6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIHZhciBfdmVyaWZ5RGF0YSA9IHZlcmlmeURhdGEoY29udGV4dC5jb25maWdTdHJpbmcsIGNvbnRleHQudmFsaWRhdG9yKSxcbiAgICAgICAgICB3YXJuaW5ncyA9IF92ZXJpZnlEYXRhLndhcm5pbmdzLFxuICAgICAgICAgIGVycm9yID0gX3ZlcmlmeURhdGEuZXJyb3I7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbmZpZ1N0cmluZ1dhcm5pbmdzOiB3YXJuaW5ncyxcbiAgICAgICAgY29uZmlnU3RyaW5nRXJyb3I6IGVycm9yXG4gICAgICB9O1xuICAgIH0pLFxuICAgIHNldFNhdmluZ0Vycm9yOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfLCBldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdmYWlsdXJlJykgcmV0dXJuIHt9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2F2aW5nRXJyb3I6IGV2ZW50Lm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfSlcbiAgfSxcbiAgZ3VhcmRzOiB7XG4gICAgaXNBbGxDb25maWd1cmVkOiBmdW5jdGlvbiBpc0FsbENvbmZpZ3VyZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuY29uZmlnU3RyaW5nICE9PSB1bmRlZmluZWQgJiYgY29udGV4dC5jb25maWdTdHJpbmdFcnJvciA9PT0gdW5kZWZpbmVkICYmIGNvbnRleHQubmFtZS5sZW5ndGggPiAwO1xuICAgIH1cbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGRhdGFUb1ByZXR0eVN0cmluZyhkYXRhKSB7XG4gIHZhciBkYXRhVmFsID0gZGF0YSBpbnN0YW5jZW9mIE1hcCA/IG1hcFRvT2JqZWN0KGRhdGEpIDogZGF0YTtcblxuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhVmFsLCBudWxsLCAyKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXBUb09iamVjdChpbnB1dE1hcCkge1xuICB2YXIgb2JqID0ge307XG4gIGlucHV0TWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gdmVyaWZ5RGF0YShkYXRhLCB2YWxpZGF0b3IpIHtcbiAgdHJ5IHtcbiAgICB2YXIgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgdmFyIHZhbGlkYXRpb25SZXN1bHQgPSB2YWxpZGF0b3IocGFyc2VkRGF0YSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdhcm5pbmdzOiB2YWxpZGF0aW9uUmVzdWx0ID8gdmFsaWRhdGlvblJlc3VsdC5kZXRhaWxzLm1hcChmdW5jdGlvbiAoZCkge1xuICAgICAgICByZXR1cm4gZC5pbnN0YW5jZVBhdGggKyBcIiBcIiArIGQubWVzc2FnZTtcbiAgICAgIH0pIDogdW5kZWZpbmVkLFxuICAgICAgZXJyb3I6IHVuZGVmaW5lZFxuICAgIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2FybmluZ3M6IHVuZGVmaW5lZCxcbiAgICAgIGVycm9yOiBcIkludmFsaWQgSlNPTjogXCIgKyBlLm1lc3NhZ2VcbiAgICB9O1xuICB9XG59XG5cbnZhciB1c2VSZXZpZXdNYWNoaW5lID0gZnVuY3Rpb24gdXNlUmV2aWV3TWFjaGluZShhY3Rvcikge1xuICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoYWN0b3IsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBzdGF0ZS5jb250ZXh0Lm5hbWUsXG4gICAgICBzZXJ2aWNlQWNjb3VudDogc3RhdGUuY29udGV4dC51c2VyU2VydmljZUFjY291bnQsXG4gICAgICBjb25maWdTdHJpbmc6IHN0YXRlLmNvbnRleHQuY29uZmlnU3RyaW5nLFxuICAgICAgY29uZmlnU3RyaW5nRXJyb3I6IHN0YXRlLmNvbnRleHQuY29uZmlnU3RyaW5nRXJyb3IsXG4gICAgICBjb25maWdTdHJpbmdXYXJuaW5nczogc3RhdGUuY29udGV4dC5jb25maWdTdHJpbmdXYXJuaW5ncyxcbiAgICAgIGlzU2F2aW5nOiBzdGF0ZS5oYXNUYWcoJ3NhdmluZycpLFxuICAgICAgc2F2aW5nRXJyb3I6IHN0YXRlLmNvbnRleHQuc2F2aW5nRXJyb3JcbiAgICB9O1xuICB9LCBbYWN0b3JdKSksXG4gICAgICBuYW1lID0gX3VzZVNlbGVjdG9yLm5hbWUsXG4gICAgICBzZXJ2aWNlQWNjb3VudCA9IF91c2VTZWxlY3Rvci5zZXJ2aWNlQWNjb3VudCxcbiAgICAgIGNvbmZpZ1N0cmluZyA9IF91c2VTZWxlY3Rvci5jb25maWdTdHJpbmcsXG4gICAgICBjb25maWdTdHJpbmdFcnJvciA9IF91c2VTZWxlY3Rvci5jb25maWdTdHJpbmdFcnJvcixcbiAgICAgIGNvbmZpZ1N0cmluZ1dhcm5pbmdzID0gX3VzZVNlbGVjdG9yLmNvbmZpZ1N0cmluZ1dhcm5pbmdzLFxuICAgICAgaXNTYXZpbmcgPSBfdXNlU2VsZWN0b3IuaXNTYXZpbmcsXG4gICAgICBzYXZpbmdFcnJvciA9IF91c2VTZWxlY3Rvci5zYXZpbmdFcnJvcjtcblxuICB2YXIgb25TZXROYW1lID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBhY3Rvci5zZW5kKHtcbiAgICAgIHR5cGU6ICdzZXROYW1lJyxcbiAgICAgIG5hbWU6IG5hbWVcbiAgICB9KTtcbiAgfSwgW2FjdG9yXSk7XG4gIHZhciBvblNldFNlcnZpY2VBY2NvdW50ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHNlcnZpY2VBY2NvdW50KSB7XG4gICAgYWN0b3Iuc2VuZCh7XG4gICAgICB0eXBlOiAnc2V0U2VydmljZUFjY291bnQnLFxuICAgICAgc2VydmljZUFjY291bnQ6IHNlcnZpY2VBY2NvdW50XG4gICAgfSk7XG4gIH0sIFthY3Rvcl0pO1xuICB2YXIgb25VcGRhdGVDb25maWd1cmF0aW9uID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBhY3Rvci5zZW5kKHtcbiAgICAgIHR5cGU6ICd1cGRhdGVDb25maWd1cmF0aW9uJyxcbiAgICAgIGRhdGE6IGRhdGEgfHwgJydcbiAgICB9KTtcbiAgfSwgW2FjdG9yXSk7XG4gIHJldHVybiB7XG4gICAgbmFtZTogbmFtZSxcbiAgICBzZXJ2aWNlQWNjb3VudDogc2VydmljZUFjY291bnQsXG4gICAgY29uZmlnU3RyaW5nOiBjb25maWdTdHJpbmcsXG4gICAgY29uZmlnU3RyaW5nRXJyb3I6IGNvbmZpZ1N0cmluZ0Vycm9yLFxuICAgIGNvbmZpZ1N0cmluZ1dhcm5pbmdzOiBjb25maWdTdHJpbmdXYXJuaW5ncyxcbiAgICBpc1NhdmluZzogaXNTYXZpbmcsXG4gICAgc2F2aW5nRXJyb3I6IHNhdmluZ0Vycm9yLFxuICAgIG9uU2V0TmFtZTogb25TZXROYW1lLFxuICAgIG9uU2V0U2VydmljZUFjY291bnQ6IG9uU2V0U2VydmljZUFjY291bnQsXG4gICAgb25VcGRhdGVDb25maWd1cmF0aW9uOiBvblVwZGF0ZUNvbmZpZ3VyYXRpb25cbiAgfTtcbn07XG5cbnZhciBjcmVhdGlvbldpemFyZE1hY2hpbmVTY2hlbWEgPSB7XG4gIGNvbnRleHQ6IC8qI19fUFVSRV9fKi9jcmVhdGVTY2hlbWEoKVxufTtcbnZhciBjcmVhdGlvbldpemFyZE1hY2hpbmVNb2RlbCA9IC8qI19fUFVSRV9fKi9jcmVhdGVNb2RlbCh7fSwge1xuICBldmVudHM6IHtcbiAgICBpc1ZhbGlkOiBmdW5jdGlvbiBpc1ZhbGlkKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgaXNJbnZhbGlkOiBmdW5jdGlvbiBpc0ludmFsaWQoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBwcmV2OiBmdW5jdGlvbiBwcmV2KCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGNoYW5nZWRTdGVwOiBmdW5jdGlvbiBjaGFuZ2VkU3RlcChfcmVmKSB7XG4gICAgICB2YXIgc3RlcCA9IF9yZWYuc3RlcDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0ZXA6IHN0ZXBcbiAgICAgIH07XG4gICAgfSxcbiAgICBqdW1wVG9TZWxlY3RLYWZrYTogZnVuY3Rpb24ganVtcFRvU2VsZWN0S2Fma2EoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBqdW1wVG9TZWxlY3RDbHVzdGVyOiBmdW5jdGlvbiBqdW1wVG9TZWxlY3RDbHVzdGVyKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAganVtcFRvU2VsZWN0Q29ubmVjdG9yOiBmdW5jdGlvbiBqdW1wVG9TZWxlY3RDb25uZWN0b3IoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBqdW1wVG9Db25maWd1cmVDb25uZWN0b3I6IGZ1bmN0aW9uIGp1bXBUb0NvbmZpZ3VyZUNvbm5lY3RvcihfcmVmMikge1xuICAgICAgdmFyIHN1YlN0ZXAgPSBfcmVmMi5zdWJTdGVwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3ViU3RlcDogc3ViU3RlcFxuICAgICAgfTtcbiAgICB9LFxuICAgIGp1bXBUb1Jldmlld0NvbmZpZ3VyYXRpb246IGZ1bmN0aW9uIGp1bXBUb1Jldmlld0NvbmZpZ3VyYXRpb24oKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XG59KTtcbnZhciBjcmVhdGlvbldpemFyZE1hY2hpbmUgPSAvKiNfX1BVUkVfXyovY3JlYXRlTWFjaGluZSh7XG4gIHNjaGVtYTogY3JlYXRpb25XaXphcmRNYWNoaW5lU2NoZW1hLFxuICBpZDogJ2NyZWF0aW9uV2l6YXJkJyxcbiAgaW5pdGlhbDogJ3NlbGVjdENvbm5lY3RvcicsXG4gIGNvbnRleHQ6IGNyZWF0aW9uV2l6YXJkTWFjaGluZU1vZGVsLmluaXRpYWxDb250ZXh0LFxuICBzdGF0ZXM6IHtcbiAgICBzZWxlY3RDb25uZWN0b3I6IHtcbiAgICAgIGluaXRpYWw6ICdzZWxlY3RpbmcnLFxuICAgICAgaW52b2tlOiB7XG4gICAgICAgIGlkOiAnc2VsZWN0Q29ubmVjdG9yUmVmJyxcbiAgICAgICAgc3JjOiBjb25uZWN0b3JUeXBlc01hY2hpbmUsXG4gICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY29udGV4dC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VQYXRoOiBjb250ZXh0LmJhc2VQYXRoLFxuICAgICAgICAgICAgc2VsZWN0ZWRDb25uZWN0b3I6IGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3JcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICdzZWxlY3RLYWZrYScsXG4gICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBzZWxlY3RlZENvbm5lY3RvcjogZXZlbnQuZGF0YS5zZWxlY3RlZENvbm5lY3RvcixcbiAgICAgICAgICAgICAgY29ubmVjdG9yQ29uZmlndXJhdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgIGFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwOiAwLFxuICAgICAgICAgICAgICBpc0NvbmZpZ3VyYXRpb25WYWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb25TdGVwczogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcjogJy5lcnJvcidcbiAgICAgIH0sXG4gICAgICBzdGF0ZXM6IHtcbiAgICAgICAgZXJyb3I6IHt9LFxuICAgICAgICBzZWxlY3Rpbmc6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgaXNWYWxpZDogJ3ZhbGlkJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmFsaWQ6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgaXNJbnZhbGlkOiAnc2VsZWN0aW5nJyxcbiAgICAgICAgICAgIG5leHQ6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL3NlbmQkMSgnY29uZmlybScsIHtcbiAgICAgICAgICAgICAgICB0bzogJ3NlbGVjdENvbm5lY3RvclJlZidcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHNlbGVjdEthZmthOiB7XG4gICAgICBpbml0aWFsOiAnc2VsZWN0aW5nJyxcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ3NlbGVjdEthZmthSW5zdGFuY2VSZWYnLFxuICAgICAgICBzcmM6IGthZmthc01hY2hpbmUsXG4gICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY29udGV4dC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VQYXRoOiBjb250ZXh0LmJhc2VQYXRoLFxuICAgICAgICAgICAgc2VsZWN0ZWRJbnN0YW5jZTogY29udGV4dC5zZWxlY3RlZEthZmthSW5zdGFuY2UsXG4gICAgICAgICAgICByZXF1ZXN0OiB7XG4gICAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICAgIHNpemU6IDEwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgdGFyZ2V0OiAnc2VsZWN0Q2x1c3RlcicsXG4gICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbih7XG4gICAgICAgICAgICBzZWxlY3RlZEthZmthSW5zdGFuY2U6IGZ1bmN0aW9uIHNlbGVjdGVkS2Fma2FJbnN0YW5jZShfLCBldmVudCkge1xuICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuZGF0YS5zZWxlY3RlZEluc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIG9uRXJyb3I6ICcuZXJyb3InXG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGVycm9yOiB7fSxcbiAgICAgICAgc2VsZWN0aW5nOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIGlzVmFsaWQ6ICd2YWxpZCdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIGlzSW52YWxpZDogJ3NlbGVjdGluZycsXG4gICAgICAgICAgICBuZXh0OiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IC8qI19fUFVSRV9fKi9zZW5kJDEoJ2NvbmZpcm0nLCB7XG4gICAgICAgICAgICAgICAgdG86ICdzZWxlY3RLYWZrYUluc3RhbmNlUmVmJ1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHByZXY6ICdzZWxlY3RDb25uZWN0b3InXG4gICAgICB9XG4gICAgfSxcbiAgICBzZWxlY3RDbHVzdGVyOiB7XG4gICAgICBpbml0aWFsOiAnc2VsZWN0aW5nJyxcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ3NlbGVjdENsdXN0ZXJSZWYnLFxuICAgICAgICBzcmM6IGNsdXN0ZXJzTWFjaGluZSxcbiAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBjb250ZXh0LmFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgYmFzZVBhdGg6IGNvbnRleHQuYmFzZVBhdGgsXG4gICAgICAgICAgICBzZWxlY3RlZENsdXN0ZXI6IGNvbnRleHQuc2VsZWN0ZWRDbHVzdGVyXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgdGFyZ2V0OiAnY29uZmlndXJlQ29ubmVjdG9yJyxcbiAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovYXNzaWduKHtcbiAgICAgICAgICAgIHNlbGVjdGVkQ2x1c3RlcjogZnVuY3Rpb24gc2VsZWN0ZWRDbHVzdGVyKF8sIGV2ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBldmVudC5kYXRhLnNlbGVjdGVkQ2x1c3RlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiAnLmVycm9yJ1xuICAgICAgfSxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBlcnJvcjoge30sXG4gICAgICAgIHNlbGVjdGluZzoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBpc1ZhbGlkOiAndmFsaWQnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWxpZDoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBpc0ludmFsaWQ6ICdzZWxlY3RpbmcnLFxuICAgICAgICAgICAgbmV4dDoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovc2VuZCQxKCdjb25maXJtJywge1xuICAgICAgICAgICAgICAgIHRvOiAnc2VsZWN0Q2x1c3RlclJlZidcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBwcmV2OiAnc2VsZWN0S2Fma2EnXG4gICAgICB9XG4gICAgfSxcbiAgICBjb25maWd1cmVDb25uZWN0b3I6IHtcbiAgICAgIGluaXRpYWw6ICdsb2FkQ29uZmlndXJhdG9yJyxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBsb2FkQ29uZmlndXJhdG9yOiB7XG4gICAgICAgICAgaW52b2tlOiB7XG4gICAgICAgICAgICBpZDogJ2NvbmZpZ3VyYXRvckxvYWRlcicsXG4gICAgICAgICAgICBzcmM6ICdtYWtlQ29uZmlndXJhdG9yTG9hZGVyTWFjaGluZScsXG4gICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0b3I6IGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3JcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiAnY29uZmlndXJlJyxcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIENvbmZpZ3VyYXRvcjogZXZlbnQuZGF0YS5Db25maWd1cmF0b3IsXG4gICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uU3RlcHM6IGV2ZW50LmRhdGEuc3RlcHNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRXJyb3I6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogZnVuY3Rpb24gYWN0aW9ucyhfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihldmVudC5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb25maWd1cmU6IHtcbiAgICAgICAgICBpZDogJ2NvbmZpZ3VyZScsXG4gICAgICAgICAgaW5pdGlhbDogJ2NvbmZpZ3VyaW5nJyxcbiAgICAgICAgICBpbnZva2U6IHtcbiAgICAgICAgICAgIGlkOiAnY29uZmlndXJhdG9yUmVmJyxcbiAgICAgICAgICAgIHNyYzogY29uZmlndXJhdG9yTWFjaGluZSxcbiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoY29udGV4dCkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNvbm5lY3RvcjogY29udGV4dC5zZWxlY3RlZENvbm5lY3RvcixcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uOiBjb250ZXh0LmNvbm5lY3RvckNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAgICAgc3RlcHM6IGNvbnRleHQuY29uZmlndXJhdGlvblN0ZXBzIHx8IFsnc2luZ2xlIHN0ZXAnXSxcbiAgICAgICAgICAgICAgICBhY3RpdmVTdGVwOiBjb250ZXh0LmFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwIHx8IDAsXG4gICAgICAgICAgICAgICAgaXNBY3RpdmVTdGVwVmFsaWQ6IGNvbnRleHQuY29ubmVjdG9yQ29uZmlndXJhdGlvbiAhPT0gZmFsc2VcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiAnI2NyZWF0aW9uV2l6YXJkLnJldmlld0NvbmZpZ3VyYXRpb24nLFxuICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfLCBldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBjb25uZWN0b3JDb25maWd1cmF0aW9uOiBldmVudC5kYXRhLmNvbmZpZ3VyYXRpb24gfHwgdHJ1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FcnJvcjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBmdW5jdGlvbiBhY3Rpb25zKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGV2ZW50LmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YXRlczoge1xuICAgICAgICAgICAgY29uZmlndXJpbmc6IHtcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICBpc1ZhbGlkOiAndmFsaWQnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2YWxpZDoge1xuICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgIGlzSW52YWxpZDogJ2NvbmZpZ3VyaW5nJyxcbiAgICAgICAgICAgICAgICBuZXh0OiB7XG4gICAgICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovc2VuZCQxKCduZXh0Jywge1xuICAgICAgICAgICAgICAgICAgICB0bzogJ2NvbmZpZ3VyYXRvclJlZidcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgcHJldjogW3tcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL3NlbmQkMSgncHJldicsIHtcbiAgICAgICAgICAgICAgICB0bzogJ2NvbmZpZ3VyYXRvclJlZidcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIGNvbmQ6ICdhcmVUaGVyZVN1YnN0ZXBzJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICB0YXJnZXQ6ICcjY3JlYXRpb25XaXphcmQuc2VsZWN0Q2x1c3RlcidcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgY2hhbmdlZFN0ZXA6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbih7XG4gICAgICAgICAgICAgICAgYWN0aXZlQ29uZmlndXJhdGlvblN0ZXA6IGZ1bmN0aW9uIGFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwKF8sIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuc3RlcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICByZXZpZXdDb25maWd1cmF0aW9uOiB7XG4gICAgICBpZDogJ3JldmlldycsXG4gICAgICBpbml0aWFsOiAncmV2aWV3aW5nJyxcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ3Jldmlld1JlZicsXG4gICAgICAgIHNyYzogcmV2aWV3TWFjaGluZSxcbiAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBjb250ZXh0LmFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgYmFzZVBhdGg6IGNvbnRleHQuYmFzZVBhdGgsXG4gICAgICAgICAgICBrYWZrYTogY29udGV4dC5zZWxlY3RlZEthZmthSW5zdGFuY2UsXG4gICAgICAgICAgICBjbHVzdGVyOiBjb250ZXh0LnNlbGVjdGVkQ2x1c3RlcixcbiAgICAgICAgICAgIGNvbm5lY3RvclR5cGU6IGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3IsXG4gICAgICAgICAgICBpbml0aWFsQ29uZmlndXJhdGlvbjogY29udGV4dC5jb25uZWN0b3JDb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgbmFtZTogJydcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICcjY3JlYXRpb25XaXphcmQuc2F2ZWQnLFxuICAgICAgICAgIGFjdGlvbnM6IFsvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfLCBldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgY29ubmVjdG9yQ29uZmlndXJhdGlvbjogZXZlbnQuZGF0YVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KSwgJ25vdGlmeVNhdmUnXVxuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiB7XG4gICAgICAgICAgYWN0aW9uczogZnVuY3Rpb24gYWN0aW9ucyhfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGV2ZW50LmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIHJldmlld2luZzoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBpc1ZhbGlkOiAndmFsaWQnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWxpZDoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBpc0ludmFsaWQ6ICdyZXZpZXdpbmcnLFxuICAgICAgICAgICAgbmV4dDoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovc2VuZCQxKCdzYXZlJywge1xuICAgICAgICAgICAgICAgIHRvOiAncmV2aWV3UmVmJ1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHByZXY6ICdjb25maWd1cmVDb25uZWN0b3InXG4gICAgICB9XG4gICAgfSxcbiAgICBzYXZlZDoge1xuICAgICAgaWQ6ICdzYXZlZCcsXG4gICAgICB0eXBlOiAnZmluYWwnXG4gICAgfVxuICB9LFxuICBvbjoge1xuICAgIGp1bXBUb1NlbGVjdENvbm5lY3Rvcjoge1xuICAgICAgdGFyZ2V0OiAnc2VsZWN0Q29ubmVjdG9yJ1xuICAgIH0sXG4gICAganVtcFRvU2VsZWN0S2Fma2E6IHtcbiAgICAgIHRhcmdldDogJ3NlbGVjdEthZmthJyxcbiAgICAgIGNvbmQ6ICdpc0Nvbm5lY3RvclNlbGVjdGVkJ1xuICAgIH0sXG4gICAganVtcFRvU2VsZWN0Q2x1c3Rlcjoge1xuICAgICAgdGFyZ2V0OiAnc2VsZWN0Q2x1c3RlcicsXG4gICAgICBjb25kOiAnaXNLYWZrYUluc3RhbmNlU2VsZWN0ZWQnXG4gICAgfSxcbiAgICBqdW1wVG9Db25maWd1cmVDb25uZWN0b3I6IHtcbiAgICAgIHRhcmdldDogJ2NvbmZpZ3VyZUNvbm5lY3RvcicsXG4gICAgICBjb25kOiAnaXNDbHVzdGVyU2VsZWN0ZWQnLFxuICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoXywgZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhY3RpdmVDb25maWd1cmF0aW9uU3RlcDogZXZlbnQuc3ViU3RlcCB8fCAwXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgIH0sXG4gICAganVtcFRvUmV2aWV3Q29uZmlndXJhdGlvbjoge1xuICAgICAgdGFyZ2V0OiAncmV2aWV3Q29uZmlndXJhdGlvbicsXG4gICAgICBjb25kOiAnaXNDb25uZWN0b3JDb25maWd1cmVkJ1xuICAgIH1cbiAgfVxufSwge1xuICBndWFyZHM6IHtcbiAgICBpc0thZmthSW5zdGFuY2VTZWxlY3RlZDogZnVuY3Rpb24gaXNLYWZrYUluc3RhbmNlU2VsZWN0ZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRLYWZrYUluc3RhbmNlICE9PSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBpc0NsdXN0ZXJTZWxlY3RlZDogZnVuY3Rpb24gaXNDbHVzdGVyU2VsZWN0ZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRDbHVzdGVyICE9PSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBpc0Nvbm5lY3RvclNlbGVjdGVkOiBmdW5jdGlvbiBpc0Nvbm5lY3RvclNlbGVjdGVkKGNvbnRleHQsIGV2ZW50KSB7XG4gICAgICB2YXIgc3ViU3RlcCA9IGV2ZW50LnN1YlN0ZXA7XG5cbiAgICAgIGlmIChzdWJTdGVwKSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkQ29ubmVjdG9yICE9PSB1bmRlZmluZWQgJiYgKGNvbnRleHQuY29ubmVjdG9yQ29uZmlndXJhdGlvbiAhPT0gdW5kZWZpbmVkIHx8IHN1YlN0ZXAgPD0gY29udGV4dC5hY3RpdmVDb25maWd1cmF0aW9uU3RlcCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkQ29ubmVjdG9yICE9PSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBpc0Nvbm5lY3RvckNvbmZpZ3VyZWQ6IGZ1bmN0aW9uIGlzQ29ubmVjdG9yQ29uZmlndXJlZChjb250ZXh0KSB7XG4gICAgICBpZiAoIWNvbnRleHQuY29uZmlndXJhdGlvblN0ZXBzKSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmNvbm5lY3RvckNvbmZpZ3VyYXRpb24gIT09IHVuZGVmaW5lZCAmJiBjb250ZXh0LmNvbm5lY3RvckNvbmZpZ3VyYXRpb24gIT09IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGV4dC5jb25uZWN0b3JDb25maWd1cmF0aW9uICE9PSB1bmRlZmluZWQgJiYgY29udGV4dC5jb25uZWN0b3JDb25maWd1cmF0aW9uICE9PSBmYWxzZSB8fCBjb250ZXh0LmFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwID09PSBjb250ZXh0LmNvbmZpZ3VyYXRpb25TdGVwcy5sZW5ndGggLSAxICYmIGNvbnRleHQuaXNDb25maWd1cmF0aW9uVmFsaWQgPT09IHRydWU7XG4gICAgfSxcbiAgICBhcmVUaGVyZVN1YnN0ZXBzOiBmdW5jdGlvbiBhcmVUaGVyZVN1YnN0ZXBzKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwID4gMDtcbiAgICB9XG4gIH0sXG4gIGFjdGlvbnM6IHtcbiAgICBub3RpZnlTYXZlOiBmdW5jdGlvbiBub3RpZnlTYXZlKGNvbnRleHQpIHtcbiAgICAgIGlmIChjb250ZXh0Lm9uU2F2ZSkge1xuICAgICAgICBjb250ZXh0Lm9uU2F2ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgc2VydmljZXM6IHtcbiAgICBtYWtlQ29uZmlndXJhdG9yTG9hZGVyTWFjaGluZTogZnVuY3Rpb24gbWFrZUNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUoKSB7XG4gICAgICByZXR1cm4gY29uZmlndXJhdG9yTG9hZGVyTWFjaGluZTtcbiAgICB9XG4gIH1cbn0pO1xuXG52YXIgQ3JlYXRpb25XaXphcmRNYWNoaW5lU2VydmljZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb250ZXh0KG51bGwpO1xudmFyIENyZWF0aW9uV2l6YXJkTWFjaGluZVByb3ZpZGVyID0gZnVuY3Rpb24gQ3JlYXRpb25XaXphcmRNYWNoaW5lUHJvdmlkZXIoX3JlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgYWNjZXNzVG9rZW4gPSBfcmVmLmFjY2Vzc1Rva2VuLFxuICAgICAgYmFzZVBhdGggPSBfcmVmLmJhc2VQYXRoLFxuICAgICAgX2ZldGNoQ29uZmlndXJhdG9yID0gX3JlZi5mZXRjaENvbmZpZ3VyYXRvcixcbiAgICAgIG9uU2F2ZSA9IF9yZWYub25TYXZlO1xuICB2YXIgbWFrZUNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUud2l0aENvbmZpZyh7XG4gICAgICBzZXJ2aWNlczoge1xuICAgICAgICBmZXRjaENvbmZpZ3VyYXRvcjogZnVuY3Rpb24gZmV0Y2hDb25maWd1cmF0b3IoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBfZmV0Y2hDb25maWd1cmF0b3IoY29udGV4dC5jb25uZWN0b3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtfZmV0Y2hDb25maWd1cmF0b3JdKTtcbiAgdmFyIHNlcnZpY2UgPSB1c2VJbnRlcnByZXQoY3JlYXRpb25XaXphcmRNYWNoaW5lLCB7XG4gICAgZGV2VG9vbHM6IHRydWUsXG4gICAgY29udGV4dDoge1xuICAgICAgYWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuLFxuICAgICAgYmFzZVBhdGg6IGJhc2VQYXRoLFxuICAgICAgb25TYXZlOiBvblNhdmVcbiAgICB9LFxuICAgIHNlcnZpY2VzOiB7XG4gICAgICBtYWtlQ29uZmlndXJhdG9yTG9hZGVyTWFjaGluZTogbWFrZUNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmVcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlLlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHNlcnZpY2VcbiAgfSwgY2hpbGRyZW4pO1xufTtcbnZhciB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlID0gZnVuY3Rpb24gdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lU2VydmljZSgpIHtcbiAgdmFyIHNlcnZpY2UgPSB1c2VDb250ZXh0KENyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UpO1xuXG4gIGlmICghc2VydmljZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKSBtdXN0IGJlIHVzZWQgaW4gYSBjaGlsZCBvZiA8Q3JlYXRpb25XaXphcmRNYWNoaW5lUHJvdmlkZXI+XCIpO1xuICB9XG5cbiAgcmV0dXJuIHNlcnZpY2U7XG59O1xudmFyIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUNvbm5lY3RvclR5cGVzQWN0b3IgPSBmdW5jdGlvbiB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVDb25uZWN0b3JUeXBlc0FjdG9yKCkge1xuICB2YXIgc2VydmljZSA9IHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKTtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKHNlcnZpY2UsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5jaGlsZHJlbi5zZWxlY3RDb25uZWN0b3JSZWY7XG4gIH0sIFtzZXJ2aWNlXSkpO1xufTtcbnZhciB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVLYWZrYXNBY3RvciA9IGZ1bmN0aW9uIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUthZmthc0FjdG9yKCkge1xuICB2YXIgc2VydmljZSA9IHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKTtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKHNlcnZpY2UsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5jaGlsZHJlbi5zZWxlY3RLYWZrYUluc3RhbmNlUmVmO1xuICB9LCBbc2VydmljZV0pKTtcbn07XG52YXIgdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lQ2x1c3RlcnNBY3RvciA9IGZ1bmN0aW9uIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUNsdXN0ZXJzQWN0b3IoKSB7XG4gIHZhciBzZXJ2aWNlID0gdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lU2VydmljZSgpO1xuICByZXR1cm4gdXNlU2VsZWN0b3Ioc2VydmljZSwgdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLmNoaWxkcmVuLnNlbGVjdENsdXN0ZXJSZWY7XG4gIH0sIFtzZXJ2aWNlXSkpO1xufTtcbnZhciB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVSZXZpZXdBY3RvciA9IGZ1bmN0aW9uIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVJldmlld0FjdG9yKCkge1xuICB2YXIgc2VydmljZSA9IHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKTtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKHNlcnZpY2UsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5jaGlsZHJlbi5yZXZpZXdSZWY7XG4gIH0sIFtzZXJ2aWNlXSkpO1xufTtcblxuZXhwb3J0IHsgQ29ubmVjdG9yc01hY2hpbmVQcm92aWRlciwgQ3JlYXRpb25XaXphcmRNYWNoaW5lUHJvdmlkZXIsIFBBR0lOQVRFRF9NQUNISU5FX0lELCBjbHVzdGVyc01hY2hpbmUsIGNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUsIGNvbmZpZ3VyYXRvck1hY2hpbmUsIGNvbm5lY3Rvck1hY2hpbmUsIGNvbm5lY3RvclR5cGVzTWFjaGluZSwgY29ubmVjdG9yc01hY2hpbmUsIGNyZWF0aW9uV2l6YXJkTWFjaGluZSwgZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50cywgZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50c0hhbmRsZXJzLCBrYWZrYXNNYWNoaW5lLCBtYWtlQ29ubmVjdG9yTWFjaGluZSwgbWFrZUZldGNoTWFjaGluZSwgbWFrZVBhZ2luYXRlZEFwaU1hY2hpbmUsIHJldmlld01hY2hpbmUsIHVzZUNsdXN0ZXJzTWFjaGluZSwgdXNlQ2x1c3RlcnNNYWNoaW5lSXNSZWFkeSwgdXNlQ29ubmVjdG9yLCB1c2VDb25uZWN0b3JzTWFjaGluZSwgdXNlQ29ubmVjdG9yc01hY2hpbmVJc1JlYWR5LCB1c2VDb25uZWN0b3JzTWFjaGluZVNlcnZpY2UsIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUNsdXN0ZXJzQWN0b3IsIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUNvbm5lY3RvclR5cGVzQWN0b3IsIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUthZmthc0FjdG9yLCB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVSZXZpZXdBY3RvciwgdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lU2VydmljZSwgdXNlS2Fma2FzTWFjaGluZSwgdXNlS2Fma2FzTWFjaGluZUlzUmVhZHksIHVzZVBhZ2luYXRpb24sIHVzZVJldmlld01hY2hpbmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hY2hpbmVzLmVzbS5qcy5tYXBcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///83255\n")},41361:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "EmptyState": () => (/* binding */ EmptyState),\n/* harmony export */   "EmptyStateVariant": () => (/* binding */ EmptyStateVariant),\n/* harmony export */   "Loading": () => (/* binding */ Loading),\n/* harmony export */   "NoMatchFound": () => (/* binding */ NoMatchFound),\n/* harmony export */   "useDebounce": () => (/* binding */ useDebounce)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(42403);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(63583);\n/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_plus_circle_icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(21191);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_space_shuttle_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(99717);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_lock_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(41469);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_search_icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(53106);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_exclamation_circle_icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(47442);\n/* harmony import */ var _patternfly_react_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(42259);\n/* harmony import */ var _patternfly_react_styles__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_styles__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(13857);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar NotFoundIcon = "data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20%20viewBox%3D%220%200%20100%20109%22%20style%3D%22enable-background%3Anew%200%200%20100%20109%3B%22%20xml%3Aspace%3D%22preserve%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%20.st0%7Bfill%3Anone%3Bstroke%3A%236A6E73%3Bstroke-linecap%3Around%3Bstroke-linejoin%3Around%3Bstroke-miterlimit%3A10%3Bstroke-dasharray%3A3%2C5%3B%7D%20.st1%7Bfill%3A%23FFFFFF%3Bstroke%3A%236A6E73%3Bstroke-linecap%3Around%3Bstroke-linejoin%3Around%3Bstroke-miterlimit%3A10%3B%7D%20.st2%7Bfill%3A%236A6E73%3B%7D%3C%2Fstyle%3E%3Cpath%20class%3D%22st0%22%20d%3D%22M12.5%2C96.5c3-33%2C17.4-35.8%2C38-24c19.1%2C11%2C36-8.1%2C21-27c-15.4-19.4-8-23-8-23%22%2F%3E%3Cpath%20class%3D%22st1%22%20d%3D%22M13%2C25v50%20M27.8%2C71.8V104%20M27.8%2C15v47.6%20M42.6%2C74v34%20M42.6%2C10v54.2%20M57.4%2C79.2V108%20M57.4%2C32v38%20M72.2%2C77v27%20%20M72.2%2C54.8v9.5%20M72.2%2C29v10.2%20M87%2C25v68%20M56%2C22.5l-40-0.2%20M59.6%2C37.1L5%2C37.1%20M59.6%2C37.1%20M95%2C37.1l-24.1%2C0%20M70.4%2C51.9L1%2C51.9%20%20M70.4%2C51.9%20M80.8%2C51.9%20M99%2C51.9l-18.2%2C0%20M18.6%2C66.6L1%2C66.6%20M70.4%2C66.6l-21.9%2C0%20M99%2C66.6l-17.9%2C0%20M10.5%2C81.4H6%20M95%2C81.4l-75%2C0%20%20M84%2C96.2l-67%2C0%22%2F%3E%3Cg%3E%20%3Cpath%20class%3D%22st2%22%20d%3D%22M81.3%2C15.7c-0.9%2C1.5-2.1%2C2.7-3.6%2C3.6c-1.5%2C0.9-3.2%2C1.3-5%2C1.3s-3.4-0.4-5-1.3c-1.5-0.9-2.7-2.1-3.6-3.6%20%20c-0.9-1.5-1.3-3.2-1.3-5s0.4-3.4%2C1.3-5c0.9-1.5%2C2.1-2.7%2C3.6-3.6c1.5-0.9%2C3.2-1.3%2C5-1.3s3.4%2C0.4%2C5%2C1.3c1.5%2C0.9%2C2.7%2C2.1%2C3.6%2C3.6%20%20c0.9%2C1.5%2C1.3%2C3.2%2C1.3%2C5S82.2%2C14.2%2C81.3%2C15.7z%20M70.3%2C4.8c-0.7%2C0.4-1.4%2C1-1.9%2C1.9c-0.1%2C0.1-0.1%2C0.2-0.1%2C0.3c0%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3%20%20l1.4%2C1c0.1%2C0.1%2C0.2%2C0.1%2C0.3%2C0.1c0.1%2C0%2C0.2-0.1%2C0.3-0.2c0.4-0.5%2C0.8-0.9%2C1-1c0.4-0.3%2C0.8-0.4%2C1.3-0.4c0.5%2C0%2C0.9%2C0.1%2C1.3%2C0.4%20%20c0.4%2C0.3%2C0.6%2C0.6%2C0.6%2C0.9c0%2C0.3-0.1%2C0.5-0.4%2C0.8c-0.2%2C0.1-0.5%2C0.3-0.9%2C0.6l-0.1%2C0c-0.7%2C0.4-1.1%2C0.7-1.4%2C1c-0.5%2C0.5-0.7%2C1.1-0.7%2C1.8%20%20v0.2c0%2C0.1%2C0%2C0.2%2C0.1%2C0.3c0.1%2C0.1%2C0.2%2C0.1%2C0.3%2C0.1h2.2c0.1%2C0%2C0.2%2C0%2C0.3-0.1c0.1-0.1%2C0.1-0.2%2C0.1-0.3v0c0-0.2%2C0.1-0.4%2C0.3-0.6%20%20c0.1-0.1%2C0.4-0.3%2C0.8-0.5c0.7-0.4%2C1.2-0.8%2C1.5-1.1c0.5-0.6%2C0.8-1.3%2C0.8-2.1c0-0.7-0.2-1.4-0.7-2.1s-1-1.1-1.8-1.5s-1.5-0.5-2.2-0.5%20%20C72%2C4.2%2C71.1%2C4.4%2C70.3%2C4.8z%20M71.5%2C14.6c-0.4%2C0.4-0.5%2C0.8-0.5%2C1.3s0.2%2C0.9%2C0.5%2C1.3s0.8%2C0.5%2C1.3%2C0.5s0.9-0.2%2C1.3-0.5s0.5-0.8%2C0.5-1.3%20%20s-0.2-0.9-0.5-1.3s-0.8-0.5-1.3-0.5S71.8%2C14.2%2C71.5%2C14.6z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E";\n\nvar NotFoundImg = function NotFoundImg() {\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", {\n    src: NotFoundIcon,\n    alt: "Not found page",\n    width: "128px"\n  });\n};\n\nvar EmptyStateVariant;\n\n(function (EmptyStateVariant) {\n  EmptyStateVariant["GettingStarted"] = "GettingStarted";\n  EmptyStateVariant["NoAccess"] = "NoAccess";\n  EmptyStateVariant["NoResult"] = "NoResult";\n  EmptyStateVariant["NoItems"] = "NoItems";\n  EmptyStateVariant["UnexpectedError"] = "UnexpectedError";\n  EmptyStateVariant["PageNotFound"] = "PageNotFound";\n})(EmptyStateVariant || (EmptyStateVariant = {}));\n\nvar EmptyState = function EmptyState(_ref) {\n  var titleProps = _ref.titleProps,\n      buttonProps = _ref.buttonProps,\n      emptyStateIconProps = _ref.emptyStateIconProps,\n      emptyStateProps = _ref.emptyStateProps,\n      emptyStateBodyProps = _ref.emptyStateBodyProps,\n      children = _ref.children;\n\n  var _ref2 = buttonProps || {},\n      _ref2$variant = _ref2.variant,\n      buttonVariant = _ref2$variant === void 0 ? _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ButtonVariant.primary : _ref2$variant,\n      onClick = _ref2.onClick,\n      restButtonProps = _objectWithoutPropertiesLoose(_ref2, ["variant", "onClick"]);\n\n  var _ref3 = titleProps || {},\n      title = _ref3.title,\n      restTitleProps = _objectWithoutPropertiesLoose(_ref3, ["title"]);\n\n  var _ref4 = emptyStateBodyProps || {},\n      body = _ref4.body,\n      restEmptyStateBodyProps = _objectWithoutPropertiesLoose(_ref4, ["body"]);\n\n  var _ref5 = emptyStateProps || {},\n      _ref5$variant = _ref5.variant,\n      emptyStateVariant = _ref5$variant === void 0 ? EmptyStateVariant.GettingStarted : _ref5$variant,\n      className = _ref5.className,\n      restEmptyStateProps = _objectWithoutPropertiesLoose(_ref5, ["variant", "className"]);\n\n  var _getVariantConfig = getVariantConfig({\n    variant: emptyStateVariant,\n    emptyStateIconProps: emptyStateIconProps,\n    titleProps: titleProps\n  }),\n      variant = _getVariantConfig.variant,\n      icon = _getVariantConfig.icon,\n      titleSize = _getVariantConfig.titleSize,\n      headingLevel = _getVariantConfig.headingLevel;\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyState, _extends({\n    variant: variant,\n    className: (0,_patternfly_react_styles__WEBPACK_IMPORTED_MODULE_2__.css)(\'pf-u-pt-2xl pf-u-pt-3xl-on-md\', className)\n  }, restEmptyStateProps), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateIcon, _extends({\n    icon: icon\n  }, emptyStateIconProps)), title && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Title, _extends({\n    headingLevel: headingLevel,\n    size: titleSize\n  }, restTitleProps), title), body && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateBody, _extends({}, restEmptyStateBodyProps), body), (buttonProps == null ? void 0 : buttonProps.title) && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, _extends({\n    variant: buttonVariant,\n    onClick: onClick\n  }, restButtonProps), buttonProps == null ? void 0 : buttonProps.title), children);\n};\n\nvar getVariantConfig = function getVariantConfig(_ref6) {\n  var variant = _ref6.variant,\n      emptyStateIconProps = _ref6.emptyStateIconProps,\n      titleProps = _ref6.titleProps;\n  var varaintConfig = {};\n\n  switch (variant) {\n    case EmptyStateVariant.GettingStarted:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.xl,\n        icon: _patternfly_react_icons_dist_js_icons_space_shuttle_icon__WEBPACK_IMPORTED_MODULE_4__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes["4xl"],\n        headingLevel: \'h1\'\n      };\n      break;\n\n    case EmptyStateVariant.NoAccess:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.large,\n        icon: _patternfly_react_icons_dist_js_icons_lock_icon__WEBPACK_IMPORTED_MODULE_5__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.xl,\n        headingLevel: \'h2\'\n      };\n      break;\n\n    case EmptyStateVariant.NoItems:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.large,\n        icon: _patternfly_react_icons_dist_js_icons_plus_circle_icon__WEBPACK_IMPORTED_MODULE_6__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.xl,\n        headingLevel: \'h2\'\n      };\n      break;\n\n    case EmptyStateVariant.NoResult:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.large,\n        icon: _patternfly_react_icons_dist_js_icons_search_icon__WEBPACK_IMPORTED_MODULE_7__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.lg,\n        headingLevel: \'h2\'\n      };\n      break;\n\n    case EmptyStateVariant.UnexpectedError:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.full,\n        icon: _patternfly_react_icons_dist_js_icons_exclamation_circle_icon__WEBPACK_IMPORTED_MODULE_8__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.lg,\n        headingLevel: \'h1\'\n      };\n      break;\n\n    case EmptyStateVariant.PageNotFound:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.full,\n        icon: NotFoundImg,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.lg,\n        headingLevel: \'h1\'\n      };\n      break;\n\n    default:\n      varaintConfig = {\n        variant: variant || _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.full,\n        icon: emptyStateIconProps == null ? void 0 : emptyStateIconProps.icon,\n        titleSize: titleProps == null ? void 0 : titleProps.size,\n        headingLevel: titleProps == null ? void 0 : titleProps.headingLevel\n      };\n      break;\n  }\n\n  return varaintConfig;\n};\n\nvar Loading = function Loading() {\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyState, null, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateIcon, {\n    variant: "container",\n    component: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Spinner\n  }), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Title, {\n    size: "lg",\n    headingLevel: "h4"\n  }, "Loading"));\n};\n\nvar NoMatchFound = function NoMatchFound(_ref) {\n  var onClear = _ref.onClear;\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(EmptyState, {\n    emptyStateProps: {\n      variant: EmptyStateVariant.NoItems\n    },\n    titleProps: {\n      title: \'No results found\'\n    },\n    emptyStateBodyProps: {\n      body: \'No results match the filter criteria. Clear all filters to show results.\'\n    },\n    buttonProps: onClear && {\n      title: \'Clear all filters\',\n      onClick: onClear\n    }\n  });\n};\n\nvar useDebounce = function useDebounce(fnToDebounce, durationInMs) {\n  if (durationInMs === void 0) {\n    durationInMs = 200;\n  }\n\n  if (isNaN(durationInMs)) {\n    throw new TypeError(\'durationInMs for debounce should be a number\');\n  }\n\n  if (typeof fnToDebounce !== \'function\') {\n    throw new TypeError(\'fnToDebounce should be a function\');\n  } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default()(fnToDebounce, durationInMs), [fnToDebounce, durationInMs]);\n};\n\n\n//# sourceMappingURL=utils.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL3V0aWxzL2Rpc3QvdXRpbHMuZXNtLmpzPzZmYmYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9EO0FBQzZJO0FBQzdHO0FBQ0k7QUFDakI7QUFDSTtBQUN1QjtBQUNuRDtBQUNSOztBQUV2QztBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYSx1QkFBdUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVMsMERBQTRCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsOENBQThDOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0I7QUFDL0I7QUFDQSxpREFBaUQseUVBQXFCO0FBQ3RFO0FBQ0E7O0FBRUEsOEJBQThCO0FBQzlCO0FBQ0E7O0FBRUEsdUNBQXVDO0FBQ3ZDO0FBQ0E7O0FBRUEsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsMERBQTRCLENBQUMsOERBQVk7QUFDbEQ7QUFDQSxlQUFlLDZEQUFHO0FBQ2xCLEdBQUcsd0JBQXdCLDBEQUE0QixDQUFDLGtFQUFjO0FBQ3RFO0FBQ0EsR0FBRyxrQ0FBa0MsMERBQTRCLENBQUMseURBQUs7QUFDdkU7QUFDQTtBQUNBLEdBQUcsbUNBQW1DLDBEQUE0QixDQUFDLGtFQUFjLGFBQWEseUZBQXlGLDBEQUE0QixDQUFDLDBEQUFNO0FBQzFOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0VBQXNCO0FBQ3ZDLGNBQWMsdUdBQWdCO0FBQzlCLG1CQUFtQixxRUFBaUI7QUFDcEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsMkVBQXlCO0FBQzFDLGNBQWMsOEZBQVE7QUFDdEIsbUJBQW1CLGlFQUFhO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLDJFQUF5QjtBQUMxQyxjQUFjLHFHQUFjO0FBQzVCLG1CQUFtQixpRUFBYTtBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQiwyRUFBeUI7QUFDMUMsY0FBYyxnR0FBVTtBQUN4QixtQkFBbUIsaUVBQWE7QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsMEVBQXdCO0FBQ3pDLGNBQWMsNEdBQXFCO0FBQ25DLG1CQUFtQixpRUFBYTtBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQiwwRUFBd0I7QUFDekM7QUFDQSxtQkFBbUIsaUVBQWE7QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0QkFBNEIsMEVBQXdCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsU0FBUywwREFBNEIsQ0FBQyw4REFBWSxRQUFRLDBEQUE0QixDQUFDLGtFQUFjO0FBQ3JHO0FBQ0EsZUFBZSwyREFBTztBQUN0QixHQUFHLEdBQUcsMERBQTRCLENBQUMseURBQUs7QUFDeEM7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsU0FBUywwREFBNEI7QUFDckM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSCxTQUFTLGtEQUFXLENBQUMsc0RBQVE7QUFDN0I7O0FBRTZFO0FBQzdFIiwiZmlsZSI6IjQxMzYxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0X19kZWZhdWx0LCB7IHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRW1wdHlTdGF0ZSBhcyBFbXB0eVN0YXRlJDEsIEVtcHR5U3RhdGVJY29uLCBUaXRsZSwgRW1wdHlTdGF0ZUJvZHksIEJ1dHRvbiwgQnV0dG9uVmFyaWFudCwgRW1wdHlTdGF0ZVZhcmlhbnQgYXMgRW1wdHlTdGF0ZVZhcmlhbnQkMSwgVGl0bGVTaXplcywgU3Bpbm5lciB9IGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LWNvcmUnO1xuaW1wb3J0IFBsdXNDaXJjbGVJY29uIGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LWljb25zL2Rpc3QvanMvaWNvbnMvcGx1cy1jaXJjbGUtaWNvbic7XG5pbXBvcnQgU3BhY2VTaHV0dGxlSWNvbiBmcm9tICdAcGF0dGVybmZseS9yZWFjdC1pY29ucy9kaXN0L2pzL2ljb25zL3NwYWNlLXNodXR0bGUtaWNvbic7XG5pbXBvcnQgTG9ja0ljb24gZnJvbSAnQHBhdHRlcm5mbHkvcmVhY3QtaWNvbnMvZGlzdC9qcy9pY29ucy9sb2NrLWljb24nO1xuaW1wb3J0IFNlYXJjaEljb24gZnJvbSAnQHBhdHRlcm5mbHkvcmVhY3QtaWNvbnMvZGlzdC9qcy9pY29ucy9zZWFyY2gtaWNvbic7XG5pbXBvcnQgRXhjbGFtYXRpb25DaXJjbGVJY29uIGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LWljb25zL2Rpc3QvanMvaWNvbnMvZXhjbGFtYXRpb24tY2lyY2xlLWljb24nO1xuaW1wb3J0IHsgY3NzIH0gZnJvbSAnQHBhdHRlcm5mbHkvcmVhY3Qtc3R5bGVzJztcbmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2guZGVib3VuY2UnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIE5vdEZvdW5kSWNvbiA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyUzRnhtbCUyMHZlcnNpb24lM0QlMjIxLjAlMjIlMjBlbmNvZGluZyUzRCUyMnV0Zi04JTIyJTNGJTNFJTNDc3ZnJTIwdmVyc2lvbiUzRCUyMjEuMSUyMiUyMGlkJTNEJTIyTGF5ZXJfMSUyMiUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIweG1sbnMlM0F4bGluayUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMTk5OSUyRnhsaW5rJTIyJTIweCUzRCUyMjBweCUyMiUyMHklM0QlMjIwcHglMjIlMjAlMjB2aWV3Qm94JTNEJTIyMCUyMDAlMjAxMDAlMjAxMDklMjIlMjBzdHlsZSUzRCUyMmVuYWJsZS1iYWNrZ3JvdW5kJTNBbmV3JTIwMCUyMDAlMjAxMDAlMjAxMDklM0IlMjIlMjB4bWwlM0FzcGFjZSUzRCUyMnByZXNlcnZlJTIyJTNFJTNDc3R5bGUlMjB0eXBlJTNEJTIydGV4dCUyRmNzcyUyMiUzRSUyMC5zdDAlN0JmaWxsJTNBbm9uZSUzQnN0cm9rZSUzQSUyMzZBNkU3MyUzQnN0cm9rZS1saW5lY2FwJTNBcm91bmQlM0JzdHJva2UtbGluZWpvaW4lM0Fyb3VuZCUzQnN0cm9rZS1taXRlcmxpbWl0JTNBMTAlM0JzdHJva2UtZGFzaGFycmF5JTNBMyUyQzUlM0IlN0QlMjAuc3QxJTdCZmlsbCUzQSUyM0ZGRkZGRiUzQnN0cm9rZSUzQSUyMzZBNkU3MyUzQnN0cm9rZS1saW5lY2FwJTNBcm91bmQlM0JzdHJva2UtbGluZWpvaW4lM0Fyb3VuZCUzQnN0cm9rZS1taXRlcmxpbWl0JTNBMTAlM0IlN0QlMjAuc3QyJTdCZmlsbCUzQSUyMzZBNkU3MyUzQiU3RCUzQyUyRnN0eWxlJTNFJTNDcGF0aCUyMGNsYXNzJTNEJTIyc3QwJTIyJTIwZCUzRCUyMk0xMi41JTJDOTYuNWMzLTMzJTJDMTcuNC0zNS44JTJDMzgtMjRjMTkuMSUyQzExJTJDMzYtOC4xJTJDMjEtMjdjLTE1LjQtMTkuNC04LTIzLTgtMjMlMjIlMkYlM0UlM0NwYXRoJTIwY2xhc3MlM0QlMjJzdDElMjIlMjBkJTNEJTIyTTEzJTJDMjV2NTAlMjBNMjcuOCUyQzcxLjhWMTA0JTIwTTI3LjglMkMxNXY0Ny42JTIwTTQyLjYlMkM3NHYzNCUyME00Mi42JTJDMTB2NTQuMiUyME01Ny40JTJDNzkuMlYxMDglMjBNNTcuNCUyQzMydjM4JTIwTTcyLjIlMkM3N3YyNyUyMCUyME03Mi4yJTJDNTQuOHY5LjUlMjBNNzIuMiUyQzI5djEwLjIlMjBNODclMkMyNXY2OCUyME01NiUyQzIyLjVsLTQwLTAuMiUyME01OS42JTJDMzcuMUw1JTJDMzcuMSUyME01OS42JTJDMzcuMSUyME05NSUyQzM3LjFsLTI0LjElMkMwJTIwTTcwLjQlMkM1MS45TDElMkM1MS45JTIwJTIwTTcwLjQlMkM1MS45JTIwTTgwLjglMkM1MS45JTIwTTk5JTJDNTEuOWwtMTguMiUyQzAlMjBNMTguNiUyQzY2LjZMMSUyQzY2LjYlMjBNNzAuNCUyQzY2LjZsLTIxLjklMkMwJTIwTTk5JTJDNjYuNmwtMTcuOSUyQzAlMjBNMTAuNSUyQzgxLjRINiUyME05NSUyQzgxLjRsLTc1JTJDMCUyMCUyME04NCUyQzk2LjJsLTY3JTJDMCUyMiUyRiUzRSUzQ2clM0UlMjAlM0NwYXRoJTIwY2xhc3MlM0QlMjJzdDIlMjIlMjBkJTNEJTIyTTgxLjMlMkMxNS43Yy0wLjklMkMxLjUtMi4xJTJDMi43LTMuNiUyQzMuNmMtMS41JTJDMC45LTMuMiUyQzEuMy01JTJDMS4zcy0zLjQtMC40LTUtMS4zYy0xLjUtMC45LTIuNy0yLjEtMy42LTMuNiUyMCUyMGMtMC45LTEuNS0xLjMtMy4yLTEuMy01czAuNC0zLjQlMkMxLjMtNWMwLjktMS41JTJDMi4xLTIuNyUyQzMuNi0zLjZjMS41LTAuOSUyQzMuMi0xLjMlMkM1LTEuM3MzLjQlMkMwLjQlMkM1JTJDMS4zYzEuNSUyQzAuOSUyQzIuNyUyQzIuMSUyQzMuNiUyQzMuNiUyMCUyMGMwLjklMkMxLjUlMkMxLjMlMkMzLjIlMkMxLjMlMkM1UzgyLjIlMkMxNC4yJTJDODEuMyUyQzE1Ljd6JTIwTTcwLjMlMkM0LjhjLTAuNyUyQzAuNC0xLjQlMkMxLTEuOSUyQzEuOWMtMC4xJTJDMC4xLTAuMSUyQzAuMi0wLjElMkMwLjNjMCUyQzAuMSUyQzAuMSUyQzAuMiUyQzAuMiUyQzAuMyUyMCUyMGwxLjQlMkMxYzAuMSUyQzAuMSUyQzAuMiUyQzAuMSUyQzAuMyUyQzAuMWMwLjElMkMwJTJDMC4yLTAuMSUyQzAuMy0wLjJjMC40LTAuNSUyQzAuOC0wLjklMkMxLTFjMC40LTAuMyUyQzAuOC0wLjQlMkMxLjMtMC40YzAuNSUyQzAlMkMwLjklMkMwLjElMkMxLjMlMkMwLjQlMjAlMjBjMC40JTJDMC4zJTJDMC42JTJDMC42JTJDMC42JTJDMC45YzAlMkMwLjMtMC4xJTJDMC41LTAuNCUyQzAuOGMtMC4yJTJDMC4xLTAuNSUyQzAuMy0wLjklMkMwLjZsLTAuMSUyQzBjLTAuNyUyQzAuNC0xLjElMkMwLjctMS40JTJDMWMtMC41JTJDMC41LTAuNyUyQzEuMS0wLjclMkMxLjglMjAlMjB2MC4yYzAlMkMwLjElMkMwJTJDMC4yJTJDMC4xJTJDMC4zYzAuMSUyQzAuMSUyQzAuMiUyQzAuMSUyQzAuMyUyQzAuMWgyLjJjMC4xJTJDMCUyQzAuMiUyQzAlMkMwLjMtMC4xYzAuMS0wLjElMkMwLjEtMC4yJTJDMC4xLTAuM3YwYzAtMC4yJTJDMC4xLTAuNCUyQzAuMy0wLjYlMjAlMjBjMC4xLTAuMSUyQzAuNC0wLjMlMkMwLjgtMC41YzAuNy0wLjQlMkMxLjItMC44JTJDMS41LTEuMWMwLjUtMC42JTJDMC44LTEuMyUyQzAuOC0yLjFjMC0wLjctMC4yLTEuNC0wLjctMi4xcy0xLTEuMS0xLjgtMS41cy0xLjUtMC41LTIuMi0wLjUlMjAlMjBDNzIlMkM0LjIlMkM3MS4xJTJDNC40JTJDNzAuMyUyQzQuOHolMjBNNzEuNSUyQzE0LjZjLTAuNCUyQzAuNC0wLjUlMkMwLjgtMC41JTJDMS4zczAuMiUyQzAuOSUyQzAuNSUyQzEuM3MwLjglMkMwLjUlMkMxLjMlMkMwLjVzMC45LTAuMiUyQzEuMy0wLjVzMC41LTAuOCUyQzAuNS0xLjMlMjAlMjBzLTAuMi0wLjktMC41LTEuM3MtMC44LTAuNS0xLjMtMC41UzcxLjglMkMxNC4yJTJDNzEuNSUyQzE0LjZ6JTIyJTJGJTNFJTNDJTJGZyUzRSUzQyUyRnN2ZyUzRVwiO1xuXG52YXIgTm90Rm91bmRJbWcgPSBmdW5jdGlvbiBOb3RGb3VuZEltZygpIHtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwge1xuICAgIHNyYzogTm90Rm91bmRJY29uLFxuICAgIGFsdDogXCJOb3QgZm91bmQgcGFnZVwiLFxuICAgIHdpZHRoOiBcIjEyOHB4XCJcbiAgfSk7XG59O1xuXG52YXIgRW1wdHlTdGF0ZVZhcmlhbnQ7XG5cbihmdW5jdGlvbiAoRW1wdHlTdGF0ZVZhcmlhbnQpIHtcbiAgRW1wdHlTdGF0ZVZhcmlhbnRbXCJHZXR0aW5nU3RhcnRlZFwiXSA9IFwiR2V0dGluZ1N0YXJ0ZWRcIjtcbiAgRW1wdHlTdGF0ZVZhcmlhbnRbXCJOb0FjY2Vzc1wiXSA9IFwiTm9BY2Nlc3NcIjtcbiAgRW1wdHlTdGF0ZVZhcmlhbnRbXCJOb1Jlc3VsdFwiXSA9IFwiTm9SZXN1bHRcIjtcbiAgRW1wdHlTdGF0ZVZhcmlhbnRbXCJOb0l0ZW1zXCJdID0gXCJOb0l0ZW1zXCI7XG4gIEVtcHR5U3RhdGVWYXJpYW50W1wiVW5leHBlY3RlZEVycm9yXCJdID0gXCJVbmV4cGVjdGVkRXJyb3JcIjtcbiAgRW1wdHlTdGF0ZVZhcmlhbnRbXCJQYWdlTm90Rm91bmRcIl0gPSBcIlBhZ2VOb3RGb3VuZFwiO1xufSkoRW1wdHlTdGF0ZVZhcmlhbnQgfHwgKEVtcHR5U3RhdGVWYXJpYW50ID0ge30pKTtcblxudmFyIEVtcHR5U3RhdGUgPSBmdW5jdGlvbiBFbXB0eVN0YXRlKF9yZWYpIHtcbiAgdmFyIHRpdGxlUHJvcHMgPSBfcmVmLnRpdGxlUHJvcHMsXG4gICAgICBidXR0b25Qcm9wcyA9IF9yZWYuYnV0dG9uUHJvcHMsXG4gICAgICBlbXB0eVN0YXRlSWNvblByb3BzID0gX3JlZi5lbXB0eVN0YXRlSWNvblByb3BzLFxuICAgICAgZW1wdHlTdGF0ZVByb3BzID0gX3JlZi5lbXB0eVN0YXRlUHJvcHMsXG4gICAgICBlbXB0eVN0YXRlQm9keVByb3BzID0gX3JlZi5lbXB0eVN0YXRlQm9keVByb3BzLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuXG4gIHZhciBfcmVmMiA9IGJ1dHRvblByb3BzIHx8IHt9LFxuICAgICAgX3JlZjIkdmFyaWFudCA9IF9yZWYyLnZhcmlhbnQsXG4gICAgICBidXR0b25WYXJpYW50ID0gX3JlZjIkdmFyaWFudCA9PT0gdm9pZCAwID8gQnV0dG9uVmFyaWFudC5wcmltYXJ5IDogX3JlZjIkdmFyaWFudCxcbiAgICAgIG9uQ2xpY2sgPSBfcmVmMi5vbkNsaWNrLFxuICAgICAgcmVzdEJ1dHRvblByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjIsIFtcInZhcmlhbnRcIiwgXCJvbkNsaWNrXCJdKTtcblxuICB2YXIgX3JlZjMgPSB0aXRsZVByb3BzIHx8IHt9LFxuICAgICAgdGl0bGUgPSBfcmVmMy50aXRsZSxcbiAgICAgIHJlc3RUaXRsZVByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjMsIFtcInRpdGxlXCJdKTtcblxuICB2YXIgX3JlZjQgPSBlbXB0eVN0YXRlQm9keVByb3BzIHx8IHt9LFxuICAgICAgYm9keSA9IF9yZWY0LmJvZHksXG4gICAgICByZXN0RW1wdHlTdGF0ZUJvZHlQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWY0LCBbXCJib2R5XCJdKTtcblxuICB2YXIgX3JlZjUgPSBlbXB0eVN0YXRlUHJvcHMgfHwge30sXG4gICAgICBfcmVmNSR2YXJpYW50ID0gX3JlZjUudmFyaWFudCxcbiAgICAgIGVtcHR5U3RhdGVWYXJpYW50ID0gX3JlZjUkdmFyaWFudCA9PT0gdm9pZCAwID8gRW1wdHlTdGF0ZVZhcmlhbnQuR2V0dGluZ1N0YXJ0ZWQgOiBfcmVmNSR2YXJpYW50LFxuICAgICAgY2xhc3NOYW1lID0gX3JlZjUuY2xhc3NOYW1lLFxuICAgICAgcmVzdEVtcHR5U3RhdGVQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWY1LCBbXCJ2YXJpYW50XCIsIFwiY2xhc3NOYW1lXCJdKTtcblxuICB2YXIgX2dldFZhcmlhbnRDb25maWcgPSBnZXRWYXJpYW50Q29uZmlnKHtcbiAgICB2YXJpYW50OiBlbXB0eVN0YXRlVmFyaWFudCxcbiAgICBlbXB0eVN0YXRlSWNvblByb3BzOiBlbXB0eVN0YXRlSWNvblByb3BzLFxuICAgIHRpdGxlUHJvcHM6IHRpdGxlUHJvcHNcbiAgfSksXG4gICAgICB2YXJpYW50ID0gX2dldFZhcmlhbnRDb25maWcudmFyaWFudCxcbiAgICAgIGljb24gPSBfZ2V0VmFyaWFudENvbmZpZy5pY29uLFxuICAgICAgdGl0bGVTaXplID0gX2dldFZhcmlhbnRDb25maWcudGl0bGVTaXplLFxuICAgICAgaGVhZGluZ0xldmVsID0gX2dldFZhcmlhbnRDb25maWcuaGVhZGluZ0xldmVsO1xuXG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtcHR5U3RhdGUkMSwgX2V4dGVuZHMoe1xuICAgIHZhcmlhbnQ6IHZhcmlhbnQsXG4gICAgY2xhc3NOYW1lOiBjc3MoJ3BmLXUtcHQtMnhsIHBmLXUtcHQtM3hsLW9uLW1kJywgY2xhc3NOYW1lKVxuICB9LCByZXN0RW1wdHlTdGF0ZVByb3BzKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFbXB0eVN0YXRlSWNvbiwgX2V4dGVuZHMoe1xuICAgIGljb246IGljb25cbiAgfSwgZW1wdHlTdGF0ZUljb25Qcm9wcykpLCB0aXRsZSAmJiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRpdGxlLCBfZXh0ZW5kcyh7XG4gICAgaGVhZGluZ0xldmVsOiBoZWFkaW5nTGV2ZWwsXG4gICAgc2l6ZTogdGl0bGVTaXplXG4gIH0sIHJlc3RUaXRsZVByb3BzKSwgdGl0bGUpLCBib2R5ICYmIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRW1wdHlTdGF0ZUJvZHksIF9leHRlbmRzKHt9LCByZXN0RW1wdHlTdGF0ZUJvZHlQcm9wcyksIGJvZHkpLCAoYnV0dG9uUHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IGJ1dHRvblByb3BzLnRpdGxlKSAmJiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgX2V4dGVuZHMoe1xuICAgIHZhcmlhbnQ6IGJ1dHRvblZhcmlhbnQsXG4gICAgb25DbGljazogb25DbGlja1xuICB9LCByZXN0QnV0dG9uUHJvcHMpLCBidXR0b25Qcm9wcyA9PSBudWxsID8gdm9pZCAwIDogYnV0dG9uUHJvcHMudGl0bGUpLCBjaGlsZHJlbik7XG59O1xuXG52YXIgZ2V0VmFyaWFudENvbmZpZyA9IGZ1bmN0aW9uIGdldFZhcmlhbnRDb25maWcoX3JlZjYpIHtcbiAgdmFyIHZhcmlhbnQgPSBfcmVmNi52YXJpYW50LFxuICAgICAgZW1wdHlTdGF0ZUljb25Qcm9wcyA9IF9yZWY2LmVtcHR5U3RhdGVJY29uUHJvcHMsXG4gICAgICB0aXRsZVByb3BzID0gX3JlZjYudGl0bGVQcm9wcztcbiAgdmFyIHZhcmFpbnRDb25maWcgPSB7fTtcblxuICBzd2l0Y2ggKHZhcmlhbnQpIHtcbiAgICBjYXNlIEVtcHR5U3RhdGVWYXJpYW50LkdldHRpbmdTdGFydGVkOlxuICAgICAgdmFyYWludENvbmZpZyA9IHtcbiAgICAgICAgdmFyaWFudDogRW1wdHlTdGF0ZVZhcmlhbnQkMS54bCxcbiAgICAgICAgaWNvbjogU3BhY2VTaHV0dGxlSWNvbixcbiAgICAgICAgdGl0bGVTaXplOiBUaXRsZVNpemVzWyc0eGwnXSxcbiAgICAgICAgaGVhZGluZ0xldmVsOiAnaDEnXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEVtcHR5U3RhdGVWYXJpYW50Lk5vQWNjZXNzOlxuICAgICAgdmFyYWludENvbmZpZyA9IHtcbiAgICAgICAgdmFyaWFudDogRW1wdHlTdGF0ZVZhcmlhbnQkMS5sYXJnZSxcbiAgICAgICAgaWNvbjogTG9ja0ljb24sXG4gICAgICAgIHRpdGxlU2l6ZTogVGl0bGVTaXplcy54bCxcbiAgICAgICAgaGVhZGluZ0xldmVsOiAnaDInXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEVtcHR5U3RhdGVWYXJpYW50Lk5vSXRlbXM6XG4gICAgICB2YXJhaW50Q29uZmlnID0ge1xuICAgICAgICB2YXJpYW50OiBFbXB0eVN0YXRlVmFyaWFudCQxLmxhcmdlLFxuICAgICAgICBpY29uOiBQbHVzQ2lyY2xlSWNvbixcbiAgICAgICAgdGl0bGVTaXplOiBUaXRsZVNpemVzLnhsLFxuICAgICAgICBoZWFkaW5nTGV2ZWw6ICdoMidcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgRW1wdHlTdGF0ZVZhcmlhbnQuTm9SZXN1bHQ6XG4gICAgICB2YXJhaW50Q29uZmlnID0ge1xuICAgICAgICB2YXJpYW50OiBFbXB0eVN0YXRlVmFyaWFudCQxLmxhcmdlLFxuICAgICAgICBpY29uOiBTZWFyY2hJY29uLFxuICAgICAgICB0aXRsZVNpemU6IFRpdGxlU2l6ZXMubGcsXG4gICAgICAgIGhlYWRpbmdMZXZlbDogJ2gyJ1xuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBFbXB0eVN0YXRlVmFyaWFudC5VbmV4cGVjdGVkRXJyb3I6XG4gICAgICB2YXJhaW50Q29uZmlnID0ge1xuICAgICAgICB2YXJpYW50OiBFbXB0eVN0YXRlVmFyaWFudCQxLmZ1bGwsXG4gICAgICAgIGljb246IEV4Y2xhbWF0aW9uQ2lyY2xlSWNvbixcbiAgICAgICAgdGl0bGVTaXplOiBUaXRsZVNpemVzLmxnLFxuICAgICAgICBoZWFkaW5nTGV2ZWw6ICdoMSdcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgRW1wdHlTdGF0ZVZhcmlhbnQuUGFnZU5vdEZvdW5kOlxuICAgICAgdmFyYWludENvbmZpZyA9IHtcbiAgICAgICAgdmFyaWFudDogRW1wdHlTdGF0ZVZhcmlhbnQkMS5mdWxsLFxuICAgICAgICBpY29uOiBOb3RGb3VuZEltZyxcbiAgICAgICAgdGl0bGVTaXplOiBUaXRsZVNpemVzLmxnLFxuICAgICAgICBoZWFkaW5nTGV2ZWw6ICdoMSdcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICB2YXJhaW50Q29uZmlnID0ge1xuICAgICAgICB2YXJpYW50OiB2YXJpYW50IHx8IEVtcHR5U3RhdGVWYXJpYW50JDEuZnVsbCxcbiAgICAgICAgaWNvbjogZW1wdHlTdGF0ZUljb25Qcm9wcyA9PSBudWxsID8gdm9pZCAwIDogZW1wdHlTdGF0ZUljb25Qcm9wcy5pY29uLFxuICAgICAgICB0aXRsZVNpemU6IHRpdGxlUHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IHRpdGxlUHJvcHMuc2l6ZSxcbiAgICAgICAgaGVhZGluZ0xldmVsOiB0aXRsZVByb3BzID09IG51bGwgPyB2b2lkIDAgOiB0aXRsZVByb3BzLmhlYWRpbmdMZXZlbFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIHZhcmFpbnRDb25maWc7XG59O1xuXG52YXIgTG9hZGluZyA9IGZ1bmN0aW9uIExvYWRpbmcoKSB7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtcHR5U3RhdGUkMSwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFbXB0eVN0YXRlSWNvbiwge1xuICAgIHZhcmlhbnQ6IFwiY29udGFpbmVyXCIsXG4gICAgY29tcG9uZW50OiBTcGlubmVyXG4gIH0pLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRpdGxlLCB7XG4gICAgc2l6ZTogXCJsZ1wiLFxuICAgIGhlYWRpbmdMZXZlbDogXCJoNFwiXG4gIH0sIFwiTG9hZGluZ1wiKSk7XG59O1xuXG52YXIgTm9NYXRjaEZvdW5kID0gZnVuY3Rpb24gTm9NYXRjaEZvdW5kKF9yZWYpIHtcbiAgdmFyIG9uQ2xlYXIgPSBfcmVmLm9uQ2xlYXI7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtcHR5U3RhdGUsIHtcbiAgICBlbXB0eVN0YXRlUHJvcHM6IHtcbiAgICAgIHZhcmlhbnQ6IEVtcHR5U3RhdGVWYXJpYW50Lk5vSXRlbXNcbiAgICB9LFxuICAgIHRpdGxlUHJvcHM6IHtcbiAgICAgIHRpdGxlOiAnTm8gcmVzdWx0cyBmb3VuZCdcbiAgICB9LFxuICAgIGVtcHR5U3RhdGVCb2R5UHJvcHM6IHtcbiAgICAgIGJvZHk6ICdObyByZXN1bHRzIG1hdGNoIHRoZSBmaWx0ZXIgY3JpdGVyaWEuIENsZWFyIGFsbCBmaWx0ZXJzIHRvIHNob3cgcmVzdWx0cy4nXG4gICAgfSxcbiAgICBidXR0b25Qcm9wczogb25DbGVhciAmJiB7XG4gICAgICB0aXRsZTogJ0NsZWFyIGFsbCBmaWx0ZXJzJyxcbiAgICAgIG9uQ2xpY2s6IG9uQ2xlYXJcbiAgICB9XG4gIH0pO1xufTtcblxudmFyIHVzZURlYm91bmNlID0gZnVuY3Rpb24gdXNlRGVib3VuY2UoZm5Ub0RlYm91bmNlLCBkdXJhdGlvbkluTXMpIHtcbiAgaWYgKGR1cmF0aW9uSW5NcyA9PT0gdm9pZCAwKSB7XG4gICAgZHVyYXRpb25Jbk1zID0gMjAwO1xuICB9XG5cbiAgaWYgKGlzTmFOKGR1cmF0aW9uSW5NcykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdkdXJhdGlvbkluTXMgZm9yIGRlYm91bmNlIHNob3VsZCBiZSBhIG51bWJlcicpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBmblRvRGVib3VuY2UgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdmblRvRGVib3VuY2Ugc2hvdWxkIGJlIGEgZnVuY3Rpb24nKTtcbiAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG5cblxuICByZXR1cm4gdXNlQ2FsbGJhY2soZGVib3VuY2UoZm5Ub0RlYm91bmNlLCBkdXJhdGlvbkluTXMpLCBbZm5Ub0RlYm91bmNlLCBkdXJhdGlvbkluTXNdKTtcbn07XG5cbmV4cG9ydCB7IEVtcHR5U3RhdGUsIEVtcHR5U3RhdGVWYXJpYW50LCBMb2FkaW5nLCBOb01hdGNoRm91bmQsIHVzZURlYm91bmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5lc20uanMubWFwXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///41361\n')}}]);