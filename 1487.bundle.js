(self.webpackChunk_cos_ui_apps_cos_ui=self.webpackChunk_cos_ui_apps_cos_ui||[]).push([[1487],{71487:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": () => (/* binding */ federated)\n});\n\n// EXTERNAL MODULE: consume shared module (default) react@^16.13.1 (singleton) (fallback: ../../node_modules/react/index.js)\nvar index_js_ = __webpack_require__(42403);\nvar index_js_default = /*#__PURE__*/__webpack_require__.n(index_js_);\n// EXTERNAL MODULE: consume shared module (default) @patternfly/react-core@^4.106.2 (singleton) (fallback: ../../node_modules/@patternfly/react-core/dist/esm/index.js)\nvar esm_index_js_ = __webpack_require__(63583);\n// EXTERNAL MODULE: consume shared module (default) @bf2/ui-shared@~0.3.0 (strict) (fallback: ../../node_modules/@bf2/ui-shared/dist/esm/index.js)\nvar dist_esm_index_js_ = __webpack_require__(18732);\n// EXTERNAL MODULE: consume shared module (default) react-router-dom@^5.2.0 (singleton) (fallback: ../../node_modules/react-router-dom/esm/react-router-dom.js)\nvar react_router_dom_js_ = __webpack_require__(48049);\n// EXTERNAL MODULE: consume shared module (default) react-i18next@^11.8.8 (strict) (fallback: ../../node_modules/react-i18next/dist/es/index.js)\nvar es_index_js_ = __webpack_require__(66170);\n// EXTERNAL MODULE: ../../packages/utils/dist/utils.esm.js\nvar utils_esm = __webpack_require__(41361);\n// EXTERNAL MODULE: consume shared module (default) i18next@^19.9.1 (strict) (fallback: ../../node_modules/i18next/dist/esm/i18next.js)\nvar i18next_js_ = __webpack_require__(34154);\nvar i18next_js_default = /*#__PURE__*/__webpack_require__.n(i18next_js_);\n// EXTERNAL MODULE: consume shared module (default) i18next-http-backend@^1.2.2 (strict) (fallback: ../../node_modules/i18next-http-backend/esm/index.js)\nvar i18next_http_backend_esm_index_js_ = __webpack_require__(31427);\nvar i18next_http_backend_esm_index_js_default = /*#__PURE__*/__webpack_require__.n(i18next_http_backend_esm_index_js_);\n// EXTERNAL MODULE: consume shared module (default) i18next-browser-languagedetector@^6.0.1 (strict) (fallback: ../../node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js)\nvar i18nextBrowserLanguageDetector_js_ = __webpack_require__(87282);\nvar i18nextBrowserLanguageDetector_js_default = /*#__PURE__*/__webpack_require__.n(i18nextBrowserLanguageDetector_js_);\n// EXTERNAL MODULE: ../../node_modules/keycloak-js/dist/keycloak.js\nvar keycloak = __webpack_require__(34482);\n// EXTERNAL MODULE: ../../packages/machines/dist/machines.esm.js\nvar machines_esm = __webpack_require__(83255);\n// EXTERNAL MODULE: consume shared module (default) @patternfly/react-styles@^4.7.8 (singleton) (fallback: ../../node_modules/@patternfly/react-styles/dist/esm/index.js)\nvar react_styles_dist_esm_index_js_ = __webpack_require__(42259);\n// EXTERNAL MODULE: consume shared module (default) @patternfly/react-table@^4.24.1 (singleton) (fallback: ../../node_modules/@patternfly/react-table/dist/esm/index.js)\nvar react_table_dist_esm_index_js_ = __webpack_require__(83379);\n// EXTERNAL MODULE: consume shared module (default) @patternfly/react-icons@^4.7.11 (singleton) (fallback: ../../node_modules/@patternfly/react-icons/dist/esm/index.js)\nvar react_icons_dist_esm_index_js_ = __webpack_require__(39576);\n// EXTERNAL MODULE: ../../packages/creationWizard/dist/index.js\nvar dist = __webpack_require__(70793);\n;// CONCATENATED MODULE: ../../packages/app/dist/app.esm.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar runtime_1 = /*#__PURE__*/createCommonjsModule(function (module) {\n  /**\n   * Copyright (c) 2014-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  var runtime = function (exports) {\n\n    var Op = Object.prototype;\n    var hasOwn = Op.hasOwnProperty;\n    var undefined$1; // More compressible than void 0.\n\n    var $Symbol = typeof Symbol === "function" ? Symbol : {};\n    var iteratorSymbol = $Symbol.iterator || "@@iterator";\n    var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";\n    var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";\n\n    function define(obj, key, value) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n      return obj[key];\n    }\n\n    try {\n      // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n      define({}, "");\n    } catch (err) {\n      define = function define(obj, key, value) {\n        return obj[key] = value;\n      };\n    }\n\n    function wrap(innerFn, outerFn, self, tryLocsList) {\n      // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n      var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n      var generator = Object.create(protoGenerator.prototype);\n      var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next,\n      // .throw, and .return methods.\n\n      generator._invoke = makeInvokeMethod(innerFn, self, context);\n      return generator;\n    }\n\n    exports.wrap = wrap; // Try/catch helper to minimize deoptimizations. Returns a completion\n    // record like context.tryEntries[i].completion. This interface could\n    // have been (and was previously) designed to take a closure to be\n    // invoked without arguments, but in all the cases we care about we\n    // already have an existing method we want to call, so there\'s no need\n    // to create a new function object. We can even get away with assuming\n    // the method takes exactly one argument, since that happens to be true\n    // in every case, so we don\'t have to touch the arguments object. The\n    // only additional allocation required is the completion record, which\n    // has a stable shape and so hopefully should be cheap to allocate.\n\n    function tryCatch(fn, obj, arg) {\n      try {\n        return {\n          type: "normal",\n          arg: fn.call(obj, arg)\n        };\n      } catch (err) {\n        return {\n          type: "throw",\n          arg: err\n        };\n      }\n    }\n\n    var GenStateSuspendedStart = "suspendedStart";\n    var GenStateSuspendedYield = "suspendedYield";\n    var GenStateExecuting = "executing";\n    var GenStateCompleted = "completed"; // Returning this object from the innerFn has the same effect as\n    // breaking out of the dispatch switch statement.\n\n    var ContinueSentinel = {}; // Dummy constructor functions that we use as the .constructor and\n    // .constructor.prototype properties for functions that return Generator\n    // objects. For full spec compliance, you may wish to configure your\n    // minifier not to mangle the names of these two functions.\n\n    function Generator() {}\n\n    function GeneratorFunction() {}\n\n    function GeneratorFunctionPrototype() {} // This is a polyfill for %IteratorPrototype% for environments that\n    // don\'t natively support it.\n\n\n    var IteratorPrototype = {};\n\n    IteratorPrototype[iteratorSymbol] = function () {\n      return this;\n    };\n\n    var getProto = Object.getPrototypeOf;\n    var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n\n    if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n      // This environment has a native %IteratorPrototype%; use it instead\n      // of the polyfill.\n      IteratorPrototype = NativeIteratorPrototype;\n    }\n\n    var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n    GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n    GeneratorFunctionPrototype.constructor = GeneratorFunction;\n    GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"); // Helper for defining the .next, .throw, and .return methods of the\n    // Iterator interface in terms of a single ._invoke method.\n\n    function defineIteratorMethods(prototype) {\n      ["next", "throw", "return"].forEach(function (method) {\n        define(prototype, method, function (arg) {\n          return this._invoke(method, arg);\n        });\n      });\n    }\n\n    exports.isGeneratorFunction = function (genFun) {\n      var ctor = typeof genFun === "function" && genFun.constructor;\n      return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can\n      // do is to check its .name property.\n      (ctor.displayName || ctor.name) === "GeneratorFunction" : false;\n    };\n\n    exports.mark = function (genFun) {\n      if (Object.setPrototypeOf) {\n        Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n      } else {\n        genFun.__proto__ = GeneratorFunctionPrototype;\n        define(genFun, toStringTagSymbol, "GeneratorFunction");\n      }\n\n      genFun.prototype = Object.create(Gp);\n      return genFun;\n    }; // Within the body of any async function, `await x` is transformed to\n    // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n    // `hasOwn.call(value, "__await")` to determine if the yielded value is\n    // meant to be awaited.\n\n\n    exports.awrap = function (arg) {\n      return {\n        __await: arg\n      };\n    };\n\n    function AsyncIterator(generator, PromiseImpl) {\n      function invoke(method, arg, resolve, reject) {\n        var record = tryCatch(generator[method], generator, arg);\n\n        if (record.type === "throw") {\n          reject(record.arg);\n        } else {\n          var result = record.arg;\n          var value = result.value;\n\n          if (value && typeof value === "object" && hasOwn.call(value, "__await")) {\n            return PromiseImpl.resolve(value.__await).then(function (value) {\n              invoke("next", value, resolve, reject);\n            }, function (err) {\n              invoke("throw", err, resolve, reject);\n            });\n          }\n\n          return PromiseImpl.resolve(value).then(function (unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration.\n            result.value = unwrapped;\n            resolve(result);\n          }, function (error) {\n            // If a rejected Promise was yielded, throw the rejection back\n            // into the async generator function so it can be handled there.\n            return invoke("throw", error, resolve, reject);\n          });\n        }\n      }\n\n      var previousPromise;\n\n      function enqueue(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n\n        return previousPromise = // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later\n        // invocations of the iterator.\n        callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      } // Define the unified helper method that is used to implement .next,\n      // .throw, and .return (see defineIteratorMethods).\n\n\n      this._invoke = enqueue;\n    }\n\n    defineIteratorMethods(AsyncIterator.prototype);\n\n    AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n      return this;\n    };\n\n    exports.AsyncIterator = AsyncIterator; // Note that simple async functions are implemented on top of\n    // AsyncIterator objects; they just return a Promise for the value of\n    // the final result produced by the iterator.\n\n    exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n      if (PromiseImpl === void 0) PromiseImpl = Promise;\n      var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n      return exports.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function (result) {\n        return result.done ? result.value : iter.next();\n      });\n    };\n\n    function makeInvokeMethod(innerFn, self, context) {\n      var state = GenStateSuspendedStart;\n      return function invoke(method, arg) {\n        if (state === GenStateExecuting) {\n          throw new Error("Generator is already running");\n        }\n\n        if (state === GenStateCompleted) {\n          if (method === "throw") {\n            throw arg;\n          } // Be forgiving, per 25.3.3.3.3 of the spec:\n          // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n\n\n          return doneResult();\n        }\n\n        context.method = method;\n        context.arg = arg;\n\n        while (true) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (context.method === "next") {\n            // Setting context._sent for legacy support of Babel\'s\n            // function.sent implementation.\n            context.sent = context._sent = context.arg;\n          } else if (context.method === "throw") {\n            if (state === GenStateSuspendedStart) {\n              state = GenStateCompleted;\n              throw context.arg;\n            }\n\n            context.dispatchException(context.arg);\n          } else if (context.method === "return") {\n            context.abrupt("return", context.arg);\n          }\n\n          state = GenStateExecuting;\n          var record = tryCatch(innerFn, self, context);\n\n          if (record.type === "normal") {\n            // If an exception is thrown from innerFn, we leave state ===\n            // GenStateExecuting and loop back for another invocation.\n            state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n            if (record.arg === ContinueSentinel) {\n              continue;\n            }\n\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          } else if (record.type === "throw") {\n            state = GenStateCompleted; // Dispatch the exception by looping back around to the\n            // context.dispatchException(context.arg) call above.\n\n            context.method = "throw";\n            context.arg = record.arg;\n          }\n        }\n      };\n    } // Call delegate.iterator[context.method](context.arg) and handle the\n    // result, either by returning a { value, done } result from the\n    // delegate iterator, or by modifying context.method and context.arg,\n    // setting context.delegate to null, and returning the ContinueSentinel.\n\n\n    function maybeInvokeDelegate(delegate, context) {\n      var method = delegate.iterator[context.method];\n\n      if (method === undefined$1) {\n        // A .throw or .return when the delegate iterator has no .throw\n        // method always terminates the yield* loop.\n        context.delegate = null;\n\n        if (context.method === "throw") {\n          // Note: ["return"] must be used for ES3 parsing compatibility.\n          if (delegate.iterator["return"]) {\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            context.method = "return";\n            context.arg = undefined$1;\n            maybeInvokeDelegate(delegate, context);\n\n            if (context.method === "throw") {\n              // If maybeInvokeDelegate(context) changed context.method from\n              // "return" to "throw", let that override the TypeError below.\n              return ContinueSentinel;\n            }\n          }\n\n          context.method = "throw";\n          context.arg = new TypeError("The iterator does not provide a \'throw\' method");\n        }\n\n        return ContinueSentinel;\n      }\n\n      var record = tryCatch(method, delegate.iterator, context.arg);\n\n      if (record.type === "throw") {\n        context.method = "throw";\n        context.arg = record.arg;\n        context.delegate = null;\n        return ContinueSentinel;\n      }\n\n      var info = record.arg;\n\n      if (!info) {\n        context.method = "throw";\n        context.arg = new TypeError("iterator result is not an object");\n        context.delegate = null;\n        return ContinueSentinel;\n      }\n\n      if (info.done) {\n        // Assign the result of the finished delegate to the temporary\n        // variable specified by delegate.resultName (see delegateYield).\n        context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield).\n\n        context.next = delegate.nextLoc; // If context.method was "throw" but the delegate handled the\n        // exception, let the outer generator proceed normally. If\n        // context.method was "next", forget context.arg since it has been\n        // "consumed" by the delegate iterator. If context.method was\n        // "return", allow the original .return call to continue in the\n        // outer generator.\n\n        if (context.method !== "return") {\n          context.method = "next";\n          context.arg = undefined$1;\n        }\n      } else {\n        // Re-yield the result returned by the delegate method.\n        return info;\n      } // The delegate iterator is finished, so forget it and continue with\n      // the outer generator.\n\n\n      context.delegate = null;\n      return ContinueSentinel;\n    } // Define Generator.prototype.{next,throw,return} in terms of the\n    // unified ._invoke helper method.\n\n\n    defineIteratorMethods(Gp);\n    define(Gp, toStringTagSymbol, "Generator"); // A Generator should always return itself as the iterator object when the\n    // @@iterator function is called on it. Some browsers\' implementations of the\n    // iterator prototype chain incorrectly implement this, causing the Generator\n    // object to not be returned from this call. This ensures that doesn\'t happen.\n    // See https://github.com/facebook/regenerator/issues/274 for more details.\n\n    Gp[iteratorSymbol] = function () {\n      return this;\n    };\n\n    Gp.toString = function () {\n      return "[object Generator]";\n    };\n\n    function pushTryEntry(locs) {\n      var entry = {\n        tryLoc: locs[0]\n      };\n\n      if (1 in locs) {\n        entry.catchLoc = locs[1];\n      }\n\n      if (2 in locs) {\n        entry.finallyLoc = locs[2];\n        entry.afterLoc = locs[3];\n      }\n\n      this.tryEntries.push(entry);\n    }\n\n    function resetTryEntry(entry) {\n      var record = entry.completion || {};\n      record.type = "normal";\n      delete record.arg;\n      entry.completion = record;\n    }\n\n    function Context(tryLocsList) {\n      // The root entry object (effectively a try statement without a catch\n      // or a finally block) gives us a place to store values thrown from\n      // locations where there is no enclosing try statement.\n      this.tryEntries = [{\n        tryLoc: "root"\n      }];\n      tryLocsList.forEach(pushTryEntry, this);\n      this.reset(true);\n    }\n\n    exports.keys = function (object) {\n      var keys = [];\n\n      for (var key in object) {\n        keys.push(key);\n      }\n\n      keys.reverse(); // Rather than returning an object with a next method, we keep\n      // things simple and return the next function itself.\n\n      return function next() {\n        while (keys.length) {\n          var key = keys.pop();\n\n          if (key in object) {\n            next.value = key;\n            next.done = false;\n            return next;\n          }\n        } // To avoid creating an additional object, we just hang the .value\n        // and .done properties off the next function object itself. This\n        // also ensures that the minifier will not anonymize the function.\n\n\n        next.done = true;\n        return next;\n      };\n    };\n\n    function values(iterable) {\n      if (iterable) {\n        var iteratorMethod = iterable[iteratorSymbol];\n\n        if (iteratorMethod) {\n          return iteratorMethod.call(iterable);\n        }\n\n        if (typeof iterable.next === "function") {\n          return iterable;\n        }\n\n        if (!isNaN(iterable.length)) {\n          var i = -1,\n              next = function next() {\n            while (++i < iterable.length) {\n              if (hasOwn.call(iterable, i)) {\n                next.value = iterable[i];\n                next.done = false;\n                return next;\n              }\n            }\n\n            next.value = undefined$1;\n            next.done = true;\n            return next;\n          };\n\n          return next.next = next;\n        }\n      } // Return an iterator with no values.\n\n\n      return {\n        next: doneResult\n      };\n    }\n\n    exports.values = values;\n\n    function doneResult() {\n      return {\n        value: undefined$1,\n        done: true\n      };\n    }\n\n    Context.prototype = {\n      constructor: Context,\n      reset: function reset(skipTempReset) {\n        this.prev = 0;\n        this.next = 0; // Resetting context._sent for legacy support of Babel\'s\n        // function.sent implementation.\n\n        this.sent = this._sent = undefined$1;\n        this.done = false;\n        this.delegate = null;\n        this.method = "next";\n        this.arg = undefined$1;\n        this.tryEntries.forEach(resetTryEntry);\n\n        if (!skipTempReset) {\n          for (var name in this) {\n            // Not sure about the optimal order of these conditions:\n            if (name.charAt(0) === "t" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n              this[name] = undefined$1;\n            }\n          }\n        }\n      },\n      stop: function stop() {\n        this.done = true;\n        var rootEntry = this.tryEntries[0];\n        var rootRecord = rootEntry.completion;\n\n        if (rootRecord.type === "throw") {\n          throw rootRecord.arg;\n        }\n\n        return this.rval;\n      },\n      dispatchException: function dispatchException(exception) {\n        if (this.done) {\n          throw exception;\n        }\n\n        var context = this;\n\n        function handle(loc, caught) {\n          record.type = "throw";\n          record.arg = exception;\n          context.next = loc;\n\n          if (caught) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            context.method = "next";\n            context.arg = undefined$1;\n          }\n\n          return !!caught;\n        }\n\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          var record = entry.completion;\n\n          if (entry.tryLoc === "root") {\n            // Exception thrown outside of any try block that could handle\n            // it, so set the completion value of the entire function to\n            // throw the exception.\n            return handle("end");\n          }\n\n          if (entry.tryLoc <= this.prev) {\n            var hasCatch = hasOwn.call(entry, "catchLoc");\n            var hasFinally = hasOwn.call(entry, "finallyLoc");\n\n            if (hasCatch && hasFinally) {\n              if (this.prev < entry.catchLoc) {\n                return handle(entry.catchLoc, true);\n              } else if (this.prev < entry.finallyLoc) {\n                return handle(entry.finallyLoc);\n              }\n            } else if (hasCatch) {\n              if (this.prev < entry.catchLoc) {\n                return handle(entry.catchLoc, true);\n              }\n            } else if (hasFinally) {\n              if (this.prev < entry.finallyLoc) {\n                return handle(entry.finallyLoc);\n              }\n            } else {\n              throw new Error("try statement without catch or finally");\n            }\n          }\n        }\n      },\n      abrupt: function abrupt(type, arg) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n\n          if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {\n            var finallyEntry = entry;\n            break;\n          }\n        }\n\n        if (finallyEntry && (type === "break" || type === "continue") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n          // Ignore the finally entry if control is not jumping to a\n          // location outside the try/catch block.\n          finallyEntry = null;\n        }\n\n        var record = finallyEntry ? finallyEntry.completion : {};\n        record.type = type;\n        record.arg = arg;\n\n        if (finallyEntry) {\n          this.method = "next";\n          this.next = finallyEntry.finallyLoc;\n          return ContinueSentinel;\n        }\n\n        return this.complete(record);\n      },\n      complete: function complete(record, afterLoc) {\n        if (record.type === "throw") {\n          throw record.arg;\n        }\n\n        if (record.type === "break" || record.type === "continue") {\n          this.next = record.arg;\n        } else if (record.type === "return") {\n          this.rval = this.arg = record.arg;\n          this.method = "return";\n          this.next = "end";\n        } else if (record.type === "normal" && afterLoc) {\n          this.next = afterLoc;\n        }\n\n        return ContinueSentinel;\n      },\n      finish: function finish(finallyLoc) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n\n          if (entry.finallyLoc === finallyLoc) {\n            this.complete(entry.completion, entry.afterLoc);\n            resetTryEntry(entry);\n            return ContinueSentinel;\n          }\n        }\n      },\n      "catch": function _catch(tryLoc) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n\n          if (entry.tryLoc === tryLoc) {\n            var record = entry.completion;\n\n            if (record.type === "throw") {\n              var thrown = record.arg;\n              resetTryEntry(entry);\n            }\n\n            return thrown;\n          }\n        } // The context.catch method must only be called with a location\n        // argument that corresponds to a known catch block.\n\n\n        throw new Error("illegal catch attempt");\n      },\n      delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n        this.delegate = {\n          iterator: values(iterable),\n          resultName: resultName,\n          nextLoc: nextLoc\n        };\n\n        if (this.method === "next") {\n          // Deliberately forget the last sent value so that we don\'t\n          // accidentally pass it on to the delegate.\n          this.arg = undefined$1;\n        }\n\n        return ContinueSentinel;\n      }\n    }; // Regardless of whether this script is executing as a CommonJS module\n    // or not, return the runtime object so that we can declare the variable\n    // regeneratorRuntime in the outer scope, which allows this module to be\n    // injected easily by `bin/regenerator --include-runtime script.js`.\n\n    return exports;\n  }( // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   module.exports );\n\n  try {\n    regeneratorRuntime = runtime;\n  } catch (accidentalStrictMode) {\n    // This module should not be running in strict mode, so the above\n    // assignment should always work unless something is misconfigured. Just\n    // in case runtime.js accidentally runs in strict mode, we can escape\n    // strict mode using a global Function call. This could conceivably fail\n    // if a Content Security Policy forbids using Function, but in that case\n    // the proper solution is to fix the accidental strict mode problem. If\n    // you\'ve misconfigured your bundler to force strict mode and applied a\n    // CSP to forbid Function, and you\'re not willing to fix either of those\n    // problems, please detail your unique predicament in a GitHub issue.\n    Function("r", "regeneratorRuntime = r")(runtime);\n  }\n});\n\n// have a look at the Quick start guide \n// for passing in lng and translations on init\n\ni18next_js_default().use((i18next_http_backend_esm_index_js_default())) // detect user language\n// learn more: https://github.com/i18next/i18next-browser-languageDetector\n.use((i18nextBrowserLanguageDetector_js_default())) // pass the i18n instance to react-i18next.\n.use(es_index_js_.initReactI18next) // init i18next\n// for all options read: https://www.i18next.com/overview/configuration-options\n.init({\n  // Commenting it as we have fallbackLng for case of language detected as en-GB or en-US\n  // supportedLngs: [\'en\',\'it\'],\n  backend: {\n    loadPath: __webpack_require__.p + "locales/{{lng}}/{{ns}}.json"\n  },\n  fallbackLng: \'en\',\n  load: \'all\',\n  debug: true,\n  // add any namespaces you\'re using here for loading purposes\n  ns: [\'public\'],\n  defaultNS: \'public\',\n  nsSeparator: \':\',\n  keySeparator: \'.\',\n  react: {\n    useSuspense: true,\n    wait: true\n  },\n  interpolation: {\n    defaultVariables: undefined,\n    escapeValue: false // not needed for react as it escapes by default\n\n  }\n});\n\nvar app_esm_keycloak;\n/**\r\n * Get keycloak instance\r\n *\r\n * @return an initiated keycloak instance or `undefined`\r\n * if keycloak isn\'t configured\r\n *\r\n */\n\nvar getKeycloakInstance = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {\n  var _ref = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee() {\n    return runtime_1.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (app_esm_keycloak) {\n              _context.next = 3;\n              break;\n            }\n\n            _context.next = 3;\n            return init();\n\n          case 3:\n            return _context.abrupt("return", app_esm_keycloak);\n\n          case 4:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getKeycloakInstance() {\n    return _ref.apply(this, arguments);\n  };\n}()));\n/**\r\n * Initiate keycloak instance.\r\n *\r\n * Set keycloak to undefined if\r\n * keycloak isn\'t configured\r\n *\r\n */\n\nvar init = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {\n  var _ref2 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee2() {\n    return runtime_1.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            app_esm_keycloak = new Keycloak({\n              realm: \'redhat-external\',\n              url: \'https://sso.redhat.com/auth/\',\n              clientId: \'cloud-services\'\n            });\n\n            if (!app_esm_keycloak) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 5;\n            return app_esm_keycloak.init({\n              onLoad: \'login-required\'\n            });\n\n          case 5:\n            _context2.next = 11;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2["catch"](0);\n            app_esm_keycloak = undefined;\n            console.warn(\'Auth: Unable to initialize keycloak. Client side will not be configured to use authentication\', _context2.t0);\n\n          case 11:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 7]]);\n  }));\n\n  return function init() {\n    return _ref2.apply(this, arguments);\n  };\n}()));\n/**\r\n * Use keycloak update token function to retrieve\r\n * keycloak token\r\n *\r\n * @return keycloak token or empty string if keycloak\r\n * isn\'t configured\r\n *\r\n */\n\nvar getKeyCloakToken = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {\n  var _ref4 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee4() {\n    var _keycloak, _keycloak2;\n\n    return runtime_1.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return (_keycloak = app_esm_keycloak) == null ? void 0 : _keycloak.updateToken(50);\n\n          case 2:\n            if (!((_keycloak2 = app_esm_keycloak) == null ? void 0 : _keycloak2.token)) {\n              _context4.next = 4;\n              break;\n            }\n\n            return _context4.abrupt("return", app_esm_keycloak.token);\n\n          case 4:\n            console.error(\'No keycloak token available\');\n            return _context4.abrupt("return", \'foo\');\n\n          case 6:\n          case "end":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function getKeyCloakToken() {\n    return _ref4.apply(this, arguments);\n  };\n}()));\n/**\r\n * Use keycloak update token function to retrieve\r\n * keycloak token\r\n *\r\n * @return keycloak token or empty string if keycloak\r\n * isn\'t configured\r\n *\r\n */\n\nvar getParsedKeyCloakToken = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {\n  var _ref5 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee5() {\n    var _keycloak3, _keycloak4;\n\n    return runtime_1.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return (_keycloak3 = app_esm_keycloak) == null ? void 0 : _keycloak3.updateToken(50);\n\n          case 2:\n            if (!((_keycloak4 = app_esm_keycloak) == null ? void 0 : _keycloak4.tokenParsed)) {\n              _context5.next = 4;\n              break;\n            }\n\n            return _context5.abrupt("return", app_esm_keycloak.tokenParsed);\n\n          case 4:\n            console.error(\'No keycloak token available\');\n            return _context5.abrupt("return", {});\n\n          case 6:\n          case "end":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function getParsedKeyCloakToken() {\n    return _ref5.apply(this, arguments);\n  };\n}()));\n\nvar KeycloakContext = /*#__PURE__*/index_js_default().createContext({\n  keycloak: undefined\n});\nvar KeycloakAuthProvider = function KeycloakAuthProvider(props) {\n  var getUsername = function getUsername() {\n    return getParsedKeyCloakToken().then(function (token) {\n      return token[\'username\'];\n    });\n  };\n\n  var authTokenContext = {\n    kas: {\n      getToken: getKeyCloakToken\n    },\n    getUsername: getUsername\n  };\n  return React__default.createElement(AuthContext.Provider, {\n    value: authTokenContext\n  }, props.children);\n};\n\nvar logo = "data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%22175px%22%20height%3D%2232px%22%20viewBox%3D%220%200%20175%2032%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%20%20%20%20%3Ctitle%3EPatternFly%20Logo%3C%2Ftitle%3E%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%2250.0004769%25%22%20y1%3D%223.02475509%25%22%20x2%3D%2250.0004769%25%22%20y2%3D%2295.3620086%25%22%20id%3D%22linearGradient-1%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%2360EFFF%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%231F89C7%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Symbols%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Nav-bar-%28desktop%29%22%20transform%3D%22translate%28-150.000000%2C%20-16.000000%29%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22PatternFly-Logo%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20transform%3D%22translate%28150.000000%2C%2016.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%2844.748858%2C%2011.200000%29%22%20fill%3D%22%23FFFFFF%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0.302054795%2C9.3488%20L0.302054795%2C0.3264%20L4.16883562%2C0.3264%20C4.73858447%2C0.3264%205.21723744%2C0.4096%205.60719178%2C0.5744%20C5.99714612%2C0.7408%206.31358447%2C0.9576%206.55650685%2C1.2296%20C6.79942922%2C1.5008%206.97442922%2C1.8048%207.08150685%2C2.1456%20C7.18778539%2C2.4856%207.24212329%2C2.8288%207.24212329%2C3.1768%20C7.24212329%2C3.3936%207.2173516%2C3.616%207.16541096%2C3.8408%20C7.11506849%2C4.064%207.03835616%2C4.284%206.9336758%2C4.496%20C6.82819635%2C4.708%206.69474886%2C4.9048%206.53093607%2C5.0912%20C6.36712329%2C5.2752%206.17054795%2C5.4384%205.94280822%2C5.5784%20C5.71426941%2C5.7184%205.45376712%2C5.828%205.15810502%2C5.908%20C4.86164384%2C5.988%204.53242009%2C6.0272%204.16803653%2C6.0272%20L2.04246575%2C6.0272%20L2.04246575%2C9.3472%20L0.302054795%2C9.3488%20L0.302054795%2C9.3488%20Z%20M4.24315068%2C4.372%20C4.4652968%2C4.372%204.65308219%2C4.3368%204.8033105%2C4.2664%20C4.95353881%2C4.1936%205.07579909%2C4.1024%205.17089041%2C3.988%20C5.26598174%2C3.8744%205.33310502%2C3.7464%205.37465753%2C3.6048%20C5.41700913%2C3.4616%205.43938356%2C3.32%205.43938356%2C3.176%20C5.43938356%2C3.0464%205.42100457%2C2.9112%205.38424658%2C2.7688%20C5.34908676%2C2.6304%205.2859589%2C2.5024%205.19646119%2C2.3832%20C5.10616438%2C2.2664%204.98230594%2C2.1696%204.82888128%2C2.0952%20C4.67305936%2C2.0192%204.47888128%2C1.9808%204.24394977%2C1.9808%20L2.04406393%2C1.9808%20L2.04406393%2C4.3712%20L4.24315068%2C4.372%20L4.24315068%2C4.372%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M19.2555936%2C9.3488%20L18.5571918%2C7.4816%20L15.0803653%2C7.4816%20L14.3899543%2C9.3488%20L12.5216895%2C9.3488%20L15.9737443%2C0.3264%20L17.6694064%2C0.3264%20L21.1214612%2C9.3488%20L19.2555936%2C9.3488%20Z%20M17.1052511%2C3.548%20C17.0589041%2C3.44%2017.0093607%2C3.3088%2016.956621%2C3.1584%20C16.9062785%2C3.0056%2016.8599315%2C2.8664%2016.8223744%2C2.7352%20C16.7880137%2C2.8672%2016.7440639%2C3.0056%2016.689726%2C3.1584%20C16.6361872%2C3.3088%2016.5858447%2C3.44%2016.5386986%2C3.548%20L15.6461187%2C5.8952%20L17.9922374%2C5.8952%20L17.1052511%2C3.548%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%2230.9038813%202.0064%2030.9038813%209.3488%2029.169863%209.3488%2029.169863%202.0064%2026.5920091%202.0064%2026.5920091%200.3264%2033.4809361%200.3264%2033.4809361%202.0064%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%2244.3932648%202.0064%2044.3932648%209.3488%2042.6584475%209.3488%2042.6584475%202.0064%2040.0805936%202.0064%2040.0805936%200.3264%2046.9695205%200.3264%2046.9695205%202.0064%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%2254.1509132%209.3488%2054.1509132%200.3264%2060.3022831%200.3264%2060.3022831%201.9816%2055.8905251%201.9816%2055.8905251%203.8752%2058.4859589%203.8752%2058.4859589%205.5232%2055.8905251%205.5232%2055.8905251%207.7016%2060.5715753%207.7016%2060.5715753%209.3512%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M67.8848174%2C9.3488%20L67.8848174%2C0.3264%20L72.0704338%2C0.3264%20C72.6401826%2C0.3264%2073.1172374%2C0.4032%2073.5%2C0.5624%20C73.8827626%2C0.7192%2074.1928082%2C0.928%2074.4269406%2C1.188%20C74.6594749%2C1.4488%2074.8296804%2C1.7488%2074.9295662%2C2.088%20C75.0278539%2C2.428%2075.0805936%2C2.7832%2075.0805936%2C3.152%20C75.0805936%2C3.4072%2075.0422374%2C3.6664%2074.9679224%2C3.928%20C74.8928082%2C4.1904%2074.7849315%2C4.4392%2074.6394977%2C4.6744%20C74.4900685%2C4.9096%2074.310274%2C5.1216%2074.0905251%2C5.3128%20C73.8739726%2C5.504%2073.6190639%2C5.6536%2073.3305936%2C5.756%20L75.0789954%2C9.3488%20L73.122032%2C9.3488%20L71.4375571%2C5.984%20L69.6228311%2C5.984%20L69.6228311%2C9.3488%20L67.8848174%2C9.3488%20L67.8848174%2C9.3488%20Z%20M72.0960046%2C4.3344%20C72.3165525%2C4.3344%2072.5067352%2C4.3016%2072.6545662%2C4.236%20C72.8047945%2C4.1704%2072.9278539%2C4.084%2073.0181507%2C3.9752%20C73.1108447%2C3.8656%2073.1787671%2C3.74%2073.2179224%2C3.596%20C73.2586758%2C3.4536%2073.2754566%2C3.3056%2073.2754566%2C3.1504%20C73.2754566%2C3.008%2073.2586758%2C2.8648%2073.2243151%2C2.724%20C73.186758%2C2.5832%2073.1260274%2C2.4584%2073.0413242%2C2.3456%20C72.9542237%2C2.236%2072.8295662%2C2.1464%2072.6793379%2C2.0792%20C72.5291096%2C2.012%2072.3317352%2C1.9792%2072.0968037%2C1.9792%20L69.6260274%2C1.9792%20L69.6260274%2C4.3328%20L72.0968037%2C4.3328%20L72.0968037%2C4.3344%20L72.0960046%2C4.3344%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M88.1552511%2C9.3488%20L84.5793379%2C4.0888%20C84.5202055%2C4.0016%2084.4578767%2C3.892%2084.3875571%2C3.7648%20C84.3172374%2C3.6376%2084.2597032%2C3.5192%2084.2061644%2C3.4104%20C84.2221461%2C3.5056%2084.2277397%2C3.6184%2084.2341324%2C3.7496%20C84.2413242%2C3.8792%2084.2469178%2C3.9936%2084.2469178%2C4.0888%20L84.2469178%2C9.3488%20L82.5176941%2C9.3488%20L82.5176941%2C0.3264%20L84.1502283%2C0.3264%20L87.6390411%2C5.5216%20C87.693379%2C5.6056%2087.7565068%2C5.7136%2087.8252283%2C5.8384%20C87.8979452%2C5.9632%2087.9610731%2C6.0856%2088.0122146%2C6.2024%20C88.0002283%2C6.0824%2087.9938356%2C5.9568%2087.9858447%2C5.8352%20C87.9778539%2C5.7112%2087.9746575%2C5.6056%2087.9746575%2C5.52%20L87.9746575%2C0.3248%20L89.6958904%2C0.3248%20L89.6958904%2C9.3472%20L88.1552511%2C9.3488%20L88.1552511%2C9.3488%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%2297.4590183%209.3488%2097.4590183%200.3264%20103.501712%200.3264%20103.501712%201.9816%2099.2002283%201.9816%2099.2002283%203.8752%20101.926712%203.8752%20101.926712%205.5232%2099.2002283%205.5232%2099.2002283%209.3496%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%22110.555251%209.3488%20110.555251%200.3264%20112.298059%200.3264%20112.298059%207.6752%20116.646689%207.6752%20116.646689%209.3488%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%22124.973973%209.3488%20124.973973%205.832%20121.634589%200.3264%20123.608333%200.3264%20125.835388%204.0144%20128.058447%200.3264%20130.03379%200.3264%20126.695205%205.832%20126.695205%209.3488%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M33.5144977%2C16.5608%20L16.7584475%2C0.1536%20L0%2C16.5608%20L6.6803653%2C26.036%20L11.7769406%2C24.864%20L16.790411%2C31.9208%20L21.7942922%2C24.8768%20L26.8341324%2C26.0352%20L33.5144977%2C16.5608%20Z%20M16.0624429%2C3.196%20L13.8921233%2C23.2768%20L9.74805936%2C17.6176%20L16.0624429%2C3.196%20Z%20M9.293379%2C16.9968%20L6.71232877%2C13.472%20L15.5877854%2C2.68%20L9.293379%2C16.9968%20Z%20M13.2041096%2C23.464%20L13.2041096%2C23.464%20L13.4454338%2C23.7968%20L12.0614155%2C24.1144%20L8.86666667%2C19.6184%20L9.43721461%2C18.3208%20L13.2041096%2C23.464%20Z%20M16.7576484%2C2.9296%20L18.9391553%2C24.2184%20L16.7528539%2C27.2176%20L14.5745434%2C24.2184%20L16.7576484%2C2.9296%20Z%20M20.309589%2C23.4648%20L24.1180365%2C18.2648%20L24.7141553%2C19.6184%20L21.5106164%2C24.128%20L20.0714612%2C23.7968%20L20.3119863%2C23.4664%20L20.309589%2C23.4648%20Z%20M19.6223744%2C23.2768%20L17.4800228%2C3.1792%20L23.8079909%2C17.5608%20L19.6223744%2C23.2768%20Z%20M17.9850457%2C2.6768%20L26.8021689%2C13.472%20L24.2626712%2C16.94%20L17.9850457%2C2.6768%20Z%20M6.96643836%2C25.2856%20L0.870205479%2C16.6408%20L12.7989726%2C4.9672%20L5.87089041%2C13.4504%20L8.98413242%2C17.7008%20L8.10593607%2C19.696%20L11.3598174%2C24.2768%20L6.96643836%2C25.2856%20Z%20M16.790411%2C30.7712%20L12.4785388%2C24.7032%20L13.8705479%2C24.3824%20L16.7512557%2C28.3496%20L19.6415525%2C24.3824%20L21.0910959%2C24.7168%20L16.790411%2C30.7712%20Z%20M22.2114155%2C24.2896%20L25.4740868%2C19.696%20L24.5719178%2C17.6448%20L27.6436073%2C13.4504%20L20.7155251%2C4.9672%20L32.6434932%2C16.6408%20L26.5480594%2C25.2864%20L22.2114155%2C24.2896%20Z%22%20id%3D%22Shape%22%20fill%3D%22url%28%23linearGradient-1%29%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";\n\nvar AppLayout = function AppLayout(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState(true),\n      isNavOpen = _useState[0],\n      setIsNavOpen = _useState[1];\n\n  var _useState2 = useState(true),\n      isMobileView = _useState2[0],\n      setIsMobileView = _useState2[1];\n\n  var _useState3 = useState(false),\n      isNavOpenMobile = _useState3[0],\n      setIsNavOpenMobile = _useState3[1];\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var onNavToggleMobile = function onNavToggleMobile() {\n    setIsNavOpenMobile(!isNavOpenMobile);\n  };\n\n  var onNavToggle = function onNavToggle() {\n    setIsNavOpen(!isNavOpen);\n  };\n\n  var onPageResize = function onPageResize(props) {\n    setIsMobileView(props.mobileView);\n  };\n\n  var HeaderTools = React__default.createElement(PageHeaderTools, null, \'email\');\n  var Header = React__default.createElement(PageHeader, {\n    logo: React__default.createElement(LogoImg, null),\n    showNavToggle: true,\n    isNavOpen: isNavOpen,\n    headerTools: HeaderTools,\n    onNavToggle: isMobileView ? onNavToggleMobile : onNavToggle,\n    "aria-label": \'global_navigation\'\n  });\n  var Navigation = React__default.createElement(Nav, {\n    id: "nav-primary-simple",\n    role: "navigation",\n    theme: "dark",\n    "aria-label": \'global\'\n  }, React__default.createElement(NavList, {\n    id: "nav-list-simple"\n  }, React__default.createElement(NavItem, {\n    id: \'connectors\'\n  }, React__default.createElement(NavLink, {\n    to: \'/\',\n    activeClassName: "pf-m-current"\n  }, t(\'managedConnectors\')))));\n  var Sidebar = React__default.createElement(PageSidebar, {\n    theme: "dark",\n    nav: Navigation,\n    isNavOpen: isMobileView ? isNavOpenMobile : isNavOpen\n  });\n  return React__default.createElement(Page, {\n    mainContainerId: "primary-app-container",\n    role: "main",\n    header: Header,\n    sidebar: Sidebar,\n    onPageResize: onPageResize\n  }, children);\n};\n\nfunction LogoImg() {\n  var history = useHistory();\n\n  function handleClick() {\n    history.push(\'/\');\n  }\n\n  return React__default.createElement("img", {\n    src: logo,\n    onClick: handleClick,\n    alt: "PatternFly Logo"\n  });\n}\n\nvar AppContext = /*#__PURE__*/(0,index_js_.createContext)(null);\nvar AppContextProvider = function AppContextProvider(_ref) {\n  var getToken = _ref.getToken,\n      basePath = _ref.basePath,\n      children = _ref.children;\n  return index_js_default().createElement(AppContext.Provider, {\n    value: {\n      getToken: getToken,\n      basePath: basePath\n    }\n  }, children);\n};\nvar useAppContext = function useAppContext() {\n  var context = (0,index_js_.useContext)(AppContext);\n  if (!context) throw new Error(\'useAppContext must be used inside an AppContextProvider\');\n  return _extends({}, context);\n};\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === \'undefined\') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName(\'head\')[0];\n  var style = document.createElement(\'style\');\n  style.type = \'text/css\';\n\n  if (insertAt === \'top\') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = ".connector-drawer__header-text{margin-bottom:0!important}.connector-drawer__header-title{margin-top:0!important}.connector-drawer__tab-content{padding-bottom:var(--pf-global--spacer--lg);padding-top:var(--pf-global--spacer--lg)}";\nstyleInject(css_248z);\n\nvar ConnectorDrawer = function ConnectorDrawer(_ref) {\n  var children = _ref.children;\n\n  var _useTranslation = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation.t;\n\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine = (0,machines_esm.useConnectorsMachine)(service),\n      selectedConnector = _useConnectorsMachine.selectedConnector,\n      deselectConnector = _useConnectorsMachine.deselectConnector;\n\n  var _useState = (0,index_js_.useState)(0),\n      activeTabKey = _useState[0],\n      setActiveTabKey = _useState[1];\n\n  var selectActiveKey = function selectActiveKey(_, eventKey) {\n    setActiveTabKey(eventKey);\n  };\n\n  var textListItem = function textListItem(title, value) {\n    return index_js_default().createElement((index_js_default()).Fragment, null, value && index_js_default().createElement((index_js_default()).Fragment, null, index_js_default().createElement(esm_index_js_.TextListItem, {\n      component: esm_index_js_.TextListItemVariants.dt\n    }, title), index_js_default().createElement(esm_index_js_.TextListItem, {\n      component: esm_index_js_.TextListItemVariants.dd\n    }, value)));\n  };\n\n  var panelContent = function panelContent() {\n    var _selectedConnector$me, _selectedConnector$ka, _selectedConnector$me2, _selectedConnector$me3, _selectedConnector$me4;\n\n    return index_js_default().createElement(esm_index_js_.DrawerPanelContent, {\n      widths: {\n        "default": \'width_50\'\n      }\n    }, index_js_default().createElement(esm_index_js_.DrawerHead, null, index_js_default().createElement(esm_index_js_.TextContent, null, index_js_default().createElement(esm_index_js_.Text, {\n      component: esm_index_js_.TextVariants.small,\n      className: "connector-drawer__header-text"\n    }, "Connector name"), index_js_default().createElement(esm_index_js_.Title, {\n      headingLevel: \'h2\',\n      size: esm_index_js_.TitleSizes.xl,\n      className: "connector-drawer__header-title"\n    }, selectedConnector == null ? void 0 : (_selectedConnector$me = selectedConnector.metadata) == null ? void 0 : _selectedConnector$me.name)), index_js_default().createElement(esm_index_js_.DrawerActions, null, index_js_default().createElement(esm_index_js_.DrawerCloseButton, {\n      onClick: deselectConnector\n    }))), index_js_default().createElement(esm_index_js_.DrawerPanelBody, null, index_js_default().createElement(esm_index_js_.Tabs, {\n      activeKey: activeTabKey,\n      onSelect: selectActiveKey\n    }, index_js_default().createElement(esm_index_js_.Tab, {\n      eventKey: 0,\n      title: index_js_default().createElement(esm_index_js_.TabTitleText, null, t(\'overview\'))\n    }, index_js_default().createElement("div", {\n      className: "connector-drawer__tab-content"\n    }, index_js_default().createElement(esm_index_js_.TextContent, null, index_js_default().createElement(esm_index_js_.TextList, {\n      component: esm_index_js_.TextListVariants.dl\n    }, textListItem(\'Bootstrap server\', selectedConnector == null ? void 0 : (_selectedConnector$ka = selectedConnector.kafka) == null ? void 0 : _selectedConnector$ka.bootstrap_server), textListItem(\'Connector\', selectedConnector == null ? void 0 : (_selectedConnector$me2 = selectedConnector.metadata) == null ? void 0 : _selectedConnector$me2.name), textListItem(\'Kafka_instance\', selectedConnector == null ? void 0 : (_selectedConnector$me3 = selectedConnector.metadata) == null ? void 0 : _selectedConnector$me3.kafka_id), textListItem(\'Owner\', selectedConnector == null ? void 0 : (_selectedConnector$me4 = selectedConnector.metadata) == null ? void 0 : _selectedConnector$me4.owner))))))));\n  };\n\n  return index_js_default().createElement(esm_index_js_.Drawer, {\n    isExpanded: selectedConnector !== undefined\n  }, index_js_default().createElement(esm_index_js_.DrawerContent, {\n    panelContent: panelContent()\n  }, children));\n};\n\nvar css_248z$1 = ".connectors-table-view__table{--pf-c-table-row__item--m-selected--ZIndex:var(--pf-global--ZIndex--xs);--pf-c-table-row__item--m-selected--BoxShadow:var(--pf-global--BoxShadow--sm-top),var(--pf-global--BoxShadow--sm-bottom);--pf-c-table-row__item--m-selectable--focus--BoxShadow:var(--pf-global--BoxShadow--sm-top),var(--pf-global--BoxShadow--sm-bottom);--pf-c-table-row__item--m-selectable--hover--ZIndex:calc(var(--pf-c-table-row__item--m-selected--ZIndex) + 1);--pf-c-table-row__item--before--BackgroundColor:transparent;--pf-c-table-row__item--m-selected--before--BackgroundColor:var(--pf-global--active-color--100);--pf-c-table-row__item--before--Top:0;--pf-c-table-row__item--before--Width:var(--pf-global--BorderWidth--lg);--pf-c-table-row__item--before--Transition:var(--pf-global--Transition);--pf-c-table-row__item--m-selectable--active--BoxShadow:var(--pf-global--BoxShadow--sm-top),var(--pf-global--BoxShadow--sm-bottom);--pf-c-table-row__item--m-selectable--OutlineOffset:calc(var(--pf-global--spacer--xs)*-1);--pf-c-table-row__item--m-selectable--hover--BoxShadow:var(--pf-global--BoxShadow--sm-top),var(--pf-global--BoxShadow--sm-bottom);margin-bottom:var(--pf-global--spacer--xs)}@media screen and (min-width:768px){.pf-c-table-row__item td:first-child:before{background-color:var(--pf-c-table-row__item--before--BackgroundColor);bottom:0;content:\\"\\";left:0;position:absolute;top:var(--pf-c-table-row__item--before--Top);transition:var(--pf-c-table-row__item--before--Transition);width:var(--pf-c-table-row__item--before--Width)}}.pf-c-table-row__item.pf-m-selectable{cursor:pointer;outline-offset:var(--pf-c-table-row__item--m-selectable--OutlineOffset)}.pf-c-table-row__item.pf-m-selectable:focus,.pf-c-table-row__item.pf-m-selectable:hover{position:relative;z-index:var(--pf-c-table-row__item--m-selectable--hover--ZIndex)}.pf-c-table-row__item.pf-m-selectable:hover{box-shadow:var(--pf-c-table-row__item--m-selectable--hover--BoxShadow)}.pf-c-table-row__item.pf-m-selectable:focus{box-shadow:var(--pf-c-table-row__item--m-selectable--focus--BoxShadow)}.pf-c-table-row__item.pf-m-selectable:active{box-shadow:var(--pf-c-table-row__item--m-selectable--active--BoxShadow)}.pf-c-table-row__item.pf-m-selectable.pf-m-selected{--pf-c-table-row__item--before--BackgroundColor:var(--pf-c-table-row__item--m-selected--before--BackgroundColor);box-shadow:var(--pf-c-table-row__item--m-selected--BoxShadow);position:relative;z-index:var(--pf-c-table-row__item--m-selected--ZIndex)}.pf-c-table-row__item.pf-m-disabled td{color:var(--pf-global--Color--200)}";\nstyleInject(css_248z$1);\n\nvar css_248z$2 = ".cos--connectors__table--icon--completed{color:var(--pf-global--success-color--100)}.cos--connectors__table--icon--failed{color:var(--pf-global--danger-color--100)}";\nstyleInject(css_248z$2);\n\nvar ConnectorStatusIcon = function ConnectorStatusIcon(_ref) {\n  var id = _ref.id,\n      status = _ref.status;\n\n  switch (status == null ? void 0 : status.toLowerCase()) {\n    case \'ready\':\n      return index_js_default().createElement(react_icons_dist_esm_index_js_.CheckCircleIcon, {\n        className: "cos--connectors__table--icon--completed"\n      });\n\n    case \'failed\':\n      return index_js_default().createElement(react_icons_dist_esm_index_js_.ExclamationCircleIcon, {\n        className: "cos--connectors__table--icon--failed"\n      });\n\n    case \'accepted\':\n      return index_js_default().createElement(react_icons_dist_esm_index_js_.PendingIcon, null);\n\n    case \'provisioning\':\n    case \'preparing\':\n      return index_js_default().createElement(esm_index_js_.Spinner, {\n        size: "md",\n        "aria-label": id,\n        "aria-valuetext": "Creation in progress"\n      });\n\n    case \'deprovision\':\n    case \'deleted\':\n      return null;\n  }\n\n  return index_js_default().createElement(react_icons_dist_esm_index_js_.PendingIcon, null);\n};\n\nvar ConnectorsPagination = function ConnectorsPagination(_ref) {\n  var _ref$isCompact = _ref.isCompact,\n      isCompact = _ref$isCompact === void 0 ? false : _ref$isCompact;\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine = (0,machines_esm.useConnectorsMachine)(service),\n      request = _useConnectorsMachine.request,\n      response = _useConnectorsMachine.response;\n\n  var onChange = function onChange(request) {\n    return service.send(_extends({\n      type: \'api.query\'\n    }, request));\n  };\n\n  var defaultPerPageOptions = [{\n    title: \'1\',\n    value: 1\n  }, {\n    title: \'5\',\n    value: 5\n  }, {\n    title: \'10\',\n    value: 10\n  }];\n  return index_js_default().createElement(esm_index_js_.Pagination, {\n    itemCount: (response == null ? void 0 : response.total) || 0,\n    page: request.page,\n    perPage: request.size,\n    perPageOptions: defaultPerPageOptions,\n    onSetPage: function onSetPage(_, page, size) {\n      return onChange(_extends({}, request, {\n        page: page,\n        size: size || request.size\n      }));\n    },\n    onPerPageSelect: function onPerPageSelect() {\n      return false;\n    },\n    variant: "top",\n    isCompact: isCompact\n  });\n};\n\nvar ConnectorsToolbar = function ConnectorsToolbar() {\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine = (0,machines_esm.useConnectorsMachine)(service),\n      request = _useConnectorsMachine.request;\n\n  var onChange = function onChange(request) {\n    return service.send(_extends({\n      type: \'api.query\'\n    }, request));\n  };\n\n  var searchInputRef = (0,index_js_.useRef)(null);\n  var debouncedOnChange = (0,utils_esm.useDebounce)(onChange, 1000); // const [statuses, setStatuses] = useState<string[]>([\n  //   \'Pending\',\n  //   \'Created\',\n  //   \'Cancelled\',\n  // ]);\n  // const [statusesToggled, setStatusesToggled] = useState(false);\n  // const clearAllFilters = useCallback(() => {\n  //   setSearchValue(\'\');\n  //   setStatuses([]);\n  // }, []);\n  // const toggleStatuses = useCallback(\n  //   () => setStatusesToggled(prev => !prev),\n  //   []\n  // );\n  // const onSelectStatus = useCallback(\n  //   (_, status) =>\n  //     setStatuses(prev =>\n  //       prev.includes(status)\n  //         ? prev.filter(s => s !== status)\n  //         : [...prev, status]\n  //     ),\n  //   []\n  // );\n  // const statusMenuItems = [\n  //   <SelectOption key="statusPending" value="Pending" />,\n  //   <SelectOption key="statusCreated" value="Created" />,\n  //   <SelectOption key="statusCancelled" value="Cancelled" />,\n  // ];\n  // ensure the search input value reflects what\'s specified in the request object\n  // useEffect(() => {\n  //   if (searchInputRef.current) {\n  //     searchInputRef.current.value = (request.name as string | undefined) || \'\';\n  //   }\n  // }, [searchInputRef, request]);\n\n  var toggleGroupItems = index_js_default().createElement((index_js_default()).Fragment, null, index_js_default().createElement(esm_index_js_.ToolbarItem, null, index_js_default().createElement(esm_index_js_.InputGroup, null, index_js_default().createElement(esm_index_js_.TextInput, {\n    name: "textInput2",\n    id: "textInput2",\n    type: "search",\n    "aria-label": "search input example",\n    onChange: function onChange(value) {\n      return debouncedOnChange({\n        size: request.size,\n        page: 1,\n        name: value\n      });\n    },\n    ref: searchInputRef\n  }), index_js_default().createElement(esm_index_js_.Button, {\n    variant: \'control\',\n    "aria-label": "search button for search input"\n  }, index_js_default().createElement(react_icons_dist_esm_index_js_.SearchIcon, null)))));\n  var toolbarItems = index_js_default().createElement((index_js_default()).Fragment, null, index_js_default().createElement(esm_index_js_.ToolbarToggleGroup, {\n    toggleIcon: index_js_default().createElement(react_icons_dist_esm_index_js_.FilterIcon, null),\n    breakpoint: "xl"\n  }, toggleGroupItems), index_js_default().createElement(esm_index_js_.ToolbarGroup, {\n    variant: "icon-button-group"\n  }, index_js_default().createElement(esm_index_js_.ToolbarItem, null, index_js_default().createElement(react_router_dom_js_.NavLink, {\n    className: "pf-c-button pf-m-primary",\n    to: \'/create-connector\'\n  }, "Create Connector"))), index_js_default().createElement(esm_index_js_.ToolbarItem, {\n    variant: "pagination",\n    alignment: {\n      "default": \'alignRight\'\n    }\n  }, index_js_default().createElement(ConnectorsPagination, {\n    isCompact: true\n  })));\n  return index_js_default().createElement(esm_index_js_.Toolbar, {\n    id: "toolbar-group-types",\n    collapseListedFiltersBreakpoint: "xl"\n  }, index_js_default().createElement(esm_index_js_.ToolbarContent, null, toolbarItems));\n};\n\n/**\r\n * A modal dialog to display confirmation for connector deletion.\r\n */\n\nvar DeleteDialog = function DeleteDialog(_ref) {\n  var connectorName = _ref.connectorName,\n      i18nCancel = _ref.i18nCancel,\n      i18nDelete = _ref.i18nDelete,\n      i18nTitle = _ref.i18nTitle,\n      onCancel = _ref.onCancel,\n      onConfirm = _ref.onConfirm,\n      showDialog = _ref.showDialog;\n\n  var _useState = (0,index_js_.useState)(\'\'),\n      nameValue = _useState[0],\n      setNameValue = _useState[1];\n\n  var canDelete = nameValue === connectorName;\n\n  var onCancelDelete = function onCancelDelete() {\n    setNameValue(\'\');\n    onCancel();\n  };\n\n  var onConfirmDelete = function onConfirmDelete() {\n    setNameValue(\'\');\n    onConfirm();\n  };\n\n  return index_js_default().createElement(esm_index_js_.Modal, {\n    variant: esm_index_js_.ModalVariant.small,\n    title: i18nTitle,\n    titleIconVariant: "warning",\n    isOpen: showDialog,\n    onClose: onCancel,\n    actions: [index_js_default().createElement(esm_index_js_.Button, {\n      key: "confirm",\n      variant: "danger",\n      isDisabled: !canDelete,\n      onClick: onConfirmDelete\n    }, i18nDelete), index_js_default().createElement(esm_index_js_.Button, {\n      key: "cancel",\n      variant: "link",\n      onClick: onCancelDelete\n    }, i18nCancel)]\n  }, index_js_default().createElement(esm_index_js_.Stack, null, index_js_default().createElement(esm_index_js_.StackItem, null, index_js_default().createElement(es_index_js_.Trans, {\n    i18nKey: "deleteConfirmMessage"\n  }, "Connector ", index_js_default().createElement("strong", null, {\n    connectorName: connectorName\n  }), " will be deleted.")), index_js_default().createElement(esm_index_js_.StackItem, null, index_js_default().createElement(es_index_js_.Trans, {\n    i18nKey: "deleteTypeNameMessage"\n  }, "Type ", index_js_default().createElement("strong", null, {\n    connectorName: connectorName\n  }), " to confirm the deletion.")), index_js_default().createElement(esm_index_js_.StackItem, null, index_js_default().createElement(esm_index_js_.TextInput, {\n    value: nameValue,\n    type: "text",\n    onChange: setNameValue,\n    "aria-label": "name input"\n  }))));\n};\n\nvar ConnectorsTable = function ConnectorsTable() {\n  var _response$items;\n\n  var _useTranslation = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation.t;\n\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine = (0,machines_esm.useConnectorsMachine)(service),\n      response = _useConnectorsMachine.response;\n\n  return index_js_default().createElement(esm_index_js_.Card, {\n    className: \'pf-u-pb-xl\'\n  }, index_js_default().createElement(ConnectorsToolbar, null), index_js_default().createElement("div", {\n    className: \'pf-u-p-md\'\n  }, index_js_default().createElement(react_table_dist_esm_index_js_.TableComposable, {\n    "aria-label": "Sortable Table",\n    className: (0,react_styles_dist_esm_index_js_.css)(\'connectors-table-view__table\')\n  }, index_js_default().createElement(react_table_dist_esm_index_js_.Thead, null, index_js_default().createElement(react_table_dist_esm_index_js_.Tr, null, index_js_default().createElement(react_table_dist_esm_index_js_.Th, null, t(\'name\')), index_js_default().createElement(react_table_dist_esm_index_js_.Th, null, t(\'type\')), index_js_default().createElement(react_table_dist_esm_index_js_.Th, null, t(\'category\')), index_js_default().createElement(react_table_dist_esm_index_js_.Th, null, t(\'status\')))), index_js_default().createElement(react_table_dist_esm_index_js_.Tbody, null, response == null ? void 0 : (_response$items = response.items) == null ? void 0 : _response$items.map(function (ref) {\n    return index_js_default().createElement(ConnectorRow, {\n      connectorRef: ref,\n      key: ref.id\n    });\n  })))), index_js_default().createElement(ConnectorsPagination, {\n    isCompact: false\n  }));\n};\nvar ConnectorRow = function ConnectorRow(_ref) {\n  var _connector$metadata, _connector$metadata2;\n\n  var connectorRef = _ref.connectorRef;\n\n  var _useTranslation2 = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation2.t;\n\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine2 = (0,machines_esm.useConnectorsMachine)(service),\n      selectedConnector = _useConnectorsMachine2.selectedConnector;\n\n  var _useConnector = (0,machines_esm.useConnector)(connectorRef),\n      connector = _useConnector.connector,\n      canStart = _useConnector.canStart,\n      canStop = _useConnector.canStop,\n      canDelete = _useConnector.canDelete,\n      onStart = _useConnector.onStart,\n      onStop = _useConnector.onStop,\n      onDelete = _useConnector.onDelete,\n      onSelect = _useConnector.onSelect;\n\n  var _useState = (0,index_js_.useState)(false),\n      showDeleteConnectorConfirm = _useState[0],\n      setShowDeleteConnectorConfirm = _useState[1];\n\n  var doCancelDeleteConnector = function doCancelDeleteConnector() {\n    setShowDeleteConnectorConfirm(false);\n  };\n\n  var doDeleteConnector = function doDeleteConnector() {\n    setShowDeleteConnectorConfirm(false);\n    onDelete();\n  };\n\n  var actions = [{\n    title: \'Start\',\n    onClick: onStart,\n    isDisabled: !canStart\n  }, {\n    title: \'Stop\',\n    onClick: onStop,\n    isDisabled: !canStop\n  }, {\n    title: \'Delete\',\n    onClick: function onClick() {\n      return setShowDeleteConnectorConfirm(true);\n    },\n    isDisabled: !canDelete\n  }, {\n    isSeparator: true\n  }, {\n    title: \'Overview\',\n    onClick: onSelect\n  }];\n  var statusOptions = [{\n    value: \'ready\',\n    label: t(\'Running\')\n  }, {\n    value: \'failed\',\n    label: t(\'Failed\')\n  }, {\n    value: \'assigning\',\n    label: t(\'Creation pending\')\n  }, {\n    value: \'assigned\',\n    label: t(\'Creation in progress\')\n  }, {\n    value: \'updating\',\n    label: t(\'Creation in progress\')\n  }, {\n    value: \'provisioning\',\n    label: t(\'Creation in progress\')\n  }, {\n    value: \'deleting\',\n    label: t(\'Deleting\')\n  }, {\n    value: \'deleted\',\n    label: t(\'Deleting\')\n  }];\n\n  var getStatusLabel = function getStatusLabel(status) {\n    var _statusOptions$find;\n\n    return ((_statusOptions$find = statusOptions.find(function (s) {\n      return s.value === status;\n    })) == null ? void 0 : _statusOptions$find.label) || status;\n  };\n\n  return index_js_default().createElement((index_js_default()).Fragment, null, index_js_default().createElement(DeleteDialog, {\n    connectorName: (_connector$metadata = connector.metadata) == null ? void 0 : _connector$metadata.name,\n    i18nCancel: t(\'cancel\'),\n    i18nDelete: t(\'delete\'),\n    i18nTitle: t(\'deleteConnector\'),\n    showDialog: showDeleteConnectorConfirm,\n    onCancel: doCancelDeleteConnector,\n    onConfirm: doDeleteConnector\n  }), index_js_default().createElement(react_table_dist_esm_index_js_.Tr, {\n    onClick: function onClick(event) {\n      var _event$target;\n\n      // send the event only if the click didn\'t happen on the actions button\n      if (((_event$target = event.target) == null ? void 0 : _event$target.type) !== \'button\') {\n        onSelect();\n      }\n    },\n    className: (0,react_styles_dist_esm_index_js_.css)(\'pf-c-table-row__item\', \'pf-m-selectable\', (selectedConnector == null ? void 0 : selectedConnector.id) === connector.id && \'pf-m-selected\')\n  }, index_js_default().createElement(react_table_dist_esm_index_js_.Td, {\n    dataLabel: t(\'name\')\n  }, (_connector$metadata2 = connector.metadata) == null ? void 0 : _connector$metadata2.name), index_js_default().createElement(react_table_dist_esm_index_js_.Td, {\n    dataLabel: t(\'type\')\n  }, connector.connector_type_id), index_js_default().createElement(react_table_dist_esm_index_js_.Td, {\n    dataLabel: t(\'category\')\n  }, "TODO: MISSING"), index_js_default().createElement(react_table_dist_esm_index_js_.Td, {\n    dataLabel: t(\'status\')\n  }, index_js_default().createElement(esm_index_js_.Flex, null, index_js_default().createElement(esm_index_js_.FlexItem, {\n    spacer: {\n      "default": \'spacerSm\'\n    }\n  }, index_js_default().createElement(ConnectorStatusIcon, {\n    id: connector.id,\n    status: connector.status\n  })), index_js_default().createElement(esm_index_js_.FlexItem, null, getStatusLabel(connector.status)))), index_js_default().createElement(react_table_dist_esm_index_js_.Td, {\n    actions: {\n      items: actions\n    }\n  })));\n};\n\nvar ConnectedConnectorsPage = function ConnectedConnectorsPage(_ref) {\n  var onCreateConnector = _ref.onCreateConnector;\n\n  var _useTranslation = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation.t;\n\n  var _useAlert = (0,dist_esm_index_js_.useAlert)(),\n      addAlert = _useAlert.addAlert;\n\n  var _useAppContext = useAppContext(),\n      basePath = _useAppContext.basePath,\n      getToken = _useAppContext.getToken;\n\n  var onError = (0,index_js_.useCallback)(function (description) {\n    addAlert({\n      id: \'connectors-table-error\',\n      variant: dist_esm_index_js_.AlertVariant.danger,\n      title: t(\'common.something_went_wrong\'),\n      description: description\n    });\n  }, [addAlert, t]);\n  return index_js_default().createElement(machines_esm.ConnectorsMachineProvider, {\n    accessToken: getToken,\n    basePath: basePath,\n    onError: onError\n  }, index_js_default().createElement(ConnectorsPage, {\n    onCreateConnector: onCreateConnector\n  }));\n};\nvar ConnectorsPage = function ConnectorsPage(_ref2) {\n  var onCreateConnector = _ref2.onCreateConnector;\n  var service = (0,machines_esm.useConnectorsMachineService)();\n  var isReady = (0,machines_esm.useConnectorsMachineIsReady)(service);\n  return isReady ? index_js_default().createElement(ConnectorsPageBody, {\n    onCreateConnector: onCreateConnector\n  }) : index_js_default().createElement(utils_esm.Loading, null);\n};\n\nvar ConnectorsPageBody = function ConnectorsPageBody(_ref3) {\n  var onCreateConnector = _ref3.onCreateConnector;\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine = (0,machines_esm.useConnectorsMachine)(service),\n      loading = _useConnectorsMachine.loading,\n      error = _useConnectorsMachine.error,\n      noResults = _useConnectorsMachine.noResults,\n      queryEmpty = _useConnectorsMachine.queryEmpty,\n      firstRequest = _useConnectorsMachine.firstRequest;\n\n  switch (true) {\n    case firstRequest:\n      return index_js_default().createElement(utils_esm.Loading, null);\n\n    case queryEmpty:\n      return index_js_default().createElement(utils_esm.NoMatchFound, {\n        onClear: function onClear() {\n          return service.send({\n            type: \'api.query\',\n            page: 1,\n            size: 10\n          });\n        }\n      });\n\n    case loading:\n      return index_js_default().createElement((index_js_default()).Fragment, null, index_js_default().createElement(esm_index_js_.PageSection, {\n        variant: \'light\'\n      }, index_js_default().createElement(ConnectorsPageTitle, null)), index_js_default().createElement(esm_index_js_.PageSection, {\n        padding: {\n          "default": \'noPadding\'\n        },\n        isFilled: true\n      }, index_js_default().createElement(esm_index_js_.Card, null, index_js_default().createElement(ConnectorsToolbar, null), index_js_default().createElement(utils_esm.Loading, null))));\n\n    case noResults || error:\n      return index_js_default().createElement(utils_esm.EmptyState, {\n        emptyStateProps: {\n          variant: utils_esm.EmptyStateVariant.GettingStarted\n        },\n        titleProps: {\n          title: \'cos.welcome_to_cos\'\n        },\n        emptyStateBodyProps: {\n          body: \'cos.welcome_empty_state_body\'\n        },\n        buttonProps: {\n          title: \'cos.create_cos\',\n          variant: esm_index_js_.ButtonVariant.primary,\n          onClick: onCreateConnector\n        }\n      });\n\n    default:\n      return index_js_default().createElement(ConnectorDrawer, null, index_js_default().createElement(esm_index_js_.PageSection, {\n        variant: \'light\'\n      }, index_js_default().createElement(ConnectorsPageTitle, null)), index_js_default().createElement(esm_index_js_.PageSection, {\n        padding: {\n          "default": \'noPadding\'\n        },\n        isFilled: true\n      }, index_js_default().createElement(ConnectorsTable, null)));\n  }\n};\n\nvar ConnectorsPageTitle = function ConnectorsPageTitle() {\n  var _useTranslation2 = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation2.t;\n\n  return index_js_default().createElement(esm_index_js_.TextContent, null, index_js_default().createElement(esm_index_js_.Title, {\n    headingLevel: "h1"\n  }, t(\'managedConnectors\')));\n};\n\nvar fetchConfigurator = /*#__PURE__*/function () {\n  var _ref = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee2(connector, config) {\n    var defaultConfig;\n    return runtime_1.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            defaultConfig = Promise.resolve({\n              steps: false,\n              Configurator: false\n            });\n            return _context2.abrupt("return", new Promise( /*#__PURE__*/function () {\n              var _ref2 = _asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee(resolve) {\n                var federatedConfigurator;\n                return runtime_1.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.prev = 0;\n                        _context.next = 3;\n                        return maybeGetFederatedConfiguratorForConnector(config, connector);\n\n                      case 3:\n                        federatedConfigurator = _context.sent;\n                        _context.next = 6;\n                        return injectFederatedModuleScript(federatedConfigurator.remoteEntry);\n\n                      case 6:\n                        resolve(loadFederatedConfigurator(federatedConfigurator.scope, federatedConfigurator.module));\n                        _context.next = 12;\n                        break;\n\n                      case 9:\n                        _context.prev = 9;\n                        _context.t0 = _context["catch"](0);\n                        resolve(defaultConfig);\n\n                      case 12:\n                      case "end":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, null, [[0, 9]]);\n              }));\n\n              return function (_x3) {\n                return _ref2.apply(this, arguments);\n              };\n            }()));\n\n          case 2:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function fetchConfigurator(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar isValidConf = function isValidConf(maybeConf) {\n  return maybeConf && maybeConf.remoteEntry && typeof maybeConf.remoteEntry === \'string\' && maybeConf.scope && typeof maybeConf.scope === \'string\' && maybeConf.module && typeof maybeConf.module === \'string\';\n};\n\nvar maybeGetFederatedConfiguratorForConnector = /*#__PURE__*/function () {\n  var _ref3 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee3(config, connector) {\n    var maybeConfiguration;\n    return runtime_1.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            console.log(\'Fetched federated configurator remotes configuration\', config);\n            maybeConfiguration = config[connector.id];\n            console.log("Candidate configuration for \\"" + connector.id + "\\"", maybeConfiguration);\n\n            if (maybeConfiguration) {\n              _context3.next = 6;\n              break;\n            }\n\n            console.log("Couldn\'t find any configuration for the requested connector");\n            return _context3.abrupt("return", Promise.reject());\n\n          case 6:\n            if (!isValidConf(maybeConfiguration)) {\n              _context3.next = 9;\n              break;\n            }\n\n            console.log(\'Found a generic configuration for the connector\', maybeConfiguration);\n            return _context3.abrupt("return", maybeConfiguration);\n\n          case 9:\n            console.log("Couldn\'t find a valid configuration for the requested connector");\n            return _context3.abrupt("return", Promise.reject());\n\n          case 11:\n          case "end":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function maybeGetFederatedConfiguratorForConnector(_x4, _x5) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar injectFederatedModuleScript = /*#__PURE__*/function () {\n  var _ref4 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee4(url) {\n    return runtime_1.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt("return", new Promise(function (resolve, reject) {\n              var element = document.createElement(\'script\');\n              element.src = url;\n              element.type = \'text/javascript\';\n              element.async = true;\n\n              element.onload = function () {\n                console.log("Dynamic federated module loaded: " + url);\n                document.head.removeChild(element);\n                resolve();\n              };\n\n              element.onerror = function () {\n                console.error("Dynamic federated module Error: " + url);\n                console.log("Dynamic federated module Removed: " + url);\n                document.head.removeChild(element);\n                reject();\n              };\n\n              document.head.appendChild(element);\n            }));\n\n          case 1:\n          case "end":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function injectFederatedModuleScript(_x6) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nfunction loadFederatedConfigurator(_x7, _x8) {\n  return _loadFederatedConfigurator.apply(this, arguments);\n}\n\nfunction _loadFederatedConfigurator() {\n  _loadFederatedConfigurator = _asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee5(scope, module) {\n    var container, factory, federatedConfigurationConfig;\n    return runtime_1.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return __webpack_require__.I(\'default\');\n\n          case 2:\n            container = window[scope]; // or get the container somewhere else\n            // Initialize the container, it may provide shared modules\n\n            _context5.next = 5;\n            return container.init(__webpack_require__.S["default"]);\n\n          case 5:\n            _context5.next = 7;\n            return window[scope].get(module);\n\n          case 7:\n            factory = _context5.sent;\n            federatedConfigurationConfig = factory();\n            console.log("loaded federated configurator configuration from " + scope, federatedConfigurationConfig);\n            return _context5.abrupt("return", federatedConfigurationConfig["default"]);\n\n          case 11:\n          case "end":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _loadFederatedConfigurator.apply(this, arguments);\n}\n\nvar CreateConnectorPage = function CreateConnectorPage(_ref) {\n  var onSave = _ref.onSave,\n      onClose = _ref.onClose;\n\n  var _useConfig = (0,dist_esm_index_js_.useConfig)(),\n      cos = _useConfig.cos;\n\n  var _useAppContext = useAppContext(),\n      basePath = _useAppContext.basePath,\n      getToken = _useAppContext.getToken;\n\n  return index_js_default().createElement(esm_index_js_.PageSection, {\n    padding: {\n      "default": \'noPadding\'\n    }\n  }, index_js_default().createElement(machines_esm.CreationWizardMachineProvider, {\n    accessToken: getToken,\n    basePath: basePath,\n    fetchConfigurator: function fetchConfigurator$1(connector) {\n      return fetchConfigurator(connector, cos.configurators);\n    },\n    onSave: onSave\n  }, index_js_default().createElement(dist.CreationWizard, {\n    onClose: onClose\n  })));\n};\n\nvar CosUiRoutes = function CosUiRoutes(_ref) {\n  var getToken = _ref.getToken,\n      apiBasepath = _ref.apiBasepath;\n\n  var _useTranslation = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation.t;\n\n  var _useAlert = (0,dist_esm_index_js_.useAlert)(),\n      addAlert = _useAlert.addAlert;\n\n  var history = (0,react_router_dom_js_.useHistory)();\n  var goToConnectorsList = (0,index_js_.useCallback)(function () {\n    return history.push(\'/\');\n  }, [history]);\n  var goToCreateConnector = (0,index_js_.useCallback)(function () {\n    return history.push(\'/create-connector\');\n  }, [history]);\n  var onConnectorSave = (0,index_js_.useCallback)(function () {\n    addAlert({\n      id: \'connector-created\',\n      variant: dist_esm_index_js_.AlertVariant.success,\n      title: t(\'wizard.creation-success\')\n    });\n    goToConnectorsList();\n  }, [addAlert, goToConnectorsList, t]);\n  return index_js_default().createElement(AppContextProvider, {\n    getToken: getToken,\n    basePath: apiBasepath\n  }, index_js_default().createElement(react_router_dom_js_.Switch, null, index_js_default().createElement(react_router_dom_js_.Route, {\n    path: \'/\',\n    exact: true\n  }, index_js_default().createElement(ConnectedConnectorsPage, {\n    onCreateConnector: goToCreateConnector\n  })), index_js_default().createElement(react_router_dom_js_.Route, {\n    path: \'/create-connector\'\n  }, index_js_default().createElement(CreateConnectorPage, {\n    onSave: onConnectorSave,\n    onClose: goToConnectorsList\n  }))));\n};\n\nvar Alerts = function Alerts(_ref) {\n  var alerts = _ref.alerts,\n      onCloseAlert = _ref.onCloseAlert;\n  return React__default.createElement(AlertGroup, {\n    isToast: true\n  }, alerts.map(function (_ref2) {\n    var id = _ref2.id,\n        variant = _ref2.variant,\n        title = _ref2.title,\n        description = _ref2.description,\n        dataTestId = _ref2.dataTestId,\n        rest = _objectWithoutPropertiesLoose(_ref2, ["id", "variant", "title", "description", "dataTestId"]);\n\n    return React__default.createElement(Alert, _extends({\n      key: id,\n      isLiveRegion: true,\n      variant: AlertVariant$1[variant],\n      variantLabel: "",\n      title: title,\n      actionClose: React__default.createElement(AlertActionCloseButton, {\n        title: title,\n        onClose: function onClose() {\n          return onCloseAlert(id);\n        }\n      }),\n      "data-testid": dataTestId\n    }, rest), description);\n  }));\n};\n\nvar AlertProvider = function AlertProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState([]),\n      alerts = _useState[0],\n      setAlerts = _useState[1];\n\n  var _useState2 = useState([]),\n      timers = _useState2[0],\n      setTimers = _useState2[1];\n\n  useEffect(function () {\n    var timersKeys = timers.map(function (timer) {\n      return timer.key;\n    });\n    var timeOuts = alerts.filter(function (alert) {\n      return !timersKeys.includes(alert == null ? void 0 : alert.id);\n    }).map(function (alert) {\n      var _alert$id = alert.id,\n          id = _alert$id === void 0 ? \'\' : _alert$id;\n      var timeOut = setTimeout(function () {\n        return hideAlert(id);\n      }, 8000);\n      return {\n        key: alert.id,\n        timeOut: timeOut\n      };\n    });\n    setTimers([].concat(timers, timeOuts));\n    return function () {\n      return timers.forEach(function (timer) {\n        return (timer == null ? void 0 : timer.timeOut) && clearTimeout(timer.timeOut);\n      });\n    };\n  }, [alerts]);\n\n  var createId = function createId() {\n    return new Date().getTime();\n  };\n\n  var hideAlert = function hideAlert(key) {\n    setAlerts(function (alerts) {\n      return [].concat(alerts.filter(function (el) {\n        return el.id !== key;\n      }));\n    });\n    setTimers(function (timers) {\n      return [].concat(timers.filter(function (timer) {\n        return timer.key === key;\n      }));\n    });\n  };\n\n  var addAlert = function addAlert(props) {\n    var id = createId().toString();\n    setAlerts([].concat(alerts, [_extends({}, props, {\n      id: id\n    })]));\n  };\n\n  return React__default.createElement(AlertContext.Provider, {\n    value: {\n      addAlert: addAlert\n    }\n  }, React__default.createElement(Alerts, {\n    alerts: alerts,\n    onCloseAlert: hideAlert\n  }), children);\n};\n\nvar keycloak$1;\nvar DemoApp = function DemoApp() {\n  var _keycloak;\n\n  var _useState = useState(false),\n      initialized = _useState[0],\n      setInitialized = _useState[1]; // Initialize the client\n\n\n  useEffect(function () {\n    var init = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee() {\n        return runtime_1.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getKeycloakInstance();\n\n              case 2:\n                keycloak$1 = _context.sent;\n                setInitialized(true);\n\n              case 4:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function init() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    init();\n  }, []);\n  var config = {\n    cos: {\n      apiBasePath: "https://cos-fm.apps.kammellol.rhmw-integrations.net",\n      configurators: {\n        \'debezium-mongodb-1.5.0.Final\': {\n          remoteEntry: \'https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js\',\n          scope: \'debezium_ui\',\n          module: \'./config\'\n        },\n        \'debezium-mysql-1.5.0.Final\': {\n          remoteEntry: \'https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js\',\n          scope: \'debezium_ui\',\n          module: \'./config\'\n        },\n        \'debezium-postgres-1.5.0.Final\': {\n          remoteEntry: \'https://dbz-ui.apps.kammellol.rhmw-integrations.net/dbz-connector-configurator.remoteEntry.js\',\n          scope: \'debezium_ui\',\n          module: \'./config\'\n        }\n      }\n    }\n  };\n  return React__default.createElement(KeycloakContext.Provider, {\n    value: {\n      keycloak: keycloak$1,\n      profile: (_keycloak = keycloak$1) == null ? void 0 : _keycloak.profile\n    }\n  }, React__default.createElement(KeycloakAuthProvider, null, React__default.createElement(ConfigContext.Provider, {\n    value: config\n  }, React__default.createElement(I18nextProvider, {\n    i18n: i18n\n  }, React__default.createElement(AlertProvider, null, React__default.createElement(React__default.Suspense, {\n    fallback: React__default.createElement(Loading, null)\n  }, React__default.createElement(BrowserRouter, null, React__default.createElement(AppLayout, null, initialized ? React__default.createElement(ConnectedRoutes, null) : React__default.createElement(Spinner, null)))))))));\n};\n\nvar ConnectedRoutes = function ConnectedRoutes() {\n  var auth = useAuth();\n\n  var _useConfig = useConfig(),\n      cos = _useConfig.cos;\n\n  return React__default.createElement(CosUiRoutes, {\n    getToken: auth.kas.getToken,\n    apiBasepath: cos.apiBasePath\n  });\n};\n\nvar FederatedApp = function FederatedApp() {\n  var _useConfig = (0,dist_esm_index_js_.useConfig)(),\n      cos = _useConfig.cos;\n\n  var _useAuth = (0,dist_esm_index_js_.useAuth)(),\n      kas = _useAuth.kas;\n\n  var _useBasename = (0,dist_esm_index_js_.useBasename)(),\n      getBasename = _useBasename.getBasename;\n\n  return index_js_default().createElement(es_index_js_.I18nextProvider, {\n    i18n: (i18next_js_default())\n  }, index_js_default().createElement((index_js_default()).Suspense, {\n    fallback: index_js_default().createElement(utils_esm.Loading, null)\n  }, index_js_default().createElement(react_router_dom_js_.BrowserRouter, {\n    basename: getBasename()\n  }, index_js_default().createElement(CosUiRoutes, {\n    getToken: kas.getToken,\n    apiBasepath: cos.apiBasePath\n  }))));\n};\n\n\n//# sourceMappingURL=app.esm.js.map\n\n;// CONCATENATED MODULE: ./src/federated.ts\n\n/* harmony default export */ const federated = (FederatedApp);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uL3BhY2thZ2VzL2FwcC9kaXN0L2FwcC5lc20uanM/MDExMSIsIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4vc3JjL2ZlZGVyYXRlZC50cz9jOWQ1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEc7QUFDMGhCO0FBQ25nQjtBQUM5QztBQUNJO0FBQ1M7QUFDdkU7QUFDZ0I7QUFDcUI7QUFDN0I7QUFDdUo7QUFDM0k7QUFDcUM7QUFDa0M7QUFDN0Q7O0FBRXpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsc0JBQXNCO0FBQ3pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxhQUFhLHVCQUF1QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLFlBQVksRUFBRTtBQUNoQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0I7O0FBRXBCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FB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O0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUI7QUFDckI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87OztBQUdQO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsZ0RBQWdELFFBQVE7QUFDeEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtB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TztBQUN4Qjs7QUFFQSxxQkFBcUIsa0NBQVc7QUFDaEM7O0FBRUEsU0FBUyxnQ0FBNEIsQ0FBQyw0QkFBZTtBQUNyRCxVQUFVLHNCQUFJO0FBQ2QsR0FBRyxFQUFFLGdDQUE0QixDQUFDLDZCQUF1QjtBQUN6RCxjQUFjLGdDQUE0QixDQUFDLGlCQUFPO0FBQ2xELEdBQUcsRUFBRSxnQ0FBNEIsQ0FBQyxrQ0FBYTtBQUMvQztBQUNBLEdBQUcsRUFBRSxnQ0FBNEI7QUFDakM7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFaUM7QUFDakM7OztBQ3pxRTJDO0FBRTNDLGdEQUFlLFlBQVksRUFBQyIsImZpbGUiOiI3MTQ4Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdF9fZGVmYXVsdCwgeyB1c2VTdGF0ZSwgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUGFnZUhlYWRlclRvb2xzLCBQYWdlSGVhZGVyLCBOYXYsIE5hdkxpc3QsIE5hdkl0ZW0sIFBhZ2VTaWRlYmFyLCBQYWdlLCBEcmF3ZXIsIERyYXdlckNvbnRlbnQsIERyYXdlclBhbmVsQ29udGVudCwgRHJhd2VySGVhZCwgVGV4dENvbnRlbnQsIFRleHQsIFRleHRWYXJpYW50cywgVGl0bGUsIFRpdGxlU2l6ZXMsIERyYXdlckFjdGlvbnMsIERyYXdlckNsb3NlQnV0dG9uLCBEcmF3ZXJQYW5lbEJvZHksIFRhYnMsIFRhYiwgVGFiVGl0bGVUZXh0LCBUZXh0TGlzdCwgVGV4dExpc3RWYXJpYW50cywgVGV4dExpc3RJdGVtLCBUZXh0TGlzdEl0ZW1WYXJpYW50cywgU3Bpbm5lciwgUGFnaW5hdGlvbiwgVG9vbGJhckl0ZW0sIElucHV0R3JvdXAsIFRleHRJbnB1dCwgQnV0dG9uLCBUb29sYmFyVG9nZ2xlR3JvdXAsIFRvb2xiYXJHcm91cCwgVG9vbGJhciwgVG9vbGJhckNvbnRlbnQsIE1vZGFsLCBNb2RhbFZhcmlhbnQsIFN0YWNrLCBTdGFja0l0ZW0sIENhcmQsIEZsZXgsIEZsZXhJdGVtLCBQYWdlU2VjdGlvbiwgQnV0dG9uVmFyaWFudCwgQWxlcnRHcm91cCwgQWxlcnQsIEFsZXJ0VmFyaWFudCBhcyBBbGVydFZhcmlhbnQkMSwgQWxlcnRBY3Rpb25DbG9zZUJ1dHRvbiB9IGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LWNvcmUnO1xuaW1wb3J0IHsgQXV0aENvbnRleHQsIHVzZUFsZXJ0LCBBbGVydFZhcmlhbnQsIHVzZUNvbmZpZywgQWxlcnRDb250ZXh0LCBDb25maWdDb250ZXh0LCB1c2VBdXRoLCB1c2VCYXNlbmFtZSB9IGZyb20gJ0BiZjIvdWktc2hhcmVkJztcbmltcG9ydCB7IE5hdkxpbmssIHVzZUhpc3RvcnksIFN3aXRjaCwgUm91dGUsIEJyb3dzZXJSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCB7IGluaXRSZWFjdEkxOG5leHQsIHVzZVRyYW5zbGF0aW9uLCBUcmFucywgSTE4bmV4dFByb3ZpZGVyIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyB1c2VEZWJvdW5jZSwgTG9hZGluZywgRW1wdHlTdGF0ZSwgRW1wdHlTdGF0ZVZhcmlhbnQsIE5vTWF0Y2hGb3VuZCB9IGZyb20gJ0Bjb3MtdWkvdXRpbHMnO1xuaW1wb3J0IGkxOG4gZnJvbSAnaTE4bmV4dCc7XG5pbXBvcnQgQmFja2VuZCBmcm9tICdpMThuZXh0LWh0dHAtYmFja2VuZCc7XG5pbXBvcnQgTGFuZ3VhZ2VEZXRlY3RvciBmcm9tICdpMThuZXh0LWJyb3dzZXItbGFuZ3VhZ2VkZXRlY3Rvcic7XG5pbXBvcnQgS2V5Y2xvYWsgZnJvbSAna2V5Y2xvYWstanMnO1xuaW1wb3J0IHsgdXNlQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlLCB1c2VDb25uZWN0b3JzTWFjaGluZSwgdXNlQ29ubmVjdG9yLCBDb25uZWN0b3JzTWFjaGluZVByb3ZpZGVyLCB1c2VDb25uZWN0b3JzTWFjaGluZUlzUmVhZHksIENyZWF0aW9uV2l6YXJkTWFjaGluZVByb3ZpZGVyIH0gZnJvbSAnQGNvcy11aS9tYWNoaW5lcyc7XG5pbXBvcnQgeyBjc3MgfSBmcm9tICdAcGF0dGVybmZseS9yZWFjdC1zdHlsZXMnO1xuaW1wb3J0IHsgVGFibGVDb21wb3NhYmxlLCBUaGVhZCwgVHIsIFRoLCBUYm9keSwgVGQgfSBmcm9tICdAcGF0dGVybmZseS9yZWFjdC10YWJsZSc7XG5pbXBvcnQgeyBQZW5kaW5nSWNvbiwgRXhjbGFtYXRpb25DaXJjbGVJY29uLCBDaGVja0NpcmNsZUljb24sIFNlYXJjaEljb24sIEZpbHRlckljb24gfSBmcm9tICdAcGF0dGVybmZseS9yZWFjdC1pY29ucyc7XG5pbXBvcnQgeyBDcmVhdGlvbldpemFyZCB9IGZyb20gJ0Bjb3MtdWkvY3JlYXRpb24td2l6YXJkJztcblxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICB0cnkge1xuICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGluZm8uZG9uZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXG4gICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7XG4gICAgICB9XG5cbiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgbW9kdWxlKSB7XG5cdHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcbn1cblxudmFyIHJ1bnRpbWVfMSA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4gIC8qKlxuICAgKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gICAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAgICovXG4gIHZhciBydW50aW1lID0gZnVuY3Rpb24gKGV4cG9ydHMpIHtcblxuICAgIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gICAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5O1xuICAgIHZhciB1bmRlZmluZWQkMTsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG5cbiAgICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICAgIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gICAgdmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIjtcbiAgICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gICAgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIElFIDggaGFzIGEgYnJva2VuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB0aGF0IG9ubHkgd29ya3Mgb24gRE9NIG9iamVjdHMuXG4gICAgICBkZWZpbmUoe30sIFwiXCIpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZGVmaW5lID0gZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcjtcbiAgICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTsgLy8gVGhlIC5faW52b2tlIG1ldGhvZCB1bmlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIC5uZXh0LFxuICAgICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuXG4gICAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICAgIH1cblxuICAgIGV4cG9ydHMud3JhcCA9IHdyYXA7IC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAgIC8vIHJlY29yZCBsaWtlIGNvbnRleHQudHJ5RW50cmllc1tpXS5jb21wbGV0aW9uLiBUaGlzIGludGVyZmFjZSBjb3VsZFxuICAgIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAgIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgICAvLyBhbHJlYWR5IGhhdmUgYW4gZXhpc3RpbmcgbWV0aG9kIHdlIHdhbnQgdG8gY2FsbCwgc28gdGhlcmUncyBubyBuZWVkXG4gICAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAgIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gICAgLy8gaW4gZXZlcnkgY2FzZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byB0b3VjaCB0aGUgYXJndW1lbnRzIG9iamVjdC4gVGhlXG4gICAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAgIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cblxuICAgIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBcIm5vcm1hbFwiLFxuICAgICAgICAgIGFyZzogZm4uY2FsbChvYmosIGFyZylcbiAgICAgICAgfTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFwidGhyb3dcIixcbiAgICAgICAgICBhcmc6IGVyclxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICAgIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICAgIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gICAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gXCJjb21wbGV0ZWRcIjsgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAgIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cblxuICAgIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307IC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAgIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAgIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyXG4gICAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cblxuICAgIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG5cbiAgICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG5cbiAgICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9IC8vIFRoaXMgaXMgYSBwb2x5ZmlsbCBmb3IgJUl0ZXJhdG9yUHJvdG90eXBlJSBmb3IgZW52aXJvbm1lbnRzIHRoYXRcbiAgICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuXG5cbiAgICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblxuICAgIEl0ZXJhdG9yUHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gICAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuXG4gICAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJiBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7XG4gICAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZFxuICAgICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTtcbiAgICB9XG5cbiAgICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gICAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uO1xuICAgIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKTsgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuXG4gICAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICBkZWZpbmUocHJvdG90eXBlLCBtZXRob2QsIGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiAoZ2VuRnVuKSB7XG4gICAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgICByZXR1cm4gY3RvciA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8IC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIiA6IGZhbHNlO1xuICAgIH07XG5cbiAgICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbiAoZ2VuRnVuKSB7XG4gICAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgICAgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIik7XG4gICAgICB9XG5cbiAgICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICAgIHJldHVybiBnZW5GdW47XG4gICAgfTsgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gICAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgICAvLyBgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gICAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cblxuXG4gICAgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIF9fYXdhaXQ6IGFyZ1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcblxuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZztcbiAgICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG5cbiAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uICh1bndyYXBwZWQpIHtcbiAgICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgLy8gSWYgYSByZWplY3RlZCBQcm9taXNlIHdhcyB5aWVsZGVkLCB0aHJvdyB0aGUgcmVqZWN0aW9uIGJhY2tcbiAgICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS5cbiAgICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZUltcGwoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9IC8vIElmIGVucXVldWUgaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIHdhaXQgdW50aWxcbiAgICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXG4gICAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgICAgLy8gZW5xdWV1ZSBoYXMgbm90IGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdG9cbiAgICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXG4gICAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAgIC8vIGFueSBuZWNlc3Nhcnkgc2V0dXAgaW4gYSBwcmVkaWN0YWJsZSB3YXkuIFRoaXMgcHJlZGljdGFiaWxpdHlcbiAgICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcbiAgICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgICAgLy8gZXhlY3V0ZSBjb2RlIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQuIFNpbmNlIHdlIGltcGxlbWVudCBzaW1wbGVcbiAgICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcbiAgICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgICBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZywgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZykgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgICAgfSAvLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LFxuICAgICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG5cblxuICAgICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgICB9XG5cbiAgICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xuXG4gICAgQXN5bmNJdGVyYXRvci5wcm90b3R5cGVbYXN5bmNJdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvcjsgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAgIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAgIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuXG4gICAgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uIChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCwgUHJvbWlzZUltcGwpIHtcbiAgICAgIGlmIChQcm9taXNlSW1wbCA9PT0gdm9pZCAwKSBQcm9taXNlSW1wbCA9IFByb21pc2U7XG4gICAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLCBQcm9taXNlSW1wbCk7XG4gICAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICAgIH0gLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG5cblxuICAgICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuXG4gICAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG4gICAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmUgPyBHZW5TdGF0ZUNvbXBsZXRlZCA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDsgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS5cblxuICAgICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXG4gICAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAgIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAgIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxuXG5cbiAgICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuXG4gICAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQkMSkge1xuICAgICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3dcbiAgICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYVxuICAgICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQkMTtcbiAgICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcblxuICAgICAgaWYgKCFpbmZvKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5XG4gICAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlOyAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG5cbiAgICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYzsgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzIFwibmV4dFwiLCBmb3JnZXQgY29udGV4dC5hcmcgc2luY2UgaXQgaGFzIGJlZW5cbiAgICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAgIC8vIG91dGVyIGdlbmVyYXRvci5cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkJDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICB9IC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgICAvLyB0aGUgb3V0ZXIgZ2VuZXJhdG9yLlxuXG5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfSAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAgIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cblxuXG4gICAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcbiAgICBkZWZpbmUoR3AsIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvclwiKTsgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZVxuICAgIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gICAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHtcbiAgICAgIHZhciBlbnRyeSA9IHtcbiAgICAgICAgdHJ5TG9jOiBsb2NzWzBdXG4gICAgICB9O1xuXG4gICAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICAgIH1cblxuICAgICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgICAgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgICByZWNvcmQudHlwZSA9IFwibm9ybWFsXCI7XG4gICAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgICAvLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tXG4gICAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgICB0aGlzLnRyeUVudHJpZXMgPSBbe1xuICAgICAgICB0cnlMb2M6IFwicm9vdFwiXG4gICAgICB9XTtcbiAgICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICAgIHRoaXMucmVzZXQodHJ1ZSk7XG4gICAgfVxuXG4gICAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgdmFyIGtleXMgPSBbXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgIH1cblxuICAgICAga2V5cy5yZXZlcnNlKCk7IC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG5cbiAgICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZVxuICAgICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cblxuXG4gICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuXG4gICAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgICAgdmFyIGkgPSAtMSxcbiAgICAgICAgICAgICAgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgICB3aGlsZSAoKytpIDwgaXRlcmFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZCQxO1xuICAgICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfSAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG5cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZG9uZVJlc3VsdFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcztcblxuICAgIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkJDEsXG4gICAgICAgIGRvbmU6IHRydWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCxcbiAgICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldChza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICAgIHRoaXMubmV4dCA9IDA7IC8vIFJlc2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG5cbiAgICAgICAgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZCQxO1xuICAgICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkJDE7XG4gICAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiYgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiYgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkJDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgICB9LFxuICAgICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uIGRpc3BhdGNoRXhjZXB0aW9uKGV4Y2VwdGlvbikge1xuICAgICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgICAgY29udGV4dC5uZXh0ID0gbG9jO1xuXG4gICAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAgIC8vIHRoZW4gbGV0IHRoYXQgY2F0Y2ggYmxvY2sgaGFuZGxlIHRoZSBleGNlcHRpb24gbm9ybWFsbHkuXG4gICAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQkMTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gISFjYXVnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAgIC8vIEV4Y2VwdGlvbiB0aHJvd24gb3V0c2lkZSBvZiBhbnkgdHJ5IGJsb2NrIHRoYXQgY291bGQgaGFuZGxlXG4gICAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgICB2YXIgaGFzQ2F0Y2ggPSBoYXNPd24uY2FsbChlbnRyeSwgXCJjYXRjaExvY1wiKTtcbiAgICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFicnVwdDogZnVuY3Rpb24gYWJydXB0KHR5cGUsIGFyZykge1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuXG4gICAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmluYWxseUVudHJ5ICYmICh0eXBlID09PSBcImJyZWFrXCIgfHwgdHlwZSA9PT0gXCJjb250aW51ZVwiKSAmJiBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJiBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICAgIH0sXG4gICAgICBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fCByZWNvcmQudHlwZSA9PT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xuICAgICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9LFxuICAgICAgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2goZmluYWxseUxvYykge1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuXG4gICAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcImNhdGNoXCI6IGZ1bmN0aW9uIF9jYXRjaCh0cnlMb2MpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcblxuICAgICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRocm93bjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAgIC8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay5cblxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcbiAgICAgIH0sXG4gICAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbiBkZWxlZ2F0ZVlpZWxkKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0XG4gICAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkJDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cbiAgICB9OyAvLyBSZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlXG4gICAgLy8gb3Igbm90LCByZXR1cm4gdGhlIHJ1bnRpbWUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGRlY2xhcmUgdGhlIHZhcmlhYmxlXG4gICAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gICAgLy8gaW5qZWN0ZWQgZWFzaWx5IGJ5IGBiaW4vcmVnZW5lcmF0b3IgLS1pbmNsdWRlLXJ1bnRpbWUgc2NyaXB0LmpzYC5cblxuICAgIHJldHVybiBleHBvcnRzO1xuICB9KCAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gICBtb2R1bGUuZXhwb3J0cyApO1xuXG4gIHRyeSB7XG4gICAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbiAgfSBjYXRjaCAoYWNjaWRlbnRhbFN0cmljdE1vZGUpIHtcbiAgICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAgIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxuICAgIC8vIGluIGNhc2UgcnVudGltZS5qcyBhY2NpZGVudGFsbHkgcnVucyBpbiBzdHJpY3QgbW9kZSwgd2UgY2FuIGVzY2FwZVxuICAgIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbFxuICAgIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAgIC8vIHRoZSBwcm9wZXIgc29sdXRpb24gaXMgdG8gZml4IHRoZSBhY2NpZGVudGFsIHN0cmljdCBtb2RlIHByb2JsZW0uIElmXG4gICAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcbiAgICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgICAvLyBwcm9ibGVtcywgcGxlYXNlIGRldGFpbCB5b3VyIHVuaXF1ZSBwcmVkaWNhbWVudCBpbiBhIEdpdEh1YiBpc3N1ZS5cbiAgICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xuICB9XG59KTtcblxuLy8gaGF2ZSBhIGxvb2sgYXQgdGhlIFF1aWNrIHN0YXJ0IGd1aWRlIFxuLy8gZm9yIHBhc3NpbmcgaW4gbG5nIGFuZCB0cmFuc2xhdGlvbnMgb24gaW5pdFxuXG5pMThuIC8vIGxvYWQgdHJhbnNsYXRpb24gdXNpbmcgaHR0cCAtPiBzZWUgL3B1YmxpYy9sb2NhbGVzIChpLmUuIGh0dHBzOi8vZ2l0aHViLmNvbS9pMThuZXh0L3JlYWN0LWkxOG5leHQvdHJlZS9tYXN0ZXIvZXhhbXBsZS9yZWFjdC9wdWJsaWMvbG9jYWxlcylcbi8vIGxlYXJuIG1vcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9pMThuZXh0L2kxOG5leHQtaHR0cC1iYWNrZW5kXG4udXNlKEJhY2tlbmQpIC8vIGRldGVjdCB1c2VyIGxhbmd1YWdlXG4vLyBsZWFybiBtb3JlOiBodHRwczovL2dpdGh1Yi5jb20vaTE4bmV4dC9pMThuZXh0LWJyb3dzZXItbGFuZ3VhZ2VEZXRlY3RvclxuLnVzZShMYW5ndWFnZURldGVjdG9yKSAvLyBwYXNzIHRoZSBpMThuIGluc3RhbmNlIHRvIHJlYWN0LWkxOG5leHQuXG4udXNlKGluaXRSZWFjdEkxOG5leHQpIC8vIGluaXQgaTE4bmV4dFxuLy8gZm9yIGFsbCBvcHRpb25zIHJlYWQ6IGh0dHBzOi8vd3d3LmkxOG5leHQuY29tL292ZXJ2aWV3L2NvbmZpZ3VyYXRpb24tb3B0aW9uc1xuLmluaXQoe1xuICAvLyBDb21tZW50aW5nIGl0IGFzIHdlIGhhdmUgZmFsbGJhY2tMbmcgZm9yIGNhc2Ugb2YgbGFuZ3VhZ2UgZGV0ZWN0ZWQgYXMgZW4tR0Igb3IgZW4tVVNcbiAgLy8gc3VwcG9ydGVkTG5nczogWydlbicsJ2l0J10sXG4gIGJhY2tlbmQ6IHtcbiAgICBsb2FkUGF0aDogX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImxvY2FsZXMve3tsbmd9fS97e25zfX0uanNvblwiXG4gIH0sXG4gIGZhbGxiYWNrTG5nOiAnZW4nLFxuICBsb2FkOiAnYWxsJyxcbiAgZGVidWc6IHRydWUsXG4gIC8vIGFkZCBhbnkgbmFtZXNwYWNlcyB5b3UncmUgdXNpbmcgaGVyZSBmb3IgbG9hZGluZyBwdXJwb3Nlc1xuICBuczogWydwdWJsaWMnXSxcbiAgZGVmYXVsdE5TOiAncHVibGljJyxcbiAgbnNTZXBhcmF0b3I6ICc6JyxcbiAga2V5U2VwYXJhdG9yOiAnLicsXG4gIHJlYWN0OiB7XG4gICAgdXNlU3VzcGVuc2U6IHRydWUsXG4gICAgd2FpdDogdHJ1ZVxuICB9LFxuICBpbnRlcnBvbGF0aW9uOiB7XG4gICAgZGVmYXVsdFZhcmlhYmxlczogdW5kZWZpbmVkLFxuICAgIGVzY2FwZVZhbHVlOiBmYWxzZSAvLyBub3QgbmVlZGVkIGZvciByZWFjdCBhcyBpdCBlc2NhcGVzIGJ5IGRlZmF1bHRcblxuICB9XG59KTtcblxudmFyIGtleWNsb2FrO1xuLyoqXHJcbiAqIEdldCBrZXljbG9hayBpbnN0YW5jZVxyXG4gKlxyXG4gKiBAcmV0dXJuIGFuIGluaXRpYXRlZCBrZXljbG9hayBpbnN0YW5jZSBvciBgdW5kZWZpbmVkYFxyXG4gKiBpZiBrZXljbG9hayBpc24ndCBjb25maWd1cmVkXHJcbiAqXHJcbiAqL1xuXG52YXIgZ2V0S2V5Y2xvYWtJbnN0YW5jZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIHZhciBfcmVmID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcnVudGltZV8xLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHtcbiAgICByZXR1cm4gcnVudGltZV8xLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBpZiAoa2V5Y2xvYWspIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcbiAgICAgICAgICAgIHJldHVybiBpbml0KCk7XG5cbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGtleWNsb2FrKTtcblxuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZSk7XG4gIH0pKTtcblxuICByZXR1cm4gZnVuY3Rpb24gZ2V0S2V5Y2xvYWtJbnN0YW5jZSgpIHtcbiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpO1xuLyoqXHJcbiAqIEluaXRpYXRlIGtleWNsb2FrIGluc3RhbmNlLlxyXG4gKlxyXG4gKiBTZXQga2V5Y2xvYWsgdG8gdW5kZWZpbmVkIGlmXHJcbiAqIGtleWNsb2FrIGlzbid0IGNvbmZpZ3VyZWRcclxuICpcclxuICovXG5cbnZhciBpbml0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWYyID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcnVudGltZV8xLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7XG4gICAgcmV0dXJuIHJ1bnRpbWVfMS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcbiAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDtcbiAgICAgICAgICAgIGtleWNsb2FrID0gbmV3IEtleWNsb2FrKHtcbiAgICAgICAgICAgICAgcmVhbG06ICdyZWRoYXQtZXh0ZXJuYWwnLFxuICAgICAgICAgICAgICB1cmw6ICdodHRwczovL3Nzby5yZWRoYXQuY29tL2F1dGgvJyxcbiAgICAgICAgICAgICAgY2xpZW50SWQ6ICdjbG91ZC1zZXJ2aWNlcydcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIWtleWNsb2FrKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTtcbiAgICAgICAgICAgIHJldHVybiBrZXljbG9hay5pbml0KHtcbiAgICAgICAgICAgICAgb25Mb2FkOiAnbG9naW4tcmVxdWlyZWQnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNztcbiAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MltcImNhdGNoXCJdKDApO1xuICAgICAgICAgICAga2V5Y2xvYWsgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0F1dGg6IFVuYWJsZSB0byBpbml0aWFsaXplIGtleWNsb2FrLiBDbGllbnQgc2lkZSB3aWxsIG5vdCBiZSBjb25maWd1cmVkIHRvIHVzZSBhdXRoZW50aWNhdGlvbicsIF9jb250ZXh0Mi50MCk7XG5cbiAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgN11dKTtcbiAgfSkpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBpbml0KCkge1xuICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpO1xuLyoqXHJcbiAqIFVzZSBrZXljbG9hayB1cGRhdGUgdG9rZW4gZnVuY3Rpb24gdG8gcmV0cmlldmVcclxuICoga2V5Y2xvYWsgdG9rZW5cclxuICpcclxuICogQHJldHVybiBrZXljbG9hayB0b2tlbiBvciBlbXB0eSBzdHJpbmcgaWYga2V5Y2xvYWtcclxuICogaXNuJ3QgY29uZmlndXJlZFxyXG4gKlxyXG4gKi9cblxudmFyIGdldEtleUNsb2FrVG9rZW4gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZjQgPSAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9ydW50aW1lXzEubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHtcbiAgICB2YXIgX2tleWNsb2FrLCBfa2V5Y2xvYWsyO1xuXG4gICAgcmV0dXJuIHJ1bnRpbWVfMS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHtcbiAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjtcbiAgICAgICAgICAgIHJldHVybiAoX2tleWNsb2FrID0ga2V5Y2xvYWspID09IG51bGwgPyB2b2lkIDAgOiBfa2V5Y2xvYWsudXBkYXRlVG9rZW4oNTApO1xuXG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgaWYgKCEoKF9rZXljbG9hazIgPSBrZXljbG9haykgPT0gbnVsbCA/IHZvaWQgMCA6IF9rZXljbG9hazIudG9rZW4pKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KFwicmV0dXJuXCIsIGtleWNsb2FrLnRva2VuKTtcblxuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIGtleWNsb2FrIHRva2VuIGF2YWlsYWJsZScpO1xuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoXCJyZXR1cm5cIiwgJ2ZvbycpO1xuXG4gICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTQpO1xuICB9KSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGdldEtleUNsb2FrVG9rZW4oKSB7XG4gICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59KCk7XG4vKipcclxuICogVXNlIGtleWNsb2FrIHVwZGF0ZSB0b2tlbiBmdW5jdGlvbiB0byByZXRyaWV2ZVxyXG4gKiBrZXljbG9hayB0b2tlblxyXG4gKlxyXG4gKiBAcmV0dXJuIGtleWNsb2FrIHRva2VuIG9yIGVtcHR5IHN0cmluZyBpZiBrZXljbG9ha1xyXG4gKiBpc24ndCBjb25maWd1cmVkXHJcbiAqXHJcbiAqL1xuXG52YXIgZ2V0UGFyc2VkS2V5Q2xvYWtUb2tlbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIHZhciBfcmVmNSA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3J1bnRpbWVfMS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkge1xuICAgIHZhciBfa2V5Y2xvYWszLCBfa2V5Y2xvYWs0O1xuXG4gICAgcmV0dXJuIHJ1bnRpbWVfMS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHtcbiAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjtcbiAgICAgICAgICAgIHJldHVybiAoX2tleWNsb2FrMyA9IGtleWNsb2FrKSA9PSBudWxsID8gdm9pZCAwIDogX2tleWNsb2FrMy51cGRhdGVUb2tlbig1MCk7XG5cbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBpZiAoISgoX2tleWNsb2FrNCA9IGtleWNsb2FrKSA9PSBudWxsID8gdm9pZCAwIDogX2tleWNsb2FrNC50b2tlblBhcnNlZCkpIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIiwga2V5Y2xvYWsudG9rZW5QYXJzZWQpO1xuXG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8ga2V5Y2xvYWsgdG9rZW4gYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcInJldHVyblwiLCB7fSk7XG5cbiAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlNSk7XG4gIH0pKTtcblxuICByZXR1cm4gZnVuY3Rpb24gZ2V0UGFyc2VkS2V5Q2xvYWtUb2tlbigpIHtcbiAgICByZXR1cm4gX3JlZjUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKTtcblxudmFyIEtleWNsb2FrQ29udGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVDb250ZXh0KHtcbiAga2V5Y2xvYWs6IHVuZGVmaW5lZFxufSk7XG52YXIgS2V5Y2xvYWtBdXRoUHJvdmlkZXIgPSBmdW5jdGlvbiBLZXljbG9ha0F1dGhQcm92aWRlcihwcm9wcykge1xuICB2YXIgZ2V0VXNlcm5hbWUgPSBmdW5jdGlvbiBnZXRVc2VybmFtZSgpIHtcbiAgICByZXR1cm4gZ2V0UGFyc2VkS2V5Q2xvYWtUb2tlbigpLnRoZW4oZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICByZXR1cm4gdG9rZW5bJ3VzZXJuYW1lJ107XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGF1dGhUb2tlbkNvbnRleHQgPSB7XG4gICAga2FzOiB7XG4gICAgICBnZXRUb2tlbjogZ2V0S2V5Q2xvYWtUb2tlblxuICAgIH0sXG4gICAgZ2V0VXNlcm5hbWU6IGdldFVzZXJuYW1lXG4gIH07XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEF1dGhDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGF1dGhUb2tlbkNvbnRleHRcbiAgfSwgcHJvcHMuY2hpbGRyZW4pO1xufTtcblxudmFyIGxvZ28gPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwlMjB2ZXJzaW9uJTNEJTIyMS4wJTIyJTIwZW5jb2RpbmclM0QlMjJVVEYtOCUyMiUzRiUzRSUzQ3N2ZyUyMHdpZHRoJTNEJTIyMTc1cHglMjIlMjBoZWlnaHQlM0QlMjIzMnB4JTIyJTIwdmlld0JveCUzRCUyMjAlMjAwJTIwMTc1JTIwMzIlMjIlMjB2ZXJzaW9uJTNEJTIyMS4xJTIyJTIweG1sbnMlM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjIlMjB4bWxucyUzQXhsaW5rJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYxOTk5JTJGeGxpbmslMjIlM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0N0aXRsZSUzRVBhdHRlcm5GbHklMjBMb2dvJTNDJTJGdGl0bGUlM0UlMjAlMjAlMjAlMjAlM0NkZXNjJTNFQ3JlYXRlZCUyMHdpdGglMjBTa2V0Y2guJTNDJTJGZGVzYyUzRSUyMCUyMCUyMCUyMCUzQ2RlZnMlM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NsaW5lYXJHcmFkaWVudCUyMHgxJTNEJTIyNTAuMDAwNDc2OSUyNSUyMiUyMHkxJTNEJTIyMy4wMjQ3NTUwOSUyNSUyMiUyMHgyJTNEJTIyNTAuMDAwNDc2OSUyNSUyMiUyMHkyJTNEJTIyOTUuMzYyMDA4NiUyNSUyMiUyMGlkJTNEJTIybGluZWFyR3JhZGllbnQtMSUyMiUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3N0b3AlMjBzdG9wLWNvbG9yJTNEJTIyJTIzNjBFRkZGJTIyJTIwb2Zmc2V0JTNEJTIyMCUyNSUyMiUzRSUzQyUyRnN0b3AlM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NzdG9wJTIwc3RvcC1jb2xvciUzRCUyMiUyMzFGODlDNyUyMiUyMG9mZnNldCUzRCUyMjEwMCUyNSUyMiUzRSUzQyUyRnN0b3AlM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZsaW5lYXJHcmFkaWVudCUzRSUyMCUyMCUyMCUyMCUzQyUyRmRlZnMlM0UlMjAlMjAlMjAlMjAlM0NnJTIwaWQlM0QlMjJTeW1ib2xzJTIyJTIwc3Ryb2tlJTNEJTIybm9uZSUyMiUyMHN0cm9rZS13aWR0aCUzRCUyMjElMjIlMjBmaWxsJTNEJTIybm9uZSUyMiUyMGZpbGwtcnVsZSUzRCUyMmV2ZW5vZGQlMjIlM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NnJTIwaWQlM0QlMjJOYXYtYmFyLSUyOGRlc2t0b3AlMjklMjIlMjB0cmFuc2Zvcm0lM0QlMjJ0cmFuc2xhdGUlMjgtMTUwLjAwMDAwMCUyQyUyMC0xNi4wMDAwMDAlMjklMjIlMjBmaWxsLXJ1bGUlM0QlMjJub256ZXJvJTIyJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDZyUyMGlkJTNEJTIyUGF0dGVybkZseS1Mb2dvJTIyJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDZyUyMHRyYW5zZm9ybSUzRCUyMnRyYW5zbGF0ZSUyODE1MC4wMDAwMDAlMkMlMjAxNi4wMDAwMDAlMjklMjIlM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NnJTIwaWQlM0QlMjJHcm91cCUyMiUyMHRyYW5zZm9ybSUzRCUyMnRyYW5zbGF0ZSUyODQ0Ljc0ODg1OCUyQyUyMDExLjIwMDAwMCUyOSUyMiUyMGZpbGwlM0QlMjIlMjNGRkZGRkYlMjIlM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0wLjMwMjA1NDc5NSUyQzkuMzQ4OCUyMEwwLjMwMjA1NDc5NSUyQzAuMzI2NCUyMEw0LjE2ODgzNTYyJTJDMC4zMjY0JTIwQzQuNzM4NTg0NDclMkMwLjMyNjQlMjA1LjIxNzIzNzQ0JTJDMC40MDk2JTIwNS42MDcxOTE3OCUyQzAuNTc0NCUyMEM1Ljk5NzE0NjEyJTJDMC43NDA4JTIwNi4zMTM1ODQ0NyUyQzAuOTU3NiUyMDYuNTU2NTA2ODUlMkMxLjIyOTYlMjBDNi43OTk0MjkyMiUyQzEuNTAwOCUyMDYuOTc0NDI5MjIlMkMxLjgwNDglMjA3LjA4MTUwNjg1JTJDMi4xNDU2JTIwQzcuMTg3Nzg1MzklMkMyLjQ4NTYlMjA3LjI0MjEyMzI5JTJDMi44Mjg4JTIwNy4yNDIxMjMyOSUyQzMuMTc2OCUyMEM3LjI0MjEyMzI5JTJDMy4zOTM2JTIwNy4yMTczNTE2JTJDMy42MTYlMjA3LjE2NTQxMDk2JTJDMy44NDA4JTIwQzcuMTE1MDY4NDklMkM0LjA2NCUyMDcuMDM4MzU2MTYlMkM0LjI4NCUyMDYuOTMzNjc1OCUyQzQuNDk2JTIwQzYuODI4MTk2MzUlMkM0LjcwOCUyMDYuNjk0NzQ4ODYlMkM0LjkwNDglMjA2LjUzMDkzNjA3JTJDNS4wOTEyJTIwQzYuMzY3MTIzMjklMkM1LjI3NTIlMjA2LjE3MDU0Nzk1JTJDNS40Mzg0JTIwNS45NDI4MDgyMiUyQzUuNTc4NCUyMEM1LjcxNDI2OTQxJTJDNS43MTg0JTIwNS40NTM3NjcxMiUyQzUuODI4JTIwNS4xNTgxMDUwMiUyQzUuOTA4JTIwQzQuODYxNjQzODQlMkM1Ljk4OCUyMDQuNTMyNDIwMDklMkM2LjAyNzIlMjA0LjE2ODAzNjUzJTJDNi4wMjcyJTIwTDIuMDQyNDY1NzUlMkM2LjAyNzIlMjBMMi4wNDI0NjU3NSUyQzkuMzQ3MiUyMEwwLjMwMjA1NDc5NSUyQzkuMzQ4OCUyMEwwLjMwMjA1NDc5NSUyQzkuMzQ4OCUyMFolMjBNNC4yNDMxNTA2OCUyQzQuMzcyJTIwQzQuNDY1Mjk2OCUyQzQuMzcyJTIwNC42NTMwODIxOSUyQzQuMzM2OCUyMDQuODAzMzEwNSUyQzQuMjY2NCUyMEM0Ljk1MzUzODgxJTJDNC4xOTM2JTIwNS4wNzU3OTkwOSUyQzQuMTAyNCUyMDUuMTcwODkwNDElMkMzLjk4OCUyMEM1LjI2NTk4MTc0JTJDMy44NzQ0JTIwNS4zMzMxMDUwMiUyQzMuNzQ2NCUyMDUuMzc0NjU3NTMlMkMzLjYwNDglMjBDNS40MTcwMDkxMyUyQzMuNDYxNiUyMDUuNDM5MzgzNTYlMkMzLjMyJTIwNS40MzkzODM1NiUyQzMuMTc2JTIwQzUuNDM5MzgzNTYlMkMzLjA0NjQlMjA1LjQyMTAwNDU3JTJDMi45MTEyJTIwNS4zODQyNDY1OCUyQzIuNzY4OCUyMEM1LjM0OTA4Njc2JTJDMi42MzA0JTIwNS4yODU5NTg5JTJDMi41MDI0JTIwNS4xOTY0NjExOSUyQzIuMzgzMiUyMEM1LjEwNjE2NDM4JTJDMi4yNjY0JTIwNC45ODIzMDU5NCUyQzIuMTY5NiUyMDQuODI4ODgxMjglMkMyLjA5NTIlMjBDNC42NzMwNTkzNiUyQzIuMDE5MiUyMDQuNDc4ODgxMjglMkMxLjk4MDglMjA0LjI0Mzk0OTc3JTJDMS45ODA4JTIwTDIuMDQ0MDYzOTMlMkMxLjk4MDglMjBMMi4wNDQwNjM5MyUyQzQuMzcxMiUyMEw0LjI0MzE1MDY4JTJDNC4zNzIlMjBMNC4yNDMxNTA2OCUyQzQuMzcyJTIwWiUyMiUyMGlkJTNEJTIyU2hhcGUlMjIlM0UlM0MlMkZwYXRoJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNMTkuMjU1NTkzNiUyQzkuMzQ4OCUyMEwxOC41NTcxOTE4JTJDNy40ODE2JTIwTDE1LjA4MDM2NTMlMkM3LjQ4MTYlMjBMMTQuMzg5OTU0MyUyQzkuMzQ4OCUyMEwxMi41MjE2ODk1JTJDOS4zNDg4JTIwTDE1Ljk3Mzc0NDMlMkMwLjMyNjQlMjBMMTcuNjY5NDA2NCUyQzAuMzI2NCUyMEwyMS4xMjE0NjEyJTJDOS4zNDg4JTIwTDE5LjI1NTU5MzYlMkM5LjM0ODglMjBaJTIwTTE3LjEwNTI1MTElMkMzLjU0OCUyMEMxNy4wNTg5MDQxJTJDMy40NCUyMDE3LjAwOTM2MDclMkMzLjMwODglMjAxNi45NTY2MjElMkMzLjE1ODQlMjBDMTYuOTA2Mjc4NSUyQzMuMDA1NiUyMDE2Ljg1OTkzMTUlMkMyLjg2NjQlMjAxNi44MjIzNzQ0JTJDMi43MzUyJTIwQzE2Ljc4ODAxMzclMkMyLjg2NzIlMjAxNi43NDQwNjM5JTJDMy4wMDU2JTIwMTYuNjg5NzI2JTJDMy4xNTg0JTIwQzE2LjYzNjE4NzIlMkMzLjMwODglMjAxNi41ODU4NDQ3JTJDMy40NCUyMDE2LjUzODY5ODYlMkMzLjU0OCUyMEwxNS42NDYxMTg3JTJDNS44OTUyJTIwTDE3Ljk5MjIzNzQlMkM1Ljg5NTIlMjBMMTcuMTA1MjUxMSUyQzMuNTQ4JTIwWiUyMiUyMGlkJTNEJTIyU2hhcGUlMjIlM0UlM0MlMkZwYXRoJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcG9seWdvbiUyMGlkJTNEJTIyUGF0aCUyMiUyMHBvaW50cyUzRCUyMjMwLjkwMzg4MTMlMjAyLjAwNjQlMjAzMC45MDM4ODEzJTIwOS4zNDg4JTIwMjkuMTY5ODYzJTIwOS4zNDg4JTIwMjkuMTY5ODYzJTIwMi4wMDY0JTIwMjYuNTkyMDA5MSUyMDIuMDA2NCUyMDI2LjU5MjAwOTElMjAwLjMyNjQlMjAzMy40ODA5MzYxJTIwMC4zMjY0JTIwMzMuNDgwOTM2MSUyMDIuMDA2NCUyMiUzRSUzQyUyRnBvbHlnb24lM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0Nwb2x5Z29uJTIwaWQlM0QlMjJQYXRoJTIyJTIwcG9pbnRzJTNEJTIyNDQuMzkzMjY0OCUyMDIuMDA2NCUyMDQ0LjM5MzI2NDglMjA5LjM0ODglMjA0Mi42NTg0NDc1JTIwOS4zNDg4JTIwNDIuNjU4NDQ3NSUyMDIuMDA2NCUyMDQwLjA4MDU5MzYlMjAyLjAwNjQlMjA0MC4wODA1OTM2JTIwMC4zMjY0JTIwNDYuOTY5NTIwNSUyMDAuMzI2NCUyMDQ2Ljk2OTUyMDUlMjAyLjAwNjQlMjIlM0UlM0MlMkZwb2x5Z29uJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcG9seWdvbiUyMGlkJTNEJTIyUGF0aCUyMiUyMHBvaW50cyUzRCUyMjU0LjE1MDkxMzIlMjA5LjM0ODglMjA1NC4xNTA5MTMyJTIwMC4zMjY0JTIwNjAuMzAyMjgzMSUyMDAuMzI2NCUyMDYwLjMwMjI4MzElMjAxLjk4MTYlMjA1NS44OTA1MjUxJTIwMS45ODE2JTIwNTUuODkwNTI1MSUyMDMuODc1MiUyMDU4LjQ4NTk1ODklMjAzLjg3NTIlMjA1OC40ODU5NTg5JTIwNS41MjMyJTIwNTUuODkwNTI1MSUyMDUuNTIzMiUyMDU1Ljg5MDUyNTElMjA3LjcwMTYlMjA2MC41NzE1NzUzJTIwNy43MDE2JTIwNjAuNTcxNTc1MyUyMDkuMzUxMiUyMiUzRSUzQyUyRnBvbHlnb24lM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk02Ny44ODQ4MTc0JTJDOS4zNDg4JTIwTDY3Ljg4NDgxNzQlMkMwLjMyNjQlMjBMNzIuMDcwNDMzOCUyQzAuMzI2NCUyMEM3Mi42NDAxODI2JTJDMC4zMjY0JTIwNzMuMTE3MjM3NCUyQzAuNDAzMiUyMDczLjUlMkMwLjU2MjQlMjBDNzMuODgyNzYyNiUyQzAuNzE5MiUyMDc0LjE5MjgwODIlMkMwLjkyOCUyMDc0LjQyNjk0MDYlMkMxLjE4OCUyMEM3NC42NTk0NzQ5JTJDMS40NDg4JTIwNzQuODI5NjgwNCUyQzEuNzQ4OCUyMDc0LjkyOTU2NjIlMkMyLjA4OCUyMEM3NS4wMjc4NTM5JTJDMi40MjglMjA3NS4wODA1OTM2JTJDMi43ODMyJTIwNzUuMDgwNTkzNiUyQzMuMTUyJTIwQzc1LjA4MDU5MzYlMkMzLjQwNzIlMjA3NS4wNDIyMzc0JTJDMy42NjY0JTIwNzQuOTY3OTIyNCUyQzMuOTI4JTIwQzc0Ljg5MjgwODIlMkM0LjE5MDQlMjA3NC43ODQ5MzE1JTJDNC40MzkyJTIwNzQuNjM5NDk3NyUyQzQuNjc0NCUyMEM3NC40OTAwNjg1JTJDNC45MDk2JTIwNzQuMzEwMjc0JTJDNS4xMjE2JTIwNzQuMDkwNTI1MSUyQzUuMzEyOCUyMEM3My44NzM5NzI2JTJDNS41MDQlMjA3My42MTkwNjM5JTJDNS42NTM2JTIwNzMuMzMwNTkzNiUyQzUuNzU2JTIwTDc1LjA3ODk5NTQlMkM5LjM0ODglMjBMNzMuMTIyMDMyJTJDOS4zNDg4JTIwTDcxLjQzNzU1NzElMkM1Ljk4NCUyMEw2OS42MjI4MzExJTJDNS45ODQlMjBMNjkuNjIyODMxMSUyQzkuMzQ4OCUyMEw2Ny44ODQ4MTc0JTJDOS4zNDg4JTIwTDY3Ljg4NDgxNzQlMkM5LjM0ODglMjBaJTIwTTcyLjA5NjAwNDYlMkM0LjMzNDQlMjBDNzIuMzE2NTUyNSUyQzQuMzM0NCUyMDcyLjUwNjczNTIlMkM0LjMwMTYlMjA3Mi42NTQ1NjYyJTJDNC4yMzYlMjBDNzIuODA0Nzk0NSUyQzQuMTcwNCUyMDcyLjkyNzg1MzklMkM0LjA4NCUyMDczLjAxODE1MDclMkMzLjk3NTIlMjBDNzMuMTEwODQ0NyUyQzMuODY1NiUyMDczLjE3ODc2NzElMkMzLjc0JTIwNzMuMjE3OTIyNCUyQzMuNTk2JTIwQzczLjI1ODY3NTglMkMzLjQ1MzYlMjA3My4yNzU0NTY2JTJDMy4zMDU2JTIwNzMuMjc1NDU2NiUyQzMuMTUwNCUyMEM3My4yNzU0NTY2JTJDMy4wMDglMjA3My4yNTg2NzU4JTJDMi44NjQ4JTIwNzMuMjI0MzE1MSUyQzIuNzI0JTIwQzczLjE4Njc1OCUyQzIuNTgzMiUyMDczLjEyNjAyNzQlMkMyLjQ1ODQlMjA3My4wNDEzMjQyJTJDMi4zNDU2JTIwQzcyLjk1NDIyMzclMkMyLjIzNiUyMDcyLjgyOTU2NjIlMkMyLjE0NjQlMjA3Mi42NzkzMzc5JTJDMi4wNzkyJTIwQzcyLjUyOTEwOTYlMkMyLjAxMiUyMDcyLjMzMTczNTIlMkMxLjk3OTIlMjA3Mi4wOTY4MDM3JTJDMS45NzkyJTIwTDY5LjYyNjAyNzQlMkMxLjk3OTIlMjBMNjkuNjI2MDI3NCUyQzQuMzMyOCUyMEw3Mi4wOTY4MDM3JTJDNC4zMzI4JTIwTDcyLjA5NjgwMzclMkM0LjMzNDQlMjBMNzIuMDk2MDA0NiUyQzQuMzM0NCUyMFolMjIlMjBpZCUzRCUyMlNoYXBlJTIyJTNFJTNDJTJGcGF0aCUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTTg4LjE1NTI1MTElMkM5LjM0ODglMjBMODQuNTc5MzM3OSUyQzQuMDg4OCUyMEM4NC41MjAyMDU1JTJDNC4wMDE2JTIwODQuNDU3ODc2NyUyQzMuODkyJTIwODQuMzg3NTU3MSUyQzMuNzY0OCUyMEM4NC4zMTcyMzc0JTJDMy42Mzc2JTIwODQuMjU5NzAzMiUyQzMuNTE5MiUyMDg0LjIwNjE2NDQlMkMzLjQxMDQlMjBDODQuMjIyMTQ2MSUyQzMuNTA1NiUyMDg0LjIyNzczOTclMkMzLjYxODQlMjA4NC4yMzQxMzI0JTJDMy43NDk2JTIwQzg0LjI0MTMyNDIlMkMzLjg3OTIlMjA4NC4yNDY5MTc4JTJDMy45OTM2JTIwODQuMjQ2OTE3OCUyQzQuMDg4OCUyMEw4NC4yNDY5MTc4JTJDOS4zNDg4JTIwTDgyLjUxNzY5NDElMkM5LjM0ODglMjBMODIuNTE3Njk0MSUyQzAuMzI2NCUyMEw4NC4xNTAyMjgzJTJDMC4zMjY0JTIwTDg3LjYzOTA0MTElMkM1LjUyMTYlMjBDODcuNjkzMzc5JTJDNS42MDU2JTIwODcuNzU2NTA2OCUyQzUuNzEzNiUyMDg3LjgyNTIyODMlMkM1LjgzODQlMjBDODcuODk3OTQ1MiUyQzUuOTYzMiUyMDg3Ljk2MTA3MzElMkM2LjA4NTYlMjA4OC4wMTIyMTQ2JTJDNi4yMDI0JTIwQzg4LjAwMDIyODMlMkM2LjA4MjQlMjA4Ny45OTM4MzU2JTJDNS45NTY4JTIwODcuOTg1ODQ0NyUyQzUuODM1MiUyMEM4Ny45Nzc4NTM5JTJDNS43MTEyJTIwODcuOTc0NjU3NSUyQzUuNjA1NiUyMDg3Ljk3NDY1NzUlMkM1LjUyJTIwTDg3Ljk3NDY1NzUlMkMwLjMyNDglMjBMODkuNjk1ODkwNCUyQzAuMzI0OCUyMEw4OS42OTU4OTA0JTJDOS4zNDcyJTIwTDg4LjE1NTI1MTElMkM5LjM0ODglMjBMODguMTU1MjUxMSUyQzkuMzQ4OCUyMFolMjIlMjBpZCUzRCUyMlBhdGglMjIlM0UlM0MlMkZwYXRoJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcG9seWdvbiUyMGlkJTNEJTIyUGF0aCUyMiUyMHBvaW50cyUzRCUyMjk3LjQ1OTAxODMlMjA5LjM0ODglMjA5Ny40NTkwMTgzJTIwMC4zMjY0JTIwMTAzLjUwMTcxMiUyMDAuMzI2NCUyMDEwMy41MDE3MTIlMjAxLjk4MTYlMjA5OS4yMDAyMjgzJTIwMS45ODE2JTIwOTkuMjAwMjI4MyUyMDMuODc1MiUyMDEwMS45MjY3MTIlMjAzLjg3NTIlMjAxMDEuOTI2NzEyJTIwNS41MjMyJTIwOTkuMjAwMjI4MyUyMDUuNTIzMiUyMDk5LjIwMDIyODMlMjA5LjM0OTYlMjIlM0UlM0MlMkZwb2x5Z29uJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcG9seWdvbiUyMGlkJTNEJTIyUGF0aCUyMiUyMHBvaW50cyUzRCUyMjExMC41NTUyNTElMjA5LjM0ODglMjAxMTAuNTU1MjUxJTIwMC4zMjY0JTIwMTEyLjI5ODA1OSUyMDAuMzI2NCUyMDExMi4yOTgwNTklMjA3LjY3NTIlMjAxMTYuNjQ2Njg5JTIwNy42NzUyJTIwMTE2LjY0NjY4OSUyMDkuMzQ4OCUyMiUzRSUzQyUyRnBvbHlnb24lM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0Nwb2x5Z29uJTIwaWQlM0QlMjJQYXRoJTIyJTIwcG9pbnRzJTNEJTIyMTI0Ljk3Mzk3MyUyMDkuMzQ4OCUyMDEyNC45NzM5NzMlMjA1LjgzMiUyMDEyMS42MzQ1ODklMjAwLjMyNjQlMjAxMjMuNjA4MzMzJTIwMC4zMjY0JTIwMTI1LjgzNTM4OCUyMDQuMDE0NCUyMDEyOC4wNTg0NDclMjAwLjMyNjQlMjAxMzAuMDMzNzklMjAwLjMyNjQlMjAxMjYuNjk1MjA1JTIwNS44MzIlMjAxMjYuNjk1MjA1JTIwOS4zNDg4JTIyJTNFJTNDJTJGcG9seWdvbiUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQyUyRmclM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0zMy41MTQ0OTc3JTJDMTYuNTYwOCUyMEwxNi43NTg0NDc1JTJDMC4xNTM2JTIwTDAlMkMxNi41NjA4JTIwTDYuNjgwMzY1MyUyQzI2LjAzNiUyMEwxMS43NzY5NDA2JTJDMjQuODY0JTIwTDE2Ljc5MDQxMSUyQzMxLjkyMDglMjBMMjEuNzk0MjkyMiUyQzI0Ljg3NjglMjBMMjYuODM0MTMyNCUyQzI2LjAzNTIlMjBMMzMuNTE0NDk3NyUyQzE2LjU2MDglMjBaJTIwTTE2LjA2MjQ0MjklMkMzLjE5NiUyMEwxMy44OTIxMjMzJTJDMjMuMjc2OCUyMEw5Ljc0ODA1OTM2JTJDMTcuNjE3NiUyMEwxNi4wNjI0NDI5JTJDMy4xOTYlMjBaJTIwTTkuMjkzMzc5JTJDMTYuOTk2OCUyMEw2LjcxMjMyODc3JTJDMTMuNDcyJTIwTDE1LjU4Nzc4NTQlMkMyLjY4JTIwTDkuMjkzMzc5JTJDMTYuOTk2OCUyMFolMjBNMTMuMjA0MTA5NiUyQzIzLjQ2NCUyMEwxMy4yMDQxMDk2JTJDMjMuNDY0JTIwTDEzLjQ0NTQzMzglMkMyMy43OTY4JTIwTDEyLjA2MTQxNTUlMkMyNC4xMTQ0JTIwTDguODY2NjY2NjclMkMxOS42MTg0JTIwTDkuNDM3MjE0NjElMkMxOC4zMjA4JTIwTDEzLjIwNDEwOTYlMkMyMy40NjQlMjBaJTIwTTE2Ljc1NzY0ODQlMkMyLjkyOTYlMjBMMTguOTM5MTU1MyUyQzI0LjIxODQlMjBMMTYuNzUyODUzOSUyQzI3LjIxNzYlMjBMMTQuNTc0NTQzNCUyQzI0LjIxODQlMjBMMTYuNzU3NjQ4NCUyQzIuOTI5NiUyMFolMjBNMjAuMzA5NTg5JTJDMjMuNDY0OCUyMEwyNC4xMTgwMzY1JTJDMTguMjY0OCUyMEwyNC43MTQxNTUzJTJDMTkuNjE4NCUyMEwyMS41MTA2MTY0JTJDMjQuMTI4JTIwTDIwLjA3MTQ2MTIlMkMyMy43OTY4JTIwTDIwLjMxMTk4NjMlMkMyMy40NjY0JTIwTDIwLjMwOTU4OSUyQzIzLjQ2NDglMjBaJTIwTTE5LjYyMjM3NDQlMkMyMy4yNzY4JTIwTDE3LjQ4MDAyMjglMkMzLjE3OTIlMjBMMjMuODA3OTkwOSUyQzE3LjU2MDglMjBMMTkuNjIyMzc0NCUyQzIzLjI3NjglMjBaJTIwTTE3Ljk4NTA0NTclMkMyLjY3NjglMjBMMjYuODAyMTY4OSUyQzEzLjQ3MiUyMEwyNC4yNjI2NzEyJTJDMTYuOTQlMjBMMTcuOTg1MDQ1NyUyQzIuNjc2OCUyMFolMjBNNi45NjY0MzgzNiUyQzI1LjI4NTYlMjBMMC44NzAyMDU0NzklMkMxNi42NDA4JTIwTDEyLjc5ODk3MjYlMkM0Ljk2NzIlMjBMNS44NzA4OTA0MSUyQzEzLjQ1MDQlMjBMOC45ODQxMzI0MiUyQzE3LjcwMDglMjBMOC4xMDU5MzYwNyUyQzE5LjY5NiUyMEwxMS4zNTk4MTc0JTJDMjQuMjc2OCUyMEw2Ljk2NjQzODM2JTJDMjUuMjg1NiUyMFolMjBNMTYuNzkwNDExJTJDMzAuNzcxMiUyMEwxMi40Nzg1Mzg4JTJDMjQuNzAzMiUyMEwxMy44NzA1NDc5JTJDMjQuMzgyNCUyMEwxNi43NTEyNTU3JTJDMjguMzQ5NiUyMEwxOS42NDE1NTI1JTJDMjQuMzgyNCUyMEwyMS4wOTEwOTU5JTJDMjQuNzE2OCUyMEwxNi43OTA0MTElMkMzMC43NzEyJTIwWiUyME0yMi4yMTE0MTU1JTJDMjQuMjg5NiUyMEwyNS40NzQwODY4JTJDMTkuNjk2JTIwTDI0LjU3MTkxNzglMkMxNy42NDQ4JTIwTDI3LjY0MzYwNzMlMkMxMy40NTA0JTIwTDIwLjcxNTUyNTElMkM0Ljk2NzIlMjBMMzIuNjQzNDkzMiUyQzE2LjY0MDglMjBMMjYuNTQ4MDU5NCUyQzI1LjI4NjQlMjBMMjIuMjExNDE1NSUyQzI0LjI4OTYlMjBaJTIyJTIwaWQlM0QlMjJTaGFwZSUyMiUyMGZpbGwlM0QlMjJ1cmwlMjglMjNsaW5lYXJHcmFkaWVudC0xJTI5JTIyJTNFJTNDJTJGcGF0aCUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQyUyRmclM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZnJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGZyUzRSUyMCUyMCUyMCUyMCUzQyUyRmclM0UlM0MlMkZzdmclM0VcIjtcblxudmFyIEFwcExheW91dCA9IGZ1bmN0aW9uIEFwcExheW91dChfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHRydWUpLFxuICAgICAgaXNOYXZPcGVuID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0SXNOYXZPcGVuID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciBfdXNlU3RhdGUyID0gdXNlU3RhdGUodHJ1ZSksXG4gICAgICBpc01vYmlsZVZpZXcgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0SXNNb2JpbGVWaWV3ID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIGlzTmF2T3Blbk1vYmlsZSA9IF91c2VTdGF0ZTNbMF0sXG4gICAgICBzZXRJc05hdk9wZW5Nb2JpbGUgPSBfdXNlU3RhdGUzWzFdO1xuXG4gIHZhciBfdXNlVHJhbnNsYXRpb24gPSB1c2VUcmFuc2xhdGlvbigpLFxuICAgICAgdCA9IF91c2VUcmFuc2xhdGlvbi50O1xuXG4gIHZhciBvbk5hdlRvZ2dsZU1vYmlsZSA9IGZ1bmN0aW9uIG9uTmF2VG9nZ2xlTW9iaWxlKCkge1xuICAgIHNldElzTmF2T3Blbk1vYmlsZSghaXNOYXZPcGVuTW9iaWxlKTtcbiAgfTtcblxuICB2YXIgb25OYXZUb2dnbGUgPSBmdW5jdGlvbiBvbk5hdlRvZ2dsZSgpIHtcbiAgICBzZXRJc05hdk9wZW4oIWlzTmF2T3Blbik7XG4gIH07XG5cbiAgdmFyIG9uUGFnZVJlc2l6ZSA9IGZ1bmN0aW9uIG9uUGFnZVJlc2l6ZShwcm9wcykge1xuICAgIHNldElzTW9iaWxlVmlldyhwcm9wcy5tb2JpbGVWaWV3KTtcbiAgfTtcblxuICB2YXIgSGVhZGVyVG9vbHMgPSBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBhZ2VIZWFkZXJUb29scywgbnVsbCwgJ2VtYWlsJyk7XG4gIHZhciBIZWFkZXIgPSBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBhZ2VIZWFkZXIsIHtcbiAgICBsb2dvOiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KExvZ29JbWcsIG51bGwpLFxuICAgIHNob3dOYXZUb2dnbGU6IHRydWUsXG4gICAgaXNOYXZPcGVuOiBpc05hdk9wZW4sXG4gICAgaGVhZGVyVG9vbHM6IEhlYWRlclRvb2xzLFxuICAgIG9uTmF2VG9nZ2xlOiBpc01vYmlsZVZpZXcgPyBvbk5hdlRvZ2dsZU1vYmlsZSA6IG9uTmF2VG9nZ2xlLFxuICAgIFwiYXJpYS1sYWJlbFwiOiAnZ2xvYmFsX25hdmlnYXRpb24nXG4gIH0pO1xuICB2YXIgTmF2aWdhdGlvbiA9IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTmF2LCB7XG4gICAgaWQ6IFwibmF2LXByaW1hcnktc2ltcGxlXCIsXG4gICAgcm9sZTogXCJuYXZpZ2F0aW9uXCIsXG4gICAgdGhlbWU6IFwiZGFya1wiLFxuICAgIFwiYXJpYS1sYWJlbFwiOiAnZ2xvYmFsJ1xuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KE5hdkxpc3QsIHtcbiAgICBpZDogXCJuYXYtbGlzdC1zaW1wbGVcIlxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KE5hdkl0ZW0sIHtcbiAgICBpZDogJ2Nvbm5lY3RvcnMnXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTmF2TGluaywge1xuICAgIHRvOiAnLycsXG4gICAgYWN0aXZlQ2xhc3NOYW1lOiBcInBmLW0tY3VycmVudFwiXG4gIH0sIHQoJ21hbmFnZWRDb25uZWN0b3JzJykpKSkpO1xuICB2YXIgU2lkZWJhciA9IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGFnZVNpZGViYXIsIHtcbiAgICB0aGVtZTogXCJkYXJrXCIsXG4gICAgbmF2OiBOYXZpZ2F0aW9uLFxuICAgIGlzTmF2T3BlbjogaXNNb2JpbGVWaWV3ID8gaXNOYXZPcGVuTW9iaWxlIDogaXNOYXZPcGVuXG4gIH0pO1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdlLCB7XG4gICAgbWFpbkNvbnRhaW5lcklkOiBcInByaW1hcnktYXBwLWNvbnRhaW5lclwiLFxuICAgIHJvbGU6IFwibWFpblwiLFxuICAgIGhlYWRlcjogSGVhZGVyLFxuICAgIHNpZGViYXI6IFNpZGViYXIsXG4gICAgb25QYWdlUmVzaXplOiBvblBhZ2VSZXNpemVcbiAgfSwgY2hpbGRyZW4pO1xufTtcblxuZnVuY3Rpb24gTG9nb0ltZygpIHtcbiAgdmFyIGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ2xpY2soKSB7XG4gICAgaGlzdG9yeS5wdXNoKCcvJyk7XG4gIH1cblxuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7XG4gICAgc3JjOiBsb2dvLFxuICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLFxuICAgIGFsdDogXCJQYXR0ZXJuRmx5IExvZ29cIlxuICB9KTtcbn1cblxudmFyIEFwcENvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChudWxsKTtcbnZhciBBcHBDb250ZXh0UHJvdmlkZXIgPSBmdW5jdGlvbiBBcHBDb250ZXh0UHJvdmlkZXIoX3JlZikge1xuICB2YXIgZ2V0VG9rZW4gPSBfcmVmLmdldFRva2VuLFxuICAgICAgYmFzZVBhdGggPSBfcmVmLmJhc2VQYXRoLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChBcHBDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHtcbiAgICAgIGdldFRva2VuOiBnZXRUb2tlbixcbiAgICAgIGJhc2VQYXRoOiBiYXNlUGF0aFxuICAgIH1cbiAgfSwgY2hpbGRyZW4pO1xufTtcbnZhciB1c2VBcHBDb250ZXh0ID0gZnVuY3Rpb24gdXNlQXBwQ29udGV4dCgpIHtcbiAgdmFyIGNvbnRleHQgPSB1c2VDb250ZXh0KEFwcENvbnRleHQpO1xuICBpZiAoIWNvbnRleHQpIHRocm93IG5ldyBFcnJvcigndXNlQXBwQ29udGV4dCBtdXN0IGJlIHVzZWQgaW5zaWRlIGFuIEFwcENvbnRleHRQcm92aWRlcicpO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIGNvbnRleHQpO1xufTtcblxuZnVuY3Rpb24gc3R5bGVJbmplY3QoY3NzLCByZWYpIHtcbiAgaWYgKHJlZiA9PT0gdm9pZCAwKSByZWYgPSB7fTtcbiAgdmFyIGluc2VydEF0ID0gcmVmLmluc2VydEF0O1xuXG4gIGlmICghY3NzIHx8IHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7XG5cbiAgaWYgKGluc2VydEF0ID09PSAndG9wJykge1xuICAgIGlmIChoZWFkLmZpcnN0Q2hpbGQpIHtcbiAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBoZWFkLmZpcnN0Q2hpbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgY3NzXzI0OHogPSBcIi5jb25uZWN0b3ItZHJhd2VyX19oZWFkZXItdGV4dHttYXJnaW4tYm90dG9tOjAhaW1wb3J0YW50fS5jb25uZWN0b3ItZHJhd2VyX19oZWFkZXItdGl0bGV7bWFyZ2luLXRvcDowIWltcG9ydGFudH0uY29ubmVjdG9yLWRyYXdlcl9fdGFiLWNvbnRlbnR7cGFkZGluZy1ib3R0b206dmFyKC0tcGYtZ2xvYmFsLS1zcGFjZXItLWxnKTtwYWRkaW5nLXRvcDp2YXIoLS1wZi1nbG9iYWwtLXNwYWNlci0tbGcpfVwiO1xuc3R5bGVJbmplY3QoY3NzXzI0OHopO1xuXG52YXIgQ29ubmVjdG9yRHJhd2VyID0gZnVuY3Rpb24gQ29ubmVjdG9yRHJhd2VyKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcblxuICB2YXIgX3VzZVRyYW5zbGF0aW9uID0gdXNlVHJhbnNsYXRpb24oKSxcbiAgICAgIHQgPSBfdXNlVHJhbnNsYXRpb24udDtcblxuICB2YXIgc2VydmljZSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lU2VydmljZSgpO1xuXG4gIHZhciBfdXNlQ29ubmVjdG9yc01hY2hpbmUgPSB1c2VDb25uZWN0b3JzTWFjaGluZShzZXJ2aWNlKSxcbiAgICAgIHNlbGVjdGVkQ29ubmVjdG9yID0gX3VzZUNvbm5lY3RvcnNNYWNoaW5lLnNlbGVjdGVkQ29ubmVjdG9yLFxuICAgICAgZGVzZWxlY3RDb25uZWN0b3IgPSBfdXNlQ29ubmVjdG9yc01hY2hpbmUuZGVzZWxlY3RDb25uZWN0b3I7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKDApLFxuICAgICAgYWN0aXZlVGFiS2V5ID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0QWN0aXZlVGFiS2V5ID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciBzZWxlY3RBY3RpdmVLZXkgPSBmdW5jdGlvbiBzZWxlY3RBY3RpdmVLZXkoXywgZXZlbnRLZXkpIHtcbiAgICBzZXRBY3RpdmVUYWJLZXkoZXZlbnRLZXkpO1xuICB9O1xuXG4gIHZhciB0ZXh0TGlzdEl0ZW0gPSBmdW5jdGlvbiB0ZXh0TGlzdEl0ZW0odGl0bGUsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsIG51bGwsIHZhbHVlICYmIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGV4dExpc3RJdGVtLCB7XG4gICAgICBjb21wb25lbnQ6IFRleHRMaXN0SXRlbVZhcmlhbnRzLmR0XG4gICAgfSwgdGl0bGUpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRleHRMaXN0SXRlbSwge1xuICAgICAgY29tcG9uZW50OiBUZXh0TGlzdEl0ZW1WYXJpYW50cy5kZFxuICAgIH0sIHZhbHVlKSkpO1xuICB9O1xuXG4gIHZhciBwYW5lbENvbnRlbnQgPSBmdW5jdGlvbiBwYW5lbENvbnRlbnQoKSB7XG4gICAgdmFyIF9zZWxlY3RlZENvbm5lY3RvciRtZSwgX3NlbGVjdGVkQ29ubmVjdG9yJGthLCBfc2VsZWN0ZWRDb25uZWN0b3IkbWUyLCBfc2VsZWN0ZWRDb25uZWN0b3IkbWUzLCBfc2VsZWN0ZWRDb25uZWN0b3IkbWU0O1xuXG4gICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRHJhd2VyUGFuZWxDb250ZW50LCB7XG4gICAgICB3aWR0aHM6IHtcbiAgICAgICAgXCJkZWZhdWx0XCI6ICd3aWR0aF81MCdcbiAgICAgIH1cbiAgICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KERyYXdlckhlYWQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGV4dENvbnRlbnQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgICAgY29tcG9uZW50OiBUZXh0VmFyaWFudHMuc21hbGwsXG4gICAgICBjbGFzc05hbWU6IFwiY29ubmVjdG9yLWRyYXdlcl9faGVhZGVyLXRleHRcIlxuICAgIH0sIFwiQ29ubmVjdG9yIG5hbWVcIiksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGl0bGUsIHtcbiAgICAgIGhlYWRpbmdMZXZlbDogJ2gyJyxcbiAgICAgIHNpemU6IFRpdGxlU2l6ZXNbJ3hsJ10sXG4gICAgICBjbGFzc05hbWU6IFwiY29ubmVjdG9yLWRyYXdlcl9faGVhZGVyLXRpdGxlXCJcbiAgICB9LCBzZWxlY3RlZENvbm5lY3RvciA9PSBudWxsID8gdm9pZCAwIDogKF9zZWxlY3RlZENvbm5lY3RvciRtZSA9IHNlbGVjdGVkQ29ubmVjdG9yLm1ldGFkYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX3NlbGVjdGVkQ29ubmVjdG9yJG1lLm5hbWUpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChEcmF3ZXJBY3Rpb25zLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KERyYXdlckNsb3NlQnV0dG9uLCB7XG4gICAgICBvbkNsaWNrOiBkZXNlbGVjdENvbm5lY3RvclxuICAgIH0pKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRHJhd2VyUGFuZWxCb2R5LCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRhYnMsIHtcbiAgICAgIGFjdGl2ZUtleTogYWN0aXZlVGFiS2V5LFxuICAgICAgb25TZWxlY3Q6IHNlbGVjdEFjdGl2ZUtleVxuICAgIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGFiLCB7XG4gICAgICBldmVudEtleTogMCxcbiAgICAgIHRpdGxlOiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRhYlRpdGxlVGV4dCwgbnVsbCwgdCgnb3ZlcnZpZXcnKSlcbiAgICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjb25uZWN0b3ItZHJhd2VyX190YWItY29udGVudFwiXG4gICAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUZXh0Q29udGVudCwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUZXh0TGlzdCwge1xuICAgICAgY29tcG9uZW50OiBUZXh0TGlzdFZhcmlhbnRzLmRsXG4gICAgfSwgdGV4dExpc3RJdGVtKCdCb290c3RyYXAgc2VydmVyJywgc2VsZWN0ZWRDb25uZWN0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IChfc2VsZWN0ZWRDb25uZWN0b3Ika2EgPSBzZWxlY3RlZENvbm5lY3Rvci5rYWZrYSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zZWxlY3RlZENvbm5lY3RvciRrYS5ib290c3RyYXBfc2VydmVyKSwgdGV4dExpc3RJdGVtKCdDb25uZWN0b3InLCBzZWxlY3RlZENvbm5lY3RvciA9PSBudWxsID8gdm9pZCAwIDogKF9zZWxlY3RlZENvbm5lY3RvciRtZTIgPSBzZWxlY3RlZENvbm5lY3Rvci5tZXRhZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zZWxlY3RlZENvbm5lY3RvciRtZTIubmFtZSksIHRleHRMaXN0SXRlbSgnS2Fma2FfaW5zdGFuY2UnLCBzZWxlY3RlZENvbm5lY3RvciA9PSBudWxsID8gdm9pZCAwIDogKF9zZWxlY3RlZENvbm5lY3RvciRtZTMgPSBzZWxlY3RlZENvbm5lY3Rvci5tZXRhZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zZWxlY3RlZENvbm5lY3RvciRtZTMua2Fma2FfaWQpLCB0ZXh0TGlzdEl0ZW0oJ093bmVyJywgc2VsZWN0ZWRDb25uZWN0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IChfc2VsZWN0ZWRDb25uZWN0b3IkbWU0ID0gc2VsZWN0ZWRDb25uZWN0b3IubWV0YWRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfc2VsZWN0ZWRDb25uZWN0b3IkbWU0Lm93bmVyKSkpKSkpKSk7XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRHJhd2VyLCB7XG4gICAgaXNFeHBhbmRlZDogc2VsZWN0ZWRDb25uZWN0b3IgIT09IHVuZGVmaW5lZFxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KERyYXdlckNvbnRlbnQsIHtcbiAgICBwYW5lbENvbnRlbnQ6IHBhbmVsQ29udGVudCgpXG4gIH0sIGNoaWxkcmVuKSk7XG59O1xuXG52YXIgY3NzXzI0OHokMSA9IFwiLmNvbm5lY3RvcnMtdGFibGUtdmlld19fdGFibGV7LS1wZi1jLXRhYmxlLXJvd19faXRlbS0tbS1zZWxlY3RlZC0tWkluZGV4OnZhcigtLXBmLWdsb2JhbC0tWkluZGV4LS14cyk7LS1wZi1jLXRhYmxlLXJvd19faXRlbS0tbS1zZWxlY3RlZC0tQm94U2hhZG93OnZhcigtLXBmLWdsb2JhbC0tQm94U2hhZG93LS1zbS10b3ApLHZhcigtLXBmLWdsb2JhbC0tQm94U2hhZG93LS1zbS1ib3R0b20pOy0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLW0tc2VsZWN0YWJsZS0tZm9jdXMtLUJveFNoYWRvdzp2YXIoLS1wZi1nbG9iYWwtLUJveFNoYWRvdy0tc20tdG9wKSx2YXIoLS1wZi1nbG9iYWwtLUJveFNoYWRvdy0tc20tYm90dG9tKTstLXBmLWMtdGFibGUtcm93X19pdGVtLS1tLXNlbGVjdGFibGUtLWhvdmVyLS1aSW5kZXg6Y2FsYyh2YXIoLS1wZi1jLXRhYmxlLXJvd19faXRlbS0tbS1zZWxlY3RlZC0tWkluZGV4KSArIDEpOy0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLWJlZm9yZS0tQmFja2dyb3VuZENvbG9yOnRyYW5zcGFyZW50Oy0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLW0tc2VsZWN0ZWQtLWJlZm9yZS0tQmFja2dyb3VuZENvbG9yOnZhcigtLXBmLWdsb2JhbC0tYWN0aXZlLWNvbG9yLS0xMDApOy0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLWJlZm9yZS0tVG9wOjA7LS1wZi1jLXRhYmxlLXJvd19faXRlbS0tYmVmb3JlLS1XaWR0aDp2YXIoLS1wZi1nbG9iYWwtLUJvcmRlcldpZHRoLS1sZyk7LS1wZi1jLXRhYmxlLXJvd19faXRlbS0tYmVmb3JlLS1UcmFuc2l0aW9uOnZhcigtLXBmLWdsb2JhbC0tVHJhbnNpdGlvbik7LS1wZi1jLXRhYmxlLXJvd19faXRlbS0tbS1zZWxlY3RhYmxlLS1hY3RpdmUtLUJveFNoYWRvdzp2YXIoLS1wZi1nbG9iYWwtLUJveFNoYWRvdy0tc20tdG9wKSx2YXIoLS1wZi1nbG9iYWwtLUJveFNoYWRvdy0tc20tYm90dG9tKTstLXBmLWMtdGFibGUtcm93X19pdGVtLS1tLXNlbGVjdGFibGUtLU91dGxpbmVPZmZzZXQ6Y2FsYyh2YXIoLS1wZi1nbG9iYWwtLXNwYWNlci0teHMpKi0xKTstLXBmLWMtdGFibGUtcm93X19pdGVtLS1tLXNlbGVjdGFibGUtLWhvdmVyLS1Cb3hTaGFkb3c6dmFyKC0tcGYtZ2xvYmFsLS1Cb3hTaGFkb3ctLXNtLXRvcCksdmFyKC0tcGYtZ2xvYmFsLS1Cb3hTaGFkb3ctLXNtLWJvdHRvbSk7bWFyZ2luLWJvdHRvbTp2YXIoLS1wZi1nbG9iYWwtLXNwYWNlci0teHMpfUBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6NzY4cHgpey5wZi1jLXRhYmxlLXJvd19faXRlbSB0ZDpmaXJzdC1jaGlsZDpiZWZvcmV7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1wZi1jLXRhYmxlLXJvd19faXRlbS0tYmVmb3JlLS1CYWNrZ3JvdW5kQ29sb3IpO2JvdHRvbTowO2NvbnRlbnQ6XFxcIlxcXCI7bGVmdDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDp2YXIoLS1wZi1jLXRhYmxlLXJvd19faXRlbS0tYmVmb3JlLS1Ub3ApO3RyYW5zaXRpb246dmFyKC0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLWJlZm9yZS0tVHJhbnNpdGlvbik7d2lkdGg6dmFyKC0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLWJlZm9yZS0tV2lkdGgpfX0ucGYtYy10YWJsZS1yb3dfX2l0ZW0ucGYtbS1zZWxlY3RhYmxle2N1cnNvcjpwb2ludGVyO291dGxpbmUtb2Zmc2V0OnZhcigtLXBmLWMtdGFibGUtcm93X19pdGVtLS1tLXNlbGVjdGFibGUtLU91dGxpbmVPZmZzZXQpfS5wZi1jLXRhYmxlLXJvd19faXRlbS5wZi1tLXNlbGVjdGFibGU6Zm9jdXMsLnBmLWMtdGFibGUtcm93X19pdGVtLnBmLW0tc2VsZWN0YWJsZTpob3Zlcntwb3NpdGlvbjpyZWxhdGl2ZTt6LWluZGV4OnZhcigtLXBmLWMtdGFibGUtcm93X19pdGVtLS1tLXNlbGVjdGFibGUtLWhvdmVyLS1aSW5kZXgpfS5wZi1jLXRhYmxlLXJvd19faXRlbS5wZi1tLXNlbGVjdGFibGU6aG92ZXJ7Ym94LXNoYWRvdzp2YXIoLS1wZi1jLXRhYmxlLXJvd19faXRlbS0tbS1zZWxlY3RhYmxlLS1ob3Zlci0tQm94U2hhZG93KX0ucGYtYy10YWJsZS1yb3dfX2l0ZW0ucGYtbS1zZWxlY3RhYmxlOmZvY3Vze2JveC1zaGFkb3c6dmFyKC0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLW0tc2VsZWN0YWJsZS0tZm9jdXMtLUJveFNoYWRvdyl9LnBmLWMtdGFibGUtcm93X19pdGVtLnBmLW0tc2VsZWN0YWJsZTphY3RpdmV7Ym94LXNoYWRvdzp2YXIoLS1wZi1jLXRhYmxlLXJvd19faXRlbS0tbS1zZWxlY3RhYmxlLS1hY3RpdmUtLUJveFNoYWRvdyl9LnBmLWMtdGFibGUtcm93X19pdGVtLnBmLW0tc2VsZWN0YWJsZS5wZi1tLXNlbGVjdGVkey0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLWJlZm9yZS0tQmFja2dyb3VuZENvbG9yOnZhcigtLXBmLWMtdGFibGUtcm93X19pdGVtLS1tLXNlbGVjdGVkLS1iZWZvcmUtLUJhY2tncm91bmRDb2xvcik7Ym94LXNoYWRvdzp2YXIoLS1wZi1jLXRhYmxlLXJvd19faXRlbS0tbS1zZWxlY3RlZC0tQm94U2hhZG93KTtwb3NpdGlvbjpyZWxhdGl2ZTt6LWluZGV4OnZhcigtLXBmLWMtdGFibGUtcm93X19pdGVtLS1tLXNlbGVjdGVkLS1aSW5kZXgpfS5wZi1jLXRhYmxlLXJvd19faXRlbS5wZi1tLWRpc2FibGVkIHRke2NvbG9yOnZhcigtLXBmLWdsb2JhbC0tQ29sb3ItLTIwMCl9XCI7XG5zdHlsZUluamVjdChjc3NfMjQ4eiQxKTtcblxudmFyIGNzc18yNDh6JDIgPSBcIi5jb3MtLWNvbm5lY3RvcnNfX3RhYmxlLS1pY29uLS1jb21wbGV0ZWR7Y29sb3I6dmFyKC0tcGYtZ2xvYmFsLS1zdWNjZXNzLWNvbG9yLS0xMDApfS5jb3MtLWNvbm5lY3RvcnNfX3RhYmxlLS1pY29uLS1mYWlsZWR7Y29sb3I6dmFyKC0tcGYtZ2xvYmFsLS1kYW5nZXItY29sb3ItLTEwMCl9XCI7XG5zdHlsZUluamVjdChjc3NfMjQ4eiQyKTtcblxudmFyIENvbm5lY3RvclN0YXR1c0ljb24gPSBmdW5jdGlvbiBDb25uZWN0b3JTdGF0dXNJY29uKF9yZWYpIHtcbiAgdmFyIGlkID0gX3JlZi5pZCxcbiAgICAgIHN0YXR1cyA9IF9yZWYuc3RhdHVzO1xuXG4gIHN3aXRjaCAoc3RhdHVzID09IG51bGwgPyB2b2lkIDAgOiBzdGF0dXMudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ3JlYWR5JzpcbiAgICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENoZWNrQ2lyY2xlSWNvbiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY29zLS1jb25uZWN0b3JzX190YWJsZS0taWNvbi0tY29tcGxldGVkXCJcbiAgICAgIH0pO1xuXG4gICAgY2FzZSAnZmFpbGVkJzpcbiAgICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEV4Y2xhbWF0aW9uQ2lyY2xlSWNvbiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY29zLS1jb25uZWN0b3JzX190YWJsZS0taWNvbi0tZmFpbGVkXCJcbiAgICAgIH0pO1xuXG4gICAgY2FzZSAnYWNjZXB0ZWQnOlxuICAgICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGVuZGluZ0ljb24sIG51bGwpO1xuXG4gICAgY2FzZSAncHJvdmlzaW9uaW5nJzpcbiAgICBjYXNlICdwcmVwYXJpbmcnOlxuICAgICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU3Bpbm5lciwge1xuICAgICAgICBzaXplOiBcIm1kXCIsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBpZCxcbiAgICAgICAgXCJhcmlhLXZhbHVldGV4dFwiOiBcIkNyZWF0aW9uIGluIHByb2dyZXNzXCJcbiAgICAgIH0pO1xuXG4gICAgY2FzZSAnZGVwcm92aXNpb24nOlxuICAgIGNhc2UgJ2RlbGV0ZWQnOlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQZW5kaW5nSWNvbiwgbnVsbCk7XG59O1xuXG52YXIgQ29ubmVjdG9yc1BhZ2luYXRpb24gPSBmdW5jdGlvbiBDb25uZWN0b3JzUGFnaW5hdGlvbihfcmVmKSB7XG4gIHZhciBfcmVmJGlzQ29tcGFjdCA9IF9yZWYuaXNDb21wYWN0LFxuICAgICAgaXNDb21wYWN0ID0gX3JlZiRpc0NvbXBhY3QgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRpc0NvbXBhY3Q7XG4gIHZhciBzZXJ2aWNlID0gdXNlQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlKCk7XG5cbiAgdmFyIF91c2VDb25uZWN0b3JzTWFjaGluZSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lKHNlcnZpY2UpLFxuICAgICAgcmVxdWVzdCA9IF91c2VDb25uZWN0b3JzTWFjaGluZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2UgPSBfdXNlQ29ubmVjdG9yc01hY2hpbmUucmVzcG9uc2U7XG5cbiAgdmFyIG9uQ2hhbmdlID0gZnVuY3Rpb24gb25DaGFuZ2UocmVxdWVzdCkge1xuICAgIHJldHVybiBzZXJ2aWNlLnNlbmQoX2V4dGVuZHMoe1xuICAgICAgdHlwZTogJ2FwaS5xdWVyeSdcbiAgICB9LCByZXF1ZXN0KSk7XG4gIH07XG5cbiAgdmFyIGRlZmF1bHRQZXJQYWdlT3B0aW9ucyA9IFt7XG4gICAgdGl0bGU6ICcxJyxcbiAgICB2YWx1ZTogMVxuICB9LCB7XG4gICAgdGl0bGU6ICc1JyxcbiAgICB2YWx1ZTogNVxuICB9LCB7XG4gICAgdGl0bGU6ICcxMCcsXG4gICAgdmFsdWU6IDEwXG4gIH1dO1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdpbmF0aW9uLCB7XG4gICAgaXRlbUNvdW50OiAocmVzcG9uc2UgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3BvbnNlLnRvdGFsKSB8fCAwLFxuICAgIHBhZ2U6IHJlcXVlc3QucGFnZSxcbiAgICBwZXJQYWdlOiByZXF1ZXN0LnNpemUsXG4gICAgcGVyUGFnZU9wdGlvbnM6IGRlZmF1bHRQZXJQYWdlT3B0aW9ucyxcbiAgICBvblNldFBhZ2U6IGZ1bmN0aW9uIG9uU2V0UGFnZShfLCBwYWdlLCBzaXplKSB7XG4gICAgICByZXR1cm4gb25DaGFuZ2UoX2V4dGVuZHMoe30sIHJlcXVlc3QsIHtcbiAgICAgICAgcGFnZTogcGFnZSxcbiAgICAgICAgc2l6ZTogc2l6ZSB8fCByZXF1ZXN0LnNpemVcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIG9uUGVyUGFnZVNlbGVjdDogZnVuY3Rpb24gb25QZXJQYWdlU2VsZWN0KCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgdmFyaWFudDogXCJ0b3BcIixcbiAgICBpc0NvbXBhY3Q6IGlzQ29tcGFjdFxuICB9KTtcbn07XG5cbnZhciBDb25uZWN0b3JzVG9vbGJhciA9IGZ1bmN0aW9uIENvbm5lY3RvcnNUb29sYmFyKCkge1xuICB2YXIgc2VydmljZSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lU2VydmljZSgpO1xuXG4gIHZhciBfdXNlQ29ubmVjdG9yc01hY2hpbmUgPSB1c2VDb25uZWN0b3JzTWFjaGluZShzZXJ2aWNlKSxcbiAgICAgIHJlcXVlc3QgPSBfdXNlQ29ubmVjdG9yc01hY2hpbmUucmVxdWVzdDtcblxuICB2YXIgb25DaGFuZ2UgPSBmdW5jdGlvbiBvbkNoYW5nZShyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIHNlcnZpY2Uuc2VuZChfZXh0ZW5kcyh7XG4gICAgICB0eXBlOiAnYXBpLnF1ZXJ5J1xuICAgIH0sIHJlcXVlc3QpKTtcbiAgfTtcblxuICB2YXIgc2VhcmNoSW5wdXRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBkZWJvdW5jZWRPbkNoYW5nZSA9IHVzZURlYm91bmNlKG9uQ2hhbmdlLCAxMDAwKTsgLy8gY29uc3QgW3N0YXR1c2VzLCBzZXRTdGF0dXNlc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW1xuICAvLyAgICdQZW5kaW5nJyxcbiAgLy8gICAnQ3JlYXRlZCcsXG4gIC8vICAgJ0NhbmNlbGxlZCcsXG4gIC8vIF0pO1xuICAvLyBjb25zdCBbc3RhdHVzZXNUb2dnbGVkLCBzZXRTdGF0dXNlc1RvZ2dsZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvLyBjb25zdCBjbGVhckFsbEZpbHRlcnMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gIC8vICAgc2V0U2VhcmNoVmFsdWUoJycpO1xuICAvLyAgIHNldFN0YXR1c2VzKFtdKTtcbiAgLy8gfSwgW10pO1xuICAvLyBjb25zdCB0b2dnbGVTdGF0dXNlcyA9IHVzZUNhbGxiYWNrKFxuICAvLyAgICgpID0+IHNldFN0YXR1c2VzVG9nZ2xlZChwcmV2ID0+ICFwcmV2KSxcbiAgLy8gICBbXVxuICAvLyApO1xuICAvLyBjb25zdCBvblNlbGVjdFN0YXR1cyA9IHVzZUNhbGxiYWNrKFxuICAvLyAgIChfLCBzdGF0dXMpID0+XG4gIC8vICAgICBzZXRTdGF0dXNlcyhwcmV2ID0+XG4gIC8vICAgICAgIHByZXYuaW5jbHVkZXMoc3RhdHVzKVxuICAvLyAgICAgICAgID8gcHJldi5maWx0ZXIocyA9PiBzICE9PSBzdGF0dXMpXG4gIC8vICAgICAgICAgOiBbLi4ucHJldiwgc3RhdHVzXVxuICAvLyAgICAgKSxcbiAgLy8gICBbXVxuICAvLyApO1xuICAvLyBjb25zdCBzdGF0dXNNZW51SXRlbXMgPSBbXG4gIC8vICAgPFNlbGVjdE9wdGlvbiBrZXk9XCJzdGF0dXNQZW5kaW5nXCIgdmFsdWU9XCJQZW5kaW5nXCIgLz4sXG4gIC8vICAgPFNlbGVjdE9wdGlvbiBrZXk9XCJzdGF0dXNDcmVhdGVkXCIgdmFsdWU9XCJDcmVhdGVkXCIgLz4sXG4gIC8vICAgPFNlbGVjdE9wdGlvbiBrZXk9XCJzdGF0dXNDYW5jZWxsZWRcIiB2YWx1ZT1cIkNhbmNlbGxlZFwiIC8+LFxuICAvLyBdO1xuICAvLyBlbnN1cmUgdGhlIHNlYXJjaCBpbnB1dCB2YWx1ZSByZWZsZWN0cyB3aGF0J3Mgc3BlY2lmaWVkIGluIHRoZSByZXF1ZXN0IG9iamVjdFxuICAvLyB1c2VFZmZlY3QoKCkgPT4ge1xuICAvLyAgIGlmIChzZWFyY2hJbnB1dFJlZi5jdXJyZW50KSB7XG4gIC8vICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50LnZhbHVlID0gKHJlcXVlc3QubmFtZSBhcyBzdHJpbmcgfCB1bmRlZmluZWQpIHx8ICcnO1xuICAvLyAgIH1cbiAgLy8gfSwgW3NlYXJjaElucHV0UmVmLCByZXF1ZXN0XSk7XG5cbiAgdmFyIHRvZ2dsZUdyb3VwSXRlbXMgPSBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRvb2xiYXJJdGVtLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KElucHV0R3JvdXAsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGV4dElucHV0LCB7XG4gICAgbmFtZTogXCJ0ZXh0SW5wdXQyXCIsXG4gICAgaWQ6IFwidGV4dElucHV0MlwiLFxuICAgIHR5cGU6IFwic2VhcmNoXCIsXG4gICAgXCJhcmlhLWxhYmVsXCI6IFwic2VhcmNoIGlucHV0IGV4YW1wbGVcIixcbiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UodmFsdWUpIHtcbiAgICAgIHJldHVybiBkZWJvdW5jZWRPbkNoYW5nZSh7XG4gICAgICAgIHNpemU6IHJlcXVlc3Quc2l6ZSxcbiAgICAgICAgcGFnZTogMSxcbiAgICAgICAgbmFtZTogdmFsdWVcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgcmVmOiBzZWFyY2hJbnB1dFJlZlxuICB9KSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB2YXJpYW50OiAnY29udHJvbCcsXG4gICAgXCJhcmlhLWxhYmVsXCI6IFwic2VhcmNoIGJ1dHRvbiBmb3Igc2VhcmNoIGlucHV0XCJcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTZWFyY2hJY29uLCBudWxsKSkpKSk7XG4gIHZhciB0b29sYmFySXRlbXMgPSBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRvb2xiYXJUb2dnbGVHcm91cCwge1xuICAgIHRvZ2dsZUljb246IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRmlsdGVySWNvbiwgbnVsbCksXG4gICAgYnJlYWtwb2ludDogXCJ4bFwiXG4gIH0sIHRvZ2dsZUdyb3VwSXRlbXMpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRvb2xiYXJHcm91cCwge1xuICAgIHZhcmlhbnQ6IFwiaWNvbi1idXR0b24tZ3JvdXBcIlxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRvb2xiYXJJdGVtLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KE5hdkxpbmssIHtcbiAgICBjbGFzc05hbWU6IFwicGYtYy1idXR0b24gcGYtbS1wcmltYXJ5XCIsXG4gICAgdG86ICcvY3JlYXRlLWNvbm5lY3RvcidcbiAgfSwgXCJDcmVhdGUgQ29ubmVjdG9yXCIpKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhckl0ZW0sIHtcbiAgICB2YXJpYW50OiBcInBhZ2luYXRpb25cIixcbiAgICBhbGlnbm1lbnQ6IHtcbiAgICAgIFwiZGVmYXVsdFwiOiAnYWxpZ25SaWdodCdcbiAgICB9XG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdG9yc1BhZ2luYXRpb24sIHtcbiAgICBpc0NvbXBhY3Q6IHRydWVcbiAgfSkpKTtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhciwge1xuICAgIGlkOiBcInRvb2xiYXItZ3JvdXAtdHlwZXNcIixcbiAgICBjb2xsYXBzZUxpc3RlZEZpbHRlcnNCcmVha3BvaW50OiBcInhsXCJcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUb29sYmFyQ29udGVudCwgbnVsbCwgdG9vbGJhckl0ZW1zKSk7XG59O1xuXG4vKipcclxuICogQSBtb2RhbCBkaWFsb2cgdG8gZGlzcGxheSBjb25maXJtYXRpb24gZm9yIGNvbm5lY3RvciBkZWxldGlvbi5cclxuICovXG5cbnZhciBEZWxldGVEaWFsb2cgPSBmdW5jdGlvbiBEZWxldGVEaWFsb2coX3JlZikge1xuICB2YXIgY29ubmVjdG9yTmFtZSA9IF9yZWYuY29ubmVjdG9yTmFtZSxcbiAgICAgIGkxOG5DYW5jZWwgPSBfcmVmLmkxOG5DYW5jZWwsXG4gICAgICBpMThuRGVsZXRlID0gX3JlZi5pMThuRGVsZXRlLFxuICAgICAgaTE4blRpdGxlID0gX3JlZi5pMThuVGl0bGUsXG4gICAgICBvbkNhbmNlbCA9IF9yZWYub25DYW5jZWwsXG4gICAgICBvbkNvbmZpcm0gPSBfcmVmLm9uQ29uZmlybSxcbiAgICAgIHNob3dEaWFsb2cgPSBfcmVmLnNob3dEaWFsb2c7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKCcnKSxcbiAgICAgIG5hbWVWYWx1ZSA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldE5hbWVWYWx1ZSA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgY2FuRGVsZXRlID0gbmFtZVZhbHVlID09PSBjb25uZWN0b3JOYW1lO1xuXG4gIHZhciBvbkNhbmNlbERlbGV0ZSA9IGZ1bmN0aW9uIG9uQ2FuY2VsRGVsZXRlKCkge1xuICAgIHNldE5hbWVWYWx1ZSgnJyk7XG4gICAgb25DYW5jZWwoKTtcbiAgfTtcblxuICB2YXIgb25Db25maXJtRGVsZXRlID0gZnVuY3Rpb24gb25Db25maXJtRGVsZXRlKCkge1xuICAgIHNldE5hbWVWYWx1ZSgnJyk7XG4gICAgb25Db25maXJtKCk7XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTW9kYWwsIHtcbiAgICB2YXJpYW50OiBNb2RhbFZhcmlhbnQuc21hbGwsXG4gICAgdGl0bGU6IGkxOG5UaXRsZSxcbiAgICB0aXRsZUljb25WYXJpYW50OiBcIndhcm5pbmdcIixcbiAgICBpc09wZW46IHNob3dEaWFsb2csXG4gICAgb25DbG9zZTogb25DYW5jZWwsXG4gICAgYWN0aW9uczogW1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgICBrZXk6IFwiY29uZmlybVwiLFxuICAgICAgdmFyaWFudDogXCJkYW5nZXJcIixcbiAgICAgIGlzRGlzYWJsZWQ6ICFjYW5EZWxldGUsXG4gICAgICBvbkNsaWNrOiBvbkNvbmZpcm1EZWxldGVcbiAgICB9LCBpMThuRGVsZXRlKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgIGtleTogXCJjYW5jZWxcIixcbiAgICAgIHZhcmlhbnQ6IFwibGlua1wiLFxuICAgICAgb25DbGljazogb25DYW5jZWxEZWxldGVcbiAgICB9LCBpMThuQ2FuY2VsKV1cbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTdGFjaywgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTdGFja0l0ZW0sIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVHJhbnMsIHtcbiAgICBpMThuS2V5OiBcImRlbGV0ZUNvbmZpcm1NZXNzYWdlXCJcbiAgfSwgXCJDb25uZWN0b3IgXCIsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzdHJvbmdcIiwgbnVsbCwge1xuICAgIGNvbm5lY3Rvck5hbWU6IGNvbm5lY3Rvck5hbWVcbiAgfSksIFwiIHdpbGwgYmUgZGVsZXRlZC5cIikpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN0YWNrSXRlbSwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUcmFucywge1xuICAgIGkxOG5LZXk6IFwiZGVsZXRlVHlwZU5hbWVNZXNzYWdlXCJcbiAgfSwgXCJUeXBlIFwiLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3Ryb25nXCIsIG51bGwsIHtcbiAgICBjb25uZWN0b3JOYW1lOiBjb25uZWN0b3JOYW1lXG4gIH0pLCBcIiB0byBjb25maXJtIHRoZSBkZWxldGlvbi5cIikpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN0YWNrSXRlbSwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUZXh0SW5wdXQsIHtcbiAgICB2YWx1ZTogbmFtZVZhbHVlLFxuICAgIHR5cGU6IFwidGV4dFwiLFxuICAgIG9uQ2hhbmdlOiBzZXROYW1lVmFsdWUsXG4gICAgXCJhcmlhLWxhYmVsXCI6IFwibmFtZSBpbnB1dFwiXG4gIH0pKSkpO1xufTtcblxudmFyIENvbm5lY3RvcnNUYWJsZSA9IGZ1bmN0aW9uIENvbm5lY3RvcnNUYWJsZSgpIHtcbiAgdmFyIF9yZXNwb25zZSRpdGVtcztcblxuICB2YXIgX3VzZVRyYW5zbGF0aW9uID0gdXNlVHJhbnNsYXRpb24oKSxcbiAgICAgIHQgPSBfdXNlVHJhbnNsYXRpb24udDtcblxuICB2YXIgc2VydmljZSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lU2VydmljZSgpO1xuXG4gIHZhciBfdXNlQ29ubmVjdG9yc01hY2hpbmUgPSB1c2VDb25uZWN0b3JzTWFjaGluZShzZXJ2aWNlKSxcbiAgICAgIHJlc3BvbnNlID0gX3VzZUNvbm5lY3RvcnNNYWNoaW5lLnJlc3BvbnNlO1xuXG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENhcmQsIHtcbiAgICBjbGFzc05hbWU6ICdwZi11LXBiLXhsJ1xuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RvcnNUb29sYmFyLCBudWxsKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiAncGYtdS1wLW1kJ1xuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRhYmxlQ29tcG9zYWJsZSwge1xuICAgIFwiYXJpYS1sYWJlbFwiOiBcIlNvcnRhYmxlIFRhYmxlXCIsXG4gICAgY2xhc3NOYW1lOiBjc3MoJ2Nvbm5lY3RvcnMtdGFibGUtdmlld19fdGFibGUnKVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRoZWFkLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRyLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRoLCBudWxsLCB0KCduYW1lJykpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRoLCBudWxsLCB0KCd0eXBlJykpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRoLCBudWxsLCB0KCdjYXRlZ29yeScpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUaCwgbnVsbCwgdCgnc3RhdHVzJykpKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGJvZHksIG51bGwsIHJlc3BvbnNlID09IG51bGwgPyB2b2lkIDAgOiAoX3Jlc3BvbnNlJGl0ZW1zID0gcmVzcG9uc2UuaXRlbXMpID09IG51bGwgPyB2b2lkIDAgOiBfcmVzcG9uc2UkaXRlbXMubWFwKGZ1bmN0aW9uIChyZWYpIHtcbiAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25uZWN0b3JSb3csIHtcbiAgICAgIGNvbm5lY3RvclJlZjogcmVmLFxuICAgICAga2V5OiByZWYuaWRcbiAgICB9KTtcbiAgfSkpKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdG9yc1BhZ2luYXRpb24sIHtcbiAgICBpc0NvbXBhY3Q6IGZhbHNlXG4gIH0pKTtcbn07XG52YXIgQ29ubmVjdG9yUm93ID0gZnVuY3Rpb24gQ29ubmVjdG9yUm93KF9yZWYpIHtcbiAgdmFyIF9jb25uZWN0b3IkbWV0YWRhdGEsIF9jb25uZWN0b3IkbWV0YWRhdGEyO1xuXG4gIHZhciBjb25uZWN0b3JSZWYgPSBfcmVmLmNvbm5lY3RvclJlZjtcblxuICB2YXIgX3VzZVRyYW5zbGF0aW9uMiA9IHVzZVRyYW5zbGF0aW9uKCksXG4gICAgICB0ID0gX3VzZVRyYW5zbGF0aW9uMi50O1xuXG4gIHZhciBzZXJ2aWNlID0gdXNlQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlKCk7XG5cbiAgdmFyIF91c2VDb25uZWN0b3JzTWFjaGluZTIgPSB1c2VDb25uZWN0b3JzTWFjaGluZShzZXJ2aWNlKSxcbiAgICAgIHNlbGVjdGVkQ29ubmVjdG9yID0gX3VzZUNvbm5lY3RvcnNNYWNoaW5lMi5zZWxlY3RlZENvbm5lY3RvcjtcblxuICB2YXIgX3VzZUNvbm5lY3RvciA9IHVzZUNvbm5lY3Rvcihjb25uZWN0b3JSZWYpLFxuICAgICAgY29ubmVjdG9yID0gX3VzZUNvbm5lY3Rvci5jb25uZWN0b3IsXG4gICAgICBjYW5TdGFydCA9IF91c2VDb25uZWN0b3IuY2FuU3RhcnQsXG4gICAgICBjYW5TdG9wID0gX3VzZUNvbm5lY3Rvci5jYW5TdG9wLFxuICAgICAgY2FuRGVsZXRlID0gX3VzZUNvbm5lY3Rvci5jYW5EZWxldGUsXG4gICAgICBvblN0YXJ0ID0gX3VzZUNvbm5lY3Rvci5vblN0YXJ0LFxuICAgICAgb25TdG9wID0gX3VzZUNvbm5lY3Rvci5vblN0b3AsXG4gICAgICBvbkRlbGV0ZSA9IF91c2VDb25uZWN0b3Iub25EZWxldGUsXG4gICAgICBvblNlbGVjdCA9IF91c2VDb25uZWN0b3Iub25TZWxlY3Q7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIHNob3dEZWxldGVDb25uZWN0b3JDb25maXJtID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0U2hvd0RlbGV0ZUNvbm5lY3RvckNvbmZpcm0gPSBfdXNlU3RhdGVbMV07XG5cbiAgdmFyIGRvQ2FuY2VsRGVsZXRlQ29ubmVjdG9yID0gZnVuY3Rpb24gZG9DYW5jZWxEZWxldGVDb25uZWN0b3IoKSB7XG4gICAgc2V0U2hvd0RlbGV0ZUNvbm5lY3RvckNvbmZpcm0oZmFsc2UpO1xuICB9O1xuXG4gIHZhciBkb0RlbGV0ZUNvbm5lY3RvciA9IGZ1bmN0aW9uIGRvRGVsZXRlQ29ubmVjdG9yKCkge1xuICAgIHNldFNob3dEZWxldGVDb25uZWN0b3JDb25maXJtKGZhbHNlKTtcbiAgICBvbkRlbGV0ZSgpO1xuICB9O1xuXG4gIHZhciBhY3Rpb25zID0gW3tcbiAgICB0aXRsZTogJ1N0YXJ0JyxcbiAgICBvbkNsaWNrOiBvblN0YXJ0LFxuICAgIGlzRGlzYWJsZWQ6ICFjYW5TdGFydFxuICB9LCB7XG4gICAgdGl0bGU6ICdTdG9wJyxcbiAgICBvbkNsaWNrOiBvblN0b3AsXG4gICAgaXNEaXNhYmxlZDogIWNhblN0b3BcbiAgfSwge1xuICAgIHRpdGxlOiAnRGVsZXRlJyxcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIHNldFNob3dEZWxldGVDb25uZWN0b3JDb25maXJtKHRydWUpO1xuICAgIH0sXG4gICAgaXNEaXNhYmxlZDogIWNhbkRlbGV0ZVxuICB9LCB7XG4gICAgaXNTZXBhcmF0b3I6IHRydWVcbiAgfSwge1xuICAgIHRpdGxlOiAnT3ZlcnZpZXcnLFxuICAgIG9uQ2xpY2s6IG9uU2VsZWN0XG4gIH1dO1xuICB2YXIgc3RhdHVzT3B0aW9ucyA9IFt7XG4gICAgdmFsdWU6ICdyZWFkeScsXG4gICAgbGFiZWw6IHQoJ1J1bm5pbmcnKVxuICB9LCB7XG4gICAgdmFsdWU6ICdmYWlsZWQnLFxuICAgIGxhYmVsOiB0KCdGYWlsZWQnKVxuICB9LCB7XG4gICAgdmFsdWU6ICdhc3NpZ25pbmcnLFxuICAgIGxhYmVsOiB0KCdDcmVhdGlvbiBwZW5kaW5nJylcbiAgfSwge1xuICAgIHZhbHVlOiAnYXNzaWduZWQnLFxuICAgIGxhYmVsOiB0KCdDcmVhdGlvbiBpbiBwcm9ncmVzcycpXG4gIH0sIHtcbiAgICB2YWx1ZTogJ3VwZGF0aW5nJyxcbiAgICBsYWJlbDogdCgnQ3JlYXRpb24gaW4gcHJvZ3Jlc3MnKVxuICB9LCB7XG4gICAgdmFsdWU6ICdwcm92aXNpb25pbmcnLFxuICAgIGxhYmVsOiB0KCdDcmVhdGlvbiBpbiBwcm9ncmVzcycpXG4gIH0sIHtcbiAgICB2YWx1ZTogJ2RlbGV0aW5nJyxcbiAgICBsYWJlbDogdCgnRGVsZXRpbmcnKVxuICB9LCB7XG4gICAgdmFsdWU6ICdkZWxldGVkJyxcbiAgICBsYWJlbDogdCgnRGVsZXRpbmcnKVxuICB9XTtcblxuICB2YXIgZ2V0U3RhdHVzTGFiZWwgPSBmdW5jdGlvbiBnZXRTdGF0dXNMYWJlbChzdGF0dXMpIHtcbiAgICB2YXIgX3N0YXR1c09wdGlvbnMkZmluZDtcblxuICAgIHJldHVybiAoKF9zdGF0dXNPcHRpb25zJGZpbmQgPSBzdGF0dXNPcHRpb25zLmZpbmQoZnVuY3Rpb24gKHMpIHtcbiAgICAgIHJldHVybiBzLnZhbHVlID09PSBzdGF0dXM7XG4gICAgfSkpID09IG51bGwgPyB2b2lkIDAgOiBfc3RhdHVzT3B0aW9ucyRmaW5kLmxhYmVsKSB8fCBzdGF0dXM7XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRGVsZXRlRGlhbG9nLCB7XG4gICAgY29ubmVjdG9yTmFtZTogKF9jb25uZWN0b3IkbWV0YWRhdGEgPSBjb25uZWN0b3IubWV0YWRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfY29ubmVjdG9yJG1ldGFkYXRhLm5hbWUsXG4gICAgaTE4bkNhbmNlbDogdCgnY2FuY2VsJyksXG4gICAgaTE4bkRlbGV0ZTogdCgnZGVsZXRlJyksXG4gICAgaTE4blRpdGxlOiB0KCdkZWxldGVDb25uZWN0b3InKSxcbiAgICBzaG93RGlhbG9nOiBzaG93RGVsZXRlQ29ubmVjdG9yQ29uZmlybSxcbiAgICBvbkNhbmNlbDogZG9DYW5jZWxEZWxldGVDb25uZWN0b3IsXG4gICAgb25Db25maXJtOiBkb0RlbGV0ZUNvbm5lY3RvclxuICB9KSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUciwge1xuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgIHZhciBfZXZlbnQkdGFyZ2V0O1xuXG4gICAgICAvLyBzZW5kIHRoZSBldmVudCBvbmx5IGlmIHRoZSBjbGljayBkaWRuJ3QgaGFwcGVuIG9uIHRoZSBhY3Rpb25zIGJ1dHRvblxuICAgICAgaWYgKCgoX2V2ZW50JHRhcmdldCA9IGV2ZW50LnRhcmdldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9ldmVudCR0YXJnZXQudHlwZSkgIT09ICdidXR0b24nKSB7XG4gICAgICAgIG9uU2VsZWN0KCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjbGFzc05hbWU6IGNzcygncGYtYy10YWJsZS1yb3dfX2l0ZW0nLCAncGYtbS1zZWxlY3RhYmxlJywgKHNlbGVjdGVkQ29ubmVjdG9yID09IG51bGwgPyB2b2lkIDAgOiBzZWxlY3RlZENvbm5lY3Rvci5pZCkgPT09IGNvbm5lY3Rvci5pZCAmJiAncGYtbS1zZWxlY3RlZCcpXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGQsIHtcbiAgICBkYXRhTGFiZWw6IHQoJ25hbWUnKVxuICB9LCAoX2Nvbm5lY3RvciRtZXRhZGF0YTIgPSBjb25uZWN0b3IubWV0YWRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfY29ubmVjdG9yJG1ldGFkYXRhMi5uYW1lKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUZCwge1xuICAgIGRhdGFMYWJlbDogdCgndHlwZScpXG4gIH0sIGNvbm5lY3Rvci5jb25uZWN0b3JfdHlwZV9pZCksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGQsIHtcbiAgICBkYXRhTGFiZWw6IHQoJ2NhdGVnb3J5JylcbiAgfSwgXCJUT0RPOiBNSVNTSU5HXCIpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRkLCB7XG4gICAgZGF0YUxhYmVsOiB0KCdzdGF0dXMnKVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZsZXgsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRmxleEl0ZW0sIHtcbiAgICBzcGFjZXI6IHtcbiAgICAgIFwiZGVmYXVsdFwiOiAnc3BhY2VyU20nXG4gICAgfVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RvclN0YXR1c0ljb24sIHtcbiAgICBpZDogY29ubmVjdG9yLmlkLFxuICAgIHN0YXR1czogY29ubmVjdG9yLnN0YXR1c1xuICB9KSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRmxleEl0ZW0sIG51bGwsIGdldFN0YXR1c0xhYmVsKGNvbm5lY3Rvci5zdGF0dXMpKSkpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRkLCB7XG4gICAgYWN0aW9uczoge1xuICAgICAgaXRlbXM6IGFjdGlvbnNcbiAgICB9XG4gIH0pKSk7XG59O1xuXG52YXIgQ29ubmVjdGVkQ29ubmVjdG9yc1BhZ2UgPSBmdW5jdGlvbiBDb25uZWN0ZWRDb25uZWN0b3JzUGFnZShfcmVmKSB7XG4gIHZhciBvbkNyZWF0ZUNvbm5lY3RvciA9IF9yZWYub25DcmVhdGVDb25uZWN0b3I7XG5cbiAgdmFyIF91c2VUcmFuc2xhdGlvbiA9IHVzZVRyYW5zbGF0aW9uKCksXG4gICAgICB0ID0gX3VzZVRyYW5zbGF0aW9uLnQ7XG5cbiAgdmFyIF91c2VBbGVydCA9IHVzZUFsZXJ0KCksXG4gICAgICBhZGRBbGVydCA9IF91c2VBbGVydC5hZGRBbGVydDtcblxuICB2YXIgX3VzZUFwcENvbnRleHQgPSB1c2VBcHBDb250ZXh0KCksXG4gICAgICBiYXNlUGF0aCA9IF91c2VBcHBDb250ZXh0LmJhc2VQYXRoLFxuICAgICAgZ2V0VG9rZW4gPSBfdXNlQXBwQ29udGV4dC5nZXRUb2tlbjtcblxuICB2YXIgb25FcnJvciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgIGFkZEFsZXJ0KHtcbiAgICAgIGlkOiAnY29ubmVjdG9ycy10YWJsZS1lcnJvcicsXG4gICAgICB2YXJpYW50OiBBbGVydFZhcmlhbnQuZGFuZ2VyLFxuICAgICAgdGl0bGU6IHQoJ2NvbW1vbi5zb21ldGhpbmdfd2VudF93cm9uZycpLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uXG4gICAgfSk7XG4gIH0sIFthZGRBbGVydCwgdF0pO1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25uZWN0b3JzTWFjaGluZVByb3ZpZGVyLCB7XG4gICAgYWNjZXNzVG9rZW46IGdldFRva2VuLFxuICAgIGJhc2VQYXRoOiBiYXNlUGF0aCxcbiAgICBvbkVycm9yOiBvbkVycm9yXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdG9yc1BhZ2UsIHtcbiAgICBvbkNyZWF0ZUNvbm5lY3Rvcjogb25DcmVhdGVDb25uZWN0b3JcbiAgfSkpO1xufTtcbnZhciBDb25uZWN0b3JzUGFnZSA9IGZ1bmN0aW9uIENvbm5lY3RvcnNQYWdlKF9yZWYyKSB7XG4gIHZhciBvbkNyZWF0ZUNvbm5lY3RvciA9IF9yZWYyLm9uQ3JlYXRlQ29ubmVjdG9yO1xuICB2YXIgc2VydmljZSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lU2VydmljZSgpO1xuICB2YXIgaXNSZWFkeSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lSXNSZWFkeShzZXJ2aWNlKTtcbiAgcmV0dXJuIGlzUmVhZHkgPyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RvcnNQYWdlQm9keSwge1xuICAgIG9uQ3JlYXRlQ29ubmVjdG9yOiBvbkNyZWF0ZUNvbm5lY3RvclxuICB9KSA6IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZywgbnVsbCk7XG59O1xuXG52YXIgQ29ubmVjdG9yc1BhZ2VCb2R5ID0gZnVuY3Rpb24gQ29ubmVjdG9yc1BhZ2VCb2R5KF9yZWYzKSB7XG4gIHZhciBvbkNyZWF0ZUNvbm5lY3RvciA9IF9yZWYzLm9uQ3JlYXRlQ29ubmVjdG9yO1xuICB2YXIgc2VydmljZSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lU2VydmljZSgpO1xuXG4gIHZhciBfdXNlQ29ubmVjdG9yc01hY2hpbmUgPSB1c2VDb25uZWN0b3JzTWFjaGluZShzZXJ2aWNlKSxcbiAgICAgIGxvYWRpbmcgPSBfdXNlQ29ubmVjdG9yc01hY2hpbmUubG9hZGluZyxcbiAgICAgIGVycm9yID0gX3VzZUNvbm5lY3RvcnNNYWNoaW5lLmVycm9yLFxuICAgICAgbm9SZXN1bHRzID0gX3VzZUNvbm5lY3RvcnNNYWNoaW5lLm5vUmVzdWx0cyxcbiAgICAgIHF1ZXJ5RW1wdHkgPSBfdXNlQ29ubmVjdG9yc01hY2hpbmUucXVlcnlFbXB0eSxcbiAgICAgIGZpcnN0UmVxdWVzdCA9IF91c2VDb25uZWN0b3JzTWFjaGluZS5maXJzdFJlcXVlc3Q7XG5cbiAgc3dpdGNoICh0cnVlKSB7XG4gICAgY2FzZSBmaXJzdFJlcXVlc3Q6XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChMb2FkaW5nLCBudWxsKTtcblxuICAgIGNhc2UgcXVlcnlFbXB0eTpcbiAgICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KE5vTWF0Y2hGb3VuZCwge1xuICAgICAgICBvbkNsZWFyOiBmdW5jdGlvbiBvbkNsZWFyKCkge1xuICAgICAgICAgIHJldHVybiBzZXJ2aWNlLnNlbmQoe1xuICAgICAgICAgICAgdHlwZTogJ2FwaS5xdWVyeScsXG4gICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgc2l6ZTogMTBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICBjYXNlIGxvYWRpbmc6XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdlU2VjdGlvbiwge1xuICAgICAgICB2YXJpYW50OiAnbGlnaHQnXG4gICAgICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RvcnNQYWdlVGl0bGUsIG51bGwpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdlU2VjdGlvbiwge1xuICAgICAgICBwYWRkaW5nOiB7XG4gICAgICAgICAgXCJkZWZhdWx0XCI6ICdub1BhZGRpbmcnXG4gICAgICAgIH0sXG4gICAgICAgIGlzRmlsbGVkOiB0cnVlXG4gICAgICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENhcmQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdG9yc1Rvb2xiYXIsIG51bGwpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KExvYWRpbmcsIG51bGwpKSkpO1xuXG4gICAgY2FzZSBub1Jlc3VsdHMgfHwgZXJyb3I6XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFbXB0eVN0YXRlLCB7XG4gICAgICAgIGVtcHR5U3RhdGVQcm9wczoge1xuICAgICAgICAgIHZhcmlhbnQ6IEVtcHR5U3RhdGVWYXJpYW50LkdldHRpbmdTdGFydGVkXG4gICAgICAgIH0sXG4gICAgICAgIHRpdGxlUHJvcHM6IHtcbiAgICAgICAgICB0aXRsZTogJ2Nvcy53ZWxjb21lX3RvX2NvcydcbiAgICAgICAgfSxcbiAgICAgICAgZW1wdHlTdGF0ZUJvZHlQcm9wczoge1xuICAgICAgICAgIGJvZHk6ICdjb3Mud2VsY29tZV9lbXB0eV9zdGF0ZV9ib2R5J1xuICAgICAgICB9LFxuICAgICAgICBidXR0b25Qcm9wczoge1xuICAgICAgICAgIHRpdGxlOiAnY29zLmNyZWF0ZV9jb3MnLFxuICAgICAgICAgIHZhcmlhbnQ6IEJ1dHRvblZhcmlhbnQucHJpbWFyeSxcbiAgICAgICAgICBvbkNsaWNrOiBvbkNyZWF0ZUNvbm5lY3RvclxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25uZWN0b3JEcmF3ZXIsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGFnZVNlY3Rpb24sIHtcbiAgICAgICAgdmFyaWFudDogJ2xpZ2h0J1xuICAgICAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25uZWN0b3JzUGFnZVRpdGxlLCBudWxsKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGFnZVNlY3Rpb24sIHtcbiAgICAgICAgcGFkZGluZzoge1xuICAgICAgICAgIFwiZGVmYXVsdFwiOiAnbm9QYWRkaW5nJ1xuICAgICAgICB9LFxuICAgICAgICBpc0ZpbGxlZDogdHJ1ZVxuICAgICAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25uZWN0b3JzVGFibGUsIG51bGwpKSk7XG4gIH1cbn07XG5cbnZhciBDb25uZWN0b3JzUGFnZVRpdGxlID0gZnVuY3Rpb24gQ29ubmVjdG9yc1BhZ2VUaXRsZSgpIHtcbiAgdmFyIF91c2VUcmFuc2xhdGlvbjIgPSB1c2VUcmFuc2xhdGlvbigpLFxuICAgICAgdCA9IF91c2VUcmFuc2xhdGlvbjIudDtcblxuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUZXh0Q29udGVudCwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUaXRsZSwge1xuICAgIGhlYWRpbmdMZXZlbDogXCJoMVwiXG4gIH0sIHQoJ21hbmFnZWRDb25uZWN0b3JzJykpKTtcbn07XG5cbnZhciBmZXRjaENvbmZpZ3VyYXRvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIHZhciBfcmVmID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcnVudGltZV8xLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoY29ubmVjdG9yLCBjb25maWcpIHtcbiAgICB2YXIgZGVmYXVsdENvbmZpZztcbiAgICByZXR1cm4gcnVudGltZV8xLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgZGVmYXVsdENvbmZpZyA9IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgIHN0ZXBzOiBmYWxzZSxcbiAgICAgICAgICAgICAgQ29uZmlndXJhdG9yOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCBuZXcgUHJvbWlzZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9ydW50aW1lXzEubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmVkZXJhdGVkQ29uZmlndXJhdG9yO1xuICAgICAgICAgICAgICAgIHJldHVybiBydW50aW1lXzEud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF5YmVHZXRGZWRlcmF0ZWRDb25maWd1cmF0b3JGb3JDb25uZWN0b3IoY29uZmlnLCBjb25uZWN0b3IpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgZmVkZXJhdGVkQ29uZmlndXJhdG9yID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluamVjdEZlZGVyYXRlZE1vZHVsZVNjcmlwdChmZWRlcmF0ZWRDb25maWd1cmF0b3IucmVtb3RlRW50cnkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShsb2FkRmVkZXJhdGVkQ29uZmlndXJhdG9yKGZlZGVyYXRlZENvbmZpZ3VyYXRvci5zY29wZSwgZmVkZXJhdGVkQ29uZmlndXJhdG9yLm1vZHVsZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbXCJjYXRjaFwiXSgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGVmYXVsdENvbmZpZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDldXSk7XG4gICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94Mykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSgpKSk7XG5cbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlMik7XG4gIH0pKTtcblxuICByZXR1cm4gZnVuY3Rpb24gZmV0Y2hDb25maWd1cmF0b3IoX3gsIF94Mikge1xuICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59KCk7XG5cbnZhciBpc1ZhbGlkQ29uZiA9IGZ1bmN0aW9uIGlzVmFsaWRDb25mKG1heWJlQ29uZikge1xuICByZXR1cm4gbWF5YmVDb25mICYmIG1heWJlQ29uZi5yZW1vdGVFbnRyeSAmJiB0eXBlb2YgbWF5YmVDb25mLnJlbW90ZUVudHJ5ID09PSAnc3RyaW5nJyAmJiBtYXliZUNvbmYuc2NvcGUgJiYgdHlwZW9mIG1heWJlQ29uZi5zY29wZSA9PT0gJ3N0cmluZycgJiYgbWF5YmVDb25mLm1vZHVsZSAmJiB0eXBlb2YgbWF5YmVDb25mLm1vZHVsZSA9PT0gJ3N0cmluZyc7XG59O1xuXG52YXIgbWF5YmVHZXRGZWRlcmF0ZWRDb25maWd1cmF0b3JGb3JDb25uZWN0b3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZjMgPSAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9ydW50aW1lXzEubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhjb25maWcsIGNvbm5lY3Rvcikge1xuICAgIHZhciBtYXliZUNvbmZpZ3VyYXRpb247XG4gICAgcmV0dXJuIHJ1bnRpbWVfMS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHtcbiAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGVkIGZlZGVyYXRlZCBjb25maWd1cmF0b3IgcmVtb3RlcyBjb25maWd1cmF0aW9uJywgY29uZmlnKTtcbiAgICAgICAgICAgIG1heWJlQ29uZmlndXJhdGlvbiA9IGNvbmZpZ1tjb25uZWN0b3IuaWRdO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDYW5kaWRhdGUgY29uZmlndXJhdGlvbiBmb3IgXFxcIlwiICsgY29ubmVjdG9yLmlkICsgXCJcXFwiXCIsIG1heWJlQ29uZmlndXJhdGlvbik7XG5cbiAgICAgICAgICAgIGlmIChtYXliZUNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb3VsZG4ndCBmaW5kIGFueSBjb25maWd1cmF0aW9uIGZvciB0aGUgcmVxdWVzdGVkIGNvbm5lY3RvclwiKTtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIsIFByb21pc2UucmVqZWN0KCkpO1xuXG4gICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgaWYgKCFpc1ZhbGlkQ29uZihtYXliZUNvbmZpZ3VyYXRpb24pKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCBhIGdlbmVyaWMgY29uZmlndXJhdGlvbiBmb3IgdGhlIGNvbm5lY3RvcicsIG1heWJlQ29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdChcInJldHVyblwiLCBtYXliZUNvbmZpZ3VyYXRpb24pO1xuXG4gICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb3VsZG4ndCBmaW5kIGEgdmFsaWQgY29uZmlndXJhdGlvbiBmb3IgdGhlIHJlcXVlc3RlZCBjb25uZWN0b3JcIik7XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdChcInJldHVyblwiLCBQcm9taXNlLnJlamVjdCgpKTtcblxuICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlMyk7XG4gIH0pKTtcblxuICByZXR1cm4gZnVuY3Rpb24gbWF5YmVHZXRGZWRlcmF0ZWRDb25maWd1cmF0b3JGb3JDb25uZWN0b3IoX3g0LCBfeDUpIHtcbiAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKTtcblxudmFyIGluamVjdEZlZGVyYXRlZE1vZHVsZVNjcmlwdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIHZhciBfcmVmNCA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3J1bnRpbWVfMS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHVybCkge1xuICAgIHJldHVybiBydW50aW1lXzEud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdChcInJldHVyblwiLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgICAgICAgIGVsZW1lbnQuc3JjID0gdXJsO1xuICAgICAgICAgICAgICBlbGVtZW50LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcbiAgICAgICAgICAgICAgZWxlbWVudC5hc3luYyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgZWxlbWVudC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEeW5hbWljIGZlZGVyYXRlZCBtb2R1bGUgbG9hZGVkOiBcIiArIHVybCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgZWxlbWVudC5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJEeW5hbWljIGZlZGVyYXRlZCBtb2R1bGUgRXJyb3I6IFwiICsgdXJsKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkR5bmFtaWMgZmVkZXJhdGVkIG1vZHVsZSBSZW1vdmVkOiBcIiArIHVybCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTQpO1xuICB9KSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGluamVjdEZlZGVyYXRlZE1vZHVsZVNjcmlwdChfeDYpIHtcbiAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKTtcbmZ1bmN0aW9uIGxvYWRGZWRlcmF0ZWRDb25maWd1cmF0b3IoX3g3LCBfeDgpIHtcbiAgcmV0dXJuIF9sb2FkRmVkZXJhdGVkQ29uZmlndXJhdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9sb2FkRmVkZXJhdGVkQ29uZmlndXJhdG9yKCkge1xuICBfbG9hZEZlZGVyYXRlZENvbmZpZ3VyYXRvciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcnVudGltZV8xLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoc2NvcGUsIG1vZHVsZSkge1xuICAgIHZhciBjb250YWluZXIsIGZhY3RvcnksIGZlZGVyYXRlZENvbmZpZ3VyYXRpb25Db25maWc7XG4gICAgcmV0dXJuIHJ1bnRpbWVfMS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHtcbiAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjtcbiAgICAgICAgICAgIHJldHVybiBfX3dlYnBhY2tfaW5pdF9zaGFyaW5nX18oJ2RlZmF1bHQnKTtcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IHdpbmRvd1tzY29wZV07IC8vIG9yIGdldCB0aGUgY29udGFpbmVyIHNvbWV3aGVyZSBlbHNlXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBjb250YWluZXIsIGl0IG1heSBwcm92aWRlIHNoYXJlZCBtb2R1bGVzXG5cbiAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTtcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIuaW5pdChfX3dlYnBhY2tfc2hhcmVfc2NvcGVzX19bXCJkZWZhdWx0XCJdKTtcblxuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNztcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3dbc2NvcGVdLmdldChtb2R1bGUpO1xuXG4gICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgZmFjdG9yeSA9IF9jb250ZXh0NS5zZW50O1xuICAgICAgICAgICAgZmVkZXJhdGVkQ29uZmlndXJhdGlvbkNvbmZpZyA9IGZhY3RvcnkoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibG9hZGVkIGZlZGVyYXRlZCBjb25maWd1cmF0b3IgY29uZmlndXJhdGlvbiBmcm9tIFwiICsgc2NvcGUsIGZlZGVyYXRlZENvbmZpZ3VyYXRpb25Db25maWcpO1xuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIiwgZmVkZXJhdGVkQ29uZmlndXJhdGlvbkNvbmZpZ1tcImRlZmF1bHRcIl0pO1xuXG4gICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWU1KTtcbiAgfSkpO1xuICByZXR1cm4gX2xvYWRGZWRlcmF0ZWRDb25maWd1cmF0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxudmFyIENyZWF0ZUNvbm5lY3RvclBhZ2UgPSBmdW5jdGlvbiBDcmVhdGVDb25uZWN0b3JQYWdlKF9yZWYpIHtcbiAgdmFyIG9uU2F2ZSA9IF9yZWYub25TYXZlLFxuICAgICAgb25DbG9zZSA9IF9yZWYub25DbG9zZTtcblxuICB2YXIgX3VzZUNvbmZpZyA9IHVzZUNvbmZpZygpLFxuICAgICAgY29zID0gX3VzZUNvbmZpZy5jb3M7XG5cbiAgdmFyIF91c2VBcHBDb250ZXh0ID0gdXNlQXBwQ29udGV4dCgpLFxuICAgICAgYmFzZVBhdGggPSBfdXNlQXBwQ29udGV4dC5iYXNlUGF0aCxcbiAgICAgIGdldFRva2VuID0gX3VzZUFwcENvbnRleHQuZ2V0VG9rZW47XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGFnZVNlY3Rpb24sIHtcbiAgICBwYWRkaW5nOiB7XG4gICAgICBcImRlZmF1bHRcIjogJ25vUGFkZGluZydcbiAgICB9XG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ3JlYXRpb25XaXphcmRNYWNoaW5lUHJvdmlkZXIsIHtcbiAgICBhY2Nlc3NUb2tlbjogZ2V0VG9rZW4sXG4gICAgYmFzZVBhdGg6IGJhc2VQYXRoLFxuICAgIGZldGNoQ29uZmlndXJhdG9yOiBmdW5jdGlvbiBmZXRjaENvbmZpZ3VyYXRvciQxKGNvbm5lY3Rvcikge1xuICAgICAgcmV0dXJuIGZldGNoQ29uZmlndXJhdG9yKGNvbm5lY3RvciwgY29zLmNvbmZpZ3VyYXRvcnMpO1xuICAgIH0sXG4gICAgb25TYXZlOiBvblNhdmVcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDcmVhdGlvbldpemFyZCwge1xuICAgIG9uQ2xvc2U6IG9uQ2xvc2VcbiAgfSkpKTtcbn07XG5cbnZhciBDb3NVaVJvdXRlcyA9IGZ1bmN0aW9uIENvc1VpUm91dGVzKF9yZWYpIHtcbiAgdmFyIGdldFRva2VuID0gX3JlZi5nZXRUb2tlbixcbiAgICAgIGFwaUJhc2VwYXRoID0gX3JlZi5hcGlCYXNlcGF0aDtcblxuICB2YXIgX3VzZVRyYW5zbGF0aW9uID0gdXNlVHJhbnNsYXRpb24oKSxcbiAgICAgIHQgPSBfdXNlVHJhbnNsYXRpb24udDtcblxuICB2YXIgX3VzZUFsZXJ0ID0gdXNlQWxlcnQoKSxcbiAgICAgIGFkZEFsZXJ0ID0gX3VzZUFsZXJ0LmFkZEFsZXJ0O1xuXG4gIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpO1xuICB2YXIgZ29Ub0Nvbm5lY3RvcnNMaXN0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBoaXN0b3J5LnB1c2goJy8nKTtcbiAgfSwgW2hpc3RvcnldKTtcbiAgdmFyIGdvVG9DcmVhdGVDb25uZWN0b3IgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGhpc3RvcnkucHVzaCgnL2NyZWF0ZS1jb25uZWN0b3InKTtcbiAgfSwgW2hpc3RvcnldKTtcbiAgdmFyIG9uQ29ubmVjdG9yU2F2ZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBhZGRBbGVydCh7XG4gICAgICBpZDogJ2Nvbm5lY3Rvci1jcmVhdGVkJyxcbiAgICAgIHZhcmlhbnQ6IEFsZXJ0VmFyaWFudC5zdWNjZXNzLFxuICAgICAgdGl0bGU6IHQoJ3dpemFyZC5jcmVhdGlvbi1zdWNjZXNzJylcbiAgICB9KTtcbiAgICBnb1RvQ29ubmVjdG9yc0xpc3QoKTtcbiAgfSwgW2FkZEFsZXJ0LCBnb1RvQ29ubmVjdG9yc0xpc3QsIHRdKTtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQXBwQ29udGV4dFByb3ZpZGVyLCB7XG4gICAgZ2V0VG9rZW46IGdldFRva2VuLFxuICAgIGJhc2VQYXRoOiBhcGlCYXNlcGF0aFxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN3aXRjaCwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSb3V0ZSwge1xuICAgIHBhdGg6ICcvJyxcbiAgICBleGFjdDogdHJ1ZVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RlZENvbm5lY3RvcnNQYWdlLCB7XG4gICAgb25DcmVhdGVDb25uZWN0b3I6IGdvVG9DcmVhdGVDb25uZWN0b3JcbiAgfSkpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7XG4gICAgcGF0aDogJy9jcmVhdGUtY29ubmVjdG9yJ1xuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENyZWF0ZUNvbm5lY3RvclBhZ2UsIHtcbiAgICBvblNhdmU6IG9uQ29ubmVjdG9yU2F2ZSxcbiAgICBvbkNsb3NlOiBnb1RvQ29ubmVjdG9yc0xpc3RcbiAgfSkpKSk7XG59O1xuXG52YXIgQWxlcnRzID0gZnVuY3Rpb24gQWxlcnRzKF9yZWYpIHtcbiAgdmFyIGFsZXJ0cyA9IF9yZWYuYWxlcnRzLFxuICAgICAgb25DbG9zZUFsZXJ0ID0gX3JlZi5vbkNsb3NlQWxlcnQ7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEFsZXJ0R3JvdXAsIHtcbiAgICBpc1RvYXN0OiB0cnVlXG4gIH0sIGFsZXJ0cy5tYXAoZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgdmFyIGlkID0gX3JlZjIuaWQsXG4gICAgICAgIHZhcmlhbnQgPSBfcmVmMi52YXJpYW50LFxuICAgICAgICB0aXRsZSA9IF9yZWYyLnRpdGxlLFxuICAgICAgICBkZXNjcmlwdGlvbiA9IF9yZWYyLmRlc2NyaXB0aW9uLFxuICAgICAgICBkYXRhVGVzdElkID0gX3JlZjIuZGF0YVRlc3RJZCxcbiAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYyLCBbXCJpZFwiLCBcInZhcmlhbnRcIiwgXCJ0aXRsZVwiLCBcImRlc2NyaXB0aW9uXCIsIFwiZGF0YVRlc3RJZFwiXSk7XG5cbiAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChBbGVydCwgX2V4dGVuZHMoe1xuICAgICAga2V5OiBpZCxcbiAgICAgIGlzTGl2ZVJlZ2lvbjogdHJ1ZSxcbiAgICAgIHZhcmlhbnQ6IEFsZXJ0VmFyaWFudCQxW3ZhcmlhbnRdLFxuICAgICAgdmFyaWFudExhYmVsOiBcIlwiLFxuICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgYWN0aW9uQ2xvc2U6IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQWxlcnRBY3Rpb25DbG9zZUJ1dHRvbiwge1xuICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7XG4gICAgICAgICAgcmV0dXJuIG9uQ2xvc2VBbGVydChpZCk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgXCJkYXRhLXRlc3RpZFwiOiBkYXRhVGVzdElkXG4gICAgfSwgcmVzdCksIGRlc2NyaXB0aW9uKTtcbiAgfSkpO1xufTtcblxudmFyIEFsZXJ0UHJvdmlkZXIgPSBmdW5jdGlvbiBBbGVydFByb3ZpZGVyKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoW10pLFxuICAgICAgYWxlcnRzID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0QWxlcnRzID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciBfdXNlU3RhdGUyID0gdXNlU3RhdGUoW10pLFxuICAgICAgdGltZXJzID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldFRpbWVycyA9IF91c2VTdGF0ZTJbMV07XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGltZXJzS2V5cyA9IHRpbWVycy5tYXAoZnVuY3Rpb24gKHRpbWVyKSB7XG4gICAgICByZXR1cm4gdGltZXIua2V5O1xuICAgIH0pO1xuICAgIHZhciB0aW1lT3V0cyA9IGFsZXJ0cy5maWx0ZXIoZnVuY3Rpb24gKGFsZXJ0KSB7XG4gICAgICByZXR1cm4gIXRpbWVyc0tleXMuaW5jbHVkZXMoYWxlcnQgPT0gbnVsbCA/IHZvaWQgMCA6IGFsZXJ0LmlkKTtcbiAgICB9KS5tYXAoZnVuY3Rpb24gKGFsZXJ0KSB7XG4gICAgICB2YXIgX2FsZXJ0JGlkID0gYWxlcnQuaWQsXG4gICAgICAgICAgaWQgPSBfYWxlcnQkaWQgPT09IHZvaWQgMCA/ICcnIDogX2FsZXJ0JGlkO1xuICAgICAgdmFyIHRpbWVPdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGhpZGVBbGVydChpZCk7XG4gICAgICB9LCA4MDAwKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtleTogYWxlcnQuaWQsXG4gICAgICAgIHRpbWVPdXQ6IHRpbWVPdXRcbiAgICAgIH07XG4gICAgfSk7XG4gICAgc2V0VGltZXJzKFtdLmNvbmNhdCh0aW1lcnMsIHRpbWVPdXRzKSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aW1lcnMuZm9yRWFjaChmdW5jdGlvbiAodGltZXIpIHtcbiAgICAgICAgcmV0dXJuICh0aW1lciA9PSBudWxsID8gdm9pZCAwIDogdGltZXIudGltZU91dCkgJiYgY2xlYXJUaW1lb3V0KHRpbWVyLnRpbWVPdXQpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSwgW2FsZXJ0c10pO1xuXG4gIHZhciBjcmVhdGVJZCA9IGZ1bmN0aW9uIGNyZWF0ZUlkKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgfTtcblxuICB2YXIgaGlkZUFsZXJ0ID0gZnVuY3Rpb24gaGlkZUFsZXJ0KGtleSkge1xuICAgIHNldEFsZXJ0cyhmdW5jdGlvbiAoYWxlcnRzKSB7XG4gICAgICByZXR1cm4gW10uY29uY2F0KGFsZXJ0cy5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHJldHVybiBlbC5pZCAhPT0ga2V5O1xuICAgICAgfSkpO1xuICAgIH0pO1xuICAgIHNldFRpbWVycyhmdW5jdGlvbiAodGltZXJzKSB7XG4gICAgICByZXR1cm4gW10uY29uY2F0KHRpbWVycy5maWx0ZXIoZnVuY3Rpb24gKHRpbWVyKSB7XG4gICAgICAgIHJldHVybiB0aW1lci5rZXkgPT09IGtleTtcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgYWRkQWxlcnQgPSBmdW5jdGlvbiBhZGRBbGVydChwcm9wcykge1xuICAgIHZhciBpZCA9IGNyZWF0ZUlkKCkudG9TdHJpbmcoKTtcbiAgICBzZXRBbGVydHMoW10uY29uY2F0KGFsZXJ0cywgW19leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgaWQ6IGlkXG4gICAgfSldKSk7XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQWxlcnRDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHtcbiAgICAgIGFkZEFsZXJ0OiBhZGRBbGVydFxuICAgIH1cbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChBbGVydHMsIHtcbiAgICBhbGVydHM6IGFsZXJ0cyxcbiAgICBvbkNsb3NlQWxlcnQ6IGhpZGVBbGVydFxuICB9KSwgY2hpbGRyZW4pO1xufTtcblxudmFyIGtleWNsb2FrJDE7XG52YXIgRGVtb0FwcCA9IGZ1bmN0aW9uIERlbW9BcHAoKSB7XG4gIHZhciBfa2V5Y2xvYWs7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIGluaXRpYWxpemVkID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0SW5pdGlhbGl6ZWQgPSBfdXNlU3RhdGVbMV07IC8vIEluaXRpYWxpemUgdGhlIGNsaWVudFxuXG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaW5pdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcnVudGltZV8xLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHtcbiAgICAgICAgcmV0dXJuIHJ1bnRpbWVfMS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRLZXljbG9ha0luc3RhbmNlKCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGtleWNsb2FrJDEgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgICAgICAgIHNldEluaXRpYWxpemVkKHRydWUpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKTtcblxuICAgIGluaXQoKTtcbiAgfSwgW10pO1xuICB2YXIgY29uZmlnID0ge1xuICAgIGNvczoge1xuICAgICAgYXBpQmFzZVBhdGg6IHByb2Nlc3MuZW52LkJBU0VfUEFUSCxcbiAgICAgIGNvbmZpZ3VyYXRvcnM6IHtcbiAgICAgICAgJ2RlYmV6aXVtLW1vbmdvZGItMS41LjAuRmluYWwnOiB7XG4gICAgICAgICAgcmVtb3RlRW50cnk6ICdodHRwczovL2Riei11aS5hcHBzLmthbW1lbGxvbC5yaG13LWludGVncmF0aW9ucy5uZXQvZGJ6LWNvbm5lY3Rvci1jb25maWd1cmF0b3IucmVtb3RlRW50cnkuanMnLFxuICAgICAgICAgIHNjb3BlOiAnZGViZXppdW1fdWknLFxuICAgICAgICAgIG1vZHVsZTogJy4vY29uZmlnJ1xuICAgICAgICB9LFxuICAgICAgICAnZGViZXppdW0tbXlzcWwtMS41LjAuRmluYWwnOiB7XG4gICAgICAgICAgcmVtb3RlRW50cnk6ICdodHRwczovL2Riei11aS5hcHBzLmthbW1lbGxvbC5yaG13LWludGVncmF0aW9ucy5uZXQvZGJ6LWNvbm5lY3Rvci1jb25maWd1cmF0b3IucmVtb3RlRW50cnkuanMnLFxuICAgICAgICAgIHNjb3BlOiAnZGViZXppdW1fdWknLFxuICAgICAgICAgIG1vZHVsZTogJy4vY29uZmlnJ1xuICAgICAgICB9LFxuICAgICAgICAnZGViZXppdW0tcG9zdGdyZXMtMS41LjAuRmluYWwnOiB7XG4gICAgICAgICAgcmVtb3RlRW50cnk6ICdodHRwczovL2Riei11aS5hcHBzLmthbW1lbGxvbC5yaG13LWludGVncmF0aW9ucy5uZXQvZGJ6LWNvbm5lY3Rvci1jb25maWd1cmF0b3IucmVtb3RlRW50cnkuanMnLFxuICAgICAgICAgIHNjb3BlOiAnZGViZXppdW1fdWknLFxuICAgICAgICAgIG1vZHVsZTogJy4vY29uZmlnJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChLZXljbG9ha0NvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZToge1xuICAgICAga2V5Y2xvYWs6IGtleWNsb2FrJDEsXG4gICAgICBwcm9maWxlOiAoX2tleWNsb2FrID0ga2V5Y2xvYWskMSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9rZXljbG9hay5wcm9maWxlXG4gICAgfVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEtleWNsb2FrQXV0aFByb3ZpZGVyLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbmZpZ0NvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogY29uZmlnXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoSTE4bmV4dFByb3ZpZGVyLCB7XG4gICAgaTE4bjogaTE4blxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEFsZXJ0UHJvdmlkZXIsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuU3VzcGVuc2UsIHtcbiAgICBmYWxsYmFjazogUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChMb2FkaW5nLCBudWxsKVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJyb3dzZXJSb3V0ZXIsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQXBwTGF5b3V0LCBudWxsLCBpbml0aWFsaXplZCA/IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdGVkUm91dGVzLCBudWxsKSA6IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU3Bpbm5lciwgbnVsbCkpKSkpKSkpKTtcbn07XG5cbnZhciBDb25uZWN0ZWRSb3V0ZXMgPSBmdW5jdGlvbiBDb25uZWN0ZWRSb3V0ZXMoKSB7XG4gIHZhciBhdXRoID0gdXNlQXV0aCgpO1xuXG4gIHZhciBfdXNlQ29uZmlnID0gdXNlQ29uZmlnKCksXG4gICAgICBjb3MgPSBfdXNlQ29uZmlnLmNvcztcblxuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb3NVaVJvdXRlcywge1xuICAgIGdldFRva2VuOiBhdXRoLmthcy5nZXRUb2tlbixcbiAgICBhcGlCYXNlcGF0aDogY29zLmFwaUJhc2VQYXRoXG4gIH0pO1xufTtcblxudmFyIEZlZGVyYXRlZEFwcCA9IGZ1bmN0aW9uIEZlZGVyYXRlZEFwcCgpIHtcbiAgdmFyIF91c2VDb25maWcgPSB1c2VDb25maWcoKSxcbiAgICAgIGNvcyA9IF91c2VDb25maWcuY29zO1xuXG4gIHZhciBfdXNlQXV0aCA9IHVzZUF1dGgoKSxcbiAgICAgIGthcyA9IF91c2VBdXRoLmthcztcblxuICB2YXIgX3VzZUJhc2VuYW1lID0gdXNlQmFzZW5hbWUoKSxcbiAgICAgIGdldEJhc2VuYW1lID0gX3VzZUJhc2VuYW1lLmdldEJhc2VuYW1lO1xuXG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEkxOG5leHRQcm92aWRlciwge1xuICAgIGkxOG46IGkxOG5cbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSZWFjdF9fZGVmYXVsdC5TdXNwZW5zZSwge1xuICAgIGZhbGxiYWNrOiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KExvYWRpbmcsIG51bGwpXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnJvd3NlclJvdXRlciwge1xuICAgIGJhc2VuYW1lOiBnZXRCYXNlbmFtZSgpXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29zVWlSb3V0ZXMsIHtcbiAgICBnZXRUb2tlbjoga2FzLmdldFRva2VuLFxuICAgIGFwaUJhc2VwYXRoOiBjb3MuYXBpQmFzZVBhdGhcbiAgfSkpKSk7XG59O1xuXG5leHBvcnQgeyBEZW1vQXBwLCBGZWRlcmF0ZWRBcHAgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC5lc20uanMubWFwXG4iLCJpbXBvcnQgeyBGZWRlcmF0ZWRBcHAgfSBmcm9tICdAY29zLXVpL2FwcCc7XG5cbmV4cG9ydCBkZWZhdWx0IEZlZGVyYXRlZEFwcDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///71487\n')},31100:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SecurityApi = exports.SecurityApiFactory = exports.SecurityApiFp = exports.SecurityApiAxiosParamCreator = exports.DefaultApi = exports.DefaultApiFactory = exports.DefaultApiFp = exports.DefaultApiAxiosParamCreator = exports.ConnectorsApi = exports.ConnectorsApiFactory = exports.ConnectorsApiFp = exports.ConnectorsApiAxiosParamCreator = exports.ConnectorTypesApi = exports.ConnectorTypesApiFactory = exports.ConnectorTypesApiFp = exports.ConnectorTypesApiAxiosParamCreator = exports.ConnectorClustersApi = exports.ConnectorClustersApiFactory = exports.ConnectorClustersApiFp = exports.ConnectorClustersApiAxiosParamCreator = exports.ConnectorTypeAllOfLabelsEnum = exports.ConnectorTypeLabelsEnum = void 0;\nconst axios_1 = __webpack_require__(40107);\n// Some imports not used depending on template conditions\n// @ts-ignore\nconst common_1 = __webpack_require__(98691);\n// @ts-ignore\nconst base_1 = __webpack_require__(50778);\n/**\n    * @export\n    * @enum {string}\n    */\nvar ConnectorTypeLabelsEnum;\n(function (ConnectorTypeLabelsEnum) {\n    ConnectorTypeLabelsEnum[\"Sink\"] = \"sink\";\n    ConnectorTypeLabelsEnum[\"Source\"] = \"source\";\n})(ConnectorTypeLabelsEnum = exports.ConnectorTypeLabelsEnum || (exports.ConnectorTypeLabelsEnum = {}));\n/**\n    * @export\n    * @enum {string}\n    */\nvar ConnectorTypeAllOfLabelsEnum;\n(function (ConnectorTypeAllOfLabelsEnum) {\n    ConnectorTypeAllOfLabelsEnum[\"Sink\"] = \"sink\";\n    ConnectorTypeAllOfLabelsEnum[\"Source\"] = \"source\";\n})(ConnectorTypeAllOfLabelsEnum = exports.ConnectorTypeAllOfLabelsEnum || (exports.ConnectorTypeAllOfLabelsEnum = {}));\n/**\n * ConnectorClustersApi - axios parameter creator\n * @export\n */\nconst ConnectorClustersApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Create a new connector cluster\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {ConnectorCluster} connectorCluster Connector cluster data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnectorCluster: (async, connectorCluster, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'async' is not null or undefined\n            common_1.assertParamExists('createConnectorCluster', 'async', async);\n            // verify required parameter 'connectorCluster' is not null or undefined\n            common_1.assertParamExists('createConnectorCluster', 'connectorCluster', connectorCluster);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (async !== undefined) {\n                localVarQueryParameter['async'] = async;\n            }\n            localVarHeaderParameter['Content-Type'] = 'application/json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(connectorCluster, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Delete a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnectorCluster: (connectorClusterId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorClusterId' is not null or undefined\n            common_1.assertParamExists('deleteConnectorCluster', 'connectorClusterId', connectorClusterId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters/{connector_cluster_id}`\n                .replace(`{${\"connector_cluster_id\"}}`, encodeURIComponent(String(connectorClusterId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'DELETE' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Get a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorCluster: (connectorClusterId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorClusterId' is not null or undefined\n            common_1.assertParamExists('getConnectorCluster', 'connectorClusterId', connectorClusterId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters/{connector_cluster_id}`\n                .replace(`{${\"connector_cluster_id\"}}`, encodeURIComponent(String(connectorClusterId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Get a connector cluster\\'s addon parameters\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorClusterAddonParameters: (connectorClusterId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorClusterId' is not null or undefined\n            common_1.assertParamExists('getConnectorClusterAddonParameters', 'connectorClusterId', connectorClusterId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters/{connector_cluster_id}/addon_parameters`\n                .replace(`{${\"connector_cluster_id\"}}`, encodeURIComponent(String(connectorClusterId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of connector clusters\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorClusters: (page, size, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.ConnectorClustersApiAxiosParamCreator = ConnectorClustersApiAxiosParamCreator;\n/**\n * ConnectorClustersApi - functional programming interface\n * @export\n */\nconst ConnectorClustersApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.ConnectorClustersApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Create a new connector cluster\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {ConnectorCluster} connectorCluster Connector cluster data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnectorCluster(async, connectorCluster, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.createConnectorCluster(async, connectorCluster, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Delete a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnectorCluster(connectorClusterId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteConnectorCluster(connectorClusterId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Get a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorCluster(connectorClusterId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getConnectorCluster(connectorClusterId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Get a connector cluster\\'s addon parameters\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorClusterAddonParameters(connectorClusterId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getConnectorClusterAddonParameters(connectorClusterId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of connector clusters\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorClusters(page, size, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.listConnectorClusters(page, size, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.ConnectorClustersApiFp = ConnectorClustersApiFp;\n/**\n * ConnectorClustersApi - factory interface\n * @export\n */\nconst ConnectorClustersApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.ConnectorClustersApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Create a new connector cluster\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {ConnectorCluster} connectorCluster Connector cluster data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnectorCluster(async, connectorCluster, options) {\n            return localVarFp.createConnectorCluster(async, connectorCluster, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Delete a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnectorCluster(connectorClusterId, options) {\n            return localVarFp.deleteConnectorCluster(connectorClusterId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Get a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorCluster(connectorClusterId, options) {\n            return localVarFp.getConnectorCluster(connectorClusterId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Get a connector cluster\\'s addon parameters\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorClusterAddonParameters(connectorClusterId, options) {\n            return localVarFp.getConnectorClusterAddonParameters(connectorClusterId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of connector clusters\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorClusters(page, size, options) {\n            return localVarFp.listConnectorClusters(page, size, options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.ConnectorClustersApiFactory = ConnectorClustersApiFactory;\n/**\n * ConnectorClustersApi - object-oriented interface\n * @export\n * @class ConnectorClustersApi\n * @extends {BaseAPI}\n */\nclass ConnectorClustersApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Create a new connector cluster\n     * @param {boolean} async Perform the action in an asynchronous manner\n     * @param {ConnectorCluster} connectorCluster Connector cluster data\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    createConnectorCluster(async, connectorCluster, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).createConnectorCluster(async, connectorCluster, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Delete a connector cluster\n     * @param {string} connectorClusterId The id of the connector cluster\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    deleteConnectorCluster(connectorClusterId, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).deleteConnectorCluster(connectorClusterId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Get a connector cluster\n     * @param {string} connectorClusterId The id of the connector cluster\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    getConnectorCluster(connectorClusterId, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).getConnectorCluster(connectorClusterId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Get a connector cluster\\'s addon parameters\n     * @param {string} connectorClusterId The id of the connector cluster\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    getConnectorClusterAddonParameters(connectorClusterId, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).getConnectorClusterAddonParameters(connectorClusterId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of connector clusters\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    listConnectorClusters(page, size, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).listConnectorClusters(page, size, options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.ConnectorClustersApi = ConnectorClustersApi;\n/**\n * ConnectorTypesApi - axios parameter creator\n * @export\n */\nconst ConnectorTypesApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Get a connector type by id\n         * @param {string} connectorTypeId The id of the connector type\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorTypeByID: (connectorTypeId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorTypeId' is not null or undefined\n            common_1.assertParamExists('getConnectorTypeByID', 'connectorTypeId', connectorTypeId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_types/{connector_type_id}`\n                .replace(`{${\"connector_type_id\"}}`, encodeURIComponent(String(connectorTypeId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorTypes: (page, size, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_types`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.ConnectorTypesApiAxiosParamCreator = ConnectorTypesApiAxiosParamCreator;\n/**\n * ConnectorTypesApi - functional programming interface\n * @export\n */\nconst ConnectorTypesApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.ConnectorTypesApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Get a connector type by id\n         * @param {string} connectorTypeId The id of the connector type\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorTypeByID(connectorTypeId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getConnectorTypeByID(connectorTypeId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorTypes(page, size, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.listConnectorTypes(page, size, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.ConnectorTypesApiFp = ConnectorTypesApiFp;\n/**\n * ConnectorTypesApi - factory interface\n * @export\n */\nconst ConnectorTypesApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.ConnectorTypesApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Get a connector type by id\n         * @param {string} connectorTypeId The id of the connector type\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorTypeByID(connectorTypeId, options) {\n            return localVarFp.getConnectorTypeByID(connectorTypeId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorTypes(page, size, options) {\n            return localVarFp.listConnectorTypes(page, size, options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.ConnectorTypesApiFactory = ConnectorTypesApiFactory;\n/**\n * ConnectorTypesApi - object-oriented interface\n * @export\n * @class ConnectorTypesApi\n * @extends {BaseAPI}\n */\nclass ConnectorTypesApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Get a connector type by id\n     * @param {string} connectorTypeId The id of the connector type\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorTypesApi\n     */\n    getConnectorTypeByID(connectorTypeId, options) {\n        return exports.ConnectorTypesApiFp(this.configuration).getConnectorTypeByID(connectorTypeId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of connector types\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorTypesApi\n     */\n    listConnectorTypes(page, size, options) {\n        return exports.ConnectorTypesApiFp(this.configuration).listConnectorTypes(page, size, options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.ConnectorTypesApi = ConnectorTypesApi;\n/**\n * ConnectorsApi - axios parameter creator\n * @export\n */\nconst ConnectorsApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Create a new connector\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {Connector} connector Connector data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnector: (async, connector, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'async' is not null or undefined\n            common_1.assertParamExists('createConnector', 'async', async);\n            // verify required parameter 'connector' is not null or undefined\n            common_1.assertParamExists('createConnector', 'connector', connector);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (async !== undefined) {\n                localVarQueryParameter['async'] = async;\n            }\n            localVarHeaderParameter['Content-Type'] = 'application/json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(connector, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Delete a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnector: (connectorId, kafkaId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorId' is not null or undefined\n            common_1.assertParamExists('deleteConnector', 'connectorId', connectorId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors/{connector_id}`\n                .replace(`{${\"connector_id\"}}`, encodeURIComponent(String(connectorId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'DELETE' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (kafkaId !== undefined) {\n                localVarQueryParameter['kafka_id'] = kafkaId;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Get a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnector: (connectorId, kafkaId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorId' is not null or undefined\n            common_1.assertParamExists('getConnector', 'connectorId', connectorId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors/{connector_id}`\n                .replace(`{${\"connector_id\"}}`, encodeURIComponent(String(connectorId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (kafkaId !== undefined) {\n                localVarQueryParameter['kafka_id'] = kafkaId;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectors: (page, size, kafkaId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            if (kafkaId !== undefined) {\n                localVarQueryParameter['kafka_id'] = kafkaId;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary patch a connector\n         * @param {string} connectorId The id of the connector\n         * @param {object} body Data to patch the connector with\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        patchConnector: (connectorId, body, kafkaId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorId' is not null or undefined\n            common_1.assertParamExists('patchConnector', 'connectorId', connectorId);\n            // verify required parameter 'body' is not null or undefined\n            common_1.assertParamExists('patchConnector', 'body', body);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors/{connector_id}`\n                .replace(`{${\"connector_id\"}}`, encodeURIComponent(String(connectorId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'PATCH' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (kafkaId !== undefined) {\n                localVarQueryParameter['kafka_id'] = kafkaId;\n            }\n            localVarHeaderParameter['Content-Type'] = 'application/json-patch+json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(body, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.ConnectorsApiAxiosParamCreator = ConnectorsApiAxiosParamCreator;\n/**\n * ConnectorsApi - functional programming interface\n * @export\n */\nconst ConnectorsApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.ConnectorsApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Create a new connector\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {Connector} connector Connector data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnector(async, connector, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.createConnector(async, connector, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Delete a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnector(connectorId, kafkaId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteConnector(connectorId, kafkaId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Get a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnector(connectorId, kafkaId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getConnector(connectorId, kafkaId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectors(page, size, kafkaId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.listConnectors(page, size, kafkaId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary patch a connector\n         * @param {string} connectorId The id of the connector\n         * @param {object} body Data to patch the connector with\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        patchConnector(connectorId, body, kafkaId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.patchConnector(connectorId, body, kafkaId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.ConnectorsApiFp = ConnectorsApiFp;\n/**\n * ConnectorsApi - factory interface\n * @export\n */\nconst ConnectorsApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.ConnectorsApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Create a new connector\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {Connector} connector Connector data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnector(async, connector, options) {\n            return localVarFp.createConnector(async, connector, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Delete a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnector(connectorId, kafkaId, options) {\n            return localVarFp.deleteConnector(connectorId, kafkaId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Get a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnector(connectorId, kafkaId, options) {\n            return localVarFp.getConnector(connectorId, kafkaId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectors(page, size, kafkaId, options) {\n            return localVarFp.listConnectors(page, size, kafkaId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary patch a connector\n         * @param {string} connectorId The id of the connector\n         * @param {object} body Data to patch the connector with\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        patchConnector(connectorId, body, kafkaId, options) {\n            return localVarFp.patchConnector(connectorId, body, kafkaId, options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.ConnectorsApiFactory = ConnectorsApiFactory;\n/**\n * ConnectorsApi - object-oriented interface\n * @export\n * @class ConnectorsApi\n * @extends {BaseAPI}\n */\nclass ConnectorsApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Create a new connector\n     * @param {boolean} async Perform the action in an asynchronous manner\n     * @param {Connector} connector Connector data\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    createConnector(async, connector, options) {\n        return exports.ConnectorsApiFp(this.configuration).createConnector(async, connector, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Delete a connector\n     * @param {string} connectorId The id of the connector\n     * @param {string} [kafkaId] The kafka cluster id\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    deleteConnector(connectorId, kafkaId, options) {\n        return exports.ConnectorsApiFp(this.configuration).deleteConnector(connectorId, kafkaId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Get a connector\n     * @param {string} connectorId The id of the connector\n     * @param {string} [kafkaId] The kafka cluster id\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    getConnector(connectorId, kafkaId, options) {\n        return exports.ConnectorsApiFp(this.configuration).getConnector(connectorId, kafkaId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of connector types\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {string} [kafkaId] The kafka cluster id\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    listConnectors(page, size, kafkaId, options) {\n        return exports.ConnectorsApiFp(this.configuration).listConnectors(page, size, kafkaId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary patch a connector\n     * @param {string} connectorId The id of the connector\n     * @param {object} body Data to patch the connector with\n     * @param {string} [kafkaId] The kafka cluster id\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    patchConnector(connectorId, body, kafkaId, options) {\n        return exports.ConnectorsApiFp(this.configuration).patchConnector(connectorId, body, kafkaId, options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.ConnectorsApi = ConnectorsApi;\n/**\n * DefaultApi - axios parameter creator\n * @export\n */\nconst DefaultApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Creates a Kafka request\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {KafkaRequestPayload} kafkaRequestPayload Kafka data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createKafka: (async, kafkaRequestPayload, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'async' is not null or undefined\n            common_1.assertParamExists('createKafka', 'async', async);\n            // verify required parameter 'kafkaRequestPayload' is not null or undefined\n            common_1.assertParamExists('createKafka', 'kafkaRequestPayload', kafkaRequestPayload);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (async !== undefined) {\n                localVarQueryParameter['async'] = async;\n            }\n            localVarHeaderParameter['Content-Type'] = 'application/json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(kafkaRequestPayload, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Deletes a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteKafkaById: (id, async, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('deleteKafkaById', 'id', id);\n            // verify required parameter 'async' is not null or undefined\n            common_1.assertParamExists('deleteKafkaById', 'async', async);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas/{id}`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'DELETE' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (async !== undefined) {\n                localVarQueryParameter['async'] = async;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns the list of supported regions of the supported cloud provider\n         * @param {string} id The ID of record\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviderRegions: (id, page, size, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getCloudProviderRegions', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/cloud_providers/{id}/regions`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns the list of supported cloud providers\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviders: (page, size, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1/cloud_providers`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkaById: (id, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getKafkaById', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas/{id}`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of Kafka requests\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [orderBy] Specifies the order by criteria. The syntax of this parameter is similar to the syntax of the &#x60;order by&#x60; clause of an SQL statement. Each query can be ordered by any of the &#x60;kafkaRequests&#x60; fields. For example, to return all Kafka instances ordered by their name, use the following syntax:  &#x60;&#x60;&#x60;sql name asc &#x60;&#x60;&#x60;  To return all Kafka instances ordered by their name _and_ created date, use the following syntax:  &#x60;&#x60;&#x60;sql name asc, created_at asc &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then the results are ordered by name.\n         * @param {string} [search] Search criteria.  The syntax of this parameter is similar to the syntax of the &#x60;where&#x60; clause of an SQL statement. Allowed fields in the search are &#x60;cloud_provider&#x60;, &#x60;name&#x60;, &#x60;owner&#x60;, &#x60;region&#x60;, and &#x60;status&#x60;. Allowed comparators are &#x60;&lt;&gt;&#x60;, &#x60;&#x3D;&#x60;, or &#x60;LIKE&#x60;. Allowed joins are &#x60;AND&#x60; and &#x60;OR&#x60;. However, you can use a maximum of 10 joins in a search query.  Examples:  To return a Kafka instance with the name &#x60;my-kafka&#x60; and the region &#x60;aws&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name &#x3D; my-kafka and cloud_provider &#x3D; aws &#x60;&#x60;&#x60;[p-]  To return a Kafka instance with a name that starts with &#x60;my&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name like my%25 &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then all the Kafka instances that the user has permission to see are returned.  Note. If the query is invalid, an error is returned.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkas: (page, size, orderBy, search, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            if (orderBy !== undefined) {\n                localVarQueryParameter['orderBy'] = orderBy;\n            }\n            if (search !== undefined) {\n                localVarQueryParameter['search'] = search;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns metrics with instant query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByInstantQuery: (id, filters, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getMetricsByInstantQuery', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas/{id}/metrics/query`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (filters) {\n                localVarQueryParameter['filters'] = filters;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns metrics with timeseries range query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {number} duration The length of time in minutes for which to return the metrics\n         * @param {number} interval The interval in seconds between data points\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByRangeQuery: (id, duration, interval, filters, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getMetricsByRangeQuery', 'id', id);\n            // verify required parameter 'duration' is not null or undefined\n            common_1.assertParamExists('getMetricsByRangeQuery', 'duration', duration);\n            // verify required parameter 'interval' is not null or undefined\n            common_1.assertParamExists('getMetricsByRangeQuery', 'interval', interval);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas/{id}/metrics/query_range`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (duration !== undefined) {\n                localVarQueryParameter['duration'] = duration;\n            }\n            if (interval !== undefined) {\n                localVarQueryParameter['interval'] = interval;\n            }\n            if (filters) {\n                localVarQueryParameter['filters'] = filters;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns the status of resources, such as whether maximum service capacity has been reached\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceStatus: (options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1/status`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns the version metadata\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getVersionMetadata: (options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.DefaultApiAxiosParamCreator = DefaultApiAxiosParamCreator;\n/**\n * DefaultApi - functional programming interface\n * @export\n */\nconst DefaultApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.DefaultApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Creates a Kafka request\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {KafkaRequestPayload} kafkaRequestPayload Kafka data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createKafka(async, kafkaRequestPayload, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.createKafka(async, kafkaRequestPayload, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Deletes a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteKafkaById(id, async, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteKafkaById(id, async, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns the list of supported regions of the supported cloud provider\n         * @param {string} id The ID of record\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviderRegions(id, page, size, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getCloudProviderRegions(id, page, size, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns the list of supported cloud providers\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviders(page, size, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getCloudProviders(page, size, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkaById(id, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getKafkaById(id, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of Kafka requests\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [orderBy] Specifies the order by criteria. The syntax of this parameter is similar to the syntax of the &#x60;order by&#x60; clause of an SQL statement. Each query can be ordered by any of the &#x60;kafkaRequests&#x60; fields. For example, to return all Kafka instances ordered by their name, use the following syntax:  &#x60;&#x60;&#x60;sql name asc &#x60;&#x60;&#x60;  To return all Kafka instances ordered by their name _and_ created date, use the following syntax:  &#x60;&#x60;&#x60;sql name asc, created_at asc &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then the results are ordered by name.\n         * @param {string} [search] Search criteria.  The syntax of this parameter is similar to the syntax of the &#x60;where&#x60; clause of an SQL statement. Allowed fields in the search are &#x60;cloud_provider&#x60;, &#x60;name&#x60;, &#x60;owner&#x60;, &#x60;region&#x60;, and &#x60;status&#x60;. Allowed comparators are &#x60;&lt;&gt;&#x60;, &#x60;&#x3D;&#x60;, or &#x60;LIKE&#x60;. Allowed joins are &#x60;AND&#x60; and &#x60;OR&#x60;. However, you can use a maximum of 10 joins in a search query.  Examples:  To return a Kafka instance with the name &#x60;my-kafka&#x60; and the region &#x60;aws&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name &#x3D; my-kafka and cloud_provider &#x3D; aws &#x60;&#x60;&#x60;[p-]  To return a Kafka instance with a name that starts with &#x60;my&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name like my%25 &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then all the Kafka instances that the user has permission to see are returned.  Note. If the query is invalid, an error is returned.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkas(page, size, orderBy, search, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getKafkas(page, size, orderBy, search, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns metrics with instant query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByInstantQuery(id, filters, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getMetricsByInstantQuery(id, filters, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns metrics with timeseries range query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {number} duration The length of time in minutes for which to return the metrics\n         * @param {number} interval The interval in seconds between data points\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByRangeQuery(id, duration, interval, filters, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getMetricsByRangeQuery(id, duration, interval, filters, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns the status of resources, such as whether maximum service capacity has been reached\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceStatus(options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getServiceStatus(options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns the version metadata\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getVersionMetadata(options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getVersionMetadata(options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.DefaultApiFp = DefaultApiFp;\n/**\n * DefaultApi - factory interface\n * @export\n */\nconst DefaultApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.DefaultApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Creates a Kafka request\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {KafkaRequestPayload} kafkaRequestPayload Kafka data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createKafka(async, kafkaRequestPayload, options) {\n            return localVarFp.createKafka(async, kafkaRequestPayload, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Deletes a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteKafkaById(id, async, options) {\n            return localVarFp.deleteKafkaById(id, async, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns the list of supported regions of the supported cloud provider\n         * @param {string} id The ID of record\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviderRegions(id, page, size, options) {\n            return localVarFp.getCloudProviderRegions(id, page, size, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns the list of supported cloud providers\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviders(page, size, options) {\n            return localVarFp.getCloudProviders(page, size, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkaById(id, options) {\n            return localVarFp.getKafkaById(id, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of Kafka requests\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [orderBy] Specifies the order by criteria. The syntax of this parameter is similar to the syntax of the &#x60;order by&#x60; clause of an SQL statement. Each query can be ordered by any of the &#x60;kafkaRequests&#x60; fields. For example, to return all Kafka instances ordered by their name, use the following syntax:  &#x60;&#x60;&#x60;sql name asc &#x60;&#x60;&#x60;  To return all Kafka instances ordered by their name _and_ created date, use the following syntax:  &#x60;&#x60;&#x60;sql name asc, created_at asc &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then the results are ordered by name.\n         * @param {string} [search] Search criteria.  The syntax of this parameter is similar to the syntax of the &#x60;where&#x60; clause of an SQL statement. Allowed fields in the search are &#x60;cloud_provider&#x60;, &#x60;name&#x60;, &#x60;owner&#x60;, &#x60;region&#x60;, and &#x60;status&#x60;. Allowed comparators are &#x60;&lt;&gt;&#x60;, &#x60;&#x3D;&#x60;, or &#x60;LIKE&#x60;. Allowed joins are &#x60;AND&#x60; and &#x60;OR&#x60;. However, you can use a maximum of 10 joins in a search query.  Examples:  To return a Kafka instance with the name &#x60;my-kafka&#x60; and the region &#x60;aws&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name &#x3D; my-kafka and cloud_provider &#x3D; aws &#x60;&#x60;&#x60;[p-]  To return a Kafka instance with a name that starts with &#x60;my&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name like my%25 &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then all the Kafka instances that the user has permission to see are returned.  Note. If the query is invalid, an error is returned.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkas(page, size, orderBy, search, options) {\n            return localVarFp.getKafkas(page, size, orderBy, search, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns metrics with instant query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByInstantQuery(id, filters, options) {\n            return localVarFp.getMetricsByInstantQuery(id, filters, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns metrics with timeseries range query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {number} duration The length of time in minutes for which to return the metrics\n         * @param {number} interval The interval in seconds between data points\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByRangeQuery(id, duration, interval, filters, options) {\n            return localVarFp.getMetricsByRangeQuery(id, duration, interval, filters, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns the status of resources, such as whether maximum service capacity has been reached\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceStatus(options) {\n            return localVarFp.getServiceStatus(options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns the version metadata\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getVersionMetadata(options) {\n            return localVarFp.getVersionMetadata(options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.DefaultApiFactory = DefaultApiFactory;\n/**\n * DefaultApi - object-oriented interface\n * @export\n * @class DefaultApi\n * @extends {BaseAPI}\n */\nclass DefaultApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Creates a Kafka request\n     * @param {boolean} async Perform the action in an asynchronous manner\n     * @param {KafkaRequestPayload} kafkaRequestPayload Kafka data\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    createKafka(async, kafkaRequestPayload, options) {\n        return exports.DefaultApiFp(this.configuration).createKafka(async, kafkaRequestPayload, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Deletes a Kafka request by ID\n     * @param {string} id The ID of record\n     * @param {boolean} async Perform the action in an asynchronous manner\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    deleteKafkaById(id, async, options) {\n        return exports.DefaultApiFp(this.configuration).deleteKafkaById(id, async, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns the list of supported regions of the supported cloud provider\n     * @param {string} id The ID of record\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getCloudProviderRegions(id, page, size, options) {\n        return exports.DefaultApiFp(this.configuration).getCloudProviderRegions(id, page, size, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns the list of supported cloud providers\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getCloudProviders(page, size, options) {\n        return exports.DefaultApiFp(this.configuration).getCloudProviders(page, size, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a Kafka request by ID\n     * @param {string} id The ID of record\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getKafkaById(id, options) {\n        return exports.DefaultApiFp(this.configuration).getKafkaById(id, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of Kafka requests\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {string} [orderBy] Specifies the order by criteria. The syntax of this parameter is similar to the syntax of the &#x60;order by&#x60; clause of an SQL statement. Each query can be ordered by any of the &#x60;kafkaRequests&#x60; fields. For example, to return all Kafka instances ordered by their name, use the following syntax:  &#x60;&#x60;&#x60;sql name asc &#x60;&#x60;&#x60;  To return all Kafka instances ordered by their name _and_ created date, use the following syntax:  &#x60;&#x60;&#x60;sql name asc, created_at asc &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then the results are ordered by name.\n     * @param {string} [search] Search criteria.  The syntax of this parameter is similar to the syntax of the &#x60;where&#x60; clause of an SQL statement. Allowed fields in the search are &#x60;cloud_provider&#x60;, &#x60;name&#x60;, &#x60;owner&#x60;, &#x60;region&#x60;, and &#x60;status&#x60;. Allowed comparators are &#x60;&lt;&gt;&#x60;, &#x60;&#x3D;&#x60;, or &#x60;LIKE&#x60;. Allowed joins are &#x60;AND&#x60; and &#x60;OR&#x60;. However, you can use a maximum of 10 joins in a search query.  Examples:  To return a Kafka instance with the name &#x60;my-kafka&#x60; and the region &#x60;aws&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name &#x3D; my-kafka and cloud_provider &#x3D; aws &#x60;&#x60;&#x60;[p-]  To return a Kafka instance with a name that starts with &#x60;my&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name like my%25 &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then all the Kafka instances that the user has permission to see are returned.  Note. If the query is invalid, an error is returned.\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getKafkas(page, size, orderBy, search, options) {\n        return exports.DefaultApiFp(this.configuration).getKafkas(page, size, orderBy, search, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns metrics with instant query by Kafka ID\n     * @param {string} id The ID of record\n     * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getMetricsByInstantQuery(id, filters, options) {\n        return exports.DefaultApiFp(this.configuration).getMetricsByInstantQuery(id, filters, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns metrics with timeseries range query by Kafka ID\n     * @param {string} id The ID of record\n     * @param {number} duration The length of time in minutes for which to return the metrics\n     * @param {number} interval The interval in seconds between data points\n     * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getMetricsByRangeQuery(id, duration, interval, filters, options) {\n        return exports.DefaultApiFp(this.configuration).getMetricsByRangeQuery(id, duration, interval, filters, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns the status of resources, such as whether maximum service capacity has been reached\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getServiceStatus(options) {\n        return exports.DefaultApiFp(this.configuration).getServiceStatus(options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns the version metadata\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getVersionMetadata(options) {\n        return exports.DefaultApiFp(this.configuration).getVersionMetadata(options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.DefaultApi = DefaultApi;\n/**\n * SecurityApi - axios parameter creator\n * @export\n */\nconst SecurityApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Creates a service account\n         * @param {ServiceAccountRequest} serviceAccountRequest Service account request\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createServiceAccount: (serviceAccountRequest, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'serviceAccountRequest' is not null or undefined\n            common_1.assertParamExists('createServiceAccount', 'serviceAccountRequest', serviceAccountRequest);\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            localVarHeaderParameter['Content-Type'] = 'application/json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(serviceAccountRequest, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Deletes a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteServiceAccountById: (id, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('deleteServiceAccountById', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts/{id}`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'DELETE' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returned service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccountById: (id, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getServiceAccountById', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts/{id}`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of service accounts\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccounts: (options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Resets the credentials for a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        resetServiceAccountCreds: (id, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('resetServiceAccountCreds', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts/{id}/reset_credentials`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.SecurityApiAxiosParamCreator = SecurityApiAxiosParamCreator;\n/**\n * SecurityApi - functional programming interface\n * @export\n */\nconst SecurityApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.SecurityApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Creates a service account\n         * @param {ServiceAccountRequest} serviceAccountRequest Service account request\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createServiceAccount(serviceAccountRequest, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.createServiceAccount(serviceAccountRequest, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Deletes a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteServiceAccountById(id, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteServiceAccountById(id, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returned service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccountById(id, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getServiceAccountById(id, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of service accounts\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccounts(options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getServiceAccounts(options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Resets the credentials for a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        resetServiceAccountCreds(id, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.resetServiceAccountCreds(id, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.SecurityApiFp = SecurityApiFp;\n/**\n * SecurityApi - factory interface\n * @export\n */\nconst SecurityApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.SecurityApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Creates a service account\n         * @param {ServiceAccountRequest} serviceAccountRequest Service account request\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createServiceAccount(serviceAccountRequest, options) {\n            return localVarFp.createServiceAccount(serviceAccountRequest, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Deletes a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteServiceAccountById(id, options) {\n            return localVarFp.deleteServiceAccountById(id, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returned service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccountById(id, options) {\n            return localVarFp.getServiceAccountById(id, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of service accounts\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccounts(options) {\n            return localVarFp.getServiceAccounts(options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Resets the credentials for a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        resetServiceAccountCreds(id, options) {\n            return localVarFp.resetServiceAccountCreds(id, options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.SecurityApiFactory = SecurityApiFactory;\n/**\n * SecurityApi - object-oriented interface\n * @export\n * @class SecurityApi\n * @extends {BaseAPI}\n */\nclass SecurityApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Creates a service account\n     * @param {ServiceAccountRequest} serviceAccountRequest Service account request\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    createServiceAccount(serviceAccountRequest, options) {\n        return exports.SecurityApiFp(this.configuration).createServiceAccount(serviceAccountRequest, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Deletes a service account by ID\n     * @param {string} id The ID of record\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    deleteServiceAccountById(id, options) {\n        return exports.SecurityApiFp(this.configuration).deleteServiceAccountById(id, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returned service account by ID\n     * @param {string} id The ID of record\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    getServiceAccountById(id, options) {\n        return exports.SecurityApiFp(this.configuration).getServiceAccountById(id, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of service accounts\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    getServiceAccounts(options) {\n        return exports.SecurityApiFp(this.configuration).getServiceAccounts(options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Resets the credentials for a service account by ID\n     * @param {string} id The ID of record\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    resetServiceAccountCreds(id, options) {\n        return exports.SecurityApiFp(this.configuration).resetServiceAccountCreds(id, options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.SecurityApi = SecurityApi;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2FwaS5qcz9iMjc0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwrREFBK0QsZ0JBQWdCLEVBQUUsRUFBRTtBQUM5RztBQUNBLG1DQUFtQyxNQUFNLDZCQUE2QixFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ2pHLGtDQUFrQyxNQUFNLGlDQUFpQyxFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ3BHLCtCQUErQixxRkFBcUY7QUFDcEg7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4Q0FBNkMsQ0FBQyxjQUFjLEVBQUM7QUFDN0QsbUJBQW1CLEdBQUcsMEJBQTBCLEdBQUcscUJBQXFCLEdBQUcsb0NBQW9DLEdBQUcsa0JBQWtCLEdBQUcseUJBQXlCLEdBQUcsb0JBQW9CLEdBQUcsbUNBQW1DLEdBQUcscUJBQXFCLEdBQUcsNEJBQTRCLEdBQUcsdUJBQXVCLEdBQUcsc0NBQXNDLEdBQUcseUJBQXlCLEdBQUcsZ0NBQWdDLEdBQUcsMkJBQTJCLEdBQUcsMENBQTBDLEdBQUcsNEJBQTRCLEdBQUcsbUNBQW1DLEdBQUcsOEJBQThCLEdBQUcsNkNBQTZDLEdBQUcsb0NBQW9DLEdBQUcsK0JBQStCO0FBQ2hzQixnQkFBZ0IsbUJBQU8sQ0FBQyxLQUFPO0FBQy9CO0FBQ0E7QUFDQSxpQkFBaUIsbUJBQU8sQ0FBQyxLQUFVO0FBQ25DO0FBQ0EsZUFBZSxtQkFBTyxDQUFDLEtBQVE7QUFDL0I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnRUFBZ0UsK0JBQStCLEtBQUs7QUFDckc7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywwRUFBMEUsb0NBQW9D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RUFBRTtBQUNyQixvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixPQUFPO0FBQzFCLG1CQUFtQixFQUFFO0FBQ3JCLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxzQkFBc0I7QUFDckMsZUFBZSxFQUFFO0FBQ2pCLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsRUFBRTtBQUNqQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLEVBQUU7QUFDakIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEVBQUU7QUFDakIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxFQUFFO0FBQ2pCLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIiLCJmaWxlIjoiMzExMDAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIHRzbGludDpkaXNhYmxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyoqXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyIGlzIGEgUmVzdCBBUEkgdG8gbWFuYWdlIGNvbm5lY3RvcnMuXG4gKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIE9wZW5BUEkgZG9jdW1lbnQ6IDAuMC4zXG4gKlxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNlY3VyaXR5QXBpID0gZXhwb3J0cy5TZWN1cml0eUFwaUZhY3RvcnkgPSBleHBvcnRzLlNlY3VyaXR5QXBpRnAgPSBleHBvcnRzLlNlY3VyaXR5QXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBleHBvcnRzLkRlZmF1bHRBcGkgPSBleHBvcnRzLkRlZmF1bHRBcGlGYWN0b3J5ID0gZXhwb3J0cy5EZWZhdWx0QXBpRnAgPSBleHBvcnRzLkRlZmF1bHRBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IGV4cG9ydHMuQ29ubmVjdG9yc0FwaSA9IGV4cG9ydHMuQ29ubmVjdG9yc0FwaUZhY3RvcnkgPSBleHBvcnRzLkNvbm5lY3RvcnNBcGlGcCA9IGV4cG9ydHMuQ29ubmVjdG9yc0FwaUF4aW9zUGFyYW1DcmVhdG9yID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaSA9IGV4cG9ydHMuQ29ubmVjdG9yVHlwZXNBcGlGYWN0b3J5ID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUZwID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUF4aW9zUGFyYW1DcmVhdG9yID0gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaSA9IGV4cG9ydHMuQ29ubmVjdG9yQ2x1c3RlcnNBcGlGYWN0b3J5ID0gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaUZwID0gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaUF4aW9zUGFyYW1DcmVhdG9yID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlQWxsT2ZMYWJlbHNFbnVtID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlTGFiZWxzRW51bSA9IHZvaWQgMDtcbmNvbnN0IGF4aW9zXzEgPSByZXF1aXJlKFwiYXhpb3NcIik7XG4vLyBTb21lIGltcG9ydHMgbm90IHVzZWQgZGVwZW5kaW5nIG9uIHRlbXBsYXRlIGNvbmRpdGlvbnNcbi8vIEB0cy1pZ25vcmVcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIi4vY29tbW9uXCIpO1xuLy8gQHRzLWlnbm9yZVxuY29uc3QgYmFzZV8xID0gcmVxdWlyZShcIi4vYmFzZVwiKTtcbi8qKlxuICAgICogQGV4cG9ydFxuICAgICogQGVudW0ge3N0cmluZ31cbiAgICAqL1xudmFyIENvbm5lY3RvclR5cGVMYWJlbHNFbnVtO1xuKGZ1bmN0aW9uIChDb25uZWN0b3JUeXBlTGFiZWxzRW51bSkge1xuICAgIENvbm5lY3RvclR5cGVMYWJlbHNFbnVtW1wiU2lua1wiXSA9IFwic2lua1wiO1xuICAgIENvbm5lY3RvclR5cGVMYWJlbHNFbnVtW1wiU291cmNlXCJdID0gXCJzb3VyY2VcIjtcbn0pKENvbm5lY3RvclR5cGVMYWJlbHNFbnVtID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlTGFiZWxzRW51bSB8fCAoZXhwb3J0cy5Db25uZWN0b3JUeXBlTGFiZWxzRW51bSA9IHt9KSk7XG4vKipcbiAgICAqIEBleHBvcnRcbiAgICAqIEBlbnVtIHtzdHJpbmd9XG4gICAgKi9cbnZhciBDb25uZWN0b3JUeXBlQWxsT2ZMYWJlbHNFbnVtO1xuKGZ1bmN0aW9uIChDb25uZWN0b3JUeXBlQWxsT2ZMYWJlbHNFbnVtKSB7XG4gICAgQ29ubmVjdG9yVHlwZUFsbE9mTGFiZWxzRW51bVtcIlNpbmtcIl0gPSBcInNpbmtcIjtcbiAgICBDb25uZWN0b3JUeXBlQWxsT2ZMYWJlbHNFbnVtW1wiU291cmNlXCJdID0gXCJzb3VyY2VcIjtcbn0pKENvbm5lY3RvclR5cGVBbGxPZkxhYmVsc0VudW0gPSBleHBvcnRzLkNvbm5lY3RvclR5cGVBbGxPZkxhYmVsc0VudW0gfHwgKGV4cG9ydHMuQ29ubmVjdG9yVHlwZUFsbE9mTGFiZWxzRW51bSA9IHt9KSk7XG4vKipcbiAqIENvbm5lY3RvckNsdXN0ZXJzQXBpIC0gYXhpb3MgcGFyYW1ldGVyIGNyZWF0b3JcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgQ29ubmVjdG9yQ2x1c3RlcnNBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7Q29ubmVjdG9yQ2x1c3Rlcn0gY29ubmVjdG9yQ2x1c3RlciBDb25uZWN0b3IgY2x1c3RlciBkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDb25uZWN0b3JDbHVzdGVyOiAoYXN5bmMsIGNvbm5lY3RvckNsdXN0ZXIsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYXN5bmMnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZUNvbm5lY3RvckNsdXN0ZXInLCAnYXN5bmMnLCBhc3luYyk7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdjb25uZWN0b3JDbHVzdGVyJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdjcmVhdGVDb25uZWN0b3JDbHVzdGVyJywgJ2Nvbm5lY3RvckNsdXN0ZXInLCBjb25uZWN0b3JDbHVzdGVyKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2Nvbm5lY3Rvcl9tZ210L3YxL2thZmthX2Nvbm5lY3Rvcl9jbHVzdGVyc2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ1BPU1QnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChhc3luYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnYXN5bmMnXSA9IGFzeW5jO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5kYXRhID0gY29tbW9uXzEuc2VyaWFsaXplRGF0YUlmTmVlZGVkKGNvbm5lY3RvckNsdXN0ZXIsIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgRGVsZXRlIGEgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVDb25uZWN0b3JDbHVzdGVyOiAoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2Nvbm5lY3RvckNsdXN0ZXJJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZGVsZXRlQ29ubmVjdG9yQ2x1c3RlcicsICdjb25uZWN0b3JDbHVzdGVySWQnLCBjb25uZWN0b3JDbHVzdGVySWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yX2NsdXN0ZXJzL3tjb25uZWN0b3JfY2x1c3Rlcl9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiY29ubmVjdG9yX2NsdXN0ZXJfaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjb25uZWN0b3JDbHVzdGVySWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0RFTEVURScgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb25uZWN0b3JDbHVzdGVyOiAoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2Nvbm5lY3RvckNsdXN0ZXJJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0Q29ubmVjdG9yQ2x1c3RlcicsICdjb25uZWN0b3JDbHVzdGVySWQnLCBjb25uZWN0b3JDbHVzdGVySWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yX2NsdXN0ZXJzL3tjb25uZWN0b3JfY2x1c3Rlcl9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiY29ubmVjdG9yX2NsdXN0ZXJfaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjb25uZWN0b3JDbHVzdGVySWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIGNsdXN0ZXJcXCdzIGFkZG9uIHBhcmFtZXRlcnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb25uZWN0b3JDbHVzdGVyQWRkb25QYXJhbWV0ZXJzOiAoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2Nvbm5lY3RvckNsdXN0ZXJJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0Q29ubmVjdG9yQ2x1c3RlckFkZG9uUGFyYW1ldGVycycsICdjb25uZWN0b3JDbHVzdGVySWQnLCBjb25uZWN0b3JDbHVzdGVySWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yX2NsdXN0ZXJzL3tjb25uZWN0b3JfY2x1c3Rlcl9pZH0vYWRkb25fcGFyYW1ldGVyc2BcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJjb25uZWN0b3JfY2x1c3Rlcl9pZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGNvbm5lY3RvckNsdXN0ZXJJZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgY2x1c3RlcnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENvbm5lY3RvckNsdXN0ZXJzOiAocGFnZSwgc2l6ZSwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9jb25uZWN0b3JfbWdtdC92MS9rYWZrYV9jb25uZWN0b3JfY2x1c3RlcnNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChwYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydwYWdlJ10gPSBwYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ3NpemUnXSA9IHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBDb25uZWN0b3JDbHVzdGVyc0FwaUF4aW9zUGFyYW1DcmVhdG9yO1xuLyoqXG4gKiBDb25uZWN0b3JDbHVzdGVyc0FwaSAtIGZ1bmN0aW9uYWwgcHJvZ3JhbW1pbmcgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvckNsdXN0ZXJzQXBpRnAgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbikge1xuICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IgPSBleHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpQXhpb3NQYXJhbUNyZWF0b3IoY29uZmlndXJhdGlvbik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7Q29ubmVjdG9yQ2x1c3Rlcn0gY29ubmVjdG9yQ2x1c3RlciBDb25uZWN0b3IgY2x1c3RlciBkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDb25uZWN0b3JDbHVzdGVyKGFzeW5jLCBjb25uZWN0b3JDbHVzdGVyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5jcmVhdGVDb25uZWN0b3JDbHVzdGVyKGFzeW5jLCBjb25uZWN0b3JDbHVzdGVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBEZWxldGUgYSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yQ2x1c3RlcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUNvbm5lY3RvckNsdXN0ZXIoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5kZWxldGVDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0Q29ubmVjdG9yQ2x1c3Rlcihjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvciBjbHVzdGVyXFwncyBhZGRvbiBwYXJhbWV0ZXJzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JDbHVzdGVySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29ubmVjdG9yQ2x1c3RlckFkZG9uUGFyYW1ldGVycyhjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldENvbm5lY3RvckNsdXN0ZXJBZGRvblBhcmFtZXRlcnMoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgY2x1c3RlcnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENvbm5lY3RvckNsdXN0ZXJzKHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmxpc3RDb25uZWN0b3JDbHVzdGVycyhwYWdlLCBzaXplLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpRnAgPSBDb25uZWN0b3JDbHVzdGVyc0FwaUZwO1xuLyoqXG4gKiBDb25uZWN0b3JDbHVzdGVyc0FwaSAtIGZhY3RvcnkgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvckNsdXN0ZXJzQXBpRmFjdG9yeSA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uLCBiYXNlUGF0aCwgYXhpb3MpIHtcbiAgICBjb25zdCBsb2NhbFZhckZwID0gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaUZwKGNvbmZpZ3VyYXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGUgYSBuZXcgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0ge0Nvbm5lY3RvckNsdXN0ZXJ9IGNvbm5lY3RvckNsdXN0ZXIgQ29ubmVjdG9yIGNsdXN0ZXIgZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlQ29ubmVjdG9yQ2x1c3Rlcihhc3luYywgY29ubmVjdG9yQ2x1c3Rlciwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuY3JlYXRlQ29ubmVjdG9yQ2x1c3Rlcihhc3luYywgY29ubmVjdG9yQ2x1c3Rlciwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JDbHVzdGVySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlQ29ubmVjdG9yQ2x1c3Rlcihjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmRlbGV0ZUNvbm5lY3RvckNsdXN0ZXIoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0Q29ubmVjdG9yQ2x1c3Rlcihjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3IgY2x1c3RlclxcJ3MgYWRkb24gcGFyYW1ldGVyc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yQ2x1c3RlcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3RvckNsdXN0ZXJBZGRvblBhcmFtZXRlcnMoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5nZXRDb25uZWN0b3JDbHVzdGVyQWRkb25QYXJhbWV0ZXJzKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIGNvbm5lY3RvciBjbHVzdGVyc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0Q29ubmVjdG9yQ2x1c3RlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAubGlzdENvbm5lY3RvckNsdXN0ZXJzKHBhZ2UsIHNpemUsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpRmFjdG9yeSA9IENvbm5lY3RvckNsdXN0ZXJzQXBpRmFjdG9yeTtcbi8qKlxuICogQ29ubmVjdG9yQ2x1c3RlcnNBcGkgLSBvYmplY3Qtb3JpZW50ZWQgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgQ29ubmVjdG9yQ2x1c3RlcnNBcGlcbiAqIEBleHRlbmRzIHtCYXNlQVBJfVxuICovXG5jbGFzcyBDb25uZWN0b3JDbHVzdGVyc0FwaSBleHRlbmRzIGJhc2VfMS5CYXNlQVBJIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBjb25uZWN0b3IgY2x1c3RlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXN5bmMgUGVyZm9ybSB0aGUgYWN0aW9uIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXJcbiAgICAgKiBAcGFyYW0ge0Nvbm5lY3RvckNsdXN0ZXJ9IGNvbm5lY3RvckNsdXN0ZXIgQ29ubmVjdG9yIGNsdXN0ZXIgZGF0YVxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yQ2x1c3RlcnNBcGlcbiAgICAgKi9cbiAgICBjcmVhdGVDb25uZWN0b3JDbHVzdGVyKGFzeW5jLCBjb25uZWN0b3JDbHVzdGVyLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5jcmVhdGVDb25uZWN0b3JDbHVzdGVyKGFzeW5jLCBjb25uZWN0b3JDbHVzdGVyLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBEZWxldGUgYSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JDbHVzdGVySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yQ2x1c3RlcnNBcGlcbiAgICAgKi9cbiAgICBkZWxldGVDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuZGVsZXRlQ29ubmVjdG9yQ2x1c3Rlcihjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBDb25uZWN0b3JDbHVzdGVyc0FwaVxuICAgICAqL1xuICAgIGdldENvbm5lY3RvckNsdXN0ZXIoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIGNsdXN0ZXJcXCdzIGFkZG9uIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yQ2x1c3RlcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIENvbm5lY3RvckNsdXN0ZXJzQXBpXG4gICAgICovXG4gICAgZ2V0Q29ubmVjdG9yQ2x1c3RlckFkZG9uUGFyYW1ldGVycyhjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuQ29ubmVjdG9yQ2x1c3RlcnNBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmdldENvbm5lY3RvckNsdXN0ZXJBZGRvblBhcmFtZXRlcnMoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgY2x1c3RlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIENvbm5lY3RvckNsdXN0ZXJzQXBpXG4gICAgICovXG4gICAgbGlzdENvbm5lY3RvckNsdXN0ZXJzKHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuQ29ubmVjdG9yQ2x1c3RlcnNBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmxpc3RDb25uZWN0b3JDbHVzdGVycyhwYWdlLCBzaXplLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG59XG5leHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpID0gQ29ubmVjdG9yQ2x1c3RlcnNBcGk7XG4vKipcbiAqIENvbm5lY3RvclR5cGVzQXBpIC0gYXhpb3MgcGFyYW1ldGVyIGNyZWF0b3JcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgQ29ubmVjdG9yVHlwZXNBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvciB0eXBlIGJ5IGlkXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JUeXBlSWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgdHlwZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29ubmVjdG9yVHlwZUJ5SUQ6IChjb25uZWN0b3JUeXBlSWQsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY29ubmVjdG9yVHlwZUlkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdnZXRDb25uZWN0b3JUeXBlQnlJRCcsICdjb25uZWN0b3JUeXBlSWQnLCBjb25uZWN0b3JUeXBlSWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yX3R5cGVzL3tjb25uZWN0b3JfdHlwZV9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiY29ubmVjdG9yX3R5cGVfaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjb25uZWN0b3JUeXBlSWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgY29ubmVjdG9yIHR5cGVzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RDb25uZWN0b3JUeXBlczogKHBhZ2UsIHNpemUsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yX3R5cGVzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAocGFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsncGFnZSddID0gcGFnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydzaXplJ10gPSBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgIH07XG59O1xuZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUF4aW9zUGFyYW1DcmVhdG9yID0gQ29ubmVjdG9yVHlwZXNBcGlBeGlvc1BhcmFtQ3JlYXRvcjtcbi8qKlxuICogQ29ubmVjdG9yVHlwZXNBcGkgLSBmdW5jdGlvbmFsIHByb2dyYW1taW5nIGludGVyZmFjZVxuICogQGV4cG9ydFxuICovXG5jb25zdCBDb25uZWN0b3JUeXBlc0FwaUZwID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24pIHtcbiAgICBjb25zdCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUF4aW9zUGFyYW1DcmVhdG9yKGNvbmZpZ3VyYXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3IgdHlwZSBieSBpZFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yVHlwZUlkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIHR5cGVcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3RvclR5cGVCeUlEKGNvbm5lY3RvclR5cGVJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0Q29ubmVjdG9yVHlwZUJ5SUQoY29ubmVjdG9yVHlwZUlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgdHlwZXNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENvbm5lY3RvclR5cGVzKHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmxpc3RDb25uZWN0b3JUeXBlcyhwYWdlLCBzaXplLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvclR5cGVzQXBpRnAgPSBDb25uZWN0b3JUeXBlc0FwaUZwO1xuLyoqXG4gKiBDb25uZWN0b3JUeXBlc0FwaSAtIGZhY3RvcnkgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvclR5cGVzQXBpRmFjdG9yeSA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uLCBiYXNlUGF0aCwgYXhpb3MpIHtcbiAgICBjb25zdCBsb2NhbFZhckZwID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUZwKGNvbmZpZ3VyYXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3IgdHlwZSBieSBpZFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yVHlwZUlkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIHR5cGVcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3RvclR5cGVCeUlEKGNvbm5lY3RvclR5cGVJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0Q29ubmVjdG9yVHlwZUJ5SUQoY29ubmVjdG9yVHlwZUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgY29ubmVjdG9yIHR5cGVzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RDb25uZWN0b3JUeXBlcyhwYWdlLCBzaXplLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5saXN0Q29ubmVjdG9yVHlwZXMocGFnZSwgc2l6ZSwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbmV4cG9ydHMuQ29ubmVjdG9yVHlwZXNBcGlGYWN0b3J5ID0gQ29ubmVjdG9yVHlwZXNBcGlGYWN0b3J5O1xuLyoqXG4gKiBDb25uZWN0b3JUeXBlc0FwaSAtIG9iamVjdC1vcmllbnRlZCBpbnRlcmZhY2VcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBDb25uZWN0b3JUeXBlc0FwaVxuICogQGV4dGVuZHMge0Jhc2VBUEl9XG4gKi9cbmNsYXNzIENvbm5lY3RvclR5cGVzQXBpIGV4dGVuZHMgYmFzZV8xLkJhc2VBUEkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIHR5cGUgYnkgaWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yVHlwZUlkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIHR5cGVcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIENvbm5lY3RvclR5cGVzQXBpXG4gICAgICovXG4gICAgZ2V0Q29ubmVjdG9yVHlwZUJ5SUQoY29ubmVjdG9yVHlwZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkNvbm5lY3RvclR5cGVzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRDb25uZWN0b3JUeXBlQnlJRChjb25uZWN0b3JUeXBlSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIGNvbm5lY3RvciB0eXBlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yVHlwZXNBcGlcbiAgICAgKi9cbiAgICBsaXN0Q29ubmVjdG9yVHlwZXMocGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUZwKHRoaXMuY29uZmlndXJhdGlvbikubGlzdENvbm5lY3RvclR5cGVzKHBhZ2UsIHNpemUsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29ubmVjdG9yVHlwZXNBcGkgPSBDb25uZWN0b3JUeXBlc0FwaTtcbi8qKlxuICogQ29ubmVjdG9yc0FwaSAtIGF4aW9zIHBhcmFtZXRlciBjcmVhdG9yXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvcnNBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0ge0Nvbm5lY3Rvcn0gY29ubmVjdG9yIENvbm5lY3RvciBkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDb25uZWN0b3I6IChhc3luYywgY29ubmVjdG9yLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2FzeW5jJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdjcmVhdGVDb25uZWN0b3InLCAnYXN5bmMnLCBhc3luYyk7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdjb25uZWN0b3InIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZUNvbm5lY3RvcicsICdjb25uZWN0b3InLCBjb25uZWN0b3IpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yc2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ1BPU1QnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChhc3luYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnYXN5bmMnXSA9IGFzeW5jO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5kYXRhID0gY29tbW9uXzEuc2VyaWFsaXplRGF0YUlmTmVlZGVkKGNvbm5lY3RvciwgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucywgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBEZWxldGUgYSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUNvbm5lY3RvcjogKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2Nvbm5lY3RvcklkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdkZWxldGVDb25uZWN0b3InLCAnY29ubmVjdG9ySWQnLCBjb25uZWN0b3JJZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9jb25uZWN0b3JfbWdtdC92MS9rYWZrYV9jb25uZWN0b3JzL3tjb25uZWN0b3JfaWR9YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImNvbm5lY3Rvcl9pZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGNvbm5lY3RvcklkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdERUxFVEUnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChrYWZrYUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydrYWZrYV9pZCddID0ga2Fma2FJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29ubmVjdG9yOiAoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY29ubmVjdG9ySWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2dldENvbm5lY3RvcicsICdjb25uZWN0b3JJZCcsIGNvbm5lY3RvcklkKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2Nvbm5lY3Rvcl9tZ210L3YxL2thZmthX2Nvbm5lY3RvcnMve2Nvbm5lY3Rvcl9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiY29ubmVjdG9yX2lkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoY29ubmVjdG9ySWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKGthZmthSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ2thZmthX2lkJ10gPSBrYWZrYUlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgY29ubmVjdG9yIHR5cGVzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENvbm5lY3RvcnM6IChwYWdlLCBzaXplLCBrYWZrYUlkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2Nvbm5lY3Rvcl9tZ210L3YxL2thZmthX2Nvbm5lY3RvcnNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChwYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydwYWdlJ10gPSBwYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ3NpemUnXSA9IHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2Fma2FJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsna2Fma2FfaWQnXSA9IGthZmthSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBwYXRjaCBhIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGJvZHkgRGF0YSB0byBwYXRjaCB0aGUgY29ubmVjdG9yIHdpdGhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgcGF0Y2hDb25uZWN0b3I6IChjb25uZWN0b3JJZCwgYm9keSwga2Fma2FJZCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdjb25uZWN0b3JJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygncGF0Y2hDb25uZWN0b3InLCAnY29ubmVjdG9ySWQnLCBjb25uZWN0b3JJZCk7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdib2R5JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdwYXRjaENvbm5lY3RvcicsICdib2R5JywgYm9keSk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9jb25uZWN0b3JfbWdtdC92MS9rYWZrYV9jb25uZWN0b3JzL3tjb25uZWN0b3JfaWR9YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImNvbm5lY3Rvcl9pZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGNvbm5lY3RvcklkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdQQVRDSCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKGthZmthSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ2thZmthX2lkJ10gPSBrYWZrYUlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24tcGF0Y2granNvbic7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmRhdGEgPSBjb21tb25fMS5zZXJpYWxpemVEYXRhSWZOZWVkZWQoYm9keSwgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucywgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvcnNBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IENvbm5lY3RvcnNBcGlBeGlvc1BhcmFtQ3JlYXRvcjtcbi8qKlxuICogQ29ubmVjdG9yc0FwaSAtIGZ1bmN0aW9uYWwgcHJvZ3JhbW1pbmcgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvcnNBcGlGcCA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgY29uc3QgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvciA9IGV4cG9ydHMuQ29ubmVjdG9yc0FwaUF4aW9zUGFyYW1DcmVhdG9yKGNvbmZpZ3VyYXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGUgYSBuZXcgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXN5bmMgUGVyZm9ybSB0aGUgYWN0aW9uIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXJcbiAgICAgICAgICogQHBhcmFtIHtDb25uZWN0b3J9IGNvbm5lY3RvciBDb25uZWN0b3IgZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlQ29ubmVjdG9yKGFzeW5jLCBjb25uZWN0b3IsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmNyZWF0ZUNvbm5lY3Rvcihhc3luYywgY29ubmVjdG9yLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBEZWxldGUgYSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUNvbm5lY3Rvcihjb25uZWN0b3JJZCwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZGVsZXRlQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3Rvcihjb25uZWN0b3JJZCwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0Q29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgdHlwZXNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2thZmthSWRdIFRoZSBrYWZrYSBjbHVzdGVyIGlkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0Q29ubmVjdG9ycyhwYWdlLCBzaXplLCBrYWZrYUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5saXN0Q29ubmVjdG9ycyhwYWdlLCBzaXplLCBrYWZrYUlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBwYXRjaCBhIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGJvZHkgRGF0YSB0byBwYXRjaCB0aGUgY29ubmVjdG9yIHdpdGhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgcGF0Y2hDb25uZWN0b3IoY29ubmVjdG9ySWQsIGJvZHksIGthZmthSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLnBhdGNoQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBib2R5LCBrYWZrYUlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvcnNBcGlGcCA9IENvbm5lY3RvcnNBcGlGcDtcbi8qKlxuICogQ29ubmVjdG9yc0FwaSAtIGZhY3RvcnkgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvcnNBcGlGYWN0b3J5ID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24sIGJhc2VQYXRoLCBheGlvcykge1xuICAgIGNvbnN0IGxvY2FsVmFyRnAgPSBleHBvcnRzLkNvbm5lY3RvcnNBcGlGcChjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlIGEgbmV3IGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7Q29ubmVjdG9yfSBjb25uZWN0b3IgQ29ubmVjdG9yIGRhdGFcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUNvbm5lY3Rvcihhc3luYywgY29ubmVjdG9yLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5jcmVhdGVDb25uZWN0b3IoYXN5bmMsIGNvbm5lY3Rvciwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5kZWxldGVDb25uZWN0b3IoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3Rvcihjb25uZWN0b3JJZCwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0Q29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgY29ubmVjdG9yIHR5cGVzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENvbm5lY3RvcnMocGFnZSwgc2l6ZSwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAubGlzdENvbm5lY3RvcnMocGFnZSwgc2l6ZSwga2Fma2FJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IHBhdGNoIGEgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gYm9keSBEYXRhIHRvIHBhdGNoIHRoZSBjb25uZWN0b3Igd2l0aFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2thZmthSWRdIFRoZSBrYWZrYSBjbHVzdGVyIGlkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBwYXRjaENvbm5lY3Rvcihjb25uZWN0b3JJZCwgYm9keSwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAucGF0Y2hDb25uZWN0b3IoY29ubmVjdG9ySWQsIGJvZHksIGthZmthSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvcnNBcGlGYWN0b3J5ID0gQ29ubmVjdG9yc0FwaUZhY3Rvcnk7XG4vKipcbiAqIENvbm5lY3RvcnNBcGkgLSBvYmplY3Qtb3JpZW50ZWQgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgQ29ubmVjdG9yc0FwaVxuICogQGV4dGVuZHMge0Jhc2VBUEl9XG4gKi9cbmNsYXNzIENvbm5lY3RvcnNBcGkgZXh0ZW5kcyBiYXNlXzEuQmFzZUFQSSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBDcmVhdGUgYSBuZXcgY29ubmVjdG9yXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAqIEBwYXJhbSB7Q29ubmVjdG9yfSBjb25uZWN0b3IgQ29ubmVjdG9yIGRhdGFcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIENvbm5lY3RvcnNBcGlcbiAgICAgKi9cbiAgICBjcmVhdGVDb25uZWN0b3IoYXN5bmMsIGNvbm5lY3Rvciwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5jcmVhdGVDb25uZWN0b3IoYXN5bmMsIGNvbm5lY3Rvciwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgRGVsZXRlIGEgY29ubmVjdG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yc0FwaVxuICAgICAqL1xuICAgIGRlbGV0ZUNvbm5lY3Rvcihjb25uZWN0b3JJZCwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5kZWxldGVDb25uZWN0b3IoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIENvbm5lY3RvcnNBcGlcbiAgICAgKi9cbiAgICBnZXRDb25uZWN0b3IoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuQ29ubmVjdG9yc0FwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuZ2V0Q29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgdHlwZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2thZmthSWRdIFRoZSBrYWZrYSBjbHVzdGVyIGlkXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBDb25uZWN0b3JzQXBpXG4gICAgICovXG4gICAgbGlzdENvbm5lY3RvcnMocGFnZSwgc2l6ZSwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5saXN0Q29ubmVjdG9ycyhwYWdlLCBzaXplLCBrYWZrYUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBwYXRjaCBhIGNvbm5lY3RvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBib2R5IERhdGEgdG8gcGF0Y2ggdGhlIGNvbm5lY3RvciB3aXRoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yc0FwaVxuICAgICAqL1xuICAgIHBhdGNoQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBib2R5LCBrYWZrYUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkNvbm5lY3RvcnNBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLnBhdGNoQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBib2R5LCBrYWZrYUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG59XG5leHBvcnRzLkNvbm5lY3RvcnNBcGkgPSBDb25uZWN0b3JzQXBpO1xuLyoqXG4gKiBEZWZhdWx0QXBpIC0gYXhpb3MgcGFyYW1ldGVyIGNyZWF0b3JcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgRGVmYXVsdEFwaUF4aW9zUGFyYW1DcmVhdG9yID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIEthZmthIHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0ge0thZmthUmVxdWVzdFBheWxvYWR9IGthZmthUmVxdWVzdFBheWxvYWQgS2Fma2EgZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlS2Fma2E6IChhc3luYywga2Fma2FSZXF1ZXN0UGF5bG9hZCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdhc3luYycgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnY3JlYXRlS2Fma2EnLCAnYXN5bmMnLCBhc3luYyk7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdrYWZrYVJlcXVlc3RQYXlsb2FkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdjcmVhdGVLYWZrYScsICdrYWZrYVJlcXVlc3RQYXlsb2FkJywga2Fma2FSZXF1ZXN0UGF5bG9hZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9rYWZrYXNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdQT1NUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAoYXN5bmMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ2FzeW5jJ10gPSBhc3luYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuZGF0YSA9IGNvbW1vbl8xLnNlcmlhbGl6ZURhdGFJZk5lZWRlZChrYWZrYVJlcXVlc3RQYXlsb2FkLCBsb2NhbFZhclJlcXVlc3RPcHRpb25zLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZXMgYSBLYWZrYSByZXF1ZXN0IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXN5bmMgUGVyZm9ybSB0aGUgYWN0aW9uIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUthZmthQnlJZDogKGlkLCBhc3luYywgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZGVsZXRlS2Fma2FCeUlkJywgJ2lkJywgaWQpO1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYXN5bmMnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2RlbGV0ZUthZmthQnlJZCcsICdhc3luYycsIGFzeW5jKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL2thZmthcy97aWR9YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImlkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0RFTEVURScgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKGFzeW5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydhc3luYyddID0gYXN5bmM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBsaXN0IG9mIHN1cHBvcnRlZCByZWdpb25zIG9mIHRoZSBzdXBwb3J0ZWQgY2xvdWQgcHJvdmlkZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnM6IChpZCwgcGFnZSwgc2l6ZSwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnMnLCAnaWQnLCBpZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9jbG91ZF9wcm92aWRlcnMve2lkfS9yZWdpb25zYFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImlkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKHBhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ3BhZ2UnXSA9IHBhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnc2l6ZSddID0gc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIGNsb3VkIHByb3ZpZGVyc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDbG91ZFByb3ZpZGVyczogKHBhZ2UsIHNpemUsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjEvY2xvdWRfcHJvdmlkZXJzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAocGFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsncGFnZSddID0gcGFnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydzaXplJ10gPSBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIEthZmthIHJlcXVlc3QgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldEthZmthQnlJZDogKGlkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2lkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdnZXRLYWZrYUJ5SWQnLCAnaWQnLCBpZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9rYWZrYXMve2lkfWBcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJpZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGlkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIEthZmthIHJlcXVlc3RzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcmRlckJ5XSBTcGVjaWZpZXMgdGhlIG9yZGVyIGJ5IGNyaXRlcmlhLiBUaGUgc3ludGF4IG9mIHRoaXMgcGFyYW1ldGVyIGlzIHNpbWlsYXIgdG8gdGhlIHN5bnRheCBvZiB0aGUgJiN4NjA7b3JkZXIgYnkmI3g2MDsgY2xhdXNlIG9mIGFuIFNRTCBzdGF0ZW1lbnQuIEVhY2ggcXVlcnkgY2FuIGJlIG9yZGVyZWQgYnkgYW55IG9mIHRoZSAmI3g2MDtrYWZrYVJlcXVlc3RzJiN4NjA7IGZpZWxkcy4gRm9yIGV4YW1wbGUsIHRvIHJldHVybiBhbGwgS2Fma2EgaW5zdGFuY2VzIG9yZGVyZWQgYnkgdGhlaXIgbmFtZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjICYjeDYwOyYjeDYwOyYjeDYwOyAgVG8gcmV0dXJuIGFsbCBLYWZrYSBpbnN0YW5jZXMgb3JkZXJlZCBieSB0aGVpciBuYW1lIF9hbmRfIGNyZWF0ZWQgZGF0ZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjLCBjcmVhdGVkX2F0IGFzYyAmI3g2MDsmI3g2MDsmI3g2MDsgIElmIHRoZSBwYXJhbWV0ZXIgaXNuXFwmIzM5O3QgcHJvdmlkZWQsIG9yIGlmIHRoZSB2YWx1ZSBpcyBlbXB0eSwgdGhlbiB0aGUgcmVzdWx0cyBhcmUgb3JkZXJlZCBieSBuYW1lLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlYXJjaF0gU2VhcmNoIGNyaXRlcmlhLiAgVGhlIHN5bnRheCBvZiB0aGlzIHBhcmFtZXRlciBpcyBzaW1pbGFyIHRvIHRoZSBzeW50YXggb2YgdGhlICYjeDYwO3doZXJlJiN4NjA7IGNsYXVzZSBvZiBhbiBTUUwgc3RhdGVtZW50LiBBbGxvd2VkIGZpZWxkcyBpbiB0aGUgc2VhcmNoIGFyZSAmI3g2MDtjbG91ZF9wcm92aWRlciYjeDYwOywgJiN4NjA7bmFtZSYjeDYwOywgJiN4NjA7b3duZXImI3g2MDssICYjeDYwO3JlZ2lvbiYjeDYwOywgYW5kICYjeDYwO3N0YXR1cyYjeDYwOy4gQWxsb3dlZCBjb21wYXJhdG9ycyBhcmUgJiN4NjA7Jmx0OyZndDsmI3g2MDssICYjeDYwOyYjeDNEOyYjeDYwOywgb3IgJiN4NjA7TElLRSYjeDYwOy4gQWxsb3dlZCBqb2lucyBhcmUgJiN4NjA7QU5EJiN4NjA7IGFuZCAmI3g2MDtPUiYjeDYwOy4gSG93ZXZlciwgeW91IGNhbiB1c2UgYSBtYXhpbXVtIG9mIDEwIGpvaW5zIGluIGEgc2VhcmNoIHF1ZXJ5LiAgRXhhbXBsZXM6ICBUbyByZXR1cm4gYSBLYWZrYSBpbnN0YW5jZSB3aXRoIHRoZSBuYW1lICYjeDYwO215LWthZmthJiN4NjA7IGFuZCB0aGUgcmVnaW9uICYjeDYwO2F3cyYjeDYwOywgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7IG5hbWUgJiN4M0Q7IG15LWthZmthIGFuZCBjbG91ZF9wcm92aWRlciAmI3gzRDsgYXdzICYjeDYwOyYjeDYwOyYjeDYwO1twLV0gIFRvIHJldHVybiBhIEthZmthIGluc3RhbmNlIHdpdGggYSBuYW1lIHRoYXQgc3RhcnRzIHdpdGggJiN4NjA7bXkmI3g2MDssIHVzZSB0aGUgZm9sbG93aW5nIHN5bnRheDogICYjeDYwOyYjeDYwOyYjeDYwOyBuYW1lIGxpa2UgbXklMjUgJiN4NjA7JiN4NjA7JiN4NjA7ICBJZiB0aGUgcGFyYW1ldGVyIGlzblxcJiMzOTt0IHByb3ZpZGVkLCBvciBpZiB0aGUgdmFsdWUgaXMgZW1wdHksIHRoZW4gYWxsIHRoZSBLYWZrYSBpbnN0YW5jZXMgdGhhdCB0aGUgdXNlciBoYXMgcGVybWlzc2lvbiB0byBzZWUgYXJlIHJldHVybmVkLiAgTm90ZS4gSWYgdGhlIHF1ZXJ5IGlzIGludmFsaWQsIGFuIGVycm9yIGlzIHJldHVybmVkLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0S2Fma2FzOiAocGFnZSwgc2l6ZSwgb3JkZXJCeSwgc2VhcmNoLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL2thZmthc2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKHBhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ3BhZ2UnXSA9IHBhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnc2l6ZSddID0gc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcmRlckJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydvcmRlckJ5J10gPSBvcmRlckJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlYXJjaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnc2VhcmNoJ10gPSBzZWFyY2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIG1ldHJpY3Mgd2l0aCBpbnN0YW50IHF1ZXJ5IGJ5IEthZmthIElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gW2ZpbHRlcnNdIExpc3Qgb2YgbWV0cmljcyB0byBmZXRjaC4gRmV0Y2ggYWxsIG1ldHJpY3Mgd2hlbiBlbXB0eS4gTGlzdCBlbnRyaWVzIGFyZSBLYWZrYSBpbnRlcm5hbCBtZXRyaWMgbmFtZXMuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRNZXRyaWNzQnlJbnN0YW50UXVlcnk6IChpZCwgZmlsdGVycywgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0TWV0cmljc0J5SW5zdGFudFF1ZXJ5JywgJ2lkJywgaWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjEva2Fma2FzL3tpZH0vbWV0cmljcy9xdWVyeWBcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJpZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGlkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnZmlsdGVycyddID0gZmlsdGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgbWV0cmljcyB3aXRoIHRpbWVzZXJpZXMgcmFuZ2UgcXVlcnkgYnkgS2Fma2EgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBsZW5ndGggb2YgdGltZSBpbiBtaW51dGVzIGZvciB3aGljaCB0byByZXR1cm4gdGhlIG1ldHJpY3NcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGludGVydmFsIFRoZSBpbnRlcnZhbCBpbiBzZWNvbmRzIGJldHdlZW4gZGF0YSBwb2ludHNcbiAgICAgICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBbZmlsdGVyc10gTGlzdCBvZiBtZXRyaWNzIHRvIGZldGNoLiBGZXRjaCBhbGwgbWV0cmljcyB3aGVuIGVtcHR5LiBMaXN0IGVudHJpZXMgYXJlIEthZmthIGludGVybmFsIG1ldHJpYyBuYW1lcy5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldE1ldHJpY3NCeVJhbmdlUXVlcnk6IChpZCwgZHVyYXRpb24sIGludGVydmFsLCBmaWx0ZXJzLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2lkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdnZXRNZXRyaWNzQnlSYW5nZVF1ZXJ5JywgJ2lkJywgaWQpO1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZHVyYXRpb24nIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2dldE1ldHJpY3NCeVJhbmdlUXVlcnknLCAnZHVyYXRpb24nLCBkdXJhdGlvbik7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpbnRlcnZhbCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0TWV0cmljc0J5UmFuZ2VRdWVyeScsICdpbnRlcnZhbCcsIGludGVydmFsKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL2thZmthcy97aWR9L21ldHJpY3MvcXVlcnlfcmFuZ2VgXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhpZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAoZHVyYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ2R1cmF0aW9uJ10gPSBkdXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbnRlcnZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnaW50ZXJ2YWwnXSA9IGludGVydmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydmaWx0ZXJzJ10gPSBmaWx0ZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgc3RhdHVzIG9mIHJlc291cmNlcywgc3VjaCBhcyB3aGV0aGVyIG1heGltdW0gc2VydmljZSBjYXBhY2l0eSBoYXMgYmVlbiByZWFjaGVkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZXJ2aWNlU3RhdHVzOiAob3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9zdGF0dXNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIHZlcnNpb24gbWV0YWRhdGFcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFZlcnNpb25NZXRhZGF0YTogKG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjFgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgIH07XG59O1xuZXhwb3J0cy5EZWZhdWx0QXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBEZWZhdWx0QXBpQXhpb3NQYXJhbUNyZWF0b3I7XG4vKipcbiAqIERlZmF1bHRBcGkgLSBmdW5jdGlvbmFsIHByb2dyYW1taW5nIGludGVyZmFjZVxuICogQGV4cG9ydFxuICovXG5jb25zdCBEZWZhdWx0QXBpRnAgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbikge1xuICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IgPSBleHBvcnRzLkRlZmF1bHRBcGlBeGlvc1BhcmFtQ3JlYXRvcihjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIEthZmthIHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0ge0thZmthUmVxdWVzdFBheWxvYWR9IGthZmthUmVxdWVzdFBheWxvYWQgS2Fma2EgZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlS2Fma2EoYXN5bmMsIGthZmthUmVxdWVzdFBheWxvYWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmNyZWF0ZUthZmthKGFzeW5jLCBrYWZrYVJlcXVlc3RQYXlsb2FkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBEZWxldGVzIGEgS2Fma2EgcmVxdWVzdCBieSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVLYWZrYUJ5SWQoaWQsIGFzeW5jLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5kZWxldGVLYWZrYUJ5SWQoaWQsIGFzeW5jLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBsaXN0IG9mIHN1cHBvcnRlZCByZWdpb25zIG9mIHRoZSBzdXBwb3J0ZWQgY2xvdWQgcHJvdmlkZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnMoaWQsIHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldENsb3VkUHJvdmlkZXJSZWdpb25zKGlkLCBwYWdlLCBzaXplLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBsaXN0IG9mIHN1cHBvcnRlZCBjbG91ZCBwcm92aWRlcnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2xvdWRQcm92aWRlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0Q2xvdWRQcm92aWRlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIEthZmthIHJlcXVlc3QgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldEthZmthQnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0S2Fma2FCeUlkKGlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBLYWZrYSByZXF1ZXN0c1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3JkZXJCeV0gU3BlY2lmaWVzIHRoZSBvcmRlciBieSBjcml0ZXJpYS4gVGhlIHN5bnRheCBvZiB0aGlzIHBhcmFtZXRlciBpcyBzaW1pbGFyIHRvIHRoZSBzeW50YXggb2YgdGhlICYjeDYwO29yZGVyIGJ5JiN4NjA7IGNsYXVzZSBvZiBhbiBTUUwgc3RhdGVtZW50LiBFYWNoIHF1ZXJ5IGNhbiBiZSBvcmRlcmVkIGJ5IGFueSBvZiB0aGUgJiN4NjA7a2Fma2FSZXF1ZXN0cyYjeDYwOyBmaWVsZHMuIEZvciBleGFtcGxlLCB0byByZXR1cm4gYWxsIEthZmthIGluc3RhbmNlcyBvcmRlcmVkIGJ5IHRoZWlyIG5hbWUsIHVzZSB0aGUgZm9sbG93aW5nIHN5bnRheDogICYjeDYwOyYjeDYwOyYjeDYwO3NxbCBuYW1lIGFzYyAmI3g2MDsmI3g2MDsmI3g2MDsgIFRvIHJldHVybiBhbGwgS2Fma2EgaW5zdGFuY2VzIG9yZGVyZWQgYnkgdGhlaXIgbmFtZSBfYW5kXyBjcmVhdGVkIGRhdGUsIHVzZSB0aGUgZm9sbG93aW5nIHN5bnRheDogICYjeDYwOyYjeDYwOyYjeDYwO3NxbCBuYW1lIGFzYywgY3JlYXRlZF9hdCBhc2MgJiN4NjA7JiN4NjA7JiN4NjA7ICBJZiB0aGUgcGFyYW1ldGVyIGlzblxcJiMzOTt0IHByb3ZpZGVkLCBvciBpZiB0aGUgdmFsdWUgaXMgZW1wdHksIHRoZW4gdGhlIHJlc3VsdHMgYXJlIG9yZGVyZWQgYnkgbmFtZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzZWFyY2hdIFNlYXJjaCBjcml0ZXJpYS4gIFRoZSBzeW50YXggb2YgdGhpcyBwYXJhbWV0ZXIgaXMgc2ltaWxhciB0byB0aGUgc3ludGF4IG9mIHRoZSAmI3g2MDt3aGVyZSYjeDYwOyBjbGF1c2Ugb2YgYW4gU1FMIHN0YXRlbWVudC4gQWxsb3dlZCBmaWVsZHMgaW4gdGhlIHNlYXJjaCBhcmUgJiN4NjA7Y2xvdWRfcHJvdmlkZXImI3g2MDssICYjeDYwO25hbWUmI3g2MDssICYjeDYwO293bmVyJiN4NjA7LCAmI3g2MDtyZWdpb24mI3g2MDssIGFuZCAmI3g2MDtzdGF0dXMmI3g2MDsuIEFsbG93ZWQgY29tcGFyYXRvcnMgYXJlICYjeDYwOyZsdDsmZ3Q7JiN4NjA7LCAmI3g2MDsmI3gzRDsmI3g2MDssIG9yICYjeDYwO0xJS0UmI3g2MDsuIEFsbG93ZWQgam9pbnMgYXJlICYjeDYwO0FORCYjeDYwOyBhbmQgJiN4NjA7T1ImI3g2MDsuIEhvd2V2ZXIsIHlvdSBjYW4gdXNlIGEgbWF4aW11bSBvZiAxMCBqb2lucyBpbiBhIHNlYXJjaCBxdWVyeS4gIEV4YW1wbGVzOiAgVG8gcmV0dXJuIGEgS2Fma2EgaW5zdGFuY2Ugd2l0aCB0aGUgbmFtZSAmI3g2MDtteS1rYWZrYSYjeDYwOyBhbmQgdGhlIHJlZ2lvbiAmI3g2MDthd3MmI3g2MDssIHVzZSB0aGUgZm9sbG93aW5nIHN5bnRheDogICYjeDYwOyYjeDYwOyYjeDYwOyBuYW1lICYjeDNEOyBteS1rYWZrYSBhbmQgY2xvdWRfcHJvdmlkZXIgJiN4M0Q7IGF3cyAmI3g2MDsmI3g2MDsmI3g2MDtbcC1dICBUbyByZXR1cm4gYSBLYWZrYSBpbnN0YW5jZSB3aXRoIGEgbmFtZSB0aGF0IHN0YXJ0cyB3aXRoICYjeDYwO215JiN4NjA7LCB1c2UgdGhlIGZvbGxvd2luZyBzeW50YXg6ICAmI3g2MDsmI3g2MDsmI3g2MDsgbmFtZSBsaWtlIG15JTI1ICYjeDYwOyYjeDYwOyYjeDYwOyAgSWYgdGhlIHBhcmFtZXRlciBpc25cXCYjMzk7dCBwcm92aWRlZCwgb3IgaWYgdGhlIHZhbHVlIGlzIGVtcHR5LCB0aGVuIGFsbCB0aGUgS2Fma2EgaW5zdGFuY2VzIHRoYXQgdGhlIHVzZXIgaGFzIHBlcm1pc3Npb24gdG8gc2VlIGFyZSByZXR1cm5lZC4gIE5vdGUuIElmIHRoZSBxdWVyeSBpcyBpbnZhbGlkLCBhbiBlcnJvciBpcyByZXR1cm5lZC5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldEthZmthcyhwYWdlLCBzaXplLCBvcmRlckJ5LCBzZWFyY2gsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldEthZmthcyhwYWdlLCBzaXplLCBvcmRlckJ5LCBzZWFyY2gsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgbWV0cmljcyB3aXRoIGluc3RhbnQgcXVlcnkgYnkgS2Fma2EgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBbZmlsdGVyc10gTGlzdCBvZiBtZXRyaWNzIHRvIGZldGNoLiBGZXRjaCBhbGwgbWV0cmljcyB3aGVuIGVtcHR5LiBMaXN0IGVudHJpZXMgYXJlIEthZmthIGludGVybmFsIG1ldHJpYyBuYW1lcy5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldE1ldHJpY3NCeUluc3RhbnRRdWVyeShpZCwgZmlsdGVycywgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0TWV0cmljc0J5SW5zdGFudFF1ZXJ5KGlkLCBmaWx0ZXJzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIG1ldHJpY3Mgd2l0aCB0aW1lc2VyaWVzIHJhbmdlIHF1ZXJ5IGJ5IEthZmthIElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgbGVuZ3RoIG9mIHRpbWUgaW4gbWludXRlcyBmb3Igd2hpY2ggdG8gcmV0dXJuIHRoZSBtZXRyaWNzXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcnZhbCBUaGUgaW50ZXJ2YWwgaW4gc2Vjb25kcyBiZXR3ZWVuIGRhdGEgcG9pbnRzXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gW2ZpbHRlcnNdIExpc3Qgb2YgbWV0cmljcyB0byBmZXRjaC4gRmV0Y2ggYWxsIG1ldHJpY3Mgd2hlbiBlbXB0eS4gTGlzdCBlbnRyaWVzIGFyZSBLYWZrYSBpbnRlcm5hbCBtZXRyaWMgbmFtZXMuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRNZXRyaWNzQnlSYW5nZVF1ZXJ5KGlkLCBkdXJhdGlvbiwgaW50ZXJ2YWwsIGZpbHRlcnMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldE1ldHJpY3NCeVJhbmdlUXVlcnkoaWQsIGR1cmF0aW9uLCBpbnRlcnZhbCwgZmlsdGVycywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgc3RhdHVzIG9mIHJlc291cmNlcywgc3VjaCBhcyB3aGV0aGVyIG1heGltdW0gc2VydmljZSBjYXBhY2l0eSBoYXMgYmVlbiByZWFjaGVkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZXJ2aWNlU3RhdHVzKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldFNlcnZpY2VTdGF0dXMob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgdmVyc2lvbiBtZXRhZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VmVyc2lvbk1ldGFkYXRhKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldFZlcnNpb25NZXRhZGF0YShvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkRlZmF1bHRBcGlGcCA9IERlZmF1bHRBcGlGcDtcbi8qKlxuICogRGVmYXVsdEFwaSAtIGZhY3RvcnkgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IERlZmF1bHRBcGlGYWN0b3J5ID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24sIGJhc2VQYXRoLCBheGlvcykge1xuICAgIGNvbnN0IGxvY2FsVmFyRnAgPSBleHBvcnRzLkRlZmF1bHRBcGlGcChjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIEthZmthIHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0ge0thZmthUmVxdWVzdFBheWxvYWR9IGthZmthUmVxdWVzdFBheWxvYWQgS2Fma2EgZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlS2Fma2EoYXN5bmMsIGthZmthUmVxdWVzdFBheWxvYWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmNyZWF0ZUthZmthKGFzeW5jLCBrYWZrYVJlcXVlc3RQYXlsb2FkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgRGVsZXRlcyBhIEthZmthIHJlcXVlc3QgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlS2Fma2FCeUlkKGlkLCBhc3luYywgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZGVsZXRlS2Fma2FCeUlkKGlkLCBhc3luYywgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIHJlZ2lvbnMgb2YgdGhlIHN1cHBvcnRlZCBjbG91ZCBwcm92aWRlclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDbG91ZFByb3ZpZGVyUmVnaW9ucyhpZCwgcGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnMoaWQsIHBhZ2UsIHNpemUsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBsaXN0IG9mIHN1cHBvcnRlZCBjbG91ZCBwcm92aWRlcnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2xvdWRQcm92aWRlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0Q2xvdWRQcm92aWRlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBLYWZrYSByZXF1ZXN0IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRLYWZrYUJ5SWQoaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmdldEthZmthQnlJZChpZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIEthZmthIHJlcXVlc3RzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcmRlckJ5XSBTcGVjaWZpZXMgdGhlIG9yZGVyIGJ5IGNyaXRlcmlhLiBUaGUgc3ludGF4IG9mIHRoaXMgcGFyYW1ldGVyIGlzIHNpbWlsYXIgdG8gdGhlIHN5bnRheCBvZiB0aGUgJiN4NjA7b3JkZXIgYnkmI3g2MDsgY2xhdXNlIG9mIGFuIFNRTCBzdGF0ZW1lbnQuIEVhY2ggcXVlcnkgY2FuIGJlIG9yZGVyZWQgYnkgYW55IG9mIHRoZSAmI3g2MDtrYWZrYVJlcXVlc3RzJiN4NjA7IGZpZWxkcy4gRm9yIGV4YW1wbGUsIHRvIHJldHVybiBhbGwgS2Fma2EgaW5zdGFuY2VzIG9yZGVyZWQgYnkgdGhlaXIgbmFtZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjICYjeDYwOyYjeDYwOyYjeDYwOyAgVG8gcmV0dXJuIGFsbCBLYWZrYSBpbnN0YW5jZXMgb3JkZXJlZCBieSB0aGVpciBuYW1lIF9hbmRfIGNyZWF0ZWQgZGF0ZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjLCBjcmVhdGVkX2F0IGFzYyAmI3g2MDsmI3g2MDsmI3g2MDsgIElmIHRoZSBwYXJhbWV0ZXIgaXNuXFwmIzM5O3QgcHJvdmlkZWQsIG9yIGlmIHRoZSB2YWx1ZSBpcyBlbXB0eSwgdGhlbiB0aGUgcmVzdWx0cyBhcmUgb3JkZXJlZCBieSBuYW1lLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlYXJjaF0gU2VhcmNoIGNyaXRlcmlhLiAgVGhlIHN5bnRheCBvZiB0aGlzIHBhcmFtZXRlciBpcyBzaW1pbGFyIHRvIHRoZSBzeW50YXggb2YgdGhlICYjeDYwO3doZXJlJiN4NjA7IGNsYXVzZSBvZiBhbiBTUUwgc3RhdGVtZW50LiBBbGxvd2VkIGZpZWxkcyBpbiB0aGUgc2VhcmNoIGFyZSAmI3g2MDtjbG91ZF9wcm92aWRlciYjeDYwOywgJiN4NjA7bmFtZSYjeDYwOywgJiN4NjA7b3duZXImI3g2MDssICYjeDYwO3JlZ2lvbiYjeDYwOywgYW5kICYjeDYwO3N0YXR1cyYjeDYwOy4gQWxsb3dlZCBjb21wYXJhdG9ycyBhcmUgJiN4NjA7Jmx0OyZndDsmI3g2MDssICYjeDYwOyYjeDNEOyYjeDYwOywgb3IgJiN4NjA7TElLRSYjeDYwOy4gQWxsb3dlZCBqb2lucyBhcmUgJiN4NjA7QU5EJiN4NjA7IGFuZCAmI3g2MDtPUiYjeDYwOy4gSG93ZXZlciwgeW91IGNhbiB1c2UgYSBtYXhpbXVtIG9mIDEwIGpvaW5zIGluIGEgc2VhcmNoIHF1ZXJ5LiAgRXhhbXBsZXM6ICBUbyByZXR1cm4gYSBLYWZrYSBpbnN0YW5jZSB3aXRoIHRoZSBuYW1lICYjeDYwO215LWthZmthJiN4NjA7IGFuZCB0aGUgcmVnaW9uICYjeDYwO2F3cyYjeDYwOywgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7IG5hbWUgJiN4M0Q7IG15LWthZmthIGFuZCBjbG91ZF9wcm92aWRlciAmI3gzRDsgYXdzICYjeDYwOyYjeDYwOyYjeDYwO1twLV0gIFRvIHJldHVybiBhIEthZmthIGluc3RhbmNlIHdpdGggYSBuYW1lIHRoYXQgc3RhcnRzIHdpdGggJiN4NjA7bXkmI3g2MDssIHVzZSB0aGUgZm9sbG93aW5nIHN5bnRheDogICYjeDYwOyYjeDYwOyYjeDYwOyBuYW1lIGxpa2UgbXklMjUgJiN4NjA7JiN4NjA7JiN4NjA7ICBJZiB0aGUgcGFyYW1ldGVyIGlzblxcJiMzOTt0IHByb3ZpZGVkLCBvciBpZiB0aGUgdmFsdWUgaXMgZW1wdHksIHRoZW4gYWxsIHRoZSBLYWZrYSBpbnN0YW5jZXMgdGhhdCB0aGUgdXNlciBoYXMgcGVybWlzc2lvbiB0byBzZWUgYXJlIHJldHVybmVkLiAgTm90ZS4gSWYgdGhlIHF1ZXJ5IGlzIGludmFsaWQsIGFuIGVycm9yIGlzIHJldHVybmVkLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0S2Fma2FzKHBhZ2UsIHNpemUsIG9yZGVyQnksIHNlYXJjaCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0S2Fma2FzKHBhZ2UsIHNpemUsIG9yZGVyQnksIHNlYXJjaCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgbWV0cmljcyB3aXRoIGluc3RhbnQgcXVlcnkgYnkgS2Fma2EgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBbZmlsdGVyc10gTGlzdCBvZiBtZXRyaWNzIHRvIGZldGNoLiBGZXRjaCBhbGwgbWV0cmljcyB3aGVuIGVtcHR5LiBMaXN0IGVudHJpZXMgYXJlIEthZmthIGludGVybmFsIG1ldHJpYyBuYW1lcy5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldE1ldHJpY3NCeUluc3RhbnRRdWVyeShpZCwgZmlsdGVycywgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0TWV0cmljc0J5SW5zdGFudFF1ZXJ5KGlkLCBmaWx0ZXJzLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBtZXRyaWNzIHdpdGggdGltZXNlcmllcyByYW5nZSBxdWVyeSBieSBLYWZrYSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGxlbmd0aCBvZiB0aW1lIGluIG1pbnV0ZXMgZm9yIHdoaWNoIHRvIHJldHVybiB0aGUgbWV0cmljc1xuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZXJ2YWwgVGhlIGludGVydmFsIGluIHNlY29uZHMgYmV0d2VlbiBkYXRhIHBvaW50c1xuICAgICAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtmaWx0ZXJzXSBMaXN0IG9mIG1ldHJpY3MgdG8gZmV0Y2guIEZldGNoIGFsbCBtZXRyaWNzIHdoZW4gZW1wdHkuIExpc3QgZW50cmllcyBhcmUgS2Fma2EgaW50ZXJuYWwgbWV0cmljIG5hbWVzLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TWV0cmljc0J5UmFuZ2VRdWVyeShpZCwgZHVyYXRpb24sIGludGVydmFsLCBmaWx0ZXJzLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5nZXRNZXRyaWNzQnlSYW5nZVF1ZXJ5KGlkLCBkdXJhdGlvbiwgaW50ZXJ2YWwsIGZpbHRlcnMsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBzdGF0dXMgb2YgcmVzb3VyY2VzLCBzdWNoIGFzIHdoZXRoZXIgbWF4aW11bSBzZXJ2aWNlIGNhcGFjaXR5IGhhcyBiZWVuIHJlYWNoZWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlcnZpY2VTdGF0dXMob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0U2VydmljZVN0YXR1cyhvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgdmVyc2lvbiBtZXRhZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VmVyc2lvbk1ldGFkYXRhKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmdldFZlcnNpb25NZXRhZGF0YShvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuZXhwb3J0cy5EZWZhdWx0QXBpRmFjdG9yeSA9IERlZmF1bHRBcGlGYWN0b3J5O1xuLyoqXG4gKiBEZWZhdWx0QXBpIC0gb2JqZWN0LW9yaWVudGVkIGludGVyZmFjZVxuICogQGV4cG9ydFxuICogQGNsYXNzIERlZmF1bHRBcGlcbiAqIEBleHRlbmRzIHtCYXNlQVBJfVxuICovXG5jbGFzcyBEZWZhdWx0QXBpIGV4dGVuZHMgYmFzZV8xLkJhc2VBUEkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIEthZmthIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICogQHBhcmFtIHtLYWZrYVJlcXVlc3RQYXlsb2FkfSBrYWZrYVJlcXVlc3RQYXlsb2FkIEthZmthIGRhdGFcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIERlZmF1bHRBcGlcbiAgICAgKi9cbiAgICBjcmVhdGVLYWZrYShhc3luYywga2Fma2FSZXF1ZXN0UGF5bG9hZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5jcmVhdGVLYWZrYShhc3luYywga2Fma2FSZXF1ZXN0UGF5bG9hZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgRGVsZXRlcyBhIEthZmthIHJlcXVlc3QgYnkgSURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXN5bmMgUGVyZm9ybSB0aGUgYWN0aW9uIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXJcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIERlZmF1bHRBcGlcbiAgICAgKi9cbiAgICBkZWxldGVLYWZrYUJ5SWQoaWQsIGFzeW5jLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmRlbGV0ZUthZmthQnlJZChpZCwgYXN5bmMsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIHJlZ2lvbnMgb2YgdGhlIHN1cHBvcnRlZCBjbG91ZCBwcm92aWRlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QXBpXG4gICAgICovXG4gICAgZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnMoaWQsIHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnMoaWQsIHBhZ2UsIHNpemUsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIGNsb3VkIHByb3ZpZGVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGdldENsb3VkUHJvdmlkZXJzKHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuZ2V0Q2xvdWRQcm92aWRlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgUmV0dXJucyBhIEthZmthIHJlcXVlc3QgYnkgSURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGdldEthZmthQnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRLYWZrYUJ5SWQoaWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIEthZmthIHJlcXVlc3RzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcmRlckJ5XSBTcGVjaWZpZXMgdGhlIG9yZGVyIGJ5IGNyaXRlcmlhLiBUaGUgc3ludGF4IG9mIHRoaXMgcGFyYW1ldGVyIGlzIHNpbWlsYXIgdG8gdGhlIHN5bnRheCBvZiB0aGUgJiN4NjA7b3JkZXIgYnkmI3g2MDsgY2xhdXNlIG9mIGFuIFNRTCBzdGF0ZW1lbnQuIEVhY2ggcXVlcnkgY2FuIGJlIG9yZGVyZWQgYnkgYW55IG9mIHRoZSAmI3g2MDtrYWZrYVJlcXVlc3RzJiN4NjA7IGZpZWxkcy4gRm9yIGV4YW1wbGUsIHRvIHJldHVybiBhbGwgS2Fma2EgaW5zdGFuY2VzIG9yZGVyZWQgYnkgdGhlaXIgbmFtZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjICYjeDYwOyYjeDYwOyYjeDYwOyAgVG8gcmV0dXJuIGFsbCBLYWZrYSBpbnN0YW5jZXMgb3JkZXJlZCBieSB0aGVpciBuYW1lIF9hbmRfIGNyZWF0ZWQgZGF0ZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjLCBjcmVhdGVkX2F0IGFzYyAmI3g2MDsmI3g2MDsmI3g2MDsgIElmIHRoZSBwYXJhbWV0ZXIgaXNuXFwmIzM5O3QgcHJvdmlkZWQsIG9yIGlmIHRoZSB2YWx1ZSBpcyBlbXB0eSwgdGhlbiB0aGUgcmVzdWx0cyBhcmUgb3JkZXJlZCBieSBuYW1lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2VhcmNoXSBTZWFyY2ggY3JpdGVyaWEuICBUaGUgc3ludGF4IG9mIHRoaXMgcGFyYW1ldGVyIGlzIHNpbWlsYXIgdG8gdGhlIHN5bnRheCBvZiB0aGUgJiN4NjA7d2hlcmUmI3g2MDsgY2xhdXNlIG9mIGFuIFNRTCBzdGF0ZW1lbnQuIEFsbG93ZWQgZmllbGRzIGluIHRoZSBzZWFyY2ggYXJlICYjeDYwO2Nsb3VkX3Byb3ZpZGVyJiN4NjA7LCAmI3g2MDtuYW1lJiN4NjA7LCAmI3g2MDtvd25lciYjeDYwOywgJiN4NjA7cmVnaW9uJiN4NjA7LCBhbmQgJiN4NjA7c3RhdHVzJiN4NjA7LiBBbGxvd2VkIGNvbXBhcmF0b3JzIGFyZSAmI3g2MDsmbHQ7Jmd0OyYjeDYwOywgJiN4NjA7JiN4M0Q7JiN4NjA7LCBvciAmI3g2MDtMSUtFJiN4NjA7LiBBbGxvd2VkIGpvaW5zIGFyZSAmI3g2MDtBTkQmI3g2MDsgYW5kICYjeDYwO09SJiN4NjA7LiBIb3dldmVyLCB5b3UgY2FuIHVzZSBhIG1heGltdW0gb2YgMTAgam9pbnMgaW4gYSBzZWFyY2ggcXVlcnkuICBFeGFtcGxlczogIFRvIHJldHVybiBhIEthZmthIGluc3RhbmNlIHdpdGggdGhlIG5hbWUgJiN4NjA7bXkta2Fma2EmI3g2MDsgYW5kIHRoZSByZWdpb24gJiN4NjA7YXdzJiN4NjA7LCB1c2UgdGhlIGZvbGxvd2luZyBzeW50YXg6ICAmI3g2MDsmI3g2MDsmI3g2MDsgbmFtZSAmI3gzRDsgbXkta2Fma2EgYW5kIGNsb3VkX3Byb3ZpZGVyICYjeDNEOyBhd3MgJiN4NjA7JiN4NjA7JiN4NjA7W3AtXSAgVG8gcmV0dXJuIGEgS2Fma2EgaW5zdGFuY2Ugd2l0aCBhIG5hbWUgdGhhdCBzdGFydHMgd2l0aCAmI3g2MDtteSYjeDYwOywgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7IG5hbWUgbGlrZSBteSUyNSAmI3g2MDsmI3g2MDsmI3g2MDsgIElmIHRoZSBwYXJhbWV0ZXIgaXNuXFwmIzM5O3QgcHJvdmlkZWQsIG9yIGlmIHRoZSB2YWx1ZSBpcyBlbXB0eSwgdGhlbiBhbGwgdGhlIEthZmthIGluc3RhbmNlcyB0aGF0IHRoZSB1c2VyIGhhcyBwZXJtaXNzaW9uIHRvIHNlZSBhcmUgcmV0dXJuZWQuICBOb3RlLiBJZiB0aGUgcXVlcnkgaXMgaW52YWxpZCwgYW4gZXJyb3IgaXMgcmV0dXJuZWQuXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QXBpXG4gICAgICovXG4gICAgZ2V0S2Fma2FzKHBhZ2UsIHNpemUsIG9yZGVyQnksIHNlYXJjaCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRLYWZrYXMocGFnZSwgc2l6ZSwgb3JkZXJCeSwgc2VhcmNoLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIG1ldHJpY3Mgd2l0aCBpbnN0YW50IHF1ZXJ5IGJ5IEthZmthIElEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtmaWx0ZXJzXSBMaXN0IG9mIG1ldHJpY3MgdG8gZmV0Y2guIEZldGNoIGFsbCBtZXRyaWNzIHdoZW4gZW1wdHkuIExpc3QgZW50cmllcyBhcmUgS2Fma2EgaW50ZXJuYWwgbWV0cmljIG5hbWVzLlxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGdldE1ldHJpY3NCeUluc3RhbnRRdWVyeShpZCwgZmlsdGVycywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRNZXRyaWNzQnlJbnN0YW50UXVlcnkoaWQsIGZpbHRlcnMsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgbWV0cmljcyB3aXRoIHRpbWVzZXJpZXMgcmFuZ2UgcXVlcnkgYnkgS2Fma2EgSURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgbGVuZ3RoIG9mIHRpbWUgaW4gbWludXRlcyBmb3Igd2hpY2ggdG8gcmV0dXJuIHRoZSBtZXRyaWNzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGludGVydmFsIFRoZSBpbnRlcnZhbCBpbiBzZWNvbmRzIGJldHdlZW4gZGF0YSBwb2ludHNcbiAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtmaWx0ZXJzXSBMaXN0IG9mIG1ldHJpY3MgdG8gZmV0Y2guIEZldGNoIGFsbCBtZXRyaWNzIHdoZW4gZW1wdHkuIExpc3QgZW50cmllcyBhcmUgS2Fma2EgaW50ZXJuYWwgbWV0cmljIG5hbWVzLlxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGdldE1ldHJpY3NCeVJhbmdlUXVlcnkoaWQsIGR1cmF0aW9uLCBpbnRlcnZhbCwgZmlsdGVycywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRNZXRyaWNzQnlSYW5nZVF1ZXJ5KGlkLCBkdXJhdGlvbiwgaW50ZXJ2YWwsIGZpbHRlcnMsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIHN0YXR1cyBvZiByZXNvdXJjZXMsIHN1Y2ggYXMgd2hldGhlciBtYXhpbXVtIHNlcnZpY2UgY2FwYWNpdHkgaGFzIGJlZW4gcmVhY2hlZFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGdldFNlcnZpY2VTdGF0dXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRTZXJ2aWNlU3RhdHVzKG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIHZlcnNpb24gbWV0YWRhdGFcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIERlZmF1bHRBcGlcbiAgICAgKi9cbiAgICBnZXRWZXJzaW9uTWV0YWRhdGEob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRWZXJzaW9uTWV0YWRhdGEob3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxufVxuZXhwb3J0cy5EZWZhdWx0QXBpID0gRGVmYXVsdEFwaTtcbi8qKlxuICogU2VjdXJpdHlBcGkgLSBheGlvcyBwYXJhbWV0ZXIgY3JlYXRvclxuICogQGV4cG9ydFxuICovXG5jb25zdCBTZWN1cml0eUFwaUF4aW9zUGFyYW1DcmVhdG9yID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIHNlcnZpY2UgYWNjb3VudFxuICAgICAgICAgKiBAcGFyYW0ge1NlcnZpY2VBY2NvdW50UmVxdWVzdH0gc2VydmljZUFjY291bnRSZXF1ZXN0IFNlcnZpY2UgYWNjb3VudCByZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVTZXJ2aWNlQWNjb3VudDogKHNlcnZpY2VBY2NvdW50UmVxdWVzdCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdzZXJ2aWNlQWNjb3VudFJlcXVlc3QnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZVNlcnZpY2VBY2NvdW50JywgJ3NlcnZpY2VBY2NvdW50UmVxdWVzdCcsIHNlcnZpY2VBY2NvdW50UmVxdWVzdCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9zZXJ2aWNlX2FjY291bnRzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnUE9TVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5kYXRhID0gY29tbW9uXzEuc2VyaWFsaXplRGF0YUlmTmVlZGVkKHNlcnZpY2VBY2NvdW50UmVxdWVzdCwgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucywgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBEZWxldGVzIGEgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVTZXJ2aWNlQWNjb3VudEJ5SWQ6IChpZCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZGVsZXRlU2VydmljZUFjY291bnRCeUlkJywgJ2lkJywgaWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjEvc2VydmljZV9hY2NvdW50cy97aWR9YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImlkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0RFTEVURScgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJuZWQgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZXJ2aWNlQWNjb3VudEJ5SWQ6IChpZCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0U2VydmljZUFjY291bnRCeUlkJywgJ2lkJywgaWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjEvc2VydmljZV9hY2NvdW50cy97aWR9YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImlkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2Ygc2VydmljZSBhY2NvdW50c1xuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U2VydmljZUFjY291bnRzOiAob3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9zZXJ2aWNlX2FjY291bnRzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXNldHMgdGhlIGNyZWRlbnRpYWxzIGZvciBhIHNlcnZpY2UgYWNjb3VudCBieSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgcmVzZXRTZXJ2aWNlQWNjb3VudENyZWRzOiAoaWQsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnaWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ3Jlc2V0U2VydmljZUFjY291bnRDcmVkcycsICdpZCcsIGlkKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL3NlcnZpY2VfYWNjb3VudHMve2lkfS9yZXNldF9jcmVkZW50aWFsc2BcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJpZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGlkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdQT1NUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgfTtcbn07XG5leHBvcnRzLlNlY3VyaXR5QXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBTZWN1cml0eUFwaUF4aW9zUGFyYW1DcmVhdG9yO1xuLyoqXG4gKiBTZWN1cml0eUFwaSAtIGZ1bmN0aW9uYWwgcHJvZ3JhbW1pbmcgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IFNlY3VyaXR5QXBpRnAgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbikge1xuICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IgPSBleHBvcnRzLlNlY3VyaXR5QXBpQXhpb3NQYXJhbUNyZWF0b3IoY29uZmlndXJhdGlvbik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZXMgYSBzZXJ2aWNlIGFjY291bnRcbiAgICAgICAgICogQHBhcmFtIHtTZXJ2aWNlQWNjb3VudFJlcXVlc3R9IHNlcnZpY2VBY2NvdW50UmVxdWVzdCBTZXJ2aWNlIGFjY291bnQgcmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlU2VydmljZUFjY291bnQoc2VydmljZUFjY291bnRSZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5jcmVhdGVTZXJ2aWNlQWNjb3VudChzZXJ2aWNlQWNjb3VudFJlcXVlc3QsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZXMgYSBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZVNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZGVsZXRlU2VydmljZUFjY291bnRCeUlkKGlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5lZCBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0U2VydmljZUFjY291bnRCeUlkKGlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBzZXJ2aWNlIGFjY291bnRzXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZXJ2aWNlQWNjb3VudHMob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0U2VydmljZUFjY291bnRzKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJlc2V0cyB0aGUgY3JlZGVudGlhbHMgZm9yIGEgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICByZXNldFNlcnZpY2VBY2NvdW50Q3JlZHMoaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLnJlc2V0U2VydmljZUFjY291bnRDcmVkcyhpZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuZXhwb3J0cy5TZWN1cml0eUFwaUZwID0gU2VjdXJpdHlBcGlGcDtcbi8qKlxuICogU2VjdXJpdHlBcGkgLSBmYWN0b3J5IGludGVyZmFjZVxuICogQGV4cG9ydFxuICovXG5jb25zdCBTZWN1cml0eUFwaUZhY3RvcnkgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbiwgYmFzZVBhdGgsIGF4aW9zKSB7XG4gICAgY29uc3QgbG9jYWxWYXJGcCA9IGV4cG9ydHMuU2VjdXJpdHlBcGlGcChjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIHNlcnZpY2UgYWNjb3VudFxuICAgICAgICAgKiBAcGFyYW0ge1NlcnZpY2VBY2NvdW50UmVxdWVzdH0gc2VydmljZUFjY291bnRSZXF1ZXN0IFNlcnZpY2UgYWNjb3VudCByZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVTZXJ2aWNlQWNjb3VudChzZXJ2aWNlQWNjb3VudFJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmNyZWF0ZVNlcnZpY2VBY2NvdW50KHNlcnZpY2VBY2NvdW50UmVxdWVzdCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZXMgYSBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZVNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZGVsZXRlU2VydmljZUFjY291bnRCeUlkKGlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJuZWQgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZXJ2aWNlQWNjb3VudEJ5SWQoaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmdldFNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIHNlcnZpY2UgYWNjb3VudHNcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlcnZpY2VBY2NvdW50cyhvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5nZXRTZXJ2aWNlQWNjb3VudHMob3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJlc2V0cyB0aGUgY3JlZGVudGlhbHMgZm9yIGEgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICByZXNldFNlcnZpY2VBY2NvdW50Q3JlZHMoaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLnJlc2V0U2VydmljZUFjY291bnRDcmVkcyhpZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbmV4cG9ydHMuU2VjdXJpdHlBcGlGYWN0b3J5ID0gU2VjdXJpdHlBcGlGYWN0b3J5O1xuLyoqXG4gKiBTZWN1cml0eUFwaSAtIG9iamVjdC1vcmllbnRlZCBpbnRlcmZhY2VcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBTZWN1cml0eUFwaVxuICogQGV4dGVuZHMge0Jhc2VBUEl9XG4gKi9cbmNsYXNzIFNlY3VyaXR5QXBpIGV4dGVuZHMgYmFzZV8xLkJhc2VBUEkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIHNlcnZpY2UgYWNjb3VudFxuICAgICAqIEBwYXJhbSB7U2VydmljZUFjY291bnRSZXF1ZXN0fSBzZXJ2aWNlQWNjb3VudFJlcXVlc3QgU2VydmljZSBhY2NvdW50IHJlcXVlc3RcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIFNlY3VyaXR5QXBpXG4gICAgICovXG4gICAgY3JlYXRlU2VydmljZUFjY291bnQoc2VydmljZUFjY291bnRSZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLlNlY3VyaXR5QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5jcmVhdGVTZXJ2aWNlQWNjb3VudChzZXJ2aWNlQWNjb3VudFJlcXVlc3QsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IERlbGV0ZXMgYSBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgU2VjdXJpdHlBcGlcbiAgICAgKi9cbiAgICBkZWxldGVTZXJ2aWNlQWNjb3VudEJ5SWQoaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuU2VjdXJpdHlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmRlbGV0ZVNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgUmV0dXJuZWQgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIFNlY3VyaXR5QXBpXG4gICAgICovXG4gICAgZ2V0U2VydmljZUFjY291bnRCeUlkKGlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLlNlY3VyaXR5QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRTZXJ2aWNlQWNjb3VudEJ5SWQoaWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIHNlcnZpY2UgYWNjb3VudHNcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIFNlY3VyaXR5QXBpXG4gICAgICovXG4gICAgZ2V0U2VydmljZUFjY291bnRzKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuU2VjdXJpdHlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmdldFNlcnZpY2VBY2NvdW50cyhvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBSZXNldHMgdGhlIGNyZWRlbnRpYWxzIGZvciBhIHNlcnZpY2UgYWNjb3VudCBieSBJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBTZWN1cml0eUFwaVxuICAgICAqL1xuICAgIHJlc2V0U2VydmljZUFjY291bnRDcmVkcyhpZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5TZWN1cml0eUFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikucmVzZXRTZXJ2aWNlQWNjb3VudENyZWRzKGlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG59XG5leHBvcnRzLlNlY3VyaXR5QXBpID0gU2VjdXJpdHlBcGk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///31100\n")},50778:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.RequiredError = exports.BaseAPI = exports.COLLECTION_FORMATS = exports.BASE_PATH = void 0;\n// Some imports not used depending on template conditions\n// @ts-ignore\nconst axios_1 = __webpack_require__(40107);\nexports.BASE_PATH = "https://api.openshift.com".replace(/\\/+$/, "");\n/**\n *\n * @export\n */\nexports.COLLECTION_FORMATS = {\n    csv: ",",\n    ssv: " ",\n    tsv: "\\t",\n    pipes: "|",\n};\n/**\n *\n * @export\n * @class BaseAPI\n */\nclass BaseAPI {\n    constructor(configuration, basePath = exports.BASE_PATH, axios = axios_1.default) {\n        this.basePath = basePath;\n        this.axios = axios;\n        if (configuration) {\n            this.configuration = configuration;\n            this.basePath = configuration.basePath || this.basePath;\n        }\n    }\n}\nexports.BaseAPI = BaseAPI;\n;\n/**\n *\n * @export\n * @class RequiredError\n * @extends {Error}\n */\nclass RequiredError extends Error {\n    constructor(field, msg) {\n        super(msg);\n        this.field = field;\n        this.name = "RequiredError";\n    }\n}\nexports.RequiredError = RequiredError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2Jhc2UuanM/MmIyNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLENBQUMsY0FBYyxFQUFDO0FBQzdELHFCQUFxQixHQUFHLGVBQWUsR0FBRywwQkFBMEIsR0FBRyxpQkFBaUI7QUFDeEY7QUFDQTtBQUNBLGdCQUFnQixtQkFBTyxDQUFDLEtBQU87QUFDL0IsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCIiwiZmlsZSI6IjUwNzc4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8qKlxuICogQ29ubmVjdG9yIFNlcnZpY2UgRmxlZXQgTWFuYWdlclxuICogQ29ubmVjdG9yIFNlcnZpY2UgRmxlZXQgTWFuYWdlciBpcyBhIFJlc3QgQVBJIHRvIG1hbmFnZSBjb25uZWN0b3JzLlxuICpcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBPcGVuQVBJIGRvY3VtZW50OiAwLjAuM1xuICpcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IE9wZW5BUEkgR2VuZXJhdG9yIChodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2gpLlxuICogaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoXG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVxdWlyZWRFcnJvciA9IGV4cG9ydHMuQmFzZUFQSSA9IGV4cG9ydHMuQ09MTEVDVElPTl9GT1JNQVRTID0gZXhwb3J0cy5CQVNFX1BBVEggPSB2b2lkIDA7XG4vLyBTb21lIGltcG9ydHMgbm90IHVzZWQgZGVwZW5kaW5nIG9uIHRlbXBsYXRlIGNvbmRpdGlvbnNcbi8vIEB0cy1pZ25vcmVcbmNvbnN0IGF4aW9zXzEgPSByZXF1aXJlKFwiYXhpb3NcIik7XG5leHBvcnRzLkJBU0VfUEFUSCA9IFwiaHR0cHM6Ly9hcGkub3BlbnNoaWZ0LmNvbVwiLnJlcGxhY2UoL1xcLyskLywgXCJcIik7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydHMuQ09MTEVDVElPTl9GT1JNQVRTID0ge1xuICAgIGNzdjogXCIsXCIsXG4gICAgc3N2OiBcIiBcIixcbiAgICB0c3Y6IFwiXFx0XCIsXG4gICAgcGlwZXM6IFwifFwiLFxufTtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBCYXNlQVBJXG4gKi9cbmNsYXNzIEJhc2VBUEkge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24sIGJhc2VQYXRoID0gZXhwb3J0cy5CQVNFX1BBVEgsIGF4aW9zID0gYXhpb3NfMS5kZWZhdWx0KSB7XG4gICAgICAgIHRoaXMuYmFzZVBhdGggPSBiYXNlUGF0aDtcbiAgICAgICAgdGhpcy5heGlvcyA9IGF4aW9zO1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuYmFzZVBhdGggPSBjb25maWd1cmF0aW9uLmJhc2VQYXRoIHx8IHRoaXMuYmFzZVBhdGg7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkJhc2VBUEkgPSBCYXNlQVBJO1xuO1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGNsYXNzIFJlcXVpcmVkRXJyb3JcbiAqIEBleHRlbmRzIHtFcnJvcn1cbiAqL1xuY2xhc3MgUmVxdWlyZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZCwgbXNnKSB7XG4gICAgICAgIHN1cGVyKG1zZyk7XG4gICAgICAgIHRoaXMuZmllbGQgPSBmaWVsZDtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJSZXF1aXJlZEVycm9yXCI7XG4gICAgfVxufVxuZXhwb3J0cy5SZXF1aXJlZEVycm9yID0gUmVxdWlyZWRFcnJvcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///50778\n')},98691:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.createRequestFunction = exports.toPathString = exports.serializeDataIfNeeded = exports.setSearchParams = exports.setOAuthToObject = exports.setBearerAuthToObject = exports.setBasicAuthToObject = exports.setApiKeyToObject = exports.assertParamExists = exports.DUMMY_BASE_URL = void 0;\nconst base_1 = __webpack_require__(50778);\n/**\n *\n * @export\n */\nexports.DUMMY_BASE_URL = \'https://example.com\';\n/**\n *\n * @throws {RequiredError}\n * @export\n */\nconst assertParamExists = function (functionName, paramName, paramValue) {\n    if (paramValue === null || paramValue === undefined) {\n        throw new base_1.RequiredError(paramName, `Required parameter ${paramName} was null or undefined when calling ${functionName}.`);\n    }\n};\nexports.assertParamExists = assertParamExists;\n/**\n *\n * @export\n */\nconst setApiKeyToObject = function (object, keyParamName, configuration) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (configuration && configuration.apiKey) {\n            const localVarApiKeyValue = typeof configuration.apiKey === \'function\'\n                ? yield configuration.apiKey(keyParamName)\n                : yield configuration.apiKey;\n            object[keyParamName] = localVarApiKeyValue;\n        }\n    });\n};\nexports.setApiKeyToObject = setApiKeyToObject;\n/**\n *\n * @export\n */\nconst setBasicAuthToObject = function (object, configuration) {\n    if (configuration && (configuration.username || configuration.password)) {\n        object["auth"] = { username: configuration.username, password: configuration.password };\n    }\n};\nexports.setBasicAuthToObject = setBasicAuthToObject;\n/**\n *\n * @export\n */\nconst setBearerAuthToObject = function (object, configuration) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (configuration && configuration.accessToken) {\n            const accessToken = typeof configuration.accessToken === \'function\'\n                ? yield configuration.accessToken()\n                : yield configuration.accessToken;\n            object["Authorization"] = "Bearer " + accessToken;\n        }\n    });\n};\nexports.setBearerAuthToObject = setBearerAuthToObject;\n/**\n *\n * @export\n */\nconst setOAuthToObject = function (object, name, scopes, configuration) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (configuration && configuration.accessToken) {\n            const localVarAccessTokenValue = typeof configuration.accessToken === \'function\'\n                ? yield configuration.accessToken(name, scopes)\n                : yield configuration.accessToken;\n            object["Authorization"] = "Bearer " + localVarAccessTokenValue;\n        }\n    });\n};\nexports.setOAuthToObject = setOAuthToObject;\n/**\n *\n * @export\n */\nconst setSearchParams = function (url, ...objects) {\n    const searchParams = new URLSearchParams(url.search);\n    for (const object of objects) {\n        for (const key in object) {\n            if (Array.isArray(object[key])) {\n                searchParams.delete(key);\n                for (const item of object[key]) {\n                    searchParams.append(key, item);\n                }\n            }\n            else {\n                searchParams.set(key, object[key]);\n            }\n        }\n    }\n    url.search = searchParams.toString();\n};\nexports.setSearchParams = setSearchParams;\n/**\n *\n * @export\n */\nconst serializeDataIfNeeded = function (value, requestOptions, configuration) {\n    const nonString = typeof value !== \'string\';\n    const needsSerialization = nonString && configuration && configuration.isJsonMime\n        ? configuration.isJsonMime(requestOptions.headers[\'Content-Type\'])\n        : nonString;\n    return needsSerialization\n        ? JSON.stringify(value !== undefined ? value : {})\n        : (value || "");\n};\nexports.serializeDataIfNeeded = serializeDataIfNeeded;\n/**\n *\n * @export\n */\nconst toPathString = function (url) {\n    return url.pathname + url.search + url.hash;\n};\nexports.toPathString = toPathString;\n/**\n *\n * @export\n */\nconst createRequestFunction = function (axiosArgs, globalAxios, BASE_PATH, configuration) {\n    return (axios = globalAxios, basePath = BASE_PATH) => {\n        const axiosRequestArgs = Object.assign(Object.assign({}, axiosArgs.options), { url: ((configuration === null || configuration === void 0 ? void 0 : configuration.basePath) || basePath) + axiosArgs.url });\n        return axios.request(axiosRequestArgs);\n    };\n};\nexports.createRequestFunction = createRequestFunction;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2NvbW1vbi5qcz84ZDY0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwrREFBK0QsZ0JBQWdCLEVBQUUsRUFBRTtBQUM5RztBQUNBLG1DQUFtQyxNQUFNLDZCQUE2QixFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ2pHLGtDQUFrQyxNQUFNLGlDQUFpQyxFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ3BHLCtCQUErQixxRkFBcUY7QUFDcEg7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4Q0FBNkMsQ0FBQyxjQUFjLEVBQUM7QUFDN0QsNkJBQTZCLEdBQUcsb0JBQW9CLEdBQUcsNkJBQTZCLEdBQUcsdUJBQXVCLEdBQUcsd0JBQXdCLEdBQUcsNkJBQTZCLEdBQUcsNEJBQTRCLEdBQUcseUJBQXlCLEdBQUcseUJBQXlCLEdBQUcsc0JBQXNCO0FBQ3pSLGVBQWUsbUJBQU8sQ0FBQyxLQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsVUFBVSxzQ0FBc0MsYUFBYTtBQUNySTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCx1QkFBdUIsNEhBQTRIO0FBQ2xOO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiIsImZpbGUiOiI5ODY5MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIENvbm5lY3RvciBTZXJ2aWNlIEZsZWV0IE1hbmFnZXJcbiAqIENvbm5lY3RvciBTZXJ2aWNlIEZsZWV0IE1hbmFnZXIgaXMgYSBSZXN0IEFQSSB0byBtYW5hZ2UgY29ubmVjdG9ycy5cbiAqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgT3BlbkFQSSBkb2N1bWVudDogMC4wLjNcbiAqXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSBPcGVuQVBJIEdlbmVyYXRvciAoaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoKS5cbiAqIGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uID0gZXhwb3J0cy50b1BhdGhTdHJpbmcgPSBleHBvcnRzLnNlcmlhbGl6ZURhdGFJZk5lZWRlZCA9IGV4cG9ydHMuc2V0U2VhcmNoUGFyYW1zID0gZXhwb3J0cy5zZXRPQXV0aFRvT2JqZWN0ID0gZXhwb3J0cy5zZXRCZWFyZXJBdXRoVG9PYmplY3QgPSBleHBvcnRzLnNldEJhc2ljQXV0aFRvT2JqZWN0ID0gZXhwb3J0cy5zZXRBcGlLZXlUb09iamVjdCA9IGV4cG9ydHMuYXNzZXJ0UGFyYW1FeGlzdHMgPSBleHBvcnRzLkRVTU1ZX0JBU0VfVVJMID0gdm9pZCAwO1xuY29uc3QgYmFzZV8xID0gcmVxdWlyZShcIi4vYmFzZVwiKTtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0cy5EVU1NWV9CQVNFX1VSTCA9ICdodHRwczovL2V4YW1wbGUuY29tJztcbi8qKlxuICpcbiAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IGFzc2VydFBhcmFtRXhpc3RzID0gZnVuY3Rpb24gKGZ1bmN0aW9uTmFtZSwgcGFyYW1OYW1lLCBwYXJhbVZhbHVlKSB7XG4gICAgaWYgKHBhcmFtVmFsdWUgPT09IG51bGwgfHwgcGFyYW1WYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBiYXNlXzEuUmVxdWlyZWRFcnJvcihwYXJhbU5hbWUsIGBSZXF1aXJlZCBwYXJhbWV0ZXIgJHtwYXJhbU5hbWV9IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgJHtmdW5jdGlvbk5hbWV9LmApO1xuICAgIH1cbn07XG5leHBvcnRzLmFzc2VydFBhcmFtRXhpc3RzID0gYXNzZXJ0UGFyYW1FeGlzdHM7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IHNldEFwaUtleVRvT2JqZWN0ID0gZnVuY3Rpb24gKG9iamVjdCwga2V5UGFyYW1OYW1lLCBjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24gJiYgY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXBpS2V5VmFsdWUgPSB0eXBlb2YgY29uZmlndXJhdGlvbi5hcGlLZXkgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICA/IHlpZWxkIGNvbmZpZ3VyYXRpb24uYXBpS2V5KGtleVBhcmFtTmFtZSlcbiAgICAgICAgICAgICAgICA6IHlpZWxkIGNvbmZpZ3VyYXRpb24uYXBpS2V5O1xuICAgICAgICAgICAgb2JqZWN0W2tleVBhcmFtTmFtZV0gPSBsb2NhbFZhckFwaUtleVZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuZXhwb3J0cy5zZXRBcGlLZXlUb09iamVjdCA9IHNldEFwaUtleVRvT2JqZWN0O1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICovXG5jb25zdCBzZXRCYXNpY0F1dGhUb09iamVjdCA9IGZ1bmN0aW9uIChvYmplY3QsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICBpZiAoY29uZmlndXJhdGlvbiAmJiAoY29uZmlndXJhdGlvbi51c2VybmFtZSB8fCBjb25maWd1cmF0aW9uLnBhc3N3b3JkKSkge1xuICAgICAgICBvYmplY3RbXCJhdXRoXCJdID0geyB1c2VybmFtZTogY29uZmlndXJhdGlvbi51c2VybmFtZSwgcGFzc3dvcmQ6IGNvbmZpZ3VyYXRpb24ucGFzc3dvcmQgfTtcbiAgICB9XG59O1xuZXhwb3J0cy5zZXRCYXNpY0F1dGhUb09iamVjdCA9IHNldEJhc2ljQXV0aFRvT2JqZWN0O1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICovXG5jb25zdCBzZXRCZWFyZXJBdXRoVG9PYmplY3QgPSBmdW5jdGlvbiAob2JqZWN0LCBjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24gJiYgY29uZmlndXJhdGlvbi5hY2Nlc3NUb2tlbikge1xuICAgICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSB0eXBlb2YgY29uZmlndXJhdGlvbi5hY2Nlc3NUb2tlbiA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgID8geWllbGQgY29uZmlndXJhdGlvbi5hY2Nlc3NUb2tlbigpXG4gICAgICAgICAgICAgICAgOiB5aWVsZCBjb25maWd1cmF0aW9uLmFjY2Vzc1Rva2VuO1xuICAgICAgICAgICAgb2JqZWN0W1wiQXV0aG9yaXphdGlvblwiXSA9IFwiQmVhcmVyIFwiICsgYWNjZXNzVG9rZW47XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5leHBvcnRzLnNldEJlYXJlckF1dGhUb09iamVjdCA9IHNldEJlYXJlckF1dGhUb09iamVjdDtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqL1xuY29uc3Qgc2V0T0F1dGhUb09iamVjdCA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWUsIHNjb3BlcywgY29uZmlndXJhdGlvbikge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uICYmIGNvbmZpZ3VyYXRpb24uYWNjZXNzVG9rZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQWNjZXNzVG9rZW5WYWx1ZSA9IHR5cGVvZiBjb25maWd1cmF0aW9uLmFjY2Vzc1Rva2VuID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyB5aWVsZCBjb25maWd1cmF0aW9uLmFjY2Vzc1Rva2VuKG5hbWUsIHNjb3BlcylcbiAgICAgICAgICAgICAgICA6IHlpZWxkIGNvbmZpZ3VyYXRpb24uYWNjZXNzVG9rZW47XG4gICAgICAgICAgICBvYmplY3RbXCJBdXRob3JpemF0aW9uXCJdID0gXCJCZWFyZXIgXCIgKyBsb2NhbFZhckFjY2Vzc1Rva2VuVmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5leHBvcnRzLnNldE9BdXRoVG9PYmplY3QgPSBzZXRPQXV0aFRvT2JqZWN0O1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICovXG5jb25zdCBzZXRTZWFyY2hQYXJhbXMgPSBmdW5jdGlvbiAodXJsLCAuLi5vYmplY3RzKSB7XG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoKTtcbiAgICBmb3IgKGNvbnN0IG9iamVjdCBvZiBvYmplY3RzKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0W2tleV0pKSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1zLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBvYmplY3Rba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1zLnNldChrZXksIG9iamVjdFtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1cmwuc2VhcmNoID0gc2VhcmNoUGFyYW1zLnRvU3RyaW5nKCk7XG59O1xuZXhwb3J0cy5zZXRTZWFyY2hQYXJhbXMgPSBzZXRTZWFyY2hQYXJhbXM7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IHNlcmlhbGl6ZURhdGFJZk5lZWRlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgcmVxdWVzdE9wdGlvbnMsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICBjb25zdCBub25TdHJpbmcgPSB0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnO1xuICAgIGNvbnN0IG5lZWRzU2VyaWFsaXphdGlvbiA9IG5vblN0cmluZyAmJiBjb25maWd1cmF0aW9uICYmIGNvbmZpZ3VyYXRpb24uaXNKc29uTWltZVxuICAgICAgICA/IGNvbmZpZ3VyYXRpb24uaXNKc29uTWltZShyZXF1ZXN0T3B0aW9ucy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSlcbiAgICAgICAgOiBub25TdHJpbmc7XG4gICAgcmV0dXJuIG5lZWRzU2VyaWFsaXphdGlvblxuICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHt9KVxuICAgICAgICA6ICh2YWx1ZSB8fCBcIlwiKTtcbn07XG5leHBvcnRzLnNlcmlhbGl6ZURhdGFJZk5lZWRlZCA9IHNlcmlhbGl6ZURhdGFJZk5lZWRlZDtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgdG9QYXRoU3RyaW5nID0gZnVuY3Rpb24gKHVybCkge1xuICAgIHJldHVybiB1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoICsgdXJsLmhhc2g7XG59O1xuZXhwb3J0cy50b1BhdGhTdHJpbmcgPSB0b1BhdGhTdHJpbmc7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IGNyZWF0ZVJlcXVlc3RGdW5jdGlvbiA9IGZ1bmN0aW9uIChheGlvc0FyZ3MsIGdsb2JhbEF4aW9zLCBCQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICByZXR1cm4gKGF4aW9zID0gZ2xvYmFsQXhpb3MsIGJhc2VQYXRoID0gQkFTRV9QQVRIKSA9PiB7XG4gICAgICAgIGNvbnN0IGF4aW9zUmVxdWVzdEFyZ3MgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGF4aW9zQXJncy5vcHRpb25zKSwgeyB1cmw6ICgoY29uZmlndXJhdGlvbiA9PT0gbnVsbCB8fCBjb25maWd1cmF0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWd1cmF0aW9uLmJhc2VQYXRoKSB8fCBiYXNlUGF0aCkgKyBheGlvc0FyZ3MudXJsIH0pO1xuICAgICAgICByZXR1cm4gYXhpb3MucmVxdWVzdChheGlvc1JlcXVlc3RBcmdzKTtcbiAgICB9O1xufTtcbmV4cG9ydHMuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uID0gY3JlYXRlUmVxdWVzdEZ1bmN0aW9uO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///98691\n')},8722:(__unused_webpack_module,exports)=>{"use strict";eval("\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Configuration = void 0;\nclass Configuration {\n    constructor(param = {}) {\n        this.apiKey = param.apiKey;\n        this.username = param.username;\n        this.password = param.password;\n        this.accessToken = param.accessToken;\n        this.basePath = param.basePath;\n        this.baseOptions = param.baseOptions;\n        this.formDataCtor = param.formDataCtor;\n    }\n    /**\n     * Check if the given MIME is a JSON MIME.\n     * JSON MIME examples:\n     *   application/json\n     *   application/json; charset=UTF8\n     *   APPLICATION/JSON\n     *   application/vnd.company+json\n     * @param mime - MIME (Multipurpose Internet Mail Extensions)\n     * @return True if the given MIME is JSON, false otherwise.\n     */\n    isJsonMime(mime) {\n        const jsonMime = new RegExp('^(application\\/json|[^;/ \\t]+\\/[^;/ \\t]+[+]json)[ \\t]*(;.*)?$', 'i');\n        return mime !== null && (jsonMime.test(mime) || mime.toLowerCase() === 'application/json-patch+json');\n    }\n}\nexports.Configuration = Configuration;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2NvbmZpZ3VyYXRpb24uanM/OWQ5NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLENBQUMsY0FBYyxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQjtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELFdBQVcsc0JBQXNCO0FBQzdGO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiIsImZpbGUiOiI4NzIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8qKlxuICogQ29ubmVjdG9yIFNlcnZpY2UgRmxlZXQgTWFuYWdlclxuICogQ29ubmVjdG9yIFNlcnZpY2UgRmxlZXQgTWFuYWdlciBpcyBhIFJlc3QgQVBJIHRvIG1hbmFnZSBjb25uZWN0b3JzLlxuICpcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBPcGVuQVBJIGRvY3VtZW50OiAwLjAuM1xuICpcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IE9wZW5BUEkgR2VuZXJhdG9yIChodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2gpLlxuICogaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoXG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29uZmlndXJhdGlvbiA9IHZvaWQgMDtcbmNsYXNzIENvbmZpZ3VyYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtID0ge30pIHtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBwYXJhbS5hcGlLZXk7XG4gICAgICAgIHRoaXMudXNlcm5hbWUgPSBwYXJhbS51c2VybmFtZTtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhcmFtLnBhc3N3b3JkO1xuICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuID0gcGFyYW0uYWNjZXNzVG9rZW47XG4gICAgICAgIHRoaXMuYmFzZVBhdGggPSBwYXJhbS5iYXNlUGF0aDtcbiAgICAgICAgdGhpcy5iYXNlT3B0aW9ucyA9IHBhcmFtLmJhc2VPcHRpb25zO1xuICAgICAgICB0aGlzLmZvcm1EYXRhQ3RvciA9IHBhcmFtLmZvcm1EYXRhQ3RvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIGdpdmVuIE1JTUUgaXMgYSBKU09OIE1JTUUuXG4gICAgICogSlNPTiBNSU1FIGV4YW1wbGVzOlxuICAgICAqICAgYXBwbGljYXRpb24vanNvblxuICAgICAqICAgYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEY4XG4gICAgICogICBBUFBMSUNBVElPTi9KU09OXG4gICAgICogICBhcHBsaWNhdGlvbi92bmQuY29tcGFueStqc29uXG4gICAgICogQHBhcmFtIG1pbWUgLSBNSU1FIChNdWx0aXB1cnBvc2UgSW50ZXJuZXQgTWFpbCBFeHRlbnNpb25zKVxuICAgICAqIEByZXR1cm4gVHJ1ZSBpZiB0aGUgZ2l2ZW4gTUlNRSBpcyBKU09OLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgaXNKc29uTWltZShtaW1lKSB7XG4gICAgICAgIGNvbnN0IGpzb25NaW1lID0gbmV3IFJlZ0V4cCgnXihhcHBsaWNhdGlvblxcL2pzb258W147LyBcXHRdK1xcL1teOy8gXFx0XStbK11qc29uKVsgXFx0XSooOy4qKT8kJywgJ2knKTtcbiAgICAgICAgcmV0dXJuIG1pbWUgIT09IG51bGwgJiYgKGpzb25NaW1lLnRlc3QobWltZSkgfHwgbWltZS50b0xvd2VyQ2FzZSgpID09PSAnYXBwbGljYXRpb24vanNvbi1wYXRjaCtqc29uJyk7XG4gICAgfVxufVxuZXhwb3J0cy5Db25maWd1cmF0aW9uID0gQ29uZmlndXJhdGlvbjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8722\n")},22750:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\n__exportStar(__webpack_require__(31100), exports);\n__exportStar(__webpack_require__(8722), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2luZGV4LmpzPzVlZDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msb0NBQW9DLGFBQWEsRUFBRSxFQUFFO0FBQ3ZGLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxDQUFDLGNBQWMsRUFBQztBQUM3RCxhQUFhLG1CQUFPLENBQUMsS0FBTztBQUM1QixhQUFhLG1CQUFPLENBQUMsSUFBaUIiLCJmaWxlIjoiMjI3NTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIHRzbGludDpkaXNhYmxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyoqXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyIGlzIGEgUmVzdCBBUEkgdG8gbWFuYWdlIGNvbm5lY3RvcnMuXG4gKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIE9wZW5BUEkgZG9jdW1lbnQ6IDAuMC4zXG4gKlxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vYXBpXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jb25maWd1cmF0aW9uXCIpLCBleHBvcnRzKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22750\n')},81778:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports, "__esModule", ({value:!0}));var t=__webpack_require__(42403),n=e(t),r=__webpack_require__(35471),a=__webpack_require__(83255),o=__webpack_require__(42259),i=e(__webpack_require__(53778)),l=__webpack_require__(63583),c=__webpack_require__(41361),u=__webpack_require__(39576),s=__webpack_require__(14170),m=__webpack_require__(66170),d=__webpack_require__(25102),p=__webpack_require__(63585),v=__webpack_require__(94963);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function E(e){for(var t,n=[],r=h(e);!(t=r()).done;){var a=t.value;if(a.steps)for(var o,i=h(a.steps);!(o=i()).done;)n.push(o.value);else n.push(a)}return n}var b=function(e){var t,r;function a(t){var n;(n=e.call(this,t)||this).titleId=void 0,n.descriptionId=void 0,n.handleKeyClicks=function(e){e.keyCode===l.KEY_CODES.ESCAPE_KEY&&(n.state.isNavOpen?n.setState({isNavOpen:!n.state.isNavOpen}):n.props.isOpen&&n.props.onClose&&n.props.onClose())},n.getFlattenedSteps=function(){return E(n.props.steps)},n.getFlattenedStepsIndex=function(e,t){for(var n=0;n<e.length;n++)if(e[n].name===t)return n+1;return 0},n.initSteps=function(e){for(var t=0;t<e.length;t++){if(e[t].steps)for(var n=0;n<e[t].steps.length;n++)e[t].steps[n]=Object.assign({canJumpTo:!0},e[t].steps[n]);e[t]=Object.assign({canJumpTo:!0},e[t])}return e},n.getElement=function(e){return"function"==typeof e?e():e||document.body};var r=a.currentId++;return n.titleId=t.titleId||"pf-wizard-title-"+r,n.descriptionId=t.descriptionId||"pf-wizard-description-"+r,n.state={isNavOpen:!1},n}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var c=a.prototype;return c.componentDidMount=function(){var e="undefined"!=typeof document?document.body:null;e&&e.addEventListener("keydown",this.handleKeyClicks,!1)},c.componentWillUnmount=function(){var e="undefined"!=typeof document&&document.body||null;e&&e.removeEventListener("keydown",this.handleKeyClicks,!1)},c.render=function(){var e=this,t=this.props,r=t.width,a=t.height,c=t.title,u=t.description,s=t.onClose,m=t.onBack,d=t.onNext,p=t.goToStep,v=t.goToStepById,g=t.goToStepByName,E=t.className,b=t.steps,C=t.currentStep,y=t.nextButtonText,S=void 0===y?"Next":y,T=t.backButtonText,k=void 0===T?"Back":T,I=t.cancelButtonText,x=void 0===I?"Cancel":I,N=t.hideClose,B=t.closeButtonAriaLabel,z=void 0===B?"Close":B,w=t.navAriaLabel,L=t.navAriaLabelledBy,A=t.mainAriaLabel,D=t.mainAriaLabelledBy,P=t.hasNoBodyPadding,F=t.footer,O=t.isOpen,M=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(a[n]=e[n]);return a}(t,["width","height","title","description","onClose","onSave","onBack","onNext","onGoToStep","goToStep","goToStepById","goToStepByName","className","steps","currentStep","nextButtonText","backButtonText","cancelButtonText","hideClose","closeButtonAriaLabel","navAriaLabel","navAriaLabelledBy","mainAriaLabel","mainAriaLabelledBy","hasNoBodyPadding","footer","appendTo","isOpen","titleId","descriptionId"]),G=this.getFlattenedSteps(),q=G[(G.length<C?G.length:C)-1],W=this.initSteps(b),R=q===G[0],j=!q||void 0===q.enableNext||q.enableNext,_={goToStepById:v,goToStepByName:g,onNext:d,onBack:m,onClose:s,activeStep:q},J=f({},a?{height:a}:{},r?{width:r}:{}),K=n.createElement(l.WizardContextProvider,{value:_},n.createElement("div",f({},M,{className:o.css(i.wizard,q&&q.isFinishedStep&&"pf-m-finished",E),style:Object.keys(J).length?J:void 0}),c&&n.createElement(l.WizardHeader,{titleId:this.titleId,descriptionId:this.descriptionId,onClose:s,title:c,description:u,closeButtonAriaLabel:z,hideClose:N}),n.createElement(l.WizardToggle,{mainAriaLabel:A,isInPage:void 0===O,mainAriaLabelledBy:(c||D)&&(D||this.titleId),isNavOpen:this.state.isNavOpen,onNavToggle:function(t){return e.setState({isNavOpen:t})},nav:function(t){var r={isOpen:t,"aria-label":w,"aria-labelledby":(c||L)&&(L||e.titleId)};return n.createElement(l.WizardNav,f({},r),W.map((function(t,a){if(t.isFinishedStep)return null;var o;if(t.steps){for(var i,c=!1,u=!1,s=h(t.steps);!(i=s()).done;){var m=i.value;q.name===m.name&&(c=!0),m.canJumpTo&&(u=!0)}return o=e.getFlattenedStepsIndex(G,t.steps[0].name),n.createElement(l.WizardNavItem,{key:a,content:t.name,isCurrent:c,isDisabled:!u,step:o,onNavItemClick:p},n.createElement(l.WizardNav,f({},r,{returnList:!0}),t.steps.map((function(t,r){return t.isFinishedStep?null:(o=e.getFlattenedStepsIndex(G,t.name),n.createElement(l.WizardNavItem,{key:"child_"+r,content:t.name,isCurrent:q.name===t.name,isDisabled:!t.canJumpTo,step:o,onNavItemClick:p}))}))))}return o=e.getFlattenedStepsIndex(G,t.name),n.createElement(l.WizardNavItem,f({},t.stepNavItemProps,{key:a,content:t.name,isCurrent:q.name===t.name,isDisabled:!t.canJumpTo,step:o,onNavItemClick:p}))})))},steps:b,activeStep:q,hasNoBodyPadding:P},F||n.createElement("footer",{className:o.css(i.wizardFooter)},n.createElement(l.Button,{variant:l.ButtonVariant.primary,type:"submit",onClick:d,isDisabled:!j},q&&q.nextButtonText||S),!q.hideBackButton&&n.createElement(l.Button,{variant:l.ButtonVariant.secondary,onClick:m,className:o.css(R&&"pf-m-disabled")},k),!q.hideCancelButton&&n.createElement("div",{className:i.wizardFooterCancel},n.createElement(l.Button,{variant:l.ButtonVariant.link,onClick:s},x))))));return void 0!==O?n.createElement(l.Modal,{width:null!==r?r:void 0,isOpen:O,variant:l.ModalVariant.large,"aria-labelledby":this.titleId,"aria-describedby":this.descriptionId,showClose:!1,hasNoBodyWrapper:!0},K):K},a}(t.Component);b.displayName="Wizard",b.currentId=0,b.defaultProps={title:void 0,description:"",className:"",nextButtonText:"Next",backButtonText:"Back",cancelButtonText:"Cancel",hideClose:!1,closeButtonAriaLabel:"Close",navAriaLabel:void 0,navAriaLabelledBy:void 0,mainAriaLabel:void 0,mainAriaLabelledBy:void 0,hasNoBodyPadding:!1,onGoToStep:void 0,width:void 0,height:void 0,footer:void 0,appendTo:void 0,isOpen:void 0};var C=[{title:"1",value:1},{title:"5",value:5},{title:"10",value:10}],y=function(){var e=a.useCreationWizardMachineKafkasActor();return a.useKafkasMachineIsReady(e)?n.createElement(S,null):null},S=function(){var e,t=s.useHistory(),r=a.useCreationWizardMachineKafkasActor(),o=a.useKafkasMachine(r),i=o.response,u=o.selectedId,m=o.onSelect,d=o.onQuery;switch(!0){case o.firstRequest:return n.createElement("div",{className:"pf-u-background-color-200"},n.createElement(c.Loading,null));case o.queryEmpty:return n.createElement("div",{className:"pf-u-background-color-200"},n.createElement(T,null),n.createElement(c.NoMatchFound,{onClear:function(){return d({page:1,size:10})}}));case o.noResults||o.error:return n.createElement("div",{className:"pf-u-background-color-200"},n.createElement(c.EmptyState,{emptyStateProps:{variant:c.EmptyStateVariant.GettingStarted},titleProps:{title:"cos.no_kafka_instance"},emptyStateBodyProps:{body:"cos.no_kafka_instance_body"},buttonProps:{title:"cos.create_kafka_instance",variant:l.ButtonVariant.primary,onClick:function(){return t.push("/create-connector")}}}));case o.loading:return n.createElement("div",{className:"pf-u-background-color-200"},n.createElement(T,null),n.createElement(c.Loading,null));default:return n.createElement("div",{className:"pf-u-background-color-200"},n.createElement(T,null),n.createElement("div",{className:"pf-u-p-md"},n.createElement(l.Gallery,{hasGutter:!0},null==i||null==(e=i.items)?void 0:e.map((function(e){return n.createElement(l.Card,{isHoverable:!0,key:e.id,isSelectable:!0,isSelected:u===e.id,onClick:function(){return m(e.id)}},n.createElement(l.CardHeader,null,n.createElement(l.CardTitle,null,e.name)),n.createElement(l.CardBody,null,n.createElement(l.DescriptionList,null,n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Region"),n.createElement(l.DescriptionListDescription,null,e.region)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Owner"),n.createElement(l.DescriptionListDescription,null,e.owner)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Created"),n.createElement(l.DescriptionListDescription,null,e.created_at)))))})))))}},T=function(){var e=m.useTranslation().t,r=a.useCreationWizardMachineKafkasActor(),o=a.useKafkasMachine(r),i=o.request,s=o.response,d=o.onQuery,p=t.useState(!1),v=p[0],g=p[1],h=t.useState(!1),E=h[0],b=h[1],y=t.useState(!1),S=y[0],T=y[1],z=t.useState(!1),w=z[0],L=z[1],A=t.useState("Name"),D=A[0],P=A[1],F=t.useCallback((function(){return g((function(e){return!e}))}),[]),O=t.useCallback((function(){return b((function(e){return!e}))}),[]),M=t.useCallback((function(){return T((function(e){return!e}))}),[]),G=t.useCallback((function(){return L((function(e){return!e}))}),[]),q=c.useDebounce(d,1e3),W=i.query||{},R=W.name,j=W.owner,_=W.cloudProviders,J=void 0===_?[]:_,K=W.regions,V=void 0===K?[]:K,H=W.statuses,Q=void 0===H?[]:H,U=t.useCallback((function(){return d({page:1,size:i.size})}),[d,i.size]),Y=t.useRef(null),$=t.useRef(null),X=function(e,t,n){var r;return d(f({},i,{query:f({},i.query||{},(r={},r[e]=t.includes(n)?t.filter((function(e){return e!==n})):[].concat(t||[],[n]),r))}))},Z=function(e,t){X("statuses",Q,t.key)},ee=function(e,t){X("cloudProviders",J,t.key)},te=function(e,t){X("regions",V,t.key)},ne=function(e){var t;return d(f({},i,{query:f({},i.query||{},(t={},t[e]=void 0,t))}))},re=t.useCallback((function(e){P((null==e?void 0:e.target).innerText),L((function(e){return!e}))}),[]);t.useEffect((function(){Y.current&&(Y.current.value=R||""),$.current&&($.current.value=j||"")}),[Y,R,j]);var ae=k.map((function(e){return n.createElement(l.DropdownItem,{key:e.value},e.label)})),oe=x.filter((function(e){return"preparing"!==e.value})).map((function(e){var t=e.value;return n.createElement(l.SelectOption,{key:t,value:t},e.label)})),ie=I.map((function(e){var t=e.value;return n.createElement(l.SelectOption,{key:t,value:t},e.label)})),le=N.map((function(e){var t=e.value;return n.createElement(l.SelectOption,{key:t,value:t},e.label)})),ce=n.createElement(l.ToolbarItem,null,n.createElement(l.Dropdown,{onSelect:function(e){return re(e)},position:l.DropdownPosition.left,toggle:n.createElement(l.DropdownToggle,{onToggle:G,style:{width:"100%"}},n.createElement(u.FilterIcon,{size:"sm"})," ",D),isOpen:w,dropdownItems:ae,style:{width:"100%"}})),ue=n.createElement(n.Fragment,null,n.createElement(l.ToolbarGroup,{variant:"filter-group"},ce,n.createElement(l.ToolbarFilter,{chips:Q.map((function(t){return B(t,e)})),deleteChip:Z,deleteChipGroup:function(){return ne("statuses")},categoryName:e("status"),showToolbarItem:D===e("status")},n.createElement(l.Select,{variant:"checkbox","aria-label":e("status"),onToggle:F,onSelect:function(t,n){return Z(0,B(n,e))},selections:Q,isOpen:v,placeholderText:e("Filter by status")},oe)),n.createElement(l.ToolbarFilter,{chips:J.map((function(t){return B(t,e)})),deleteChip:ee,deleteChipGroup:function(){return ne("cloudProviders")},categoryName:e("CloudProvider"),showToolbarItem:D===e("CloudProvider")},n.createElement(l.Select,{variant:"checkbox","aria-label":e("CloudProvider"),onToggle:O,onSelect:function(t,n){return ee(0,B(n,e))},selections:J,isOpen:E,placeholderText:e("Filter by cloud provider")},ie)),n.createElement(l.ToolbarFilter,{chips:V.map((function(t){return B(t,e)})),deleteChip:te,deleteChipGroup:function(){return ne("regions")},categoryName:e("region"),showToolbarItem:D===e("region")},n.createElement(l.Select,{variant:"checkbox","aria-label":e("region"),onToggle:M,onSelect:function(t,n){return te(0,B(n,e))},selections:V,isOpen:S,placeholderText:e("Filter by region")},le)),n.createElement(l.ToolbarFilter,{chips:R?[R]:[],deleteChip:function(){return ne("name")},categoryName:e("name")},D===e("name")&&n.createElement(l.ToolbarItem,null,n.createElement(l.InputGroup,null,n.createElement(l.TextInput,{name:e("name"),id:e("name"),type:"search",placeholder:e("nameSearchPlaceholder"),"aria-label":e("nameSearchPlaceholder"),onChange:function(e){return q({size:i.size,page:1,query:f({},i.query,{name:e})})},ref:Y}),n.createElement(l.Button,{variant:"control","aria-label":"search button for name input",onClick:function(){var e;return d({size:i.size,page:1,query:f({},i.query,{name:(null==(e=Y.current)?void 0:e.value)||""})})}},n.createElement(u.SearchIcon,null))))),n.createElement(l.ToolbarFilter,{chips:j?[j]:[],deleteChip:function(){return ne("owner")},categoryName:e("owner")},D===e("owner")&&n.createElement(l.ToolbarItem,null,n.createElement(l.InputGroup,null,n.createElement(l.TextInput,{name:e("owner"),id:e("owner"),type:"search",placeholder:e("ownerSearchPlaceholder"),"aria-label":e("ownerSearchPlaceholder"),onChange:function(e){return q({size:i.size,page:1,query:f({},i.query,{owner:e})})},ref:$}),n.createElement(l.Button,{variant:"control","aria-label":"search button for owner input",onClick:function(){var e;return d({size:i.size,page:1,query:f({},i.query,{owner:(null==(e=$.current)?void 0:e.value)||""})})}},n.createElement(u.SearchIcon,null))))))),se=n.createElement(n.Fragment,null,n.createElement(l.ToolbarToggleGroup,{toggleIcon:n.createElement(u.FilterIcon,null),breakpoint:"xl"},ue),n.createElement(l.ToolbarGroup,{variant:"icon-button-group"},n.createElement(l.ToolbarItem,null,n.createElement(l.Button,{variant:"primary"},"Create Kafka Instance"))),n.createElement(l.ToolbarItem,{variant:"pagination",alignment:{default:"alignRight"}},n.createElement(l.Pagination,{itemCount:(null==s?void 0:s.total)||0,page:i.page,perPage:i.size,perPageOptions:C,onSetPage:function(e,t,n){return d(f({},i,{page:t,size:n||i.size}))},onPerPageSelect:function(){return!1},variant:"top",isCompact:!0})));return n.createElement(l.Toolbar,{id:"toolbar-group-types",collapseListedFiltersBreakpoint:"xl",clearAllFilters:U},n.createElement(l.ToolbarContent,null,se))},k=[{value:"name",label:"Name"},{value:"status",label:"Status"},{value:"cloudprovider",label:"Cloud Provider"},{value:"region",label:"Region"},{value:"owner",label:"Owner"}],I=[{value:"aws",label:"Amazon Web Services"}],x=[{value:"ready",label:"Ready"},{value:"failed",label:"Failed"},{value:"accepted",label:"Creation pending"},{value:"provisioning",label:"Creation in progress"},{value:"preparing",label:"Creation in progress"},{value:"deprovision",label:"Deletion in progress"}],N=[{value:"us-east-1",label:"US East, N. Virginia"}],B=function(e,t){return{key:e,node:t(e)}};function z(){var e=a.useCreationWizardMachineClustersActor();return a.useClustersMachineIsReady(e)?n.createElement(w,null):null}var w=function(){var e,t=s.useHistory(),r=a.useCreationWizardMachineClustersActor(),o=a.useClustersMachine(r),i=o.response,u=o.selectedId,m=o.onSelect,d=o.onQuery;switch(!0){case o.firstRequest:return n.createElement("div",{className:"pf-u-background-color-200"},n.createElement(c.Loading,null));case o.queryEmpty:return n.createElement("div",{className:"pf-u-background-color-200"},n.createElement(L,null),n.createElement(c.NoMatchFound,{onClear:function(){return d({page:1,size:10})}}));case o.noResults||o.error:return n.createElement("div",{className:"pf-u-background-color-200"},n.createElement(c.EmptyState,{emptyStateProps:{variant:c.EmptyStateVariant.GettingStarted},titleProps:{title:"cos.no_clusters_instance"},emptyStateBodyProps:{body:"cos.no_clusters_instance_body"},buttonProps:{title:"cos.create_clusters_instance",variant:l.ButtonVariant.primary,onClick:function(){return t.push("/create-connector")}}}));case o.loading:return n.createElement("div",{className:"pf-u-background-color-200"},n.createElement(L,null),n.createElement(c.Loading,null));default:return n.createElement("div",{className:"pf-u-background-color-200"},n.createElement(L,null),n.createElement("div",{className:"pf-u-p-md"},n.createElement(l.Gallery,{hasGutter:!0},null==i||null==(e=i.items)?void 0:e.map((function(e){var t,r,a;return n.createElement(l.Card,{isHoverable:!0,key:e.id,isSelectable:!0,isSelected:u===e.id,onClick:function(){return m(e.id)}},n.createElement(l.CardHeader,null,n.createElement(l.CardTitle,null,null==(t=e.metadata)?void 0:t.name)),n.createElement(l.CardBody,null,n.createElement(l.DescriptionList,null,n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Owner"),n.createElement(l.DescriptionListDescription,null,null==(r=e.metadata)?void 0:r.owner)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Created"),n.createElement(l.DescriptionListDescription,null,null==(a=e.metadata)?void 0:a.created_at)))))})))))}},L=function(){var e=a.useCreationWizardMachineClustersActor(),r=a.useClustersMachine(e),o=r.request,i=r.response,s=r.onQuery,m=t.useRef(null),d=c.useDebounce(s,1e3),p=n.createElement(n.Fragment,null,n.createElement(l.ToolbarItem,null,n.createElement(l.InputGroup,null,n.createElement(l.TextInput,{name:"textInput2",id:"textInput2",type:"search","aria-label":"search input example",onChange:function(e){return d({size:o.size,page:1,name:e})},ref:m}),n.createElement(l.Button,{variant:"control","aria-label":"search button for search input"},n.createElement(u.SearchIcon,null))))),v=n.createElement(n.Fragment,null,n.createElement(l.ToolbarToggleGroup,{toggleIcon:n.createElement(u.FilterIcon,null),breakpoint:"xl"},p),n.createElement(l.ToolbarGroup,{variant:"icon-button-group"},n.createElement(l.ToolbarItem,null,n.createElement(l.Button,{variant:"primary"},"Create Clusters Instance"))),n.createElement(l.ToolbarItem,{variant:"pagination",alignment:{default:"alignRight"}},n.createElement(l.Pagination,{itemCount:(null==i?void 0:i.total)||0,page:o.page,perPage:o.size,perPageOptions:[{title:"1",value:1},{title:"5",value:5},{title:"10",value:10}],onSetPage:function(e,t,n){return s(f({},o,{page:t,size:n||o.size}))},onPerPageSelect:function(){return!1},variant:"top",isCompact:!0})));return n.createElement(l.Toolbar,{id:"toolbar-group-types",collapseListedFiltersBreakpoint:"xl"},n.createElement(l.ToolbarContent,null,v))},A=[{title:"1",value:1},{title:"5",value:5},{title:"10",value:10}];function D(){var e,r,o,i,s=a.useCreationWizardMachineConnectorTypesActor(),m=t.useState(""),d=m[0],p=m[1],v=t.useState(["Sink","Source"]),f=v[0],g=v[1],h=t.useState(!1),E=h[0],b=h[1],C=t.useCallback((function(){p(""),g([])}),[]),y=t.useCallback((function(){return b((function(e){return!e}))}),[]),S=t.useCallback((function(e,t){return g((function(e){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(e,[t])}))}),[]);switch(!0){case s.state.matches("loading"):return n.createElement(l.EmptyState,null,n.createElement(l.EmptyStateIcon,{variant:"container",component:l.Spinner}),n.createElement(l.Title,{size:"lg",headingLevel:"h4"},"Loading"));case s.state.matches("failure"):return n.createElement(c.NoMatchFound,null);default:var T=[n.createElement(l.SelectOption,{key:"Sink",value:"Sink"}),n.createElement(l.SelectOption,{key:"Source",value:"Source"})],k=n.createElement(n.Fragment,null,n.createElement(l.ToolbarItem,null,n.createElement(l.InputGroup,null,n.createElement(l.TextInput,{name:"textInput2",id:"textInput2",type:"search","aria-label":"search input example",onChange:p,value:d}),n.createElement(l.Button,{variant:"control","aria-label":"search button for search input"},n.createElement(u.SearchIcon,null)))),n.createElement(l.ToolbarGroup,{variant:"filter-group"},n.createElement(l.ToolbarFilter,{chips:f,deleteChip:S,deleteChipGroup:function(){return g([])},categoryName:"Connector type"},n.createElement(l.Select,{variant:"checkbox","aria-label":"Connector type",onToggle:y,onSelect:S,selections:f,isOpen:E,placeholderText:"Connector type"},T)))),I=n.createElement(n.Fragment,null,n.createElement(l.ToolbarToggleGroup,{toggleIcon:n.createElement(u.FilterIcon,null),breakpoint:"xl"},k),n.createElement(l.ToolbarItem,{variant:"pagination",alignment:{default:"alignRight"}},n.createElement(l.Pagination,{itemCount:(null==(e=s.state.context.connectors)?void 0:e.total)||0,page:((null==(r=s.state.context.connectors)?void 0:r.page)||0)+1,perPage:(null==(o=s.state.context.connectors)?void 0:o.size)||0,perPageOptions:A,onSetPage:function(){return!1},onPerPageSelect:function(){return!1},variant:"top",isCompact:!0})));return n.createElement("div",{className:"pf-u-background-color-200"},n.createElement(l.Toolbar,{id:"toolbar-group-types",collapseListedFiltersBreakpoint:"xl",clearAllFilters:C},n.createElement(l.ToolbarContent,null,I)),n.createElement("div",{className:"pf-u-p-md"},n.createElement(l.Gallery,{hasGutter:!0},null==(i=s.state.context.connectors)?void 0:i.items.filter((function(e){return""===d||e.name.includes(d)})).map((function(e){var t;return n.createElement(l.Card,{isHoverable:!0,key:e.id,isSelectable:!0,isSelected:(null==(t=s.state.context.selectedConnector)?void 0:t.id)===e.id,onClick:function(){s.send({type:"selectConnector",selectedConnector:e.id})}},n.createElement(l.CardHeader,null,n.createElement(l.CardTitle,null,e.name)),n.createElement(l.CardBody,null,n.createElement(l.DescriptionList,null,n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListDescription,null,e.description)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Version"),n.createElement(l.DescriptionListDescription,null,e.version)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"ID"),n.createElement(l.DescriptionListDescription,null,e.id)))))})))))}}var P=function(e){var a=e.actor,o=e.Configurator,i=r.useSelector(a,t.useCallback((function(e){return{connector:e.context.connector,activeStep:e.context.activeStep,configuration:e.context.configuration}}),[a]));return n.createElement(o,{activeStep:i.activeStep,configuration:i.configuration,connector:i.connector,onChange:function(e,t){return a.send({type:"change",configuration:e,isValid:t})}})},F=function(e){var a=e.actor,o=r.useSelector(a,t.useCallback((function(e){return{connector:e.context.connector,configuration:e.context.configuration}}),[a]));return n.createElement(d.JsonSchemaConfigurator,{schema:o.connector.json_schema,configuration:o.configuration||{},onChange:function(e,t){return a.send({type:"change",configuration:e,isValid:t})}})},O=function(){var e=m.useTranslation().t,o=a.useCreationWizardMachineService(),i=r.useSelector(o,t.useCallback((function(e){return{isLoading:e.matches({configureConnector:"loadConfigurator"}),hasErrors:e.matches("failure"),hasCustomConfigurator:!1!==e.context.Configurator&&void 0!==e.context.Configurator,configuration:e.context.connectorConfiguration,Configurator:e.context.Configurator,configuratorRef:e.children.configuratorRef}}),[o])),c=i.Configurator,s=i.configuratorRef;switch(!0){case i.isLoading:return n.createElement(l.EmptyState,null,n.createElement(l.EmptyStateIcon,{variant:"container",component:l.Spinner}),n.createElement(l.Title,{size:"lg",headingLevel:"h4"},e("loading")));case i.hasErrors:return n.createElement(l.EmptyState,null,n.createElement(l.EmptyStateIcon,{icon:u.ExclamationCircleIcon}),n.createElement(l.Title,{size:"lg",headingLevel:"h4"},"Error message"));case i.hasCustomConfigurator:return n.createElement("div",{className:"pf-u-background-color-200 pf-u-p-md"},n.createElement(n.Suspense,{fallback:null},n.createElement(P,{actor:s,Configurator:c})));default:return n.createElement("div",{className:"pf-u-background-color-200 pf-u-p-md"},n.createElement(F,{actor:s}))}};function M(){var e=a.useCreationWizardMachineReviewActor(),r=a.useReviewMachine(e),o=r.name,i=r.serviceAccount,c=r.configString,u=r.configStringError,s=r.configStringWarnings,m=r.isSaving,d=r.savingError,v=r.onSetName,g=r.onSetServiceAccount,h=r.onUpdateConfiguration,E=t.useCallback((function(e,t){e.layout(),e.focus()}),[]);return n.createElement("div",{className:"pf-u-background-color-200 pf-u-p-md"},n.createElement(l.Form,null,d&&n.createElement(l.FormAlert,null,n.createElement(l.Alert,{variant:"danger",title:d,"aria-live":"polite",isInline:!0})),n.createElement(l.FormGroup,{label:"Name",isRequired:!0,fieldId:"name",helperText:"Please provide a unique name for the connector"},n.createElement(l.TextInput,{isDisabled:m,value:o,onChange:v,id:"name"})),n.createElement(l.FormGroup,{label:"Service Account",isRequired:!0,fieldId:"service-account"},n.createElement(l.Radio,{isDisabled:m,isChecked:void 0===i,name:"service-account",onChange:function(){return g(void 0)},label:"Automatically create a Service Account for this connector",id:"service-account-automatic",value:"automatic"}),n.createElement(l.Radio,{isDisabled:m,isChecked:void 0!==i,name:"service-account",onChange:function(){return g({clientId:"",clientSecret:""})},label:"Provide the credentials manually",id:"service-account-user",value:"user"}),void 0!==i&&n.createElement(n.Fragment,null,n.createElement(l.FormGroup,{label:"Client ID",isRequired:!0,fieldId:"clientId"},n.createElement(l.TextInput,{isDisabled:m,value:i.clientId,onChange:function(e){return g(f({},i,{clientId:e}))},id:"clientId"})),n.createElement(l.FormGroup,{label:"Client Secret",isRequired:!0,fieldId:"clientSecret"},n.createElement(l.TextInput,{isDisabled:m,value:i.clientSecret,onChange:function(e){return g(f({},i,{clientSecret:e}))},id:"clientSecret"})))),n.createElement(l.FormGroup,{label:"Configuration",isRequired:!0,fieldId:"configuration",helperText:"Please review the configuration data.",helperTextInvalid:u,validated:void 0!==u?"error":void 0!==s?"warning":"default"},n.createElement(p.CodeEditor,{id:"configuration",isDarkTheme:!1,isLineNumbersVisible:!0,isReadOnly:m,isMinimapVisible:!1,isLanguageLabelVisible:!0,code:c,onChange:h,language:p.Language.json,onEditorDidMount:E,height:"400px"}),n.createElement(l.AlertGroup,null,null==s?void 0:s.map((function(e,t){return n.createElement(l.Alert,{key:t,title:e,variant:"warning",isInline:!0})}))))))}var G=function(e){var t=e.error;return n.createElement("div",{role:"alert"},n.createElement("p",null,"Something went wrong:"),n.createElement("pre",null,t.message))},q=function(e){var t=e.children;return n.createElement(v.ErrorBoundary,{FallbackComponent:G,resetKeys:[Date.now()]},t)};Object.keys(a).forEach((function(e){"default"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}})})),exports.CreationWizard=function(e){var o=e.onClose,i=m.useTranslation().t,l=a.useCreationWizardMachineService(),c=r.useService(l),u=c[0],s=c[1],d=function(){var e=a.useCreationWizardMachineService(),o=r.useSelector(e,t.useCallback((function(e){return{isActive:e.matches("selectKafka"),canJumpTo:a.creationWizardMachine.transition(e,"jumpToSelectKafka").changed||e.matches("selectKafka"),enableNext:a.creationWizardMachine.transition(e,"next").changed}}),[e])),i=o.canJumpTo,l=o.enableNext;return{name:"Select kafka instance",isActive:o.isActive,component:n.createElement(q,null,n.createElement(y,null)),canJumpTo:i,enableNext:l}}(),p=function(){var e=a.useCreationWizardMachineService(),o=r.useSelector(e,t.useCallback((function(e){return{isActive:e.matches("configureConnector"),canJumpTo:a.creationWizardMachine.transition(e,"jumpToConfigureConnector").changed||e.matches("configureConnector"),enableNext:a.creationWizardMachine.transition(e,"next").changed,steps:e.context.configurationSteps,activeStep:e.context.activeConfigurationStep,canJumpToStep:function(t){return a.creationWizardMachine.transition(e,{type:"jumpToConfigureConnector",subStep:t}).changed}}}),[e])),i=o.isActive,l=o.activeStep,c=o.canJumpToStep,u=o.enableNext,s=o.steps;return{name:"Configuration",isActive:i,canJumpTo:o.canJumpTo,steps:s?s.map((function(e,t){return{name:e,isActive:i&&l===t,canJumpTo:c(t),enableNext:u,component:n.createElement(q,null,n.createElement(O,null))}})):void 0,enableNext:u,component:n.createElement(q,null,n.createElement(O,null))}}();if("saved"===u.value)return null;var v=[{name:"Connector",isActive:u.matches("selectConnector"),component:n.createElement(q,null,n.createElement(D,null)),canJumpTo:a.creationWizardMachine.transition(u,"jumpToSelectConnector").changed||u.matches("selectConnector"),enableNext:a.creationWizardMachine.transition(u,"next").changed},d,{name:i("selectOcmCluster"),isActive:u.matches("selectCluster"),component:n.createElement(q,null,n.createElement(z,null)),canJumpTo:a.creationWizardMachine.transition(u,"jumpToSelectCluster").changed||u.matches("selectCluster"),enableNext:a.creationWizardMachine.transition(u,"next").changed},p,{name:"Review",isActive:u.matches("reviewConfiguration"),component:n.createElement(q,null,n.createElement(M,null)),canJumpTo:a.creationWizardMachine.transition(u,"jumpToReviewConfiguration").changed||u.matches("reviewConfiguration"),enableNext:a.creationWizardMachine.transition(u,"next").changed,nextButtonText:"Create connector"}],f=E(v),g=f.reduceRight((function(e,t,n){return t.isActive&&n>e?n:e}),-1)+1;return n.createElement(b,{className:"cos",steps:v,currentStep:g,onNext:function(){return s("next")},onBack:function(){return s("prev")},onClose:o,onSave:function(){return!1},goToStep:function(e){switch(e){case 1:s("jumpToSelectConnector");break;case 2:s("jumpToSelectKafka");break;case 3:s("jumpToSelectCluster");break;case f.length:s("jumpToReviewConfiguration");break;default:e<f.length&&s({type:"jumpToConfigureConnector",subStep:e-4})}},goToStepById:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.log("goToStepById",t)},goToStepByName:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.log("goToStepByName",t)},hasNoBodyPadding:!0})};\n//# sourceMappingURL=creation-wizard.cjs.production.min.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2NyZWF0aW9uV2l6YXJkL2Rpc3QvY3JlYXRpb24td2l6YXJkLmNqcy5wcm9kdWN0aW9uLm1pbi5qcz9hNDcwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhLGNBQWMsd0RBQXdELDhDQUEyQyxDQUFDLFNBQVMsRUFBQyxDQUFDLE1BQU0sbUJBQU8sQ0FBQyxLQUFPLFdBQVcsbUJBQU8sQ0FBQyxLQUFlLElBQUksbUJBQU8sQ0FBQyxLQUFrQixJQUFJLG1CQUFPLENBQUMsS0FBMEIsTUFBTSxtQkFBTyxDQUFDLEtBQXVELEtBQUssbUJBQU8sQ0FBQyxLQUF3QixJQUFJLG1CQUFPLENBQUMsS0FBZSxJQUFJLG1CQUFPLENBQUMsS0FBeUIsSUFBSSxtQkFBTyxDQUFDLEtBQWMsSUFBSSxtQkFBTyxDQUFDLEtBQWUsSUFBSSxtQkFBTyxDQUFDLEtBQWtDLElBQUksbUJBQU8sQ0FBQyxLQUErQixJQUFJLG1CQUFPLENBQUMsS0FBc0IsRUFBRSxhQUFhLG9DQUFvQyxZQUFZLG1CQUFtQixLQUFLLG1CQUFtQixzRUFBc0UsU0FBUyx3QkFBd0IsZ0JBQWdCLG9DQUFvQywyQkFBMkIsSUFBSSxjQUFjLFNBQVMsZ0JBQWdCLE1BQU0seURBQXlELHNDQUFzQyxNQUFNLHlDQUF5QyxvREFBb0QscUxBQXFMLHVDQUF1QyxTQUFTLFFBQVEsa0JBQWtCLG9CQUFvQixRQUFRLEVBQUUsdUJBQXVCLDZKQUE2Siw0Q0FBNEMsY0FBYyxzQkFBc0IsY0FBYyxFQUFFLGNBQWMsa0NBQWtDLGNBQWMsaUJBQWlCLGVBQWUsU0FBUyxrQkFBa0IsUUFBUSxjQUFjLE1BQU0sNkZBQTZGLG1FQUFtRSw2QkFBNkIsc0RBQXNELGdDQUFnQyx3QkFBd0Isd0NBQXdDLFlBQVksV0FBVyxnQ0FBZ0MsU0FBUyx5QkFBeUIsWUFBWSxXQUFXLEtBQUssMEJBQTBCLG9CQUFvQixpQ0FBaUMsYUFBYSxnQkFBZ0Isb0JBQW9CLGFBQWEsT0FBTyxTQUFTLDBCQUEwQixpREFBaUQsb0JBQW9CLHNIQUFzSCxhQUFhLEdBQUcsdUZBQXVGLGtCQUFrQixzQ0FBc0Msc0RBQXNELHlEQUF5RCxtQ0FBbUMsd0RBQXdELDREQUE0RCxxQkFBcUIsMGdCQUEwZ0Isb0JBQW9CLFlBQVksa0JBQWtCLFFBQVEsV0FBVyxzQ0FBc0MsU0FBUyw0aEJBQTRoQix5RUFBeUUsT0FBTyxJQUFJLFNBQVMsR0FBRyxJQUFJLFFBQVEsR0FBRyw2Q0FBNkMsUUFBUSwyQkFBMkIsSUFBSSxzR0FBc0cscUNBQXFDLHlIQUF5SCxrQ0FBa0Msd0lBQXdJLG1CQUFtQixZQUFZLEVBQUUsaUJBQWlCLE9BQU8sa0VBQWtFLHVDQUF1Qyx5QkFBeUIsZ0NBQWdDLE1BQU0sWUFBWSxpQ0FBaUMsY0FBYyxFQUFFLGNBQWMsNENBQTRDLHNGQUFzRix1RUFBdUUsaUNBQWlDLElBQUksY0FBYyw2QkFBNkIsb0dBQW9HLHdHQUF3RyxHQUFHLEtBQUssZ0ZBQWdGLHFCQUFxQiwrRkFBK0YsR0FBRyxJQUFJLHlDQUF5Qyw4QkFBOEIsZ0NBQWdDLDJCQUEyQixzRUFBc0Usc0VBQXNFLGdGQUFnRixnREFBZ0QsK0JBQStCLDJCQUEyQix1Q0FBdUMsU0FBUywyQ0FBMkMsb0tBQW9LLE1BQU0sR0FBRyxjQUFjLHFEQUFxRCxtV0FBbVcsUUFBUSxrQkFBa0IsRUFBRSxrQkFBa0IsRUFBRSxvQkFBb0IsZUFBZSw4Q0FBOEMsaUVBQWlFLGNBQWMsOElBQThJLFdBQVcsa0RBQWtELHNDQUFzQyxrQ0FBa0MsZ0RBQWdELHNDQUFzQyx5REFBeUQsbUJBQW1CLFVBQVUsZUFBZSxHQUFHLEdBQUcsd0RBQXdELHNDQUFzQywrQkFBK0IsaUJBQWlCLDJDQUEyQyxhQUFhLDhCQUE4QixzQkFBc0Isa0NBQWtDLGNBQWMscUZBQXFGLHFDQUFxQyxHQUFHLDZDQUE2QyxzQ0FBc0MsMERBQTBELHNDQUFzQyxzQ0FBc0MsZ0RBQWdELHNCQUFzQiw0QkFBNEIsYUFBYSxzREFBc0QsK0JBQStCLCtFQUErRSxnQkFBZ0Isb25CQUFvbkIsT0FBTyxjQUFjLDZUQUE2VCxzQkFBc0IsU0FBUyxHQUFHLGtDQUFrQyxzQkFBc0IsU0FBUyxHQUFHLGtDQUFrQyxzQkFBc0IsU0FBUyxHQUFHLGtDQUFrQyxzQkFBc0IsU0FBUyxHQUFHLDBDQUEwQyxrSkFBa0osVUFBVSxtQkFBbUIsRUFBRSxrRUFBa0UsTUFBTSxhQUFhLElBQUksVUFBVSxZQUFZLE1BQU0sMENBQTBDLGFBQWEsNEJBQTRCLEdBQUcsaUJBQWlCLHNCQUFzQixrQkFBa0IsNEJBQTRCLGtCQUFrQixxQkFBcUIsZ0JBQWdCLE1BQU0sYUFBYSxJQUFJLFVBQVUsWUFBWSxNQUFNLGlCQUFpQixHQUFHLCtCQUErQixzREFBc0QsU0FBUyxHQUFHLE1BQU0sd0JBQXdCLHNFQUFzRSxXQUFXLDBCQUEwQix1Q0FBdUMsWUFBWSxVQUFVLDRCQUE0Qiw0QkFBNEIsb0JBQW9CLGNBQWMsdUNBQXVDLGNBQWMsVUFBVSx5QkFBeUIsY0FBYyx1Q0FBdUMsY0FBYyxVQUFVLHlCQUF5QixjQUFjLHVDQUF1QyxjQUFjLFVBQVUscUVBQXFFLHFCQUFxQixhQUFhLDJFQUEyRSxrQkFBa0IsY0FBYywrQkFBK0IsVUFBVSwwQ0FBMEMsY0FBYyxzRUFBc0UsdUJBQXVCLHFDQUFxQyx5QkFBeUIsY0FBYywyQ0FBMkMsc0JBQXNCLDBEQUEwRCwyQkFBMkIsOEVBQThFLG1CQUFtQiw2REFBNkQsdUNBQXVDLHlCQUF5QixjQUFjLDRDQUE0Qyw0QkFBNEIsd0VBQXdFLDJCQUEyQixxRkFBcUYsb0JBQW9CLHFFQUFxRSx1Q0FBdUMseUJBQXlCLGNBQWMsNENBQTRDLHFCQUFxQiwwREFBMEQsMkJBQTJCLDhFQUE4RSxvQkFBb0IsNkRBQTZELHVDQUF1QyxxQ0FBcUMsa0JBQWtCLHdCQUF3QixrSEFBa0gsOElBQThJLFVBQVUsNkJBQTZCLFVBQVUsT0FBTyxFQUFFLEVBQUUsT0FBTyw0QkFBNEIsaUZBQWlGLE1BQU0sVUFBVSw2QkFBNkIsVUFBVSw4Q0FBOEMsRUFBRSxHQUFHLHlFQUF5RSxxQ0FBcUMsbUJBQW1CLHlCQUF5QixtSEFBbUgsa0pBQWtKLFVBQVUsNkJBQTZCLFVBQVUsUUFBUSxFQUFFLEVBQUUsT0FBTyw0QkFBNEIsa0ZBQWtGLE1BQU0sVUFBVSw2QkFBNkIsVUFBVSwrQ0FBK0MsRUFBRSxHQUFHLG1IQUFtSCw4REFBOEQscUNBQXFDLDRCQUE0Qiw4REFBOEQsa0JBQWtCLDJEQUEyRCxnQ0FBZ0Msc0JBQXNCLCtCQUErQiw0R0FBNEcsYUFBYSxJQUFJLHNCQUFzQixHQUFHLDRCQUE0QixTQUFTLDRCQUE0QixJQUFJLGtDQUFrQyxnRkFBZ0YsNENBQTRDLEtBQUssMEJBQTBCLEVBQUUsOEJBQThCLEVBQUUsNkNBQTZDLEVBQUUsOEJBQThCLEVBQUUsNEJBQTRCLE1BQU0sd0NBQXdDLE1BQU0sNEJBQTRCLEVBQUUsOEJBQThCLEVBQUUsMENBQTBDLEVBQUUsa0RBQWtELEVBQUUsK0NBQStDLEVBQUUsaURBQWlELE1BQU0sK0NBQStDLGtCQUFrQixPQUFPLGtCQUFrQixhQUFhLGdEQUFnRCxtRUFBbUUsaUJBQWlCLGtKQUFrSixXQUFXLGtEQUFrRCxzQ0FBc0Msa0NBQWtDLGdEQUFnRCxzQ0FBc0MseURBQXlELG1CQUFtQixVQUFVLGVBQWUsR0FBRyxHQUFHLHdEQUF3RCxzQ0FBc0MsK0JBQStCLGlCQUFpQiwyQ0FBMkMsYUFBYSxpQ0FBaUMsc0JBQXNCLHFDQUFxQyxjQUFjLHdGQUF3RixxQ0FBcUMsR0FBRyw2Q0FBNkMsc0NBQXNDLDBEQUEwRCxzQ0FBc0Msc0NBQXNDLGdEQUFnRCxzQkFBc0IsNEJBQTRCLGFBQWEsc0RBQXNELFVBQVUsK0JBQStCLCtFQUErRSxnQkFBZ0IsMGlCQUEwaUIsT0FBTyxjQUFjLDJSQUEyUix5R0FBeUcsVUFBVSwwQkFBMEIsRUFBRSxPQUFPLDRCQUE0QixnRUFBZ0UsZ0hBQWdILDhEQUE4RCxvQ0FBb0MsNEJBQTRCLDhEQUE4RCxrQkFBa0IsOERBQThELGdDQUFnQyxzQkFBc0IsK0JBQStCLGtGQUFrRixrQkFBa0IsRUFBRSxrQkFBa0IsRUFBRSxvQkFBb0IsNEJBQTRCLGFBQWEsSUFBSSxzQkFBc0IsR0FBRyw0QkFBNEIsU0FBUyw0QkFBNEIsSUFBSSxrQ0FBa0MsOERBQThELDJDQUEyQyxLQUFLLGtCQUFrQixFQUFFLGtCQUFrQixFQUFFLG9CQUFvQixFQUFFLGFBQWEsc01BQXNNLFlBQVksa0NBQWtDLHNCQUFzQixTQUFTLEdBQUcscUNBQXFDLHNCQUFzQiwyQ0FBMkMsYUFBYSxvQkFBb0IsR0FBRyxNQUFNLFdBQVcsMkdBQTJHLHdDQUF3QywyQkFBMkIsNEJBQTRCLGFBQWEsNEVBQTRFLCtDQUErQyx3QkFBd0Isa0NBQWtDLDRCQUE0Qix1SUFBdUksdUdBQXVHLDRCQUE0QixnRUFBZ0UsdUVBQXVFLHVCQUF1QixrQ0FBa0MsZ0RBQWdELGFBQWEsK0JBQStCLDJCQUEyQiw4SEFBOEgsK0VBQStFLDhEQUE4RCxtQ0FBbUMsZ0NBQWdDLHNCQUFzQiwrQkFBK0IsME9BQTBPLFNBQVMsNEJBQTRCLFNBQVMsNEJBQTRCLElBQUksOEJBQThCLHNDQUFzQyw0QkFBNEIsZ0ZBQWdGLGtFQUFrRSxzQkFBc0IsNEJBQTRCLGFBQWEseUVBQXlFLGlDQUFpQyxvQkFBb0IsTUFBTSwrQkFBK0IsdUlBQXVJLFFBQVEsOENBQThDLEdBQUcsMmpCQUEyakIsT0FBTyxrQkFBa0IsNEVBQTRFLE9BQU8scUdBQXFHLFFBQVEsMEJBQTBCLG1HQUFtRyxlQUFlLHdDQUF3QyxHQUFHLEVBQUUsZUFBZSwyREFBMkQsT0FBTyxxRUFBcUUsUUFBUSxpREFBaUQsZ0VBQWdFLHdCQUF3QixlQUFlLHdDQUF3QyxHQUFHLEVBQUUsY0FBYyw4R0FBOEcsT0FBTyxxQkFBcUIsc0NBQXNDLG1QQUFtUCw2Q0FBNkMsV0FBVyw0RkFBNEYsd0NBQXdDLDJCQUEyQiw0QkFBNEIsZ0JBQWdCLDRGQUE0Riw2QkFBNkIsMkJBQTJCLDRCQUE0QixtQkFBbUIsMkRBQTJELGdEQUFnRCw2QkFBNkIsY0FBYyxvQkFBb0IsdUJBQXVCLElBQUksc0NBQXNDLGdEQUFnRCxvQkFBb0IsUUFBUSxLQUFLLGFBQWEsOFJBQThSLHFCQUFxQixNQUFNLDhCQUE4QixnREFBZ0QsMEZBQTBGLDBEQUEwRCxnQ0FBZ0Msc0dBQXNHLDhCQUE4QiwwQ0FBMEMsZ0NBQWdDLGdFQUFnRSwwQkFBMEIsNkVBQTZFLGlCQUFpQixvSEFBb0gsMkJBQTJCLDZFQUE2RSxVQUFVLDRCQUE0QixFQUFFLGlGQUFpRiwyRUFBMkUsbURBQW1ELDhCQUE4QixtREFBbUQsYUFBYSxJQUFJLFdBQVcsR0FBRyxlQUFlLGdDQUFnQywyREFBMkQsOEJBQThCLHVEQUF1RCxhQUFhLElBQUksZUFBZSxHQUFHLG1CQUFtQixrQ0FBa0MsK0xBQStMLCtCQUErQixrTUFBa00sd0VBQXdFLGdDQUFnQyw0Q0FBNEMsRUFBRSxPQUFPLGtCQUFrQixjQUFjLDhCQUE4QixhQUFhLDBGQUEwRixlQUFlLGlCQUFpQix3Q0FBd0MsMkNBQTJDLEtBQUssb0NBQW9DLGdEQUFnRCw2QkFBNkIsYUFBYSxFQUFFLEdBQUcsc0JBQXNCLGFBQWEsMEhBQTBILHVGQUF1RixPQUFPLHlNQUF5TSxxQ0FBcUMsT0FBTyxxSUFBcUksZ0JBQWdCLHVGQUF1RixPQUFPLHVVQUF1VSw2Q0FBNkMsMENBQTBDLFlBQVksK0VBQStFLE9BQU8sbUZBQW1GLE9BQU8sZ0hBQWdILGtGQUFrRixHQUFHLGlDQUFpQyxRQUFRLCtSQUErUixJQUFJLG1TQUFtUyxJQUFJLDBVQUEwVSwwQ0FBMEMsMkJBQTJCLFFBQVEsMEJBQTBCLHdEQUF3RCxpQkFBaUIsbUJBQW1CLGlCQUFpQiw2QkFBNkIsU0FBUyxzQkFBc0IsVUFBVSxrQ0FBa0MsTUFBTSw4QkFBOEIsTUFBTSxnQ0FBZ0MsTUFBTSw2Q0FBNkMsTUFBTSx1QkFBdUIsNENBQTRDLEdBQUcseUJBQXlCLDhDQUE4QyxJQUFJLHNCQUFzQixxQ0FBcUMsMkJBQTJCLDhDQUE4QyxJQUFJLHNCQUFzQix1Q0FBdUMscUJBQXFCO0FBQzU0N0IiLCJmaWxlIjoiODE3NzguanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUpe3JldHVybiBlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJkZWZhdWx0XCJpbiBlP2UuZGVmYXVsdDplfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB0PXJlcXVpcmUoXCJyZWFjdFwiKSxuPWUodCkscj1yZXF1aXJlKFwiQHhzdGF0ZS9yZWFjdFwiKSxhPXJlcXVpcmUoXCJAY29zLXVpL21hY2hpbmVzXCIpLG89cmVxdWlyZShcIkBwYXR0ZXJuZmx5L3JlYWN0LXN0eWxlc1wiKSxpPWUocmVxdWlyZShcIkBwYXR0ZXJuZmx5L3JlYWN0LXN0eWxlcy9jc3MvY29tcG9uZW50cy9XaXphcmQvd2l6YXJkXCIpKSxsPXJlcXVpcmUoXCJAcGF0dGVybmZseS9yZWFjdC1jb3JlXCIpLGM9cmVxdWlyZShcIkBjb3MtdWkvdXRpbHNcIiksdT1yZXF1aXJlKFwiQHBhdHRlcm5mbHkvcmVhY3QtaWNvbnNcIikscz1yZXF1aXJlKFwicmVhY3Qtcm91dGVyXCIpLG09cmVxdWlyZShcInJlYWN0LWkxOG5leHRcIiksZD1yZXF1aXJlKFwiQGNvcy11aS9qc29uLXNjaGVtYS1jb25maWd1cmF0b3JcIikscD1yZXF1aXJlKFwiQHBhdHRlcm5mbHkvcmVhY3QtY29kZS1lZGl0b3JcIiksdj1yZXF1aXJlKFwicmVhY3QtZXJyb3ItYm91bmRhcnlcIik7ZnVuY3Rpb24gZigpe3JldHVybihmPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZyhlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIGgoZSx0KXt2YXIgbjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgU3ltYm9sfHxudWxsPT1lW1N5bWJvbC5pdGVyYXRvcl0pe2lmKEFycmF5LmlzQXJyYXkoZSl8fChuPWZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGcoZSx2b2lkIDApO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbShlKTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/ZyhlLHZvaWQgMCk6dm9pZCAwfX0oZSkpfHx0JiZlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpe24mJihlPW4pO3ZhciByPTA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHI+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW3IrK119fX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9cmV0dXJuKG49ZVtTeW1ib2wuaXRlcmF0b3JdKCkpLm5leHQuYmluZChuKX1mdW5jdGlvbiBFKGUpe2Zvcih2YXIgdCxuPVtdLHI9aChlKTshKHQ9cigpKS5kb25lOyl7dmFyIGE9dC52YWx1ZTtpZihhLnN0ZXBzKWZvcih2YXIgbyxpPWgoYS5zdGVwcyk7IShvPWkoKSkuZG9uZTspbi5wdXNoKG8udmFsdWUpO2Vsc2Ugbi5wdXNoKGEpfXJldHVybiBufXZhciBiPWZ1bmN0aW9uKGUpe3ZhciB0LHI7ZnVuY3Rpb24gYSh0KXt2YXIgbjsobj1lLmNhbGwodGhpcyx0KXx8dGhpcykudGl0bGVJZD12b2lkIDAsbi5kZXNjcmlwdGlvbklkPXZvaWQgMCxuLmhhbmRsZUtleUNsaWNrcz1mdW5jdGlvbihlKXtlLmtleUNvZGU9PT1sLktFWV9DT0RFUy5FU0NBUEVfS0VZJiYobi5zdGF0ZS5pc05hdk9wZW4/bi5zZXRTdGF0ZSh7aXNOYXZPcGVuOiFuLnN0YXRlLmlzTmF2T3Blbn0pOm4ucHJvcHMuaXNPcGVuJiZuLnByb3BzLm9uQ2xvc2UmJm4ucHJvcHMub25DbG9zZSgpKX0sbi5nZXRGbGF0dGVuZWRTdGVwcz1mdW5jdGlvbigpe3JldHVybiBFKG4ucHJvcHMuc3RlcHMpfSxuLmdldEZsYXR0ZW5lZFN0ZXBzSW5kZXg9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZihlW25dLm5hbWU9PT10KXJldHVybiBuKzE7cmV0dXJuIDB9LG4uaW5pdFN0ZXBzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtpZihlW3RdLnN0ZXBzKWZvcih2YXIgbj0wO248ZVt0XS5zdGVwcy5sZW5ndGg7bisrKWVbdF0uc3RlcHNbbl09T2JqZWN0LmFzc2lnbih7Y2FuSnVtcFRvOiEwfSxlW3RdLnN0ZXBzW25dKTtlW3RdPU9iamVjdC5hc3NpZ24oe2Nhbkp1bXBUbzohMH0sZVt0XSl9cmV0dXJuIGV9LG4uZ2V0RWxlbWVudD1mdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2UoKTplfHxkb2N1bWVudC5ib2R5fTt2YXIgcj1hLmN1cnJlbnRJZCsrO3JldHVybiBuLnRpdGxlSWQ9dC50aXRsZUlkfHxcInBmLXdpemFyZC10aXRsZS1cIityLG4uZGVzY3JpcHRpb25JZD10LmRlc2NyaXB0aW9uSWR8fFwicGYtd2l6YXJkLWRlc2NyaXB0aW9uLVwiK3Isbi5zdGF0ZT17aXNOYXZPcGVuOiExfSxufXI9ZSwodD1hKS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSksdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCx0Ll9fcHJvdG9fXz1yO3ZhciBjPWEucHJvdG90eXBlO3JldHVybiBjLmNvbXBvbmVudERpZE1vdW50PWZ1bmN0aW9uKCl7dmFyIGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50LmJvZHk6bnVsbDtlJiZlLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5oYW5kbGVLZXlDbGlja3MsITEpfSxjLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7dmFyIGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudC5ib2R5fHxudWxsO2UmJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLmhhbmRsZUtleUNsaWNrcywhMSl9LGMucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMucHJvcHMscj10LndpZHRoLGE9dC5oZWlnaHQsYz10LnRpdGxlLHU9dC5kZXNjcmlwdGlvbixzPXQub25DbG9zZSxtPXQub25CYWNrLGQ9dC5vbk5leHQscD10LmdvVG9TdGVwLHY9dC5nb1RvU3RlcEJ5SWQsZz10LmdvVG9TdGVwQnlOYW1lLEU9dC5jbGFzc05hbWUsYj10LnN0ZXBzLEM9dC5jdXJyZW50U3RlcCx5PXQubmV4dEJ1dHRvblRleHQsUz12b2lkIDA9PT15P1wiTmV4dFwiOnksVD10LmJhY2tCdXR0b25UZXh0LGs9dm9pZCAwPT09VD9cIkJhY2tcIjpULEk9dC5jYW5jZWxCdXR0b25UZXh0LHg9dm9pZCAwPT09ST9cIkNhbmNlbFwiOkksTj10LmhpZGVDbG9zZSxCPXQuY2xvc2VCdXR0b25BcmlhTGFiZWwsej12b2lkIDA9PT1CP1wiQ2xvc2VcIjpCLHc9dC5uYXZBcmlhTGFiZWwsTD10Lm5hdkFyaWFMYWJlbGxlZEJ5LEE9dC5tYWluQXJpYUxhYmVsLEQ9dC5tYWluQXJpYUxhYmVsbGVkQnksUD10Lmhhc05vQm9keVBhZGRpbmcsRj10LmZvb3RlcixPPXQuaXNPcGVuLE09ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBuLHIsYT17fSxvPU9iamVjdC5rZXlzKGUpO2ZvcihyPTA7cjxvLmxlbmd0aDtyKyspdC5pbmRleE9mKG49b1tyXSk+PTB8fChhW25dPWVbbl0pO3JldHVybiBhfSh0LFtcIndpZHRoXCIsXCJoZWlnaHRcIixcInRpdGxlXCIsXCJkZXNjcmlwdGlvblwiLFwib25DbG9zZVwiLFwib25TYXZlXCIsXCJvbkJhY2tcIixcIm9uTmV4dFwiLFwib25Hb1RvU3RlcFwiLFwiZ29Ub1N0ZXBcIixcImdvVG9TdGVwQnlJZFwiLFwiZ29Ub1N0ZXBCeU5hbWVcIixcImNsYXNzTmFtZVwiLFwic3RlcHNcIixcImN1cnJlbnRTdGVwXCIsXCJuZXh0QnV0dG9uVGV4dFwiLFwiYmFja0J1dHRvblRleHRcIixcImNhbmNlbEJ1dHRvblRleHRcIixcImhpZGVDbG9zZVwiLFwiY2xvc2VCdXR0b25BcmlhTGFiZWxcIixcIm5hdkFyaWFMYWJlbFwiLFwibmF2QXJpYUxhYmVsbGVkQnlcIixcIm1haW5BcmlhTGFiZWxcIixcIm1haW5BcmlhTGFiZWxsZWRCeVwiLFwiaGFzTm9Cb2R5UGFkZGluZ1wiLFwiZm9vdGVyXCIsXCJhcHBlbmRUb1wiLFwiaXNPcGVuXCIsXCJ0aXRsZUlkXCIsXCJkZXNjcmlwdGlvbklkXCJdKSxHPXRoaXMuZ2V0RmxhdHRlbmVkU3RlcHMoKSxxPUdbKEcubGVuZ3RoPEM/Ry5sZW5ndGg6QyktMV0sVz10aGlzLmluaXRTdGVwcyhiKSxSPXE9PT1HWzBdLGo9IXF8fHZvaWQgMD09PXEuZW5hYmxlTmV4dHx8cS5lbmFibGVOZXh0LF89e2dvVG9TdGVwQnlJZDp2LGdvVG9TdGVwQnlOYW1lOmcsb25OZXh0OmQsb25CYWNrOm0sb25DbG9zZTpzLGFjdGl2ZVN0ZXA6cX0sSj1mKHt9LGE/e2hlaWdodDphfTp7fSxyP3t3aWR0aDpyfTp7fSksSz1uLmNyZWF0ZUVsZW1lbnQobC5XaXphcmRDb250ZXh0UHJvdmlkZXIse3ZhbHVlOl99LG4uY3JlYXRlRWxlbWVudChcImRpdlwiLGYoe30sTSx7Y2xhc3NOYW1lOm8uY3NzKGkud2l6YXJkLHEmJnEuaXNGaW5pc2hlZFN0ZXAmJlwicGYtbS1maW5pc2hlZFwiLEUpLHN0eWxlOk9iamVjdC5rZXlzKEopLmxlbmd0aD9KOnZvaWQgMH0pLGMmJm4uY3JlYXRlRWxlbWVudChsLldpemFyZEhlYWRlcix7dGl0bGVJZDp0aGlzLnRpdGxlSWQsZGVzY3JpcHRpb25JZDp0aGlzLmRlc2NyaXB0aW9uSWQsb25DbG9zZTpzLHRpdGxlOmMsZGVzY3JpcHRpb246dSxjbG9zZUJ1dHRvbkFyaWFMYWJlbDp6LGhpZGVDbG9zZTpOfSksbi5jcmVhdGVFbGVtZW50KGwuV2l6YXJkVG9nZ2xlLHttYWluQXJpYUxhYmVsOkEsaXNJblBhZ2U6dm9pZCAwPT09TyxtYWluQXJpYUxhYmVsbGVkQnk6KGN8fEQpJiYoRHx8dGhpcy50aXRsZUlkKSxpc05hdk9wZW46dGhpcy5zdGF0ZS5pc05hdk9wZW4sb25OYXZUb2dnbGU6ZnVuY3Rpb24odCl7cmV0dXJuIGUuc2V0U3RhdGUoe2lzTmF2T3Blbjp0fSl9LG5hdjpmdW5jdGlvbih0KXt2YXIgcj17aXNPcGVuOnQsXCJhcmlhLWxhYmVsXCI6dyxcImFyaWEtbGFiZWxsZWRieVwiOihjfHxMKSYmKEx8fGUudGl0bGVJZCl9O3JldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5XaXphcmROYXYsZih7fSxyKSxXLm1hcCgoZnVuY3Rpb24odCxhKXtpZih0LmlzRmluaXNoZWRTdGVwKXJldHVybiBudWxsO3ZhciBvO2lmKHQuc3RlcHMpe2Zvcih2YXIgaSxjPSExLHU9ITEscz1oKHQuc3RlcHMpOyEoaT1zKCkpLmRvbmU7KXt2YXIgbT1pLnZhbHVlO3EubmFtZT09PW0ubmFtZSYmKGM9ITApLG0uY2FuSnVtcFRvJiYodT0hMCl9cmV0dXJuIG89ZS5nZXRGbGF0dGVuZWRTdGVwc0luZGV4KEcsdC5zdGVwc1swXS5uYW1lKSxuLmNyZWF0ZUVsZW1lbnQobC5XaXphcmROYXZJdGVtLHtrZXk6YSxjb250ZW50OnQubmFtZSxpc0N1cnJlbnQ6Yyxpc0Rpc2FibGVkOiF1LHN0ZXA6byxvbk5hdkl0ZW1DbGljazpwfSxuLmNyZWF0ZUVsZW1lbnQobC5XaXphcmROYXYsZih7fSxyLHtyZXR1cm5MaXN0OiEwfSksdC5zdGVwcy5tYXAoKGZ1bmN0aW9uKHQscil7cmV0dXJuIHQuaXNGaW5pc2hlZFN0ZXA/bnVsbDoobz1lLmdldEZsYXR0ZW5lZFN0ZXBzSW5kZXgoRyx0Lm5hbWUpLG4uY3JlYXRlRWxlbWVudChsLldpemFyZE5hdkl0ZW0se2tleTpcImNoaWxkX1wiK3IsY29udGVudDp0Lm5hbWUsaXNDdXJyZW50OnEubmFtZT09PXQubmFtZSxpc0Rpc2FibGVkOiF0LmNhbkp1bXBUbyxzdGVwOm8sb25OYXZJdGVtQ2xpY2s6cH0pKX0pKSkpfXJldHVybiBvPWUuZ2V0RmxhdHRlbmVkU3RlcHNJbmRleChHLHQubmFtZSksbi5jcmVhdGVFbGVtZW50KGwuV2l6YXJkTmF2SXRlbSxmKHt9LHQuc3RlcE5hdkl0ZW1Qcm9wcyx7a2V5OmEsY29udGVudDp0Lm5hbWUsaXNDdXJyZW50OnEubmFtZT09PXQubmFtZSxpc0Rpc2FibGVkOiF0LmNhbkp1bXBUbyxzdGVwOm8sb25OYXZJdGVtQ2xpY2s6cH0pKX0pKSl9LHN0ZXBzOmIsYWN0aXZlU3RlcDpxLGhhc05vQm9keVBhZGRpbmc6UH0sRnx8bi5jcmVhdGVFbGVtZW50KFwiZm9vdGVyXCIse2NsYXNzTmFtZTpvLmNzcyhpLndpemFyZEZvb3Rlcil9LG4uY3JlYXRlRWxlbWVudChsLkJ1dHRvbix7dmFyaWFudDpsLkJ1dHRvblZhcmlhbnQucHJpbWFyeSx0eXBlOlwic3VibWl0XCIsb25DbGljazpkLGlzRGlzYWJsZWQ6IWp9LHEmJnEubmV4dEJ1dHRvblRleHR8fFMpLCFxLmhpZGVCYWNrQnV0dG9uJiZuLmNyZWF0ZUVsZW1lbnQobC5CdXR0b24se3ZhcmlhbnQ6bC5CdXR0b25WYXJpYW50LnNlY29uZGFyeSxvbkNsaWNrOm0sY2xhc3NOYW1lOm8uY3NzKFImJlwicGYtbS1kaXNhYmxlZFwiKX0sayksIXEuaGlkZUNhbmNlbEJ1dHRvbiYmbi5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTppLndpemFyZEZvb3RlckNhbmNlbH0sbi5jcmVhdGVFbGVtZW50KGwuQnV0dG9uLHt2YXJpYW50OmwuQnV0dG9uVmFyaWFudC5saW5rLG9uQ2xpY2s6c30seCkpKSkpKTtyZXR1cm4gdm9pZCAwIT09Tz9uLmNyZWF0ZUVsZW1lbnQobC5Nb2RhbCx7d2lkdGg6bnVsbCE9PXI/cjp2b2lkIDAsaXNPcGVuOk8sdmFyaWFudDpsLk1vZGFsVmFyaWFudC5sYXJnZSxcImFyaWEtbGFiZWxsZWRieVwiOnRoaXMudGl0bGVJZCxcImFyaWEtZGVzY3JpYmVkYnlcIjp0aGlzLmRlc2NyaXB0aW9uSWQsc2hvd0Nsb3NlOiExLGhhc05vQm9keVdyYXBwZXI6ITB9LEspOkt9LGF9KHQuQ29tcG9uZW50KTtiLmRpc3BsYXlOYW1lPVwiV2l6YXJkXCIsYi5jdXJyZW50SWQ9MCxiLmRlZmF1bHRQcm9wcz17dGl0bGU6dm9pZCAwLGRlc2NyaXB0aW9uOlwiXCIsY2xhc3NOYW1lOlwiXCIsbmV4dEJ1dHRvblRleHQ6XCJOZXh0XCIsYmFja0J1dHRvblRleHQ6XCJCYWNrXCIsY2FuY2VsQnV0dG9uVGV4dDpcIkNhbmNlbFwiLGhpZGVDbG9zZTohMSxjbG9zZUJ1dHRvbkFyaWFMYWJlbDpcIkNsb3NlXCIsbmF2QXJpYUxhYmVsOnZvaWQgMCxuYXZBcmlhTGFiZWxsZWRCeTp2b2lkIDAsbWFpbkFyaWFMYWJlbDp2b2lkIDAsbWFpbkFyaWFMYWJlbGxlZEJ5OnZvaWQgMCxoYXNOb0JvZHlQYWRkaW5nOiExLG9uR29Ub1N0ZXA6dm9pZCAwLHdpZHRoOnZvaWQgMCxoZWlnaHQ6dm9pZCAwLGZvb3Rlcjp2b2lkIDAsYXBwZW5kVG86dm9pZCAwLGlzT3Blbjp2b2lkIDB9O3ZhciBDPVt7dGl0bGU6XCIxXCIsdmFsdWU6MX0se3RpdGxlOlwiNVwiLHZhbHVlOjV9LHt0aXRsZTpcIjEwXCIsdmFsdWU6MTB9XSx5PWZ1bmN0aW9uKCl7dmFyIGU9YS51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVLYWZrYXNBY3RvcigpO3JldHVybiBhLnVzZUthZmthc01hY2hpbmVJc1JlYWR5KGUpP24uY3JlYXRlRWxlbWVudChTLG51bGwpOm51bGx9LFM9ZnVuY3Rpb24oKXt2YXIgZSx0PXMudXNlSGlzdG9yeSgpLHI9YS51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVLYWZrYXNBY3RvcigpLG89YS51c2VLYWZrYXNNYWNoaW5lKHIpLGk9by5yZXNwb25zZSx1PW8uc2VsZWN0ZWRJZCxtPW8ub25TZWxlY3QsZD1vLm9uUXVlcnk7c3dpdGNoKCEwKXtjYXNlIG8uZmlyc3RSZXF1ZXN0OnJldHVybiBuLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwicGYtdS1iYWNrZ3JvdW5kLWNvbG9yLTIwMFwifSxuLmNyZWF0ZUVsZW1lbnQoYy5Mb2FkaW5nLG51bGwpKTtjYXNlIG8ucXVlcnlFbXB0eTpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInBmLXUtYmFja2dyb3VuZC1jb2xvci0yMDBcIn0sbi5jcmVhdGVFbGVtZW50KFQsbnVsbCksbi5jcmVhdGVFbGVtZW50KGMuTm9NYXRjaEZvdW5kLHtvbkNsZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIGQoe3BhZ2U6MSxzaXplOjEwfSl9fSkpO2Nhc2Ugby5ub1Jlc3VsdHN8fG8uZXJyb3I6cmV0dXJuIG4uY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJwZi11LWJhY2tncm91bmQtY29sb3ItMjAwXCJ9LG4uY3JlYXRlRWxlbWVudChjLkVtcHR5U3RhdGUse2VtcHR5U3RhdGVQcm9wczp7dmFyaWFudDpjLkVtcHR5U3RhdGVWYXJpYW50LkdldHRpbmdTdGFydGVkfSx0aXRsZVByb3BzOnt0aXRsZTpcImNvcy5ub19rYWZrYV9pbnN0YW5jZVwifSxlbXB0eVN0YXRlQm9keVByb3BzOntib2R5OlwiY29zLm5vX2thZmthX2luc3RhbmNlX2JvZHlcIn0sYnV0dG9uUHJvcHM6e3RpdGxlOlwiY29zLmNyZWF0ZV9rYWZrYV9pbnN0YW5jZVwiLHZhcmlhbnQ6bC5CdXR0b25WYXJpYW50LnByaW1hcnksb25DbGljazpmdW5jdGlvbigpe3JldHVybiB0LnB1c2goXCIvY3JlYXRlLWNvbm5lY3RvclwiKX19fSkpO2Nhc2Ugby5sb2FkaW5nOnJldHVybiBuLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwicGYtdS1iYWNrZ3JvdW5kLWNvbG9yLTIwMFwifSxuLmNyZWF0ZUVsZW1lbnQoVCxudWxsKSxuLmNyZWF0ZUVsZW1lbnQoYy5Mb2FkaW5nLG51bGwpKTtkZWZhdWx0OnJldHVybiBuLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwicGYtdS1iYWNrZ3JvdW5kLWNvbG9yLTIwMFwifSxuLmNyZWF0ZUVsZW1lbnQoVCxudWxsKSxuLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwicGYtdS1wLW1kXCJ9LG4uY3JlYXRlRWxlbWVudChsLkdhbGxlcnkse2hhc0d1dHRlcjohMH0sbnVsbD09aXx8bnVsbD09KGU9aS5pdGVtcyk/dm9pZCAwOmUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuQ2FyZCx7aXNIb3ZlcmFibGU6ITAsa2V5OmUuaWQsaXNTZWxlY3RhYmxlOiEwLGlzU2VsZWN0ZWQ6dT09PWUuaWQsb25DbGljazpmdW5jdGlvbigpe3JldHVybiBtKGUuaWQpfX0sbi5jcmVhdGVFbGVtZW50KGwuQ2FyZEhlYWRlcixudWxsLG4uY3JlYXRlRWxlbWVudChsLkNhcmRUaXRsZSxudWxsLGUubmFtZSkpLG4uY3JlYXRlRWxlbWVudChsLkNhcmRCb2R5LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RUZXJtLG51bGwsXCJSZWdpb25cIiksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0RGVzY3JpcHRpb24sbnVsbCxlLnJlZ2lvbikpLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdEdyb3VwLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0VGVybSxudWxsLFwiT3duZXJcIiksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0RGVzY3JpcHRpb24sbnVsbCxlLm93bmVyKSksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RUZXJtLG51bGwsXCJDcmVhdGVkXCIpLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdERlc2NyaXB0aW9uLG51bGwsZS5jcmVhdGVkX2F0KSkpKSl9KSkpKSl9fSxUPWZ1bmN0aW9uKCl7dmFyIGU9bS51c2VUcmFuc2xhdGlvbigpLnQscj1hLnVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUthZmthc0FjdG9yKCksbz1hLnVzZUthZmthc01hY2hpbmUociksaT1vLnJlcXVlc3Qscz1vLnJlc3BvbnNlLGQ9by5vblF1ZXJ5LHA9dC51c2VTdGF0ZSghMSksdj1wWzBdLGc9cFsxXSxoPXQudXNlU3RhdGUoITEpLEU9aFswXSxiPWhbMV0seT10LnVzZVN0YXRlKCExKSxTPXlbMF0sVD15WzFdLHo9dC51c2VTdGF0ZSghMSksdz16WzBdLEw9elsxXSxBPXQudXNlU3RhdGUoXCJOYW1lXCIpLEQ9QVswXSxQPUFbMV0sRj10LnVzZUNhbGxiYWNrKChmdW5jdGlvbigpe3JldHVybiBnKChmdW5jdGlvbihlKXtyZXR1cm4hZX0pKX0pLFtdKSxPPXQudXNlQ2FsbGJhY2soKGZ1bmN0aW9uKCl7cmV0dXJuIGIoKGZ1bmN0aW9uKGUpe3JldHVybiFlfSkpfSksW10pLE09dC51c2VDYWxsYmFjaygoZnVuY3Rpb24oKXtyZXR1cm4gVCgoZnVuY3Rpb24oZSl7cmV0dXJuIWV9KSl9KSxbXSksRz10LnVzZUNhbGxiYWNrKChmdW5jdGlvbigpe3JldHVybiBMKChmdW5jdGlvbihlKXtyZXR1cm4hZX0pKX0pLFtdKSxxPWMudXNlRGVib3VuY2UoZCwxZTMpLFc9aS5xdWVyeXx8e30sUj1XLm5hbWUsaj1XLm93bmVyLF89Vy5jbG91ZFByb3ZpZGVycyxKPXZvaWQgMD09PV8/W106XyxLPVcucmVnaW9ucyxWPXZvaWQgMD09PUs/W106SyxIPVcuc3RhdHVzZXMsUT12b2lkIDA9PT1IP1tdOkgsVT10LnVzZUNhbGxiYWNrKChmdW5jdGlvbigpe3JldHVybiBkKHtwYWdlOjEsc2l6ZTppLnNpemV9KX0pLFtkLGkuc2l6ZV0pLFk9dC51c2VSZWYobnVsbCksJD10LnVzZVJlZihudWxsKSxYPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtyZXR1cm4gZChmKHt9LGkse3F1ZXJ5OmYoe30saS5xdWVyeXx8e30sKHI9e30scltlXT10LmluY2x1ZGVzKG4pP3QuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSE9PW59KSk6W10uY29uY2F0KHR8fFtdLFtuXSkscikpfSkpfSxaPWZ1bmN0aW9uKGUsdCl7WChcInN0YXR1c2VzXCIsUSx0LmtleSl9LGVlPWZ1bmN0aW9uKGUsdCl7WChcImNsb3VkUHJvdmlkZXJzXCIsSix0LmtleSl9LHRlPWZ1bmN0aW9uKGUsdCl7WChcInJlZ2lvbnNcIixWLHQua2V5KX0sbmU9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGQoZih7fSxpLHtxdWVyeTpmKHt9LGkucXVlcnl8fHt9LCh0PXt9LHRbZV09dm9pZCAwLHQpKX0pKX0scmU9dC51c2VDYWxsYmFjaygoZnVuY3Rpb24oZSl7UCgobnVsbD09ZT92b2lkIDA6ZS50YXJnZXQpLmlubmVyVGV4dCksTCgoZnVuY3Rpb24oZSl7cmV0dXJuIWV9KSl9KSxbXSk7dC51c2VFZmZlY3QoKGZ1bmN0aW9uKCl7WS5jdXJyZW50JiYoWS5jdXJyZW50LnZhbHVlPVJ8fFwiXCIpLCQuY3VycmVudCYmKCQuY3VycmVudC52YWx1ZT1qfHxcIlwiKX0pLFtZLFIsal0pO3ZhciBhZT1rLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLkRyb3Bkb3duSXRlbSx7a2V5OmUudmFsdWV9LGUubGFiZWwpfSkpLG9lPXguZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm5cInByZXBhcmluZ1wiIT09ZS52YWx1ZX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWUudmFsdWU7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLlNlbGVjdE9wdGlvbix7a2V5OnQsdmFsdWU6dH0sZS5sYWJlbCl9KSksaWU9SS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWUudmFsdWU7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLlNlbGVjdE9wdGlvbix7a2V5OnQsdmFsdWU6dH0sZS5sYWJlbCl9KSksbGU9Ti5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWUudmFsdWU7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLlNlbGVjdE9wdGlvbix7a2V5OnQsdmFsdWU6dH0sZS5sYWJlbCl9KSksY2U9bi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckl0ZW0sbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5Ecm9wZG93bix7b25TZWxlY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHJlKGUpfSxwb3NpdGlvbjpsLkRyb3Bkb3duUG9zaXRpb24ubGVmdCx0b2dnbGU6bi5jcmVhdGVFbGVtZW50KGwuRHJvcGRvd25Ub2dnbGUse29uVG9nZ2xlOkcsc3R5bGU6e3dpZHRoOlwiMTAwJVwifX0sbi5jcmVhdGVFbGVtZW50KHUuRmlsdGVySWNvbix7c2l6ZTpcInNtXCJ9KSxcIiBcIixEKSxpc09wZW46dyxkcm9wZG93bkl0ZW1zOmFlLHN0eWxlOnt3aWR0aDpcIjEwMCVcIn19KSksdWU9bi5jcmVhdGVFbGVtZW50KG4uRnJhZ21lbnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyR3JvdXAse3ZhcmlhbnQ6XCJmaWx0ZXItZ3JvdXBcIn0sY2Usbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckZpbHRlcix7Y2hpcHM6US5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBCKHQsZSl9KSksZGVsZXRlQ2hpcDpaLGRlbGV0ZUNoaXBHcm91cDpmdW5jdGlvbigpe3JldHVybiBuZShcInN0YXR1c2VzXCIpfSxjYXRlZ29yeU5hbWU6ZShcInN0YXR1c1wiKSxzaG93VG9vbGJhckl0ZW06RD09PWUoXCJzdGF0dXNcIil9LG4uY3JlYXRlRWxlbWVudChsLlNlbGVjdCx7dmFyaWFudDpcImNoZWNrYm94XCIsXCJhcmlhLWxhYmVsXCI6ZShcInN0YXR1c1wiKSxvblRvZ2dsZTpGLG9uU2VsZWN0OmZ1bmN0aW9uKHQsbil7cmV0dXJuIFooMCxCKG4sZSkpfSxzZWxlY3Rpb25zOlEsaXNPcGVuOnYscGxhY2Vob2xkZXJUZXh0OmUoXCJGaWx0ZXIgYnkgc3RhdHVzXCIpfSxvZSkpLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJGaWx0ZXIse2NoaXBzOkoubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gQih0LGUpfSkpLGRlbGV0ZUNoaXA6ZWUsZGVsZXRlQ2hpcEdyb3VwOmZ1bmN0aW9uKCl7cmV0dXJuIG5lKFwiY2xvdWRQcm92aWRlcnNcIil9LGNhdGVnb3J5TmFtZTplKFwiQ2xvdWRQcm92aWRlclwiKSxzaG93VG9vbGJhckl0ZW06RD09PWUoXCJDbG91ZFByb3ZpZGVyXCIpfSxuLmNyZWF0ZUVsZW1lbnQobC5TZWxlY3Qse3ZhcmlhbnQ6XCJjaGVja2JveFwiLFwiYXJpYS1sYWJlbFwiOmUoXCJDbG91ZFByb3ZpZGVyXCIpLG9uVG9nZ2xlOk8sb25TZWxlY3Q6ZnVuY3Rpb24odCxuKXtyZXR1cm4gZWUoMCxCKG4sZSkpfSxzZWxlY3Rpb25zOkosaXNPcGVuOkUscGxhY2Vob2xkZXJUZXh0OmUoXCJGaWx0ZXIgYnkgY2xvdWQgcHJvdmlkZXJcIil9LGllKSksbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckZpbHRlcix7Y2hpcHM6Vi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBCKHQsZSl9KSksZGVsZXRlQ2hpcDp0ZSxkZWxldGVDaGlwR3JvdXA6ZnVuY3Rpb24oKXtyZXR1cm4gbmUoXCJyZWdpb25zXCIpfSxjYXRlZ29yeU5hbWU6ZShcInJlZ2lvblwiKSxzaG93VG9vbGJhckl0ZW06RD09PWUoXCJyZWdpb25cIil9LG4uY3JlYXRlRWxlbWVudChsLlNlbGVjdCx7dmFyaWFudDpcImNoZWNrYm94XCIsXCJhcmlhLWxhYmVsXCI6ZShcInJlZ2lvblwiKSxvblRvZ2dsZTpNLG9uU2VsZWN0OmZ1bmN0aW9uKHQsbil7cmV0dXJuIHRlKDAsQihuLGUpKX0sc2VsZWN0aW9uczpWLGlzT3BlbjpTLHBsYWNlaG9sZGVyVGV4dDplKFwiRmlsdGVyIGJ5IHJlZ2lvblwiKX0sbGUpKSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyRmlsdGVyLHtjaGlwczpSP1tSXTpbXSxkZWxldGVDaGlwOmZ1bmN0aW9uKCl7cmV0dXJuIG5lKFwibmFtZVwiKX0sY2F0ZWdvcnlOYW1lOmUoXCJuYW1lXCIpfSxEPT09ZShcIm5hbWVcIikmJm4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJJdGVtLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuSW5wdXRHcm91cCxudWxsLG4uY3JlYXRlRWxlbWVudChsLlRleHRJbnB1dCx7bmFtZTplKFwibmFtZVwiKSxpZDplKFwibmFtZVwiKSx0eXBlOlwic2VhcmNoXCIscGxhY2Vob2xkZXI6ZShcIm5hbWVTZWFyY2hQbGFjZWhvbGRlclwiKSxcImFyaWEtbGFiZWxcIjplKFwibmFtZVNlYXJjaFBsYWNlaG9sZGVyXCIpLG9uQ2hhbmdlOmZ1bmN0aW9uKGUpe3JldHVybiBxKHtzaXplOmkuc2l6ZSxwYWdlOjEscXVlcnk6Zih7fSxpLnF1ZXJ5LHtuYW1lOmV9KX0pfSxyZWY6WX0pLG4uY3JlYXRlRWxlbWVudChsLkJ1dHRvbix7dmFyaWFudDpcImNvbnRyb2xcIixcImFyaWEtbGFiZWxcIjpcInNlYXJjaCBidXR0b24gZm9yIG5hbWUgaW5wdXRcIixvbkNsaWNrOmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGQoe3NpemU6aS5zaXplLHBhZ2U6MSxxdWVyeTpmKHt9LGkucXVlcnkse25hbWU6KG51bGw9PShlPVkuY3VycmVudCk/dm9pZCAwOmUudmFsdWUpfHxcIlwifSl9KX19LG4uY3JlYXRlRWxlbWVudCh1LlNlYXJjaEljb24sbnVsbCkpKSkpLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJGaWx0ZXIse2NoaXBzOmo/W2pdOltdLGRlbGV0ZUNoaXA6ZnVuY3Rpb24oKXtyZXR1cm4gbmUoXCJvd25lclwiKX0sY2F0ZWdvcnlOYW1lOmUoXCJvd25lclwiKX0sRD09PWUoXCJvd25lclwiKSYmbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckl0ZW0sbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5JbnB1dEdyb3VwLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuVGV4dElucHV0LHtuYW1lOmUoXCJvd25lclwiKSxpZDplKFwib3duZXJcIiksdHlwZTpcInNlYXJjaFwiLHBsYWNlaG9sZGVyOmUoXCJvd25lclNlYXJjaFBsYWNlaG9sZGVyXCIpLFwiYXJpYS1sYWJlbFwiOmUoXCJvd25lclNlYXJjaFBsYWNlaG9sZGVyXCIpLG9uQ2hhbmdlOmZ1bmN0aW9uKGUpe3JldHVybiBxKHtzaXplOmkuc2l6ZSxwYWdlOjEscXVlcnk6Zih7fSxpLnF1ZXJ5LHtvd25lcjplfSl9KX0scmVmOiR9KSxuLmNyZWF0ZUVsZW1lbnQobC5CdXR0b24se3ZhcmlhbnQ6XCJjb250cm9sXCIsXCJhcmlhLWxhYmVsXCI6XCJzZWFyY2ggYnV0dG9uIGZvciBvd25lciBpbnB1dFwiLG9uQ2xpY2s6ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZCh7c2l6ZTppLnNpemUscGFnZToxLHF1ZXJ5OmYoe30saS5xdWVyeSx7b3duZXI6KG51bGw9PShlPSQuY3VycmVudCk/dm9pZCAwOmUudmFsdWUpfHxcIlwifSl9KX19LG4uY3JlYXRlRWxlbWVudCh1LlNlYXJjaEljb24sbnVsbCkpKSkpKSksc2U9bi5jcmVhdGVFbGVtZW50KG4uRnJhZ21lbnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyVG9nZ2xlR3JvdXAse3RvZ2dsZUljb246bi5jcmVhdGVFbGVtZW50KHUuRmlsdGVySWNvbixudWxsKSxicmVha3BvaW50OlwieGxcIn0sdWUpLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJHcm91cCx7dmFyaWFudDpcImljb24tYnV0dG9uLWdyb3VwXCJ9LG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJJdGVtLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuQnV0dG9uLHt2YXJpYW50OlwicHJpbWFyeVwifSxcIkNyZWF0ZSBLYWZrYSBJbnN0YW5jZVwiKSkpLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJJdGVtLHt2YXJpYW50OlwicGFnaW5hdGlvblwiLGFsaWdubWVudDp7ZGVmYXVsdDpcImFsaWduUmlnaHRcIn19LG4uY3JlYXRlRWxlbWVudChsLlBhZ2luYXRpb24se2l0ZW1Db3VudDoobnVsbD09cz92b2lkIDA6cy50b3RhbCl8fDAscGFnZTppLnBhZ2UscGVyUGFnZTppLnNpemUscGVyUGFnZU9wdGlvbnM6QyxvblNldFBhZ2U6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBkKGYoe30saSx7cGFnZTp0LHNpemU6bnx8aS5zaXplfSkpfSxvblBlclBhZ2VTZWxlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdmFyaWFudDpcInRvcFwiLGlzQ29tcGFjdDohMH0pKSk7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXIse2lkOlwidG9vbGJhci1ncm91cC10eXBlc1wiLGNvbGxhcHNlTGlzdGVkRmlsdGVyc0JyZWFrcG9pbnQ6XCJ4bFwiLGNsZWFyQWxsRmlsdGVyczpVfSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyQ29udGVudCxudWxsLHNlKSl9LGs9W3t2YWx1ZTpcIm5hbWVcIixsYWJlbDpcIk5hbWVcIn0se3ZhbHVlOlwic3RhdHVzXCIsbGFiZWw6XCJTdGF0dXNcIn0se3ZhbHVlOlwiY2xvdWRwcm92aWRlclwiLGxhYmVsOlwiQ2xvdWQgUHJvdmlkZXJcIn0se3ZhbHVlOlwicmVnaW9uXCIsbGFiZWw6XCJSZWdpb25cIn0se3ZhbHVlOlwib3duZXJcIixsYWJlbDpcIk93bmVyXCJ9XSxJPVt7dmFsdWU6XCJhd3NcIixsYWJlbDpcIkFtYXpvbiBXZWIgU2VydmljZXNcIn1dLHg9W3t2YWx1ZTpcInJlYWR5XCIsbGFiZWw6XCJSZWFkeVwifSx7dmFsdWU6XCJmYWlsZWRcIixsYWJlbDpcIkZhaWxlZFwifSx7dmFsdWU6XCJhY2NlcHRlZFwiLGxhYmVsOlwiQ3JlYXRpb24gcGVuZGluZ1wifSx7dmFsdWU6XCJwcm92aXNpb25pbmdcIixsYWJlbDpcIkNyZWF0aW9uIGluIHByb2dyZXNzXCJ9LHt2YWx1ZTpcInByZXBhcmluZ1wiLGxhYmVsOlwiQ3JlYXRpb24gaW4gcHJvZ3Jlc3NcIn0se3ZhbHVlOlwiZGVwcm92aXNpb25cIixsYWJlbDpcIkRlbGV0aW9uIGluIHByb2dyZXNzXCJ9XSxOPVt7dmFsdWU6XCJ1cy1lYXN0LTFcIixsYWJlbDpcIlVTIEVhc3QsIE4uIFZpcmdpbmlhXCJ9XSxCPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2tleTplLG5vZGU6dChlKX19O2Z1bmN0aW9uIHooKXt2YXIgZT1hLnVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUNsdXN0ZXJzQWN0b3IoKTtyZXR1cm4gYS51c2VDbHVzdGVyc01hY2hpbmVJc1JlYWR5KGUpP24uY3JlYXRlRWxlbWVudCh3LG51bGwpOm51bGx9dmFyIHc9ZnVuY3Rpb24oKXt2YXIgZSx0PXMudXNlSGlzdG9yeSgpLHI9YS51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVDbHVzdGVyc0FjdG9yKCksbz1hLnVzZUNsdXN0ZXJzTWFjaGluZShyKSxpPW8ucmVzcG9uc2UsdT1vLnNlbGVjdGVkSWQsbT1vLm9uU2VsZWN0LGQ9by5vblF1ZXJ5O3N3aXRjaCghMCl7Y2FzZSBvLmZpcnN0UmVxdWVzdDpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInBmLXUtYmFja2dyb3VuZC1jb2xvci0yMDBcIn0sbi5jcmVhdGVFbGVtZW50KGMuTG9hZGluZyxudWxsKSk7Y2FzZSBvLnF1ZXJ5RW1wdHk6cmV0dXJuIG4uY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJwZi11LWJhY2tncm91bmQtY29sb3ItMjAwXCJ9LG4uY3JlYXRlRWxlbWVudChMLG51bGwpLG4uY3JlYXRlRWxlbWVudChjLk5vTWF0Y2hGb3VuZCx7b25DbGVhcjpmdW5jdGlvbigpe3JldHVybiBkKHtwYWdlOjEsc2l6ZToxMH0pfX0pKTtjYXNlIG8ubm9SZXN1bHRzfHxvLmVycm9yOnJldHVybiBuLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwicGYtdS1iYWNrZ3JvdW5kLWNvbG9yLTIwMFwifSxuLmNyZWF0ZUVsZW1lbnQoYy5FbXB0eVN0YXRlLHtlbXB0eVN0YXRlUHJvcHM6e3ZhcmlhbnQ6Yy5FbXB0eVN0YXRlVmFyaWFudC5HZXR0aW5nU3RhcnRlZH0sdGl0bGVQcm9wczp7dGl0bGU6XCJjb3Mubm9fY2x1c3RlcnNfaW5zdGFuY2VcIn0sZW1wdHlTdGF0ZUJvZHlQcm9wczp7Ym9keTpcImNvcy5ub19jbHVzdGVyc19pbnN0YW5jZV9ib2R5XCJ9LGJ1dHRvblByb3BzOnt0aXRsZTpcImNvcy5jcmVhdGVfY2x1c3RlcnNfaW5zdGFuY2VcIix2YXJpYW50OmwuQnV0dG9uVmFyaWFudC5wcmltYXJ5LG9uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gdC5wdXNoKFwiL2NyZWF0ZS1jb25uZWN0b3JcIil9fX0pKTtjYXNlIG8ubG9hZGluZzpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInBmLXUtYmFja2dyb3VuZC1jb2xvci0yMDBcIn0sbi5jcmVhdGVFbGVtZW50KEwsbnVsbCksbi5jcmVhdGVFbGVtZW50KGMuTG9hZGluZyxudWxsKSk7ZGVmYXVsdDpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInBmLXUtYmFja2dyb3VuZC1jb2xvci0yMDBcIn0sbi5jcmVhdGVFbGVtZW50KEwsbnVsbCksbi5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInBmLXUtcC1tZFwifSxuLmNyZWF0ZUVsZW1lbnQobC5HYWxsZXJ5LHtoYXNHdXR0ZXI6ITB9LG51bGw9PWl8fG51bGw9PShlPWkuaXRlbXMpP3ZvaWQgMDplLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQscixhO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5DYXJkLHtpc0hvdmVyYWJsZTohMCxrZXk6ZS5pZCxpc1NlbGVjdGFibGU6ITAsaXNTZWxlY3RlZDp1PT09ZS5pZCxvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIG0oZS5pZCl9fSxuLmNyZWF0ZUVsZW1lbnQobC5DYXJkSGVhZGVyLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuQ2FyZFRpdGxlLG51bGwsbnVsbD09KHQ9ZS5tZXRhZGF0YSk/dm9pZCAwOnQubmFtZSkpLG4uY3JlYXRlRWxlbWVudChsLkNhcmRCb2R5LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RUZXJtLG51bGwsXCJPd25lclwiKSxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3REZXNjcmlwdGlvbixudWxsLG51bGw9PShyPWUubWV0YWRhdGEpP3ZvaWQgMDpyLm93bmVyKSksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RUZXJtLG51bGwsXCJDcmVhdGVkXCIpLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdERlc2NyaXB0aW9uLG51bGwsbnVsbD09KGE9ZS5tZXRhZGF0YSk/dm9pZCAwOmEuY3JlYXRlZF9hdCkpKSkpfSkpKSkpfX0sTD1mdW5jdGlvbigpe3ZhciBlPWEudXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lQ2x1c3RlcnNBY3RvcigpLHI9YS51c2VDbHVzdGVyc01hY2hpbmUoZSksbz1yLnJlcXVlc3QsaT1yLnJlc3BvbnNlLHM9ci5vblF1ZXJ5LG09dC51c2VSZWYobnVsbCksZD1jLnVzZURlYm91bmNlKHMsMWUzKSxwPW4uY3JlYXRlRWxlbWVudChuLkZyYWdtZW50LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckl0ZW0sbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5JbnB1dEdyb3VwLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuVGV4dElucHV0LHtuYW1lOlwidGV4dElucHV0MlwiLGlkOlwidGV4dElucHV0MlwiLHR5cGU6XCJzZWFyY2hcIixcImFyaWEtbGFiZWxcIjpcInNlYXJjaCBpbnB1dCBleGFtcGxlXCIsb25DaGFuZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGQoe3NpemU6by5zaXplLHBhZ2U6MSxuYW1lOmV9KX0scmVmOm19KSxuLmNyZWF0ZUVsZW1lbnQobC5CdXR0b24se3ZhcmlhbnQ6XCJjb250cm9sXCIsXCJhcmlhLWxhYmVsXCI6XCJzZWFyY2ggYnV0dG9uIGZvciBzZWFyY2ggaW5wdXRcIn0sbi5jcmVhdGVFbGVtZW50KHUuU2VhcmNoSWNvbixudWxsKSkpKSksdj1uLmNyZWF0ZUVsZW1lbnQobi5GcmFnbWVudCxudWxsLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJUb2dnbGVHcm91cCx7dG9nZ2xlSWNvbjpuLmNyZWF0ZUVsZW1lbnQodS5GaWx0ZXJJY29uLG51bGwpLGJyZWFrcG9pbnQ6XCJ4bFwifSxwKSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyR3JvdXAse3ZhcmlhbnQ6XCJpY29uLWJ1dHRvbi1ncm91cFwifSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFySXRlbSxudWxsLG4uY3JlYXRlRWxlbWVudChsLkJ1dHRvbix7dmFyaWFudDpcInByaW1hcnlcIn0sXCJDcmVhdGUgQ2x1c3RlcnMgSW5zdGFuY2VcIikpKSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFySXRlbSx7dmFyaWFudDpcInBhZ2luYXRpb25cIixhbGlnbm1lbnQ6e2RlZmF1bHQ6XCJhbGlnblJpZ2h0XCJ9fSxuLmNyZWF0ZUVsZW1lbnQobC5QYWdpbmF0aW9uLHtpdGVtQ291bnQ6KG51bGw9PWk/dm9pZCAwOmkudG90YWwpfHwwLHBhZ2U6by5wYWdlLHBlclBhZ2U6by5zaXplLHBlclBhZ2VPcHRpb25zOlt7dGl0bGU6XCIxXCIsdmFsdWU6MX0se3RpdGxlOlwiNVwiLHZhbHVlOjV9LHt0aXRsZTpcIjEwXCIsdmFsdWU6MTB9XSxvblNldFBhZ2U6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBzKGYoe30sbyx7cGFnZTp0LHNpemU6bnx8by5zaXplfSkpfSxvblBlclBhZ2VTZWxlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdmFyaWFudDpcInRvcFwiLGlzQ29tcGFjdDohMH0pKSk7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXIse2lkOlwidG9vbGJhci1ncm91cC10eXBlc1wiLGNvbGxhcHNlTGlzdGVkRmlsdGVyc0JyZWFrcG9pbnQ6XCJ4bFwifSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyQ29udGVudCxudWxsLHYpKX0sQT1be3RpdGxlOlwiMVwiLHZhbHVlOjF9LHt0aXRsZTpcIjVcIix2YWx1ZTo1fSx7dGl0bGU6XCIxMFwiLHZhbHVlOjEwfV07ZnVuY3Rpb24gRCgpe3ZhciBlLHIsbyxpLHM9YS51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVDb25uZWN0b3JUeXBlc0FjdG9yKCksbT10LnVzZVN0YXRlKFwiXCIpLGQ9bVswXSxwPW1bMV0sdj10LnVzZVN0YXRlKFtcIlNpbmtcIixcIlNvdXJjZVwiXSksZj12WzBdLGc9dlsxXSxoPXQudXNlU3RhdGUoITEpLEU9aFswXSxiPWhbMV0sQz10LnVzZUNhbGxiYWNrKChmdW5jdGlvbigpe3AoXCJcIiksZyhbXSl9KSxbXSkseT10LnVzZUNhbGxiYWNrKChmdW5jdGlvbigpe3JldHVybiBiKChmdW5jdGlvbihlKXtyZXR1cm4hZX0pKX0pLFtdKSxTPXQudXNlQ2FsbGJhY2soKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGcoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmluY2x1ZGVzKHQpP2UuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSE9PXR9KSk6W10uY29uY2F0KGUsW3RdKX0pKX0pLFtdKTtzd2l0Y2goITApe2Nhc2Ugcy5zdGF0ZS5tYXRjaGVzKFwibG9hZGluZ1wiKTpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuRW1wdHlTdGF0ZSxudWxsLG4uY3JlYXRlRWxlbWVudChsLkVtcHR5U3RhdGVJY29uLHt2YXJpYW50OlwiY29udGFpbmVyXCIsY29tcG9uZW50OmwuU3Bpbm5lcn0pLG4uY3JlYXRlRWxlbWVudChsLlRpdGxlLHtzaXplOlwibGdcIixoZWFkaW5nTGV2ZWw6XCJoNFwifSxcIkxvYWRpbmdcIikpO2Nhc2Ugcy5zdGF0ZS5tYXRjaGVzKFwiZmFpbHVyZVwiKTpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGMuTm9NYXRjaEZvdW5kLG51bGwpO2RlZmF1bHQ6dmFyIFQ9W24uY3JlYXRlRWxlbWVudChsLlNlbGVjdE9wdGlvbix7a2V5OlwiU2lua1wiLHZhbHVlOlwiU2lua1wifSksbi5jcmVhdGVFbGVtZW50KGwuU2VsZWN0T3B0aW9uLHtrZXk6XCJTb3VyY2VcIix2YWx1ZTpcIlNvdXJjZVwifSldLGs9bi5jcmVhdGVFbGVtZW50KG4uRnJhZ21lbnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFySXRlbSxudWxsLG4uY3JlYXRlRWxlbWVudChsLklucHV0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5UZXh0SW5wdXQse25hbWU6XCJ0ZXh0SW5wdXQyXCIsaWQ6XCJ0ZXh0SW5wdXQyXCIsdHlwZTpcInNlYXJjaFwiLFwiYXJpYS1sYWJlbFwiOlwic2VhcmNoIGlucHV0IGV4YW1wbGVcIixvbkNoYW5nZTpwLHZhbHVlOmR9KSxuLmNyZWF0ZUVsZW1lbnQobC5CdXR0b24se3ZhcmlhbnQ6XCJjb250cm9sXCIsXCJhcmlhLWxhYmVsXCI6XCJzZWFyY2ggYnV0dG9uIGZvciBzZWFyY2ggaW5wdXRcIn0sbi5jcmVhdGVFbGVtZW50KHUuU2VhcmNoSWNvbixudWxsKSkpKSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyR3JvdXAse3ZhcmlhbnQ6XCJmaWx0ZXItZ3JvdXBcIn0sbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckZpbHRlcix7Y2hpcHM6ZixkZWxldGVDaGlwOlMsZGVsZXRlQ2hpcEdyb3VwOmZ1bmN0aW9uKCl7cmV0dXJuIGcoW10pfSxjYXRlZ29yeU5hbWU6XCJDb25uZWN0b3IgdHlwZVwifSxuLmNyZWF0ZUVsZW1lbnQobC5TZWxlY3Qse3ZhcmlhbnQ6XCJjaGVja2JveFwiLFwiYXJpYS1sYWJlbFwiOlwiQ29ubmVjdG9yIHR5cGVcIixvblRvZ2dsZTp5LG9uU2VsZWN0OlMsc2VsZWN0aW9uczpmLGlzT3BlbjpFLHBsYWNlaG9sZGVyVGV4dDpcIkNvbm5lY3RvciB0eXBlXCJ9LFQpKSkpLEk9bi5jcmVhdGVFbGVtZW50KG4uRnJhZ21lbnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyVG9nZ2xlR3JvdXAse3RvZ2dsZUljb246bi5jcmVhdGVFbGVtZW50KHUuRmlsdGVySWNvbixudWxsKSxicmVha3BvaW50OlwieGxcIn0sayksbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckl0ZW0se3ZhcmlhbnQ6XCJwYWdpbmF0aW9uXCIsYWxpZ25tZW50OntkZWZhdWx0OlwiYWxpZ25SaWdodFwifX0sbi5jcmVhdGVFbGVtZW50KGwuUGFnaW5hdGlvbix7aXRlbUNvdW50OihudWxsPT0oZT1zLnN0YXRlLmNvbnRleHQuY29ubmVjdG9ycyk/dm9pZCAwOmUudG90YWwpfHwwLHBhZ2U6KChudWxsPT0ocj1zLnN0YXRlLmNvbnRleHQuY29ubmVjdG9ycyk/dm9pZCAwOnIucGFnZSl8fDApKzEscGVyUGFnZToobnVsbD09KG89cy5zdGF0ZS5jb250ZXh0LmNvbm5lY3RvcnMpP3ZvaWQgMDpvLnNpemUpfHwwLHBlclBhZ2VPcHRpb25zOkEsb25TZXRQYWdlOmZ1bmN0aW9uKCl7cmV0dXJuITF9LG9uUGVyUGFnZVNlbGVjdDpmdW5jdGlvbigpe3JldHVybiExfSx2YXJpYW50OlwidG9wXCIsaXNDb21wYWN0OiEwfSkpKTtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInBmLXUtYmFja2dyb3VuZC1jb2xvci0yMDBcIn0sbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhcix7aWQ6XCJ0b29sYmFyLWdyb3VwLXR5cGVzXCIsY29sbGFwc2VMaXN0ZWRGaWx0ZXJzQnJlYWtwb2ludDpcInhsXCIsY2xlYXJBbGxGaWx0ZXJzOkN9LG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJDb250ZW50LG51bGwsSSkpLG4uY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJwZi11LXAtbWRcIn0sbi5jcmVhdGVFbGVtZW50KGwuR2FsbGVyeSx7aGFzR3V0dGVyOiEwfSxudWxsPT0oaT1zLnN0YXRlLmNvbnRleHQuY29ubmVjdG9ycyk/dm9pZCAwOmkuaXRlbXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm5cIlwiPT09ZHx8ZS5uYW1lLmluY2x1ZGVzKGQpfSkpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLkNhcmQse2lzSG92ZXJhYmxlOiEwLGtleTplLmlkLGlzU2VsZWN0YWJsZTohMCxpc1NlbGVjdGVkOihudWxsPT0odD1zLnN0YXRlLmNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3IpP3ZvaWQgMDp0LmlkKT09PWUuaWQsb25DbGljazpmdW5jdGlvbigpe3Muc2VuZCh7dHlwZTpcInNlbGVjdENvbm5lY3RvclwiLHNlbGVjdGVkQ29ubmVjdG9yOmUuaWR9KX19LG4uY3JlYXRlRWxlbWVudChsLkNhcmRIZWFkZXIsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5DYXJkVGl0bGUsbnVsbCxlLm5hbWUpKSxuLmNyZWF0ZUVsZW1lbnQobC5DYXJkQm9keSxudWxsLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdCxudWxsLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdEdyb3VwLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0RGVzY3JpcHRpb24sbnVsbCxlLmRlc2NyaXB0aW9uKSksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RUZXJtLG51bGwsXCJWZXJzaW9uXCIpLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdERlc2NyaXB0aW9uLG51bGwsZS52ZXJzaW9uKSksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RUZXJtLG51bGwsXCJJRFwiKSxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3REZXNjcmlwdGlvbixudWxsLGUuaWQpKSkpKX0pKSkpKX19dmFyIFA9ZnVuY3Rpb24oZSl7dmFyIGE9ZS5hY3RvcixvPWUuQ29uZmlndXJhdG9yLGk9ci51c2VTZWxlY3RvcihhLHQudXNlQ2FsbGJhY2soKGZ1bmN0aW9uKGUpe3JldHVybntjb25uZWN0b3I6ZS5jb250ZXh0LmNvbm5lY3RvcixhY3RpdmVTdGVwOmUuY29udGV4dC5hY3RpdmVTdGVwLGNvbmZpZ3VyYXRpb246ZS5jb250ZXh0LmNvbmZpZ3VyYXRpb259fSksW2FdKSk7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChvLHthY3RpdmVTdGVwOmkuYWN0aXZlU3RlcCxjb25maWd1cmF0aW9uOmkuY29uZmlndXJhdGlvbixjb25uZWN0b3I6aS5jb25uZWN0b3Isb25DaGFuZ2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYS5zZW5kKHt0eXBlOlwiY2hhbmdlXCIsY29uZmlndXJhdGlvbjplLGlzVmFsaWQ6dH0pfX0pfSxGPWZ1bmN0aW9uKGUpe3ZhciBhPWUuYWN0b3Isbz1yLnVzZVNlbGVjdG9yKGEsdC51c2VDYWxsYmFjaygoZnVuY3Rpb24oZSl7cmV0dXJue2Nvbm5lY3RvcjplLmNvbnRleHQuY29ubmVjdG9yLGNvbmZpZ3VyYXRpb246ZS5jb250ZXh0LmNvbmZpZ3VyYXRpb259fSksW2FdKSk7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChkLkpzb25TY2hlbWFDb25maWd1cmF0b3Ise3NjaGVtYTpvLmNvbm5lY3Rvci5qc29uX3NjaGVtYSxjb25maWd1cmF0aW9uOm8uY29uZmlndXJhdGlvbnx8e30sb25DaGFuZ2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYS5zZW5kKHt0eXBlOlwiY2hhbmdlXCIsY29uZmlndXJhdGlvbjplLGlzVmFsaWQ6dH0pfX0pfSxPPWZ1bmN0aW9uKCl7dmFyIGU9bS51c2VUcmFuc2xhdGlvbigpLnQsbz1hLnVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKSxpPXIudXNlU2VsZWN0b3Iobyx0LnVzZUNhbGxiYWNrKChmdW5jdGlvbihlKXtyZXR1cm57aXNMb2FkaW5nOmUubWF0Y2hlcyh7Y29uZmlndXJlQ29ubmVjdG9yOlwibG9hZENvbmZpZ3VyYXRvclwifSksaGFzRXJyb3JzOmUubWF0Y2hlcyhcImZhaWx1cmVcIiksaGFzQ3VzdG9tQ29uZmlndXJhdG9yOiExIT09ZS5jb250ZXh0LkNvbmZpZ3VyYXRvciYmdm9pZCAwIT09ZS5jb250ZXh0LkNvbmZpZ3VyYXRvcixjb25maWd1cmF0aW9uOmUuY29udGV4dC5jb25uZWN0b3JDb25maWd1cmF0aW9uLENvbmZpZ3VyYXRvcjplLmNvbnRleHQuQ29uZmlndXJhdG9yLGNvbmZpZ3VyYXRvclJlZjplLmNoaWxkcmVuLmNvbmZpZ3VyYXRvclJlZn19KSxbb10pKSxjPWkuQ29uZmlndXJhdG9yLHM9aS5jb25maWd1cmF0b3JSZWY7c3dpdGNoKCEwKXtjYXNlIGkuaXNMb2FkaW5nOnJldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5FbXB0eVN0YXRlLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRW1wdHlTdGF0ZUljb24se3ZhcmlhbnQ6XCJjb250YWluZXJcIixjb21wb25lbnQ6bC5TcGlubmVyfSksbi5jcmVhdGVFbGVtZW50KGwuVGl0bGUse3NpemU6XCJsZ1wiLGhlYWRpbmdMZXZlbDpcImg0XCJ9LGUoXCJsb2FkaW5nXCIpKSk7Y2FzZSBpLmhhc0Vycm9yczpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuRW1wdHlTdGF0ZSxudWxsLG4uY3JlYXRlRWxlbWVudChsLkVtcHR5U3RhdGVJY29uLHtpY29uOnUuRXhjbGFtYXRpb25DaXJjbGVJY29ufSksbi5jcmVhdGVFbGVtZW50KGwuVGl0bGUse3NpemU6XCJsZ1wiLGhlYWRpbmdMZXZlbDpcImg0XCJ9LFwiRXJyb3IgbWVzc2FnZVwiKSk7Y2FzZSBpLmhhc0N1c3RvbUNvbmZpZ3VyYXRvcjpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInBmLXUtYmFja2dyb3VuZC1jb2xvci0yMDAgcGYtdS1wLW1kXCJ9LG4uY3JlYXRlRWxlbWVudChuLlN1c3BlbnNlLHtmYWxsYmFjazpudWxsfSxuLmNyZWF0ZUVsZW1lbnQoUCx7YWN0b3I6cyxDb25maWd1cmF0b3I6Y30pKSk7ZGVmYXVsdDpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInBmLXUtYmFja2dyb3VuZC1jb2xvci0yMDAgcGYtdS1wLW1kXCJ9LG4uY3JlYXRlRWxlbWVudChGLHthY3RvcjpzfSkpfX07ZnVuY3Rpb24gTSgpe3ZhciBlPWEudXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lUmV2aWV3QWN0b3IoKSxyPWEudXNlUmV2aWV3TWFjaGluZShlKSxvPXIubmFtZSxpPXIuc2VydmljZUFjY291bnQsYz1yLmNvbmZpZ1N0cmluZyx1PXIuY29uZmlnU3RyaW5nRXJyb3Iscz1yLmNvbmZpZ1N0cmluZ1dhcm5pbmdzLG09ci5pc1NhdmluZyxkPXIuc2F2aW5nRXJyb3Isdj1yLm9uU2V0TmFtZSxnPXIub25TZXRTZXJ2aWNlQWNjb3VudCxoPXIub25VcGRhdGVDb25maWd1cmF0aW9uLEU9dC51c2VDYWxsYmFjaygoZnVuY3Rpb24oZSx0KXtlLmxheW91dCgpLGUuZm9jdXMoKX0pLFtdKTtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpcInBmLXUtYmFja2dyb3VuZC1jb2xvci0yMDAgcGYtdS1wLW1kXCJ9LG4uY3JlYXRlRWxlbWVudChsLkZvcm0sbnVsbCxkJiZuLmNyZWF0ZUVsZW1lbnQobC5Gb3JtQWxlcnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5BbGVydCx7dmFyaWFudDpcImRhbmdlclwiLHRpdGxlOmQsXCJhcmlhLWxpdmVcIjpcInBvbGl0ZVwiLGlzSW5saW5lOiEwfSkpLG4uY3JlYXRlRWxlbWVudChsLkZvcm1Hcm91cCx7bGFiZWw6XCJOYW1lXCIsaXNSZXF1aXJlZDohMCxmaWVsZElkOlwibmFtZVwiLGhlbHBlclRleHQ6XCJQbGVhc2UgcHJvdmlkZSBhIHVuaXF1ZSBuYW1lIGZvciB0aGUgY29ubmVjdG9yXCJ9LG4uY3JlYXRlRWxlbWVudChsLlRleHRJbnB1dCx7aXNEaXNhYmxlZDptLHZhbHVlOm8sb25DaGFuZ2U6dixpZDpcIm5hbWVcIn0pKSxuLmNyZWF0ZUVsZW1lbnQobC5Gb3JtR3JvdXAse2xhYmVsOlwiU2VydmljZSBBY2NvdW50XCIsaXNSZXF1aXJlZDohMCxmaWVsZElkOlwic2VydmljZS1hY2NvdW50XCJ9LG4uY3JlYXRlRWxlbWVudChsLlJhZGlvLHtpc0Rpc2FibGVkOm0saXNDaGVja2VkOnZvaWQgMD09PWksbmFtZTpcInNlcnZpY2UtYWNjb3VudFwiLG9uQ2hhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIGcodm9pZCAwKX0sbGFiZWw6XCJBdXRvbWF0aWNhbGx5IGNyZWF0ZSBhIFNlcnZpY2UgQWNjb3VudCBmb3IgdGhpcyBjb25uZWN0b3JcIixpZDpcInNlcnZpY2UtYWNjb3VudC1hdXRvbWF0aWNcIix2YWx1ZTpcImF1dG9tYXRpY1wifSksbi5jcmVhdGVFbGVtZW50KGwuUmFkaW8se2lzRGlzYWJsZWQ6bSxpc0NoZWNrZWQ6dm9pZCAwIT09aSxuYW1lOlwic2VydmljZS1hY2NvdW50XCIsb25DaGFuZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gZyh7Y2xpZW50SWQ6XCJcIixjbGllbnRTZWNyZXQ6XCJcIn0pfSxsYWJlbDpcIlByb3ZpZGUgdGhlIGNyZWRlbnRpYWxzIG1hbnVhbGx5XCIsaWQ6XCJzZXJ2aWNlLWFjY291bnQtdXNlclwiLHZhbHVlOlwidXNlclwifSksdm9pZCAwIT09aSYmbi5jcmVhdGVFbGVtZW50KG4uRnJhZ21lbnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5Gb3JtR3JvdXAse2xhYmVsOlwiQ2xpZW50IElEXCIsaXNSZXF1aXJlZDohMCxmaWVsZElkOlwiY2xpZW50SWRcIn0sbi5jcmVhdGVFbGVtZW50KGwuVGV4dElucHV0LHtpc0Rpc2FibGVkOm0sdmFsdWU6aS5jbGllbnRJZCxvbkNoYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gZyhmKHt9LGkse2NsaWVudElkOmV9KSl9LGlkOlwiY2xpZW50SWRcIn0pKSxuLmNyZWF0ZUVsZW1lbnQobC5Gb3JtR3JvdXAse2xhYmVsOlwiQ2xpZW50IFNlY3JldFwiLGlzUmVxdWlyZWQ6ITAsZmllbGRJZDpcImNsaWVudFNlY3JldFwifSxuLmNyZWF0ZUVsZW1lbnQobC5UZXh0SW5wdXQse2lzRGlzYWJsZWQ6bSx2YWx1ZTppLmNsaWVudFNlY3JldCxvbkNoYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gZyhmKHt9LGkse2NsaWVudFNlY3JldDplfSkpfSxpZDpcImNsaWVudFNlY3JldFwifSkpKSksbi5jcmVhdGVFbGVtZW50KGwuRm9ybUdyb3VwLHtsYWJlbDpcIkNvbmZpZ3VyYXRpb25cIixpc1JlcXVpcmVkOiEwLGZpZWxkSWQ6XCJjb25maWd1cmF0aW9uXCIsaGVscGVyVGV4dDpcIlBsZWFzZSByZXZpZXcgdGhlIGNvbmZpZ3VyYXRpb24gZGF0YS5cIixoZWxwZXJUZXh0SW52YWxpZDp1LHZhbGlkYXRlZDp2b2lkIDAhPT11P1wiZXJyb3JcIjp2b2lkIDAhPT1zP1wid2FybmluZ1wiOlwiZGVmYXVsdFwifSxuLmNyZWF0ZUVsZW1lbnQocC5Db2RlRWRpdG9yLHtpZDpcImNvbmZpZ3VyYXRpb25cIixpc0RhcmtUaGVtZTohMSxpc0xpbmVOdW1iZXJzVmlzaWJsZTohMCxpc1JlYWRPbmx5Om0saXNNaW5pbWFwVmlzaWJsZTohMSxpc0xhbmd1YWdlTGFiZWxWaXNpYmxlOiEwLGNvZGU6YyxvbkNoYW5nZTpoLGxhbmd1YWdlOnAuTGFuZ3VhZ2UuanNvbixvbkVkaXRvckRpZE1vdW50OkUsaGVpZ2h0OlwiNDAwcHhcIn0pLG4uY3JlYXRlRWxlbWVudChsLkFsZXJ0R3JvdXAsbnVsbCxudWxsPT1zP3ZvaWQgMDpzLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuQWxlcnQse2tleTp0LHRpdGxlOmUsdmFyaWFudDpcIndhcm5pbmdcIixpc0lubGluZTohMH0pfSkpKSkpKX12YXIgRz1mdW5jdGlvbihlKXt2YXIgdD1lLmVycm9yO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7cm9sZTpcImFsZXJ0XCJ9LG4uY3JlYXRlRWxlbWVudChcInBcIixudWxsLFwiU29tZXRoaW5nIHdlbnQgd3Jvbmc6XCIpLG4uY3JlYXRlRWxlbWVudChcInByZVwiLG51bGwsdC5tZXNzYWdlKSl9LHE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jaGlsZHJlbjtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KHYuRXJyb3JCb3VuZGFyeSx7RmFsbGJhY2tDb21wb25lbnQ6RyxyZXNldEtleXM6W0RhdGUubm93KCldfSx0KX07T2JqZWN0LmtleXMoYSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7XCJkZWZhdWx0XCIhPT1lJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxlLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhW2VdfX0pfSkpLGV4cG9ydHMuQ3JlYXRpb25XaXphcmQ9ZnVuY3Rpb24oZSl7dmFyIG89ZS5vbkNsb3NlLGk9bS51c2VUcmFuc2xhdGlvbigpLnQsbD1hLnVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKSxjPXIudXNlU2VydmljZShsKSx1PWNbMF0scz1jWzFdLGQ9ZnVuY3Rpb24oKXt2YXIgZT1hLnVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKSxvPXIudXNlU2VsZWN0b3IoZSx0LnVzZUNhbGxiYWNrKChmdW5jdGlvbihlKXtyZXR1cm57aXNBY3RpdmU6ZS5tYXRjaGVzKFwic2VsZWN0S2Fma2FcIiksY2FuSnVtcFRvOmEuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24oZSxcImp1bXBUb1NlbGVjdEthZmthXCIpLmNoYW5nZWR8fGUubWF0Y2hlcyhcInNlbGVjdEthZmthXCIpLGVuYWJsZU5leHQ6YS5jcmVhdGlvbldpemFyZE1hY2hpbmUudHJhbnNpdGlvbihlLFwibmV4dFwiKS5jaGFuZ2VkfX0pLFtlXSkpLGk9by5jYW5KdW1wVG8sbD1vLmVuYWJsZU5leHQ7cmV0dXJue25hbWU6XCJTZWxlY3Qga2Fma2EgaW5zdGFuY2VcIixpc0FjdGl2ZTpvLmlzQWN0aXZlLGNvbXBvbmVudDpuLmNyZWF0ZUVsZW1lbnQocSxudWxsLG4uY3JlYXRlRWxlbWVudCh5LG51bGwpKSxjYW5KdW1wVG86aSxlbmFibGVOZXh0Omx9fSgpLHA9ZnVuY3Rpb24oKXt2YXIgZT1hLnVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKSxvPXIudXNlU2VsZWN0b3IoZSx0LnVzZUNhbGxiYWNrKChmdW5jdGlvbihlKXtyZXR1cm57aXNBY3RpdmU6ZS5tYXRjaGVzKFwiY29uZmlndXJlQ29ubmVjdG9yXCIpLGNhbkp1bXBUbzphLmNyZWF0aW9uV2l6YXJkTWFjaGluZS50cmFuc2l0aW9uKGUsXCJqdW1wVG9Db25maWd1cmVDb25uZWN0b3JcIikuY2hhbmdlZHx8ZS5tYXRjaGVzKFwiY29uZmlndXJlQ29ubmVjdG9yXCIpLGVuYWJsZU5leHQ6YS5jcmVhdGlvbldpemFyZE1hY2hpbmUudHJhbnNpdGlvbihlLFwibmV4dFwiKS5jaGFuZ2VkLHN0ZXBzOmUuY29udGV4dC5jb25maWd1cmF0aW9uU3RlcHMsYWN0aXZlU3RlcDplLmNvbnRleHQuYWN0aXZlQ29uZmlndXJhdGlvblN0ZXAsY2FuSnVtcFRvU3RlcDpmdW5jdGlvbih0KXtyZXR1cm4gYS5jcmVhdGlvbldpemFyZE1hY2hpbmUudHJhbnNpdGlvbihlLHt0eXBlOlwianVtcFRvQ29uZmlndXJlQ29ubmVjdG9yXCIsc3ViU3RlcDp0fSkuY2hhbmdlZH19fSksW2VdKSksaT1vLmlzQWN0aXZlLGw9by5hY3RpdmVTdGVwLGM9by5jYW5KdW1wVG9TdGVwLHU9by5lbmFibGVOZXh0LHM9by5zdGVwcztyZXR1cm57bmFtZTpcIkNvbmZpZ3VyYXRpb25cIixpc0FjdGl2ZTppLGNhbkp1bXBUbzpvLmNhbkp1bXBUbyxzdGVwczpzP3MubWFwKChmdW5jdGlvbihlLHQpe3JldHVybntuYW1lOmUsaXNBY3RpdmU6aSYmbD09PXQsY2FuSnVtcFRvOmModCksZW5hYmxlTmV4dDp1LGNvbXBvbmVudDpuLmNyZWF0ZUVsZW1lbnQocSxudWxsLG4uY3JlYXRlRWxlbWVudChPLG51bGwpKX19KSk6dm9pZCAwLGVuYWJsZU5leHQ6dSxjb21wb25lbnQ6bi5jcmVhdGVFbGVtZW50KHEsbnVsbCxuLmNyZWF0ZUVsZW1lbnQoTyxudWxsKSl9fSgpO2lmKFwic2F2ZWRcIj09PXUudmFsdWUpcmV0dXJuIG51bGw7dmFyIHY9W3tuYW1lOlwiQ29ubmVjdG9yXCIsaXNBY3RpdmU6dS5tYXRjaGVzKFwic2VsZWN0Q29ubmVjdG9yXCIpLGNvbXBvbmVudDpuLmNyZWF0ZUVsZW1lbnQocSxudWxsLG4uY3JlYXRlRWxlbWVudChELG51bGwpKSxjYW5KdW1wVG86YS5jcmVhdGlvbldpemFyZE1hY2hpbmUudHJhbnNpdGlvbih1LFwianVtcFRvU2VsZWN0Q29ubmVjdG9yXCIpLmNoYW5nZWR8fHUubWF0Y2hlcyhcInNlbGVjdENvbm5lY3RvclwiKSxlbmFibGVOZXh0OmEuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24odSxcIm5leHRcIikuY2hhbmdlZH0sZCx7bmFtZTppKFwic2VsZWN0T2NtQ2x1c3RlclwiKSxpc0FjdGl2ZTp1Lm1hdGNoZXMoXCJzZWxlY3RDbHVzdGVyXCIpLGNvbXBvbmVudDpuLmNyZWF0ZUVsZW1lbnQocSxudWxsLG4uY3JlYXRlRWxlbWVudCh6LG51bGwpKSxjYW5KdW1wVG86YS5jcmVhdGlvbldpemFyZE1hY2hpbmUudHJhbnNpdGlvbih1LFwianVtcFRvU2VsZWN0Q2x1c3RlclwiKS5jaGFuZ2VkfHx1Lm1hdGNoZXMoXCJzZWxlY3RDbHVzdGVyXCIpLGVuYWJsZU5leHQ6YS5jcmVhdGlvbldpemFyZE1hY2hpbmUudHJhbnNpdGlvbih1LFwibmV4dFwiKS5jaGFuZ2VkfSxwLHtuYW1lOlwiUmV2aWV3XCIsaXNBY3RpdmU6dS5tYXRjaGVzKFwicmV2aWV3Q29uZmlndXJhdGlvblwiKSxjb21wb25lbnQ6bi5jcmVhdGVFbGVtZW50KHEsbnVsbCxuLmNyZWF0ZUVsZW1lbnQoTSxudWxsKSksY2FuSnVtcFRvOmEuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24odSxcImp1bXBUb1Jldmlld0NvbmZpZ3VyYXRpb25cIikuY2hhbmdlZHx8dS5tYXRjaGVzKFwicmV2aWV3Q29uZmlndXJhdGlvblwiKSxlbmFibGVOZXh0OmEuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24odSxcIm5leHRcIikuY2hhbmdlZCxuZXh0QnV0dG9uVGV4dDpcIkNyZWF0ZSBjb25uZWN0b3JcIn1dLGY9RSh2KSxnPWYucmVkdWNlUmlnaHQoKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdC5pc0FjdGl2ZSYmbj5lP246ZX0pLC0xKSsxO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQoYix7Y2xhc3NOYW1lOlwiY29zXCIsc3RlcHM6dixjdXJyZW50U3RlcDpnLG9uTmV4dDpmdW5jdGlvbigpe3JldHVybiBzKFwibmV4dFwiKX0sb25CYWNrOmZ1bmN0aW9uKCl7cmV0dXJuIHMoXCJwcmV2XCIpfSxvbkNsb3NlOm8sb25TYXZlOmZ1bmN0aW9uKCl7cmV0dXJuITF9LGdvVG9TdGVwOmZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIDE6cyhcImp1bXBUb1NlbGVjdENvbm5lY3RvclwiKTticmVhaztjYXNlIDI6cyhcImp1bXBUb1NlbGVjdEthZmthXCIpO2JyZWFrO2Nhc2UgMzpzKFwianVtcFRvU2VsZWN0Q2x1c3RlclwiKTticmVhaztjYXNlIGYubGVuZ3RoOnMoXCJqdW1wVG9SZXZpZXdDb25maWd1cmF0aW9uXCIpO2JyZWFrO2RlZmF1bHQ6ZTxmLmxlbmd0aCYmcyh7dHlwZTpcImp1bXBUb0NvbmZpZ3VyZUNvbm5lY3RvclwiLHN1YlN0ZXA6ZS00fSl9fSxnb1RvU3RlcEJ5SWQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gY29uc29sZS5sb2coXCJnb1RvU3RlcEJ5SWRcIix0KX0sZ29Ub1N0ZXBCeU5hbWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gY29uc29sZS5sb2coXCJnb1RvU3RlcEJ5TmFtZVwiLHQpfSxoYXNOb0JvZHlQYWRkaW5nOiEwfSl9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRpb24td2l6YXJkLmNqcy5wcm9kdWN0aW9uLm1pbi5qcy5tYXBcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///81778\n')},70793:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\n\nif (true) {\n  module.exports = __webpack_require__(81778)\n} else {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2NyZWF0aW9uV2l6YXJkL2Rpc3QvaW5kZXguanM/MDNhMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ1k7O0FBRVosSUFBSSxJQUFxQztBQUN6QyxFQUFFLDJDQUFtRTtBQUNyRSxDQUFDLE1BQU0sRUFFTiIsImZpbGUiOiI3MDc5My5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuJ3VzZSBzdHJpY3QnXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jcmVhdGlvbi13aXphcmQuY2pzLnByb2R1Y3Rpb24ubWluLmpzJylcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jcmVhdGlvbi13aXphcmQuY2pzLmRldmVsb3BtZW50LmpzJylcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///70793\n")},25102:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"JsonSchemaConfigurator\": () => (/* binding */ JsonSchemaConfigurator),\n/* harmony export */   \"createValidator\": () => (/* binding */ createValidator)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(42403);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(53379);\n/* harmony import */ var uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var uniforms_bridge_json_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(25646);\n/* harmony import */ var uniforms_bridge_json_schema__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uniforms_bridge_json_schema__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var ajv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(77586);\n/* harmony import */ var ajv__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ajv__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var uniforms_es5__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(59267);\n/* harmony import */ var uniforms_es5__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(uniforms_es5__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\nvar ajv = /*#__PURE__*/new (ajv__WEBPACK_IMPORTED_MODULE_3___default())({\n  allErrors: true,\n  useDefaults: false,\n  strict: 'log',\n  strictSchema: false\n});\nfunction createValidator(schema) {\n  var validator = ajv.compile(schema);\n  return function (model) {\n    var _validator$errors;\n\n    validator(model);\n    return ((_validator$errors = validator.errors) == null ? void 0 : _validator$errors.length) ? {\n      details: validator.errors\n    } : null;\n  };\n}\nvar JsonSchemaConfigurator = function JsonSchemaConfigurator(_ref) {\n  var schema = _ref.schema,\n      configuration = _ref.configuration,\n      onChange = _ref.onChange;\n  schema.type = schema.type || 'object';\n  var schemaValidator = createValidator(schema);\n  var bridge = new uniforms_bridge_json_schema__WEBPACK_IMPORTED_MODULE_2__.JSONSchemaBridge(schema, schemaValidator);\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__.AutoForm, {\n    schema: bridge,\n    model: configuration,\n    autosave: true,\n    autosaveDelay: 0\n  }, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__.AutoFields, null), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__.ErrorsField, null), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(WizardNext, {\n    onChange: onChange\n  }));\n};\n\nvar WizardNext = function WizardNext(_ref2) {\n  var onChange = _ref2.onChange;\n\n  var _useForm = (0,uniforms_es5__WEBPACK_IMPORTED_MODULE_4__.useForm)(),\n      changed = _useForm.changed,\n      submitted = _useForm.submitted,\n      error = _useForm.error,\n      model = _useForm.model;\n\n  var isValid = !error;\n  var prevChangeModel = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (prevChangeModel.current !== model && changed && submitted) {\n      prevChangeModel.current = model;\n      onChange(isValid ? model : undefined, isValid);\n    }\n  }, [prevChangeModel, changed, submitted, isValid, model, onChange]);\n  return null;\n};\n\n\n//# sourceMappingURL=json-schema-configurator.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2pzb25TY2hlbWFDb25maWd1cmF0b3IvZGlzdC9qc29uLXNjaGVtYS1jb25maWd1cmF0b3IuZXNtLmpzPzZmMzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQWlEO0FBQ3VCO0FBQ1Q7QUFDekM7QUFDaUI7O0FBRXZDLDJCQUEyQiw0Q0FBRztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix5RUFBZ0I7QUFDbkMsU0FBUywwREFBbUIsQ0FBQyx5REFBUTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsRUFBRSwwREFBbUIsQ0FBQywyREFBVSxTQUFTLDBEQUFtQixDQUFDLDREQUFXLFNBQVMsMERBQW1CO0FBQ3ZHO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUEsaUJBQWlCLHFEQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLDZDQUFNO0FBQzlCLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVtRDtBQUNuRCIsImZpbGUiOiIyNTEwMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEF1dG9Gb3JtLCBBdXRvRmllbGRzLCBFcnJvcnNGaWVsZCB9IGZyb20gJ3VuaWZvcm1zLXBhdHRlcm5mbHknO1xuaW1wb3J0IHsgSlNPTlNjaGVtYUJyaWRnZSB9IGZyb20gJ3VuaWZvcm1zLWJyaWRnZS1qc29uLXNjaGVtYSc7XG5pbXBvcnQgQWp2IGZyb20gJ2Fqdic7XG5pbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSAndW5pZm9ybXMvZXM1JztcblxudmFyIGFqdiA9IC8qI19fUFVSRV9fKi9uZXcgQWp2KHtcbiAgYWxsRXJyb3JzOiB0cnVlLFxuICB1c2VEZWZhdWx0czogZmFsc2UsXG4gIHN0cmljdDogJ2xvZycsXG4gIHN0cmljdFNjaGVtYTogZmFsc2Vcbn0pO1xuZnVuY3Rpb24gY3JlYXRlVmFsaWRhdG9yKHNjaGVtYSkge1xuICB2YXIgdmFsaWRhdG9yID0gYWp2LmNvbXBpbGUoc2NoZW1hKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChtb2RlbCkge1xuICAgIHZhciBfdmFsaWRhdG9yJGVycm9ycztcblxuICAgIHZhbGlkYXRvcihtb2RlbCk7XG4gICAgcmV0dXJuICgoX3ZhbGlkYXRvciRlcnJvcnMgPSB2YWxpZGF0b3IuZXJyb3JzKSA9PSBudWxsID8gdm9pZCAwIDogX3ZhbGlkYXRvciRlcnJvcnMubGVuZ3RoKSA/IHtcbiAgICAgIGRldGFpbHM6IHZhbGlkYXRvci5lcnJvcnNcbiAgICB9IDogbnVsbDtcbiAgfTtcbn1cbnZhciBKc29uU2NoZW1hQ29uZmlndXJhdG9yID0gZnVuY3Rpb24gSnNvblNjaGVtYUNvbmZpZ3VyYXRvcihfcmVmKSB7XG4gIHZhciBzY2hlbWEgPSBfcmVmLnNjaGVtYSxcbiAgICAgIGNvbmZpZ3VyYXRpb24gPSBfcmVmLmNvbmZpZ3VyYXRpb24sXG4gICAgICBvbkNoYW5nZSA9IF9yZWYub25DaGFuZ2U7XG4gIHNjaGVtYS50eXBlID0gc2NoZW1hLnR5cGUgfHwgJ29iamVjdCc7XG4gIHZhciBzY2hlbWFWYWxpZGF0b3IgPSBjcmVhdGVWYWxpZGF0b3Ioc2NoZW1hKTtcbiAgdmFyIGJyaWRnZSA9IG5ldyBKU09OU2NoZW1hQnJpZGdlKHNjaGVtYSwgc2NoZW1hVmFsaWRhdG9yKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXV0b0Zvcm0sIHtcbiAgICBzY2hlbWE6IGJyaWRnZSxcbiAgICBtb2RlbDogY29uZmlndXJhdGlvbixcbiAgICBhdXRvc2F2ZTogdHJ1ZSxcbiAgICBhdXRvc2F2ZURlbGF5OiAwXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXV0b0ZpZWxkcywgbnVsbCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRXJyb3JzRmllbGQsIG51bGwpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFdpemFyZE5leHQsIHtcbiAgICBvbkNoYW5nZTogb25DaGFuZ2VcbiAgfSkpO1xufTtcblxudmFyIFdpemFyZE5leHQgPSBmdW5jdGlvbiBXaXphcmROZXh0KF9yZWYyKSB7XG4gIHZhciBvbkNoYW5nZSA9IF9yZWYyLm9uQ2hhbmdlO1xuXG4gIHZhciBfdXNlRm9ybSA9IHVzZUZvcm0oKSxcbiAgICAgIGNoYW5nZWQgPSBfdXNlRm9ybS5jaGFuZ2VkLFxuICAgICAgc3VibWl0dGVkID0gX3VzZUZvcm0uc3VibWl0dGVkLFxuICAgICAgZXJyb3IgPSBfdXNlRm9ybS5lcnJvcixcbiAgICAgIG1vZGVsID0gX3VzZUZvcm0ubW9kZWw7XG5cbiAgdmFyIGlzVmFsaWQgPSAhZXJyb3I7XG4gIHZhciBwcmV2Q2hhbmdlTW9kZWwgPSB1c2VSZWYoKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJldkNoYW5nZU1vZGVsLmN1cnJlbnQgIT09IG1vZGVsICYmIGNoYW5nZWQgJiYgc3VibWl0dGVkKSB7XG4gICAgICBwcmV2Q2hhbmdlTW9kZWwuY3VycmVudCA9IG1vZGVsO1xuICAgICAgb25DaGFuZ2UoaXNWYWxpZCA/IG1vZGVsIDogdW5kZWZpbmVkLCBpc1ZhbGlkKTtcbiAgICB9XG4gIH0sIFtwcmV2Q2hhbmdlTW9kZWwsIGNoYW5nZWQsIHN1Ym1pdHRlZCwgaXNWYWxpZCwgbW9kZWwsIG9uQ2hhbmdlXSk7XG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IHsgSnNvblNjaGVtYUNvbmZpZ3VyYXRvciwgY3JlYXRlVmFsaWRhdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qc29uLXNjaGVtYS1jb25maWd1cmF0b3IuZXNtLmpzLm1hcFxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///25102\n")},83255:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ConnectorsMachineProvider\": () => (/* binding */ ConnectorsMachineProvider),\n/* harmony export */   \"CreationWizardMachineProvider\": () => (/* binding */ CreationWizardMachineProvider),\n/* harmony export */   \"PAGINATED_MACHINE_ID\": () => (/* binding */ PAGINATED_MACHINE_ID),\n/* harmony export */   \"clustersMachine\": () => (/* binding */ clustersMachine),\n/* harmony export */   \"configuratorLoaderMachine\": () => (/* binding */ configuratorLoaderMachine),\n/* harmony export */   \"configuratorMachine\": () => (/* binding */ configuratorMachine),\n/* harmony export */   \"connectorMachine\": () => (/* binding */ connectorMachine),\n/* harmony export */   \"connectorTypesMachine\": () => (/* binding */ connectorTypesMachine),\n/* harmony export */   \"connectorsMachine\": () => (/* binding */ connectorsMachine),\n/* harmony export */   \"creationWizardMachine\": () => (/* binding */ creationWizardMachine),\n/* harmony export */   \"getPaginatedApiMachineEvents\": () => (/* binding */ getPaginatedApiMachineEvents),\n/* harmony export */   \"getPaginatedApiMachineEventsHandlers\": () => (/* binding */ getPaginatedApiMachineEventsHandlers),\n/* harmony export */   \"kafkasMachine\": () => (/* binding */ kafkasMachine),\n/* harmony export */   \"makeConnectorMachine\": () => (/* binding */ makeConnectorMachine),\n/* harmony export */   \"makeFetchMachine\": () => (/* binding */ makeFetchMachine),\n/* harmony export */   \"makePaginatedApiMachine\": () => (/* binding */ makePaginatedApiMachine),\n/* harmony export */   \"reviewMachine\": () => (/* binding */ reviewMachine),\n/* harmony export */   \"useClustersMachine\": () => (/* binding */ useClustersMachine),\n/* harmony export */   \"useClustersMachineIsReady\": () => (/* binding */ useClustersMachineIsReady),\n/* harmony export */   \"useConnector\": () => (/* binding */ useConnector),\n/* harmony export */   \"useConnectorsMachine\": () => (/* binding */ useConnectorsMachine),\n/* harmony export */   \"useConnectorsMachineIsReady\": () => (/* binding */ useConnectorsMachineIsReady),\n/* harmony export */   \"useConnectorsMachineService\": () => (/* binding */ useConnectorsMachineService),\n/* harmony export */   \"useCreationWizardMachineClustersActor\": () => (/* binding */ useCreationWizardMachineClustersActor),\n/* harmony export */   \"useCreationWizardMachineConnectorTypesActor\": () => (/* binding */ useCreationWizardMachineConnectorTypesActor),\n/* harmony export */   \"useCreationWizardMachineKafkasActor\": () => (/* binding */ useCreationWizardMachineKafkasActor),\n/* harmony export */   \"useCreationWizardMachineReviewActor\": () => (/* binding */ useCreationWizardMachineReviewActor),\n/* harmony export */   \"useCreationWizardMachineService\": () => (/* binding */ useCreationWizardMachineService),\n/* harmony export */   \"useKafkasMachine\": () => (/* binding */ useKafkasMachine),\n/* harmony export */   \"useKafkasMachineIsReady\": () => (/* binding */ useKafkasMachineIsReady),\n/* harmony export */   \"usePagination\": () => (/* binding */ usePagination),\n/* harmony export */   \"useReviewMachine\": () => (/* binding */ useReviewMachine)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(42403);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(77616);\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(xstate__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(25612);\n/* harmony import */ var xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(32292);\n/* harmony import */ var xstate_lib_model__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _xstate_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(35471);\n/* harmony import */ var _xstate_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_xstate_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(40107);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(22750);\n/* harmony import */ var _cos_ui_api__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_cos_ui_api__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _cos_ui_json_schema_configurator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(25102);\n\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar startConnector = function startConnector(_ref) {\n  var accessToken = _ref.accessToken,\n      basePath = _ref.basePath,\n      connector = _ref.connector;\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (callback) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    apisService.patchConnector(connector.id, {\n      desired_state: 'ready'\n    }, undefined, {\n      cancelToken: source.token,\n      headers: {\n        'Content-type': 'application/merge-patch+json'\n      }\n    }).then(function (response) {\n      callback({\n        type: 'connector.actionSuccess',\n        connector: response.data\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        callback({\n          type: 'connector.actionError',\n          error: error.response.data.reason\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\nvar stopConnector = function stopConnector(_ref2) {\n  var accessToken = _ref2.accessToken,\n      basePath = _ref2.basePath,\n      connector = _ref2.connector;\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (callback) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    apisService.patchConnector(connector.id, {\n      desired_state: 'stopped'\n    }, undefined, {\n      cancelToken: source.token,\n      headers: {\n        'Content-type': 'application/merge-patch+json'\n      }\n    }).then(function (response) {\n      callback({\n        type: 'connector.actionSuccess',\n        connector: response.data\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        callback({\n          type: 'connector.actionError',\n          error: error.response.data.reason\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\nvar deleteConnector = function deleteConnector(_ref3) {\n  var accessToken = _ref3.accessToken,\n      basePath = _ref3.basePath,\n      connector = _ref3.connector;\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (callback) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    apisService.deleteConnector(connector.id, undefined, {\n      cancelToken: source.token\n    }).then(function () {\n      callback({\n        type: 'connector.actionSuccess',\n        connector: _extends({}, connector, {\n          status: 'deleting',\n          desired_state: 'deleted'\n        })\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        callback({\n          type: 'connector.actionError',\n          error: error.response.data.reason\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\nvar fetchConnectors = function fetchConnectors(accessToken, basePath) {\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (request, onSuccess, onError) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    var page = request.page,\n        size = request.size; // const query = name.length > 0 ? `name LIKE ${name}` : undefined;\n\n    apisService.listConnectors(\"\" + page, \"\" + size, undefined, {\n      cancelToken: source.token\n    }).then(function (response) {\n      onSuccess({\n        items: response.data.items,\n        total: response.data.total,\n        page: response.data.page,\n        size: response.data.size\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        onError({\n          error: error.message,\n          page: request.page\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nvar connectorMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar connectorMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  accessToken: function accessToken() {\n    return Promise.resolve('');\n  },\n  basePath: '',\n  connector: {}\n}, {\n  events: {\n    'connector.start': function connectorStart() {\n      return {};\n    },\n    'connector.stop': function connectorStop() {\n      return {};\n    },\n    'connector.remove': function connectorRemove() {\n      return {};\n    },\n    'connector.select': function connectorSelect() {\n      return {};\n    },\n    'connector.actionSuccess': function connectorActionSuccess(payload) {\n      return payload;\n    },\n    'connector.actionError': function connectorActionError(payload) {\n      return payload;\n    }\n  }\n});\nvar connectorMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: connectorMachineSchema,\n  id: 'connector',\n  initial: 'verify',\n  context: connectorMachineModel.initialContext,\n  states: {\n    verify: {\n      always: [{\n        target: 'ready',\n        cond: 'isReady'\n      }, {\n        target: 'stopped',\n        cond: 'isStopped'\n      }, {\n        target: 'deleted',\n        cond: 'isDeleted'\n      }]\n    },\n    ready: {\n      on: {\n        'connector.stop': 'stoppingConnector',\n        'connector.remove': 'deletingConnector'\n      }\n    },\n    stopped: {\n      on: {\n        'connector.start': 'startingConnector',\n        'connector.remove': 'deletingConnector'\n      }\n    },\n    deleted: {},\n    startingConnector: {\n      invoke: {\n        id: 'startingConnectorCb',\n        src: function src(context) {\n          return startConnector({\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            connector: context.connector\n          });\n        }\n      },\n      on: {\n        'connector.actionSuccess': {\n          target: 'verify',\n          actions: ['updateState', 'notifySuccessToParent']\n        },\n        'connector.actionError': {\n          target: 'verify',\n          actions: 'notifyErrorToParent'\n        }\n      }\n    },\n    stoppingConnector: {\n      invoke: {\n        id: 'stoppingConnectorCb',\n        src: function src(context) {\n          return stopConnector({\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            connector: context.connector\n          });\n        }\n      },\n      on: {\n        'connector.actionSuccess': {\n          target: 'verify',\n          actions: ['updateState', 'notifySuccessToParent']\n        },\n        'connector.actionError': {\n          target: 'verify',\n          actions: 'notifyErrorToParent'\n        }\n      }\n    },\n    deletingConnector: {\n      invoke: {\n        id: 'deletingConnectorCb',\n        src: function src(context) {\n          return deleteConnector({\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            connector: context.connector\n          });\n        }\n      },\n      on: {\n        'connector.actionSuccess': {\n          target: 'deleted',\n          actions: ['updateState', 'notifySuccessToParent']\n        },\n        'connector.actionError': {\n          target: 'verify',\n          actions: 'notifyErrorToParent'\n        }\n      }\n    }\n  },\n  on: {\n    'connector.select': {\n      actions: 'notifySelectToParent'\n    }\n  }\n}, {\n  guards: {\n    isReady: function isReady(context) {\n      return context.connector.desired_state === 'ready';\n    },\n    isStopped: function isStopped(context) {\n      return context.connector.desired_state === 'stopped';\n    },\n    isDeleted: function isDeleted(context) {\n      return context.connector.desired_state === 'deleted';\n    }\n  },\n  actions: {\n    updateState: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'connector.actionSuccess') return {};\n      return {\n        connector: event.connector\n      };\n    }),\n    notifySuccessToParent: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)('actionSuccess'),\n    notifyErrorToParent: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)('actionFailure'),\n    notifySelectToParent: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (_ref) {\n      var connector = _ref.connector;\n      return {\n        type: 'selectConnector',\n        connector: connector\n      };\n    })\n  }\n});\nvar makeConnectorMachine = function makeConnectorMachine(context) {\n  return connectorMachine.withContext(context);\n};\nvar useConnector = function useConnector(ref) {\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(ref, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return {\n      connector: state.context.connector,\n      canStart: connectorMachine.transition(state, 'connector.start').changed === true,\n      canStop: connectorMachine.transition(state, 'connector.stop').changed === true,\n      canDelete: connectorMachine.transition(state, 'connector.remove').changed === true\n    };\n  }, [ref])),\n      connector = _useSelector.connector,\n      canStart = _useSelector.canStart,\n      canStop = _useSelector.canStop,\n      canDelete = _useSelector.canDelete;\n\n  var onStart = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    return ref.send({\n      type: 'connector.start'\n    });\n  }, [ref]);\n  var onStop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    return ref.send({\n      type: 'connector.stop'\n    });\n  }, [ref]);\n  var onDelete = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    return ref.send({\n      type: 'connector.remove'\n    });\n  }, [ref]);\n  var onSelect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    return ref.send({\n      type: 'connector.select'\n    });\n  }, [ref]);\n  return {\n    connector: connector,\n    canStart: canStart,\n    canStop: canStop,\n    canDelete: canDelete,\n    onStart: onStart,\n    onStop: onStop,\n    onDelete: onDelete,\n    onSelect: onSelect\n  };\n};\n\nfunction makeFetchMachine() {\n  var fetchMachineSchema = {\n    context: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n  };\n  var fetchMachineModel = (0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n    data: undefined,\n    error: undefined\n  });\n  return (0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n    schema: fetchMachineSchema,\n    id: 'fetchMachine',\n    context: {},\n    initial: 'loading',\n    states: {\n      loading: {\n        invoke: {\n          id: 'fetchService',\n          src: 'fetchService',\n          onDone: {\n            target: 'success',\n            actions: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n              return {\n                data: event.data\n              };\n            })\n          },\n          onError: {\n            target: 'failure',\n            actions: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n              error: function error(_context, event) {\n                return event.data;\n              }\n            })\n          }\n        }\n      },\n      failure: {\n        type: 'final'\n      },\n      success: {\n        type: 'final',\n        data: function data(_ref) {\n          var _data = _ref.data;\n          return _extends({}, _data);\n        }\n      }\n    }\n  });\n}\n\nvar paginatedApiMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar getPaginatedApiMachineEvents = function getPaginatedApiMachineEvents() {\n  return {\n    'api.refresh': function apiRefresh() {\n      return {};\n    },\n    'api.nextPage': function apiNextPage() {\n      return {};\n    },\n    'api.prevPage': function apiPrevPage() {\n      return {};\n    },\n    'api.query': function apiQuery(payload) {\n      return payload;\n    },\n    'api.setResponse': function apiSetResponse(payload) {\n      return payload;\n    },\n    'api.setError': function apiSetError(payload) {\n      return payload;\n    },\n    // notifyParent\n    'api.ready': function apiReady() {\n      return {};\n    },\n    'api.loading': function apiLoading(payload) {\n      return payload;\n    },\n    'api.success': function apiSuccess(payload) {\n      return payload;\n    },\n    'api.error': function apiError(payload) {\n      return payload;\n    }\n  };\n};\nvar getPaginatedApiMachineEventsHandlers = function getPaginatedApiMachineEventsHandlers(to) {\n  return {\n    'api.refresh': {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    },\n    'api.nextPage': {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    },\n    'api.prevPage': {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    },\n    'api.query': {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    }\n  };\n};\nfunction makePaginatedApiMachine(service, dataTransformer, options) {\n  var paginatedApiMachineModel = (0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n    request: {\n      page: 1,\n      size: 10\n    },\n    response: undefined,\n    pollingEnabled: (options == null ? void 0 : options.pollingEnabled) || false,\n    onBeforeSetResponse: options == null ? void 0 : options.onBeforeSetResponse,\n    dataTransformer: dataTransformer\n  }, {\n    events: _extends({}, getPaginatedApiMachineEvents())\n  });\n\n  var callApi = function callApi(context) {\n    return function (callback) {\n      return service(context.request, function (payload) {\n        return callback(paginatedApiMachineModel.events['api.setResponse'](payload));\n      }, function (payload) {\n        return callback(paginatedApiMachineModel.events['api.setError'](payload));\n      });\n    };\n  };\n\n  return (0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n    schema: paginatedApiMachineSchema,\n    id: 'paginatedApiMachine',\n    context: paginatedApiMachineModel.initialContext,\n    type: 'parallel',\n    states: {\n      api: {\n        initial: 'idle',\n        states: {\n          idle: {\n            entry: 'notifyReady',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              }\n            }\n          },\n          success: {\n            always: [{\n              target: 'queryEmpty',\n              cond: 'isQueryEmpty'\n            }, {\n              target: 'queryResults',\n              cond: 'isQuerySuccesful'\n            }, {\n              target: 'empty',\n              cond: 'isTotalZero'\n            }, {\n              target: 'results'\n            }]\n          },\n          queryEmpty: {\n            tags: 'queryEmpty',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.prevPage': {\n                target: 'loading',\n                actions: 'decreasePage',\n                cond: 'isNotFirstPage'\n              },\n              'api.refresh': {\n                target: 'loading',\n                actions: 'fetch'\n              }\n            }\n          },\n          queryResults: {\n            tags: 'queryResults',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.nextPage': {\n                target: 'loading',\n                actions: 'increasePage',\n                cond: 'isNotLastPage'\n              },\n              'api.prevPage': {\n                target: 'loading',\n                actions: 'decreasePage',\n                cond: 'isNotFirstPage'\n              },\n              'api.refresh': {\n                target: 'loading'\n              }\n            }\n          },\n          empty: {\n            tags: 'empty',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.refresh': {\n                target: 'loading'\n              }\n            }\n          },\n          results: {\n            tags: 'results',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.nextPage': {\n                target: 'loading',\n                actions: 'increasePage',\n                cond: 'isNotLastPage'\n              },\n              'api.prevPage': {\n                target: 'loading',\n                actions: 'decreasePage',\n                cond: 'isNotFirstPage'\n              },\n              'api.refresh': {\n                target: 'loading'\n              }\n            }\n          },\n          error: {\n            tags: 'error',\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.refresh': {\n                target: 'loading'\n              },\n              'api.prevPage': {\n                target: 'loading',\n                actions: 'decreasePage',\n                cond: 'isNotFirstPage'\n              }\n            }\n          },\n          loading: {\n            tags: ['loading'],\n            entry: ['notifyLoading', 'fetch'],\n            on: {\n              'api.query': {\n                target: 'loading',\n                actions: 'query'\n              },\n              'api.setResponse': {\n                target: 'success',\n                actions: ['setResponse', 'notifySuccess']\n              },\n              'api.setError': {\n                target: 'error',\n                actions: ['setError', 'notifyError']\n              }\n            }\n          }\n        },\n        on: {\n          '*': {\n            actions: 'forwardUnknownEventsToParent'\n          }\n        }\n      },\n      polling: {\n        entry: 'fetch',\n        on: {\n          'api.setResponse': {\n            actions: 'setResponse'\n          }\n        },\n        after: {\n          INTERVAL: {\n            cond: 'isPollingEnabled',\n            target: 'polling'\n          }\n        }\n      }\n    }\n  }, {\n    delays: {\n      INTERVAL: 5000\n    },\n    actions: {\n      fetch: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n        if (context.actor && context.actor.stop) {\n          context.actor.stop();\n        }\n\n        var actor = (0,xstate__WEBPACK_IMPORTED_MODULE_1__.spawn)(callApi(context));\n        return {\n          actor: actor\n        };\n      }),\n      setResponse: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context, e) {\n        if (e.type !== 'api.setResponse' || e.page !== context.request.page) return {};\n\n        if (context.onBeforeSetResponse) {\n          var _context$response;\n\n          context.onBeforeSetResponse((_context$response = context.response) == null ? void 0 : _context$response.items);\n        }\n\n        return {\n          response: {\n            items: e.items.map(function (i) {\n              return context.dataTransformer(i);\n            }),\n            total: e.total,\n            error: undefined\n          }\n        };\n      }),\n      setError: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context, e) {\n        var _context$response2, _context$response3;\n\n        if (e.type !== 'api.setError' || e.page !== context.request.page) return {};\n        return {\n          response: {\n            items: ((_context$response2 = context.response) == null ? void 0 : _context$response2.items) || [],\n            total: ((_context$response3 = context.response) == null ? void 0 : _context$response3.total) || 0,\n            error: e.error\n          }\n        };\n      }),\n      increasePage: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n        return {\n          request: _extends({}, context.request, {\n            page: context.request.page + 1\n          })\n        };\n      }),\n      decreasePage: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n        return {\n          request: _extends({}, context.request, {\n            page: context.request.page - 1\n          })\n        };\n      }),\n      query: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context, event) {\n        if (event.type !== 'api.query') return {};\n        var page = event.page,\n            size = event.size,\n            query = event.query;\n        return {\n          request: {\n            page: page || context.request.page,\n            size: size || context.request.size,\n            query: query\n          }\n        };\n      }),\n      notifyReady: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)({\n        type: 'api.ready'\n      }),\n      notifySuccess: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (context) {\n        return _extends({\n          type: 'api.success'\n        }, context.response);\n      }),\n      notifyError: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (context) {\n        var _context$response4;\n\n        return {\n          type: 'api.error',\n          error: (_context$response4 = context.response) == null ? void 0 : _context$response4.error\n        };\n      }),\n      notifyLoading: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (context) {\n        return _extends({\n          type: 'api.loading'\n        }, context.request);\n      }),\n      forwardUnknownEventsToParent: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.pure)(function (_context, event) {\n        if (Object.keys(paginatedApiMachineModel.events).includes(event.type) === false) {\n          return (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (_context, _event, meta) {\n            return meta._event.data;\n          });\n        }\n\n        return [];\n      })\n    },\n    guards: {\n      isNotFirstPage: function isNotFirstPage(context) {\n        return context.response !== undefined && context.request.page > 1;\n      },\n      isNotLastPage: function isNotLastPage(context) {\n        return context.response !== undefined && context.request.size > 0 && context.request.page < Math.ceil(context.response.total / context.request.size);\n      },\n      isTotalZero: function isTotalZero(context) {\n        var _context$response5;\n\n        return ((_context$response5 = context.response) == null ? void 0 : _context$response5.total) === 0;\n      },\n      isQuerySuccesful: function isQuerySuccesful(context) {\n        var _context$response6;\n\n        return context.request.query !== undefined && context.response !== undefined && ((_context$response6 = context.response) == null ? void 0 : _context$response6.total) > 0;\n      },\n      isQueryEmpty: function isQueryEmpty(context) {\n        var _context$response7;\n\n        return context.request.query !== undefined && context.response !== undefined && ((_context$response7 = context.response) == null ? void 0 : _context$response7.total) === 0;\n      },\n      isPollingEnabled: function isPollingEnabled(context) {\n        return context.pollingEnabled;\n      }\n    }\n  });\n} // https://stackoverflow.com/questions/50321419/typescript-returntype-of-generic-function/64919133#64919133\n\nvar usePagination = function usePagination(actor) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return {\n      request: state.context.request,\n      response: state.context.response,\n      loading: state.hasTag('loading'),\n      queryEmpty: state.hasTag('queryEmpty'),\n      queryResults: state.hasTag('queryResults'),\n      noResults: state.hasTag('empty'),\n      results: state.hasTag('results'),\n      error: state.hasTag('error'),\n      firstRequest: state.context.response === undefined\n    };\n  }, [actor]));\n};\n\nvar PAGINATED_MACHINE_ID = 'paginatedApi';\nvar connectorsMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar connectorsMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  accessToken: function accessToken() {\n    return Promise.resolve('');\n  },\n  basePath: '',\n  selectedConnector: undefined\n}, {\n  events: /*#__PURE__*/_extends({}, /*#__PURE__*/getPaginatedApiMachineEvents(), {\n    actionSuccess: function actionSuccess() {\n      return {};\n    },\n    actionFailure: function actionFailure() {\n      return {};\n    },\n    selectConnector: function selectConnector(payload) {\n      return payload;\n    },\n    deselectConnector: function deselectConnector() {\n      return {};\n    }\n  })\n});\nvar connectorsMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: connectorsMachineSchema,\n  id: 'connectors',\n  initial: 'root',\n  context: connectorsMachineModel.initialContext,\n  states: {\n    root: {\n      type: 'parallel',\n      states: {\n        api: {\n          initial: 'idle',\n          invoke: {\n            id: PAGINATED_MACHINE_ID,\n            src: function src(context) {\n              return makePaginatedApiMachine(fetchConnectors(context.accessToken, context.basePath), function (connector) {\n                return (0,xstate__WEBPACK_IMPORTED_MODULE_1__.spawn)(makeConnectorMachine({\n                  accessToken: context.accessToken,\n                  basePath: context.basePath,\n                  connector: connector\n                }), \"connector-\" + connector.id);\n              }, {\n                pollingEnabled: true,\n                onBeforeSetResponse: function onBeforeSetResponse(data) {\n                  if (data) {\n                    data.forEach(function (d) {\n                      if (d && d.stop) {\n                        d.stop();\n                      }\n                    });\n                  }\n                }\n              });\n            }\n          },\n          states: {\n            idle: {\n              on: {\n                'api.ready': 'ready'\n              }\n            },\n            ready: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('api.query', {\n                to: PAGINATED_MACHINE_ID\n              })\n            }\n          },\n          on: /*#__PURE__*/_extends({}, /*#__PURE__*/getPaginatedApiMachineEventsHandlers(PAGINATED_MACHINE_ID), {\n            'api.error': {\n              actions: 'notifyError'\n            },\n            actionSuccess: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('api.query', {\n                to: PAGINATED_MACHINE_ID\n              })\n            },\n            actionFailure: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('api.query', {\n                to: PAGINATED_MACHINE_ID\n              })\n            },\n            selectConnector: {\n              actions: 'setSelectedConnector'\n            },\n            deselectConnector: {\n              actions: 'unsetSelectedConnector'\n            }\n          })\n        },\n        listing: {}\n      }\n    }\n  }\n}, {\n  actions: {\n    setSelectedConnector: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'selectConnector') return {};\n      return {\n        selectedConnector: event.connector\n      };\n    }),\n    unsetSelectedConnector: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'deselectConnector') return {};\n      return {\n        selectedConnector: undefined\n      };\n    }),\n    notifyError: function notifyError(context, event) {\n      console.log(context, event);\n\n      if (event.type === 'api.error' && context.onError) {\n        context.onError(event.error);\n      }\n    }\n  }\n});\nvar useConnectorsMachine = function useConnectorsMachine(service) {\n  var apiData = usePagination(service.state.children[PAGINATED_MACHINE_ID]);\n\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return {\n      selectedConnector: state.context.selectedConnector\n    };\n  }, [service])),\n      selectedConnector = _useSelector.selectedConnector;\n\n  var deselectConnector = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    service.send({\n      type: 'deselectConnector'\n    });\n  }, [service]);\n  return _extends({}, apiData, {\n    selectedConnector: selectedConnector,\n    deselectConnector: deselectConnector\n  });\n};\n\nvar ConnectorsMachineServiceContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar ConnectorsMachineProvider = function ConnectorsMachineProvider(_ref) {\n  var children = _ref.children,\n      accessToken = _ref.accessToken,\n      basePath = _ref.basePath,\n      onError = _ref.onError;\n  var service = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useInterpret)(connectorsMachine, {\n    context: {\n      accessToken: accessToken,\n      basePath: basePath,\n      onError: onError\n    },\n    devTools: true\n  });\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ConnectorsMachineServiceContext.Provider, {\n    value: service\n  }, children);\n};\nvar useConnectorsMachineService = function useConnectorsMachineService() {\n  var service = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ConnectorsMachineServiceContext);\n\n  if (!service) {\n    throw new Error(\"useConnectorsMachineService() must be used in a child of <ConnectorsMachineProvider>\");\n  }\n\n  return service;\n};\nvar useConnectorsMachineIsReady = function useConnectorsMachineIsReady(service) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.matches({\n      root: {\n        api: 'ready'\n      }\n    });\n  }, [service]));\n};\n\nvar PAGINATED_MACHINE_ID$1 = 'paginatedApi';\n\nvar fetchClusters = function fetchClusters(accessToken, basePath) {\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorClustersApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (request, onSuccess, onError) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    var page = request.page,\n        size = request.size;\n    apisService.listConnectorClusters(\"\" + page, \"\" + size, {\n      cancelToken: source.token\n    }).then(function (response) {\n      onSuccess({\n        items: response.data.items,\n        total: response.data.total,\n        page: response.data.page,\n        size: response.data.size\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        onError({\n          error: error.message,\n          page: request.page\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nvar clustersMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar clustersMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  accessToken: function accessToken() {\n    return Promise.resolve('');\n  },\n  basePath: '',\n  clusters: undefined,\n  selectedCluster: undefined,\n  error: undefined\n}, {\n  events: /*#__PURE__*/_extends({\n    selectCluster: function selectCluster(payload) {\n      return _extends({}, payload);\n    },\n    deselectCluster: function deselectCluster() {\n      return {};\n    },\n    confirm: function confirm() {\n      return {};\n    }\n  }, /*#__PURE__*/getPaginatedApiMachineEvents())\n});\nvar clustersMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: clustersMachineSchema,\n  id: 'clusters',\n  initial: 'root',\n  context: clustersMachineModel.initialContext,\n  states: {\n    root: {\n      type: 'parallel',\n      states: {\n        api: {\n          initial: 'idle',\n          invoke: {\n            id: PAGINATED_MACHINE_ID$1,\n            src: function src(context) {\n              return makePaginatedApiMachine(fetchClusters(context.accessToken, context.basePath), function (i) {\n                return i;\n              });\n            }\n          },\n          states: {\n            idle: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('api.query', {\n                to: PAGINATED_MACHINE_ID$1\n              }),\n              on: {\n                'api.ready': 'ready'\n              }\n            },\n            ready: {}\n          },\n          on: /*#__PURE__*/_extends({}, /*#__PURE__*/getPaginatedApiMachineEventsHandlers(PAGINATED_MACHINE_ID$1), {\n            'api.success': {\n              actions: 'success'\n            }\n          })\n        },\n        selection: {\n          id: 'selection',\n          initial: 'verify',\n          states: {\n            verify: {\n              always: [{\n                target: 'selecting',\n                cond: 'noClusterSelected'\n              }, {\n                target: 'valid',\n                cond: 'clusterSelected'\n              }]\n            },\n            selecting: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isInvalid'),\n              on: {\n                selectCluster: {\n                  target: 'valid',\n                  actions: 'selectCluster'\n                }\n              }\n            },\n            valid: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isValid'),\n              on: {\n                selectCluster: {\n                  target: 'verify',\n                  actions: 'selectCluster',\n                  cond: function cond(_, event) {\n                    return event.selectedCluster !== undefined;\n                  }\n                },\n                deselectCluster: {\n                  target: 'verify',\n                  actions: 'reset'\n                },\n                confirm: {\n                  target: '#done',\n                  cond: 'clusterSelected'\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    done: {\n      id: 'done',\n      type: 'final',\n      data: {\n        selectedCluster: function selectedCluster(context) {\n          return context.selectedCluster;\n        }\n      }\n    }\n  }\n}, {\n  actions: {\n    success: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'api.success') return {};\n\n      var response = _objectWithoutPropertiesLoose(event, [\"type\"]);\n\n      return {\n        response: response\n      };\n    }),\n    selectCluster: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedCluster: function selectedCluster(context, event) {\n        if (event.type === 'selectCluster') {\n          var _context$response, _context$response$ite;\n\n          return (_context$response = context.response) == null ? void 0 : (_context$response$ite = _context$response.items) == null ? void 0 : _context$response$ite.find(function (i) {\n            return i.id === event.selectedCluster;\n          });\n        }\n\n        return context.selectedCluster;\n      }\n    }),\n    reset: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedCluster: function selectedCluster(context, event) {\n        return event.type === 'deselectCluster' ? undefined : context.selectedCluster;\n      }\n    })\n  },\n  guards: {\n    clusterSelected: function clusterSelected(context) {\n      return context.selectedCluster !== undefined;\n    },\n    noClusterSelected: function noClusterSelected(context) {\n      return context.selectedCluster === undefined;\n    }\n  }\n});\nvar useClustersMachineIsReady = function useClustersMachineIsReady(actor) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.matches({\n      root: {\n        api: 'ready'\n      }\n    });\n  }, [actor]));\n};\nvar useClustersMachine = function useClustersMachine(actor) {\n  var api = usePagination(actor.state.children[PAGINATED_MACHINE_ID$1]);\n\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    var _state$context$select;\n\n    return {\n      selectedId: (_state$context$select = state.context.selectedCluster) == null ? void 0 : _state$context$select.id\n    };\n  }, [actor])),\n      selectedId = _useSelector.selectedId;\n\n  var onSelect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (selectedCluster) {\n    actor.send({\n      type: 'selectCluster',\n      selectedCluster: selectedCluster\n    });\n  }, [actor]);\n  var onQuery = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (request) {\n    actor.send(_extends({\n      type: 'api.query'\n    }, request));\n  }, [actor]);\n  return _extends({}, api, {\n    selectedId: selectedId,\n    onSelect: onSelect,\n    onQuery: onQuery\n  });\n};\n\nvar configuratorLoaderMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar configuratorLoaderMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: configuratorLoaderMachineSchema,\n  id: 'configurator',\n  initial: 'loading',\n  states: {\n    loading: {\n      invoke: {\n        id: 'fetchConfigurator',\n        src: 'fetchConfigurator',\n        onDone: {\n          target: 'success',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n            return event.data;\n          })\n        },\n        onError: {\n          target: 'failure',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            error: function error(_context, event) {\n              return event.data;\n            }\n          })\n        }\n      }\n    },\n    failure: {\n      entry: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.escalate)(function (context) {\n        return {\n          message: context.error\n        };\n      })\n    },\n    success: {\n      type: 'final',\n      data: function data(_ref) {\n        var Configurator = _ref.Configurator,\n            steps = _ref.steps;\n        return {\n          Configurator: Configurator,\n          steps: steps\n        };\n      }\n    }\n  }\n});\n\nvar configuratorMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar configuratorMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: configuratorMachineSchema,\n  id: 'configurator',\n  initial: 'configuring',\n  context: {\n    connector: {\n      id: 'something',\n      name: 'something',\n      version: '0.1',\n      json_schema: {}\n    },\n    steps: ['one', 'two', 'three'],\n    activeStep: 0,\n    isActiveStepValid: false,\n    configuration: undefined\n  },\n  states: {\n    configuring: {\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isInvalid'),\n      always: [{\n        target: 'valid',\n        cond: 'activeStepValid'\n      }]\n    },\n    valid: {\n      id: 'valid',\n      initial: 'determineStep',\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isValid'),\n      states: {\n        determineStep: {\n          always: [{\n            target: '#valid.lastStep',\n            cond: 'isLastStep'\n          }, {\n            target: '#valid.hasNextStep'\n          }]\n        },\n        hasNextStep: {\n          on: {\n            next: {\n              target: '#configurator.configuring',\n              actions: ['nextStep', 'changedStep']\n            }\n          }\n        },\n        lastStep: {\n          on: {\n            next: '#configurator.configured'\n          }\n        }\n      }\n    },\n    configured: {\n      type: 'final',\n      data: function data(_ref2) {\n        var configuration = _ref2.configuration;\n        return {\n          configuration: configuration\n        };\n      }\n    }\n  },\n  on: {\n    change: {\n      target: 'configuring',\n      actions: 'change'\n    },\n    prev: {\n      target: 'configuring',\n      actions: ['prevStep', 'changedStep']\n    }\n  }\n}, {\n  actions: {\n    nextStep: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n      return {\n        activeStep: Math.min(context.activeStep + 1, context.steps.length - 1),\n        isActiveStepValid: false\n      };\n    }),\n    prevStep: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n      return {\n        activeStep: Math.max(context.activeStep - 1, 0),\n        isActiveStepValid: false\n      };\n    }),\n    change: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      return event.type === 'change' ? {\n        configuration: event.configuration,\n        isActiveStepValid: event.isValid\n      } : {};\n    }),\n    changedStep: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)(function (context) {\n      return {\n        type: 'changedStep',\n        step: context.activeStep\n      };\n    })\n  },\n  guards: {\n    isLastStep: function isLastStep(context) {\n      return context.activeStep === context.steps.length - 1;\n    },\n    activeStepValid: function activeStepValid(context) {\n      return context.isActiveStepValid;\n    }\n  }\n});\n\nvar fetchConnectorTypes = function fetchConnectorTypes(accessToken, basePath) {\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorTypesApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return apisService.listConnectorTypes();\n};\n\nvar connectorTypesMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar connectorTypesMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: connectorTypesMachineSchema,\n  id: 'connectors',\n  initial: 'loading',\n  states: {\n    loading: {\n      invoke: {\n        id: 'fetchConnectors',\n        src: function src(context) {\n          return fetchConnectorTypes(context.accessToken, context.basePath);\n        },\n        onDone: {\n          target: 'verify',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            connectors: function connectors(_context, event) {\n              return event.data.data;\n            }\n          })\n        },\n        onError: {\n          target: 'failure',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            error: function error(_context, event) {\n              return event.data;\n            }\n          })\n        }\n      }\n    },\n    failure: {\n      entry: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.escalate)(function (context) {\n        return {\n          message: context.error\n        };\n      })\n    },\n    verify: {\n      always: [{\n        target: 'selecting',\n        cond: 'noConnectorSelected'\n      }, {\n        target: 'valid',\n        cond: 'connectorSelected'\n      }]\n    },\n    selecting: {\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isInvalid'),\n      on: {\n        selectConnector: {\n          target: 'valid',\n          actions: 'selectConnector',\n          cond: function cond(_, event) {\n            return event.selectedConnector !== undefined;\n          }\n        }\n      }\n    },\n    valid: {\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isValid'),\n      on: {\n        selectConnector: {\n          target: 'verify',\n          actions: 'selectConnector'\n        },\n        deselectConnector: {\n          target: 'verify',\n          actions: 'reset'\n        },\n        confirm: {\n          target: 'done',\n          cond: 'connectorSelected'\n        }\n      }\n    },\n    done: {\n      type: 'final',\n      data: {\n        selectedConnector: function selectedConnector(context) {\n          return context.selectedConnector;\n        }\n      }\n    }\n  }\n}, {\n  actions: {\n    selectConnector: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedConnector: function selectedConnector(context, event) {\n        if (event.type === 'selectConnector') {\n          var _context$connectors, _context$connectors$i;\n\n          return (_context$connectors = context.connectors) == null ? void 0 : (_context$connectors$i = _context$connectors.items) == null ? void 0 : _context$connectors$i.find(function (i) {\n            return i.id === event.selectedConnector;\n          });\n        }\n\n        return context.selectedConnector;\n      }\n    }),\n    reset: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedConnector: function selectedConnector(context, event) {\n        return event.type === 'deselectConnector' ? undefined : context.selectedConnector;\n      }\n    })\n  },\n  guards: {\n    connectorSelected: function connectorSelected(context) {\n      return context.selectedConnector !== undefined;\n    },\n    noConnectorSelected: function noConnectorSelected(context) {\n      return context.selectedConnector === undefined;\n    }\n  }\n});\n\nvar PAGINATED_MACHINE_ID$2 = 'paginatedApi';\n\nvar fetchKafkaInstances = function fetchKafkaInstances(accessToken, basePath) {\n  // TODO: remove after demo\n  basePath = 'https://api.openshift.com';\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.DefaultApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (request, onSuccess, onError) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    var page = request.page,\n        size = request.size,\n        query = request.query;\n\n    var _ref = query || {},\n        name = _ref.name,\n        statuses = _ref.statuses,\n        owner = _ref.owner,\n        cloudProviders = _ref.cloudProviders,\n        regions = _ref.regions;\n\n    var nameSearch = name && name.length > 0 ? \" name LIKE \" + name : undefined;\n    var ownerSearch = owner && owner.length > 0 ? \" owner LIKE \" + owner : undefined;\n    var statusSearch = statuses && statuses.length > 0 ? statuses.map(function (s) {\n      return \"status = \" + s;\n    }).join(' OR ') : undefined;\n    var cloudProviderSearch = cloudProviders && cloudProviders.length > 0 ? cloudProviders.map(function (s) {\n      return \"cloud_provider = \" + s;\n    }).join(' OR ') : undefined;\n    var regionSearch = regions && regions.length > 0 ? regions.map(function (s) {\n      return \"region = \" + s;\n    }).join(' OR ') : undefined;\n    var search = [nameSearch, ownerSearch, statusSearch, cloudProviderSearch, regionSearch].filter(Boolean).map(function (s) {\n      return \"(\" + s + \")\";\n    }).join(' AND ');\n    apisService.getKafkas(\"\" + page, \"\" + size, undefined, search, {\n      cancelToken: source.token\n    }).then(function (response) {\n      onSuccess({\n        items: response.data.items,\n        total: response.data.total,\n        page: response.data.page,\n        size: response.data.size\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        onError({\n          error: error.message,\n          page: request.page\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nvar kafkasMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar kafkasMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  accessToken: function accessToken() {\n    return Promise.resolve('');\n  },\n  basePath: '',\n  instances: undefined,\n  selectedInstance: undefined,\n  error: undefined\n}, {\n  events: /*#__PURE__*/_extends({\n    selectInstance: function selectInstance(payload) {\n      return _extends({}, payload);\n    },\n    deselectInstance: function deselectInstance() {\n      return {};\n    },\n    confirm: function confirm() {\n      return {};\n    }\n  }, /*#__PURE__*/getPaginatedApiMachineEvents())\n});\nvar kafkasMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: kafkasMachineSchema,\n  id: 'kafkas',\n  initial: 'root',\n  context: kafkasMachineModel.initialContext,\n  states: {\n    root: {\n      type: 'parallel',\n      states: {\n        api: {\n          initial: 'idle',\n          invoke: {\n            id: PAGINATED_MACHINE_ID$2,\n            src: function src(context) {\n              return makePaginatedApiMachine(fetchKafkaInstances(context.accessToken, context.basePath), function (i) {\n                return i;\n              });\n            }\n          },\n          states: {\n            idle: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('api.query', {\n                to: PAGINATED_MACHINE_ID$2\n              }),\n              on: {\n                'api.ready': 'ready'\n              }\n            },\n            ready: {}\n          },\n          on: /*#__PURE__*/_extends({}, /*#__PURE__*/getPaginatedApiMachineEventsHandlers(PAGINATED_MACHINE_ID$2), {\n            'api.success': {\n              actions: 'success'\n            }\n          })\n        },\n        selection: {\n          id: 'selection',\n          initial: 'verify',\n          states: {\n            verify: {\n              always: [{\n                target: 'selecting',\n                cond: 'noInstanceSelected'\n              }, {\n                target: 'valid',\n                cond: 'instanceSelected'\n              }]\n            },\n            selecting: {\n              entry: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)('isInvalid'),\n              on: {\n                selectInstance: {\n                  target: 'valid',\n                  actions: 'selectInstance'\n                }\n              }\n            },\n            valid: {\n              entry: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)('isValid'),\n              on: {\n                selectInstance: {\n                  target: 'verify',\n                  actions: 'selectInstance',\n                  cond: function cond(_, event) {\n                    return event.selectedInstance !== undefined;\n                  }\n                },\n                deselectInstance: {\n                  target: 'verify',\n                  actions: 'reset'\n                },\n                confirm: {\n                  target: '#done',\n                  cond: 'instanceSelected'\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    done: {\n      id: 'done',\n      type: 'final',\n      data: {\n        selectedInstance: function selectedInstance(context) {\n          return context.selectedInstance;\n        }\n      }\n    }\n  }\n}, {\n  actions: {\n    success: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'api.success') return {};\n\n      var response = _objectWithoutPropertiesLoose(event, [\"type\"]);\n\n      return {\n        response: response\n      };\n    }),\n    selectInstance: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedInstance: function selectedInstance(context, event) {\n        if (event.type === 'selectInstance') {\n          var _context$response, _context$response$ite;\n\n          return (_context$response = context.response) == null ? void 0 : (_context$response$ite = _context$response.items) == null ? void 0 : _context$response$ite.find(function (i) {\n            return i.id === event.selectedInstance;\n          });\n        }\n\n        return context.selectedInstance;\n      }\n    }),\n    reset: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedInstance: function selectedInstance(context, event) {\n        return event.type === 'deselectInstance' ? undefined : context.selectedInstance;\n      }\n    })\n  },\n  guards: {\n    instanceSelected: function instanceSelected(context) {\n      return context.selectedInstance !== undefined;\n    },\n    noInstanceSelected: function noInstanceSelected(context) {\n      return context.selectedInstance === undefined;\n    }\n  }\n});\nvar useKafkasMachineIsReady = function useKafkasMachineIsReady(actor) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.matches({\n      root: {\n        api: 'ready'\n      }\n    });\n  }, [actor]));\n};\nvar useKafkasMachine = function useKafkasMachine(actor) {\n  var api = usePagination(actor.state.children[PAGINATED_MACHINE_ID$2]);\n\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    var _state$context$select;\n\n    return {\n      selectedId: (_state$context$select = state.context.selectedInstance) == null ? void 0 : _state$context$select.id\n    };\n  }, [actor])),\n      selectedId = _useSelector.selectedId;\n\n  var onSelect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (selectedInstance) {\n    actor.send({\n      type: 'selectInstance',\n      selectedInstance: selectedInstance\n    });\n  }, [actor]);\n  var onQuery = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (request) {\n    actor.send(_extends({\n      type: 'api.query'\n    }, request));\n  }, [actor]);\n  return _extends({}, api, {\n    selectedId: selectedId,\n    onSelect: onSelect,\n    onQuery: onQuery\n  });\n};\n\nvar saveConnector = function saveConnector(_ref) {\n  var accessToken = _ref.accessToken,\n      basePath = _ref.basePath,\n      kafka = _ref.kafka,\n      cluster = _ref.cluster,\n      connectorType = _ref.connectorType,\n      configuration = _ref.configuration,\n      name = _ref.name,\n      userServiceAccount = _ref.userServiceAccount;\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (callback) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    var async = true;\n    var connector = {\n      kind: 'Connector',\n      metadata: {\n        name: name,\n        kafka_id: kafka.id\n      },\n      deployment_location: {\n        kind: 'addon',\n        cluster_id: cluster.id\n      },\n      connector_type_id: connectorType.id,\n      kafka: {\n        bootstrap_server: kafka.bootstrap_server_host || 'demo',\n        client_id: userServiceAccount == null ? void 0 : userServiceAccount.clientId,\n        client_secret: userServiceAccount == null ? void 0 : userServiceAccount.clientSecret\n      },\n      connector_spec: configuration\n    };\n    apisService.createConnector(async, connector, {\n      cancelToken: source.token\n    }).then(function () {\n      callback({\n        type: 'success'\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        callback({\n          type: 'failure',\n          message: error.response.data.reason\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nvar reviewMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar reviewMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  initialConfiguration: undefined,\n  configString: '',\n  name: '',\n  validator: /*#__PURE__*/(0,_cos_ui_json_schema_configurator__WEBPACK_IMPORTED_MODULE_5__.createValidator)({})\n}, {\n  events: {\n    setName: function setName(payload) {\n      return payload;\n    },\n    setServiceAccount: function setServiceAccount(payload) {\n      return payload;\n    },\n    updateConfiguration: function updateConfiguration(payload) {\n      return payload;\n    },\n    save: function save() {\n      return {};\n    },\n    success: function success() {\n      return {};\n    },\n    failure: function failure(payload) {\n      return payload;\n    }\n  }\n});\nvar reviewMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: reviewMachineSchema,\n  id: 'review',\n  initial: 'verify',\n  context: reviewMachineModel.initialContext,\n  entry: 'initialize',\n  states: {\n    verify: {\n      entry: 'verifyConfigString',\n      always: [{\n        target: 'valid',\n        cond: 'isAllConfigured'\n      }, {\n        target: 'reviewing'\n      }]\n    },\n    reviewing: {\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isInvalid'),\n      on: {\n        setName: {\n          target: 'verify',\n          actions: 'setName'\n        },\n        setServiceAccount: {\n          target: 'verify',\n          actions: 'setServiceAccount'\n        },\n        updateConfiguration: {\n          target: 'verify',\n          actions: 'updateConfiguration'\n        }\n      }\n    },\n    valid: {\n      id: 'valid',\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isValid'),\n      on: {\n        setName: {\n          target: 'verify',\n          actions: 'setName'\n        },\n        setServiceAccount: {\n          target: 'verify',\n          actions: 'setServiceAccount'\n        },\n        updateConfiguration: {\n          target: 'verify',\n          actions: 'updateConfiguration'\n        },\n        save: 'saving'\n      }\n    },\n    saving: {\n      invoke: {\n        src: function src(context) {\n          return saveConnector({\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            kafka: context.kafka,\n            cluster: context.cluster,\n            connectorType: context.connectorType,\n            configuration: JSON.parse(context.configString),\n            name: context.name,\n            userServiceAccount: context.userServiceAccount\n          });\n        }\n      },\n      on: {\n        success: 'saved',\n        failure: {\n          target: 'valid',\n          actions: 'setSavingError'\n        }\n      },\n      tags: ['saving']\n    },\n    saved: {\n      type: 'final'\n    }\n  }\n}, {\n  actions: {\n    initialize: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n      return {\n        configString: dataToPrettyString(context.initialConfiguration),\n        validator: (0,_cos_ui_json_schema_configurator__WEBPACK_IMPORTED_MODULE_5__.createValidator)(context.connectorType.json_schema)\n      };\n    }),\n    setName: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      return event.type === 'setName' ? {\n        name: event.name\n      } : {};\n    }),\n    setServiceAccount: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      return event.type === 'setServiceAccount' ? {\n        userServiceAccount: event.serviceAccount\n      } : {};\n    }),\n    updateConfiguration: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      return event.type === 'updateConfiguration' ? {\n        configString: event.data\n      } : {};\n    }),\n    verifyConfigString: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n      var _verifyData = verifyData(context.configString, context.validator),\n          warnings = _verifyData.warnings,\n          error = _verifyData.error;\n\n      return {\n        configStringWarnings: warnings,\n        configStringError: error\n      };\n    }),\n    setSavingError: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      if (event.type !== 'failure') return {};\n      return {\n        savingError: event.message\n      };\n    })\n  },\n  guards: {\n    isAllConfigured: function isAllConfigured(context) {\n      return context.configString !== undefined && context.configStringError === undefined && context.name.length > 0;\n    }\n  }\n});\n\nfunction dataToPrettyString(data) {\n  var dataVal = data instanceof Map ? mapToObject(data) : data;\n\n  try {\n    return JSON.stringify(dataVal, null, 2);\n  } catch (e) {\n    return '';\n  }\n}\n\nfunction mapToObject(inputMap) {\n  var obj = {};\n  inputMap.forEach(function (value, key) {\n    obj[key] = value;\n  });\n  return obj;\n}\n\nfunction verifyData(data, validator) {\n  try {\n    var parsedData = JSON.parse(data);\n    var validationResult = validator(parsedData);\n    return {\n      warnings: validationResult ? validationResult.details.map(function (d) {\n        return d.instancePath + \" \" + d.message;\n      }) : undefined,\n      error: undefined\n    };\n  } catch (e) {\n    return {\n      warnings: undefined,\n      error: \"Invalid JSON: \" + e.message\n    };\n  }\n}\n\nvar useReviewMachine = function useReviewMachine(actor) {\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return {\n      name: state.context.name,\n      serviceAccount: state.context.userServiceAccount,\n      configString: state.context.configString,\n      configStringError: state.context.configStringError,\n      configStringWarnings: state.context.configStringWarnings,\n      isSaving: state.hasTag('saving'),\n      savingError: state.context.savingError\n    };\n  }, [actor])),\n      name = _useSelector.name,\n      serviceAccount = _useSelector.serviceAccount,\n      configString = _useSelector.configString,\n      configStringError = _useSelector.configStringError,\n      configStringWarnings = _useSelector.configStringWarnings,\n      isSaving = _useSelector.isSaving,\n      savingError = _useSelector.savingError;\n\n  var onSetName = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (name) {\n    actor.send({\n      type: 'setName',\n      name: name\n    });\n  }, [actor]);\n  var onSetServiceAccount = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (serviceAccount) {\n    actor.send({\n      type: 'setServiceAccount',\n      serviceAccount: serviceAccount\n    });\n  }, [actor]);\n  var onUpdateConfiguration = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (data) {\n    actor.send({\n      type: 'updateConfiguration',\n      data: data || ''\n    });\n  }, [actor]);\n  return {\n    name: name,\n    serviceAccount: serviceAccount,\n    configString: configString,\n    configStringError: configStringError,\n    configStringWarnings: configStringWarnings,\n    isSaving: isSaving,\n    savingError: savingError,\n    onSetName: onSetName,\n    onSetServiceAccount: onSetServiceAccount,\n    onUpdateConfiguration: onUpdateConfiguration\n  };\n};\n\nvar creationWizardMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar creationWizardMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({}, {\n  events: {\n    isValid: function isValid() {\n      return {};\n    },\n    isInvalid: function isInvalid() {\n      return {};\n    },\n    prev: function prev() {\n      return {};\n    },\n    next: function next() {\n      return {};\n    },\n    changedStep: function changedStep(_ref) {\n      var step = _ref.step;\n      return {\n        step: step\n      };\n    },\n    jumpToSelectKafka: function jumpToSelectKafka() {\n      return {};\n    },\n    jumpToSelectCluster: function jumpToSelectCluster() {\n      return {};\n    },\n    jumpToSelectConnector: function jumpToSelectConnector() {\n      return {};\n    },\n    jumpToConfigureConnector: function jumpToConfigureConnector(_ref2) {\n      var subStep = _ref2.subStep;\n      return {\n        subStep: subStep\n      };\n    },\n    jumpToReviewConfiguration: function jumpToReviewConfiguration() {\n      return {};\n    }\n  }\n});\nvar creationWizardMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: creationWizardMachineSchema,\n  id: 'creationWizard',\n  initial: 'selectConnector',\n  context: creationWizardMachineModel.initialContext,\n  states: {\n    selectConnector: {\n      initial: 'selecting',\n      invoke: {\n        id: 'selectConnectorRef',\n        src: connectorTypesMachine,\n        data: function data(context) {\n          return {\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            selectedConnector: context.selectedConnector\n          };\n        },\n        onDone: {\n          target: 'selectKafka',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n            return {\n              selectedConnector: event.data.selectedConnector,\n              connectorConfiguration: false,\n              activeConfigurationStep: 0,\n              isConfigurationValid: false,\n              configurationSteps: false\n            };\n          })\n        },\n        onError: '.error'\n      },\n      states: {\n        error: {},\n        selecting: {\n          on: {\n            isValid: 'valid'\n          }\n        },\n        valid: {\n          on: {\n            isInvalid: 'selecting',\n            next: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('confirm', {\n                to: 'selectConnectorRef'\n              })\n            }\n          }\n        }\n      }\n    },\n    selectKafka: {\n      initial: 'selecting',\n      invoke: {\n        id: 'selectKafkaInstanceRef',\n        src: kafkasMachine,\n        data: function data(context) {\n          return {\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            selectedInstance: context.selectedKafkaInstance,\n            request: {\n              page: 1,\n              size: 10\n            }\n          };\n        },\n        onDone: {\n          target: 'selectCluster',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            selectedKafkaInstance: function selectedKafkaInstance(_, event) {\n              return event.data.selectedInstance;\n            }\n          })\n        },\n        onError: '.error'\n      },\n      states: {\n        error: {},\n        selecting: {\n          on: {\n            isValid: 'valid'\n          }\n        },\n        valid: {\n          on: {\n            isInvalid: 'selecting',\n            next: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('confirm', {\n                to: 'selectKafkaInstanceRef'\n              })\n            }\n          }\n        }\n      },\n      on: {\n        prev: 'selectConnector'\n      }\n    },\n    selectCluster: {\n      initial: 'selecting',\n      invoke: {\n        id: 'selectClusterRef',\n        src: clustersMachine,\n        data: function data(context) {\n          return {\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            selectedCluster: context.selectedCluster\n          };\n        },\n        onDone: {\n          target: 'configureConnector',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            selectedCluster: function selectedCluster(_, event) {\n              return event.data.selectedCluster;\n            }\n          })\n        },\n        onError: '.error'\n      },\n      states: {\n        error: {},\n        selecting: {\n          on: {\n            isValid: 'valid'\n          }\n        },\n        valid: {\n          on: {\n            isInvalid: 'selecting',\n            next: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('confirm', {\n                to: 'selectClusterRef'\n              })\n            }\n          }\n        }\n      },\n      on: {\n        prev: 'selectKafka'\n      }\n    },\n    configureConnector: {\n      initial: 'loadConfigurator',\n      states: {\n        loadConfigurator: {\n          invoke: {\n            id: 'configuratorLoader',\n            src: 'makeConfiguratorLoaderMachine',\n            data: function data(context) {\n              return {\n                connector: context.selectedConnector\n              };\n            },\n            onDone: {\n              target: 'configure',\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n                return {\n                  Configurator: event.data.Configurator,\n                  configurationSteps: event.data.steps\n                };\n              })\n            },\n            onError: {\n              actions: function actions(_context, event) {\n                return console.error(event.data.message);\n              }\n            }\n          }\n        },\n        configure: {\n          id: 'configure',\n          initial: 'configuring',\n          invoke: {\n            id: 'configuratorRef',\n            src: configuratorMachine,\n            data: function data(context) {\n              return {\n                connector: context.selectedConnector,\n                configuration: context.connectorConfiguration,\n                steps: context.configurationSteps || ['single step'],\n                activeStep: context.activeConfigurationStep || 0,\n                isActiveStepValid: context.connectorConfiguration !== false\n              };\n            },\n            onDone: {\n              target: '#creationWizard.reviewConfiguration',\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n                return {\n                  connectorConfiguration: event.data.configuration || true\n                };\n              })\n            },\n            onError: {\n              actions: function actions(_context, event) {\n                return console.error(event.data.message);\n              }\n            }\n          },\n          states: {\n            configuring: {\n              on: {\n                isValid: 'valid'\n              }\n            },\n            valid: {\n              on: {\n                isInvalid: 'configuring',\n                next: {\n                  actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('next', {\n                    to: 'configuratorRef'\n                  })\n                }\n              }\n            }\n          },\n          on: {\n            prev: [{\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('prev', {\n                to: 'configuratorRef'\n              }),\n              cond: 'areThereSubsteps'\n            }, {\n              target: '#creationWizard.selectCluster'\n            }],\n            changedStep: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n                activeConfigurationStep: function activeConfigurationStep(_, event) {\n                  return event.step;\n                }\n              })\n            }\n          }\n        }\n      }\n    },\n    reviewConfiguration: {\n      id: 'review',\n      initial: 'reviewing',\n      invoke: {\n        id: 'reviewRef',\n        src: reviewMachine,\n        data: function data(context) {\n          return {\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            kafka: context.selectedKafkaInstance,\n            cluster: context.selectedCluster,\n            connectorType: context.selectedConnector,\n            initialConfiguration: context.connectorConfiguration,\n            name: ''\n          };\n        },\n        onDone: {\n          target: '#creationWizard.saved',\n          actions: [/*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n            return {\n              connectorConfiguration: event.data\n            };\n          }), 'notifySave']\n        },\n        onError: {\n          actions: function actions(_context, event) {\n            return console.error(event.data.message);\n          }\n        }\n      },\n      states: {\n        reviewing: {\n          on: {\n            isValid: 'valid'\n          }\n        },\n        valid: {\n          on: {\n            isInvalid: 'reviewing',\n            next: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('save', {\n                to: 'reviewRef'\n              })\n            }\n          }\n        }\n      },\n      on: {\n        prev: 'configureConnector'\n      }\n    },\n    saved: {\n      id: 'saved',\n      type: 'final'\n    }\n  },\n  on: {\n    jumpToSelectConnector: {\n      target: 'selectConnector'\n    },\n    jumpToSelectKafka: {\n      target: 'selectKafka',\n      cond: 'isConnectorSelected'\n    },\n    jumpToSelectCluster: {\n      target: 'selectCluster',\n      cond: 'isKafkaInstanceSelected'\n    },\n    jumpToConfigureConnector: {\n      target: 'configureConnector',\n      cond: 'isClusterSelected',\n      actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n        return {\n          activeConfigurationStep: event.subStep || 0\n        };\n      })\n    },\n    jumpToReviewConfiguration: {\n      target: 'reviewConfiguration',\n      cond: 'isConnectorConfigured'\n    }\n  }\n}, {\n  guards: {\n    isKafkaInstanceSelected: function isKafkaInstanceSelected(context) {\n      return context.selectedKafkaInstance !== undefined;\n    },\n    isClusterSelected: function isClusterSelected(context) {\n      return context.selectedCluster !== undefined;\n    },\n    isConnectorSelected: function isConnectorSelected(context, event) {\n      var subStep = event.subStep;\n\n      if (subStep) {\n        return context.selectedConnector !== undefined && (context.connectorConfiguration !== undefined || subStep <= context.activeConfigurationStep);\n      }\n\n      return context.selectedConnector !== undefined;\n    },\n    isConnectorConfigured: function isConnectorConfigured(context) {\n      if (!context.configurationSteps) {\n        return context.connectorConfiguration !== undefined && context.connectorConfiguration !== false;\n      }\n\n      return context.connectorConfiguration !== undefined && context.connectorConfiguration !== false || context.activeConfigurationStep === context.configurationSteps.length - 1 && context.isConfigurationValid === true;\n    },\n    areThereSubsteps: function areThereSubsteps(context) {\n      return context.activeConfigurationStep > 0;\n    }\n  },\n  actions: {\n    notifySave: function notifySave(context) {\n      if (context.onSave) {\n        context.onSave();\n      }\n    }\n  },\n  services: {\n    makeConfiguratorLoaderMachine: function makeConfiguratorLoaderMachine() {\n      return configuratorLoaderMachine;\n    }\n  }\n});\n\nvar CreationWizardMachineService = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar CreationWizardMachineProvider = function CreationWizardMachineProvider(_ref) {\n  var children = _ref.children,\n      accessToken = _ref.accessToken,\n      basePath = _ref.basePath,\n      _fetchConfigurator = _ref.fetchConfigurator,\n      onSave = _ref.onSave;\n  var makeConfiguratorLoaderMachine = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    return configuratorLoaderMachine.withConfig({\n      services: {\n        fetchConfigurator: function fetchConfigurator(context) {\n          return _fetchConfigurator(context.connector);\n        }\n      }\n    });\n  }, [_fetchConfigurator]);\n  var service = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useInterpret)(creationWizardMachine, {\n    devTools: true,\n    context: {\n      accessToken: accessToken,\n      basePath: basePath,\n      onSave: onSave\n    },\n    services: {\n      makeConfiguratorLoaderMachine: makeConfiguratorLoaderMachine\n    }\n  });\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(CreationWizardMachineService.Provider, {\n    value: service\n  }, children);\n};\nvar useCreationWizardMachineService = function useCreationWizardMachineService() {\n  var service = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CreationWizardMachineService);\n\n  if (!service) {\n    throw new Error(\"useCreationWizardMachineService() must be used in a child of <CreationWizardMachineProvider>\");\n  }\n\n  return service;\n};\nvar useCreationWizardMachineConnectorTypesActor = function useCreationWizardMachineConnectorTypesActor() {\n  var service = useCreationWizardMachineService();\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.children.selectConnectorRef;\n  }, [service]));\n};\nvar useCreationWizardMachineKafkasActor = function useCreationWizardMachineKafkasActor() {\n  var service = useCreationWizardMachineService();\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.children.selectKafkaInstanceRef;\n  }, [service]));\n};\nvar useCreationWizardMachineClustersActor = function useCreationWizardMachineClustersActor() {\n  var service = useCreationWizardMachineService();\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.children.selectClusterRef;\n  }, [service]));\n};\nvar useCreationWizardMachineReviewActor = function useCreationWizardMachineReviewActor() {\n  var service = useCreationWizardMachineService();\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.children.reviewRef;\n  }, [service]));\n};\n\n\n//# sourceMappingURL=machines.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL21hY2hpbmVzL2Rpc3QvbWFjaGluZXMuZXNtLmpzPzY1OGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0U7QUFDMEM7QUFDMUM7QUFDdkI7QUFDVztBQUNoQztBQUNzRjtBQUM3Qzs7QUFFbkU7QUFDQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGFBQWEsdUJBQXVCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQWEsS0FBSyxzREFBYTtBQUN2RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esc0JBQXNCLDBEQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxXQUFXLHFEQUFjO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQWEsS0FBSyxzREFBYTtBQUN2RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esc0JBQXNCLDBEQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxXQUFXLHFEQUFjO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtB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QTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxnREFBZ0Qsb0RBQWE7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGtEQUFXO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsZ0JBQWdCLDJEQUFZO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFNBQVMsMERBQW1CO0FBQzVCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxnQkFBZ0IsaURBQVU7O0FBRTFCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMERBQVcsVUFBVSxrREFBVztBQUN6QztBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxTQUFTLDBEQUFXLFVBQVUsa0RBQVc7QUFDekM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsU0FBUywwREFBVyxVQUFVLGtEQUFXO0FBQ3pDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMERBQVcsVUFBVSxrREFBVztBQUN6QztBQUNBLEdBQUc7QUFDSDs7QUFFeXlCO0FBQ3p5QiIsImZpbGUiOiI4MzI1NS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlQ29udGV4dCwgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZU1hY2hpbmUsIGFzc2lnbiwgY3JlYXRlU2NoZW1hLCBzcGF3biwgc2VuZCBhcyBzZW5kJDEsIHNlbmRQYXJlbnQgYXMgc2VuZFBhcmVudCQxIH0gZnJvbSAneHN0YXRlJztcbmltcG9ydCB7IHNlbmRQYXJlbnQsIHNlbmQsIHB1cmUsIGVzY2FsYXRlIH0gZnJvbSAneHN0YXRlL2xpYi9hY3Rpb25zJztcbmltcG9ydCB7IGNyZWF0ZU1vZGVsIH0gZnJvbSAneHN0YXRlL2xpYi9tb2RlbCc7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciwgdXNlSW50ZXJwcmV0IH0gZnJvbSAnQHhzdGF0ZS9yZWFjdCc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgQ29ubmVjdG9yc0FwaSwgQ29uZmlndXJhdGlvbiwgQ29ubmVjdG9yQ2x1c3RlcnNBcGksIENvbm5lY3RvclR5cGVzQXBpLCBEZWZhdWx0QXBpIH0gZnJvbSAnQGNvcy11aS9hcGknO1xuaW1wb3J0IHsgY3JlYXRlVmFsaWRhdG9yIH0gZnJvbSAnQGNvcy11aS9qc29uLXNjaGVtYS1jb25maWd1cmF0b3InO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIHN0YXJ0Q29ubmVjdG9yID0gZnVuY3Rpb24gc3RhcnRDb25uZWN0b3IoX3JlZikge1xuICB2YXIgYWNjZXNzVG9rZW4gPSBfcmVmLmFjY2Vzc1Rva2VuLFxuICAgICAgYmFzZVBhdGggPSBfcmVmLmJhc2VQYXRoLFxuICAgICAgY29ubmVjdG9yID0gX3JlZi5jb25uZWN0b3I7XG4gIHZhciBhcGlzU2VydmljZSA9IG5ldyBDb25uZWN0b3JzQXBpKG5ldyBDb25maWd1cmF0aW9uKHtcbiAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXG4gICAgYmFzZVBhdGg6IGJhc2VQYXRoXG4gIH0pKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBDYW5jZWxUb2tlbiA9IGF4aW9zLkNhbmNlbFRva2VuO1xuICAgIHZhciBzb3VyY2UgPSBDYW5jZWxUb2tlbi5zb3VyY2UoKTtcbiAgICBhcGlzU2VydmljZS5wYXRjaENvbm5lY3Rvcihjb25uZWN0b3IuaWQsIHtcbiAgICAgIGRlc2lyZWRfc3RhdGU6ICdyZWFkeSdcbiAgICB9LCB1bmRlZmluZWQsIHtcbiAgICAgIGNhbmNlbFRva2VuOiBzb3VyY2UudG9rZW4sXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vbWVyZ2UtcGF0Y2granNvbidcbiAgICAgIH1cbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgY2FsbGJhY2soe1xuICAgICAgICB0eXBlOiAnY29ubmVjdG9yLmFjdGlvblN1Y2Nlc3MnLFxuICAgICAgICBjb25uZWN0b3I6IHJlc3BvbnNlLmRhdGFcbiAgICAgIH0pO1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoIWF4aW9zLmlzQ2FuY2VsKGVycm9yKSkge1xuICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgdHlwZTogJ2Nvbm5lY3Rvci5hY3Rpb25FcnJvcicsXG4gICAgICAgICAgZXJyb3I6IGVycm9yLnJlc3BvbnNlLmRhdGEucmVhc29uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBzb3VyY2UuY2FuY2VsKCdPcGVyYXRpb24gY2FuY2VsZWQgYnkgdGhlIHVzZXIuJyk7XG4gICAgfTtcbiAgfTtcbn07XG52YXIgc3RvcENvbm5lY3RvciA9IGZ1bmN0aW9uIHN0b3BDb25uZWN0b3IoX3JlZjIpIHtcbiAgdmFyIGFjY2Vzc1Rva2VuID0gX3JlZjIuYWNjZXNzVG9rZW4sXG4gICAgICBiYXNlUGF0aCA9IF9yZWYyLmJhc2VQYXRoLFxuICAgICAgY29ubmVjdG9yID0gX3JlZjIuY29ubmVjdG9yO1xuICB2YXIgYXBpc1NlcnZpY2UgPSBuZXcgQ29ubmVjdG9yc0FwaShuZXcgQ29uZmlndXJhdGlvbih7XG4gICAgYWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuLFxuICAgIGJhc2VQYXRoOiBiYXNlUGF0aFxuICB9KSk7XG4gIHJldHVybiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgQ2FuY2VsVG9rZW4gPSBheGlvcy5DYW5jZWxUb2tlbjtcbiAgICB2YXIgc291cmNlID0gQ2FuY2VsVG9rZW4uc291cmNlKCk7XG4gICAgYXBpc1NlcnZpY2UucGF0Y2hDb25uZWN0b3IoY29ubmVjdG9yLmlkLCB7XG4gICAgICBkZXNpcmVkX3N0YXRlOiAnc3RvcHBlZCdcbiAgICB9LCB1bmRlZmluZWQsIHtcbiAgICAgIGNhbmNlbFRva2VuOiBzb3VyY2UudG9rZW4sXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vbWVyZ2UtcGF0Y2granNvbidcbiAgICAgIH1cbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgY2FsbGJhY2soe1xuICAgICAgICB0eXBlOiAnY29ubmVjdG9yLmFjdGlvblN1Y2Nlc3MnLFxuICAgICAgICBjb25uZWN0b3I6IHJlc3BvbnNlLmRhdGFcbiAgICAgIH0pO1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoIWF4aW9zLmlzQ2FuY2VsKGVycm9yKSkge1xuICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgdHlwZTogJ2Nvbm5lY3Rvci5hY3Rpb25FcnJvcicsXG4gICAgICAgICAgZXJyb3I6IGVycm9yLnJlc3BvbnNlLmRhdGEucmVhc29uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBzb3VyY2UuY2FuY2VsKCdPcGVyYXRpb24gY2FuY2VsZWQgYnkgdGhlIHVzZXIuJyk7XG4gICAgfTtcbiAgfTtcbn07XG52YXIgZGVsZXRlQ29ubmVjdG9yID0gZnVuY3Rpb24gZGVsZXRlQ29ubmVjdG9yKF9yZWYzKSB7XG4gIHZhciBhY2Nlc3NUb2tlbiA9IF9yZWYzLmFjY2Vzc1Rva2VuLFxuICAgICAgYmFzZVBhdGggPSBfcmVmMy5iYXNlUGF0aCxcbiAgICAgIGNvbm5lY3RvciA9IF9yZWYzLmNvbm5lY3RvcjtcbiAgdmFyIGFwaXNTZXJ2aWNlID0gbmV3IENvbm5lY3RvcnNBcGkobmV3IENvbmZpZ3VyYXRpb24oe1xuICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICBiYXNlUGF0aDogYmFzZVBhdGhcbiAgfSkpO1xuICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIENhbmNlbFRva2VuID0gYXhpb3MuQ2FuY2VsVG9rZW47XG4gICAgdmFyIHNvdXJjZSA9IENhbmNlbFRva2VuLnNvdXJjZSgpO1xuICAgIGFwaXNTZXJ2aWNlLmRlbGV0ZUNvbm5lY3Rvcihjb25uZWN0b3IuaWQsIHVuZGVmaW5lZCwge1xuICAgICAgY2FuY2VsVG9rZW46IHNvdXJjZS50b2tlblxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2soe1xuICAgICAgICB0eXBlOiAnY29ubmVjdG9yLmFjdGlvblN1Y2Nlc3MnLFxuICAgICAgICBjb25uZWN0b3I6IF9leHRlbmRzKHt9LCBjb25uZWN0b3IsIHtcbiAgICAgICAgICBzdGF0dXM6ICdkZWxldGluZycsXG4gICAgICAgICAgZGVzaXJlZF9zdGF0ZTogJ2RlbGV0ZWQnXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKCFheGlvcy5pc0NhbmNlbChlcnJvcikpIHtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgIHR5cGU6ICdjb25uZWN0b3IuYWN0aW9uRXJyb3InLFxuICAgICAgICAgIGVycm9yOiBlcnJvci5yZXNwb25zZS5kYXRhLnJlYXNvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgc291cmNlLmNhbmNlbCgnT3BlcmF0aW9uIGNhbmNlbGVkIGJ5IHRoZSB1c2VyLicpO1xuICAgIH07XG4gIH07XG59O1xudmFyIGZldGNoQ29ubmVjdG9ycyA9IGZ1bmN0aW9uIGZldGNoQ29ubmVjdG9ycyhhY2Nlc3NUb2tlbiwgYmFzZVBhdGgpIHtcbiAgdmFyIGFwaXNTZXJ2aWNlID0gbmV3IENvbm5lY3RvcnNBcGkobmV3IENvbmZpZ3VyYXRpb24oe1xuICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICBiYXNlUGF0aDogYmFzZVBhdGhcbiAgfSkpO1xuICByZXR1cm4gZnVuY3Rpb24gKHJlcXVlc3QsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBDYW5jZWxUb2tlbiA9IGF4aW9zLkNhbmNlbFRva2VuO1xuICAgIHZhciBzb3VyY2UgPSBDYW5jZWxUb2tlbi5zb3VyY2UoKTtcbiAgICB2YXIgcGFnZSA9IHJlcXVlc3QucGFnZSxcbiAgICAgICAgc2l6ZSA9IHJlcXVlc3Quc2l6ZTsgLy8gY29uc3QgcXVlcnkgPSBuYW1lLmxlbmd0aCA+IDAgPyBgbmFtZSBMSUtFICR7bmFtZX1gIDogdW5kZWZpbmVkO1xuXG4gICAgYXBpc1NlcnZpY2UubGlzdENvbm5lY3RvcnMoXCJcIiArIHBhZ2UsIFwiXCIgKyBzaXplLCB1bmRlZmluZWQsIHtcbiAgICAgIGNhbmNlbFRva2VuOiBzb3VyY2UudG9rZW5cbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgb25TdWNjZXNzKHtcbiAgICAgICAgaXRlbXM6IHJlc3BvbnNlLmRhdGEuaXRlbXMsXG4gICAgICAgIHRvdGFsOiByZXNwb25zZS5kYXRhLnRvdGFsLFxuICAgICAgICBwYWdlOiByZXNwb25zZS5kYXRhLnBhZ2UsXG4gICAgICAgIHNpemU6IHJlc3BvbnNlLmRhdGEuc2l6ZVxuICAgICAgfSk7XG4gICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIGlmICghYXhpb3MuaXNDYW5jZWwoZXJyb3IpKSB7XG4gICAgICAgIG9uRXJyb3Ioe1xuICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgIHBhZ2U6IHJlcXVlc3QucGFnZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgc291cmNlLmNhbmNlbCgnT3BlcmF0aW9uIGNhbmNlbGVkIGJ5IHRoZSB1c2VyLicpO1xuICAgIH07XG4gIH07XG59O1xuXG52YXIgY29ubmVjdG9yTWFjaGluZVNjaGVtYSA9IHtcbiAgY29udGV4dDogLyojX19QVVJFX18qL2NyZWF0ZVNjaGVtYSgpXG59O1xudmFyIGNvbm5lY3Rvck1hY2hpbmVNb2RlbCA9IC8qI19fUFVSRV9fKi9jcmVhdGVNb2RlbCh7XG4gIGFjY2Vzc1Rva2VuOiBmdW5jdGlvbiBhY2Nlc3NUb2tlbigpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCcnKTtcbiAgfSxcbiAgYmFzZVBhdGg6ICcnLFxuICBjb25uZWN0b3I6IHt9XG59LCB7XG4gIGV2ZW50czoge1xuICAgICdjb25uZWN0b3Iuc3RhcnQnOiBmdW5jdGlvbiBjb25uZWN0b3JTdGFydCgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgICdjb25uZWN0b3Iuc3RvcCc6IGZ1bmN0aW9uIGNvbm5lY3RvclN0b3AoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICAnY29ubmVjdG9yLnJlbW92ZSc6IGZ1bmN0aW9uIGNvbm5lY3RvclJlbW92ZSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgICdjb25uZWN0b3Iuc2VsZWN0JzogZnVuY3Rpb24gY29ubmVjdG9yU2VsZWN0KCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgJ2Nvbm5lY3Rvci5hY3Rpb25TdWNjZXNzJzogZnVuY3Rpb24gY29ubmVjdG9yQWN0aW9uU3VjY2VzcyhwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9LFxuICAgICdjb25uZWN0b3IuYWN0aW9uRXJyb3InOiBmdW5jdGlvbiBjb25uZWN0b3JBY3Rpb25FcnJvcihwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9XG4gIH1cbn0pO1xudmFyIGNvbm5lY3Rvck1hY2hpbmUgPSAvKiNfX1BVUkVfXyovY3JlYXRlTWFjaGluZSh7XG4gIHNjaGVtYTogY29ubmVjdG9yTWFjaGluZVNjaGVtYSxcbiAgaWQ6ICdjb25uZWN0b3InLFxuICBpbml0aWFsOiAndmVyaWZ5JyxcbiAgY29udGV4dDogY29ubmVjdG9yTWFjaGluZU1vZGVsLmluaXRpYWxDb250ZXh0LFxuICBzdGF0ZXM6IHtcbiAgICB2ZXJpZnk6IHtcbiAgICAgIGFsd2F5czogW3tcbiAgICAgICAgdGFyZ2V0OiAncmVhZHknLFxuICAgICAgICBjb25kOiAnaXNSZWFkeSdcbiAgICAgIH0sIHtcbiAgICAgICAgdGFyZ2V0OiAnc3RvcHBlZCcsXG4gICAgICAgIGNvbmQ6ICdpc1N0b3BwZWQnXG4gICAgICB9LCB7XG4gICAgICAgIHRhcmdldDogJ2RlbGV0ZWQnLFxuICAgICAgICBjb25kOiAnaXNEZWxldGVkJ1xuICAgICAgfV1cbiAgICB9LFxuICAgIHJlYWR5OiB7XG4gICAgICBvbjoge1xuICAgICAgICAnY29ubmVjdG9yLnN0b3AnOiAnc3RvcHBpbmdDb25uZWN0b3InLFxuICAgICAgICAnY29ubmVjdG9yLnJlbW92ZSc6ICdkZWxldGluZ0Nvbm5lY3RvcidcbiAgICAgIH1cbiAgICB9LFxuICAgIHN0b3BwZWQ6IHtcbiAgICAgIG9uOiB7XG4gICAgICAgICdjb25uZWN0b3Iuc3RhcnQnOiAnc3RhcnRpbmdDb25uZWN0b3InLFxuICAgICAgICAnY29ubmVjdG9yLnJlbW92ZSc6ICdkZWxldGluZ0Nvbm5lY3RvcidcbiAgICAgIH1cbiAgICB9LFxuICAgIGRlbGV0ZWQ6IHt9LFxuICAgIHN0YXJ0aW5nQ29ubmVjdG9yOiB7XG4gICAgICBpbnZva2U6IHtcbiAgICAgICAgaWQ6ICdzdGFydGluZ0Nvbm5lY3RvckNiJyxcbiAgICAgICAgc3JjOiBmdW5jdGlvbiBzcmMoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBzdGFydENvbm5lY3Rvcih7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY29udGV4dC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VQYXRoOiBjb250ZXh0LmJhc2VQYXRoLFxuICAgICAgICAgICAgY29ubmVjdG9yOiBjb250ZXh0LmNvbm5lY3RvclxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgJ2Nvbm5lY3Rvci5hY3Rpb25TdWNjZXNzJzoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogWyd1cGRhdGVTdGF0ZScsICdub3RpZnlTdWNjZXNzVG9QYXJlbnQnXVxuICAgICAgICB9LFxuICAgICAgICAnY29ubmVjdG9yLmFjdGlvbkVycm9yJzoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogJ25vdGlmeUVycm9yVG9QYXJlbnQnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHN0b3BwaW5nQ29ubmVjdG9yOiB7XG4gICAgICBpbnZva2U6IHtcbiAgICAgICAgaWQ6ICdzdG9wcGluZ0Nvbm5lY3RvckNiJyxcbiAgICAgICAgc3JjOiBmdW5jdGlvbiBzcmMoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBzdG9wQ29ubmVjdG9yKHtcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBjb250ZXh0LmFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgYmFzZVBhdGg6IGNvbnRleHQuYmFzZVBhdGgsXG4gICAgICAgICAgICBjb25uZWN0b3I6IGNvbnRleHQuY29ubmVjdG9yXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICAnY29ubmVjdG9yLmFjdGlvblN1Y2Nlc3MnOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiBbJ3VwZGF0ZVN0YXRlJywgJ25vdGlmeVN1Y2Nlc3NUb1BhcmVudCddXG4gICAgICAgIH0sXG4gICAgICAgICdjb25uZWN0b3IuYWN0aW9uRXJyb3InOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiAnbm90aWZ5RXJyb3JUb1BhcmVudCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZGVsZXRpbmdDb25uZWN0b3I6IHtcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ2RlbGV0aW5nQ29ubmVjdG9yQ2InLFxuICAgICAgICBzcmM6IGZ1bmN0aW9uIHNyYyhjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIGRlbGV0ZUNvbm5lY3Rvcih7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY29udGV4dC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VQYXRoOiBjb250ZXh0LmJhc2VQYXRoLFxuICAgICAgICAgICAgY29ubmVjdG9yOiBjb250ZXh0LmNvbm5lY3RvclxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgJ2Nvbm5lY3Rvci5hY3Rpb25TdWNjZXNzJzoge1xuICAgICAgICAgIHRhcmdldDogJ2RlbGV0ZWQnLFxuICAgICAgICAgIGFjdGlvbnM6IFsndXBkYXRlU3RhdGUnLCAnbm90aWZ5U3VjY2Vzc1RvUGFyZW50J11cbiAgICAgICAgfSxcbiAgICAgICAgJ2Nvbm5lY3Rvci5hY3Rpb25FcnJvcic6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgIGFjdGlvbnM6ICdub3RpZnlFcnJvclRvUGFyZW50J1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBvbjoge1xuICAgICdjb25uZWN0b3Iuc2VsZWN0Jzoge1xuICAgICAgYWN0aW9uczogJ25vdGlmeVNlbGVjdFRvUGFyZW50J1xuICAgIH1cbiAgfVxufSwge1xuICBndWFyZHM6IHtcbiAgICBpc1JlYWR5OiBmdW5jdGlvbiBpc1JlYWR5KGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmNvbm5lY3Rvci5kZXNpcmVkX3N0YXRlID09PSAncmVhZHknO1xuICAgIH0sXG4gICAgaXNTdG9wcGVkOiBmdW5jdGlvbiBpc1N0b3BwZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuY29ubmVjdG9yLmRlc2lyZWRfc3RhdGUgPT09ICdzdG9wcGVkJztcbiAgICB9LFxuICAgIGlzRGVsZXRlZDogZnVuY3Rpb24gaXNEZWxldGVkKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmNvbm5lY3Rvci5kZXNpcmVkX3N0YXRlID09PSAnZGVsZXRlZCc7XG4gICAgfVxuICB9LFxuICBhY3Rpb25zOiB7XG4gICAgdXBkYXRlU3RhdGU6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdjb25uZWN0b3IuYWN0aW9uU3VjY2VzcycpIHJldHVybiB7fTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbm5lY3RvcjogZXZlbnQuY29ubmVjdG9yXG4gICAgICB9O1xuICAgIH0pLFxuICAgIG5vdGlmeVN1Y2Nlc3NUb1BhcmVudDogLyojX19QVVJFX18qL3NlbmRQYXJlbnQoJ2FjdGlvblN1Y2Nlc3MnKSxcbiAgICBub3RpZnlFcnJvclRvUGFyZW50OiAvKiNfX1BVUkVfXyovc2VuZFBhcmVudCgnYWN0aW9uRmFpbHVyZScpLFxuICAgIG5vdGlmeVNlbGVjdFRvUGFyZW50OiAvKiNfX1BVUkVfXyovc2VuZFBhcmVudChmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIGNvbm5lY3RvciA9IF9yZWYuY29ubmVjdG9yO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ3NlbGVjdENvbm5lY3RvcicsXG4gICAgICAgIGNvbm5lY3RvcjogY29ubmVjdG9yXG4gICAgICB9O1xuICAgIH0pXG4gIH1cbn0pO1xudmFyIG1ha2VDb25uZWN0b3JNYWNoaW5lID0gZnVuY3Rpb24gbWFrZUNvbm5lY3Rvck1hY2hpbmUoY29udGV4dCkge1xuICByZXR1cm4gY29ubmVjdG9yTWFjaGluZS53aXRoQ29udGV4dChjb250ZXh0KTtcbn07XG52YXIgdXNlQ29ubmVjdG9yID0gZnVuY3Rpb24gdXNlQ29ubmVjdG9yKHJlZikge1xuICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IocmVmLCB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29ubmVjdG9yOiBzdGF0ZS5jb250ZXh0LmNvbm5lY3RvcixcbiAgICAgIGNhblN0YXJ0OiBjb25uZWN0b3JNYWNoaW5lLnRyYW5zaXRpb24oc3RhdGUsICdjb25uZWN0b3Iuc3RhcnQnKS5jaGFuZ2VkID09PSB0cnVlLFxuICAgICAgY2FuU3RvcDogY29ubmVjdG9yTWFjaGluZS50cmFuc2l0aW9uKHN0YXRlLCAnY29ubmVjdG9yLnN0b3AnKS5jaGFuZ2VkID09PSB0cnVlLFxuICAgICAgY2FuRGVsZXRlOiBjb25uZWN0b3JNYWNoaW5lLnRyYW5zaXRpb24oc3RhdGUsICdjb25uZWN0b3IucmVtb3ZlJykuY2hhbmdlZCA9PT0gdHJ1ZVxuICAgIH07XG4gIH0sIFtyZWZdKSksXG4gICAgICBjb25uZWN0b3IgPSBfdXNlU2VsZWN0b3IuY29ubmVjdG9yLFxuICAgICAgY2FuU3RhcnQgPSBfdXNlU2VsZWN0b3IuY2FuU3RhcnQsXG4gICAgICBjYW5TdG9wID0gX3VzZVNlbGVjdG9yLmNhblN0b3AsXG4gICAgICBjYW5EZWxldGUgPSBfdXNlU2VsZWN0b3IuY2FuRGVsZXRlO1xuXG4gIHZhciBvblN0YXJ0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZWYuc2VuZCh7XG4gICAgICB0eXBlOiAnY29ubmVjdG9yLnN0YXJ0J1xuICAgIH0pO1xuICB9LCBbcmVmXSk7XG4gIHZhciBvblN0b3AgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlZi5zZW5kKHtcbiAgICAgIHR5cGU6ICdjb25uZWN0b3Iuc3RvcCdcbiAgICB9KTtcbiAgfSwgW3JlZl0pO1xuICB2YXIgb25EZWxldGUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlZi5zZW5kKHtcbiAgICAgIHR5cGU6ICdjb25uZWN0b3IucmVtb3ZlJ1xuICAgIH0pO1xuICB9LCBbcmVmXSk7XG4gIHZhciBvblNlbGVjdCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmVmLnNlbmQoe1xuICAgICAgdHlwZTogJ2Nvbm5lY3Rvci5zZWxlY3QnXG4gICAgfSk7XG4gIH0sIFtyZWZdKTtcbiAgcmV0dXJuIHtcbiAgICBjb25uZWN0b3I6IGNvbm5lY3RvcixcbiAgICBjYW5TdGFydDogY2FuU3RhcnQsXG4gICAgY2FuU3RvcDogY2FuU3RvcCxcbiAgICBjYW5EZWxldGU6IGNhbkRlbGV0ZSxcbiAgICBvblN0YXJ0OiBvblN0YXJ0LFxuICAgIG9uU3RvcDogb25TdG9wLFxuICAgIG9uRGVsZXRlOiBvbkRlbGV0ZSxcbiAgICBvblNlbGVjdDogb25TZWxlY3RcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIG1ha2VGZXRjaE1hY2hpbmUoKSB7XG4gIHZhciBmZXRjaE1hY2hpbmVTY2hlbWEgPSB7XG4gICAgY29udGV4dDogY3JlYXRlU2NoZW1hKClcbiAgfTtcbiAgdmFyIGZldGNoTWFjaGluZU1vZGVsID0gY3JlYXRlTW9kZWwoe1xuICAgIGRhdGE6IHVuZGVmaW5lZCxcbiAgICBlcnJvcjogdW5kZWZpbmVkXG4gIH0pO1xuICByZXR1cm4gY3JlYXRlTWFjaGluZSh7XG4gICAgc2NoZW1hOiBmZXRjaE1hY2hpbmVTY2hlbWEsXG4gICAgaWQ6ICdmZXRjaE1hY2hpbmUnLFxuICAgIGNvbnRleHQ6IHt9LFxuICAgIGluaXRpYWw6ICdsb2FkaW5nJyxcbiAgICBzdGF0ZXM6IHtcbiAgICAgIGxvYWRpbmc6IHtcbiAgICAgICAgaW52b2tlOiB7XG4gICAgICAgICAgaWQ6ICdmZXRjaFNlcnZpY2UnLFxuICAgICAgICAgIHNyYzogJ2ZldGNoU2VydmljZScsXG4gICAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgICB0YXJnZXQ6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgIGFjdGlvbnM6IGFzc2lnbihmdW5jdGlvbiAoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZGF0YTogZXZlbnQuZGF0YVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRXJyb3I6IHtcbiAgICAgICAgICAgIHRhcmdldDogJ2ZhaWx1cmUnLFxuICAgICAgICAgICAgYWN0aW9uczogYXNzaWduKHtcbiAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudC5kYXRhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGZhaWx1cmU6IHtcbiAgICAgICAgdHlwZTogJ2ZpbmFsJ1xuICAgICAgfSxcbiAgICAgIHN1Y2Nlc3M6IHtcbiAgICAgICAgdHlwZTogJ2ZpbmFsJyxcbiAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShfcmVmKSB7XG4gICAgICAgICAgdmFyIF9kYXRhID0gX3JlZi5kYXRhO1xuICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgX2RhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxudmFyIHBhZ2luYXRlZEFwaU1hY2hpbmVTY2hlbWEgPSB7XG4gIGNvbnRleHQ6IC8qI19fUFVSRV9fKi9jcmVhdGVTY2hlbWEoKVxufTtcbnZhciBnZXRQYWdpbmF0ZWRBcGlNYWNoaW5lRXZlbnRzID0gZnVuY3Rpb24gZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50cygpIHtcbiAgcmV0dXJuIHtcbiAgICAnYXBpLnJlZnJlc2gnOiBmdW5jdGlvbiBhcGlSZWZyZXNoKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgJ2FwaS5uZXh0UGFnZSc6IGZ1bmN0aW9uIGFwaU5leHRQYWdlKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgJ2FwaS5wcmV2UGFnZSc6IGZ1bmN0aW9uIGFwaVByZXZQYWdlKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgJ2FwaS5xdWVyeSc6IGZ1bmN0aW9uIGFwaVF1ZXJ5KHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0sXG4gICAgJ2FwaS5zZXRSZXNwb25zZSc6IGZ1bmN0aW9uIGFwaVNldFJlc3BvbnNlKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0sXG4gICAgJ2FwaS5zZXRFcnJvcic6IGZ1bmN0aW9uIGFwaVNldEVycm9yKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0sXG4gICAgLy8gbm90aWZ5UGFyZW50XG4gICAgJ2FwaS5yZWFkeSc6IGZ1bmN0aW9uIGFwaVJlYWR5KCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgJ2FwaS5sb2FkaW5nJzogZnVuY3Rpb24gYXBpTG9hZGluZyhwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9LFxuICAgICdhcGkuc3VjY2Vzcyc6IGZ1bmN0aW9uIGFwaVN1Y2Nlc3MocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSxcbiAgICAnYXBpLmVycm9yJzogZnVuY3Rpb24gYXBpRXJyb3IocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfVxuICB9O1xufTtcbnZhciBnZXRQYWdpbmF0ZWRBcGlNYWNoaW5lRXZlbnRzSGFuZGxlcnMgPSBmdW5jdGlvbiBnZXRQYWdpbmF0ZWRBcGlNYWNoaW5lRXZlbnRzSGFuZGxlcnModG8pIHtcbiAgcmV0dXJuIHtcbiAgICAnYXBpLnJlZnJlc2gnOiB7XG4gICAgICBhY3Rpb25zOiBzZW5kKGZ1bmN0aW9uIChfLCBlKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfSwge1xuICAgICAgICB0bzogdG9cbiAgICAgIH0pXG4gICAgfSxcbiAgICAnYXBpLm5leHRQYWdlJzoge1xuICAgICAgYWN0aW9uczogc2VuZChmdW5jdGlvbiAoXywgZSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH0sIHtcbiAgICAgICAgdG86IHRvXG4gICAgICB9KVxuICAgIH0sXG4gICAgJ2FwaS5wcmV2UGFnZSc6IHtcbiAgICAgIGFjdGlvbnM6IHNlbmQoZnVuY3Rpb24gKF8sIGUpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9LCB7XG4gICAgICAgIHRvOiB0b1xuICAgICAgfSlcbiAgICB9LFxuICAgICdhcGkucXVlcnknOiB7XG4gICAgICBhY3Rpb25zOiBzZW5kKGZ1bmN0aW9uIChfLCBlKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfSwge1xuICAgICAgICB0bzogdG9cbiAgICAgIH0pXG4gICAgfVxuICB9O1xufTtcbmZ1bmN0aW9uIG1ha2VQYWdpbmF0ZWRBcGlNYWNoaW5lKHNlcnZpY2UsIGRhdGFUcmFuc2Zvcm1lciwgb3B0aW9ucykge1xuICB2YXIgcGFnaW5hdGVkQXBpTWFjaGluZU1vZGVsID0gY3JlYXRlTW9kZWwoe1xuICAgIHJlcXVlc3Q6IHtcbiAgICAgIHBhZ2U6IDEsXG4gICAgICBzaXplOiAxMFxuICAgIH0sXG4gICAgcmVzcG9uc2U6IHVuZGVmaW5lZCxcbiAgICBwb2xsaW5nRW5hYmxlZDogKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucG9sbGluZ0VuYWJsZWQpIHx8IGZhbHNlLFxuICAgIG9uQmVmb3JlU2V0UmVzcG9uc2U6IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMub25CZWZvcmVTZXRSZXNwb25zZSxcbiAgICBkYXRhVHJhbnNmb3JtZXI6IGRhdGFUcmFuc2Zvcm1lclxuICB9LCB7XG4gICAgZXZlbnRzOiBfZXh0ZW5kcyh7fSwgZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50cygpKVxuICB9KTtcblxuICB2YXIgY2FsbEFwaSA9IGZ1bmN0aW9uIGNhbGxBcGkoY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBzZXJ2aWNlKGNvbnRleHQucmVxdWVzdCwgZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHBhZ2luYXRlZEFwaU1hY2hpbmVNb2RlbC5ldmVudHNbJ2FwaS5zZXRSZXNwb25zZSddKHBheWxvYWQpKTtcbiAgICAgIH0sIGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhwYWdpbmF0ZWRBcGlNYWNoaW5lTW9kZWwuZXZlbnRzWydhcGkuc2V0RXJyb3InXShwYXlsb2FkKSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiBjcmVhdGVNYWNoaW5lKHtcbiAgICBzY2hlbWE6IHBhZ2luYXRlZEFwaU1hY2hpbmVTY2hlbWEsXG4gICAgaWQ6ICdwYWdpbmF0ZWRBcGlNYWNoaW5lJyxcbiAgICBjb250ZXh0OiBwYWdpbmF0ZWRBcGlNYWNoaW5lTW9kZWwuaW5pdGlhbENvbnRleHQsXG4gICAgdHlwZTogJ3BhcmFsbGVsJyxcbiAgICBzdGF0ZXM6IHtcbiAgICAgIGFwaToge1xuICAgICAgICBpbml0aWFsOiAnaWRsZScsXG4gICAgICAgIHN0YXRlczoge1xuICAgICAgICAgIGlkbGU6IHtcbiAgICAgICAgICAgIGVudHJ5OiAnbm90aWZ5UmVhZHknLFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgJ2FwaS5xdWVyeSc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiAncXVlcnknXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHN1Y2Nlc3M6IHtcbiAgICAgICAgICAgIGFsd2F5czogW3tcbiAgICAgICAgICAgICAgdGFyZ2V0OiAncXVlcnlFbXB0eScsXG4gICAgICAgICAgICAgIGNvbmQ6ICdpc1F1ZXJ5RW1wdHknXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIHRhcmdldDogJ3F1ZXJ5UmVzdWx0cycsXG4gICAgICAgICAgICAgIGNvbmQ6ICdpc1F1ZXJ5U3VjY2VzZnVsJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICB0YXJnZXQ6ICdlbXB0eScsXG4gICAgICAgICAgICAgIGNvbmQ6ICdpc1RvdGFsWmVybydcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiAncmVzdWx0cydcbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfSxcbiAgICAgICAgICBxdWVyeUVtcHR5OiB7XG4gICAgICAgICAgICB0YWdzOiAncXVlcnlFbXB0eScsXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAnYXBpLnF1ZXJ5Jzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdxdWVyeSdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FwaS5wcmV2UGFnZSc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiAnZGVjcmVhc2VQYWdlJyxcbiAgICAgICAgICAgICAgICBjb25kOiAnaXNOb3RGaXJzdFBhZ2UnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhcGkucmVmcmVzaCc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiAnZmV0Y2gnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHF1ZXJ5UmVzdWx0czoge1xuICAgICAgICAgICAgdGFnczogJ3F1ZXJ5UmVzdWx0cycsXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAnYXBpLnF1ZXJ5Jzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdxdWVyeSdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FwaS5uZXh0UGFnZSc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiAnaW5jcmVhc2VQYWdlJyxcbiAgICAgICAgICAgICAgICBjb25kOiAnaXNOb3RMYXN0UGFnZSdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FwaS5wcmV2UGFnZSc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiAnZGVjcmVhc2VQYWdlJyxcbiAgICAgICAgICAgICAgICBjb25kOiAnaXNOb3RGaXJzdFBhZ2UnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhcGkucmVmcmVzaCc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbXB0eToge1xuICAgICAgICAgICAgdGFnczogJ2VtcHR5JyxcbiAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICdhcGkucXVlcnknOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogJ3F1ZXJ5J1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnYXBpLnJlZnJlc2gnOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZydcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVzdWx0czoge1xuICAgICAgICAgICAgdGFnczogJ3Jlc3VsdHMnLFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgJ2FwaS5xdWVyeSc6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiAncXVlcnknXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhcGkubmV4dFBhZ2UnOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogJ2luY3JlYXNlUGFnZScsXG4gICAgICAgICAgICAgICAgY29uZDogJ2lzTm90TGFzdFBhZ2UnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhcGkucHJldlBhZ2UnOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogJ2RlY3JlYXNlUGFnZScsXG4gICAgICAgICAgICAgICAgY29uZDogJ2lzTm90Rmlyc3RQYWdlJ1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnYXBpLnJlZnJlc2gnOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZydcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgIHRhZ3M6ICdlcnJvcicsXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAnYXBpLnF1ZXJ5Jzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdxdWVyeSdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FwaS5yZWZyZXNoJzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhcGkucHJldlBhZ2UnOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogJ2RlY3JlYXNlUGFnZScsXG4gICAgICAgICAgICAgICAgY29uZDogJ2lzTm90Rmlyc3RQYWdlJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsb2FkaW5nOiB7XG4gICAgICAgICAgICB0YWdzOiBbJ2xvYWRpbmcnXSxcbiAgICAgICAgICAgIGVudHJ5OiBbJ25vdGlmeUxvYWRpbmcnLCAnZmV0Y2gnXSxcbiAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICdhcGkucXVlcnknOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogJ3F1ZXJ5J1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnYXBpLnNldFJlc3BvbnNlJzoge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFsnc2V0UmVzcG9uc2UnLCAnbm90aWZ5U3VjY2VzcyddXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhcGkuc2V0RXJyb3InOiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFsnc2V0RXJyb3InLCAnbm90aWZ5RXJyb3InXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbjoge1xuICAgICAgICAgICcqJzoge1xuICAgICAgICAgICAgYWN0aW9uczogJ2ZvcndhcmRVbmtub3duRXZlbnRzVG9QYXJlbnQnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcG9sbGluZzoge1xuICAgICAgICBlbnRyeTogJ2ZldGNoJyxcbiAgICAgICAgb246IHtcbiAgICAgICAgICAnYXBpLnNldFJlc3BvbnNlJzoge1xuICAgICAgICAgICAgYWN0aW9uczogJ3NldFJlc3BvbnNlJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYWZ0ZXI6IHtcbiAgICAgICAgICBJTlRFUlZBTDoge1xuICAgICAgICAgICAgY29uZDogJ2lzUG9sbGluZ0VuYWJsZWQnLFxuICAgICAgICAgICAgdGFyZ2V0OiAncG9sbGluZydcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBkZWxheXM6IHtcbiAgICAgIElOVEVSVkFMOiA1MDAwXG4gICAgfSxcbiAgICBhY3Rpb25zOiB7XG4gICAgICBmZXRjaDogYXNzaWduKGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0LmFjdG9yICYmIGNvbnRleHQuYWN0b3Iuc3RvcCkge1xuICAgICAgICAgIGNvbnRleHQuYWN0b3Iuc3RvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFjdG9yID0gc3Bhd24oY2FsbEFwaShjb250ZXh0KSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYWN0b3I6IGFjdG9yXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIHNldFJlc3BvbnNlOiBhc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQsIGUpIHtcbiAgICAgICAgaWYgKGUudHlwZSAhPT0gJ2FwaS5zZXRSZXNwb25zZScgfHwgZS5wYWdlICE9PSBjb250ZXh0LnJlcXVlc3QucGFnZSkgcmV0dXJuIHt9O1xuXG4gICAgICAgIGlmIChjb250ZXh0Lm9uQmVmb3JlU2V0UmVzcG9uc2UpIHtcbiAgICAgICAgICB2YXIgX2NvbnRleHQkcmVzcG9uc2U7XG5cbiAgICAgICAgICBjb250ZXh0Lm9uQmVmb3JlU2V0UmVzcG9uc2UoKF9jb250ZXh0JHJlc3BvbnNlID0gY29udGV4dC5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jb250ZXh0JHJlc3BvbnNlLml0ZW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgIGl0ZW1zOiBlLml0ZW1zLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5kYXRhVHJhbnNmb3JtZXIoaSk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHRvdGFsOiBlLnRvdGFsLFxuICAgICAgICAgICAgZXJyb3I6IHVuZGVmaW5lZFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgc2V0RXJyb3I6IGFzc2lnbihmdW5jdGlvbiAoY29udGV4dCwgZSkge1xuICAgICAgICB2YXIgX2NvbnRleHQkcmVzcG9uc2UyLCBfY29udGV4dCRyZXNwb25zZTM7XG5cbiAgICAgICAgaWYgKGUudHlwZSAhPT0gJ2FwaS5zZXRFcnJvcicgfHwgZS5wYWdlICE9PSBjb250ZXh0LnJlcXVlc3QucGFnZSkgcmV0dXJuIHt9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICBpdGVtczogKChfY29udGV4dCRyZXNwb25zZTIgPSBjb250ZXh0LnJlc3BvbnNlKSA9PSBudWxsID8gdm9pZCAwIDogX2NvbnRleHQkcmVzcG9uc2UyLml0ZW1zKSB8fCBbXSxcbiAgICAgICAgICAgIHRvdGFsOiAoKF9jb250ZXh0JHJlc3BvbnNlMyA9IGNvbnRleHQucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfY29udGV4dCRyZXNwb25zZTMudG90YWwpIHx8IDAsXG4gICAgICAgICAgICBlcnJvcjogZS5lcnJvclxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgaW5jcmVhc2VQYWdlOiBhc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXF1ZXN0OiBfZXh0ZW5kcyh7fSwgY29udGV4dC5yZXF1ZXN0LCB7XG4gICAgICAgICAgICBwYWdlOiBjb250ZXh0LnJlcXVlc3QucGFnZSArIDFcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBkZWNyZWFzZVBhZ2U6IGFzc2lnbihmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlcXVlc3Q6IF9leHRlbmRzKHt9LCBjb250ZXh0LnJlcXVlc3QsIHtcbiAgICAgICAgICAgIHBhZ2U6IGNvbnRleHQucmVxdWVzdC5wYWdlIC0gMVxuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIHF1ZXJ5OiBhc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50eXBlICE9PSAnYXBpLnF1ZXJ5JykgcmV0dXJuIHt9O1xuICAgICAgICB2YXIgcGFnZSA9IGV2ZW50LnBhZ2UsXG4gICAgICAgICAgICBzaXplID0gZXZlbnQuc2l6ZSxcbiAgICAgICAgICAgIHF1ZXJ5ID0gZXZlbnQucXVlcnk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVxdWVzdDoge1xuICAgICAgICAgICAgcGFnZTogcGFnZSB8fCBjb250ZXh0LnJlcXVlc3QucGFnZSxcbiAgICAgICAgICAgIHNpemU6IHNpemUgfHwgY29udGV4dC5yZXF1ZXN0LnNpemUsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnlcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIG5vdGlmeVJlYWR5OiBzZW5kUGFyZW50KHtcbiAgICAgICAgdHlwZTogJ2FwaS5yZWFkeSdcbiAgICAgIH0pLFxuICAgICAgbm90aWZ5U3VjY2Vzczogc2VuZFBhcmVudChmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgICAgIHR5cGU6ICdhcGkuc3VjY2VzcydcbiAgICAgICAgfSwgY29udGV4dC5yZXNwb25zZSk7XG4gICAgICB9KSxcbiAgICAgIG5vdGlmeUVycm9yOiBzZW5kUGFyZW50KGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHZhciBfY29udGV4dCRyZXNwb25zZTQ7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnYXBpLmVycm9yJyxcbiAgICAgICAgICBlcnJvcjogKF9jb250ZXh0JHJlc3BvbnNlNCA9IGNvbnRleHQucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfY29udGV4dCRyZXNwb25zZTQuZXJyb3JcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgbm90aWZ5TG9hZGluZzogc2VuZFBhcmVudChmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgICAgIHR5cGU6ICdhcGkubG9hZGluZydcbiAgICAgICAgfSwgY29udGV4dC5yZXF1ZXN0KTtcbiAgICAgIH0pLFxuICAgICAgZm9yd2FyZFVua25vd25FdmVudHNUb1BhcmVudDogcHVyZShmdW5jdGlvbiAoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhwYWdpbmF0ZWRBcGlNYWNoaW5lTW9kZWwuZXZlbnRzKS5pbmNsdWRlcyhldmVudC50eXBlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gc2VuZFBhcmVudChmdW5jdGlvbiAoX2NvbnRleHQsIF9ldmVudCwgbWV0YSkge1xuICAgICAgICAgICAgcmV0dXJuIG1ldGEuX2V2ZW50LmRhdGE7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW107XG4gICAgICB9KVxuICAgIH0sXG4gICAgZ3VhcmRzOiB7XG4gICAgICBpc05vdEZpcnN0UGFnZTogZnVuY3Rpb24gaXNOb3RGaXJzdFBhZ2UoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gY29udGV4dC5yZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmIGNvbnRleHQucmVxdWVzdC5wYWdlID4gMTtcbiAgICAgIH0sXG4gICAgICBpc05vdExhc3RQYWdlOiBmdW5jdGlvbiBpc05vdExhc3RQYWdlKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQucmVzcG9uc2UgIT09IHVuZGVmaW5lZCAmJiBjb250ZXh0LnJlcXVlc3Quc2l6ZSA+IDAgJiYgY29udGV4dC5yZXF1ZXN0LnBhZ2UgPCBNYXRoLmNlaWwoY29udGV4dC5yZXNwb25zZS50b3RhbCAvIGNvbnRleHQucmVxdWVzdC5zaXplKTtcbiAgICAgIH0sXG4gICAgICBpc1RvdGFsWmVybzogZnVuY3Rpb24gaXNUb3RhbFplcm8oY29udGV4dCkge1xuICAgICAgICB2YXIgX2NvbnRleHQkcmVzcG9uc2U1O1xuXG4gICAgICAgIHJldHVybiAoKF9jb250ZXh0JHJlc3BvbnNlNSA9IGNvbnRleHQucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfY29udGV4dCRyZXNwb25zZTUudG90YWwpID09PSAwO1xuICAgICAgfSxcbiAgICAgIGlzUXVlcnlTdWNjZXNmdWw6IGZ1bmN0aW9uIGlzUXVlcnlTdWNjZXNmdWwoY29udGV4dCkge1xuICAgICAgICB2YXIgX2NvbnRleHQkcmVzcG9uc2U2O1xuXG4gICAgICAgIHJldHVybiBjb250ZXh0LnJlcXVlc3QucXVlcnkgIT09IHVuZGVmaW5lZCAmJiBjb250ZXh0LnJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiYgKChfY29udGV4dCRyZXNwb25zZTYgPSBjb250ZXh0LnJlc3BvbnNlKSA9PSBudWxsID8gdm9pZCAwIDogX2NvbnRleHQkcmVzcG9uc2U2LnRvdGFsKSA+IDA7XG4gICAgICB9LFxuICAgICAgaXNRdWVyeUVtcHR5OiBmdW5jdGlvbiBpc1F1ZXJ5RW1wdHkoY29udGV4dCkge1xuICAgICAgICB2YXIgX2NvbnRleHQkcmVzcG9uc2U3O1xuXG4gICAgICAgIHJldHVybiBjb250ZXh0LnJlcXVlc3QucXVlcnkgIT09IHVuZGVmaW5lZCAmJiBjb250ZXh0LnJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiYgKChfY29udGV4dCRyZXNwb25zZTcgPSBjb250ZXh0LnJlc3BvbnNlKSA9PSBudWxsID8gdm9pZCAwIDogX2NvbnRleHQkcmVzcG9uc2U3LnRvdGFsKSA9PT0gMDtcbiAgICAgIH0sXG4gICAgICBpc1BvbGxpbmdFbmFibGVkOiBmdW5jdGlvbiBpc1BvbGxpbmdFbmFibGVkKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQucG9sbGluZ0VuYWJsZWQ7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn0gLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTAzMjE0MTkvdHlwZXNjcmlwdC1yZXR1cm50eXBlLW9mLWdlbmVyaWMtZnVuY3Rpb24vNjQ5MTkxMzMjNjQ5MTkxMzNcblxudmFyIHVzZVBhZ2luYXRpb24gPSBmdW5jdGlvbiB1c2VQYWdpbmF0aW9uKGFjdG9yKSB7XG4gIHJldHVybiB1c2VTZWxlY3RvcihhY3RvciwgdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcXVlc3Q6IHN0YXRlLmNvbnRleHQucmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlOiBzdGF0ZS5jb250ZXh0LnJlc3BvbnNlLFxuICAgICAgbG9hZGluZzogc3RhdGUuaGFzVGFnKCdsb2FkaW5nJyksXG4gICAgICBxdWVyeUVtcHR5OiBzdGF0ZS5oYXNUYWcoJ3F1ZXJ5RW1wdHknKSxcbiAgICAgIHF1ZXJ5UmVzdWx0czogc3RhdGUuaGFzVGFnKCdxdWVyeVJlc3VsdHMnKSxcbiAgICAgIG5vUmVzdWx0czogc3RhdGUuaGFzVGFnKCdlbXB0eScpLFxuICAgICAgcmVzdWx0czogc3RhdGUuaGFzVGFnKCdyZXN1bHRzJyksXG4gICAgICBlcnJvcjogc3RhdGUuaGFzVGFnKCdlcnJvcicpLFxuICAgICAgZmlyc3RSZXF1ZXN0OiBzdGF0ZS5jb250ZXh0LnJlc3BvbnNlID09PSB1bmRlZmluZWRcbiAgICB9O1xuICB9LCBbYWN0b3JdKSk7XG59O1xuXG52YXIgUEFHSU5BVEVEX01BQ0hJTkVfSUQgPSAncGFnaW5hdGVkQXBpJztcbnZhciBjb25uZWN0b3JzTWFjaGluZVNjaGVtYSA9IHtcbiAgY29udGV4dDogLyojX19QVVJFX18qL2NyZWF0ZVNjaGVtYSgpXG59O1xudmFyIGNvbm5lY3RvcnNNYWNoaW5lTW9kZWwgPSAvKiNfX1BVUkVfXyovY3JlYXRlTW9kZWwoe1xuICBhY2Nlc3NUb2tlbjogZnVuY3Rpb24gYWNjZXNzVG9rZW4oKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgnJyk7XG4gIH0sXG4gIGJhc2VQYXRoOiAnJyxcbiAgc2VsZWN0ZWRDb25uZWN0b3I6IHVuZGVmaW5lZFxufSwge1xuICBldmVudHM6IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7fSwgLyojX19QVVJFX18qL2dldFBhZ2luYXRlZEFwaU1hY2hpbmVFdmVudHMoKSwge1xuICAgIGFjdGlvblN1Y2Nlc3M6IGZ1bmN0aW9uIGFjdGlvblN1Y2Nlc3MoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBhY3Rpb25GYWlsdXJlOiBmdW5jdGlvbiBhY3Rpb25GYWlsdXJlKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgc2VsZWN0Q29ubmVjdG9yOiBmdW5jdGlvbiBzZWxlY3RDb25uZWN0b3IocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSxcbiAgICBkZXNlbGVjdENvbm5lY3RvcjogZnVuY3Rpb24gZGVzZWxlY3RDb25uZWN0b3IoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9KVxufSk7XG52YXIgY29ubmVjdG9yc01hY2hpbmUgPSAvKiNfX1BVUkVfXyovY3JlYXRlTWFjaGluZSh7XG4gIHNjaGVtYTogY29ubmVjdG9yc01hY2hpbmVTY2hlbWEsXG4gIGlkOiAnY29ubmVjdG9ycycsXG4gIGluaXRpYWw6ICdyb290JyxcbiAgY29udGV4dDogY29ubmVjdG9yc01hY2hpbmVNb2RlbC5pbml0aWFsQ29udGV4dCxcbiAgc3RhdGVzOiB7XG4gICAgcm9vdDoge1xuICAgICAgdHlwZTogJ3BhcmFsbGVsJyxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBhcGk6IHtcbiAgICAgICAgICBpbml0aWFsOiAnaWRsZScsXG4gICAgICAgICAgaW52b2tlOiB7XG4gICAgICAgICAgICBpZDogUEFHSU5BVEVEX01BQ0hJTkVfSUQsXG4gICAgICAgICAgICBzcmM6IGZ1bmN0aW9uIHNyYyhjb250ZXh0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBtYWtlUGFnaW5hdGVkQXBpTWFjaGluZShmZXRjaENvbm5lY3RvcnMoY29udGV4dC5hY2Nlc3NUb2tlbiwgY29udGV4dC5iYXNlUGF0aCksIGZ1bmN0aW9uIChjb25uZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Bhd24obWFrZUNvbm5lY3Rvck1hY2hpbmUoe1xuICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IGNvbnRleHQuYWNjZXNzVG9rZW4sXG4gICAgICAgICAgICAgICAgICBiYXNlUGF0aDogY29udGV4dC5iYXNlUGF0aCxcbiAgICAgICAgICAgICAgICAgIGNvbm5lY3RvcjogY29ubmVjdG9yXG4gICAgICAgICAgICAgICAgfSksIFwiY29ubmVjdG9yLVwiICsgY29ubmVjdG9yLmlkKTtcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHBvbGxpbmdFbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG9uQmVmb3JlU2V0UmVzcG9uc2U6IGZ1bmN0aW9uIG9uQmVmb3JlU2V0UmVzcG9uc2UoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGQgJiYgZC5zdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdGF0ZXM6IHtcbiAgICAgICAgICAgIGlkbGU6IHtcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAnYXBpLnJlYWR5JzogJ3JlYWR5J1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVhZHk6IHtcbiAgICAgICAgICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kJDEoJ2FwaS5xdWVyeScsIHtcbiAgICAgICAgICAgICAgICB0bzogUEFHSU5BVEVEX01BQ0hJTkVfSURcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uOiAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9nZXRQYWdpbmF0ZWRBcGlNYWNoaW5lRXZlbnRzSGFuZGxlcnMoUEFHSU5BVEVEX01BQ0hJTkVfSUQpLCB7XG4gICAgICAgICAgICAnYXBpLmVycm9yJzoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiAnbm90aWZ5RXJyb3InXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWN0aW9uU3VjY2Vzczoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovc2VuZCQxKCdhcGkucXVlcnknLCB7XG4gICAgICAgICAgICAgICAgdG86IFBBR0lOQVRFRF9NQUNISU5FX0lEXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWN0aW9uRmFpbHVyZToge1xuICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovc2VuZCQxKCdhcGkucXVlcnknLCB7XG4gICAgICAgICAgICAgICAgdG86IFBBR0lOQVRFRF9NQUNISU5FX0lEXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VsZWN0Q29ubmVjdG9yOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6ICdzZXRTZWxlY3RlZENvbm5lY3RvcidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXNlbGVjdENvbm5lY3Rvcjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiAndW5zZXRTZWxlY3RlZENvbm5lY3RvcidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBsaXN0aW5nOiB7fVxuICAgICAgfVxuICAgIH1cbiAgfVxufSwge1xuICBhY3Rpb25zOiB7XG4gICAgc2V0U2VsZWN0ZWRDb25uZWN0b3I6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdzZWxlY3RDb25uZWN0b3InKSByZXR1cm4ge307XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzZWxlY3RlZENvbm5lY3RvcjogZXZlbnQuY29ubmVjdG9yXG4gICAgICB9O1xuICAgIH0pLFxuICAgIHVuc2V0U2VsZWN0ZWRDb25uZWN0b3I6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdkZXNlbGVjdENvbm5lY3RvcicpIHJldHVybiB7fTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNlbGVjdGVkQ29ubmVjdG9yOiB1bmRlZmluZWRcbiAgICAgIH07XG4gICAgfSksXG4gICAgbm90aWZ5RXJyb3I6IGZ1bmN0aW9uIG5vdGlmeUVycm9yKGNvbnRleHQsIGV2ZW50KSB7XG4gICAgICBjb25zb2xlLmxvZyhjb250ZXh0LCBldmVudCk7XG5cbiAgICAgIGlmIChldmVudC50eXBlID09PSAnYXBpLmVycm9yJyAmJiBjb250ZXh0Lm9uRXJyb3IpIHtcbiAgICAgICAgY29udGV4dC5vbkVycm9yKGV2ZW50LmVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xudmFyIHVzZUNvbm5lY3RvcnNNYWNoaW5lID0gZnVuY3Rpb24gdXNlQ29ubmVjdG9yc01hY2hpbmUoc2VydmljZSkge1xuICB2YXIgYXBpRGF0YSA9IHVzZVBhZ2luYXRpb24oc2VydmljZS5zdGF0ZS5jaGlsZHJlbltQQUdJTkFURURfTUFDSElORV9JRF0pO1xuXG4gIHZhciBfdXNlU2VsZWN0b3IgPSB1c2VTZWxlY3RvcihzZXJ2aWNlLCB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2VsZWN0ZWRDb25uZWN0b3I6IHN0YXRlLmNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3JcbiAgICB9O1xuICB9LCBbc2VydmljZV0pKSxcbiAgICAgIHNlbGVjdGVkQ29ubmVjdG9yID0gX3VzZVNlbGVjdG9yLnNlbGVjdGVkQ29ubmVjdG9yO1xuXG4gIHZhciBkZXNlbGVjdENvbm5lY3RvciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBzZXJ2aWNlLnNlbmQoe1xuICAgICAgdHlwZTogJ2Rlc2VsZWN0Q29ubmVjdG9yJ1xuICAgIH0pO1xuICB9LCBbc2VydmljZV0pO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIGFwaURhdGEsIHtcbiAgICBzZWxlY3RlZENvbm5lY3Rvcjogc2VsZWN0ZWRDb25uZWN0b3IsXG4gICAgZGVzZWxlY3RDb25uZWN0b3I6IGRlc2VsZWN0Q29ubmVjdG9yXG4gIH0pO1xufTtcblxudmFyIENvbm5lY3RvcnNNYWNoaW5lU2VydmljZUNvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChudWxsKTtcbnZhciBDb25uZWN0b3JzTWFjaGluZVByb3ZpZGVyID0gZnVuY3Rpb24gQ29ubmVjdG9yc01hY2hpbmVQcm92aWRlcihfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBhY2Nlc3NUb2tlbiA9IF9yZWYuYWNjZXNzVG9rZW4sXG4gICAgICBiYXNlUGF0aCA9IF9yZWYuYmFzZVBhdGgsXG4gICAgICBvbkVycm9yID0gX3JlZi5vbkVycm9yO1xuICB2YXIgc2VydmljZSA9IHVzZUludGVycHJldChjb25uZWN0b3JzTWFjaGluZSwge1xuICAgIGNvbnRleHQ6IHtcbiAgICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICAgIGJhc2VQYXRoOiBiYXNlUGF0aCxcbiAgICAgIG9uRXJyb3I6IG9uRXJyb3JcbiAgICB9LFxuICAgIGRldlRvb2xzOiB0cnVlXG4gIH0pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDb25uZWN0b3JzTWFjaGluZVNlcnZpY2VDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHNlcnZpY2VcbiAgfSwgY2hpbGRyZW4pO1xufTtcbnZhciB1c2VDb25uZWN0b3JzTWFjaGluZVNlcnZpY2UgPSBmdW5jdGlvbiB1c2VDb25uZWN0b3JzTWFjaGluZVNlcnZpY2UoKSB7XG4gIHZhciBzZXJ2aWNlID0gdXNlQ29udGV4dChDb25uZWN0b3JzTWFjaGluZVNlcnZpY2VDb250ZXh0KTtcblxuICBpZiAoIXNlcnZpY2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VDb25uZWN0b3JzTWFjaGluZVNlcnZpY2UoKSBtdXN0IGJlIHVzZWQgaW4gYSBjaGlsZCBvZiA8Q29ubmVjdG9yc01hY2hpbmVQcm92aWRlcj5cIik7XG4gIH1cblxuICByZXR1cm4gc2VydmljZTtcbn07XG52YXIgdXNlQ29ubmVjdG9yc01hY2hpbmVJc1JlYWR5ID0gZnVuY3Rpb24gdXNlQ29ubmVjdG9yc01hY2hpbmVJc1JlYWR5KHNlcnZpY2UpIHtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKHNlcnZpY2UsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5tYXRjaGVzKHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgYXBpOiAncmVhZHknXG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtzZXJ2aWNlXSkpO1xufTtcblxudmFyIFBBR0lOQVRFRF9NQUNISU5FX0lEJDEgPSAncGFnaW5hdGVkQXBpJztcblxudmFyIGZldGNoQ2x1c3RlcnMgPSBmdW5jdGlvbiBmZXRjaENsdXN0ZXJzKGFjY2Vzc1Rva2VuLCBiYXNlUGF0aCkge1xuICB2YXIgYXBpc1NlcnZpY2UgPSBuZXcgQ29ubmVjdG9yQ2x1c3RlcnNBcGkobmV3IENvbmZpZ3VyYXRpb24oe1xuICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICBiYXNlUGF0aDogYmFzZVBhdGhcbiAgfSkpO1xuICByZXR1cm4gZnVuY3Rpb24gKHJlcXVlc3QsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHZhciBDYW5jZWxUb2tlbiA9IGF4aW9zLkNhbmNlbFRva2VuO1xuICAgIHZhciBzb3VyY2UgPSBDYW5jZWxUb2tlbi5zb3VyY2UoKTtcbiAgICB2YXIgcGFnZSA9IHJlcXVlc3QucGFnZSxcbiAgICAgICAgc2l6ZSA9IHJlcXVlc3Quc2l6ZTtcbiAgICBhcGlzU2VydmljZS5saXN0Q29ubmVjdG9yQ2x1c3RlcnMoXCJcIiArIHBhZ2UsIFwiXCIgKyBzaXplLCB7XG4gICAgICBjYW5jZWxUb2tlbjogc291cmNlLnRva2VuXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIG9uU3VjY2Vzcyh7XG4gICAgICAgIGl0ZW1zOiByZXNwb25zZS5kYXRhLml0ZW1zLFxuICAgICAgICB0b3RhbDogcmVzcG9uc2UuZGF0YS50b3RhbCxcbiAgICAgICAgcGFnZTogcmVzcG9uc2UuZGF0YS5wYWdlLFxuICAgICAgICBzaXplOiByZXNwb25zZS5kYXRhLnNpemVcbiAgICAgIH0pO1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoIWF4aW9zLmlzQ2FuY2VsKGVycm9yKSkge1xuICAgICAgICBvbkVycm9yKHtcbiAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBwYWdlOiByZXF1ZXN0LnBhZ2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNvdXJjZS5jYW5jZWwoJ09wZXJhdGlvbiBjYW5jZWxlZCBieSB0aGUgdXNlci4nKTtcbiAgICB9O1xuICB9O1xufTtcblxudmFyIGNsdXN0ZXJzTWFjaGluZVNjaGVtYSA9IHtcbiAgY29udGV4dDogLyojX19QVVJFX18qL2NyZWF0ZVNjaGVtYSgpXG59O1xudmFyIGNsdXN0ZXJzTWFjaGluZU1vZGVsID0gLyojX19QVVJFX18qL2NyZWF0ZU1vZGVsKHtcbiAgYWNjZXNzVG9rZW46IGZ1bmN0aW9uIGFjY2Vzc1Rva2VuKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJycpO1xuICB9LFxuICBiYXNlUGF0aDogJycsXG4gIGNsdXN0ZXJzOiB1bmRlZmluZWQsXG4gIHNlbGVjdGVkQ2x1c3RlcjogdW5kZWZpbmVkLFxuICBlcnJvcjogdW5kZWZpbmVkXG59LCB7XG4gIGV2ZW50czogLyojX19QVVJFX18qL19leHRlbmRzKHtcbiAgICBzZWxlY3RDbHVzdGVyOiBmdW5jdGlvbiBzZWxlY3RDbHVzdGVyKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcGF5bG9hZCk7XG4gICAgfSxcbiAgICBkZXNlbGVjdENsdXN0ZXI6IGZ1bmN0aW9uIGRlc2VsZWN0Q2x1c3RlcigpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0oKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9LCAvKiNfX1BVUkVfXyovZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50cygpKVxufSk7XG52YXIgY2x1c3RlcnNNYWNoaW5lID0gLyojX19QVVJFX18qL2NyZWF0ZU1hY2hpbmUoe1xuICBzY2hlbWE6IGNsdXN0ZXJzTWFjaGluZVNjaGVtYSxcbiAgaWQ6ICdjbHVzdGVycycsXG4gIGluaXRpYWw6ICdyb290JyxcbiAgY29udGV4dDogY2x1c3RlcnNNYWNoaW5lTW9kZWwuaW5pdGlhbENvbnRleHQsXG4gIHN0YXRlczoge1xuICAgIHJvb3Q6IHtcbiAgICAgIHR5cGU6ICdwYXJhbGxlbCcsXG4gICAgICBzdGF0ZXM6IHtcbiAgICAgICAgYXBpOiB7XG4gICAgICAgICAgaW5pdGlhbDogJ2lkbGUnLFxuICAgICAgICAgIGludm9rZToge1xuICAgICAgICAgICAgaWQ6IFBBR0lOQVRFRF9NQUNISU5FX0lEJDEsXG4gICAgICAgICAgICBzcmM6IGZ1bmN0aW9uIHNyYyhjb250ZXh0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBtYWtlUGFnaW5hdGVkQXBpTWFjaGluZShmZXRjaENsdXN0ZXJzKGNvbnRleHQuYWNjZXNzVG9rZW4sIGNvbnRleHQuYmFzZVBhdGgpLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YXRlczoge1xuICAgICAgICAgICAgaWRsZToge1xuICAgICAgICAgICAgICBlbnRyeTogLyojX19QVVJFX18qL3NlbmQkMSgnYXBpLnF1ZXJ5Jywge1xuICAgICAgICAgICAgICAgIHRvOiBQQUdJTkFURURfTUFDSElORV9JRCQxXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICdhcGkucmVhZHknOiAncmVhZHknXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWFkeToge31cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uOiAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9nZXRQYWdpbmF0ZWRBcGlNYWNoaW5lRXZlbnRzSGFuZGxlcnMoUEFHSU5BVEVEX01BQ0hJTkVfSUQkMSksIHtcbiAgICAgICAgICAgICdhcGkuc3VjY2Vzcyc6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogJ3N1Y2Nlc3MnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0aW9uOiB7XG4gICAgICAgICAgaWQ6ICdzZWxlY3Rpb24nLFxuICAgICAgICAgIGluaXRpYWw6ICd2ZXJpZnknLFxuICAgICAgICAgIHN0YXRlczoge1xuICAgICAgICAgICAgdmVyaWZ5OiB7XG4gICAgICAgICAgICAgIGFsd2F5czogW3tcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdzZWxlY3RpbmcnLFxuICAgICAgICAgICAgICAgIGNvbmQ6ICdub0NsdXN0ZXJTZWxlY3RlZCdcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ3ZhbGlkJyxcbiAgICAgICAgICAgICAgICBjb25kOiAnY2x1c3RlclNlbGVjdGVkJ1xuICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdGluZzoge1xuICAgICAgICAgICAgICBlbnRyeTogLyojX19QVVJFX18qL3NlbmRQYXJlbnQkMSgnaXNJbnZhbGlkJyksXG4gICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0Q2x1c3Rlcjoge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAndmFsaWQnLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uczogJ3NlbGVjdENsdXN0ZXInXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmFsaWQ6IHtcbiAgICAgICAgICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50JDEoJ2lzVmFsaWQnKSxcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICBzZWxlY3RDbHVzdGVyOiB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uczogJ3NlbGVjdENsdXN0ZXInLFxuICAgICAgICAgICAgICAgICAgY29uZDogZnVuY3Rpb24gY29uZChfLCBldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuc2VsZWN0ZWRDbHVzdGVyICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZXNlbGVjdENsdXN0ZXI6IHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zOiAncmVzZXQnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb25maXJtOiB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXQ6ICcjZG9uZScsXG4gICAgICAgICAgICAgICAgICBjb25kOiAnY2x1c3RlclNlbGVjdGVkJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZG9uZToge1xuICAgICAgaWQ6ICdkb25lJyxcbiAgICAgIHR5cGU6ICdmaW5hbCcsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNlbGVjdGVkQ2x1c3RlcjogZnVuY3Rpb24gc2VsZWN0ZWRDbHVzdGVyKGNvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZENsdXN0ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn0sIHtcbiAgYWN0aW9uczoge1xuICAgIHN1Y2Nlc3M6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdhcGkuc3VjY2VzcycpIHJldHVybiB7fTtcblxuICAgICAgdmFyIHJlc3BvbnNlID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoZXZlbnQsIFtcInR5cGVcIl0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXNwb25zZTogcmVzcG9uc2VcbiAgICAgIH07XG4gICAgfSksXG4gICAgc2VsZWN0Q2x1c3RlcjogLyojX19QVVJFX18qL2Fzc2lnbih7XG4gICAgICBzZWxlY3RlZENsdXN0ZXI6IGZ1bmN0aW9uIHNlbGVjdGVkQ2x1c3Rlcihjb250ZXh0LCBldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3NlbGVjdENsdXN0ZXInKSB7XG4gICAgICAgICAgdmFyIF9jb250ZXh0JHJlc3BvbnNlLCBfY29udGV4dCRyZXNwb25zZSRpdGU7XG5cbiAgICAgICAgICByZXR1cm4gKF9jb250ZXh0JHJlc3BvbnNlID0gY29udGV4dC5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY29udGV4dCRyZXNwb25zZSRpdGUgPSBfY29udGV4dCRyZXNwb25zZS5pdGVtcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jb250ZXh0JHJlc3BvbnNlJGl0ZS5maW5kKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICByZXR1cm4gaS5pZCA9PT0gZXZlbnQuc2VsZWN0ZWRDbHVzdGVyO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRDbHVzdGVyO1xuICAgICAgfVxuICAgIH0pLFxuICAgIHJlc2V0OiAvKiNfX1BVUkVfXyovYXNzaWduKHtcbiAgICAgIHNlbGVjdGVkQ2x1c3RlcjogZnVuY3Rpb24gc2VsZWN0ZWRDbHVzdGVyKGNvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBldmVudC50eXBlID09PSAnZGVzZWxlY3RDbHVzdGVyJyA/IHVuZGVmaW5lZCA6IGNvbnRleHQuc2VsZWN0ZWRDbHVzdGVyO1xuICAgICAgfVxuICAgIH0pXG4gIH0sXG4gIGd1YXJkczoge1xuICAgIGNsdXN0ZXJTZWxlY3RlZDogZnVuY3Rpb24gY2x1c3RlclNlbGVjdGVkKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkQ2x1c3RlciAhPT0gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgbm9DbHVzdGVyU2VsZWN0ZWQ6IGZ1bmN0aW9uIG5vQ2x1c3RlclNlbGVjdGVkKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkQ2x1c3RlciA9PT0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufSk7XG52YXIgdXNlQ2x1c3RlcnNNYWNoaW5lSXNSZWFkeSA9IGZ1bmN0aW9uIHVzZUNsdXN0ZXJzTWFjaGluZUlzUmVhZHkoYWN0b3IpIHtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKGFjdG9yLCB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUubWF0Y2hlcyh7XG4gICAgICByb290OiB7XG4gICAgICAgIGFwaTogJ3JlYWR5J1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbYWN0b3JdKSk7XG59O1xudmFyIHVzZUNsdXN0ZXJzTWFjaGluZSA9IGZ1bmN0aW9uIHVzZUNsdXN0ZXJzTWFjaGluZShhY3Rvcikge1xuICB2YXIgYXBpID0gdXNlUGFnaW5hdGlvbihhY3Rvci5zdGF0ZS5jaGlsZHJlbltQQUdJTkFURURfTUFDSElORV9JRCQxXSk7XG5cbiAgdmFyIF91c2VTZWxlY3RvciA9IHVzZVNlbGVjdG9yKGFjdG9yLCB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICB2YXIgX3N0YXRlJGNvbnRleHQkc2VsZWN0O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbGVjdGVkSWQ6IChfc3RhdGUkY29udGV4dCRzZWxlY3QgPSBzdGF0ZS5jb250ZXh0LnNlbGVjdGVkQ2x1c3RlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9zdGF0ZSRjb250ZXh0JHNlbGVjdC5pZFxuICAgIH07XG4gIH0sIFthY3Rvcl0pKSxcbiAgICAgIHNlbGVjdGVkSWQgPSBfdXNlU2VsZWN0b3Iuc2VsZWN0ZWRJZDtcblxuICB2YXIgb25TZWxlY3QgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc2VsZWN0ZWRDbHVzdGVyKSB7XG4gICAgYWN0b3Iuc2VuZCh7XG4gICAgICB0eXBlOiAnc2VsZWN0Q2x1c3RlcicsXG4gICAgICBzZWxlY3RlZENsdXN0ZXI6IHNlbGVjdGVkQ2x1c3RlclxuICAgIH0pO1xuICB9LCBbYWN0b3JdKTtcbiAgdmFyIG9uUXVlcnkgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgIGFjdG9yLnNlbmQoX2V4dGVuZHMoe1xuICAgICAgdHlwZTogJ2FwaS5xdWVyeSdcbiAgICB9LCByZXF1ZXN0KSk7XG4gIH0sIFthY3Rvcl0pO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIGFwaSwge1xuICAgIHNlbGVjdGVkSWQ6IHNlbGVjdGVkSWQsXG4gICAgb25TZWxlY3Q6IG9uU2VsZWN0LFxuICAgIG9uUXVlcnk6IG9uUXVlcnlcbiAgfSk7XG59O1xuXG52YXIgY29uZmlndXJhdG9yTG9hZGVyTWFjaGluZVNjaGVtYSA9IHtcbiAgY29udGV4dDogLyojX19QVVJFX18qL2NyZWF0ZVNjaGVtYSgpXG59O1xudmFyIGNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUgPSAvKiNfX1BVUkVfXyovY3JlYXRlTWFjaGluZSh7XG4gIHNjaGVtYTogY29uZmlndXJhdG9yTG9hZGVyTWFjaGluZVNjaGVtYSxcbiAgaWQ6ICdjb25maWd1cmF0b3InLFxuICBpbml0aWFsOiAnbG9hZGluZycsXG4gIHN0YXRlczoge1xuICAgIGxvYWRpbmc6IHtcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ2ZldGNoQ29uZmlndXJhdG9yJyxcbiAgICAgICAgc3JjOiAnZmV0Y2hDb25maWd1cmF0b3InLFxuICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICdzdWNjZXNzJyxcbiAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBldmVudC5kYXRhO1xuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIG9uRXJyb3I6IHtcbiAgICAgICAgICB0YXJnZXQ6ICdmYWlsdXJlJyxcbiAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovYXNzaWduKHtcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LmRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZmFpbHVyZToge1xuICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9lc2NhbGF0ZShmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1lc3NhZ2U6IGNvbnRleHQuZXJyb3JcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgfSxcbiAgICBzdWNjZXNzOiB7XG4gICAgICB0eXBlOiAnZmluYWwnLFxuICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShfcmVmKSB7XG4gICAgICAgIHZhciBDb25maWd1cmF0b3IgPSBfcmVmLkNvbmZpZ3VyYXRvcixcbiAgICAgICAgICAgIHN0ZXBzID0gX3JlZi5zdGVwcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBDb25maWd1cmF0b3I6IENvbmZpZ3VyYXRvcixcbiAgICAgICAgICBzdGVwczogc3RlcHNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG52YXIgY29uZmlndXJhdG9yTWFjaGluZVNjaGVtYSA9IHtcbiAgY29udGV4dDogLyojX19QVVJFX18qL2NyZWF0ZVNjaGVtYSgpXG59O1xudmFyIGNvbmZpZ3VyYXRvck1hY2hpbmUgPSAvKiNfX1BVUkVfXyovY3JlYXRlTWFjaGluZSh7XG4gIHNjaGVtYTogY29uZmlndXJhdG9yTWFjaGluZVNjaGVtYSxcbiAgaWQ6ICdjb25maWd1cmF0b3InLFxuICBpbml0aWFsOiAnY29uZmlndXJpbmcnLFxuICBjb250ZXh0OiB7XG4gICAgY29ubmVjdG9yOiB7XG4gICAgICBpZDogJ3NvbWV0aGluZycsXG4gICAgICBuYW1lOiAnc29tZXRoaW5nJyxcbiAgICAgIHZlcnNpb246ICcwLjEnLFxuICAgICAganNvbl9zY2hlbWE6IHt9XG4gICAgfSxcbiAgICBzdGVwczogWydvbmUnLCAndHdvJywgJ3RocmVlJ10sXG4gICAgYWN0aXZlU3RlcDogMCxcbiAgICBpc0FjdGl2ZVN0ZXBWYWxpZDogZmFsc2UsXG4gICAgY29uZmlndXJhdGlvbjogdW5kZWZpbmVkXG4gIH0sXG4gIHN0YXRlczoge1xuICAgIGNvbmZpZ3VyaW5nOiB7XG4gICAgICBlbnRyeTogLyojX19QVVJFX18qL3NlbmRQYXJlbnQkMSgnaXNJbnZhbGlkJyksXG4gICAgICBhbHdheXM6IFt7XG4gICAgICAgIHRhcmdldDogJ3ZhbGlkJyxcbiAgICAgICAgY29uZDogJ2FjdGl2ZVN0ZXBWYWxpZCdcbiAgICAgIH1dXG4gICAgfSxcbiAgICB2YWxpZDoge1xuICAgICAgaWQ6ICd2YWxpZCcsXG4gICAgICBpbml0aWFsOiAnZGV0ZXJtaW5lU3RlcCcsXG4gICAgICBlbnRyeTogLyojX19QVVJFX18qL3NlbmRQYXJlbnQkMSgnaXNWYWxpZCcpLFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGRldGVybWluZVN0ZXA6IHtcbiAgICAgICAgICBhbHdheXM6IFt7XG4gICAgICAgICAgICB0YXJnZXQ6ICcjdmFsaWQubGFzdFN0ZXAnLFxuICAgICAgICAgICAgY29uZDogJ2lzTGFzdFN0ZXAnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgdGFyZ2V0OiAnI3ZhbGlkLmhhc05leHRTdGVwJ1xuICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIGhhc05leHRTdGVwOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIG5leHQ6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiAnI2NvbmZpZ3VyYXRvci5jb25maWd1cmluZycsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFsnbmV4dFN0ZXAnLCAnY2hhbmdlZFN0ZXAnXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbGFzdFN0ZXA6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgbmV4dDogJyNjb25maWd1cmF0b3IuY29uZmlndXJlZCdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbmZpZ3VyZWQ6IHtcbiAgICAgIHR5cGU6ICdmaW5hbCcsXG4gICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKF9yZWYyKSB7XG4gICAgICAgIHZhciBjb25maWd1cmF0aW9uID0gX3JlZjIuY29uZmlndXJhdGlvbjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjb25maWd1cmF0aW9uOiBjb25maWd1cmF0aW9uXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBvbjoge1xuICAgIGNoYW5nZToge1xuICAgICAgdGFyZ2V0OiAnY29uZmlndXJpbmcnLFxuICAgICAgYWN0aW9uczogJ2NoYW5nZSdcbiAgICB9LFxuICAgIHByZXY6IHtcbiAgICAgIHRhcmdldDogJ2NvbmZpZ3VyaW5nJyxcbiAgICAgIGFjdGlvbnM6IFsncHJldlN0ZXAnLCAnY2hhbmdlZFN0ZXAnXVxuICAgIH1cbiAgfVxufSwge1xuICBhY3Rpb25zOiB7XG4gICAgbmV4dFN0ZXA6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFjdGl2ZVN0ZXA6IE1hdGgubWluKGNvbnRleHQuYWN0aXZlU3RlcCArIDEsIGNvbnRleHQuc3RlcHMubGVuZ3RoIC0gMSksXG4gICAgICAgIGlzQWN0aXZlU3RlcFZhbGlkOiBmYWxzZVxuICAgICAgfTtcbiAgICB9KSxcbiAgICBwcmV2U3RlcDogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYWN0aXZlU3RlcDogTWF0aC5tYXgoY29udGV4dC5hY3RpdmVTdGVwIC0gMSwgMCksXG4gICAgICAgIGlzQWN0aXZlU3RlcFZhbGlkOiBmYWxzZVxuICAgICAgfTtcbiAgICB9KSxcbiAgICBjaGFuZ2U6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF8sIGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQudHlwZSA9PT0gJ2NoYW5nZScgPyB7XG4gICAgICAgIGNvbmZpZ3VyYXRpb246IGV2ZW50LmNvbmZpZ3VyYXRpb24sXG4gICAgICAgIGlzQWN0aXZlU3RlcFZhbGlkOiBldmVudC5pc1ZhbGlkXG4gICAgICB9IDoge307XG4gICAgfSksXG4gICAgY2hhbmdlZFN0ZXA6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50JDEoZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdjaGFuZ2VkU3RlcCcsXG4gICAgICAgIHN0ZXA6IGNvbnRleHQuYWN0aXZlU3RlcFxuICAgICAgfTtcbiAgICB9KVxuICB9LFxuICBndWFyZHM6IHtcbiAgICBpc0xhc3RTdGVwOiBmdW5jdGlvbiBpc0xhc3RTdGVwKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmFjdGl2ZVN0ZXAgPT09IGNvbnRleHQuc3RlcHMubGVuZ3RoIC0gMTtcbiAgICB9LFxuICAgIGFjdGl2ZVN0ZXBWYWxpZDogZnVuY3Rpb24gYWN0aXZlU3RlcFZhbGlkKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmlzQWN0aXZlU3RlcFZhbGlkO1xuICAgIH1cbiAgfVxufSk7XG5cbnZhciBmZXRjaENvbm5lY3RvclR5cGVzID0gZnVuY3Rpb24gZmV0Y2hDb25uZWN0b3JUeXBlcyhhY2Nlc3NUb2tlbiwgYmFzZVBhdGgpIHtcbiAgdmFyIGFwaXNTZXJ2aWNlID0gbmV3IENvbm5lY3RvclR5cGVzQXBpKG5ldyBDb25maWd1cmF0aW9uKHtcbiAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXG4gICAgYmFzZVBhdGg6IGJhc2VQYXRoXG4gIH0pKTtcbiAgcmV0dXJuIGFwaXNTZXJ2aWNlLmxpc3RDb25uZWN0b3JUeXBlcygpO1xufTtcblxudmFyIGNvbm5lY3RvclR5cGVzTWFjaGluZVNjaGVtYSA9IHtcbiAgY29udGV4dDogLyojX19QVVJFX18qL2NyZWF0ZVNjaGVtYSgpXG59O1xudmFyIGNvbm5lY3RvclR5cGVzTWFjaGluZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVNYWNoaW5lKHtcbiAgc2NoZW1hOiBjb25uZWN0b3JUeXBlc01hY2hpbmVTY2hlbWEsXG4gIGlkOiAnY29ubmVjdG9ycycsXG4gIGluaXRpYWw6ICdsb2FkaW5nJyxcbiAgc3RhdGVzOiB7XG4gICAgbG9hZGluZzoge1xuICAgICAgaW52b2tlOiB7XG4gICAgICAgIGlkOiAnZmV0Y2hDb25uZWN0b3JzJyxcbiAgICAgICAgc3JjOiBmdW5jdGlvbiBzcmMoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBmZXRjaENvbm5lY3RvclR5cGVzKGNvbnRleHQuYWNjZXNzVG9rZW4sIGNvbnRleHQuYmFzZVBhdGgpO1xuICAgICAgICB9LFxuICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgIGFjdGlvbnM6IC8qI19fUFVSRV9fKi9hc3NpZ24oe1xuICAgICAgICAgICAgY29ubmVjdG9yczogZnVuY3Rpb24gY29ubmVjdG9ycyhfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LmRhdGEuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiB7XG4gICAgICAgICAgdGFyZ2V0OiAnZmFpbHVyZScsXG4gICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbih7XG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBldmVudC5kYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGZhaWx1cmU6IHtcbiAgICAgIGVudHJ5OiAvKiNfX1BVUkVfXyovZXNjYWxhdGUoZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtZXNzYWdlOiBjb250ZXh0LmVycm9yXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgIH0sXG4gICAgdmVyaWZ5OiB7XG4gICAgICBhbHdheXM6IFt7XG4gICAgICAgIHRhcmdldDogJ3NlbGVjdGluZycsXG4gICAgICAgIGNvbmQ6ICdub0Nvbm5lY3RvclNlbGVjdGVkJ1xuICAgICAgfSwge1xuICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgIGNvbmQ6ICdjb25uZWN0b3JTZWxlY3RlZCdcbiAgICAgIH1dXG4gICAgfSxcbiAgICBzZWxlY3Rpbmc6IHtcbiAgICAgIGVudHJ5OiAvKiNfX1BVUkVfXyovc2VuZFBhcmVudCQxKCdpc0ludmFsaWQnKSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHNlbGVjdENvbm5lY3Rvcjoge1xuICAgICAgICAgIHRhcmdldDogJ3ZhbGlkJyxcbiAgICAgICAgICBhY3Rpb25zOiAnc2VsZWN0Q29ubmVjdG9yJyxcbiAgICAgICAgICBjb25kOiBmdW5jdGlvbiBjb25kKF8sIGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQuc2VsZWN0ZWRDb25uZWN0b3IgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHZhbGlkOiB7XG4gICAgICBlbnRyeTogLyojX19QVVJFX18qL3NlbmRQYXJlbnQkMSgnaXNWYWxpZCcpLFxuICAgICAgb246IHtcbiAgICAgICAgc2VsZWN0Q29ubmVjdG9yOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiAnc2VsZWN0Q29ubmVjdG9yJ1xuICAgICAgICB9LFxuICAgICAgICBkZXNlbGVjdENvbm5lY3Rvcjoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogJ3Jlc2V0J1xuICAgICAgICB9LFxuICAgICAgICBjb25maXJtOiB7XG4gICAgICAgICAgdGFyZ2V0OiAnZG9uZScsXG4gICAgICAgICAgY29uZDogJ2Nvbm5lY3RvclNlbGVjdGVkJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkb25lOiB7XG4gICAgICB0eXBlOiAnZmluYWwnLFxuICAgICAgZGF0YToge1xuICAgICAgICBzZWxlY3RlZENvbm5lY3RvcjogZnVuY3Rpb24gc2VsZWN0ZWRDb25uZWN0b3IoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkQ29ubmVjdG9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59LCB7XG4gIGFjdGlvbnM6IHtcbiAgICBzZWxlY3RDb25uZWN0b3I6IC8qI19fUFVSRV9fKi9hc3NpZ24oe1xuICAgICAgc2VsZWN0ZWRDb25uZWN0b3I6IGZ1bmN0aW9uIHNlbGVjdGVkQ29ubmVjdG9yKGNvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAnc2VsZWN0Q29ubmVjdG9yJykge1xuICAgICAgICAgIHZhciBfY29udGV4dCRjb25uZWN0b3JzLCBfY29udGV4dCRjb25uZWN0b3JzJGk7XG5cbiAgICAgICAgICByZXR1cm4gKF9jb250ZXh0JGNvbm5lY3RvcnMgPSBjb250ZXh0LmNvbm5lY3RvcnMpID09IG51bGwgPyB2b2lkIDAgOiAoX2NvbnRleHQkY29ubmVjdG9ycyRpID0gX2NvbnRleHQkY29ubmVjdG9ycy5pdGVtcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jb250ZXh0JGNvbm5lY3RvcnMkaS5maW5kKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICByZXR1cm4gaS5pZCA9PT0gZXZlbnQuc2VsZWN0ZWRDb25uZWN0b3I7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZENvbm5lY3RvcjtcbiAgICAgIH1cbiAgICB9KSxcbiAgICByZXNldDogLyojX19QVVJFX18qL2Fzc2lnbih7XG4gICAgICBzZWxlY3RlZENvbm5lY3RvcjogZnVuY3Rpb24gc2VsZWN0ZWRDb25uZWN0b3IoY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnR5cGUgPT09ICdkZXNlbGVjdENvbm5lY3RvcicgPyB1bmRlZmluZWQgOiBjb250ZXh0LnNlbGVjdGVkQ29ubmVjdG9yO1xuICAgICAgfVxuICAgIH0pXG4gIH0sXG4gIGd1YXJkczoge1xuICAgIGNvbm5lY3RvclNlbGVjdGVkOiBmdW5jdGlvbiBjb25uZWN0b3JTZWxlY3RlZChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZENvbm5lY3RvciAhPT0gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgbm9Db25uZWN0b3JTZWxlY3RlZDogZnVuY3Rpb24gbm9Db25uZWN0b3JTZWxlY3RlZChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZENvbm5lY3RvciA9PT0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufSk7XG5cbnZhciBQQUdJTkFURURfTUFDSElORV9JRCQyID0gJ3BhZ2luYXRlZEFwaSc7XG5cbnZhciBmZXRjaEthZmthSW5zdGFuY2VzID0gZnVuY3Rpb24gZmV0Y2hLYWZrYUluc3RhbmNlcyhhY2Nlc3NUb2tlbiwgYmFzZVBhdGgpIHtcbiAgLy8gVE9ETzogcmVtb3ZlIGFmdGVyIGRlbW9cbiAgYmFzZVBhdGggPSAnaHR0cHM6Ly9hcGkub3BlbnNoaWZ0LmNvbSc7XG4gIHZhciBhcGlzU2VydmljZSA9IG5ldyBEZWZhdWx0QXBpKG5ldyBDb25maWd1cmF0aW9uKHtcbiAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXG4gICAgYmFzZVBhdGg6IGJhc2VQYXRoXG4gIH0pKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChyZXF1ZXN0LCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgQ2FuY2VsVG9rZW4gPSBheGlvcy5DYW5jZWxUb2tlbjtcbiAgICB2YXIgc291cmNlID0gQ2FuY2VsVG9rZW4uc291cmNlKCk7XG4gICAgdmFyIHBhZ2UgPSByZXF1ZXN0LnBhZ2UsXG4gICAgICAgIHNpemUgPSByZXF1ZXN0LnNpemUsXG4gICAgICAgIHF1ZXJ5ID0gcmVxdWVzdC5xdWVyeTtcblxuICAgIHZhciBfcmVmID0gcXVlcnkgfHwge30sXG4gICAgICAgIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICAgIHN0YXR1c2VzID0gX3JlZi5zdGF0dXNlcyxcbiAgICAgICAgb3duZXIgPSBfcmVmLm93bmVyLFxuICAgICAgICBjbG91ZFByb3ZpZGVycyA9IF9yZWYuY2xvdWRQcm92aWRlcnMsXG4gICAgICAgIHJlZ2lvbnMgPSBfcmVmLnJlZ2lvbnM7XG5cbiAgICB2YXIgbmFtZVNlYXJjaCA9IG5hbWUgJiYgbmFtZS5sZW5ndGggPiAwID8gXCIgbmFtZSBMSUtFIFwiICsgbmFtZSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgb3duZXJTZWFyY2ggPSBvd25lciAmJiBvd25lci5sZW5ndGggPiAwID8gXCIgb3duZXIgTElLRSBcIiArIG93bmVyIDogdW5kZWZpbmVkO1xuICAgIHZhciBzdGF0dXNTZWFyY2ggPSBzdGF0dXNlcyAmJiBzdGF0dXNlcy5sZW5ndGggPiAwID8gc3RhdHVzZXMubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICByZXR1cm4gXCJzdGF0dXMgPSBcIiArIHM7XG4gICAgfSkuam9pbignIE9SICcpIDogdW5kZWZpbmVkO1xuICAgIHZhciBjbG91ZFByb3ZpZGVyU2VhcmNoID0gY2xvdWRQcm92aWRlcnMgJiYgY2xvdWRQcm92aWRlcnMubGVuZ3RoID4gMCA/IGNsb3VkUHJvdmlkZXJzLm1hcChmdW5jdGlvbiAocykge1xuICAgICAgcmV0dXJuIFwiY2xvdWRfcHJvdmlkZXIgPSBcIiArIHM7XG4gICAgfSkuam9pbignIE9SICcpIDogdW5kZWZpbmVkO1xuICAgIHZhciByZWdpb25TZWFyY2ggPSByZWdpb25zICYmIHJlZ2lvbnMubGVuZ3RoID4gMCA/IHJlZ2lvbnMubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICByZXR1cm4gXCJyZWdpb24gPSBcIiArIHM7XG4gICAgfSkuam9pbignIE9SICcpIDogdW5kZWZpbmVkO1xuICAgIHZhciBzZWFyY2ggPSBbbmFtZVNlYXJjaCwgb3duZXJTZWFyY2gsIHN0YXR1c1NlYXJjaCwgY2xvdWRQcm92aWRlclNlYXJjaCwgcmVnaW9uU2VhcmNoXS5maWx0ZXIoQm9vbGVhbikubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICByZXR1cm4gXCIoXCIgKyBzICsgXCIpXCI7XG4gICAgfSkuam9pbignIEFORCAnKTtcbiAgICBhcGlzU2VydmljZS5nZXRLYWZrYXMoXCJcIiArIHBhZ2UsIFwiXCIgKyBzaXplLCB1bmRlZmluZWQsIHNlYXJjaCwge1xuICAgICAgY2FuY2VsVG9rZW46IHNvdXJjZS50b2tlblxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBvblN1Y2Nlc3Moe1xuICAgICAgICBpdGVtczogcmVzcG9uc2UuZGF0YS5pdGVtcyxcbiAgICAgICAgdG90YWw6IHJlc3BvbnNlLmRhdGEudG90YWwsXG4gICAgICAgIHBhZ2U6IHJlc3BvbnNlLmRhdGEucGFnZSxcbiAgICAgICAgc2l6ZTogcmVzcG9uc2UuZGF0YS5zaXplXG4gICAgICB9KTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKCFheGlvcy5pc0NhbmNlbChlcnJvcikpIHtcbiAgICAgICAgb25FcnJvcih7XG4gICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgcGFnZTogcmVxdWVzdC5wYWdlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBzb3VyY2UuY2FuY2VsKCdPcGVyYXRpb24gY2FuY2VsZWQgYnkgdGhlIHVzZXIuJyk7XG4gICAgfTtcbiAgfTtcbn07XG5cbnZhciBrYWZrYXNNYWNoaW5lU2NoZW1hID0ge1xuICBjb250ZXh0OiAvKiNfX1BVUkVfXyovY3JlYXRlU2NoZW1hKClcbn07XG52YXIga2Fma2FzTWFjaGluZU1vZGVsID0gLyojX19QVVJFX18qL2NyZWF0ZU1vZGVsKHtcbiAgYWNjZXNzVG9rZW46IGZ1bmN0aW9uIGFjY2Vzc1Rva2VuKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJycpO1xuICB9LFxuICBiYXNlUGF0aDogJycsXG4gIGluc3RhbmNlczogdW5kZWZpbmVkLFxuICBzZWxlY3RlZEluc3RhbmNlOiB1bmRlZmluZWQsXG4gIGVycm9yOiB1bmRlZmluZWRcbn0sIHtcbiAgZXZlbnRzOiAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe1xuICAgIHNlbGVjdEluc3RhbmNlOiBmdW5jdGlvbiBzZWxlY3RJbnN0YW5jZShwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHBheWxvYWQpO1xuICAgIH0sXG4gICAgZGVzZWxlY3RJbnN0YW5jZTogZnVuY3Rpb24gZGVzZWxlY3RJbnN0YW5jZSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0oKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9LCAvKiNfX1BVUkVfXyovZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50cygpKVxufSk7XG52YXIga2Fma2FzTWFjaGluZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVNYWNoaW5lKHtcbiAgc2NoZW1hOiBrYWZrYXNNYWNoaW5lU2NoZW1hLFxuICBpZDogJ2thZmthcycsXG4gIGluaXRpYWw6ICdyb290JyxcbiAgY29udGV4dDoga2Fma2FzTWFjaGluZU1vZGVsLmluaXRpYWxDb250ZXh0LFxuICBzdGF0ZXM6IHtcbiAgICByb290OiB7XG4gICAgICB0eXBlOiAncGFyYWxsZWwnLFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGFwaToge1xuICAgICAgICAgIGluaXRpYWw6ICdpZGxlJyxcbiAgICAgICAgICBpbnZva2U6IHtcbiAgICAgICAgICAgIGlkOiBQQUdJTkFURURfTUFDSElORV9JRCQyLFxuICAgICAgICAgICAgc3JjOiBmdW5jdGlvbiBzcmMoY29udGV4dCkge1xuICAgICAgICAgICAgICByZXR1cm4gbWFrZVBhZ2luYXRlZEFwaU1hY2hpbmUoZmV0Y2hLYWZrYUluc3RhbmNlcyhjb250ZXh0LmFjY2Vzc1Rva2VuLCBjb250ZXh0LmJhc2VQYXRoKSwgZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdGF0ZXM6IHtcbiAgICAgICAgICAgIGlkbGU6IHtcbiAgICAgICAgICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kJDEoJ2FwaS5xdWVyeScsIHtcbiAgICAgICAgICAgICAgICB0bzogUEFHSU5BVEVEX01BQ0hJTkVfSUQkMlxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAnYXBpLnJlYWR5JzogJ3JlYWR5J1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVhZHk6IHt9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbjogLyojX19QVVJFX18qL19leHRlbmRzKHt9LCAvKiNfX1BVUkVfXyovZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50c0hhbmRsZXJzKFBBR0lOQVRFRF9NQUNISU5FX0lEJDIpLCB7XG4gICAgICAgICAgICAnYXBpLnN1Y2Nlc3MnOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6ICdzdWNjZXNzJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdGlvbjoge1xuICAgICAgICAgIGlkOiAnc2VsZWN0aW9uJyxcbiAgICAgICAgICBpbml0aWFsOiAndmVyaWZ5JyxcbiAgICAgICAgICBzdGF0ZXM6IHtcbiAgICAgICAgICAgIHZlcmlmeToge1xuICAgICAgICAgICAgICBhbHdheXM6IFt7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnc2VsZWN0aW5nJyxcbiAgICAgICAgICAgICAgICBjb25kOiAnbm9JbnN0YW5jZVNlbGVjdGVkJ1xuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAndmFsaWQnLFxuICAgICAgICAgICAgICAgIGNvbmQ6ICdpbnN0YW5jZVNlbGVjdGVkJ1xuICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdGluZzoge1xuICAgICAgICAgICAgICBlbnRyeTogLyojX19QVVJFX18qL3NlbmRQYXJlbnQoJ2lzSW52YWxpZCcpLFxuICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgIHNlbGVjdEluc3RhbmNlOiB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zOiAnc2VsZWN0SW5zdGFuY2UnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmFsaWQ6IHtcbiAgICAgICAgICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50KCdpc1ZhbGlkJyksXG4gICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0SW5zdGFuY2U6IHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zOiAnc2VsZWN0SW5zdGFuY2UnLFxuICAgICAgICAgICAgICAgICAgY29uZDogZnVuY3Rpb24gY29uZChfLCBldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuc2VsZWN0ZWRJbnN0YW5jZSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVzZWxlY3RJbnN0YW5jZToge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdyZXNldCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbmZpcm06IHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogJyNkb25lJyxcbiAgICAgICAgICAgICAgICAgIGNvbmQ6ICdpbnN0YW5jZVNlbGVjdGVkJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZG9uZToge1xuICAgICAgaWQ6ICdkb25lJyxcbiAgICAgIHR5cGU6ICdmaW5hbCcsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNlbGVjdGVkSW5zdGFuY2U6IGZ1bmN0aW9uIHNlbGVjdGVkSW5zdGFuY2UoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkSW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn0sIHtcbiAgYWN0aW9uczoge1xuICAgIHN1Y2Nlc3M6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdhcGkuc3VjY2VzcycpIHJldHVybiB7fTtcblxuICAgICAgdmFyIHJlc3BvbnNlID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoZXZlbnQsIFtcInR5cGVcIl0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXNwb25zZTogcmVzcG9uc2VcbiAgICAgIH07XG4gICAgfSksXG4gICAgc2VsZWN0SW5zdGFuY2U6IC8qI19fUFVSRV9fKi9hc3NpZ24oe1xuICAgICAgc2VsZWN0ZWRJbnN0YW5jZTogZnVuY3Rpb24gc2VsZWN0ZWRJbnN0YW5jZShjb250ZXh0LCBldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3NlbGVjdEluc3RhbmNlJykge1xuICAgICAgICAgIHZhciBfY29udGV4dCRyZXNwb25zZSwgX2NvbnRleHQkcmVzcG9uc2UkaXRlO1xuXG4gICAgICAgICAgcmV0dXJuIChfY29udGV4dCRyZXNwb25zZSA9IGNvbnRleHQucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiAoX2NvbnRleHQkcmVzcG9uc2UkaXRlID0gX2NvbnRleHQkcmVzcG9uc2UuaXRlbXMpID09IG51bGwgPyB2b2lkIDAgOiBfY29udGV4dCRyZXNwb25zZSRpdGUuZmluZChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuIGkuaWQgPT09IGV2ZW50LnNlbGVjdGVkSW5zdGFuY2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZEluc3RhbmNlO1xuICAgICAgfVxuICAgIH0pLFxuICAgIHJlc2V0OiAvKiNfX1BVUkVfXyovYXNzaWduKHtcbiAgICAgIHNlbGVjdGVkSW5zdGFuY2U6IGZ1bmN0aW9uIHNlbGVjdGVkSW5zdGFuY2UoY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnR5cGUgPT09ICdkZXNlbGVjdEluc3RhbmNlJyA/IHVuZGVmaW5lZCA6IGNvbnRleHQuc2VsZWN0ZWRJbnN0YW5jZTtcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuICBndWFyZHM6IHtcbiAgICBpbnN0YW5jZVNlbGVjdGVkOiBmdW5jdGlvbiBpbnN0YW5jZVNlbGVjdGVkKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkSW5zdGFuY2UgIT09IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIG5vSW5zdGFuY2VTZWxlY3RlZDogZnVuY3Rpb24gbm9JbnN0YW5jZVNlbGVjdGVkKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkSW5zdGFuY2UgPT09IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn0pO1xudmFyIHVzZUthZmthc01hY2hpbmVJc1JlYWR5ID0gZnVuY3Rpb24gdXNlS2Fma2FzTWFjaGluZUlzUmVhZHkoYWN0b3IpIHtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKGFjdG9yLCB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUubWF0Y2hlcyh7XG4gICAgICByb290OiB7XG4gICAgICAgIGFwaTogJ3JlYWR5J1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbYWN0b3JdKSk7XG59O1xudmFyIHVzZUthZmthc01hY2hpbmUgPSBmdW5jdGlvbiB1c2VLYWZrYXNNYWNoaW5lKGFjdG9yKSB7XG4gIHZhciBhcGkgPSB1c2VQYWdpbmF0aW9uKGFjdG9yLnN0YXRlLmNoaWxkcmVuW1BBR0lOQVRFRF9NQUNISU5FX0lEJDJdKTtcblxuICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoYWN0b3IsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHZhciBfc3RhdGUkY29udGV4dCRzZWxlY3Q7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc2VsZWN0ZWRJZDogKF9zdGF0ZSRjb250ZXh0JHNlbGVjdCA9IHN0YXRlLmNvbnRleHQuc2VsZWN0ZWRJbnN0YW5jZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zdGF0ZSRjb250ZXh0JHNlbGVjdC5pZFxuICAgIH07XG4gIH0sIFthY3Rvcl0pKSxcbiAgICAgIHNlbGVjdGVkSWQgPSBfdXNlU2VsZWN0b3Iuc2VsZWN0ZWRJZDtcblxuICB2YXIgb25TZWxlY3QgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc2VsZWN0ZWRJbnN0YW5jZSkge1xuICAgIGFjdG9yLnNlbmQoe1xuICAgICAgdHlwZTogJ3NlbGVjdEluc3RhbmNlJyxcbiAgICAgIHNlbGVjdGVkSW5zdGFuY2U6IHNlbGVjdGVkSW5zdGFuY2VcbiAgICB9KTtcbiAgfSwgW2FjdG9yXSk7XG4gIHZhciBvblF1ZXJ5ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICBhY3Rvci5zZW5kKF9leHRlbmRzKHtcbiAgICAgIHR5cGU6ICdhcGkucXVlcnknXG4gICAgfSwgcmVxdWVzdCkpO1xuICB9LCBbYWN0b3JdKTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBhcGksIHtcbiAgICBzZWxlY3RlZElkOiBzZWxlY3RlZElkLFxuICAgIG9uU2VsZWN0OiBvblNlbGVjdCxcbiAgICBvblF1ZXJ5OiBvblF1ZXJ5XG4gIH0pO1xufTtcblxudmFyIHNhdmVDb25uZWN0b3IgPSBmdW5jdGlvbiBzYXZlQ29ubmVjdG9yKF9yZWYpIHtcbiAgdmFyIGFjY2Vzc1Rva2VuID0gX3JlZi5hY2Nlc3NUb2tlbixcbiAgICAgIGJhc2VQYXRoID0gX3JlZi5iYXNlUGF0aCxcbiAgICAgIGthZmthID0gX3JlZi5rYWZrYSxcbiAgICAgIGNsdXN0ZXIgPSBfcmVmLmNsdXN0ZXIsXG4gICAgICBjb25uZWN0b3JUeXBlID0gX3JlZi5jb25uZWN0b3JUeXBlLFxuICAgICAgY29uZmlndXJhdGlvbiA9IF9yZWYuY29uZmlndXJhdGlvbixcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICB1c2VyU2VydmljZUFjY291bnQgPSBfcmVmLnVzZXJTZXJ2aWNlQWNjb3VudDtcbiAgdmFyIGFwaXNTZXJ2aWNlID0gbmV3IENvbm5lY3RvcnNBcGkobmV3IENvbmZpZ3VyYXRpb24oe1xuICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICBiYXNlUGF0aDogYmFzZVBhdGhcbiAgfSkpO1xuICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIENhbmNlbFRva2VuID0gYXhpb3MuQ2FuY2VsVG9rZW47XG4gICAgdmFyIHNvdXJjZSA9IENhbmNlbFRva2VuLnNvdXJjZSgpO1xuICAgIHZhciBhc3luYyA9IHRydWU7XG4gICAgdmFyIGNvbm5lY3RvciA9IHtcbiAgICAgIGtpbmQ6ICdDb25uZWN0b3InLFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAga2Fma2FfaWQ6IGthZmthLmlkXG4gICAgICB9LFxuICAgICAgZGVwbG95bWVudF9sb2NhdGlvbjoge1xuICAgICAgICBraW5kOiAnYWRkb24nLFxuICAgICAgICBjbHVzdGVyX2lkOiBjbHVzdGVyLmlkXG4gICAgICB9LFxuICAgICAgY29ubmVjdG9yX3R5cGVfaWQ6IGNvbm5lY3RvclR5cGUuaWQsXG4gICAgICBrYWZrYToge1xuICAgICAgICBib290c3RyYXBfc2VydmVyOiBrYWZrYS5ib290c3RyYXBfc2VydmVyX2hvc3QgfHwgJ2RlbW8nLFxuICAgICAgICBjbGllbnRfaWQ6IHVzZXJTZXJ2aWNlQWNjb3VudCA9PSBudWxsID8gdm9pZCAwIDogdXNlclNlcnZpY2VBY2NvdW50LmNsaWVudElkLFxuICAgICAgICBjbGllbnRfc2VjcmV0OiB1c2VyU2VydmljZUFjY291bnQgPT0gbnVsbCA/IHZvaWQgMCA6IHVzZXJTZXJ2aWNlQWNjb3VudC5jbGllbnRTZWNyZXRcbiAgICAgIH0sXG4gICAgICBjb25uZWN0b3Jfc3BlYzogY29uZmlndXJhdGlvblxuICAgIH07XG4gICAgYXBpc1NlcnZpY2UuY3JlYXRlQ29ubmVjdG9yKGFzeW5jLCBjb25uZWN0b3IsIHtcbiAgICAgIGNhbmNlbFRva2VuOiBzb3VyY2UudG9rZW5cbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnXG4gICAgICB9KTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKCFheGlvcy5pc0NhbmNlbChlcnJvcikpIHtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgIHR5cGU6ICdmYWlsdXJlJyxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvci5yZXNwb25zZS5kYXRhLnJlYXNvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgc291cmNlLmNhbmNlbCgnT3BlcmF0aW9uIGNhbmNlbGVkIGJ5IHRoZSB1c2VyLicpO1xuICAgIH07XG4gIH07XG59O1xuXG52YXIgcmV2aWV3TWFjaGluZVNjaGVtYSA9IHtcbiAgY29udGV4dDogLyojX19QVVJFX18qL2NyZWF0ZVNjaGVtYSgpXG59O1xudmFyIHJldmlld01hY2hpbmVNb2RlbCA9IC8qI19fUFVSRV9fKi9jcmVhdGVNb2RlbCh7XG4gIGluaXRpYWxDb25maWd1cmF0aW9uOiB1bmRlZmluZWQsXG4gIGNvbmZpZ1N0cmluZzogJycsXG4gIG5hbWU6ICcnLFxuICB2YWxpZGF0b3I6IC8qI19fUFVSRV9fKi9jcmVhdGVWYWxpZGF0b3Ioe30pXG59LCB7XG4gIGV2ZW50czoge1xuICAgIHNldE5hbWU6IGZ1bmN0aW9uIHNldE5hbWUocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSxcbiAgICBzZXRTZXJ2aWNlQWNjb3VudDogZnVuY3Rpb24gc2V0U2VydmljZUFjY291bnQocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSxcbiAgICB1cGRhdGVDb25maWd1cmF0aW9uOiBmdW5jdGlvbiB1cGRhdGVDb25maWd1cmF0aW9uKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0sXG4gICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBmYWlsdXJlOiBmdW5jdGlvbiBmYWlsdXJlKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH1cbiAgfVxufSk7XG52YXIgcmV2aWV3TWFjaGluZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVNYWNoaW5lKHtcbiAgc2NoZW1hOiByZXZpZXdNYWNoaW5lU2NoZW1hLFxuICBpZDogJ3JldmlldycsXG4gIGluaXRpYWw6ICd2ZXJpZnknLFxuICBjb250ZXh0OiByZXZpZXdNYWNoaW5lTW9kZWwuaW5pdGlhbENvbnRleHQsXG4gIGVudHJ5OiAnaW5pdGlhbGl6ZScsXG4gIHN0YXRlczoge1xuICAgIHZlcmlmeToge1xuICAgICAgZW50cnk6ICd2ZXJpZnlDb25maWdTdHJpbmcnLFxuICAgICAgYWx3YXlzOiBbe1xuICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgIGNvbmQ6ICdpc0FsbENvbmZpZ3VyZWQnXG4gICAgICB9LCB7XG4gICAgICAgIHRhcmdldDogJ3Jldmlld2luZydcbiAgICAgIH1dXG4gICAgfSxcbiAgICByZXZpZXdpbmc6IHtcbiAgICAgIGVudHJ5OiAvKiNfX1BVUkVfXyovc2VuZFBhcmVudCQxKCdpc0ludmFsaWQnKSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHNldE5hbWU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgIGFjdGlvbnM6ICdzZXROYW1lJ1xuICAgICAgICB9LFxuICAgICAgICBzZXRTZXJ2aWNlQWNjb3VudDoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogJ3NldFNlcnZpY2VBY2NvdW50J1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVDb25maWd1cmF0aW9uOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiAndXBkYXRlQ29uZmlndXJhdGlvbidcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgdmFsaWQ6IHtcbiAgICAgIGlkOiAndmFsaWQnLFxuICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50JDEoJ2lzVmFsaWQnKSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHNldE5hbWU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgIGFjdGlvbnM6ICdzZXROYW1lJ1xuICAgICAgICB9LFxuICAgICAgICBzZXRTZXJ2aWNlQWNjb3VudDoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogJ3NldFNlcnZpY2VBY2NvdW50J1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVDb25maWd1cmF0aW9uOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiAndXBkYXRlQ29uZmlndXJhdGlvbidcbiAgICAgICAgfSxcbiAgICAgICAgc2F2ZTogJ3NhdmluZydcbiAgICAgIH1cbiAgICB9LFxuICAgIHNhdmluZzoge1xuICAgICAgaW52b2tlOiB7XG4gICAgICAgIHNyYzogZnVuY3Rpb24gc3JjKGNvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm4gc2F2ZUNvbm5lY3Rvcih7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY29udGV4dC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VQYXRoOiBjb250ZXh0LmJhc2VQYXRoLFxuICAgICAgICAgICAga2Fma2E6IGNvbnRleHQua2Fma2EsXG4gICAgICAgICAgICBjbHVzdGVyOiBjb250ZXh0LmNsdXN0ZXIsXG4gICAgICAgICAgICBjb25uZWN0b3JUeXBlOiBjb250ZXh0LmNvbm5lY3RvclR5cGUsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uOiBKU09OLnBhcnNlKGNvbnRleHQuY29uZmlnU3RyaW5nKSxcbiAgICAgICAgICAgIG5hbWU6IGNvbnRleHQubmFtZSxcbiAgICAgICAgICAgIHVzZXJTZXJ2aWNlQWNjb3VudDogY29udGV4dC51c2VyU2VydmljZUFjY291bnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHN1Y2Nlc3M6ICdzYXZlZCcsXG4gICAgICAgIGZhaWx1cmU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgICAgYWN0aW9uczogJ3NldFNhdmluZ0Vycm9yJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGFnczogWydzYXZpbmcnXVxuICAgIH0sXG4gICAgc2F2ZWQ6IHtcbiAgICAgIHR5cGU6ICdmaW5hbCdcbiAgICB9XG4gIH1cbn0sIHtcbiAgYWN0aW9uczoge1xuICAgIGluaXRpYWxpemU6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbmZpZ1N0cmluZzogZGF0YVRvUHJldHR5U3RyaW5nKGNvbnRleHQuaW5pdGlhbENvbmZpZ3VyYXRpb24pLFxuICAgICAgICB2YWxpZGF0b3I6IGNyZWF0ZVZhbGlkYXRvcihjb250ZXh0LmNvbm5lY3RvclR5cGUuanNvbl9zY2hlbWEpXG4gICAgICB9O1xuICAgIH0pLFxuICAgIHNldE5hbWU6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF8sIGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQudHlwZSA9PT0gJ3NldE5hbWUnID8ge1xuICAgICAgICBuYW1lOiBldmVudC5uYW1lXG4gICAgICB9IDoge307XG4gICAgfSksXG4gICAgc2V0U2VydmljZUFjY291bnQ6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF8sIGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQudHlwZSA9PT0gJ3NldFNlcnZpY2VBY2NvdW50JyA/IHtcbiAgICAgICAgdXNlclNlcnZpY2VBY2NvdW50OiBldmVudC5zZXJ2aWNlQWNjb3VudFxuICAgICAgfSA6IHt9O1xuICAgIH0pLFxuICAgIHVwZGF0ZUNvbmZpZ3VyYXRpb246IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF8sIGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQudHlwZSA9PT0gJ3VwZGF0ZUNvbmZpZ3VyYXRpb24nID8ge1xuICAgICAgICBjb25maWdTdHJpbmc6IGV2ZW50LmRhdGFcbiAgICAgIH0gOiB7fTtcbiAgICB9KSxcbiAgICB2ZXJpZnlDb25maWdTdHJpbmc6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIHZhciBfdmVyaWZ5RGF0YSA9IHZlcmlmeURhdGEoY29udGV4dC5jb25maWdTdHJpbmcsIGNvbnRleHQudmFsaWRhdG9yKSxcbiAgICAgICAgICB3YXJuaW5ncyA9IF92ZXJpZnlEYXRhLndhcm5pbmdzLFxuICAgICAgICAgIGVycm9yID0gX3ZlcmlmeURhdGEuZXJyb3I7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbmZpZ1N0cmluZ1dhcm5pbmdzOiB3YXJuaW5ncyxcbiAgICAgICAgY29uZmlnU3RyaW5nRXJyb3I6IGVycm9yXG4gICAgICB9O1xuICAgIH0pLFxuICAgIHNldFNhdmluZ0Vycm9yOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfLCBldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdmYWlsdXJlJykgcmV0dXJuIHt9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2F2aW5nRXJyb3I6IGV2ZW50Lm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfSlcbiAgfSxcbiAgZ3VhcmRzOiB7XG4gICAgaXNBbGxDb25maWd1cmVkOiBmdW5jdGlvbiBpc0FsbENvbmZpZ3VyZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuY29uZmlnU3RyaW5nICE9PSB1bmRlZmluZWQgJiYgY29udGV4dC5jb25maWdTdHJpbmdFcnJvciA9PT0gdW5kZWZpbmVkICYmIGNvbnRleHQubmFtZS5sZW5ndGggPiAwO1xuICAgIH1cbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGRhdGFUb1ByZXR0eVN0cmluZyhkYXRhKSB7XG4gIHZhciBkYXRhVmFsID0gZGF0YSBpbnN0YW5jZW9mIE1hcCA/IG1hcFRvT2JqZWN0KGRhdGEpIDogZGF0YTtcblxuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhVmFsLCBudWxsLCAyKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXBUb09iamVjdChpbnB1dE1hcCkge1xuICB2YXIgb2JqID0ge307XG4gIGlucHV0TWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gdmVyaWZ5RGF0YShkYXRhLCB2YWxpZGF0b3IpIHtcbiAgdHJ5IHtcbiAgICB2YXIgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgdmFyIHZhbGlkYXRpb25SZXN1bHQgPSB2YWxpZGF0b3IocGFyc2VkRGF0YSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdhcm5pbmdzOiB2YWxpZGF0aW9uUmVzdWx0ID8gdmFsaWRhdGlvblJlc3VsdC5kZXRhaWxzLm1hcChmdW5jdGlvbiAoZCkge1xuICAgICAgICByZXR1cm4gZC5pbnN0YW5jZVBhdGggKyBcIiBcIiArIGQubWVzc2FnZTtcbiAgICAgIH0pIDogdW5kZWZpbmVkLFxuICAgICAgZXJyb3I6IHVuZGVmaW5lZFxuICAgIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2FybmluZ3M6IHVuZGVmaW5lZCxcbiAgICAgIGVycm9yOiBcIkludmFsaWQgSlNPTjogXCIgKyBlLm1lc3NhZ2VcbiAgICB9O1xuICB9XG59XG5cbnZhciB1c2VSZXZpZXdNYWNoaW5lID0gZnVuY3Rpb24gdXNlUmV2aWV3TWFjaGluZShhY3Rvcikge1xuICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoYWN0b3IsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBzdGF0ZS5jb250ZXh0Lm5hbWUsXG4gICAgICBzZXJ2aWNlQWNjb3VudDogc3RhdGUuY29udGV4dC51c2VyU2VydmljZUFjY291bnQsXG4gICAgICBjb25maWdTdHJpbmc6IHN0YXRlLmNvbnRleHQuY29uZmlnU3RyaW5nLFxuICAgICAgY29uZmlnU3RyaW5nRXJyb3I6IHN0YXRlLmNvbnRleHQuY29uZmlnU3RyaW5nRXJyb3IsXG4gICAgICBjb25maWdTdHJpbmdXYXJuaW5nczogc3RhdGUuY29udGV4dC5jb25maWdTdHJpbmdXYXJuaW5ncyxcbiAgICAgIGlzU2F2aW5nOiBzdGF0ZS5oYXNUYWcoJ3NhdmluZycpLFxuICAgICAgc2F2aW5nRXJyb3I6IHN0YXRlLmNvbnRleHQuc2F2aW5nRXJyb3JcbiAgICB9O1xuICB9LCBbYWN0b3JdKSksXG4gICAgICBuYW1lID0gX3VzZVNlbGVjdG9yLm5hbWUsXG4gICAgICBzZXJ2aWNlQWNjb3VudCA9IF91c2VTZWxlY3Rvci5zZXJ2aWNlQWNjb3VudCxcbiAgICAgIGNvbmZpZ1N0cmluZyA9IF91c2VTZWxlY3Rvci5jb25maWdTdHJpbmcsXG4gICAgICBjb25maWdTdHJpbmdFcnJvciA9IF91c2VTZWxlY3Rvci5jb25maWdTdHJpbmdFcnJvcixcbiAgICAgIGNvbmZpZ1N0cmluZ1dhcm5pbmdzID0gX3VzZVNlbGVjdG9yLmNvbmZpZ1N0cmluZ1dhcm5pbmdzLFxuICAgICAgaXNTYXZpbmcgPSBfdXNlU2VsZWN0b3IuaXNTYXZpbmcsXG4gICAgICBzYXZpbmdFcnJvciA9IF91c2VTZWxlY3Rvci5zYXZpbmdFcnJvcjtcblxuICB2YXIgb25TZXROYW1lID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBhY3Rvci5zZW5kKHtcbiAgICAgIHR5cGU6ICdzZXROYW1lJyxcbiAgICAgIG5hbWU6IG5hbWVcbiAgICB9KTtcbiAgfSwgW2FjdG9yXSk7XG4gIHZhciBvblNldFNlcnZpY2VBY2NvdW50ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHNlcnZpY2VBY2NvdW50KSB7XG4gICAgYWN0b3Iuc2VuZCh7XG4gICAgICB0eXBlOiAnc2V0U2VydmljZUFjY291bnQnLFxuICAgICAgc2VydmljZUFjY291bnQ6IHNlcnZpY2VBY2NvdW50XG4gICAgfSk7XG4gIH0sIFthY3Rvcl0pO1xuICB2YXIgb25VcGRhdGVDb25maWd1cmF0aW9uID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBhY3Rvci5zZW5kKHtcbiAgICAgIHR5cGU6ICd1cGRhdGVDb25maWd1cmF0aW9uJyxcbiAgICAgIGRhdGE6IGRhdGEgfHwgJydcbiAgICB9KTtcbiAgfSwgW2FjdG9yXSk7XG4gIHJldHVybiB7XG4gICAgbmFtZTogbmFtZSxcbiAgICBzZXJ2aWNlQWNjb3VudDogc2VydmljZUFjY291bnQsXG4gICAgY29uZmlnU3RyaW5nOiBjb25maWdTdHJpbmcsXG4gICAgY29uZmlnU3RyaW5nRXJyb3I6IGNvbmZpZ1N0cmluZ0Vycm9yLFxuICAgIGNvbmZpZ1N0cmluZ1dhcm5pbmdzOiBjb25maWdTdHJpbmdXYXJuaW5ncyxcbiAgICBpc1NhdmluZzogaXNTYXZpbmcsXG4gICAgc2F2aW5nRXJyb3I6IHNhdmluZ0Vycm9yLFxuICAgIG9uU2V0TmFtZTogb25TZXROYW1lLFxuICAgIG9uU2V0U2VydmljZUFjY291bnQ6IG9uU2V0U2VydmljZUFjY291bnQsXG4gICAgb25VcGRhdGVDb25maWd1cmF0aW9uOiBvblVwZGF0ZUNvbmZpZ3VyYXRpb25cbiAgfTtcbn07XG5cbnZhciBjcmVhdGlvbldpemFyZE1hY2hpbmVTY2hlbWEgPSB7XG4gIGNvbnRleHQ6IC8qI19fUFVSRV9fKi9jcmVhdGVTY2hlbWEoKVxufTtcbnZhciBjcmVhdGlvbldpemFyZE1hY2hpbmVNb2RlbCA9IC8qI19fUFVSRV9fKi9jcmVhdGVNb2RlbCh7fSwge1xuICBldmVudHM6IHtcbiAgICBpc1ZhbGlkOiBmdW5jdGlvbiBpc1ZhbGlkKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgaXNJbnZhbGlkOiBmdW5jdGlvbiBpc0ludmFsaWQoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBwcmV2OiBmdW5jdGlvbiBwcmV2KCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGNoYW5nZWRTdGVwOiBmdW5jdGlvbiBjaGFuZ2VkU3RlcChfcmVmKSB7XG4gICAgICB2YXIgc3RlcCA9IF9yZWYuc3RlcDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0ZXA6IHN0ZXBcbiAgICAgIH07XG4gICAgfSxcbiAgICBqdW1wVG9TZWxlY3RLYWZrYTogZnVuY3Rpb24ganVtcFRvU2VsZWN0S2Fma2EoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBqdW1wVG9TZWxlY3RDbHVzdGVyOiBmdW5jdGlvbiBqdW1wVG9TZWxlY3RDbHVzdGVyKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAganVtcFRvU2VsZWN0Q29ubmVjdG9yOiBmdW5jdGlvbiBqdW1wVG9TZWxlY3RDb25uZWN0b3IoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBqdW1wVG9Db25maWd1cmVDb25uZWN0b3I6IGZ1bmN0aW9uIGp1bXBUb0NvbmZpZ3VyZUNvbm5lY3RvcihfcmVmMikge1xuICAgICAgdmFyIHN1YlN0ZXAgPSBfcmVmMi5zdWJTdGVwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3ViU3RlcDogc3ViU3RlcFxuICAgICAgfTtcbiAgICB9LFxuICAgIGp1bXBUb1Jldmlld0NvbmZpZ3VyYXRpb246IGZ1bmN0aW9uIGp1bXBUb1Jldmlld0NvbmZpZ3VyYXRpb24oKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XG59KTtcbnZhciBjcmVhdGlvbldpemFyZE1hY2hpbmUgPSAvKiNfX1BVUkVfXyovY3JlYXRlTWFjaGluZSh7XG4gIHNjaGVtYTogY3JlYXRpb25XaXphcmRNYWNoaW5lU2NoZW1hLFxuICBpZDogJ2NyZWF0aW9uV2l6YXJkJyxcbiAgaW5pdGlhbDogJ3NlbGVjdENvbm5lY3RvcicsXG4gIGNvbnRleHQ6IGNyZWF0aW9uV2l6YXJkTWFjaGluZU1vZGVsLmluaXRpYWxDb250ZXh0LFxuICBzdGF0ZXM6IHtcbiAgICBzZWxlY3RDb25uZWN0b3I6IHtcbiAgICAgIGluaXRpYWw6ICdzZWxlY3RpbmcnLFxuICAgICAgaW52b2tlOiB7XG4gICAgICAgIGlkOiAnc2VsZWN0Q29ubmVjdG9yUmVmJyxcbiAgICAgICAgc3JjOiBjb25uZWN0b3JUeXBlc01hY2hpbmUsXG4gICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY29udGV4dC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VQYXRoOiBjb250ZXh0LmJhc2VQYXRoLFxuICAgICAgICAgICAgc2VsZWN0ZWRDb25uZWN0b3I6IGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3JcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICdzZWxlY3RLYWZrYScsXG4gICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBzZWxlY3RlZENvbm5lY3RvcjogZXZlbnQuZGF0YS5zZWxlY3RlZENvbm5lY3RvcixcbiAgICAgICAgICAgICAgY29ubmVjdG9yQ29uZmlndXJhdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgIGFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwOiAwLFxuICAgICAgICAgICAgICBpc0NvbmZpZ3VyYXRpb25WYWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb25TdGVwczogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcjogJy5lcnJvcidcbiAgICAgIH0sXG4gICAgICBzdGF0ZXM6IHtcbiAgICAgICAgZXJyb3I6IHt9LFxuICAgICAgICBzZWxlY3Rpbmc6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgaXNWYWxpZDogJ3ZhbGlkJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmFsaWQ6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgaXNJbnZhbGlkOiAnc2VsZWN0aW5nJyxcbiAgICAgICAgICAgIG5leHQ6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL3NlbmQkMSgnY29uZmlybScsIHtcbiAgICAgICAgICAgICAgICB0bzogJ3NlbGVjdENvbm5lY3RvclJlZidcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHNlbGVjdEthZmthOiB7XG4gICAgICBpbml0aWFsOiAnc2VsZWN0aW5nJyxcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ3NlbGVjdEthZmthSW5zdGFuY2VSZWYnLFxuICAgICAgICBzcmM6IGthZmthc01hY2hpbmUsXG4gICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY29udGV4dC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VQYXRoOiBjb250ZXh0LmJhc2VQYXRoLFxuICAgICAgICAgICAgc2VsZWN0ZWRJbnN0YW5jZTogY29udGV4dC5zZWxlY3RlZEthZmthSW5zdGFuY2UsXG4gICAgICAgICAgICByZXF1ZXN0OiB7XG4gICAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICAgIHNpemU6IDEwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgdGFyZ2V0OiAnc2VsZWN0Q2x1c3RlcicsXG4gICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbih7XG4gICAgICAgICAgICBzZWxlY3RlZEthZmthSW5zdGFuY2U6IGZ1bmN0aW9uIHNlbGVjdGVkS2Fma2FJbnN0YW5jZShfLCBldmVudCkge1xuICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuZGF0YS5zZWxlY3RlZEluc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIG9uRXJyb3I6ICcuZXJyb3InXG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGVycm9yOiB7fSxcbiAgICAgICAgc2VsZWN0aW5nOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIGlzVmFsaWQ6ICd2YWxpZCdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIGlzSW52YWxpZDogJ3NlbGVjdGluZycsXG4gICAgICAgICAgICBuZXh0OiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IC8qI19fUFVSRV9fKi9zZW5kJDEoJ2NvbmZpcm0nLCB7XG4gICAgICAgICAgICAgICAgdG86ICdzZWxlY3RLYWZrYUluc3RhbmNlUmVmJ1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHByZXY6ICdzZWxlY3RDb25uZWN0b3InXG4gICAgICB9XG4gICAgfSxcbiAgICBzZWxlY3RDbHVzdGVyOiB7XG4gICAgICBpbml0aWFsOiAnc2VsZWN0aW5nJyxcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ3NlbGVjdENsdXN0ZXJSZWYnLFxuICAgICAgICBzcmM6IGNsdXN0ZXJzTWFjaGluZSxcbiAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBjb250ZXh0LmFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgYmFzZVBhdGg6IGNvbnRleHQuYmFzZVBhdGgsXG4gICAgICAgICAgICBzZWxlY3RlZENsdXN0ZXI6IGNvbnRleHQuc2VsZWN0ZWRDbHVzdGVyXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgdGFyZ2V0OiAnY29uZmlndXJlQ29ubmVjdG9yJyxcbiAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovYXNzaWduKHtcbiAgICAgICAgICAgIHNlbGVjdGVkQ2x1c3RlcjogZnVuY3Rpb24gc2VsZWN0ZWRDbHVzdGVyKF8sIGV2ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBldmVudC5kYXRhLnNlbGVjdGVkQ2x1c3RlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiAnLmVycm9yJ1xuICAgICAgfSxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBlcnJvcjoge30sXG4gICAgICAgIHNlbGVjdGluZzoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBpc1ZhbGlkOiAndmFsaWQnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWxpZDoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBpc0ludmFsaWQ6ICdzZWxlY3RpbmcnLFxuICAgICAgICAgICAgbmV4dDoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovc2VuZCQxKCdjb25maXJtJywge1xuICAgICAgICAgICAgICAgIHRvOiAnc2VsZWN0Q2x1c3RlclJlZidcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBwcmV2OiAnc2VsZWN0S2Fma2EnXG4gICAgICB9XG4gICAgfSxcbiAgICBjb25maWd1cmVDb25uZWN0b3I6IHtcbiAgICAgIGluaXRpYWw6ICdsb2FkQ29uZmlndXJhdG9yJyxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBsb2FkQ29uZmlndXJhdG9yOiB7XG4gICAgICAgICAgaW52b2tlOiB7XG4gICAgICAgICAgICBpZDogJ2NvbmZpZ3VyYXRvckxvYWRlcicsXG4gICAgICAgICAgICBzcmM6ICdtYWtlQ29uZmlndXJhdG9yTG9hZGVyTWFjaGluZScsXG4gICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0b3I6IGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3JcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiAnY29uZmlndXJlJyxcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIENvbmZpZ3VyYXRvcjogZXZlbnQuZGF0YS5Db25maWd1cmF0b3IsXG4gICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uU3RlcHM6IGV2ZW50LmRhdGEuc3RlcHNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRXJyb3I6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogZnVuY3Rpb24gYWN0aW9ucyhfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihldmVudC5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb25maWd1cmU6IHtcbiAgICAgICAgICBpZDogJ2NvbmZpZ3VyZScsXG4gICAgICAgICAgaW5pdGlhbDogJ2NvbmZpZ3VyaW5nJyxcbiAgICAgICAgICBpbnZva2U6IHtcbiAgICAgICAgICAgIGlkOiAnY29uZmlndXJhdG9yUmVmJyxcbiAgICAgICAgICAgIHNyYzogY29uZmlndXJhdG9yTWFjaGluZSxcbiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoY29udGV4dCkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNvbm5lY3RvcjogY29udGV4dC5zZWxlY3RlZENvbm5lY3RvcixcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uOiBjb250ZXh0LmNvbm5lY3RvckNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAgICAgc3RlcHM6IGNvbnRleHQuY29uZmlndXJhdGlvblN0ZXBzIHx8IFsnc2luZ2xlIHN0ZXAnXSxcbiAgICAgICAgICAgICAgICBhY3RpdmVTdGVwOiBjb250ZXh0LmFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwIHx8IDAsXG4gICAgICAgICAgICAgICAgaXNBY3RpdmVTdGVwVmFsaWQ6IGNvbnRleHQuY29ubmVjdG9yQ29uZmlndXJhdGlvbiAhPT0gZmFsc2VcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiAnI2NyZWF0aW9uV2l6YXJkLnJldmlld0NvbmZpZ3VyYXRpb24nLFxuICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfLCBldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBjb25uZWN0b3JDb25maWd1cmF0aW9uOiBldmVudC5kYXRhLmNvbmZpZ3VyYXRpb24gfHwgdHJ1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FcnJvcjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBmdW5jdGlvbiBhY3Rpb25zKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGV2ZW50LmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YXRlczoge1xuICAgICAgICAgICAgY29uZmlndXJpbmc6IHtcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICBpc1ZhbGlkOiAndmFsaWQnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2YWxpZDoge1xuICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgIGlzSW52YWxpZDogJ2NvbmZpZ3VyaW5nJyxcbiAgICAgICAgICAgICAgICBuZXh0OiB7XG4gICAgICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovc2VuZCQxKCduZXh0Jywge1xuICAgICAgICAgICAgICAgICAgICB0bzogJ2NvbmZpZ3VyYXRvclJlZidcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgcHJldjogW3tcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL3NlbmQkMSgncHJldicsIHtcbiAgICAgICAgICAgICAgICB0bzogJ2NvbmZpZ3VyYXRvclJlZidcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIGNvbmQ6ICdhcmVUaGVyZVN1YnN0ZXBzJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICB0YXJnZXQ6ICcjY3JlYXRpb25XaXphcmQuc2VsZWN0Q2x1c3RlcidcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgY2hhbmdlZFN0ZXA6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbih7XG4gICAgICAgICAgICAgICAgYWN0aXZlQ29uZmlndXJhdGlvblN0ZXA6IGZ1bmN0aW9uIGFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwKF8sIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuc3RlcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICByZXZpZXdDb25maWd1cmF0aW9uOiB7XG4gICAgICBpZDogJ3JldmlldycsXG4gICAgICBpbml0aWFsOiAncmV2aWV3aW5nJyxcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ3Jldmlld1JlZicsXG4gICAgICAgIHNyYzogcmV2aWV3TWFjaGluZSxcbiAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBjb250ZXh0LmFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgYmFzZVBhdGg6IGNvbnRleHQuYmFzZVBhdGgsXG4gICAgICAgICAgICBrYWZrYTogY29udGV4dC5zZWxlY3RlZEthZmthSW5zdGFuY2UsXG4gICAgICAgICAgICBjbHVzdGVyOiBjb250ZXh0LnNlbGVjdGVkQ2x1c3RlcixcbiAgICAgICAgICAgIGNvbm5lY3RvclR5cGU6IGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3IsXG4gICAgICAgICAgICBpbml0aWFsQ29uZmlndXJhdGlvbjogY29udGV4dC5jb25uZWN0b3JDb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgbmFtZTogJydcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICcjY3JlYXRpb25XaXphcmQuc2F2ZWQnLFxuICAgICAgICAgIGFjdGlvbnM6IFsvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfLCBldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgY29ubmVjdG9yQ29uZmlndXJhdGlvbjogZXZlbnQuZGF0YVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KSwgJ25vdGlmeVNhdmUnXVxuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiB7XG4gICAgICAgICAgYWN0aW9uczogZnVuY3Rpb24gYWN0aW9ucyhfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGV2ZW50LmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIHJldmlld2luZzoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBpc1ZhbGlkOiAndmFsaWQnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWxpZDoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBpc0ludmFsaWQ6ICdyZXZpZXdpbmcnLFxuICAgICAgICAgICAgbmV4dDoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovc2VuZCQxKCdzYXZlJywge1xuICAgICAgICAgICAgICAgIHRvOiAncmV2aWV3UmVmJ1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHByZXY6ICdjb25maWd1cmVDb25uZWN0b3InXG4gICAgICB9XG4gICAgfSxcbiAgICBzYXZlZDoge1xuICAgICAgaWQ6ICdzYXZlZCcsXG4gICAgICB0eXBlOiAnZmluYWwnXG4gICAgfVxuICB9LFxuICBvbjoge1xuICAgIGp1bXBUb1NlbGVjdENvbm5lY3Rvcjoge1xuICAgICAgdGFyZ2V0OiAnc2VsZWN0Q29ubmVjdG9yJ1xuICAgIH0sXG4gICAganVtcFRvU2VsZWN0S2Fma2E6IHtcbiAgICAgIHRhcmdldDogJ3NlbGVjdEthZmthJyxcbiAgICAgIGNvbmQ6ICdpc0Nvbm5lY3RvclNlbGVjdGVkJ1xuICAgIH0sXG4gICAganVtcFRvU2VsZWN0Q2x1c3Rlcjoge1xuICAgICAgdGFyZ2V0OiAnc2VsZWN0Q2x1c3RlcicsXG4gICAgICBjb25kOiAnaXNLYWZrYUluc3RhbmNlU2VsZWN0ZWQnXG4gICAgfSxcbiAgICBqdW1wVG9Db25maWd1cmVDb25uZWN0b3I6IHtcbiAgICAgIHRhcmdldDogJ2NvbmZpZ3VyZUNvbm5lY3RvcicsXG4gICAgICBjb25kOiAnaXNDbHVzdGVyU2VsZWN0ZWQnLFxuICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoXywgZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhY3RpdmVDb25maWd1cmF0aW9uU3RlcDogZXZlbnQuc3ViU3RlcCB8fCAwXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgIH0sXG4gICAganVtcFRvUmV2aWV3Q29uZmlndXJhdGlvbjoge1xuICAgICAgdGFyZ2V0OiAncmV2aWV3Q29uZmlndXJhdGlvbicsXG4gICAgICBjb25kOiAnaXNDb25uZWN0b3JDb25maWd1cmVkJ1xuICAgIH1cbiAgfVxufSwge1xuICBndWFyZHM6IHtcbiAgICBpc0thZmthSW5zdGFuY2VTZWxlY3RlZDogZnVuY3Rpb24gaXNLYWZrYUluc3RhbmNlU2VsZWN0ZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRLYWZrYUluc3RhbmNlICE9PSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBpc0NsdXN0ZXJTZWxlY3RlZDogZnVuY3Rpb24gaXNDbHVzdGVyU2VsZWN0ZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRDbHVzdGVyICE9PSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBpc0Nvbm5lY3RvclNlbGVjdGVkOiBmdW5jdGlvbiBpc0Nvbm5lY3RvclNlbGVjdGVkKGNvbnRleHQsIGV2ZW50KSB7XG4gICAgICB2YXIgc3ViU3RlcCA9IGV2ZW50LnN1YlN0ZXA7XG5cbiAgICAgIGlmIChzdWJTdGVwKSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkQ29ubmVjdG9yICE9PSB1bmRlZmluZWQgJiYgKGNvbnRleHQuY29ubmVjdG9yQ29uZmlndXJhdGlvbiAhPT0gdW5kZWZpbmVkIHx8IHN1YlN0ZXAgPD0gY29udGV4dC5hY3RpdmVDb25maWd1cmF0aW9uU3RlcCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZXh0LnNlbGVjdGVkQ29ubmVjdG9yICE9PSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBpc0Nvbm5lY3RvckNvbmZpZ3VyZWQ6IGZ1bmN0aW9uIGlzQ29ubmVjdG9yQ29uZmlndXJlZChjb250ZXh0KSB7XG4gICAgICBpZiAoIWNvbnRleHQuY29uZmlndXJhdGlvblN0ZXBzKSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmNvbm5lY3RvckNvbmZpZ3VyYXRpb24gIT09IHVuZGVmaW5lZCAmJiBjb250ZXh0LmNvbm5lY3RvckNvbmZpZ3VyYXRpb24gIT09IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGV4dC5jb25uZWN0b3JDb25maWd1cmF0aW9uICE9PSB1bmRlZmluZWQgJiYgY29udGV4dC5jb25uZWN0b3JDb25maWd1cmF0aW9uICE9PSBmYWxzZSB8fCBjb250ZXh0LmFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwID09PSBjb250ZXh0LmNvbmZpZ3VyYXRpb25TdGVwcy5sZW5ndGggLSAxICYmIGNvbnRleHQuaXNDb25maWd1cmF0aW9uVmFsaWQgPT09IHRydWU7XG4gICAgfSxcbiAgICBhcmVUaGVyZVN1YnN0ZXBzOiBmdW5jdGlvbiBhcmVUaGVyZVN1YnN0ZXBzKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwID4gMDtcbiAgICB9XG4gIH0sXG4gIGFjdGlvbnM6IHtcbiAgICBub3RpZnlTYXZlOiBmdW5jdGlvbiBub3RpZnlTYXZlKGNvbnRleHQpIHtcbiAgICAgIGlmIChjb250ZXh0Lm9uU2F2ZSkge1xuICAgICAgICBjb250ZXh0Lm9uU2F2ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgc2VydmljZXM6IHtcbiAgICBtYWtlQ29uZmlndXJhdG9yTG9hZGVyTWFjaGluZTogZnVuY3Rpb24gbWFrZUNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUoKSB7XG4gICAgICByZXR1cm4gY29uZmlndXJhdG9yTG9hZGVyTWFjaGluZTtcbiAgICB9XG4gIH1cbn0pO1xuXG52YXIgQ3JlYXRpb25XaXphcmRNYWNoaW5lU2VydmljZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb250ZXh0KG51bGwpO1xudmFyIENyZWF0aW9uV2l6YXJkTWFjaGluZVByb3ZpZGVyID0gZnVuY3Rpb24gQ3JlYXRpb25XaXphcmRNYWNoaW5lUHJvdmlkZXIoX3JlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgYWNjZXNzVG9rZW4gPSBfcmVmLmFjY2Vzc1Rva2VuLFxuICAgICAgYmFzZVBhdGggPSBfcmVmLmJhc2VQYXRoLFxuICAgICAgX2ZldGNoQ29uZmlndXJhdG9yID0gX3JlZi5mZXRjaENvbmZpZ3VyYXRvcixcbiAgICAgIG9uU2F2ZSA9IF9yZWYub25TYXZlO1xuICB2YXIgbWFrZUNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUud2l0aENvbmZpZyh7XG4gICAgICBzZXJ2aWNlczoge1xuICAgICAgICBmZXRjaENvbmZpZ3VyYXRvcjogZnVuY3Rpb24gZmV0Y2hDb25maWd1cmF0b3IoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBfZmV0Y2hDb25maWd1cmF0b3IoY29udGV4dC5jb25uZWN0b3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtfZmV0Y2hDb25maWd1cmF0b3JdKTtcbiAgdmFyIHNlcnZpY2UgPSB1c2VJbnRlcnByZXQoY3JlYXRpb25XaXphcmRNYWNoaW5lLCB7XG4gICAgZGV2VG9vbHM6IHRydWUsXG4gICAgY29udGV4dDoge1xuICAgICAgYWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuLFxuICAgICAgYmFzZVBhdGg6IGJhc2VQYXRoLFxuICAgICAgb25TYXZlOiBvblNhdmVcbiAgICB9LFxuICAgIHNlcnZpY2VzOiB7XG4gICAgICBtYWtlQ29uZmlndXJhdG9yTG9hZGVyTWFjaGluZTogbWFrZUNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmVcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlLlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHNlcnZpY2VcbiAgfSwgY2hpbGRyZW4pO1xufTtcbnZhciB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlID0gZnVuY3Rpb24gdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lU2VydmljZSgpIHtcbiAgdmFyIHNlcnZpY2UgPSB1c2VDb250ZXh0KENyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UpO1xuXG4gIGlmICghc2VydmljZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKSBtdXN0IGJlIHVzZWQgaW4gYSBjaGlsZCBvZiA8Q3JlYXRpb25XaXphcmRNYWNoaW5lUHJvdmlkZXI+XCIpO1xuICB9XG5cbiAgcmV0dXJuIHNlcnZpY2U7XG59O1xudmFyIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUNvbm5lY3RvclR5cGVzQWN0b3IgPSBmdW5jdGlvbiB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVDb25uZWN0b3JUeXBlc0FjdG9yKCkge1xuICB2YXIgc2VydmljZSA9IHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKTtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKHNlcnZpY2UsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5jaGlsZHJlbi5zZWxlY3RDb25uZWN0b3JSZWY7XG4gIH0sIFtzZXJ2aWNlXSkpO1xufTtcbnZhciB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVLYWZrYXNBY3RvciA9IGZ1bmN0aW9uIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUthZmthc0FjdG9yKCkge1xuICB2YXIgc2VydmljZSA9IHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKTtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKHNlcnZpY2UsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5jaGlsZHJlbi5zZWxlY3RLYWZrYUluc3RhbmNlUmVmO1xuICB9LCBbc2VydmljZV0pKTtcbn07XG52YXIgdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lQ2x1c3RlcnNBY3RvciA9IGZ1bmN0aW9uIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUNsdXN0ZXJzQWN0b3IoKSB7XG4gIHZhciBzZXJ2aWNlID0gdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lU2VydmljZSgpO1xuICByZXR1cm4gdXNlU2VsZWN0b3Ioc2VydmljZSwgdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLmNoaWxkcmVuLnNlbGVjdENsdXN0ZXJSZWY7XG4gIH0sIFtzZXJ2aWNlXSkpO1xufTtcbnZhciB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVSZXZpZXdBY3RvciA9IGZ1bmN0aW9uIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVJldmlld0FjdG9yKCkge1xuICB2YXIgc2VydmljZSA9IHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKTtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKHNlcnZpY2UsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5jaGlsZHJlbi5yZXZpZXdSZWY7XG4gIH0sIFtzZXJ2aWNlXSkpO1xufTtcblxuZXhwb3J0IHsgQ29ubmVjdG9yc01hY2hpbmVQcm92aWRlciwgQ3JlYXRpb25XaXphcmRNYWNoaW5lUHJvdmlkZXIsIFBBR0lOQVRFRF9NQUNISU5FX0lELCBjbHVzdGVyc01hY2hpbmUsIGNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUsIGNvbmZpZ3VyYXRvck1hY2hpbmUsIGNvbm5lY3Rvck1hY2hpbmUsIGNvbm5lY3RvclR5cGVzTWFjaGluZSwgY29ubmVjdG9yc01hY2hpbmUsIGNyZWF0aW9uV2l6YXJkTWFjaGluZSwgZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50cywgZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50c0hhbmRsZXJzLCBrYWZrYXNNYWNoaW5lLCBtYWtlQ29ubmVjdG9yTWFjaGluZSwgbWFrZUZldGNoTWFjaGluZSwgbWFrZVBhZ2luYXRlZEFwaU1hY2hpbmUsIHJldmlld01hY2hpbmUsIHVzZUNsdXN0ZXJzTWFjaGluZSwgdXNlQ2x1c3RlcnNNYWNoaW5lSXNSZWFkeSwgdXNlQ29ubmVjdG9yLCB1c2VDb25uZWN0b3JzTWFjaGluZSwgdXNlQ29ubmVjdG9yc01hY2hpbmVJc1JlYWR5LCB1c2VDb25uZWN0b3JzTWFjaGluZVNlcnZpY2UsIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUNsdXN0ZXJzQWN0b3IsIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUNvbm5lY3RvclR5cGVzQWN0b3IsIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUthZmthc0FjdG9yLCB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVSZXZpZXdBY3RvciwgdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lU2VydmljZSwgdXNlS2Fma2FzTWFjaGluZSwgdXNlS2Fma2FzTWFjaGluZUlzUmVhZHksIHVzZVBhZ2luYXRpb24sIHVzZVJldmlld01hY2hpbmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hY2hpbmVzLmVzbS5qcy5tYXBcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///83255\n")},41361:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "EmptyState": () => (/* binding */ EmptyState),\n/* harmony export */   "EmptyStateVariant": () => (/* binding */ EmptyStateVariant),\n/* harmony export */   "Loading": () => (/* binding */ Loading),\n/* harmony export */   "NoMatchFound": () => (/* binding */ NoMatchFound),\n/* harmony export */   "useDebounce": () => (/* binding */ useDebounce)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(42403);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(63583);\n/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_plus_circle_icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(21191);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_space_shuttle_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(99717);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_lock_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(41469);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_search_icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(53106);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_exclamation_circle_icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(47442);\n/* harmony import */ var _patternfly_react_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(42259);\n/* harmony import */ var _patternfly_react_styles__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_styles__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(13857);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar NotFoundIcon = "data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20%20viewBox%3D%220%200%20100%20109%22%20style%3D%22enable-background%3Anew%200%200%20100%20109%3B%22%20xml%3Aspace%3D%22preserve%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%20.st0%7Bfill%3Anone%3Bstroke%3A%236A6E73%3Bstroke-linecap%3Around%3Bstroke-linejoin%3Around%3Bstroke-miterlimit%3A10%3Bstroke-dasharray%3A3%2C5%3B%7D%20.st1%7Bfill%3A%23FFFFFF%3Bstroke%3A%236A6E73%3Bstroke-linecap%3Around%3Bstroke-linejoin%3Around%3Bstroke-miterlimit%3A10%3B%7D%20.st2%7Bfill%3A%236A6E73%3B%7D%3C%2Fstyle%3E%3Cpath%20class%3D%22st0%22%20d%3D%22M12.5%2C96.5c3-33%2C17.4-35.8%2C38-24c19.1%2C11%2C36-8.1%2C21-27c-15.4-19.4-8-23-8-23%22%2F%3E%3Cpath%20class%3D%22st1%22%20d%3D%22M13%2C25v50%20M27.8%2C71.8V104%20M27.8%2C15v47.6%20M42.6%2C74v34%20M42.6%2C10v54.2%20M57.4%2C79.2V108%20M57.4%2C32v38%20M72.2%2C77v27%20%20M72.2%2C54.8v9.5%20M72.2%2C29v10.2%20M87%2C25v68%20M56%2C22.5l-40-0.2%20M59.6%2C37.1L5%2C37.1%20M59.6%2C37.1%20M95%2C37.1l-24.1%2C0%20M70.4%2C51.9L1%2C51.9%20%20M70.4%2C51.9%20M80.8%2C51.9%20M99%2C51.9l-18.2%2C0%20M18.6%2C66.6L1%2C66.6%20M70.4%2C66.6l-21.9%2C0%20M99%2C66.6l-17.9%2C0%20M10.5%2C81.4H6%20M95%2C81.4l-75%2C0%20%20M84%2C96.2l-67%2C0%22%2F%3E%3Cg%3E%20%3Cpath%20class%3D%22st2%22%20d%3D%22M81.3%2C15.7c-0.9%2C1.5-2.1%2C2.7-3.6%2C3.6c-1.5%2C0.9-3.2%2C1.3-5%2C1.3s-3.4-0.4-5-1.3c-1.5-0.9-2.7-2.1-3.6-3.6%20%20c-0.9-1.5-1.3-3.2-1.3-5s0.4-3.4%2C1.3-5c0.9-1.5%2C2.1-2.7%2C3.6-3.6c1.5-0.9%2C3.2-1.3%2C5-1.3s3.4%2C0.4%2C5%2C1.3c1.5%2C0.9%2C2.7%2C2.1%2C3.6%2C3.6%20%20c0.9%2C1.5%2C1.3%2C3.2%2C1.3%2C5S82.2%2C14.2%2C81.3%2C15.7z%20M70.3%2C4.8c-0.7%2C0.4-1.4%2C1-1.9%2C1.9c-0.1%2C0.1-0.1%2C0.2-0.1%2C0.3c0%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3%20%20l1.4%2C1c0.1%2C0.1%2C0.2%2C0.1%2C0.3%2C0.1c0.1%2C0%2C0.2-0.1%2C0.3-0.2c0.4-0.5%2C0.8-0.9%2C1-1c0.4-0.3%2C0.8-0.4%2C1.3-0.4c0.5%2C0%2C0.9%2C0.1%2C1.3%2C0.4%20%20c0.4%2C0.3%2C0.6%2C0.6%2C0.6%2C0.9c0%2C0.3-0.1%2C0.5-0.4%2C0.8c-0.2%2C0.1-0.5%2C0.3-0.9%2C0.6l-0.1%2C0c-0.7%2C0.4-1.1%2C0.7-1.4%2C1c-0.5%2C0.5-0.7%2C1.1-0.7%2C1.8%20%20v0.2c0%2C0.1%2C0%2C0.2%2C0.1%2C0.3c0.1%2C0.1%2C0.2%2C0.1%2C0.3%2C0.1h2.2c0.1%2C0%2C0.2%2C0%2C0.3-0.1c0.1-0.1%2C0.1-0.2%2C0.1-0.3v0c0-0.2%2C0.1-0.4%2C0.3-0.6%20%20c0.1-0.1%2C0.4-0.3%2C0.8-0.5c0.7-0.4%2C1.2-0.8%2C1.5-1.1c0.5-0.6%2C0.8-1.3%2C0.8-2.1c0-0.7-0.2-1.4-0.7-2.1s-1-1.1-1.8-1.5s-1.5-0.5-2.2-0.5%20%20C72%2C4.2%2C71.1%2C4.4%2C70.3%2C4.8z%20M71.5%2C14.6c-0.4%2C0.4-0.5%2C0.8-0.5%2C1.3s0.2%2C0.9%2C0.5%2C1.3s0.8%2C0.5%2C1.3%2C0.5s0.9-0.2%2C1.3-0.5s0.5-0.8%2C0.5-1.3%20%20s-0.2-0.9-0.5-1.3s-0.8-0.5-1.3-0.5S71.8%2C14.2%2C71.5%2C14.6z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E";\n\nvar NotFoundImg = function NotFoundImg() {\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", {\n    src: NotFoundIcon,\n    alt: "Not found page",\n    width: "128px"\n  });\n};\n\nvar EmptyStateVariant;\n\n(function (EmptyStateVariant) {\n  EmptyStateVariant["GettingStarted"] = "GettingStarted";\n  EmptyStateVariant["NoAccess"] = "NoAccess";\n  EmptyStateVariant["NoResult"] = "NoResult";\n  EmptyStateVariant["NoItems"] = "NoItems";\n  EmptyStateVariant["UnexpectedError"] = "UnexpectedError";\n  EmptyStateVariant["PageNotFound"] = "PageNotFound";\n})(EmptyStateVariant || (EmptyStateVariant = {}));\n\nvar EmptyState = function EmptyState(_ref) {\n  var titleProps = _ref.titleProps,\n      buttonProps = _ref.buttonProps,\n      emptyStateIconProps = _ref.emptyStateIconProps,\n      emptyStateProps = _ref.emptyStateProps,\n      emptyStateBodyProps = _ref.emptyStateBodyProps,\n      children = _ref.children;\n\n  var _ref2 = buttonProps || {},\n      _ref2$variant = _ref2.variant,\n      buttonVariant = _ref2$variant === void 0 ? _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ButtonVariant.primary : _ref2$variant,\n      onClick = _ref2.onClick,\n      restButtonProps = _objectWithoutPropertiesLoose(_ref2, ["variant", "onClick"]);\n\n  var _ref3 = titleProps || {},\n      title = _ref3.title,\n      restTitleProps = _objectWithoutPropertiesLoose(_ref3, ["title"]);\n\n  var _ref4 = emptyStateBodyProps || {},\n      body = _ref4.body,\n      restEmptyStateBodyProps = _objectWithoutPropertiesLoose(_ref4, ["body"]);\n\n  var _ref5 = emptyStateProps || {},\n      _ref5$variant = _ref5.variant,\n      emptyStateVariant = _ref5$variant === void 0 ? EmptyStateVariant.GettingStarted : _ref5$variant,\n      className = _ref5.className,\n      restEmptyStateProps = _objectWithoutPropertiesLoose(_ref5, ["variant", "className"]);\n\n  var _getVariantConfig = getVariantConfig({\n    variant: emptyStateVariant,\n    emptyStateIconProps: emptyStateIconProps,\n    titleProps: titleProps\n  }),\n      variant = _getVariantConfig.variant,\n      icon = _getVariantConfig.icon,\n      titleSize = _getVariantConfig.titleSize,\n      headingLevel = _getVariantConfig.headingLevel;\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyState, _extends({\n    variant: variant,\n    className: (0,_patternfly_react_styles__WEBPACK_IMPORTED_MODULE_2__.css)(\'pf-u-pt-2xl pf-u-pt-3xl-on-md\', className)\n  }, restEmptyStateProps), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateIcon, _extends({\n    icon: icon\n  }, emptyStateIconProps)), title && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Title, _extends({\n    headingLevel: headingLevel,\n    size: titleSize\n  }, restTitleProps), title), body && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateBody, _extends({}, restEmptyStateBodyProps), body), (buttonProps == null ? void 0 : buttonProps.title) && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, _extends({\n    variant: buttonVariant,\n    onClick: onClick\n  }, restButtonProps), buttonProps == null ? void 0 : buttonProps.title), children);\n};\n\nvar getVariantConfig = function getVariantConfig(_ref6) {\n  var variant = _ref6.variant,\n      emptyStateIconProps = _ref6.emptyStateIconProps,\n      titleProps = _ref6.titleProps;\n  var varaintConfig = {};\n\n  switch (variant) {\n    case EmptyStateVariant.GettingStarted:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.xl,\n        icon: _patternfly_react_icons_dist_js_icons_space_shuttle_icon__WEBPACK_IMPORTED_MODULE_4__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes["4xl"],\n        headingLevel: \'h1\'\n      };\n      break;\n\n    case EmptyStateVariant.NoAccess:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.large,\n        icon: _patternfly_react_icons_dist_js_icons_lock_icon__WEBPACK_IMPORTED_MODULE_5__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.xl,\n        headingLevel: \'h2\'\n      };\n      break;\n\n    case EmptyStateVariant.NoItems:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.large,\n        icon: _patternfly_react_icons_dist_js_icons_plus_circle_icon__WEBPACK_IMPORTED_MODULE_6__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.xl,\n        headingLevel: \'h2\'\n      };\n      break;\n\n    case EmptyStateVariant.NoResult:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.large,\n        icon: _patternfly_react_icons_dist_js_icons_search_icon__WEBPACK_IMPORTED_MODULE_7__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.lg,\n        headingLevel: \'h2\'\n      };\n      break;\n\n    case EmptyStateVariant.UnexpectedError:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.full,\n        icon: _patternfly_react_icons_dist_js_icons_exclamation_circle_icon__WEBPACK_IMPORTED_MODULE_8__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.lg,\n        headingLevel: \'h1\'\n      };\n      break;\n\n    case EmptyStateVariant.PageNotFound:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.full,\n        icon: NotFoundImg,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.lg,\n        headingLevel: \'h1\'\n      };\n      break;\n\n    default:\n      varaintConfig = {\n        variant: variant || _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.full,\n        icon: emptyStateIconProps == null ? void 0 : emptyStateIconProps.icon,\n        titleSize: titleProps == null ? void 0 : titleProps.size,\n        headingLevel: titleProps == null ? void 0 : titleProps.headingLevel\n      };\n      break;\n  }\n\n  return varaintConfig;\n};\n\nvar Loading = function Loading() {\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyState, null, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateIcon, {\n    variant: "container",\n    component: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Spinner\n  }), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Title, {\n    size: "lg",\n    headingLevel: "h4"\n  }, "Loading"));\n};\n\nvar NoMatchFound = function NoMatchFound(_ref) {\n  var onClear = _ref.onClear;\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(EmptyState, {\n    emptyStateProps: {\n      variant: EmptyStateVariant.NoItems\n    },\n    titleProps: {\n      title: \'No results found\'\n    },\n    emptyStateBodyProps: {\n      body: \'No results match the filter criteria. Clear all filters to show results.\'\n    },\n    buttonProps: onClear && {\n      title: \'Clear all filters\',\n      onClick: onClear\n    }\n  });\n};\n\nvar useDebounce = function useDebounce(fnToDebounce, durationInMs) {\n  if (durationInMs === void 0) {\n    durationInMs = 200;\n  }\n\n  if (isNaN(durationInMs)) {\n    throw new TypeError(\'durationInMs for debounce should be a number\');\n  }\n\n  if (typeof fnToDebounce !== \'function\') {\n    throw new TypeError(\'fnToDebounce should be a function\');\n  } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default()(fnToDebounce, durationInMs), [fnToDebounce, durationInMs]);\n};\n\n\n//# sourceMappingURL=utils.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL3V0aWxzL2Rpc3QvdXRpbHMuZXNtLmpzPzZmYmYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9EO0FBQzZJO0FBQzdHO0FBQ0k7QUFDakI7QUFDSTtBQUN1QjtBQUNuRDtBQUNSOztBQUV2QztBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYSx1QkFBdUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVMsMERBQTRCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsOENBQThDOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0I7QUFDL0I7QUFDQSxpREFBaUQseUVBQXFCO0FBQ3RFO0FBQ0E7O0FBRUEsOEJBQThCO0FBQzlCO0FBQ0E7O0FBRUEsdUNBQXVDO0FBQ3ZDO0FBQ0E7O0FBRUEsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsMERBQTRCLENBQUMsOERBQVk7QUFDbEQ7QUFDQSxlQUFlLDZEQUFHO0FBQ2xCLEdBQUcsd0JBQXdCLDBEQUE0QixDQUFDLGtFQUFjO0FBQ3RFO0FBQ0EsR0FBRyxrQ0FBa0MsMERBQTRCLENBQUMseURBQUs7QUFDdkU7QUFDQTtBQUNBLEdBQUcsbUNBQW1DLDBEQUE0QixDQUFDLGtFQUFjLGFBQWEseUZBQXlGLDBEQUE0QixDQUFDLDBEQUFNO0FBQzFOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0VBQXNCO0FBQ3ZDLGNBQWMsdUdBQWdCO0FBQzlCLG1CQUFtQixxRUFBaUI7QUFDcEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsMkVBQXlCO0FBQzFDLGNBQWMsOEZBQVE7QUFDdEIsbUJBQW1CLGlFQUFhO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLDJFQUF5QjtBQUMxQyxjQUFjLHFHQUFjO0FBQzVCLG1CQUFtQixpRUFBYTtBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQiwyRUFBeUI7QUFDMUMsY0FBYyxnR0FBVTtBQUN4QixtQkFBbUIsaUVBQWE7QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsMEVBQXdCO0FBQ3pDLGNBQWMsNEdBQXFCO0FBQ25DLG1CQUFtQixpRUFBYTtBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQiwwRUFBd0I7QUFDekM7QUFDQSxtQkFBbUIsaUVBQWE7QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0QkFBNEIsMEVBQXdCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsU0FBUywwREFBNEIsQ0FBQyw4REFBWSxRQUFRLDBEQUE0QixDQUFDLGtFQUFjO0FBQ3JHO0FBQ0EsZUFBZSwyREFBTztBQUN0QixHQUFHLEdBQUcsMERBQTRCLENBQUMseURBQUs7QUFDeEM7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsU0FBUywwREFBNEI7QUFDckM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSCxTQUFTLGtEQUFXLENBQUMsc0RBQVE7QUFDN0I7O0FBRTZFO0FBQzdFIiwiZmlsZSI6IjQxMzYxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0X19kZWZhdWx0LCB7IHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRW1wdHlTdGF0ZSBhcyBFbXB0eVN0YXRlJDEsIEVtcHR5U3RhdGVJY29uLCBUaXRsZSwgRW1wdHlTdGF0ZUJvZHksIEJ1dHRvbiwgQnV0dG9uVmFyaWFudCwgRW1wdHlTdGF0ZVZhcmlhbnQgYXMgRW1wdHlTdGF0ZVZhcmlhbnQkMSwgVGl0bGVTaXplcywgU3Bpbm5lciB9IGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LWNvcmUnO1xuaW1wb3J0IFBsdXNDaXJjbGVJY29uIGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LWljb25zL2Rpc3QvanMvaWNvbnMvcGx1cy1jaXJjbGUtaWNvbic7XG5pbXBvcnQgU3BhY2VTaHV0dGxlSWNvbiBmcm9tICdAcGF0dGVybmZseS9yZWFjdC1pY29ucy9kaXN0L2pzL2ljb25zL3NwYWNlLXNodXR0bGUtaWNvbic7XG5pbXBvcnQgTG9ja0ljb24gZnJvbSAnQHBhdHRlcm5mbHkvcmVhY3QtaWNvbnMvZGlzdC9qcy9pY29ucy9sb2NrLWljb24nO1xuaW1wb3J0IFNlYXJjaEljb24gZnJvbSAnQHBhdHRlcm5mbHkvcmVhY3QtaWNvbnMvZGlzdC9qcy9pY29ucy9zZWFyY2gtaWNvbic7XG5pbXBvcnQgRXhjbGFtYXRpb25DaXJjbGVJY29uIGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LWljb25zL2Rpc3QvanMvaWNvbnMvZXhjbGFtYXRpb24tY2lyY2xlLWljb24nO1xuaW1wb3J0IHsgY3NzIH0gZnJvbSAnQHBhdHRlcm5mbHkvcmVhY3Qtc3R5bGVzJztcbmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2guZGVib3VuY2UnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIE5vdEZvdW5kSWNvbiA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyUzRnhtbCUyMHZlcnNpb24lM0QlMjIxLjAlMjIlMjBlbmNvZGluZyUzRCUyMnV0Zi04JTIyJTNGJTNFJTNDc3ZnJTIwdmVyc2lvbiUzRCUyMjEuMSUyMiUyMGlkJTNEJTIyTGF5ZXJfMSUyMiUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIweG1sbnMlM0F4bGluayUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMTk5OSUyRnhsaW5rJTIyJTIweCUzRCUyMjBweCUyMiUyMHklM0QlMjIwcHglMjIlMjAlMjB2aWV3Qm94JTNEJTIyMCUyMDAlMjAxMDAlMjAxMDklMjIlMjBzdHlsZSUzRCUyMmVuYWJsZS1iYWNrZ3JvdW5kJTNBbmV3JTIwMCUyMDAlMjAxMDAlMjAxMDklM0IlMjIlMjB4bWwlM0FzcGFjZSUzRCUyMnByZXNlcnZlJTIyJTNFJTNDc3R5bGUlMjB0eXBlJTNEJTIydGV4dCUyRmNzcyUyMiUzRSUyMC5zdDAlN0JmaWxsJTNBbm9uZSUzQnN0cm9rZSUzQSUyMzZBNkU3MyUzQnN0cm9rZS1saW5lY2FwJTNBcm91bmQlM0JzdHJva2UtbGluZWpvaW4lM0Fyb3VuZCUzQnN0cm9rZS1taXRlcmxpbWl0JTNBMTAlM0JzdHJva2UtZGFzaGFycmF5JTNBMyUyQzUlM0IlN0QlMjAuc3QxJTdCZmlsbCUzQSUyM0ZGRkZGRiUzQnN0cm9rZSUzQSUyMzZBNkU3MyUzQnN0cm9rZS1saW5lY2FwJTNBcm91bmQlM0JzdHJva2UtbGluZWpvaW4lM0Fyb3VuZCUzQnN0cm9rZS1taXRlcmxpbWl0JTNBMTAlM0IlN0QlMjAuc3QyJTdCZmlsbCUzQSUyMzZBNkU3MyUzQiU3RCUzQyUyRnN0eWxlJTNFJTNDcGF0aCUyMGNsYXNzJTNEJTIyc3QwJTIyJTIwZCUzRCUyMk0xMi41JTJDOTYuNWMzLTMzJTJDMTcuNC0zNS44JTJDMzgtMjRjMTkuMSUyQzExJTJDMzYtOC4xJTJDMjEtMjdjLTE1LjQtMTkuNC04LTIzLTgtMjMlMjIlMkYlM0UlM0NwYXRoJTIwY2xhc3MlM0QlMjJzdDElMjIlMjBkJTNEJTIyTTEzJTJDMjV2NTAlMjBNMjcuOCUyQzcxLjhWMTA0JTIwTTI3LjglMkMxNXY0Ny42JTIwTTQyLjYlMkM3NHYzNCUyME00Mi42JTJDMTB2NTQuMiUyME01Ny40JTJDNzkuMlYxMDglMjBNNTcuNCUyQzMydjM4JTIwTTcyLjIlMkM3N3YyNyUyMCUyME03Mi4yJTJDNTQuOHY5LjUlMjBNNzIuMiUyQzI5djEwLjIlMjBNODclMkMyNXY2OCUyME01NiUyQzIyLjVsLTQwLTAuMiUyME01OS42JTJDMzcuMUw1JTJDMzcuMSUyME01OS42JTJDMzcuMSUyME05NSUyQzM3LjFsLTI0LjElMkMwJTIwTTcwLjQlMkM1MS45TDElMkM1MS45JTIwJTIwTTcwLjQlMkM1MS45JTIwTTgwLjglMkM1MS45JTIwTTk5JTJDNTEuOWwtMTguMiUyQzAlMjBNMTguNiUyQzY2LjZMMSUyQzY2LjYlMjBNNzAuNCUyQzY2LjZsLTIxLjklMkMwJTIwTTk5JTJDNjYuNmwtMTcuOSUyQzAlMjBNMTAuNSUyQzgxLjRINiUyME05NSUyQzgxLjRsLTc1JTJDMCUyMCUyME04NCUyQzk2LjJsLTY3JTJDMCUyMiUyRiUzRSUzQ2clM0UlMjAlM0NwYXRoJTIwY2xhc3MlM0QlMjJzdDIlMjIlMjBkJTNEJTIyTTgxLjMlMkMxNS43Yy0wLjklMkMxLjUtMi4xJTJDMi43LTMuNiUyQzMuNmMtMS41JTJDMC45LTMuMiUyQzEuMy01JTJDMS4zcy0zLjQtMC40LTUtMS4zYy0xLjUtMC45LTIuNy0yLjEtMy42LTMuNiUyMCUyMGMtMC45LTEuNS0xLjMtMy4yLTEuMy01czAuNC0zLjQlMkMxLjMtNWMwLjktMS41JTJDMi4xLTIuNyUyQzMuNi0zLjZjMS41LTAuOSUyQzMuMi0xLjMlMkM1LTEuM3MzLjQlMkMwLjQlMkM1JTJDMS4zYzEuNSUyQzAuOSUyQzIuNyUyQzIuMSUyQzMuNiUyQzMuNiUyMCUyMGMwLjklMkMxLjUlMkMxLjMlMkMzLjIlMkMxLjMlMkM1UzgyLjIlMkMxNC4yJTJDODEuMyUyQzE1Ljd6JTIwTTcwLjMlMkM0LjhjLTAuNyUyQzAuNC0xLjQlMkMxLTEuOSUyQzEuOWMtMC4xJTJDMC4xLTAuMSUyQzAuMi0wLjElMkMwLjNjMCUyQzAuMSUyQzAuMSUyQzAuMiUyQzAuMiUyQzAuMyUyMCUyMGwxLjQlMkMxYzAuMSUyQzAuMSUyQzAuMiUyQzAuMSUyQzAuMyUyQzAuMWMwLjElMkMwJTJDMC4yLTAuMSUyQzAuMy0wLjJjMC40LTAuNSUyQzAuOC0wLjklMkMxLTFjMC40LTAuMyUyQzAuOC0wLjQlMkMxLjMtMC40YzAuNSUyQzAlMkMwLjklMkMwLjElMkMxLjMlMkMwLjQlMjAlMjBjMC40JTJDMC4zJTJDMC42JTJDMC42JTJDMC42JTJDMC45YzAlMkMwLjMtMC4xJTJDMC41LTAuNCUyQzAuOGMtMC4yJTJDMC4xLTAuNSUyQzAuMy0wLjklMkMwLjZsLTAuMSUyQzBjLTAuNyUyQzAuNC0xLjElMkMwLjctMS40JTJDMWMtMC41JTJDMC41LTAuNyUyQzEuMS0wLjclMkMxLjglMjAlMjB2MC4yYzAlMkMwLjElMkMwJTJDMC4yJTJDMC4xJTJDMC4zYzAuMSUyQzAuMSUyQzAuMiUyQzAuMSUyQzAuMyUyQzAuMWgyLjJjMC4xJTJDMCUyQzAuMiUyQzAlMkMwLjMtMC4xYzAuMS0wLjElMkMwLjEtMC4yJTJDMC4xLTAuM3YwYzAtMC4yJTJDMC4xLTAuNCUyQzAuMy0wLjYlMjAlMjBjMC4xLTAuMSUyQzAuNC0wLjMlMkMwLjgtMC41YzAuNy0wLjQlMkMxLjItMC44JTJDMS41LTEuMWMwLjUtMC42JTJDMC44LTEuMyUyQzAuOC0yLjFjMC0wLjctMC4yLTEuNC0wLjctMi4xcy0xLTEuMS0xLjgtMS41cy0xLjUtMC41LTIuMi0wLjUlMjAlMjBDNzIlMkM0LjIlMkM3MS4xJTJDNC40JTJDNzAuMyUyQzQuOHolMjBNNzEuNSUyQzE0LjZjLTAuNCUyQzAuNC0wLjUlMkMwLjgtMC41JTJDMS4zczAuMiUyQzAuOSUyQzAuNSUyQzEuM3MwLjglMkMwLjUlMkMxLjMlMkMwLjVzMC45LTAuMiUyQzEuMy0wLjVzMC41LTAuOCUyQzAuNS0xLjMlMjAlMjBzLTAuMi0wLjktMC41LTEuM3MtMC44LTAuNS0xLjMtMC41UzcxLjglMkMxNC4yJTJDNzEuNSUyQzE0LjZ6JTIyJTJGJTNFJTNDJTJGZyUzRSUzQyUyRnN2ZyUzRVwiO1xuXG52YXIgTm90Rm91bmRJbWcgPSBmdW5jdGlvbiBOb3RGb3VuZEltZygpIHtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwge1xuICAgIHNyYzogTm90Rm91bmRJY29uLFxuICAgIGFsdDogXCJOb3QgZm91bmQgcGFnZVwiLFxuICAgIHdpZHRoOiBcIjEyOHB4XCJcbiAgfSk7XG59O1xuXG52YXIgRW1wdHlTdGF0ZVZhcmlhbnQ7XG5cbihmdW5jdGlvbiAoRW1wdHlTdGF0ZVZhcmlhbnQpIHtcbiAgRW1wdHlTdGF0ZVZhcmlhbnRbXCJHZXR0aW5nU3RhcnRlZFwiXSA9IFwiR2V0dGluZ1N0YXJ0ZWRcIjtcbiAgRW1wdHlTdGF0ZVZhcmlhbnRbXCJOb0FjY2Vzc1wiXSA9IFwiTm9BY2Nlc3NcIjtcbiAgRW1wdHlTdGF0ZVZhcmlhbnRbXCJOb1Jlc3VsdFwiXSA9IFwiTm9SZXN1bHRcIjtcbiAgRW1wdHlTdGF0ZVZhcmlhbnRbXCJOb0l0ZW1zXCJdID0gXCJOb0l0ZW1zXCI7XG4gIEVtcHR5U3RhdGVWYXJpYW50W1wiVW5leHBlY3RlZEVycm9yXCJdID0gXCJVbmV4cGVjdGVkRXJyb3JcIjtcbiAgRW1wdHlTdGF0ZVZhcmlhbnRbXCJQYWdlTm90Rm91bmRcIl0gPSBcIlBhZ2VOb3RGb3VuZFwiO1xufSkoRW1wdHlTdGF0ZVZhcmlhbnQgfHwgKEVtcHR5U3RhdGVWYXJpYW50ID0ge30pKTtcblxudmFyIEVtcHR5U3RhdGUgPSBmdW5jdGlvbiBFbXB0eVN0YXRlKF9yZWYpIHtcbiAgdmFyIHRpdGxlUHJvcHMgPSBfcmVmLnRpdGxlUHJvcHMsXG4gICAgICBidXR0b25Qcm9wcyA9IF9yZWYuYnV0dG9uUHJvcHMsXG4gICAgICBlbXB0eVN0YXRlSWNvblByb3BzID0gX3JlZi5lbXB0eVN0YXRlSWNvblByb3BzLFxuICAgICAgZW1wdHlTdGF0ZVByb3BzID0gX3JlZi5lbXB0eVN0YXRlUHJvcHMsXG4gICAgICBlbXB0eVN0YXRlQm9keVByb3BzID0gX3JlZi5lbXB0eVN0YXRlQm9keVByb3BzLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuXG4gIHZhciBfcmVmMiA9IGJ1dHRvblByb3BzIHx8IHt9LFxuICAgICAgX3JlZjIkdmFyaWFudCA9IF9yZWYyLnZhcmlhbnQsXG4gICAgICBidXR0b25WYXJpYW50ID0gX3JlZjIkdmFyaWFudCA9PT0gdm9pZCAwID8gQnV0dG9uVmFyaWFudC5wcmltYXJ5IDogX3JlZjIkdmFyaWFudCxcbiAgICAgIG9uQ2xpY2sgPSBfcmVmMi5vbkNsaWNrLFxuICAgICAgcmVzdEJ1dHRvblByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjIsIFtcInZhcmlhbnRcIiwgXCJvbkNsaWNrXCJdKTtcblxuICB2YXIgX3JlZjMgPSB0aXRsZVByb3BzIHx8IHt9LFxuICAgICAgdGl0bGUgPSBfcmVmMy50aXRsZSxcbiAgICAgIHJlc3RUaXRsZVByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjMsIFtcInRpdGxlXCJdKTtcblxuICB2YXIgX3JlZjQgPSBlbXB0eVN0YXRlQm9keVByb3BzIHx8IHt9LFxuICAgICAgYm9keSA9IF9yZWY0LmJvZHksXG4gICAgICByZXN0RW1wdHlTdGF0ZUJvZHlQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWY0LCBbXCJib2R5XCJdKTtcblxuICB2YXIgX3JlZjUgPSBlbXB0eVN0YXRlUHJvcHMgfHwge30sXG4gICAgICBfcmVmNSR2YXJpYW50ID0gX3JlZjUudmFyaWFudCxcbiAgICAgIGVtcHR5U3RhdGVWYXJpYW50ID0gX3JlZjUkdmFyaWFudCA9PT0gdm9pZCAwID8gRW1wdHlTdGF0ZVZhcmlhbnQuR2V0dGluZ1N0YXJ0ZWQgOiBfcmVmNSR2YXJpYW50LFxuICAgICAgY2xhc3NOYW1lID0gX3JlZjUuY2xhc3NOYW1lLFxuICAgICAgcmVzdEVtcHR5U3RhdGVQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWY1LCBbXCJ2YXJpYW50XCIsIFwiY2xhc3NOYW1lXCJdKTtcblxuICB2YXIgX2dldFZhcmlhbnRDb25maWcgPSBnZXRWYXJpYW50Q29uZmlnKHtcbiAgICB2YXJpYW50OiBlbXB0eVN0YXRlVmFyaWFudCxcbiAgICBlbXB0eVN0YXRlSWNvblByb3BzOiBlbXB0eVN0YXRlSWNvblByb3BzLFxuICAgIHRpdGxlUHJvcHM6IHRpdGxlUHJvcHNcbiAgfSksXG4gICAgICB2YXJpYW50ID0gX2dldFZhcmlhbnRDb25maWcudmFyaWFudCxcbiAgICAgIGljb24gPSBfZ2V0VmFyaWFudENvbmZpZy5pY29uLFxuICAgICAgdGl0bGVTaXplID0gX2dldFZhcmlhbnRDb25maWcudGl0bGVTaXplLFxuICAgICAgaGVhZGluZ0xldmVsID0gX2dldFZhcmlhbnRDb25maWcuaGVhZGluZ0xldmVsO1xuXG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtcHR5U3RhdGUkMSwgX2V4dGVuZHMoe1xuICAgIHZhcmlhbnQ6IHZhcmlhbnQsXG4gICAgY2xhc3NOYW1lOiBjc3MoJ3BmLXUtcHQtMnhsIHBmLXUtcHQtM3hsLW9uLW1kJywgY2xhc3NOYW1lKVxuICB9LCByZXN0RW1wdHlTdGF0ZVByb3BzKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFbXB0eVN0YXRlSWNvbiwgX2V4dGVuZHMoe1xuICAgIGljb246IGljb25cbiAgfSwgZW1wdHlTdGF0ZUljb25Qcm9wcykpLCB0aXRsZSAmJiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRpdGxlLCBfZXh0ZW5kcyh7XG4gICAgaGVhZGluZ0xldmVsOiBoZWFkaW5nTGV2ZWwsXG4gICAgc2l6ZTogdGl0bGVTaXplXG4gIH0sIHJlc3RUaXRsZVByb3BzKSwgdGl0bGUpLCBib2R5ICYmIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRW1wdHlTdGF0ZUJvZHksIF9leHRlbmRzKHt9LCByZXN0RW1wdHlTdGF0ZUJvZHlQcm9wcyksIGJvZHkpLCAoYnV0dG9uUHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IGJ1dHRvblByb3BzLnRpdGxlKSAmJiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgX2V4dGVuZHMoe1xuICAgIHZhcmlhbnQ6IGJ1dHRvblZhcmlhbnQsXG4gICAgb25DbGljazogb25DbGlja1xuICB9LCByZXN0QnV0dG9uUHJvcHMpLCBidXR0b25Qcm9wcyA9PSBudWxsID8gdm9pZCAwIDogYnV0dG9uUHJvcHMudGl0bGUpLCBjaGlsZHJlbik7XG59O1xuXG52YXIgZ2V0VmFyaWFudENvbmZpZyA9IGZ1bmN0aW9uIGdldFZhcmlhbnRDb25maWcoX3JlZjYpIHtcbiAgdmFyIHZhcmlhbnQgPSBfcmVmNi52YXJpYW50LFxuICAgICAgZW1wdHlTdGF0ZUljb25Qcm9wcyA9IF9yZWY2LmVtcHR5U3RhdGVJY29uUHJvcHMsXG4gICAgICB0aXRsZVByb3BzID0gX3JlZjYudGl0bGVQcm9wcztcbiAgdmFyIHZhcmFpbnRDb25maWcgPSB7fTtcblxuICBzd2l0Y2ggKHZhcmlhbnQpIHtcbiAgICBjYXNlIEVtcHR5U3RhdGVWYXJpYW50LkdldHRpbmdTdGFydGVkOlxuICAgICAgdmFyYWludENvbmZpZyA9IHtcbiAgICAgICAgdmFyaWFudDogRW1wdHlTdGF0ZVZhcmlhbnQkMS54bCxcbiAgICAgICAgaWNvbjogU3BhY2VTaHV0dGxlSWNvbixcbiAgICAgICAgdGl0bGVTaXplOiBUaXRsZVNpemVzWyc0eGwnXSxcbiAgICAgICAgaGVhZGluZ0xldmVsOiAnaDEnXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEVtcHR5U3RhdGVWYXJpYW50Lk5vQWNjZXNzOlxuICAgICAgdmFyYWludENvbmZpZyA9IHtcbiAgICAgICAgdmFyaWFudDogRW1wdHlTdGF0ZVZhcmlhbnQkMS5sYXJnZSxcbiAgICAgICAgaWNvbjogTG9ja0ljb24sXG4gICAgICAgIHRpdGxlU2l6ZTogVGl0bGVTaXplcy54bCxcbiAgICAgICAgaGVhZGluZ0xldmVsOiAnaDInXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEVtcHR5U3RhdGVWYXJpYW50Lk5vSXRlbXM6XG4gICAgICB2YXJhaW50Q29uZmlnID0ge1xuICAgICAgICB2YXJpYW50OiBFbXB0eVN0YXRlVmFyaWFudCQxLmxhcmdlLFxuICAgICAgICBpY29uOiBQbHVzQ2lyY2xlSWNvbixcbiAgICAgICAgdGl0bGVTaXplOiBUaXRsZVNpemVzLnhsLFxuICAgICAgICBoZWFkaW5nTGV2ZWw6ICdoMidcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgRW1wdHlTdGF0ZVZhcmlhbnQuTm9SZXN1bHQ6XG4gICAgICB2YXJhaW50Q29uZmlnID0ge1xuICAgICAgICB2YXJpYW50OiBFbXB0eVN0YXRlVmFyaWFudCQxLmxhcmdlLFxuICAgICAgICBpY29uOiBTZWFyY2hJY29uLFxuICAgICAgICB0aXRsZVNpemU6IFRpdGxlU2l6ZXMubGcsXG4gICAgICAgIGhlYWRpbmdMZXZlbDogJ2gyJ1xuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBFbXB0eVN0YXRlVmFyaWFudC5VbmV4cGVjdGVkRXJyb3I6XG4gICAgICB2YXJhaW50Q29uZmlnID0ge1xuICAgICAgICB2YXJpYW50OiBFbXB0eVN0YXRlVmFyaWFudCQxLmZ1bGwsXG4gICAgICAgIGljb246IEV4Y2xhbWF0aW9uQ2lyY2xlSWNvbixcbiAgICAgICAgdGl0bGVTaXplOiBUaXRsZVNpemVzLmxnLFxuICAgICAgICBoZWFkaW5nTGV2ZWw6ICdoMSdcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgRW1wdHlTdGF0ZVZhcmlhbnQuUGFnZU5vdEZvdW5kOlxuICAgICAgdmFyYWludENvbmZpZyA9IHtcbiAgICAgICAgdmFyaWFudDogRW1wdHlTdGF0ZVZhcmlhbnQkMS5mdWxsLFxuICAgICAgICBpY29uOiBOb3RGb3VuZEltZyxcbiAgICAgICAgdGl0bGVTaXplOiBUaXRsZVNpemVzLmxnLFxuICAgICAgICBoZWFkaW5nTGV2ZWw6ICdoMSdcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICB2YXJhaW50Q29uZmlnID0ge1xuICAgICAgICB2YXJpYW50OiB2YXJpYW50IHx8IEVtcHR5U3RhdGVWYXJpYW50JDEuZnVsbCxcbiAgICAgICAgaWNvbjogZW1wdHlTdGF0ZUljb25Qcm9wcyA9PSBudWxsID8gdm9pZCAwIDogZW1wdHlTdGF0ZUljb25Qcm9wcy5pY29uLFxuICAgICAgICB0aXRsZVNpemU6IHRpdGxlUHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IHRpdGxlUHJvcHMuc2l6ZSxcbiAgICAgICAgaGVhZGluZ0xldmVsOiB0aXRsZVByb3BzID09IG51bGwgPyB2b2lkIDAgOiB0aXRsZVByb3BzLmhlYWRpbmdMZXZlbFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIHZhcmFpbnRDb25maWc7XG59O1xuXG52YXIgTG9hZGluZyA9IGZ1bmN0aW9uIExvYWRpbmcoKSB7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtcHR5U3RhdGUkMSwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFbXB0eVN0YXRlSWNvbiwge1xuICAgIHZhcmlhbnQ6IFwiY29udGFpbmVyXCIsXG4gICAgY29tcG9uZW50OiBTcGlubmVyXG4gIH0pLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRpdGxlLCB7XG4gICAgc2l6ZTogXCJsZ1wiLFxuICAgIGhlYWRpbmdMZXZlbDogXCJoNFwiXG4gIH0sIFwiTG9hZGluZ1wiKSk7XG59O1xuXG52YXIgTm9NYXRjaEZvdW5kID0gZnVuY3Rpb24gTm9NYXRjaEZvdW5kKF9yZWYpIHtcbiAgdmFyIG9uQ2xlYXIgPSBfcmVmLm9uQ2xlYXI7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtcHR5U3RhdGUsIHtcbiAgICBlbXB0eVN0YXRlUHJvcHM6IHtcbiAgICAgIHZhcmlhbnQ6IEVtcHR5U3RhdGVWYXJpYW50Lk5vSXRlbXNcbiAgICB9LFxuICAgIHRpdGxlUHJvcHM6IHtcbiAgICAgIHRpdGxlOiAnTm8gcmVzdWx0cyBmb3VuZCdcbiAgICB9LFxuICAgIGVtcHR5U3RhdGVCb2R5UHJvcHM6IHtcbiAgICAgIGJvZHk6ICdObyByZXN1bHRzIG1hdGNoIHRoZSBmaWx0ZXIgY3JpdGVyaWEuIENsZWFyIGFsbCBmaWx0ZXJzIHRvIHNob3cgcmVzdWx0cy4nXG4gICAgfSxcbiAgICBidXR0b25Qcm9wczogb25DbGVhciAmJiB7XG4gICAgICB0aXRsZTogJ0NsZWFyIGFsbCBmaWx0ZXJzJyxcbiAgICAgIG9uQ2xpY2s6IG9uQ2xlYXJcbiAgICB9XG4gIH0pO1xufTtcblxudmFyIHVzZURlYm91bmNlID0gZnVuY3Rpb24gdXNlRGVib3VuY2UoZm5Ub0RlYm91bmNlLCBkdXJhdGlvbkluTXMpIHtcbiAgaWYgKGR1cmF0aW9uSW5NcyA9PT0gdm9pZCAwKSB7XG4gICAgZHVyYXRpb25Jbk1zID0gMjAwO1xuICB9XG5cbiAgaWYgKGlzTmFOKGR1cmF0aW9uSW5NcykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdkdXJhdGlvbkluTXMgZm9yIGRlYm91bmNlIHNob3VsZCBiZSBhIG51bWJlcicpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBmblRvRGVib3VuY2UgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdmblRvRGVib3VuY2Ugc2hvdWxkIGJlIGEgZnVuY3Rpb24nKTtcbiAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG5cblxuICByZXR1cm4gdXNlQ2FsbGJhY2soZGVib3VuY2UoZm5Ub0RlYm91bmNlLCBkdXJhdGlvbkluTXMpLCBbZm5Ub0RlYm91bmNlLCBkdXJhdGlvbkluTXNdKTtcbn07XG5cbmV4cG9ydCB7IEVtcHR5U3RhdGUsIEVtcHR5U3RhdGVWYXJpYW50LCBMb2FkaW5nLCBOb01hdGNoRm91bmQsIHVzZURlYm91bmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5lc20uanMubWFwXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///41361\n')}}]);