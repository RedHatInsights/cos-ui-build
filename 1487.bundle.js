(self.webpackChunk_cos_ui_apps_cos_ui=self.webpackChunk_cos_ui_apps_cos_ui||[]).push([[1487],{71487:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": () => (/* binding */ federated)\n});\n\n// EXTERNAL MODULE: consume shared module (default) react@^16.13.1 (singleton) (fallback: ../../node_modules/react/index.js)\nvar index_js_ = __webpack_require__(42403);\nvar index_js_default = /*#__PURE__*/__webpack_require__.n(index_js_);\n// EXTERNAL MODULE: consume shared module (default) @patternfly/react-core@^4.106.2 (singleton) (fallback: ../../node_modules/@patternfly/react-core/dist/esm/index.js)\nvar esm_index_js_ = __webpack_require__(63583);\n// EXTERNAL MODULE: consume shared module (default) @bf2/ui-shared@~0.3.0 (strict) (fallback: ../../node_modules/@bf2/ui-shared/dist/esm/index.js)\nvar dist_esm_index_js_ = __webpack_require__(18732);\n// EXTERNAL MODULE: consume shared module (default) react-router-dom@^5.2.0 (singleton) (fallback: ../../node_modules/react-router-dom/esm/react-router-dom.js)\nvar react_router_dom_js_ = __webpack_require__(48049);\n// EXTERNAL MODULE: consume shared module (default) react-i18next@^11.8.8 (strict) (fallback: ../../node_modules/react-i18next/dist/es/index.js)\nvar es_index_js_ = __webpack_require__(66170);\n// EXTERNAL MODULE: ../../packages/utils/dist/utils.esm.js\nvar utils_esm = __webpack_require__(41361);\n// EXTERNAL MODULE: consume shared module (default) i18next@^19.9.1 (strict) (fallback: ../../node_modules/i18next/dist/esm/i18next.js)\nvar i18next_js_ = __webpack_require__(34154);\nvar i18next_js_default = /*#__PURE__*/__webpack_require__.n(i18next_js_);\n// EXTERNAL MODULE: consume shared module (default) i18next-http-backend@^1.2.2 (strict) (fallback: ../../node_modules/i18next-http-backend/esm/index.js)\nvar i18next_http_backend_esm_index_js_ = __webpack_require__(31427);\nvar i18next_http_backend_esm_index_js_default = /*#__PURE__*/__webpack_require__.n(i18next_http_backend_esm_index_js_);\n// EXTERNAL MODULE: consume shared module (default) i18next-browser-languagedetector@^6.0.1 (strict) (fallback: ../../node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js)\nvar i18nextBrowserLanguageDetector_js_ = __webpack_require__(87282);\nvar i18nextBrowserLanguageDetector_js_default = /*#__PURE__*/__webpack_require__.n(i18nextBrowserLanguageDetector_js_);\n// EXTERNAL MODULE: ../../node_modules/keycloak-js/dist/keycloak.js\nvar keycloak = __webpack_require__(34482);\n// EXTERNAL MODULE: ../../packages/creationWizard/dist/index.js\nvar dist = __webpack_require__(70793);\n// EXTERNAL MODULE: ../../packages/machines/dist/machines.esm.js\nvar machines_esm = __webpack_require__(83255);\n// EXTERNAL MODULE: consume shared module (default) @patternfly/react-icons@^4.7.11 (singleton) (fallback: ../../node_modules/@patternfly/react-icons/dist/esm/index.js)\nvar react_icons_dist_esm_index_js_ = __webpack_require__(39576);\n// EXTERNAL MODULE: consume shared module (default) @patternfly/react-styles@^4.7.8 (singleton) (fallback: ../../node_modules/@patternfly/react-styles/dist/esm/index.js)\nvar react_styles_dist_esm_index_js_ = __webpack_require__(42259);\n// EXTERNAL MODULE: consume shared module (default) @patternfly/react-table@^4.24.1 (singleton) (fallback: ../../node_modules/@patternfly/react-table/dist/esm/index.js)\nvar react_table_dist_esm_index_js_ = __webpack_require__(83379);\n;// CONCATENATED MODULE: ../../packages/app/dist/app.esm.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar runtime_1 = /*#__PURE__*/createCommonjsModule(function (module) {\n  /**\n   * Copyright (c) 2014-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  var runtime = function (exports) {\n\n    var Op = Object.prototype;\n    var hasOwn = Op.hasOwnProperty;\n    var undefined$1; // More compressible than void 0.\n\n    var $Symbol = typeof Symbol === "function" ? Symbol : {};\n    var iteratorSymbol = $Symbol.iterator || "@@iterator";\n    var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";\n    var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";\n\n    function define(obj, key, value) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n      return obj[key];\n    }\n\n    try {\n      // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n      define({}, "");\n    } catch (err) {\n      define = function define(obj, key, value) {\n        return obj[key] = value;\n      };\n    }\n\n    function wrap(innerFn, outerFn, self, tryLocsList) {\n      // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n      var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n      var generator = Object.create(protoGenerator.prototype);\n      var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next,\n      // .throw, and .return methods.\n\n      generator._invoke = makeInvokeMethod(innerFn, self, context);\n      return generator;\n    }\n\n    exports.wrap = wrap; // Try/catch helper to minimize deoptimizations. Returns a completion\n    // record like context.tryEntries[i].completion. This interface could\n    // have been (and was previously) designed to take a closure to be\n    // invoked without arguments, but in all the cases we care about we\n    // already have an existing method we want to call, so there\'s no need\n    // to create a new function object. We can even get away with assuming\n    // the method takes exactly one argument, since that happens to be true\n    // in every case, so we don\'t have to touch the arguments object. The\n    // only additional allocation required is the completion record, which\n    // has a stable shape and so hopefully should be cheap to allocate.\n\n    function tryCatch(fn, obj, arg) {\n      try {\n        return {\n          type: "normal",\n          arg: fn.call(obj, arg)\n        };\n      } catch (err) {\n        return {\n          type: "throw",\n          arg: err\n        };\n      }\n    }\n\n    var GenStateSuspendedStart = "suspendedStart";\n    var GenStateSuspendedYield = "suspendedYield";\n    var GenStateExecuting = "executing";\n    var GenStateCompleted = "completed"; // Returning this object from the innerFn has the same effect as\n    // breaking out of the dispatch switch statement.\n\n    var ContinueSentinel = {}; // Dummy constructor functions that we use as the .constructor and\n    // .constructor.prototype properties for functions that return Generator\n    // objects. For full spec compliance, you may wish to configure your\n    // minifier not to mangle the names of these two functions.\n\n    function Generator() {}\n\n    function GeneratorFunction() {}\n\n    function GeneratorFunctionPrototype() {} // This is a polyfill for %IteratorPrototype% for environments that\n    // don\'t natively support it.\n\n\n    var IteratorPrototype = {};\n\n    IteratorPrototype[iteratorSymbol] = function () {\n      return this;\n    };\n\n    var getProto = Object.getPrototypeOf;\n    var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n\n    if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n      // This environment has a native %IteratorPrototype%; use it instead\n      // of the polyfill.\n      IteratorPrototype = NativeIteratorPrototype;\n    }\n\n    var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n    GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n    GeneratorFunctionPrototype.constructor = GeneratorFunction;\n    GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"); // Helper for defining the .next, .throw, and .return methods of the\n    // Iterator interface in terms of a single ._invoke method.\n\n    function defineIteratorMethods(prototype) {\n      ["next", "throw", "return"].forEach(function (method) {\n        define(prototype, method, function (arg) {\n          return this._invoke(method, arg);\n        });\n      });\n    }\n\n    exports.isGeneratorFunction = function (genFun) {\n      var ctor = typeof genFun === "function" && genFun.constructor;\n      return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can\n      // do is to check its .name property.\n      (ctor.displayName || ctor.name) === "GeneratorFunction" : false;\n    };\n\n    exports.mark = function (genFun) {\n      if (Object.setPrototypeOf) {\n        Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n      } else {\n        genFun.__proto__ = GeneratorFunctionPrototype;\n        define(genFun, toStringTagSymbol, "GeneratorFunction");\n      }\n\n      genFun.prototype = Object.create(Gp);\n      return genFun;\n    }; // Within the body of any async function, `await x` is transformed to\n    // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n    // `hasOwn.call(value, "__await")` to determine if the yielded value is\n    // meant to be awaited.\n\n\n    exports.awrap = function (arg) {\n      return {\n        __await: arg\n      };\n    };\n\n    function AsyncIterator(generator, PromiseImpl) {\n      function invoke(method, arg, resolve, reject) {\n        var record = tryCatch(generator[method], generator, arg);\n\n        if (record.type === "throw") {\n          reject(record.arg);\n        } else {\n          var result = record.arg;\n          var value = result.value;\n\n          if (value && typeof value === "object" && hasOwn.call(value, "__await")) {\n            return PromiseImpl.resolve(value.__await).then(function (value) {\n              invoke("next", value, resolve, reject);\n            }, function (err) {\n              invoke("throw", err, resolve, reject);\n            });\n          }\n\n          return PromiseImpl.resolve(value).then(function (unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration.\n            result.value = unwrapped;\n            resolve(result);\n          }, function (error) {\n            // If a rejected Promise was yielded, throw the rejection back\n            // into the async generator function so it can be handled there.\n            return invoke("throw", error, resolve, reject);\n          });\n        }\n      }\n\n      var previousPromise;\n\n      function enqueue(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n\n        return previousPromise = // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later\n        // invocations of the iterator.\n        callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      } // Define the unified helper method that is used to implement .next,\n      // .throw, and .return (see defineIteratorMethods).\n\n\n      this._invoke = enqueue;\n    }\n\n    defineIteratorMethods(AsyncIterator.prototype);\n\n    AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n      return this;\n    };\n\n    exports.AsyncIterator = AsyncIterator; // Note that simple async functions are implemented on top of\n    // AsyncIterator objects; they just return a Promise for the value of\n    // the final result produced by the iterator.\n\n    exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n      if (PromiseImpl === void 0) PromiseImpl = Promise;\n      var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n      return exports.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function (result) {\n        return result.done ? result.value : iter.next();\n      });\n    };\n\n    function makeInvokeMethod(innerFn, self, context) {\n      var state = GenStateSuspendedStart;\n      return function invoke(method, arg) {\n        if (state === GenStateExecuting) {\n          throw new Error("Generator is already running");\n        }\n\n        if (state === GenStateCompleted) {\n          if (method === "throw") {\n            throw arg;\n          } // Be forgiving, per 25.3.3.3.3 of the spec:\n          // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n\n\n          return doneResult();\n        }\n\n        context.method = method;\n        context.arg = arg;\n\n        while (true) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (context.method === "next") {\n            // Setting context._sent for legacy support of Babel\'s\n            // function.sent implementation.\n            context.sent = context._sent = context.arg;\n          } else if (context.method === "throw") {\n            if (state === GenStateSuspendedStart) {\n              state = GenStateCompleted;\n              throw context.arg;\n            }\n\n            context.dispatchException(context.arg);\n          } else if (context.method === "return") {\n            context.abrupt("return", context.arg);\n          }\n\n          state = GenStateExecuting;\n          var record = tryCatch(innerFn, self, context);\n\n          if (record.type === "normal") {\n            // If an exception is thrown from innerFn, we leave state ===\n            // GenStateExecuting and loop back for another invocation.\n            state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n            if (record.arg === ContinueSentinel) {\n              continue;\n            }\n\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          } else if (record.type === "throw") {\n            state = GenStateCompleted; // Dispatch the exception by looping back around to the\n            // context.dispatchException(context.arg) call above.\n\n            context.method = "throw";\n            context.arg = record.arg;\n          }\n        }\n      };\n    } // Call delegate.iterator[context.method](context.arg) and handle the\n    // result, either by returning a { value, done } result from the\n    // delegate iterator, or by modifying context.method and context.arg,\n    // setting context.delegate to null, and returning the ContinueSentinel.\n\n\n    function maybeInvokeDelegate(delegate, context) {\n      var method = delegate.iterator[context.method];\n\n      if (method === undefined$1) {\n        // A .throw or .return when the delegate iterator has no .throw\n        // method always terminates the yield* loop.\n        context.delegate = null;\n\n        if (context.method === "throw") {\n          // Note: ["return"] must be used for ES3 parsing compatibility.\n          if (delegate.iterator["return"]) {\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            context.method = "return";\n            context.arg = undefined$1;\n            maybeInvokeDelegate(delegate, context);\n\n            if (context.method === "throw") {\n              // If maybeInvokeDelegate(context) changed context.method from\n              // "return" to "throw", let that override the TypeError below.\n              return ContinueSentinel;\n            }\n          }\n\n          context.method = "throw";\n          context.arg = new TypeError("The iterator does not provide a \'throw\' method");\n        }\n\n        return ContinueSentinel;\n      }\n\n      var record = tryCatch(method, delegate.iterator, context.arg);\n\n      if (record.type === "throw") {\n        context.method = "throw";\n        context.arg = record.arg;\n        context.delegate = null;\n        return ContinueSentinel;\n      }\n\n      var info = record.arg;\n\n      if (!info) {\n        context.method = "throw";\n        context.arg = new TypeError("iterator result is not an object");\n        context.delegate = null;\n        return ContinueSentinel;\n      }\n\n      if (info.done) {\n        // Assign the result of the finished delegate to the temporary\n        // variable specified by delegate.resultName (see delegateYield).\n        context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield).\n\n        context.next = delegate.nextLoc; // If context.method was "throw" but the delegate handled the\n        // exception, let the outer generator proceed normally. If\n        // context.method was "next", forget context.arg since it has been\n        // "consumed" by the delegate iterator. If context.method was\n        // "return", allow the original .return call to continue in the\n        // outer generator.\n\n        if (context.method !== "return") {\n          context.method = "next";\n          context.arg = undefined$1;\n        }\n      } else {\n        // Re-yield the result returned by the delegate method.\n        return info;\n      } // The delegate iterator is finished, so forget it and continue with\n      // the outer generator.\n\n\n      context.delegate = null;\n      return ContinueSentinel;\n    } // Define Generator.prototype.{next,throw,return} in terms of the\n    // unified ._invoke helper method.\n\n\n    defineIteratorMethods(Gp);\n    define(Gp, toStringTagSymbol, "Generator"); // A Generator should always return itself as the iterator object when the\n    // @@iterator function is called on it. Some browsers\' implementations of the\n    // iterator prototype chain incorrectly implement this, causing the Generator\n    // object to not be returned from this call. This ensures that doesn\'t happen.\n    // See https://github.com/facebook/regenerator/issues/274 for more details.\n\n    Gp[iteratorSymbol] = function () {\n      return this;\n    };\n\n    Gp.toString = function () {\n      return "[object Generator]";\n    };\n\n    function pushTryEntry(locs) {\n      var entry = {\n        tryLoc: locs[0]\n      };\n\n      if (1 in locs) {\n        entry.catchLoc = locs[1];\n      }\n\n      if (2 in locs) {\n        entry.finallyLoc = locs[2];\n        entry.afterLoc = locs[3];\n      }\n\n      this.tryEntries.push(entry);\n    }\n\n    function resetTryEntry(entry) {\n      var record = entry.completion || {};\n      record.type = "normal";\n      delete record.arg;\n      entry.completion = record;\n    }\n\n    function Context(tryLocsList) {\n      // The root entry object (effectively a try statement without a catch\n      // or a finally block) gives us a place to store values thrown from\n      // locations where there is no enclosing try statement.\n      this.tryEntries = [{\n        tryLoc: "root"\n      }];\n      tryLocsList.forEach(pushTryEntry, this);\n      this.reset(true);\n    }\n\n    exports.keys = function (object) {\n      var keys = [];\n\n      for (var key in object) {\n        keys.push(key);\n      }\n\n      keys.reverse(); // Rather than returning an object with a next method, we keep\n      // things simple and return the next function itself.\n\n      return function next() {\n        while (keys.length) {\n          var key = keys.pop();\n\n          if (key in object) {\n            next.value = key;\n            next.done = false;\n            return next;\n          }\n        } // To avoid creating an additional object, we just hang the .value\n        // and .done properties off the next function object itself. This\n        // also ensures that the minifier will not anonymize the function.\n\n\n        next.done = true;\n        return next;\n      };\n    };\n\n    function values(iterable) {\n      if (iterable) {\n        var iteratorMethod = iterable[iteratorSymbol];\n\n        if (iteratorMethod) {\n          return iteratorMethod.call(iterable);\n        }\n\n        if (typeof iterable.next === "function") {\n          return iterable;\n        }\n\n        if (!isNaN(iterable.length)) {\n          var i = -1,\n              next = function next() {\n            while (++i < iterable.length) {\n              if (hasOwn.call(iterable, i)) {\n                next.value = iterable[i];\n                next.done = false;\n                return next;\n              }\n            }\n\n            next.value = undefined$1;\n            next.done = true;\n            return next;\n          };\n\n          return next.next = next;\n        }\n      } // Return an iterator with no values.\n\n\n      return {\n        next: doneResult\n      };\n    }\n\n    exports.values = values;\n\n    function doneResult() {\n      return {\n        value: undefined$1,\n        done: true\n      };\n    }\n\n    Context.prototype = {\n      constructor: Context,\n      reset: function reset(skipTempReset) {\n        this.prev = 0;\n        this.next = 0; // Resetting context._sent for legacy support of Babel\'s\n        // function.sent implementation.\n\n        this.sent = this._sent = undefined$1;\n        this.done = false;\n        this.delegate = null;\n        this.method = "next";\n        this.arg = undefined$1;\n        this.tryEntries.forEach(resetTryEntry);\n\n        if (!skipTempReset) {\n          for (var name in this) {\n            // Not sure about the optimal order of these conditions:\n            if (name.charAt(0) === "t" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n              this[name] = undefined$1;\n            }\n          }\n        }\n      },\n      stop: function stop() {\n        this.done = true;\n        var rootEntry = this.tryEntries[0];\n        var rootRecord = rootEntry.completion;\n\n        if (rootRecord.type === "throw") {\n          throw rootRecord.arg;\n        }\n\n        return this.rval;\n      },\n      dispatchException: function dispatchException(exception) {\n        if (this.done) {\n          throw exception;\n        }\n\n        var context = this;\n\n        function handle(loc, caught) {\n          record.type = "throw";\n          record.arg = exception;\n          context.next = loc;\n\n          if (caught) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            context.method = "next";\n            context.arg = undefined$1;\n          }\n\n          return !!caught;\n        }\n\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          var record = entry.completion;\n\n          if (entry.tryLoc === "root") {\n            // Exception thrown outside of any try block that could handle\n            // it, so set the completion value of the entire function to\n            // throw the exception.\n            return handle("end");\n          }\n\n          if (entry.tryLoc <= this.prev) {\n            var hasCatch = hasOwn.call(entry, "catchLoc");\n            var hasFinally = hasOwn.call(entry, "finallyLoc");\n\n            if (hasCatch && hasFinally) {\n              if (this.prev < entry.catchLoc) {\n                return handle(entry.catchLoc, true);\n              } else if (this.prev < entry.finallyLoc) {\n                return handle(entry.finallyLoc);\n              }\n            } else if (hasCatch) {\n              if (this.prev < entry.catchLoc) {\n                return handle(entry.catchLoc, true);\n              }\n            } else if (hasFinally) {\n              if (this.prev < entry.finallyLoc) {\n                return handle(entry.finallyLoc);\n              }\n            } else {\n              throw new Error("try statement without catch or finally");\n            }\n          }\n        }\n      },\n      abrupt: function abrupt(type, arg) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n\n          if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {\n            var finallyEntry = entry;\n            break;\n          }\n        }\n\n        if (finallyEntry && (type === "break" || type === "continue") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n          // Ignore the finally entry if control is not jumping to a\n          // location outside the try/catch block.\n          finallyEntry = null;\n        }\n\n        var record = finallyEntry ? finallyEntry.completion : {};\n        record.type = type;\n        record.arg = arg;\n\n        if (finallyEntry) {\n          this.method = "next";\n          this.next = finallyEntry.finallyLoc;\n          return ContinueSentinel;\n        }\n\n        return this.complete(record);\n      },\n      complete: function complete(record, afterLoc) {\n        if (record.type === "throw") {\n          throw record.arg;\n        }\n\n        if (record.type === "break" || record.type === "continue") {\n          this.next = record.arg;\n        } else if (record.type === "return") {\n          this.rval = this.arg = record.arg;\n          this.method = "return";\n          this.next = "end";\n        } else if (record.type === "normal" && afterLoc) {\n          this.next = afterLoc;\n        }\n\n        return ContinueSentinel;\n      },\n      finish: function finish(finallyLoc) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n\n          if (entry.finallyLoc === finallyLoc) {\n            this.complete(entry.completion, entry.afterLoc);\n            resetTryEntry(entry);\n            return ContinueSentinel;\n          }\n        }\n      },\n      "catch": function _catch(tryLoc) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n\n          if (entry.tryLoc === tryLoc) {\n            var record = entry.completion;\n\n            if (record.type === "throw") {\n              var thrown = record.arg;\n              resetTryEntry(entry);\n            }\n\n            return thrown;\n          }\n        } // The context.catch method must only be called with a location\n        // argument that corresponds to a known catch block.\n\n\n        throw new Error("illegal catch attempt");\n      },\n      delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n        this.delegate = {\n          iterator: values(iterable),\n          resultName: resultName,\n          nextLoc: nextLoc\n        };\n\n        if (this.method === "next") {\n          // Deliberately forget the last sent value so that we don\'t\n          // accidentally pass it on to the delegate.\n          this.arg = undefined$1;\n        }\n\n        return ContinueSentinel;\n      }\n    }; // Regardless of whether this script is executing as a CommonJS module\n    // or not, return the runtime object so that we can declare the variable\n    // regeneratorRuntime in the outer scope, which allows this module to be\n    // injected easily by `bin/regenerator --include-runtime script.js`.\n\n    return exports;\n  }( // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   module.exports );\n\n  try {\n    regeneratorRuntime = runtime;\n  } catch (accidentalStrictMode) {\n    // This module should not be running in strict mode, so the above\n    // assignment should always work unless something is misconfigured. Just\n    // in case runtime.js accidentally runs in strict mode, we can escape\n    // strict mode using a global Function call. This could conceivably fail\n    // if a Content Security Policy forbids using Function, but in that case\n    // the proper solution is to fix the accidental strict mode problem. If\n    // you\'ve misconfigured your bundler to force strict mode and applied a\n    // CSP to forbid Function, and you\'re not willing to fix either of those\n    // problems, please detail your unique predicament in a GitHub issue.\n    Function("r", "regeneratorRuntime = r")(runtime);\n  }\n});\n\n// have a look at the Quick start guide \n// for passing in lng and translations on init\n\ni18next_js_default().use((i18next_http_backend_esm_index_js_default())) // detect user language\n// learn more: https://github.com/i18next/i18next-browser-languageDetector\n.use((i18nextBrowserLanguageDetector_js_default())) // pass the i18n instance to react-i18next.\n.use(es_index_js_.initReactI18next) // init i18next\n// for all options read: https://www.i18next.com/overview/configuration-options\n.init({\n  // Commenting it as we have fallbackLng for case of language detected as en-GB or en-US\n  // supportedLngs: [\'en\',\'it\'],\n  backend: {\n    loadPath: __webpack_require__.p + "locales/{{lng}}/{{ns}}.json"\n  },\n  fallbackLng: \'en\',\n  load: \'all\',\n  debug: true,\n  // add any namespaces you\'re using here for loading purposes\n  ns: [\'public\'],\n  defaultNS: \'public\',\n  nsSeparator: \':\',\n  keySeparator: \'.\',\n  react: {\n    useSuspense: true,\n    wait: true\n  },\n  interpolation: {\n    defaultVariables: undefined,\n    escapeValue: false // not needed for react as it escapes by default\n\n  }\n});\n\nvar app_esm_keycloak;\n/**\r\n * Get keycloak instance\r\n *\r\n * @return an initiated keycloak instance or `undefined`\r\n * if keycloak isn\'t configured\r\n *\r\n */\n\nvar getKeycloakInstance = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {\n  var _ref = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee() {\n    return runtime_1.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (app_esm_keycloak) {\n              _context.next = 3;\n              break;\n            }\n\n            _context.next = 3;\n            return init();\n\n          case 3:\n            return _context.abrupt("return", app_esm_keycloak);\n\n          case 4:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getKeycloakInstance() {\n    return _ref.apply(this, arguments);\n  };\n}()));\n/**\r\n * Initiate keycloak instance.\r\n *\r\n * Set keycloak to undefined if\r\n * keycloak isn\'t configured\r\n *\r\n */\n\nvar init = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {\n  var _ref2 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee2() {\n    return runtime_1.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            app_esm_keycloak = new Keycloak({\n              realm: \'redhat-external\',\n              url: \'https://sso.redhat.com/auth/\',\n              clientId: \'cloud-services\'\n            });\n\n            if (!app_esm_keycloak) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 5;\n            return app_esm_keycloak.init({\n              onLoad: \'login-required\'\n            });\n\n          case 5:\n            _context2.next = 11;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2["catch"](0);\n            app_esm_keycloak = undefined;\n            console.warn(\'Auth: Unable to initialize keycloak. Client side will not be configured to use authentication\', _context2.t0);\n\n          case 11:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 7]]);\n  }));\n\n  return function init() {\n    return _ref2.apply(this, arguments);\n  };\n}()));\n/**\r\n * Use keycloak update token function to retrieve\r\n * keycloak token\r\n *\r\n * @return keycloak token or empty string if keycloak\r\n * isn\'t configured\r\n *\r\n */\n\nvar getKeyCloakToken = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {\n  var _ref4 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee4() {\n    var _keycloak, _keycloak2;\n\n    return runtime_1.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return (_keycloak = app_esm_keycloak) == null ? void 0 : _keycloak.updateToken(50);\n\n          case 2:\n            if (!((_keycloak2 = app_esm_keycloak) == null ? void 0 : _keycloak2.token)) {\n              _context4.next = 4;\n              break;\n            }\n\n            return _context4.abrupt("return", app_esm_keycloak.token);\n\n          case 4:\n            console.error(\'No keycloak token available\');\n            return _context4.abrupt("return", \'foo\');\n\n          case 6:\n          case "end":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function getKeyCloakToken() {\n    return _ref4.apply(this, arguments);\n  };\n}()));\n/**\r\n * Use keycloak update token function to retrieve\r\n * keycloak token\r\n *\r\n * @return keycloak token or empty string if keycloak\r\n * isn\'t configured\r\n *\r\n */\n\nvar getParsedKeyCloakToken = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {\n  var _ref5 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee5() {\n    var _keycloak3, _keycloak4;\n\n    return runtime_1.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return (_keycloak3 = app_esm_keycloak) == null ? void 0 : _keycloak3.updateToken(50);\n\n          case 2:\n            if (!((_keycloak4 = app_esm_keycloak) == null ? void 0 : _keycloak4.tokenParsed)) {\n              _context5.next = 4;\n              break;\n            }\n\n            return _context5.abrupt("return", app_esm_keycloak.tokenParsed);\n\n          case 4:\n            console.error(\'No keycloak token available\');\n            return _context5.abrupt("return", {});\n\n          case 6:\n          case "end":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function getParsedKeyCloakToken() {\n    return _ref5.apply(this, arguments);\n  };\n}()));\n\nvar KeycloakContext = /*#__PURE__*/index_js_default().createContext({\n  keycloak: undefined\n});\nvar KeycloakAuthProvider = function KeycloakAuthProvider(props) {\n  var getUsername = function getUsername() {\n    return getParsedKeyCloakToken().then(function (token) {\n      return token[\'username\'];\n    });\n  };\n\n  var authTokenContext = {\n    kas: {\n      getToken: getKeyCloakToken\n    },\n    getUsername: getUsername\n  };\n  return React__default.createElement(AuthContext.Provider, {\n    value: authTokenContext\n  }, props.children);\n};\n\nvar logo = "data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%22175px%22%20height%3D%2232px%22%20viewBox%3D%220%200%20175%2032%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%20%20%20%20%3Ctitle%3EPatternFly%20Logo%3C%2Ftitle%3E%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%2250.0004769%25%22%20y1%3D%223.02475509%25%22%20x2%3D%2250.0004769%25%22%20y2%3D%2295.3620086%25%22%20id%3D%22linearGradient-1%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%2360EFFF%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%231F89C7%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Symbols%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Nav-bar-%28desktop%29%22%20transform%3D%22translate%28-150.000000%2C%20-16.000000%29%22%20fill-rule%3D%22nonzero%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22PatternFly-Logo%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20transform%3D%22translate%28150.000000%2C%2016.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%2844.748858%2C%2011.200000%29%22%20fill%3D%22%23FFFFFF%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0.302054795%2C9.3488%20L0.302054795%2C0.3264%20L4.16883562%2C0.3264%20C4.73858447%2C0.3264%205.21723744%2C0.4096%205.60719178%2C0.5744%20C5.99714612%2C0.7408%206.31358447%2C0.9576%206.55650685%2C1.2296%20C6.79942922%2C1.5008%206.97442922%2C1.8048%207.08150685%2C2.1456%20C7.18778539%2C2.4856%207.24212329%2C2.8288%207.24212329%2C3.1768%20C7.24212329%2C3.3936%207.2173516%2C3.616%207.16541096%2C3.8408%20C7.11506849%2C4.064%207.03835616%2C4.284%206.9336758%2C4.496%20C6.82819635%2C4.708%206.69474886%2C4.9048%206.53093607%2C5.0912%20C6.36712329%2C5.2752%206.17054795%2C5.4384%205.94280822%2C5.5784%20C5.71426941%2C5.7184%205.45376712%2C5.828%205.15810502%2C5.908%20C4.86164384%2C5.988%204.53242009%2C6.0272%204.16803653%2C6.0272%20L2.04246575%2C6.0272%20L2.04246575%2C9.3472%20L0.302054795%2C9.3488%20L0.302054795%2C9.3488%20Z%20M4.24315068%2C4.372%20C4.4652968%2C4.372%204.65308219%2C4.3368%204.8033105%2C4.2664%20C4.95353881%2C4.1936%205.07579909%2C4.1024%205.17089041%2C3.988%20C5.26598174%2C3.8744%205.33310502%2C3.7464%205.37465753%2C3.6048%20C5.41700913%2C3.4616%205.43938356%2C3.32%205.43938356%2C3.176%20C5.43938356%2C3.0464%205.42100457%2C2.9112%205.38424658%2C2.7688%20C5.34908676%2C2.6304%205.2859589%2C2.5024%205.19646119%2C2.3832%20C5.10616438%2C2.2664%204.98230594%2C2.1696%204.82888128%2C2.0952%20C4.67305936%2C2.0192%204.47888128%2C1.9808%204.24394977%2C1.9808%20L2.04406393%2C1.9808%20L2.04406393%2C4.3712%20L4.24315068%2C4.372%20L4.24315068%2C4.372%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M19.2555936%2C9.3488%20L18.5571918%2C7.4816%20L15.0803653%2C7.4816%20L14.3899543%2C9.3488%20L12.5216895%2C9.3488%20L15.9737443%2C0.3264%20L17.6694064%2C0.3264%20L21.1214612%2C9.3488%20L19.2555936%2C9.3488%20Z%20M17.1052511%2C3.548%20C17.0589041%2C3.44%2017.0093607%2C3.3088%2016.956621%2C3.1584%20C16.9062785%2C3.0056%2016.8599315%2C2.8664%2016.8223744%2C2.7352%20C16.7880137%2C2.8672%2016.7440639%2C3.0056%2016.689726%2C3.1584%20C16.6361872%2C3.3088%2016.5858447%2C3.44%2016.5386986%2C3.548%20L15.6461187%2C5.8952%20L17.9922374%2C5.8952%20L17.1052511%2C3.548%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%2230.9038813%202.0064%2030.9038813%209.3488%2029.169863%209.3488%2029.169863%202.0064%2026.5920091%202.0064%2026.5920091%200.3264%2033.4809361%200.3264%2033.4809361%202.0064%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%2244.3932648%202.0064%2044.3932648%209.3488%2042.6584475%209.3488%2042.6584475%202.0064%2040.0805936%202.0064%2040.0805936%200.3264%2046.9695205%200.3264%2046.9695205%202.0064%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%2254.1509132%209.3488%2054.1509132%200.3264%2060.3022831%200.3264%2060.3022831%201.9816%2055.8905251%201.9816%2055.8905251%203.8752%2058.4859589%203.8752%2058.4859589%205.5232%2055.8905251%205.5232%2055.8905251%207.7016%2060.5715753%207.7016%2060.5715753%209.3512%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M67.8848174%2C9.3488%20L67.8848174%2C0.3264%20L72.0704338%2C0.3264%20C72.6401826%2C0.3264%2073.1172374%2C0.4032%2073.5%2C0.5624%20C73.8827626%2C0.7192%2074.1928082%2C0.928%2074.4269406%2C1.188%20C74.6594749%2C1.4488%2074.8296804%2C1.7488%2074.9295662%2C2.088%20C75.0278539%2C2.428%2075.0805936%2C2.7832%2075.0805936%2C3.152%20C75.0805936%2C3.4072%2075.0422374%2C3.6664%2074.9679224%2C3.928%20C74.8928082%2C4.1904%2074.7849315%2C4.4392%2074.6394977%2C4.6744%20C74.4900685%2C4.9096%2074.310274%2C5.1216%2074.0905251%2C5.3128%20C73.8739726%2C5.504%2073.6190639%2C5.6536%2073.3305936%2C5.756%20L75.0789954%2C9.3488%20L73.122032%2C9.3488%20L71.4375571%2C5.984%20L69.6228311%2C5.984%20L69.6228311%2C9.3488%20L67.8848174%2C9.3488%20L67.8848174%2C9.3488%20Z%20M72.0960046%2C4.3344%20C72.3165525%2C4.3344%2072.5067352%2C4.3016%2072.6545662%2C4.236%20C72.8047945%2C4.1704%2072.9278539%2C4.084%2073.0181507%2C3.9752%20C73.1108447%2C3.8656%2073.1787671%2C3.74%2073.2179224%2C3.596%20C73.2586758%2C3.4536%2073.2754566%2C3.3056%2073.2754566%2C3.1504%20C73.2754566%2C3.008%2073.2586758%2C2.8648%2073.2243151%2C2.724%20C73.186758%2C2.5832%2073.1260274%2C2.4584%2073.0413242%2C2.3456%20C72.9542237%2C2.236%2072.8295662%2C2.1464%2072.6793379%2C2.0792%20C72.5291096%2C2.012%2072.3317352%2C1.9792%2072.0968037%2C1.9792%20L69.6260274%2C1.9792%20L69.6260274%2C4.3328%20L72.0968037%2C4.3328%20L72.0968037%2C4.3344%20L72.0960046%2C4.3344%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M88.1552511%2C9.3488%20L84.5793379%2C4.0888%20C84.5202055%2C4.0016%2084.4578767%2C3.892%2084.3875571%2C3.7648%20C84.3172374%2C3.6376%2084.2597032%2C3.5192%2084.2061644%2C3.4104%20C84.2221461%2C3.5056%2084.2277397%2C3.6184%2084.2341324%2C3.7496%20C84.2413242%2C3.8792%2084.2469178%2C3.9936%2084.2469178%2C4.0888%20L84.2469178%2C9.3488%20L82.5176941%2C9.3488%20L82.5176941%2C0.3264%20L84.1502283%2C0.3264%20L87.6390411%2C5.5216%20C87.693379%2C5.6056%2087.7565068%2C5.7136%2087.8252283%2C5.8384%20C87.8979452%2C5.9632%2087.9610731%2C6.0856%2088.0122146%2C6.2024%20C88.0002283%2C6.0824%2087.9938356%2C5.9568%2087.9858447%2C5.8352%20C87.9778539%2C5.7112%2087.9746575%2C5.6056%2087.9746575%2C5.52%20L87.9746575%2C0.3248%20L89.6958904%2C0.3248%20L89.6958904%2C9.3472%20L88.1552511%2C9.3488%20L88.1552511%2C9.3488%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%2297.4590183%209.3488%2097.4590183%200.3264%20103.501712%200.3264%20103.501712%201.9816%2099.2002283%201.9816%2099.2002283%203.8752%20101.926712%203.8752%20101.926712%205.5232%2099.2002283%205.5232%2099.2002283%209.3496%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%22110.555251%209.3488%20110.555251%200.3264%20112.298059%200.3264%20112.298059%207.6752%20116.646689%207.6752%20116.646689%209.3488%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Path%22%20points%3D%22124.973973%209.3488%20124.973973%205.832%20121.634589%200.3264%20123.608333%200.3264%20125.835388%204.0144%20128.058447%200.3264%20130.03379%200.3264%20126.695205%205.832%20126.695205%209.3488%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M33.5144977%2C16.5608%20L16.7584475%2C0.1536%20L0%2C16.5608%20L6.6803653%2C26.036%20L11.7769406%2C24.864%20L16.790411%2C31.9208%20L21.7942922%2C24.8768%20L26.8341324%2C26.0352%20L33.5144977%2C16.5608%20Z%20M16.0624429%2C3.196%20L13.8921233%2C23.2768%20L9.74805936%2C17.6176%20L16.0624429%2C3.196%20Z%20M9.293379%2C16.9968%20L6.71232877%2C13.472%20L15.5877854%2C2.68%20L9.293379%2C16.9968%20Z%20M13.2041096%2C23.464%20L13.2041096%2C23.464%20L13.4454338%2C23.7968%20L12.0614155%2C24.1144%20L8.86666667%2C19.6184%20L9.43721461%2C18.3208%20L13.2041096%2C23.464%20Z%20M16.7576484%2C2.9296%20L18.9391553%2C24.2184%20L16.7528539%2C27.2176%20L14.5745434%2C24.2184%20L16.7576484%2C2.9296%20Z%20M20.309589%2C23.4648%20L24.1180365%2C18.2648%20L24.7141553%2C19.6184%20L21.5106164%2C24.128%20L20.0714612%2C23.7968%20L20.3119863%2C23.4664%20L20.309589%2C23.4648%20Z%20M19.6223744%2C23.2768%20L17.4800228%2C3.1792%20L23.8079909%2C17.5608%20L19.6223744%2C23.2768%20Z%20M17.9850457%2C2.6768%20L26.8021689%2C13.472%20L24.2626712%2C16.94%20L17.9850457%2C2.6768%20Z%20M6.96643836%2C25.2856%20L0.870205479%2C16.6408%20L12.7989726%2C4.9672%20L5.87089041%2C13.4504%20L8.98413242%2C17.7008%20L8.10593607%2C19.696%20L11.3598174%2C24.2768%20L6.96643836%2C25.2856%20Z%20M16.790411%2C30.7712%20L12.4785388%2C24.7032%20L13.8705479%2C24.3824%20L16.7512557%2C28.3496%20L19.6415525%2C24.3824%20L21.0910959%2C24.7168%20L16.790411%2C30.7712%20Z%20M22.2114155%2C24.2896%20L25.4740868%2C19.696%20L24.5719178%2C17.6448%20L27.6436073%2C13.4504%20L20.7155251%2C4.9672%20L32.6434932%2C16.6408%20L26.5480594%2C25.2864%20L22.2114155%2C24.2896%20Z%22%20id%3D%22Shape%22%20fill%3D%22url%28%23linearGradient-1%29%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E";\n\nvar AppLayout = function AppLayout(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState(true),\n      isNavOpen = _useState[0],\n      setIsNavOpen = _useState[1];\n\n  var _useState2 = useState(true),\n      isMobileView = _useState2[0],\n      setIsMobileView = _useState2[1];\n\n  var _useState3 = useState(false),\n      isNavOpenMobile = _useState3[0],\n      setIsNavOpenMobile = _useState3[1];\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var onNavToggleMobile = function onNavToggleMobile() {\n    setIsNavOpenMobile(!isNavOpenMobile);\n  };\n\n  var onNavToggle = function onNavToggle() {\n    setIsNavOpen(!isNavOpen);\n  };\n\n  var onPageResize = function onPageResize(props) {\n    setIsMobileView(props.mobileView);\n  };\n\n  var HeaderTools = React__default.createElement(PageHeaderTools, null, \'email\');\n  var Header = React__default.createElement(PageHeader, {\n    logo: React__default.createElement(LogoImg, null),\n    showNavToggle: true,\n    isNavOpen: isNavOpen,\n    headerTools: HeaderTools,\n    onNavToggle: isMobileView ? onNavToggleMobile : onNavToggle,\n    "aria-label": \'global_navigation\'\n  });\n  var Navigation = React__default.createElement(Nav, {\n    id: "nav-primary-simple",\n    role: "navigation",\n    theme: "dark",\n    "aria-label": \'global\'\n  }, React__default.createElement(NavList, {\n    id: "nav-list-simple"\n  }, React__default.createElement(NavItem, {\n    id: \'connectors\'\n  }, React__default.createElement(NavLink, {\n    to: \'/\',\n    activeClassName: "pf-m-current"\n  }, t(\'managedConnectors\')))));\n  var Sidebar = React__default.createElement(PageSidebar, {\n    theme: "dark",\n    nav: Navigation,\n    isNavOpen: isMobileView ? isNavOpenMobile : isNavOpen\n  });\n  return React__default.createElement(Page, {\n    mainContainerId: "primary-app-container",\n    role: "main",\n    header: Header,\n    sidebar: Sidebar,\n    onPageResize: onPageResize\n  }, children);\n};\n\nfunction LogoImg() {\n  var history = useHistory();\n\n  function handleClick() {\n    history.push(\'/\');\n  }\n\n  return React__default.createElement("img", {\n    src: logo,\n    onClick: handleClick,\n    alt: "PatternFly Logo"\n  });\n}\n\nvar AppContext = /*#__PURE__*/(0,index_js_.createContext)(null);\nvar AppContextProvider = function AppContextProvider(_ref) {\n  var authToken = _ref.authToken,\n      basePath = _ref.basePath,\n      children = _ref.children;\n  return index_js_default().createElement(AppContext.Provider, {\n    value: {\n      authToken: authToken,\n      basePath: basePath\n    }\n  }, children);\n};\nvar useAppContext = function useAppContext() {\n  var context = (0,index_js_.useContext)(AppContext);\n  if (!context) throw new Error(\'useAppContext must be used inside an AppContextProvider\');\n  return _extends({}, context);\n};\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === \'undefined\') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName(\'head\')[0];\n  var style = document.createElement(\'style\');\n  style.type = \'text/css\';\n\n  if (insertAt === \'top\') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = ".connector-drawer__header-text{margin-bottom:0!important}.connector-drawer__header-title{margin-top:0!important}.connector-drawer__tab-content{padding-bottom:var(--pf-global--spacer--lg);padding-top:var(--pf-global--spacer--lg)}";\nstyleInject(css_248z);\n\nvar ConnectorDrawer = function ConnectorDrawer(_ref) {\n  var children = _ref.children,\n      isExpanded = _ref.isExpanded,\n      selectedConnectors = _ref.selectedConnectors,\n      onClose = _ref.onClose;\n\n  var _useTranslation = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation.t;\n\n  var _useState = (0,index_js_.useState)(0),\n      activeTabKey = _useState[0],\n      setActiveTabKey = _useState[1];\n\n  var selectActiveKey = function selectActiveKey(_, eventKey) {\n    setActiveTabKey(eventKey);\n  };\n\n  var textListItem = function textListItem(title, value) {\n    return index_js_default().createElement((index_js_default()).Fragment, null, value && index_js_default().createElement((index_js_default()).Fragment, null, index_js_default().createElement(esm_index_js_.TextListItem, {\n      component: esm_index_js_.TextListItemVariants.dt\n    }, title), index_js_default().createElement(esm_index_js_.TextListItem, {\n      component: esm_index_js_.TextListItemVariants.dd\n    }, value)));\n  };\n\n  var panelContent = function panelContent() {\n    var _selectedConnectors$m, _selectedConnectors$k, _selectedConnectors$m2, _selectedConnectors$m3, _selectedConnectors$m4;\n\n    return index_js_default().createElement(esm_index_js_.DrawerPanelContent, {\n      widths: {\n        "default": \'width_50\'\n      }\n    }, index_js_default().createElement(esm_index_js_.DrawerHead, null, index_js_default().createElement(esm_index_js_.TextContent, null, index_js_default().createElement(esm_index_js_.Text, {\n      component: esm_index_js_.TextVariants.small,\n      className: "connector-drawer__header-text"\n    }, "Connector name"), index_js_default().createElement(esm_index_js_.Title, {\n      headingLevel: \'h2\',\n      size: esm_index_js_.TitleSizes.xl,\n      className: "connector-drawer__header-title"\n    }, selectedConnectors == null ? void 0 : (_selectedConnectors$m = selectedConnectors.metadata) == null ? void 0 : _selectedConnectors$m.name)), index_js_default().createElement(esm_index_js_.DrawerActions, null, index_js_default().createElement(esm_index_js_.DrawerCloseButton, {\n      onClick: onClose\n    }))), index_js_default().createElement(esm_index_js_.DrawerPanelBody, null, index_js_default().createElement(esm_index_js_.Tabs, {\n      activeKey: activeTabKey,\n      onSelect: selectActiveKey\n    }, index_js_default().createElement(esm_index_js_.Tab, {\n      eventKey: 0,\n      title: index_js_default().createElement(esm_index_js_.TabTitleText, null, t(\'overview\'))\n    }, index_js_default().createElement("div", {\n      className: "connector-drawer__tab-content"\n    }, index_js_default().createElement(esm_index_js_.TextContent, null, index_js_default().createElement(esm_index_js_.TextList, {\n      component: esm_index_js_.TextListVariants.dl\n    }, textListItem(\'Bootstrap server\', selectedConnectors == null ? void 0 : (_selectedConnectors$k = selectedConnectors.kafka) == null ? void 0 : _selectedConnectors$k.bootstrap_server), textListItem(\'Connector\', selectedConnectors == null ? void 0 : (_selectedConnectors$m2 = selectedConnectors.metadata) == null ? void 0 : _selectedConnectors$m2.name), textListItem(\'Kafka_instance\', selectedConnectors == null ? void 0 : (_selectedConnectors$m3 = selectedConnectors.metadata) == null ? void 0 : _selectedConnectors$m3.kafka_id), textListItem(\'Owner\', selectedConnectors == null ? void 0 : (_selectedConnectors$m4 = selectedConnectors.metadata) == null ? void 0 : _selectedConnectors$m4.owner))))))));\n  };\n\n  return index_js_default().createElement(esm_index_js_.Drawer, {\n    isExpanded: isExpanded\n  }, index_js_default().createElement(esm_index_js_.DrawerContent, {\n    panelContent: panelContent()\n  }, children));\n};\n\nvar css_248z$1 = ".connector-table-view__table{--pf-c-table-row__item--m-selected--ZIndex:var(--pf-global--ZIndex--xs);--pf-c-table-row__item--m-selected--BoxShadow:var(--pf-global--BoxShadow--sm-top),var(--pf-global--BoxShadow--sm-bottom);--pf-c-table-row__item--m-selectable--focus--BoxShadow:var(--pf-global--BoxShadow--sm-top),var(--pf-global--BoxShadow--sm-bottom);--pf-c-table-row__item--m-selectable--hover--ZIndex:calc(var(--pf-c-table-row__item--m-selected--ZIndex) + 1);--pf-c-table-row__item--before--BackgroundColor:transparent;--pf-c-table-row__item--m-selected--before--BackgroundColor:var(--pf-global--active-color--100);--pf-c-table-row__item--before--Top:0;--pf-c-table-row__item--before--Width:var(--pf-global--BorderWidth--lg);--pf-c-table-row__item--before--Transition:var(--pf-global--Transition);--pf-c-table-row__item--m-selectable--active--BoxShadow:var(--pf-global--BoxShadow--sm-top),var(--pf-global--BoxShadow--sm-bottom);--pf-c-table-row__item--m-selectable--OutlineOffset:calc(var(--pf-global--spacer--xs)*-1);--pf-c-table-row__item--m-selectable--hover--BoxShadow:var(--pf-global--BoxShadow--sm-top),var(--pf-global--BoxShadow--sm-bottom);margin-bottom:var(--pf-global--spacer--xs)}@media screen and (min-width:768px){.pf-c-table-row__item td:first-child:before{background-color:var(--pf-c-table-row__item--before--BackgroundColor);bottom:0;content:\\"\\";left:0;position:absolute;top:var(--pf-c-table-row__item--before--Top);transition:var(--pf-c-table-row__item--before--Transition);width:var(--pf-c-table-row__item--before--Width)}}.pf-c-table-row__item.pf-m-selectable{cursor:pointer;outline-offset:var(--pf-c-table-row__item--m-selectable--OutlineOffset)}.pf-c-table-row__item.pf-m-selectable:focus,.pf-c-table-row__item.pf-m-selectable:hover{position:relative;z-index:var(--pf-c-table-row__item--m-selectable--hover--ZIndex)}.pf-c-table-row__item.pf-m-selectable:hover{box-shadow:var(--pf-c-table-row__item--m-selectable--hover--BoxShadow)}.pf-c-table-row__item.pf-m-selectable:focus{box-shadow:var(--pf-c-table-row__item--m-selectable--focus--BoxShadow)}.pf-c-table-row__item.pf-m-selectable:active{box-shadow:var(--pf-c-table-row__item--m-selectable--active--BoxShadow)}.pf-c-table-row__item.pf-m-selectable.pf-m-selected{--pf-c-table-row__item--before--BackgroundColor:var(--pf-c-table-row__item--m-selected--before--BackgroundColor);box-shadow:var(--pf-c-table-row__item--m-selected--BoxShadow);position:relative;z-index:var(--pf-c-table-row__item--m-selected--ZIndex)}.pf-c-table-row__item.pf-m-disabled td{color:var(--pf-global--Color--200)}";\nstyleInject(css_248z$1);\n\n/**\r\n * A modal dialog to display confirmation for connector deletion.\r\n */\n\nvar DeleteConnectorConfirmDialog = function DeleteConnectorConfirmDialog(_ref) {\n  var connectorName = _ref.connectorName,\n      i18nCancel = _ref.i18nCancel,\n      i18nDelete = _ref.i18nDelete,\n      i18nTitle = _ref.i18nTitle,\n      onCancel = _ref.onCancel,\n      onConfirm = _ref.onConfirm,\n      showDialog = _ref.showDialog;\n\n  var _React$useState = index_js_default().useState(""),\n      nameValue = _React$useState[0],\n      setNameValue = _React$useState[1];\n\n  var _React$useState2 = index_js_default().useState(false),\n      canDelete = _React$useState2[0],\n      setCanDelete = _React$useState2[1]; // enable delete button if entered name matches\n\n\n  (0,index_js_.useEffect)(function () {\n    setCanDelete(nameValue === connectorName);\n  }, [nameValue]);\n\n  var onCancelDelete = function onCancelDelete() {\n    setNameValue("");\n    onCancel();\n  };\n\n  var onConfirmDelete = function onConfirmDelete() {\n    setNameValue("");\n    onConfirm();\n  };\n\n  return index_js_default().createElement(esm_index_js_.Modal, {\n    variant: esm_index_js_.ModalVariant.small,\n    title: i18nTitle,\n    titleIconVariant: "warning",\n    isOpen: showDialog,\n    onClose: onCancel,\n    actions: [index_js_default().createElement(esm_index_js_.Button, {\n      key: "confirm",\n      variant: "danger",\n      isDisabled: !canDelete,\n      onClick: onConfirmDelete\n    }, i18nDelete), index_js_default().createElement(esm_index_js_.Button, {\n      key: "cancel",\n      variant: "link",\n      onClick: onCancelDelete\n    }, i18nCancel)]\n  }, index_js_default().createElement(esm_index_js_.Stack, null, index_js_default().createElement(esm_index_js_.StackItem, null, index_js_default().createElement(es_index_js_.Trans, {\n    i18nKey: "deleteConfirmMessage"\n  }, "Connector ", index_js_default().createElement("strong", null, {\n    connectorName: connectorName\n  }), " will be deleted.")), index_js_default().createElement(esm_index_js_.StackItem, null, index_js_default().createElement(es_index_js_.Trans, {\n    i18nKey: "deleteTypeNameMessage"\n  }, "Type ", index_js_default().createElement("strong", null, {\n    connectorName: connectorName\n  }), " to confirm the deletion.")), index_js_default().createElement(esm_index_js_.StackItem, null, index_js_default().createElement(esm_index_js_.TextInput, {\n    value: nameValue,\n    type: "text",\n    onChange: setNameValue,\n    "aria-label": "name input"\n  }))));\n};\n\nvar ConnectorTableView = function ConnectorTableView(_ref) {\n  var _data$items;\n\n  var data = _ref.data,\n      activeRow = _ref.activeRow,\n      setActiveRow = _ref.setActiveRow,\n      selectConnector = _ref.selectConnector;\n\n  var _useTranslation = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation.t;\n\n  var rowClick = function rowClick(c) {\n    selectConnector(c);\n    setActiveRow(c.id || \'\');\n  };\n\n  return index_js_default().createElement(esm_index_js_.PageSection, {\n    padding: {\n      "default": \'noPadding\'\n    },\n    isFilled: true\n  }, index_js_default().createElement(ConnectorsToolbar, null), index_js_default().createElement(react_table_dist_esm_index_js_.TableComposable, {\n    "aria-label": "Sortable Table",\n    className: (0,react_styles_dist_esm_index_js_.css)(\'connector-table-view__table\')\n  }, index_js_default().createElement(react_table_dist_esm_index_js_.Thead, null, index_js_default().createElement(react_table_dist_esm_index_js_.Tr, null, index_js_default().createElement(react_table_dist_esm_index_js_.Th, null, t(\'id\')), index_js_default().createElement(react_table_dist_esm_index_js_.Th, null, t(\'name\')), index_js_default().createElement(react_table_dist_esm_index_js_.Th, null, t(\'type\')), index_js_default().createElement(react_table_dist_esm_index_js_.Th, null, t(\'category\')), index_js_default().createElement(react_table_dist_esm_index_js_.Th, null, t(\'status\')))), index_js_default().createElement(react_table_dist_esm_index_js_.Tbody, null, data == null ? void 0 : (_data$items = data.items) == null ? void 0 : _data$items.map(function (ref) {\n    return index_js_default().createElement(ConnectorRow, {\n      activeRow: activeRow,\n      onClick: rowClick,\n      connectorRef: ref,\n      key: ref.id\n    });\n  }))));\n};\nvar ConnectorRow = function ConnectorRow(_ref2) {\n  var _connector$metadata, _connector$metadata2;\n\n  var activeRow = _ref2.activeRow,\n      connectorRef = _ref2.connectorRef,\n      _onClick = _ref2.onClick;\n\n  var _useTranslation2 = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation2.t;\n\n  var _useConnector = (0,machines_esm.useConnector)(connectorRef),\n      connector = _useConnector.connector,\n      canStart = _useConnector.canStart,\n      canStop = _useConnector.canStop,\n      canDelete = _useConnector.canDelete,\n      onStart = _useConnector.onStart,\n      onStop = _useConnector.onStop,\n      onDelete = _useConnector.onDelete;\n\n  var _React$useState = index_js_default().useState(false),\n      showDeleteConnectorConfirm = _React$useState[0],\n      setShowDeleteConnectorConfirm = _React$useState[1];\n\n  var doCancelDeleteConnector = function doCancelDeleteConnector() {\n    setShowDeleteConnectorConfirm(false);\n  };\n\n  var doDeleteConnector = function doDeleteConnector() {\n    setShowDeleteConnectorConfirm(false);\n    onDelete();\n  };\n\n  var actions = [{\n    title: \'Start\',\n    onClick: onStart,\n    isDisabled: !canStart\n  }, {\n    title: \'Stop\',\n    onClick: onStop,\n    isDisabled: !canStop\n  }, {\n    title: \'Delete\',\n    onClick: function onClick() {\n      return setShowDeleteConnectorConfirm(true);\n    },\n    isDisabled: !canDelete\n  }, {\n    isSeparator: true\n  }, {\n    title: \'Overview\',\n    onClick: function onClick() {\n      return _onClick(connector);\n    }\n  }];\n  var statusOptions = [{\n    value: \'ready\',\n    label: t(\'Ready\')\n  }, {\n    value: \'failed\',\n    label: t(\'Failed\')\n  }, {\n    value: \'assigning\',\n    label: t(\'Creation pending\')\n  }, {\n    value: \'assigned\',\n    label: t(\'Creation in progress\')\n  }, {\n    value: \'updating\',\n    label: t(\'Creation in progress\')\n  }, {\n    value: \'provisioning\',\n    label: t(\'Creation in progress\')\n  }, {\n    value: \'deleting\',\n    label: t(\'Deletion in progress\')\n  }, {\n    value: \'deleted\',\n    label: t(\'Deletion in progress\')\n  }];\n\n  var getStatusLabel = function getStatusLabel(status) {\n    var _statusOptions$find;\n\n    return ((_statusOptions$find = statusOptions.find(function (s) {\n      return s.value === status;\n    })) == null ? void 0 : _statusOptions$find.label) || status;\n  };\n\n  return index_js_default().createElement((index_js_default()).Fragment, null, index_js_default().createElement(DeleteConnectorConfirmDialog, {\n    connectorName: (_connector$metadata = connector.metadata) == null ? void 0 : _connector$metadata.name,\n    i18nCancel: t(\'cancel\'),\n    i18nDelete: t(\'delete\'),\n    i18nTitle: t(\'deleteConnector\'),\n    showDialog: showDeleteConnectorConfirm,\n    onCancel: doCancelDeleteConnector,\n    onConfirm: doDeleteConnector\n  }), index_js_default().createElement(react_table_dist_esm_index_js_.Tr, {\n    onClick: function onClick(event) {\n      var _event$target;\n\n      // send the event only if the click didn\'t happen on the actions button\n      if (((_event$target = event.target) == null ? void 0 : _event$target.type) !== \'button\') {\n        _onClick(connector);\n      }\n    },\n    className: (0,react_styles_dist_esm_index_js_.css)(\'pf-c-table-row__item\', \'pf-m-selectable\', activeRow && activeRow === connector.id && \'pf-m-selected\')\n  }, index_js_default().createElement(react_table_dist_esm_index_js_.Td, {\n    dataLabel: t(\'id\')\n  }, connector.id), index_js_default().createElement(react_table_dist_esm_index_js_.Td, {\n    dataLabel: t(\'name\')\n  }, (_connector$metadata2 = connector.metadata) == null ? void 0 : _connector$metadata2.name), index_js_default().createElement(react_table_dist_esm_index_js_.Td, {\n    dataLabel: t(\'type\')\n  }, connector.connector_type_id), index_js_default().createElement(react_table_dist_esm_index_js_.Td, {\n    dataLabel: t(\'category\')\n  }, "TODO: MISSING"), index_js_default().createElement(react_table_dist_esm_index_js_.Td, {\n    dataLabel: t(\'status\')\n  }, index_js_default().createElement(esm_index_js_.Flex, null, index_js_default().createElement(esm_index_js_.FlexItem, {\n    spacer: {\n      "default": \'spacerSm\'\n    }\n  }, index_js_default().createElement(ConnectorStatusIcon, {\n    id: connector.id,\n    status: connector.status\n  })), index_js_default().createElement(esm_index_js_.FlexItem, null, getStatusLabel(connector.status)))), index_js_default().createElement(react_table_dist_esm_index_js_.Td, {\n    actions: {\n      items: actions\n    }\n  })));\n};\n\nvar ConnectorStatusIcon = function ConnectorStatusIcon(_ref3) {\n  var id = _ref3.id,\n      status = _ref3.status;\n\n  switch (status == null ? void 0 : status.toLowerCase()) {\n    case \'ready\':\n      return index_js_default().createElement(react_icons_dist_esm_index_js_.CheckCircleIcon, {\n        className: "mk--instances__table--icon--completed"\n      });\n\n    case \'failed\':\n      return index_js_default().createElement(react_icons_dist_esm_index_js_.ExclamationCircleIcon, {\n        className: "mk--instances__table--icon--failed"\n      });\n\n    case \'accepted\':\n      return index_js_default().createElement(react_icons_dist_esm_index_js_.PendingIcon, null);\n\n    case \'provisioning\':\n    case \'preparing\':\n      return index_js_default().createElement(esm_index_js_.Spinner, {\n        size: "md",\n        "aria-label": id,\n        "aria-valuetext": "Creation in progress"\n      });\n\n    case \'deprovision\':\n    case \'deleted\':\n      return null;\n  }\n\n  return index_js_default().createElement(react_icons_dist_esm_index_js_.PendingIcon, null);\n};\n\nvar ConnectorsToolbar = function ConnectorsToolbar() {\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine = (0,machines_esm.useConnectorsMachine)(service),\n      request = _useConnectorsMachine.request,\n      response = _useConnectorsMachine.response;\n\n  var onChange = function onChange(request) {\n    return service.send(_extends({\n      type: \'query\'\n    }, request));\n  };\n\n  var searchInputRef = (0,index_js_.useRef)(null);\n  var debouncedOnChange = (0,utils_esm.useDebounce)(onChange, 1000);\n  var defaultPerPageOptions = [{\n    title: \'1\',\n    value: 1\n  }, {\n    title: \'5\',\n    value: 5\n  }, {\n    title: \'10\',\n    value: 10\n  }]; // const [statuses, setStatuses] = useState<string[]>([\n  //   \'Pending\',\n  //   \'Created\',\n  //   \'Cancelled\',\n  // ]);\n  // const [statusesToggled, setStatusesToggled] = useState(false);\n  // const clearAllFilters = useCallback(() => {\n  //   setSearchValue(\'\');\n  //   setStatuses([]);\n  // }, []);\n  // const toggleStatuses = useCallback(\n  //   () => setStatusesToggled(prev => !prev),\n  //   []\n  // );\n  // const onSelectStatus = useCallback(\n  //   (_, status) =>\n  //     setStatuses(prev =>\n  //       prev.includes(status)\n  //         ? prev.filter(s => s !== status)\n  //         : [...prev, status]\n  //     ),\n  //   []\n  // );\n  // const statusMenuItems = [\n  //   <SelectOption key="statusPending" value="Pending" />,\n  //   <SelectOption key="statusCreated" value="Created" />,\n  //   <SelectOption key="statusCancelled" value="Cancelled" />,\n  // ];\n  // ensure the search input value reflects what\'s specified in the request object\n  // useEffect(() => {\n  //   if (searchInputRef.current) {\n  //     searchInputRef.current.value = (request.name as string | undefined) || \'\';\n  //   }\n  // }, [searchInputRef, request]);\n\n  var toggleGroupItems = index_js_default().createElement((index_js_default()).Fragment, null, index_js_default().createElement(esm_index_js_.ToolbarItem, null, index_js_default().createElement(esm_index_js_.InputGroup, null, index_js_default().createElement(esm_index_js_.TextInput, {\n    name: "textInput2",\n    id: "textInput2",\n    type: "search",\n    "aria-label": "search input example",\n    onChange: function onChange(value) {\n      return debouncedOnChange({\n        size: request.size,\n        page: 1,\n        name: value\n      });\n    },\n    ref: searchInputRef\n  }), index_js_default().createElement(esm_index_js_.Button, {\n    variant: \'control\',\n    "aria-label": "search button for search input"\n  }, index_js_default().createElement(react_icons_dist_esm_index_js_.SearchIcon, null)))));\n  var toolbarItems = index_js_default().createElement((index_js_default()).Fragment, null, index_js_default().createElement(esm_index_js_.ToolbarToggleGroup, {\n    toggleIcon: index_js_default().createElement(react_icons_dist_esm_index_js_.FilterIcon, null),\n    breakpoint: "xl"\n  }, toggleGroupItems), index_js_default().createElement(esm_index_js_.ToolbarGroup, {\n    variant: "icon-button-group"\n  }, index_js_default().createElement(esm_index_js_.ToolbarItem, null, index_js_default().createElement(react_router_dom_js_.NavLink, {\n    className: "pf-c-button pf-m-primary",\n    to: \'/create-connector\'\n  }, "Create Connector"))), index_js_default().createElement(esm_index_js_.ToolbarItem, {\n    variant: "pagination",\n    alignment: {\n      "default": \'alignRight\'\n    }\n  }, index_js_default().createElement(esm_index_js_.Pagination, {\n    itemCount: (response == null ? void 0 : response.total) || 0,\n    page: request.page,\n    perPage: request.size,\n    perPageOptions: defaultPerPageOptions,\n    onSetPage: function onSetPage(_, page, size) {\n      return onChange(_extends({}, request, {\n        page: page,\n        size: size || request.size\n      }));\n    },\n    onPerPageSelect: function onPerPageSelect() {\n      return false;\n    },\n    variant: "top",\n    isCompact: true\n  })));\n  return index_js_default().createElement(esm_index_js_.Toolbar, {\n    id: "toolbar-group-types",\n    collapseListedFiltersBreakpoint: "xl"\n  }, index_js_default().createElement(esm_index_js_.ToolbarContent, null, toolbarItems));\n};\n\nvar ConnectedConnectorsPage = function ConnectedConnectorsPage() {\n  var _useTranslation = (0,es_index_js_.useTranslation)(),\n      t = _useTranslation.t;\n\n  var _useAppContext = useAppContext(),\n      basePath = _useAppContext.basePath,\n      authToken = _useAppContext.authToken;\n\n  var _useState = (0,index_js_.useState)(null),\n      selectedConnectors = _useState[0],\n      setSelectedConnectors = _useState[1];\n\n  var _useState2 = (0,index_js_.useState)(\'\'),\n      activeRow = _useState2[0],\n      setActiveRow = _useState2[1];\n\n  var onDrawerClose = function onDrawerClose() {\n    setSelectedConnectors(null);\n    setActiveRow(\'\');\n  };\n\n  return index_js_default().createElement(machines_esm.ConnectorsMachineProvider, {\n    accessToken: authToken,\n    basePath: basePath\n  }, index_js_default().createElement(ConnectorDrawer, {\n    isExpanded: selectedConnectors != null,\n    selectedConnectors: selectedConnectors,\n    onClose: onDrawerClose\n  }, index_js_default().createElement(esm_index_js_.PageSection, {\n    variant: \'light\'\n  }, index_js_default().createElement(esm_index_js_.TextContent, null, index_js_default().createElement(esm_index_js_.Title, {\n    headingLevel: "h1"\n  }, t(\'managedConnectors\')))), index_js_default().createElement(esm_index_js_.PageSection, {\n    variant: \'light\',\n    padding: {\n      "default": \'noPadding\'\n    }\n  }, index_js_default().createElement(ConnectorsPage, {\n    selectConnector: setSelectedConnectors,\n    activeRow: activeRow,\n    setActiveRow: setActiveRow\n  }))));\n};\nvar ConnectorsPage = function ConnectorsPage(_ref) {\n  var activeRow = _ref.activeRow,\n      setActiveRow = _ref.setActiveRow,\n      selectConnector = _ref.selectConnector;\n  var service = (0,machines_esm.useConnectorsMachineService)();\n  var isReady = (0,machines_esm.useConnectorsMachineIsReady)(service);\n  return isReady ? index_js_default().createElement(ConnectorsTable, {\n    selectConnector: selectConnector,\n    activeRow: activeRow,\n    setActiveRow: setActiveRow\n  }) : null;\n};\n\nvar ConnectorsTable = function ConnectorsTable(_ref2) {\n  var activeRow = _ref2.activeRow,\n      setActiveRow = _ref2.setActiveRow,\n      selectConnector = _ref2.selectConnector;\n  var history = (0,react_router_dom_js_.useHistory)();\n  var service = (0,machines_esm.useConnectorsMachineService)();\n\n  var _useConnectorsMachine = (0,machines_esm.useConnectorsMachine)(service),\n      response = _useConnectorsMachine.response,\n      loading = _useConnectorsMachine.loading,\n      error = _useConnectorsMachine.error,\n      noResults = _useConnectorsMachine.noResults,\n      queryEmpty = _useConnectorsMachine.queryEmpty,\n      firstRequest = _useConnectorsMachine.firstRequest;\n\n  switch (true) {\n    case firstRequest:\n      return index_js_default().createElement(esm_index_js_.PageSection, {\n        padding: {\n          "default": \'noPadding\'\n        },\n        isFilled: true\n      }, index_js_default().createElement(utils_esm.Loading, null));\n\n    case queryEmpty:\n      return index_js_default().createElement(esm_index_js_.PageSection, {\n        padding: {\n          "default": \'noPadding\'\n        },\n        isFilled: true\n      }, index_js_default().createElement(utils_esm.NoMatchFound, {\n        onClear: function onClear() {\n          return service.send({\n            type: \'query\',\n            page: 1,\n            size: 10\n          });\n        }\n      }));\n\n    case loading:\n      return index_js_default().createElement(esm_index_js_.PageSection, {\n        padding: {\n          "default": \'noPadding\'\n        },\n        isFilled: true\n      }, index_js_default().createElement(ConnectorsToolbar, null), index_js_default().createElement(utils_esm.Loading, null));\n\n    case noResults || error:\n      return index_js_default().createElement(utils_esm.EmptyState, {\n        emptyStateProps: {\n          variant: utils_esm.EmptyStateVariant.GettingStarted\n        },\n        titleProps: {\n          title: \'cos.welcome_to_cos\'\n        },\n        emptyStateBodyProps: {\n          body: \'cos.welcome_empty_state_body\'\n        },\n        buttonProps: {\n          title: \'cos.create_cos\',\n          variant: esm_index_js_.ButtonVariant.primary,\n          onClick: function onClick() {\n            return history.push(\'/create-connector\');\n          }\n        }\n      });\n\n    default:\n      return index_js_default().createElement(ConnectorTableView, {\n        data: response,\n        selectConnector: selectConnector,\n        activeRow: activeRow,\n        setActiveRow: setActiveRow\n      });\n  }\n};\n\nvar fetchConfigurator = /*#__PURE__*/function () {\n  var _ref = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee2(connector, config) {\n    var defaultConfig;\n    return runtime_1.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            defaultConfig = Promise.resolve({\n              steps: false,\n              Configurator: false\n            });\n            return _context2.abrupt("return", new Promise( /*#__PURE__*/function () {\n              var _ref2 = _asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee(resolve) {\n                var federatedConfigurator;\n                return runtime_1.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.prev = 0;\n                        _context.next = 3;\n                        return maybeGetFederatedConfiguratorForConnector(config, connector);\n\n                      case 3:\n                        federatedConfigurator = _context.sent;\n                        _context.next = 6;\n                        return injectFederatedModuleScript(federatedConfigurator.remoteEntry);\n\n                      case 6:\n                        resolve(loadFederatedConfigurator(federatedConfigurator.scope, federatedConfigurator.module));\n                        _context.next = 12;\n                        break;\n\n                      case 9:\n                        _context.prev = 9;\n                        _context.t0 = _context["catch"](0);\n                        resolve(defaultConfig);\n\n                      case 12:\n                      case "end":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, null, [[0, 9]]);\n              }));\n\n              return function (_x3) {\n                return _ref2.apply(this, arguments);\n              };\n            }()));\n\n          case 2:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function fetchConfigurator(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar isValidConf = function isValidConf(maybeConf) {\n  return maybeConf && maybeConf.remoteEntry && typeof maybeConf.remoteEntry === \'string\' && maybeConf.scope && typeof maybeConf.scope === \'string\' && maybeConf.module && typeof maybeConf.module === \'string\';\n};\n\nvar maybeGetFederatedConfiguratorForConnector = /*#__PURE__*/function () {\n  var _ref3 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee3(config, connector) {\n    var maybeConfiguration;\n    return runtime_1.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            console.log(\'Fetched federated configurator remotes configuration\', config);\n            maybeConfiguration = config[connector.id];\n            console.log("Candidate configuration for \\"" + connector.id + "\\"", maybeConfiguration);\n\n            if (maybeConfiguration) {\n              _context3.next = 6;\n              break;\n            }\n\n            console.log("Couldn\'t find any configuration for the requested connector");\n            return _context3.abrupt("return", Promise.reject());\n\n          case 6:\n            if (!isValidConf(maybeConfiguration)) {\n              _context3.next = 9;\n              break;\n            }\n\n            console.log(\'Found a generic configuration for the connector\', maybeConfiguration);\n            return _context3.abrupt("return", maybeConfiguration);\n\n          case 9:\n            console.log("Couldn\'t find a valid configuration for the requested connector");\n            return _context3.abrupt("return", Promise.reject());\n\n          case 11:\n          case "end":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function maybeGetFederatedConfiguratorForConnector(_x4, _x5) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar injectFederatedModuleScript = /*#__PURE__*/function () {\n  var _ref4 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee4(url) {\n    return runtime_1.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt("return", new Promise(function (resolve, reject) {\n              var element = document.createElement(\'script\');\n              element.src = url;\n              element.type = \'text/javascript\';\n              element.async = true;\n\n              element.onload = function () {\n                console.log("Dynamic federated module loaded: " + url);\n                document.head.removeChild(element);\n                resolve();\n              };\n\n              element.onerror = function () {\n                console.error("Dynamic federated module Error: " + url);\n                console.log("Dynamic federated module Removed: " + url);\n                document.head.removeChild(element);\n                reject();\n              };\n\n              document.head.appendChild(element);\n            }));\n\n          case 1:\n          case "end":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function injectFederatedModuleScript(_x6) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nfunction loadFederatedConfigurator(_x7, _x8) {\n  return _loadFederatedConfigurator.apply(this, arguments);\n}\n\nfunction _loadFederatedConfigurator() {\n  _loadFederatedConfigurator = _asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee5(scope, module) {\n    var container, factory, federatedConfigurationConfig;\n    return runtime_1.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return __webpack_require__.I(\'default\');\n\n          case 2:\n            container = window[scope]; // or get the container somewhere else\n            // Initialize the container, it may provide shared modules\n\n            _context5.next = 5;\n            return container.init(__webpack_require__.S["default"]);\n\n          case 5:\n            _context5.next = 7;\n            return window[scope].get(module);\n\n          case 7:\n            factory = _context5.sent;\n            federatedConfigurationConfig = factory();\n            console.log("loaded federated configurator configuration from " + scope, federatedConfigurationConfig);\n            return _context5.abrupt("return", federatedConfigurationConfig["default"]);\n\n          case 11:\n          case "end":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _loadFederatedConfigurator.apply(this, arguments);\n}\n\nvar CosUiRoutes = function CosUiRoutes(_ref) {\n  var getToken = _ref.getToken,\n      apiBasepath = _ref.apiBasepath;\n\n  var _useConfig = (0,dist_esm_index_js_.useConfig)(),\n      cos = _useConfig.cos;\n\n  var history = (0,react_router_dom_js_.useHistory)();\n\n  var goToConnectorsList = function goToConnectorsList() {\n    return history.push(\'/\');\n  };\n\n  return index_js_default().createElement(AppContextProvider, {\n    authToken: getToken,\n    basePath: apiBasepath\n  }, index_js_default().createElement(react_router_dom_js_.Switch, null, index_js_default().createElement(react_router_dom_js_.Route, {\n    path: \'/\',\n    exact: true\n  }, index_js_default().createElement(ConnectedConnectorsPage, null)), index_js_default().createElement(react_router_dom_js_.Route, {\n    path: \'/create-connector\'\n  }, index_js_default().createElement(esm_index_js_.PageSection, {\n    padding: {\n      "default": \'noPadding\'\n    }\n  }, index_js_default().createElement(machines_esm.CreationWizardMachineProvider, {\n    accessToken: getToken,\n    basePath: apiBasepath,\n    fetchConfigurator: function fetchConfigurator$1(connector) {\n      return fetchConfigurator(connector, cos.configurators);\n    },\n    onSave: goToConnectorsList\n  }, index_js_default().createElement(dist.CreationWizard, {\n    onClose: goToConnectorsList\n  }))))));\n};\n\nvar keycloak$1;\nvar DemoApp = function DemoApp() {\n  var _keycloak;\n\n  var _useState = useState(false),\n      initialized = _useState[0],\n      setInitialized = _useState[1]; // Initialize the client\n\n\n  useEffect(function () {\n    var init = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee() {\n        return runtime_1.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getKeycloakInstance();\n\n              case 2:\n                keycloak$1 = _context.sent;\n                setInitialized(true);\n\n              case 4:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function init() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    init();\n  }, []);\n  var config = {\n    cos: {\n      apiBasePath: "https://kas-fleet-manager-managed-services-chirino.apps.kammellol.rhmw-integrations.net",\n      configurators: {\n        \'debezium-mongodb-1.5.0.Final\': {\n          remoteEntry: \'http://localhost:8888/dbz-connector-configurator.remoteEntry.js\',\n          scope: \'debezium_ui\',\n          module: \'./config\'\n        },\n        \'debezium-mysql-1.5.0.Final\': {\n          remoteEntry: \'http://localhost:8888/dbz-connector-configurator.remoteEntry.js\',\n          scope: \'debezium_ui\',\n          module: \'./config\'\n        },\n        \'debezium-postgres-1.5.0.Final\': {\n          remoteEntry: \'http://localhost:8888/dbz-connector-configurator.remoteEntry.js\',\n          scope: \'debezium_ui\',\n          module: \'./config\'\n        }\n      }\n    }\n  };\n  return React__default.createElement(KeycloakContext.Provider, {\n    value: {\n      keycloak: keycloak$1,\n      profile: (_keycloak = keycloak$1) == null ? void 0 : _keycloak.profile\n    }\n  }, React__default.createElement(KeycloakAuthProvider, null, React__default.createElement(ConfigContext.Provider, {\n    value: config\n  }, React__default.createElement(I18nextProvider, {\n    i18n: i18n\n  }, React__default.createElement(React__default.Suspense, {\n    fallback: React__default.createElement(Loading, null)\n  }, React__default.createElement(BrowserRouter, null, React__default.createElement(AppLayout, null, initialized ? React__default.createElement(ConnectedRoutes, null) : React__default.createElement(Spinner, null))))))));\n};\n\nvar ConnectedRoutes = function ConnectedRoutes() {\n  var auth = useAuth();\n\n  var _useConfig = useConfig(),\n      cos = _useConfig.cos;\n\n  return React__default.createElement(CosUiRoutes, {\n    getToken: auth.kas.getToken,\n    apiBasepath: cos.apiBasePath\n  });\n};\n\nvar FederatedApp = function FederatedApp() {\n  var _useConfig = (0,dist_esm_index_js_.useConfig)(),\n      cos = _useConfig.cos;\n\n  var _useAuth = (0,dist_esm_index_js_.useAuth)(),\n      kas = _useAuth.kas;\n\n  var _useBasename = (0,dist_esm_index_js_.useBasename)(),\n      getBasename = _useBasename.getBasename;\n\n  return index_js_default().createElement(es_index_js_.I18nextProvider, {\n    i18n: (i18next_js_default())\n  }, index_js_default().createElement((index_js_default()).Suspense, {\n    fallback: index_js_default().createElement(utils_esm.Loading, null)\n  }, index_js_default().createElement(react_router_dom_js_.BrowserRouter, {\n    basename: getBasename()\n  }, index_js_default().createElement(CosUiRoutes, {\n    getToken: kas.getToken,\n    apiBasepath: cos.apiBasePath\n  }))));\n};\n\n\n//# sourceMappingURL=app.esm.js.map\n\n;// CONCATENATED MODULE: ./src/federated.ts\n\n/* harmony default export */ const federated = (FederatedApp);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uL3BhY2thZ2VzL2FwcC9kaXN0L2FwcC5lc20uanM/MDExMSIsIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4vc3JjL2ZlZGVyYXRlZC50cz9jOWQ1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDc2Q7QUFDeGQ7QUFDUjtBQUNJO0FBQ1M7QUFDdkU7QUFDZ0I7QUFDcUI7QUFDN0I7QUFDc0I7QUFDaUk7QUFDcEU7QUFDdkU7QUFDcUM7O0FBRXBGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsc0JBQXNCO0FBQ3pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsWUFBWSxFQUFFO0FBQ2hDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQjs7QUFFcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWU7QUFDZixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUF1QjtBQUN6RCxjQUFjLGdDQUE0QixDQUFDLGlCQUFPO0FBQ2xELEdBQUcsRUFBRSxnQ0FBNEIsQ0FBQyxrQ0FBYTtBQUMvQztBQUNBLEdBQUcsRUFBRSxnQ0FBNEI7QUFDakM7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFaUM7QUFDakM7OztBQ2hpRTJDO0FBRTNDLGdEQUFlLFlBQVksRUFBQyIsImZpbGUiOiI3MTQ4Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdF9fZGVmYXVsdCwgeyB1c2VTdGF0ZSwgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQYWdlSGVhZGVyVG9vbHMsIFBhZ2VIZWFkZXIsIE5hdiwgTmF2TGlzdCwgTmF2SXRlbSwgUGFnZVNpZGViYXIsIFBhZ2UsIERyYXdlciwgRHJhd2VyQ29udGVudCwgRHJhd2VyUGFuZWxDb250ZW50LCBEcmF3ZXJIZWFkLCBUZXh0Q29udGVudCwgVGV4dCwgVGV4dFZhcmlhbnRzLCBUaXRsZSwgVGl0bGVTaXplcywgRHJhd2VyQWN0aW9ucywgRHJhd2VyQ2xvc2VCdXR0b24sIERyYXdlclBhbmVsQm9keSwgVGFicywgVGFiLCBUYWJUaXRsZVRleHQsIFRleHRMaXN0LCBUZXh0TGlzdFZhcmlhbnRzLCBUZXh0TGlzdEl0ZW0sIFRleHRMaXN0SXRlbVZhcmlhbnRzLCBNb2RhbCwgTW9kYWxWYXJpYW50LCBCdXR0b24sIFN0YWNrLCBTdGFja0l0ZW0sIFRleHRJbnB1dCwgUGFnZVNlY3Rpb24sIEZsZXgsIEZsZXhJdGVtLCBTcGlubmVyLCBUb29sYmFySXRlbSwgSW5wdXRHcm91cCwgVG9vbGJhclRvZ2dsZUdyb3VwLCBUb29sYmFyR3JvdXAsIFBhZ2luYXRpb24sIFRvb2xiYXIsIFRvb2xiYXJDb250ZW50LCBCdXR0b25WYXJpYW50IH0gZnJvbSAnQHBhdHRlcm5mbHkvcmVhY3QtY29yZSc7XG5pbXBvcnQgeyBBdXRoQ29udGV4dCwgdXNlQ29uZmlnLCBDb25maWdDb250ZXh0LCB1c2VBdXRoLCB1c2VCYXNlbmFtZSB9IGZyb20gJ0BiZjIvdWktc2hhcmVkJztcbmltcG9ydCB7IE5hdkxpbmssIHVzZUhpc3RvcnksIFN3aXRjaCwgUm91dGUsIEJyb3dzZXJSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCB7IGluaXRSZWFjdEkxOG5leHQsIHVzZVRyYW5zbGF0aW9uLCBUcmFucywgSTE4bmV4dFByb3ZpZGVyIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyB1c2VEZWJvdW5jZSwgRW1wdHlTdGF0ZSwgRW1wdHlTdGF0ZVZhcmlhbnQsIExvYWRpbmcsIE5vTWF0Y2hGb3VuZCB9IGZyb20gJ0Bjb3MtdWkvdXRpbHMnO1xuaW1wb3J0IGkxOG4gZnJvbSAnaTE4bmV4dCc7XG5pbXBvcnQgQmFja2VuZCBmcm9tICdpMThuZXh0LWh0dHAtYmFja2VuZCc7XG5pbXBvcnQgTGFuZ3VhZ2VEZXRlY3RvciBmcm9tICdpMThuZXh0LWJyb3dzZXItbGFuZ3VhZ2VkZXRlY3Rvcic7XG5pbXBvcnQgS2V5Y2xvYWsgZnJvbSAna2V5Y2xvYWstanMnO1xuaW1wb3J0IHsgQ3JlYXRpb25XaXphcmQgfSBmcm9tICdAY29zLXVpL2NyZWF0aW9uLXdpemFyZCc7XG5pbXBvcnQgeyB1c2VDb25uZWN0b3IsIHVzZUNvbm5lY3RvcnNNYWNoaW5lU2VydmljZSwgdXNlQ29ubmVjdG9yc01hY2hpbmUsIENvbm5lY3RvcnNNYWNoaW5lUHJvdmlkZXIsIHVzZUNvbm5lY3RvcnNNYWNoaW5lSXNSZWFkeSwgQ3JlYXRpb25XaXphcmRNYWNoaW5lUHJvdmlkZXIgfSBmcm9tICdAY29zLXVpL21hY2hpbmVzJztcbmltcG9ydCB7IFBlbmRpbmdJY29uLCBFeGNsYW1hdGlvbkNpcmNsZUljb24sIENoZWNrQ2lyY2xlSWNvbiwgU2VhcmNoSWNvbiwgRmlsdGVySWNvbiB9IGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LWljb25zJztcbmltcG9ydCB7IGNzcyB9IGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LXN0eWxlcyc7XG5pbXBvcnQgeyBUYWJsZUNvbXBvc2FibGUsIFRoZWFkLCBUciwgVGgsIFRib2R5LCBUZCB9IGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LXRhYmxlJztcblxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICB0cnkge1xuICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGluZm8uZG9uZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXG4gICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7XG4gICAgICB9XG5cbiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZuLCBtb2R1bGUpIHtcblx0cmV0dXJuIG1vZHVsZSA9IHsgZXhwb3J0czoge30gfSwgZm4obW9kdWxlLCBtb2R1bGUuZXhwb3J0cyksIG1vZHVsZS5leHBvcnRzO1xufVxuXG52YXIgcnVudGltZV8xID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgLyoqXG4gICAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICAgKlxuICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAgICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKi9cbiAgdmFyIHJ1bnRpbWUgPSBmdW5jdGlvbiAoZXhwb3J0cykge1xuXG4gICAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gICAgdmFyIHVuZGVmaW5lZCQxOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cblxuICAgIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gICAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcbiAgICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICAgIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgICBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvYmpba2V5XTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gSUUgOCBoYXMgYSBicm9rZW4gT2JqZWN0LmRlZmluZVByb3BlcnR5IHRoYXQgb25seSB3b3JrcyBvbiBET00gb2JqZWN0cy5cbiAgICAgIGRlZmluZSh7fSwgXCJcIik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBkZWZpbmUgPSBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBvYmpba2V5XSA9IHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkIGFuZCBvdXRlckZuLnByb3RvdHlwZSBpcyBhIEdlbmVyYXRvciwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pOyAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG5cbiAgICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiBnZW5lcmF0b3I7XG4gICAgfVxuXG4gICAgZXhwb3J0cy53cmFwID0gd3JhcDsgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uXG4gICAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gICAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gICAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZVxuICAgIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gICAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWVcbiAgICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gICAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxuXG4gICAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFwibm9ybWFsXCIsXG4gICAgICAgICAgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKVxuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogXCJ0aHJvd1wiLFxuICAgICAgICAgIGFyZzogZXJyXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gICAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gICAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiOyAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzXG4gICAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuXG4gICAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTsgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gICAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yXG4gICAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuXG4gICAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cblxuICAgIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cblxuICAgIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge30gLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAgIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG5cblxuICAgIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4gICAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgICB2YXIgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7XG5cbiAgICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiYgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgICAvLyBvZiB0aGUgcG9seWZpbGwuXG4gICAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICAgIH1cblxuICAgIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb247XG4gICAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBkZWZpbmUoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpOyAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAgIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG5cbiAgICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICAgIGRlZmluZShwcm90b3R5cGUsIG1ldGhvZCwgZnVuY3Rpb24gKGFyZykge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uIChnZW5GdW4pIHtcbiAgICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICAgIHJldHVybiBjdG9yID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHwgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiIDogZmFsc2U7XG4gICAgfTtcblxuICAgIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uIChnZW5GdW4pIHtcbiAgICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgICBkZWZpbmUoZ2VuRnVuLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKTtcbiAgICAgIH1cblxuICAgICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgICAgcmV0dXJuIGdlbkZ1bjtcbiAgICB9OyAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAgIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuXG5cbiAgICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgX19hd2FpdDogYXJnXG4gICAgICB9O1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHtcbiAgICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuXG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcblxuICAgICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24gKHVud3JhcHBlZCkge1xuICAgICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLlxuICAgICAgICAgICAgcmV0dXJuIGludm9rZShcInRocm93XCIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID0gLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLCAvLyBBdm9pZCBwcm9wYWdhdGluZyBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieSBsYXRlclxuICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgICB9IC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cblxuXG4gICAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICAgIH1cblxuICAgIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG5cbiAgICBBc3luY0l0ZXJhdG9yLnByb3RvdHlwZVthc3luY0l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yOyAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gICAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gICAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG5cbiAgICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24gKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgICAgaWYgKFByb21pc2VJbXBsID09PSB2b2lkIDApIFByb21pc2VJbXBsID0gUHJvbWlzZTtcbiAgICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3Iod3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksIFByb21pc2VJbXBsKTtcbiAgICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgICAgfSAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcblxuXG4gICAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG5cbiAgICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZSA/IEdlblN0YXRlQ29tcGxldGVkIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkOyAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuXG4gICAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gICAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gICAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG5cblxuICAgIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG5cbiAgICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCQxKSB7XG4gICAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIC8vIE5vdGU6IFtcInJldHVyblwiXSBtdXN0IGJlIHVzZWQgZm9yIEVTMyBwYXJzaW5nIGNvbXBhdGliaWxpdHkuXG4gICAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCQxO1xuICAgICAgICAgICAgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAgIC8vIFwicmV0dXJuXCIgdG8gXCJ0aHJvd1wiLCBsZXQgdGhhdCBvdmVycmlkZSB0aGUgVHlwZUVycm9yIGJlbG93LlxuICAgICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgICBpZiAoIWluZm8pIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7IC8vIFJlc3VtZSBleGVjdXRpb24gYXQgdGhlIGRlc2lyZWQgbG9jYXRpb24gKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cblxuICAgICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jOyAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZlxuICAgICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgICAgLy8gXCJyZXR1cm5cIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGVcbiAgICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCAhPT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQkMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgIH0gLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXG5cblxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9IC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gICAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuXG5cbiAgICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuICAgIGRlZmluZShHcCwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yXCIpOyAvLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZVxuICAgIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gICAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgICAvLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi5cbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIEdwW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgICAgdmFyIGVudHJ5ID0ge1xuICAgICAgICB0cnlMb2M6IGxvY3NbMF1cbiAgICAgIH07XG5cbiAgICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdO1xuICAgICAgfVxuXG4gICAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICAgIGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdO1xuICAgICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgICB9XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgICAvLyBUaGUgcm9vdCBlbnRyeSBvYmplY3QgKGVmZmVjdGl2ZWx5IGEgdHJ5IHN0YXRlbWVudCB3aXRob3V0IGEgY2F0Y2hcbiAgICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICAgIHRoaXMudHJ5RW50cmllcyA9IFt7XG4gICAgICAgIHRyeUxvYzogXCJyb290XCJcbiAgICAgIH1dO1xuICAgICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpO1xuICAgICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgICB9XG5cbiAgICBleHBvcnRzLmtleXMgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgfVxuXG4gICAgICBrZXlzLnJldmVyc2UoKTsgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcblxuICAgICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuXG5cbiAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG5cbiAgICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgICB2YXIgaSA9IC0xLFxuICAgICAgICAgICAgICBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICAgIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXTtcbiAgICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkJDE7XG4gICAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICB9IC8vIFJldHVybiBhbiBpdGVyYXRvciB3aXRoIG5vIHZhbHVlcy5cblxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBuZXh0OiBkb25lUmVzdWx0XG4gICAgICB9O1xuICAgIH1cblxuICAgIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gICAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB1bmRlZmluZWQkMSxcbiAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KHNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgICAgdGhpcy5uZXh0ID0gMDsgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cblxuICAgICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkJDE7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQkMTtcbiAgICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJiBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJiAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQkMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdO1xuICAgICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICAgIH0sXG4gICAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24gZGlzcGF0Y2hFeGNlcHRpb24oZXhjZXB0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG5cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjtcbiAgICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLFxuICAgICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCQxO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiAhIWNhdWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xuICAgICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYWJydXB0OiBmdW5jdGlvbiBhYnJ1cHQodHlwZSwgYXJnKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG5cbiAgICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJiBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaW5hbGx5RW50cnkgJiYgKHR5cGUgPT09IFwiYnJlYWtcIiB8fCB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZShyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8IHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH0sXG4gICAgICBmaW5pc2g6IGZ1bmN0aW9uIGZpbmlzaChmaW5hbGx5TG9jKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG5cbiAgICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24gX2NhdGNoKHRyeUxvYykge1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuXG4gICAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb25cbiAgICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuXG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgICAgfSxcbiAgICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQkMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuICAgIH07IC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGVcbiAgICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgICAvLyByZWdlbmVyYXRvclJ1bnRpbWUgaW4gdGhlIG91dGVyIHNjb3BlLCB3aGljaCBhbGxvd3MgdGhpcyBtb2R1bGUgdG8gYmVcbiAgICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLlxuXG4gICAgcmV0dXJuIGV4cG9ydHM7XG4gIH0oIC8vIElmIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZSwgdXNlIG1vZHVsZS5leHBvcnRzXG4gIC8vIGFzIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgbmFtZXNwYWNlLiBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGVtcHR5XG4gIC8vIG9iamVjdC4gRWl0aGVyIHdheSwgdGhlIHJlc3VsdGluZyBvYmplY3Qgd2lsbCBiZSB1c2VkIHRvIGluaXRpYWxpemVcbiAgLy8gdGhlIHJlZ2VuZXJhdG9yUnVudGltZSB2YXJpYWJsZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZS5cbiAgIG1vZHVsZS5leHBvcnRzICk7XG5cbiAgdHJ5IHtcbiAgICByZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xuICB9IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAgIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gICAgLy8gYXNzaWdubWVudCBzaG91bGQgYWx3YXlzIHdvcmsgdW5sZXNzIHNvbWV0aGluZyBpcyBtaXNjb25maWd1cmVkLiBKdXN0XG4gICAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCB3ZSBjYW4gZXNjYXBlXG4gICAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gICAgLy8gaWYgYSBDb250ZW50IFNlY3VyaXR5IFBvbGljeSBmb3JiaWRzIHVzaW5nIEZ1bmN0aW9uLCBidXQgaW4gdGhhdCBjYXNlXG4gICAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAgIC8vIENTUCB0byBmb3JiaWQgRnVuY3Rpb24sIGFuZCB5b3UncmUgbm90IHdpbGxpbmcgdG8gZml4IGVpdGhlciBvZiB0aG9zZVxuICAgIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICAgIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG4gIH1cbn0pO1xuXG4vLyBoYXZlIGEgbG9vayBhdCB0aGUgUXVpY2sgc3RhcnQgZ3VpZGUgXG4vLyBmb3IgcGFzc2luZyBpbiBsbmcgYW5kIHRyYW5zbGF0aW9ucyBvbiBpbml0XG5cbmkxOG4gLy8gbG9hZCB0cmFuc2xhdGlvbiB1c2luZyBodHRwIC0+IHNlZSAvcHVibGljL2xvY2FsZXMgKGkuZS4gaHR0cHM6Ly9naXRodWIuY29tL2kxOG5leHQvcmVhY3QtaTE4bmV4dC90cmVlL21hc3Rlci9leGFtcGxlL3JlYWN0L3B1YmxpYy9sb2NhbGVzKVxuLy8gbGVhcm4gbW9yZTogaHR0cHM6Ly9naXRodWIuY29tL2kxOG5leHQvaTE4bmV4dC1odHRwLWJhY2tlbmRcbi51c2UoQmFja2VuZCkgLy8gZGV0ZWN0IHVzZXIgbGFuZ3VhZ2Vcbi8vIGxlYXJuIG1vcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9pMThuZXh0L2kxOG5leHQtYnJvd3Nlci1sYW5ndWFnZURldGVjdG9yXG4udXNlKExhbmd1YWdlRGV0ZWN0b3IpIC8vIHBhc3MgdGhlIGkxOG4gaW5zdGFuY2UgdG8gcmVhY3QtaTE4bmV4dC5cbi51c2UoaW5pdFJlYWN0STE4bmV4dCkgLy8gaW5pdCBpMThuZXh0XG4vLyBmb3IgYWxsIG9wdGlvbnMgcmVhZDogaHR0cHM6Ly93d3cuaTE4bmV4dC5jb20vb3ZlcnZpZXcvY29uZmlndXJhdGlvbi1vcHRpb25zXG4uaW5pdCh7XG4gIC8vIENvbW1lbnRpbmcgaXQgYXMgd2UgaGF2ZSBmYWxsYmFja0xuZyBmb3IgY2FzZSBvZiBsYW5ndWFnZSBkZXRlY3RlZCBhcyBlbi1HQiBvciBlbi1VU1xuICAvLyBzdXBwb3J0ZWRMbmdzOiBbJ2VuJywnaXQnXSxcbiAgYmFja2VuZDoge1xuICAgIGxvYWRQYXRoOiBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwibG9jYWxlcy97e2xuZ319L3t7bnN9fS5qc29uXCJcbiAgfSxcbiAgZmFsbGJhY2tMbmc6ICdlbicsXG4gIGxvYWQ6ICdhbGwnLFxuICBkZWJ1ZzogdHJ1ZSxcbiAgLy8gYWRkIGFueSBuYW1lc3BhY2VzIHlvdSdyZSB1c2luZyBoZXJlIGZvciBsb2FkaW5nIHB1cnBvc2VzXG4gIG5zOiBbJ3B1YmxpYyddLFxuICBkZWZhdWx0TlM6ICdwdWJsaWMnLFxuICBuc1NlcGFyYXRvcjogJzonLFxuICBrZXlTZXBhcmF0b3I6ICcuJyxcbiAgcmVhY3Q6IHtcbiAgICB1c2VTdXNwZW5zZTogdHJ1ZSxcbiAgICB3YWl0OiB0cnVlXG4gIH0sXG4gIGludGVycG9sYXRpb246IHtcbiAgICBkZWZhdWx0VmFyaWFibGVzOiB1bmRlZmluZWQsXG4gICAgZXNjYXBlVmFsdWU6IGZhbHNlIC8vIG5vdCBuZWVkZWQgZm9yIHJlYWN0IGFzIGl0IGVzY2FwZXMgYnkgZGVmYXVsdFxuXG4gIH1cbn0pO1xuXG52YXIga2V5Y2xvYWs7XG4vKipcclxuICogR2V0IGtleWNsb2FrIGluc3RhbmNlXHJcbiAqXHJcbiAqIEByZXR1cm4gYW4gaW5pdGlhdGVkIGtleWNsb2FrIGluc3RhbmNlIG9yIGB1bmRlZmluZWRgXHJcbiAqIGlmIGtleWNsb2FrIGlzbid0IGNvbmZpZ3VyZWRcclxuICpcclxuICovXG5cbnZhciBnZXRLZXljbG9ha0luc3RhbmNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWYgPSAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9ydW50aW1lXzEubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgIHJldHVybiBydW50aW1lXzEud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGlmIChrZXljbG9haykge1xuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzO1xuICAgICAgICAgICAgcmV0dXJuIGluaXQoKTtcblxuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwga2V5Y2xvYWspO1xuXG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlKTtcbiAgfSkpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBnZXRLZXljbG9ha0luc3RhbmNlKCkge1xuICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59KCk7XG4vKipcclxuICogSW5pdGlhdGUga2V5Y2xvYWsgaW5zdGFuY2UuXHJcbiAqXHJcbiAqIFNldCBrZXljbG9hayB0byB1bmRlZmluZWQgaWZcclxuICoga2V5Y2xvYWsgaXNuJ3QgY29uZmlndXJlZFxyXG4gKlxyXG4gKi9cblxudmFyIGluaXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZjIgPSAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9ydW50aW1lXzEubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHtcbiAgICByZXR1cm4gcnVudGltZV8xLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwO1xuICAgICAgICAgICAga2V5Y2xvYWsgPSBuZXcgS2V5Y2xvYWsoe1xuICAgICAgICAgICAgICByZWFsbTogJ3JlZGhhdC1leHRlcm5hbCcsXG4gICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vc3NvLnJlZGhhdC5jb20vYXV0aC8nLFxuICAgICAgICAgICAgICBjbGllbnRJZDogJ2Nsb3VkLXNlcnZpY2VzJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICgha2V5Y2xvYWspIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1O1xuICAgICAgICAgICAgcmV0dXJuIGtleWNsb2FrLmluaXQoe1xuICAgICAgICAgICAgICBvbkxvYWQ6ICdsb2dpbi1yZXF1aXJlZCdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA3O1xuICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyW1wiY2F0Y2hcIl0oMCk7XG4gICAgICAgICAgICBrZXljbG9hayA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQXV0aDogVW5hYmxlIHRvIGluaXRpYWxpemUga2V5Y2xvYWsuIENsaWVudCBzaWRlIHdpbGwgbm90IGJlIGNvbmZpZ3VyZWQgdG8gdXNlIGF1dGhlbnRpY2F0aW9uJywgX2NvbnRleHQyLnQwKTtcblxuICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1swLCA3XV0pO1xuICB9KSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59KCk7XG4vKipcclxuICogVXNlIGtleWNsb2FrIHVwZGF0ZSB0b2tlbiBmdW5jdGlvbiB0byByZXRyaWV2ZVxyXG4gKiBrZXljbG9hayB0b2tlblxyXG4gKlxyXG4gKiBAcmV0dXJuIGtleWNsb2FrIHRva2VuIG9yIGVtcHR5IHN0cmluZyBpZiBrZXljbG9ha1xyXG4gKiBpc24ndCBjb25maWd1cmVkXHJcbiAqXHJcbiAqL1xuXG52YXIgZ2V0S2V5Q2xvYWtUb2tlbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIHZhciBfcmVmNCA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3J1bnRpbWVfMS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkge1xuICAgIHZhciBfa2V5Y2xvYWssIF9rZXljbG9hazI7XG5cbiAgICByZXR1cm4gcnVudGltZV8xLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkge1xuICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyO1xuICAgICAgICAgICAgcmV0dXJuIChfa2V5Y2xvYWsgPSBrZXljbG9haykgPT0gbnVsbCA/IHZvaWQgMCA6IF9rZXljbG9hay51cGRhdGVUb2tlbig1MCk7XG5cbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBpZiAoISgoX2tleWNsb2FrMiA9IGtleWNsb2FrKSA9PSBudWxsID8gdm9pZCAwIDogX2tleWNsb2FrMi50b2tlbikpIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoXCJyZXR1cm5cIiwga2V5Y2xvYWsudG9rZW4pO1xuXG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8ga2V5Y2xvYWsgdG9rZW4gYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdChcInJldHVyblwiLCAnZm9vJyk7XG5cbiAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlNCk7XG4gIH0pKTtcblxuICByZXR1cm4gZnVuY3Rpb24gZ2V0S2V5Q2xvYWtUb2tlbigpIHtcbiAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKTtcbi8qKlxyXG4gKiBVc2Uga2V5Y2xvYWsgdXBkYXRlIHRva2VuIGZ1bmN0aW9uIHRvIHJldHJpZXZlXHJcbiAqIGtleWNsb2FrIHRva2VuXHJcbiAqXHJcbiAqIEByZXR1cm4ga2V5Y2xvYWsgdG9rZW4gb3IgZW1wdHkgc3RyaW5nIGlmIGtleWNsb2FrXHJcbiAqIGlzbid0IGNvbmZpZ3VyZWRcclxuICpcclxuICovXG5cbnZhciBnZXRQYXJzZWRLZXlDbG9ha1Rva2VuID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWY1ID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcnVudGltZV8xLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7XG4gICAgdmFyIF9rZXljbG9hazMsIF9rZXljbG9hazQ7XG5cbiAgICByZXR1cm4gcnVudGltZV8xLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkge1xuICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyO1xuICAgICAgICAgICAgcmV0dXJuIChfa2V5Y2xvYWszID0ga2V5Y2xvYWspID09IG51bGwgPyB2b2lkIDAgOiBfa2V5Y2xvYWszLnVwZGF0ZVRva2VuKDUwKTtcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGlmICghKChfa2V5Y2xvYWs0ID0ga2V5Y2xvYWspID09IG51bGwgPyB2b2lkIDAgOiBfa2V5Y2xvYWs0LnRva2VuUGFyc2VkKSkge1xuICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcInJldHVyblwiLCBrZXljbG9hay50b2tlblBhcnNlZCk7XG5cbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdObyBrZXljbG9hayB0b2tlbiBhdmFpbGFibGUnKTtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwicmV0dXJuXCIsIHt9KTtcblxuICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWU1KTtcbiAgfSkpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBnZXRQYXJzZWRLZXlDbG9ha1Rva2VuKCkge1xuICAgIHJldHVybiBfcmVmNS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpO1xuXG52YXIgS2V5Y2xvYWtDb250ZXh0ID0gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUNvbnRleHQoe1xuICBrZXljbG9hazogdW5kZWZpbmVkXG59KTtcbnZhciBLZXljbG9ha0F1dGhQcm92aWRlciA9IGZ1bmN0aW9uIEtleWNsb2FrQXV0aFByb3ZpZGVyKHByb3BzKSB7XG4gIHZhciBnZXRVc2VybmFtZSA9IGZ1bmN0aW9uIGdldFVzZXJuYW1lKCkge1xuICAgIHJldHVybiBnZXRQYXJzZWRLZXlDbG9ha1Rva2VuKCkudGhlbihmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgIHJldHVybiB0b2tlblsndXNlcm5hbWUnXTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgYXV0aFRva2VuQ29udGV4dCA9IHtcbiAgICBrYXM6IHtcbiAgICAgIGdldFRva2VuOiBnZXRLZXlDbG9ha1Rva2VuXG4gICAgfSxcbiAgICBnZXRVc2VybmFtZTogZ2V0VXNlcm5hbWVcbiAgfTtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQXV0aENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogYXV0aFRva2VuQ29udGV4dFxuICB9LCBwcm9wcy5jaGlsZHJlbik7XG59O1xuXG52YXIgbG9nbyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyUzRnhtbCUyMHZlcnNpb24lM0QlMjIxLjAlMjIlMjBlbmNvZGluZyUzRCUyMlVURi04JTIyJTNGJTNFJTNDc3ZnJTIwd2lkdGglM0QlMjIxNzVweCUyMiUyMGhlaWdodCUzRCUyMjMycHglMjIlMjB2aWV3Qm94JTNEJTIyMCUyMDAlMjAxNzUlMjAzMiUyMiUyMHZlcnNpb24lM0QlMjIxLjElMjIlMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHhtbG5zJTNBeGxpbmslM0QlMjJodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjE5OTklMkZ4bGluayUyMiUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3RpdGxlJTNFUGF0dGVybkZseSUyMExvZ28lM0MlMkZ0aXRsZSUzRSUyMCUyMCUyMCUyMCUzQ2Rlc2MlM0VDcmVhdGVkJTIwd2l0aCUyMFNrZXRjaC4lM0MlMkZkZXNjJTNFJTIwJTIwJTIwJTIwJTNDZGVmcyUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ2xpbmVhckdyYWRpZW50JTIweDElM0QlMjI1MC4wMDA0NzY5JTI1JTIyJTIweTElM0QlMjIzLjAyNDc1NTA5JTI1JTIyJTIweDIlM0QlMjI1MC4wMDA0NzY5JTI1JTIyJTIweTIlM0QlMjI5NS4zNjIwMDg2JTI1JTIyJTIwaWQlM0QlMjJsaW5lYXJHcmFkaWVudC0xJTIyJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDc3RvcCUyMHN0b3AtY29sb3IlM0QlMjIlMjM2MEVGRkYlMjIlMjBvZmZzZXQlM0QlMjIwJTI1JTIyJTNFJTNDJTJGc3RvcCUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3N0b3AlMjBzdG9wLWNvbG9yJTNEJTIyJTIzMUY4OUM3JTIyJTIwb2Zmc2V0JTNEJTIyMTAwJTI1JTIyJTNFJTNDJTJGc3RvcCUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQyUyRmxpbmVhckdyYWRpZW50JTNFJTIwJTIwJTIwJTIwJTNDJTJGZGVmcyUzRSUyMCUyMCUyMCUyMCUzQ2clMjBpZCUzRCUyMlN5bWJvbHMlMjIlMjBzdHJva2UlM0QlMjJub25lJTIyJTIwc3Ryb2tlLXdpZHRoJTNEJTIyMSUyMiUyMGZpbGwlM0QlMjJub25lJTIyJTIwZmlsbC1ydWxlJTNEJTIyZXZlbm9kZCUyMiUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ2clMjBpZCUzRCUyMk5hdi1iYXItJTI4ZGVza3RvcCUyOSUyMiUyMHRyYW5zZm9ybSUzRCUyMnRyYW5zbGF0ZSUyOC0xNTAuMDAwMDAwJTJDJTIwLTE2LjAwMDAwMCUyOSUyMiUyMGZpbGwtcnVsZSUzRCUyMm5vbnplcm8lMjIlM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NnJTIwaWQlM0QlMjJQYXR0ZXJuRmx5LUxvZ28lMjIlM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NnJTIwdHJhbnNmb3JtJTNEJTIydHJhbnNsYXRlJTI4MTUwLjAwMDAwMCUyQyUyMDE2LjAwMDAwMCUyOSUyMiUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ2clMjBpZCUzRCUyMkdyb3VwJTIyJTIwdHJhbnNmb3JtJTNEJTIydHJhbnNsYXRlJTI4NDQuNzQ4ODU4JTJDJTIwMTEuMjAwMDAwJTI5JTIyJTIwZmlsbCUzRCUyMiUyM0ZGRkZGRiUyMiUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTTAuMzAyMDU0Nzk1JTJDOS4zNDg4JTIwTDAuMzAyMDU0Nzk1JTJDMC4zMjY0JTIwTDQuMTY4ODM1NjIlMkMwLjMyNjQlMjBDNC43Mzg1ODQ0NyUyQzAuMzI2NCUyMDUuMjE3MjM3NDQlMkMwLjQwOTYlMjA1LjYwNzE5MTc4JTJDMC41NzQ0JTIwQzUuOTk3MTQ2MTIlMkMwLjc0MDglMjA2LjMxMzU4NDQ3JTJDMC45NTc2JTIwNi41NTY1MDY4NSUyQzEuMjI5NiUyMEM2Ljc5OTQyOTIyJTJDMS41MDA4JTIwNi45NzQ0MjkyMiUyQzEuODA0OCUyMDcuMDgxNTA2ODUlMkMyLjE0NTYlMjBDNy4xODc3ODUzOSUyQzIuNDg1NiUyMDcuMjQyMTIzMjklMkMyLjgyODglMjA3LjI0MjEyMzI5JTJDMy4xNzY4JTIwQzcuMjQyMTIzMjklMkMzLjM5MzYlMjA3LjIxNzM1MTYlMkMzLjYxNiUyMDcuMTY1NDEwOTYlMkMzLjg0MDglMjBDNy4xMTUwNjg0OSUyQzQuMDY0JTIwNy4wMzgzNTYxNiUyQzQuMjg0JTIwNi45MzM2NzU4JTJDNC40OTYlMjBDNi44MjgxOTYzNSUyQzQuNzA4JTIwNi42OTQ3NDg4NiUyQzQuOTA0OCUyMDYuNTMwOTM2MDclMkM1LjA5MTIlMjBDNi4zNjcxMjMyOSUyQzUuMjc1MiUyMDYuMTcwNTQ3OTUlMkM1LjQzODQlMjA1Ljk0MjgwODIyJTJDNS41Nzg0JTIwQzUuNzE0MjY5NDElMkM1LjcxODQlMjA1LjQ1Mzc2NzEyJTJDNS44MjglMjA1LjE1ODEwNTAyJTJDNS45MDglMjBDNC44NjE2NDM4NCUyQzUuOTg4JTIwNC41MzI0MjAwOSUyQzYuMDI3MiUyMDQuMTY4MDM2NTMlMkM2LjAyNzIlMjBMMi4wNDI0NjU3NSUyQzYuMDI3MiUyMEwyLjA0MjQ2NTc1JTJDOS4zNDcyJTIwTDAuMzAyMDU0Nzk1JTJDOS4zNDg4JTIwTDAuMzAyMDU0Nzk1JTJDOS4zNDg4JTIwWiUyME00LjI0MzE1MDY4JTJDNC4zNzIlMjBDNC40NjUyOTY4JTJDNC4zNzIlMjA0LjY1MzA4MjE5JTJDNC4zMzY4JTIwNC44MDMzMTA1JTJDNC4yNjY0JTIwQzQuOTUzNTM4ODElMkM0LjE5MzYlMjA1LjA3NTc5OTA5JTJDNC4xMDI0JTIwNS4xNzA4OTA0MSUyQzMuOTg4JTIwQzUuMjY1OTgxNzQlMkMzLjg3NDQlMjA1LjMzMzEwNTAyJTJDMy43NDY0JTIwNS4zNzQ2NTc1MyUyQzMuNjA0OCUyMEM1LjQxNzAwOTEzJTJDMy40NjE2JTIwNS40MzkzODM1NiUyQzMuMzIlMjA1LjQzOTM4MzU2JTJDMy4xNzYlMjBDNS40MzkzODM1NiUyQzMuMDQ2NCUyMDUuNDIxMDA0NTclMkMyLjkxMTIlMjA1LjM4NDI0NjU4JTJDMi43Njg4JTIwQzUuMzQ5MDg2NzYlMkMyLjYzMDQlMjA1LjI4NTk1ODklMkMyLjUwMjQlMjA1LjE5NjQ2MTE5JTJDMi4zODMyJTIwQzUuMTA2MTY0MzglMkMyLjI2NjQlMjA0Ljk4MjMwNTk0JTJDMi4xNjk2JTIwNC44Mjg4ODEyOCUyQzIuMDk1MiUyMEM0LjY3MzA1OTM2JTJDMi4wMTkyJTIwNC40Nzg4ODEyOCUyQzEuOTgwOCUyMDQuMjQzOTQ5NzclMkMxLjk4MDglMjBMMi4wNDQwNjM5MyUyQzEuOTgwOCUyMEwyLjA0NDA2MzkzJTJDNC4zNzEyJTIwTDQuMjQzMTUwNjglMkM0LjM3MiUyMEw0LjI0MzE1MDY4JTJDNC4zNzIlMjBaJTIyJTIwaWQlM0QlMjJTaGFwZSUyMiUzRSUzQyUyRnBhdGglM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NwYXRoJTIwZCUzRCUyMk0xOS4yNTU1OTM2JTJDOS4zNDg4JTIwTDE4LjU1NzE5MTglMkM3LjQ4MTYlMjBMMTUuMDgwMzY1MyUyQzcuNDgxNiUyMEwxNC4zODk5NTQzJTJDOS4zNDg4JTIwTDEyLjUyMTY4OTUlMkM5LjM0ODglMjBMMTUuOTczNzQ0MyUyQzAuMzI2NCUyMEwxNy42Njk0MDY0JTJDMC4zMjY0JTIwTDIxLjEyMTQ2MTIlMkM5LjM0ODglMjBMMTkuMjU1NTkzNiUyQzkuMzQ4OCUyMFolMjBNMTcuMTA1MjUxMSUyQzMuNTQ4JTIwQzE3LjA1ODkwNDElMkMzLjQ0JTIwMTcuMDA5MzYwNyUyQzMuMzA4OCUyMDE2Ljk1NjYyMSUyQzMuMTU4NCUyMEMxNi45MDYyNzg1JTJDMy4wMDU2JTIwMTYuODU5OTMxNSUyQzIuODY2NCUyMDE2LjgyMjM3NDQlMkMyLjczNTIlMjBDMTYuNzg4MDEzNyUyQzIuODY3MiUyMDE2Ljc0NDA2MzklMkMzLjAwNTYlMjAxNi42ODk3MjYlMkMzLjE1ODQlMjBDMTYuNjM2MTg3MiUyQzMuMzA4OCUyMDE2LjU4NTg0NDclMkMzLjQ0JTIwMTYuNTM4Njk4NiUyQzMuNTQ4JTIwTDE1LjY0NjExODclMkM1Ljg5NTIlMjBMMTcuOTkyMjM3NCUyQzUuODk1MiUyMEwxNy4xMDUyNTExJTJDMy41NDglMjBaJTIyJTIwaWQlM0QlMjJTaGFwZSUyMiUzRSUzQyUyRnBhdGglM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0Nwb2x5Z29uJTIwaWQlM0QlMjJQYXRoJTIyJTIwcG9pbnRzJTNEJTIyMzAuOTAzODgxMyUyMDIuMDA2NCUyMDMwLjkwMzg4MTMlMjA5LjM0ODglMjAyOS4xNjk4NjMlMjA5LjM0ODglMjAyOS4xNjk4NjMlMjAyLjAwNjQlMjAyNi41OTIwMDkxJTIwMi4wMDY0JTIwMjYuNTkyMDA5MSUyMDAuMzI2NCUyMDMzLjQ4MDkzNjElMjAwLjMyNjQlMjAzMy40ODA5MzYxJTIwMi4wMDY0JTIyJTNFJTNDJTJGcG9seWdvbiUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BvbHlnb24lMjBpZCUzRCUyMlBhdGglMjIlMjBwb2ludHMlM0QlMjI0NC4zOTMyNjQ4JTIwMi4wMDY0JTIwNDQuMzkzMjY0OCUyMDkuMzQ4OCUyMDQyLjY1ODQ0NzUlMjA5LjM0ODglMjA0Mi42NTg0NDc1JTIwMi4wMDY0JTIwNDAuMDgwNTkzNiUyMDIuMDA2NCUyMDQwLjA4MDU5MzYlMjAwLjMyNjQlMjA0Ni45Njk1MjA1JTIwMC4zMjY0JTIwNDYuOTY5NTIwNSUyMDIuMDA2NCUyMiUzRSUzQyUyRnBvbHlnb24lM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0Nwb2x5Z29uJTIwaWQlM0QlMjJQYXRoJTIyJTIwcG9pbnRzJTNEJTIyNTQuMTUwOTEzMiUyMDkuMzQ4OCUyMDU0LjE1MDkxMzIlMjAwLjMyNjQlMjA2MC4zMDIyODMxJTIwMC4zMjY0JTIwNjAuMzAyMjgzMSUyMDEuOTgxNiUyMDU1Ljg5MDUyNTElMjAxLjk4MTYlMjA1NS44OTA1MjUxJTIwMy44NzUyJTIwNTguNDg1OTU4OSUyMDMuODc1MiUyMDU4LjQ4NTk1ODklMjA1LjUyMzIlMjA1NS44OTA1MjUxJTIwNS41MjMyJTIwNTUuODkwNTI1MSUyMDcuNzAxNiUyMDYwLjU3MTU3NTMlMjA3LjcwMTYlMjA2MC41NzE1NzUzJTIwOS4zNTEyJTIyJTNFJTNDJTJGcG9seWdvbiUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTTY3Ljg4NDgxNzQlMkM5LjM0ODglMjBMNjcuODg0ODE3NCUyQzAuMzI2NCUyMEw3Mi4wNzA0MzM4JTJDMC4zMjY0JTIwQzcyLjY0MDE4MjYlMkMwLjMyNjQlMjA3My4xMTcyMzc0JTJDMC40MDMyJTIwNzMuNSUyQzAuNTYyNCUyMEM3My44ODI3NjI2JTJDMC43MTkyJTIwNzQuMTkyODA4MiUyQzAuOTI4JTIwNzQuNDI2OTQwNiUyQzEuMTg4JTIwQzc0LjY1OTQ3NDklMkMxLjQ0ODglMjA3NC44Mjk2ODA0JTJDMS43NDg4JTIwNzQuOTI5NTY2MiUyQzIuMDg4JTIwQzc1LjAyNzg1MzklMkMyLjQyOCUyMDc1LjA4MDU5MzYlMkMyLjc4MzIlMjA3NS4wODA1OTM2JTJDMy4xNTIlMjBDNzUuMDgwNTkzNiUyQzMuNDA3MiUyMDc1LjA0MjIzNzQlMkMzLjY2NjQlMjA3NC45Njc5MjI0JTJDMy45MjglMjBDNzQuODkyODA4MiUyQzQuMTkwNCUyMDc0Ljc4NDkzMTUlMkM0LjQzOTIlMjA3NC42Mzk0OTc3JTJDNC42NzQ0JTIwQzc0LjQ5MDA2ODUlMkM0LjkwOTYlMjA3NC4zMTAyNzQlMkM1LjEyMTYlMjA3NC4wOTA1MjUxJTJDNS4zMTI4JTIwQzczLjg3Mzk3MjYlMkM1LjUwNCUyMDczLjYxOTA2MzklMkM1LjY1MzYlMjA3My4zMzA1OTM2JTJDNS43NTYlMjBMNzUuMDc4OTk1NCUyQzkuMzQ4OCUyMEw3My4xMjIwMzIlMkM5LjM0ODglMjBMNzEuNDM3NTU3MSUyQzUuOTg0JTIwTDY5LjYyMjgzMTElMkM1Ljk4NCUyMEw2OS42MjI4MzExJTJDOS4zNDg4JTIwTDY3Ljg4NDgxNzQlMkM5LjM0ODglMjBMNjcuODg0ODE3NCUyQzkuMzQ4OCUyMFolMjBNNzIuMDk2MDA0NiUyQzQuMzM0NCUyMEM3Mi4zMTY1NTI1JTJDNC4zMzQ0JTIwNzIuNTA2NzM1MiUyQzQuMzAxNiUyMDcyLjY1NDU2NjIlMkM0LjIzNiUyMEM3Mi44MDQ3OTQ1JTJDNC4xNzA0JTIwNzIuOTI3ODUzOSUyQzQuMDg0JTIwNzMuMDE4MTUwNyUyQzMuOTc1MiUyMEM3My4xMTA4NDQ3JTJDMy44NjU2JTIwNzMuMTc4NzY3MSUyQzMuNzQlMjA3My4yMTc5MjI0JTJDMy41OTYlMjBDNzMuMjU4Njc1OCUyQzMuNDUzNiUyMDczLjI3NTQ1NjYlMkMzLjMwNTYlMjA3My4yNzU0NTY2JTJDMy4xNTA0JTIwQzczLjI3NTQ1NjYlMkMzLjAwOCUyMDczLjI1ODY3NTglMkMyLjg2NDglMjA3My4yMjQzMTUxJTJDMi43MjQlMjBDNzMuMTg2NzU4JTJDMi41ODMyJTIwNzMuMTI2MDI3NCUyQzIuNDU4NCUyMDczLjA0MTMyNDIlMkMyLjM0NTYlMjBDNzIuOTU0MjIzNyUyQzIuMjM2JTIwNzIuODI5NTY2MiUyQzIuMTQ2NCUyMDcyLjY3OTMzNzklMkMyLjA3OTIlMjBDNzIuNTI5MTA5NiUyQzIuMDEyJTIwNzIuMzMxNzM1MiUyQzEuOTc5MiUyMDcyLjA5NjgwMzclMkMxLjk3OTIlMjBMNjkuNjI2MDI3NCUyQzEuOTc5MiUyMEw2OS42MjYwMjc0JTJDNC4zMzI4JTIwTDcyLjA5NjgwMzclMkM0LjMzMjglMjBMNzIuMDk2ODAzNyUyQzQuMzM0NCUyMEw3Mi4wOTYwMDQ2JTJDNC4zMzQ0JTIwWiUyMiUyMGlkJTNEJTIyU2hhcGUlMjIlM0UlM0MlMkZwYXRoJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGF0aCUyMGQlM0QlMjJNODguMTU1MjUxMSUyQzkuMzQ4OCUyMEw4NC41NzkzMzc5JTJDNC4wODg4JTIwQzg0LjUyMDIwNTUlMkM0LjAwMTYlMjA4NC40NTc4NzY3JTJDMy44OTIlMjA4NC4zODc1NTcxJTJDMy43NjQ4JTIwQzg0LjMxNzIzNzQlMkMzLjYzNzYlMjA4NC4yNTk3MDMyJTJDMy41MTkyJTIwODQuMjA2MTY0NCUyQzMuNDEwNCUyMEM4NC4yMjIxNDYxJTJDMy41MDU2JTIwODQuMjI3NzM5NyUyQzMuNjE4NCUyMDg0LjIzNDEzMjQlMkMzLjc0OTYlMjBDODQuMjQxMzI0MiUyQzMuODc5MiUyMDg0LjI0NjkxNzglMkMzLjk5MzYlMjA4NC4yNDY5MTc4JTJDNC4wODg4JTIwTDg0LjI0NjkxNzglMkM5LjM0ODglMjBMODIuNTE3Njk0MSUyQzkuMzQ4OCUyMEw4Mi41MTc2OTQxJTJDMC4zMjY0JTIwTDg0LjE1MDIyODMlMkMwLjMyNjQlMjBMODcuNjM5MDQxMSUyQzUuNTIxNiUyMEM4Ny42OTMzNzklMkM1LjYwNTYlMjA4Ny43NTY1MDY4JTJDNS43MTM2JTIwODcuODI1MjI4MyUyQzUuODM4NCUyMEM4Ny44OTc5NDUyJTJDNS45NjMyJTIwODcuOTYxMDczMSUyQzYuMDg1NiUyMDg4LjAxMjIxNDYlMkM2LjIwMjQlMjBDODguMDAwMjI4MyUyQzYuMDgyNCUyMDg3Ljk5MzgzNTYlMkM1Ljk1NjglMjA4Ny45ODU4NDQ3JTJDNS44MzUyJTIwQzg3Ljk3Nzg1MzklMkM1LjcxMTIlMjA4Ny45NzQ2NTc1JTJDNS42MDU2JTIwODcuOTc0NjU3NSUyQzUuNTIlMjBMODcuOTc0NjU3NSUyQzAuMzI0OCUyMEw4OS42OTU4OTA0JTJDMC4zMjQ4JTIwTDg5LjY5NTg5MDQlMkM5LjM0NzIlMjBMODguMTU1MjUxMSUyQzkuMzQ4OCUyMEw4OC4xNTUyNTExJTJDOS4zNDg4JTIwWiUyMiUyMGlkJTNEJTIyUGF0aCUyMiUzRSUzQyUyRnBhdGglM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0Nwb2x5Z29uJTIwaWQlM0QlMjJQYXRoJTIyJTIwcG9pbnRzJTNEJTIyOTcuNDU5MDE4MyUyMDkuMzQ4OCUyMDk3LjQ1OTAxODMlMjAwLjMyNjQlMjAxMDMuNTAxNzEyJTIwMC4zMjY0JTIwMTAzLjUwMTcxMiUyMDEuOTgxNiUyMDk5LjIwMDIyODMlMjAxLjk4MTYlMjA5OS4yMDAyMjgzJTIwMy44NzUyJTIwMTAxLjkyNjcxMiUyMDMuODc1MiUyMDEwMS45MjY3MTIlMjA1LjUyMzIlMjA5OS4yMDAyMjgzJTIwNS41MjMyJTIwOTkuMjAwMjI4MyUyMDkuMzQ5NiUyMiUzRSUzQyUyRnBvbHlnb24lM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0Nwb2x5Z29uJTIwaWQlM0QlMjJQYXRoJTIyJTIwcG9pbnRzJTNEJTIyMTEwLjU1NTI1MSUyMDkuMzQ4OCUyMDExMC41NTUyNTElMjAwLjMyNjQlMjAxMTIuMjk4MDU5JTIwMC4zMjY0JTIwMTEyLjI5ODA1OSUyMDcuNjc1MiUyMDExNi42NDY2ODklMjA3LjY3NTIlMjAxMTYuNjQ2Njg5JTIwOS4zNDg4JTIyJTNFJTNDJTJGcG9seWdvbiUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BvbHlnb24lMjBpZCUzRCUyMlBhdGglMjIlMjBwb2ludHMlM0QlMjIxMjQuOTczOTczJTIwOS4zNDg4JTIwMTI0Ljk3Mzk3MyUyMDUuODMyJTIwMTIxLjYzNDU4OSUyMDAuMzI2NCUyMDEyMy42MDgzMzMlMjAwLjMyNjQlMjAxMjUuODM1Mzg4JTIwNC4wMTQ0JTIwMTI4LjA1ODQ0NyUyMDAuMzI2NCUyMDEzMC4wMzM3OSUyMDAuMzI2NCUyMDEyNi42OTUyMDUlMjA1LjgzMiUyMDEyNi42OTUyMDUlMjA5LjM0ODglMjIlM0UlM0MlMkZwb2x5Z29uJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGZyUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3BhdGglMjBkJTNEJTIyTTMzLjUxNDQ5NzclMkMxNi41NjA4JTIwTDE2Ljc1ODQ0NzUlMkMwLjE1MzYlMjBMMCUyQzE2LjU2MDglMjBMNi42ODAzNjUzJTJDMjYuMDM2JTIwTDExLjc3Njk0MDYlMkMyNC44NjQlMjBMMTYuNzkwNDExJTJDMzEuOTIwOCUyMEwyMS43OTQyOTIyJTJDMjQuODc2OCUyMEwyNi44MzQxMzI0JTJDMjYuMDM1MiUyMEwzMy41MTQ0OTc3JTJDMTYuNTYwOCUyMFolMjBNMTYuMDYyNDQyOSUyQzMuMTk2JTIwTDEzLjg5MjEyMzMlMkMyMy4yNzY4JTIwTDkuNzQ4MDU5MzYlMkMxNy42MTc2JTIwTDE2LjA2MjQ0MjklMkMzLjE5NiUyMFolMjBNOS4yOTMzNzklMkMxNi45OTY4JTIwTDYuNzEyMzI4NzclMkMxMy40NzIlMjBMMTUuNTg3Nzg1NCUyQzIuNjglMjBMOS4yOTMzNzklMkMxNi45OTY4JTIwWiUyME0xMy4yMDQxMDk2JTJDMjMuNDY0JTIwTDEzLjIwNDEwOTYlMkMyMy40NjQlMjBMMTMuNDQ1NDMzOCUyQzIzLjc5NjglMjBMMTIuMDYxNDE1NSUyQzI0LjExNDQlMjBMOC44NjY2NjY2NyUyQzE5LjYxODQlMjBMOS40MzcyMTQ2MSUyQzE4LjMyMDglMjBMMTMuMjA0MTA5NiUyQzIzLjQ2NCUyMFolMjBNMTYuNzU3NjQ4NCUyQzIuOTI5NiUyMEwxOC45MzkxNTUzJTJDMjQuMjE4NCUyMEwxNi43NTI4NTM5JTJDMjcuMjE3NiUyMEwxNC41NzQ1NDM0JTJDMjQuMjE4NCUyMEwxNi43NTc2NDg0JTJDMi45Mjk2JTIwWiUyME0yMC4zMDk1ODklMkMyMy40NjQ4JTIwTDI0LjExODAzNjUlMkMxOC4yNjQ4JTIwTDI0LjcxNDE1NTMlMkMxOS42MTg0JTIwTDIxLjUxMDYxNjQlMkMyNC4xMjglMjBMMjAuMDcxNDYxMiUyQzIzLjc5NjglMjBMMjAuMzExOTg2MyUyQzIzLjQ2NjQlMjBMMjAuMzA5NTg5JTJDMjMuNDY0OCUyMFolMjBNMTkuNjIyMzc0NCUyQzIzLjI3NjglMjBMMTcuNDgwMDIyOCUyQzMuMTc5MiUyMEwyMy44MDc5OTA5JTJDMTcuNTYwOCUyMEwxOS42MjIzNzQ0JTJDMjMuMjc2OCUyMFolMjBNMTcuOTg1MDQ1NyUyQzIuNjc2OCUyMEwyNi44MDIxNjg5JTJDMTMuNDcyJTIwTDI0LjI2MjY3MTIlMkMxNi45NCUyMEwxNy45ODUwNDU3JTJDMi42NzY4JTIwWiUyME02Ljk2NjQzODM2JTJDMjUuMjg1NiUyMEwwLjg3MDIwNTQ3OSUyQzE2LjY0MDglMjBMMTIuNzk4OTcyNiUyQzQuOTY3MiUyMEw1Ljg3MDg5MDQxJTJDMTMuNDUwNCUyMEw4Ljk4NDEzMjQyJTJDMTcuNzAwOCUyMEw4LjEwNTkzNjA3JTJDMTkuNjk2JTIwTDExLjM1OTgxNzQlMkMyNC4yNzY4JTIwTDYuOTY2NDM4MzYlMkMyNS4yODU2JTIwWiUyME0xNi43OTA0MTElMkMzMC43NzEyJTIwTDEyLjQ3ODUzODglMkMyNC43MDMyJTIwTDEzLjg3MDU0NzklMkMyNC4zODI0JTIwTDE2Ljc1MTI1NTclMkMyOC4zNDk2JTIwTDE5LjY0MTU1MjUlMkMyNC4zODI0JTIwTDIxLjA5MTA5NTklMkMyNC43MTY4JTIwTDE2Ljc5MDQxMSUyQzMwLjc3MTIlMjBaJTIwTTIyLjIxMTQxNTUlMkMyNC4yODk2JTIwTDI1LjQ3NDA4NjglMkMxOS42OTYlMjBMMjQuNTcxOTE3OCUyQzE3LjY0NDglMjBMMjcuNjQzNjA3MyUyQzEzLjQ1MDQlMjBMMjAuNzE1NTI1MSUyQzQuOTY3MiUyMEwzMi42NDM0OTMyJTJDMTYuNjQwOCUyMEwyNi41NDgwNTk0JTJDMjUuMjg2NCUyMEwyMi4yMTE0MTU1JTJDMjQuMjg5NiUyMFolMjIlMjBpZCUzRCUyMlNoYXBlJTIyJTIwZmlsbCUzRCUyMnVybCUyOCUyM2xpbmVhckdyYWRpZW50LTElMjklMjIlM0UlM0MlMkZwYXRoJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGZyUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQyUyRmclM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZnJTNFJTIwJTIwJTIwJTIwJTNDJTJGZyUzRSUzQyUyRnN2ZyUzRVwiO1xuXG52YXIgQXBwTGF5b3V0ID0gZnVuY3Rpb24gQXBwTGF5b3V0KF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUodHJ1ZSksXG4gICAgICBpc05hdk9wZW4gPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRJc05hdk9wZW4gPSBfdXNlU3RhdGVbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTIgPSB1c2VTdGF0ZSh0cnVlKSxcbiAgICAgIGlzTW9iaWxlVmlldyA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRJc01vYmlsZVZpZXcgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgaXNOYXZPcGVuTW9iaWxlID0gX3VzZVN0YXRlM1swXSxcbiAgICAgIHNldElzTmF2T3Blbk1vYmlsZSA9IF91c2VTdGF0ZTNbMV07XG5cbiAgdmFyIF91c2VUcmFuc2xhdGlvbiA9IHVzZVRyYW5zbGF0aW9uKCksXG4gICAgICB0ID0gX3VzZVRyYW5zbGF0aW9uLnQ7XG5cbiAgdmFyIG9uTmF2VG9nZ2xlTW9iaWxlID0gZnVuY3Rpb24gb25OYXZUb2dnbGVNb2JpbGUoKSB7XG4gICAgc2V0SXNOYXZPcGVuTW9iaWxlKCFpc05hdk9wZW5Nb2JpbGUpO1xuICB9O1xuXG4gIHZhciBvbk5hdlRvZ2dsZSA9IGZ1bmN0aW9uIG9uTmF2VG9nZ2xlKCkge1xuICAgIHNldElzTmF2T3BlbighaXNOYXZPcGVuKTtcbiAgfTtcblxuICB2YXIgb25QYWdlUmVzaXplID0gZnVuY3Rpb24gb25QYWdlUmVzaXplKHByb3BzKSB7XG4gICAgc2V0SXNNb2JpbGVWaWV3KHByb3BzLm1vYmlsZVZpZXcpO1xuICB9O1xuXG4gIHZhciBIZWFkZXJUb29scyA9IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGFnZUhlYWRlclRvb2xzLCBudWxsLCAnZW1haWwnKTtcbiAgdmFyIEhlYWRlciA9IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGFnZUhlYWRlciwge1xuICAgIGxvZ286IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTG9nb0ltZywgbnVsbCksXG4gICAgc2hvd05hdlRvZ2dsZTogdHJ1ZSxcbiAgICBpc05hdk9wZW46IGlzTmF2T3BlbixcbiAgICBoZWFkZXJUb29sczogSGVhZGVyVG9vbHMsXG4gICAgb25OYXZUb2dnbGU6IGlzTW9iaWxlVmlldyA/IG9uTmF2VG9nZ2xlTW9iaWxlIDogb25OYXZUb2dnbGUsXG4gICAgXCJhcmlhLWxhYmVsXCI6ICdnbG9iYWxfbmF2aWdhdGlvbidcbiAgfSk7XG4gIHZhciBOYXZpZ2F0aW9uID0gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChOYXYsIHtcbiAgICBpZDogXCJuYXYtcHJpbWFyeS1zaW1wbGVcIixcbiAgICByb2xlOiBcIm5hdmlnYXRpb25cIixcbiAgICB0aGVtZTogXCJkYXJrXCIsXG4gICAgXCJhcmlhLWxhYmVsXCI6ICdnbG9iYWwnXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTmF2TGlzdCwge1xuICAgIGlkOiBcIm5hdi1saXN0LXNpbXBsZVwiXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTmF2SXRlbSwge1xuICAgIGlkOiAnY29ubmVjdG9ycydcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChOYXZMaW5rLCB7XG4gICAgdG86ICcvJyxcbiAgICBhY3RpdmVDbGFzc05hbWU6IFwicGYtbS1jdXJyZW50XCJcbiAgfSwgdCgnbWFuYWdlZENvbm5lY3RvcnMnKSkpKSk7XG4gIHZhciBTaWRlYmFyID0gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdlU2lkZWJhciwge1xuICAgIHRoZW1lOiBcImRhcmtcIixcbiAgICBuYXY6IE5hdmlnYXRpb24sXG4gICAgaXNOYXZPcGVuOiBpc01vYmlsZVZpZXcgPyBpc05hdk9wZW5Nb2JpbGUgOiBpc05hdk9wZW5cbiAgfSk7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBhZ2UsIHtcbiAgICBtYWluQ29udGFpbmVySWQ6IFwicHJpbWFyeS1hcHAtY29udGFpbmVyXCIsXG4gICAgcm9sZTogXCJtYWluXCIsXG4gICAgaGVhZGVyOiBIZWFkZXIsXG4gICAgc2lkZWJhcjogU2lkZWJhcixcbiAgICBvblBhZ2VSZXNpemU6IG9uUGFnZVJlc2l6ZVxuICB9LCBjaGlsZHJlbik7XG59O1xuXG5mdW5jdGlvbiBMb2dvSW1nKCkge1xuICB2YXIgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTtcblxuICBmdW5jdGlvbiBoYW5kbGVDbGljaygpIHtcbiAgICBoaXN0b3J5LnB1c2goJy8nKTtcbiAgfVxuXG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHtcbiAgICBzcmM6IGxvZ28sXG4gICAgb25DbGljazogaGFuZGxlQ2xpY2ssXG4gICAgYWx0OiBcIlBhdHRlcm5GbHkgTG9nb1wiXG4gIH0pO1xufVxuXG52YXIgQXBwQ29udGV4dCA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb250ZXh0KG51bGwpO1xudmFyIEFwcENvbnRleHRQcm92aWRlciA9IGZ1bmN0aW9uIEFwcENvbnRleHRQcm92aWRlcihfcmVmKSB7XG4gIHZhciBhdXRoVG9rZW4gPSBfcmVmLmF1dGhUb2tlbixcbiAgICAgIGJhc2VQYXRoID0gX3JlZi5iYXNlUGF0aCxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQXBwQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB7XG4gICAgICBhdXRoVG9rZW46IGF1dGhUb2tlbixcbiAgICAgIGJhc2VQYXRoOiBiYXNlUGF0aFxuICAgIH1cbiAgfSwgY2hpbGRyZW4pO1xufTtcbnZhciB1c2VBcHBDb250ZXh0ID0gZnVuY3Rpb24gdXNlQXBwQ29udGV4dCgpIHtcbiAgdmFyIGNvbnRleHQgPSB1c2VDb250ZXh0KEFwcENvbnRleHQpO1xuICBpZiAoIWNvbnRleHQpIHRocm93IG5ldyBFcnJvcigndXNlQXBwQ29udGV4dCBtdXN0IGJlIHVzZWQgaW5zaWRlIGFuIEFwcENvbnRleHRQcm92aWRlcicpO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIGNvbnRleHQpO1xufTtcblxuZnVuY3Rpb24gc3R5bGVJbmplY3QoY3NzLCByZWYpIHtcbiAgaWYgKHJlZiA9PT0gdm9pZCAwKSByZWYgPSB7fTtcbiAgdmFyIGluc2VydEF0ID0gcmVmLmluc2VydEF0O1xuXG4gIGlmICghY3NzIHx8IHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7XG5cbiAgaWYgKGluc2VydEF0ID09PSAndG9wJykge1xuICAgIGlmIChoZWFkLmZpcnN0Q2hpbGQpIHtcbiAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBoZWFkLmZpcnN0Q2hpbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgY3NzXzI0OHogPSBcIi5jb25uZWN0b3ItZHJhd2VyX19oZWFkZXItdGV4dHttYXJnaW4tYm90dG9tOjAhaW1wb3J0YW50fS5jb25uZWN0b3ItZHJhd2VyX19oZWFkZXItdGl0bGV7bWFyZ2luLXRvcDowIWltcG9ydGFudH0uY29ubmVjdG9yLWRyYXdlcl9fdGFiLWNvbnRlbnR7cGFkZGluZy1ib3R0b206dmFyKC0tcGYtZ2xvYmFsLS1zcGFjZXItLWxnKTtwYWRkaW5nLXRvcDp2YXIoLS1wZi1nbG9iYWwtLXNwYWNlci0tbGcpfVwiO1xuc3R5bGVJbmplY3QoY3NzXzI0OHopO1xuXG52YXIgQ29ubmVjdG9yRHJhd2VyID0gZnVuY3Rpb24gQ29ubmVjdG9yRHJhd2VyKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIGlzRXhwYW5kZWQgPSBfcmVmLmlzRXhwYW5kZWQsXG4gICAgICBzZWxlY3RlZENvbm5lY3RvcnMgPSBfcmVmLnNlbGVjdGVkQ29ubmVjdG9ycyxcbiAgICAgIG9uQ2xvc2UgPSBfcmVmLm9uQ2xvc2U7XG5cbiAgdmFyIF91c2VUcmFuc2xhdGlvbiA9IHVzZVRyYW5zbGF0aW9uKCksXG4gICAgICB0ID0gX3VzZVRyYW5zbGF0aW9uLnQ7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKDApLFxuICAgICAgYWN0aXZlVGFiS2V5ID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0QWN0aXZlVGFiS2V5ID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciBzZWxlY3RBY3RpdmVLZXkgPSBmdW5jdGlvbiBzZWxlY3RBY3RpdmVLZXkoXywgZXZlbnRLZXkpIHtcbiAgICBzZXRBY3RpdmVUYWJLZXkoZXZlbnRLZXkpO1xuICB9O1xuXG4gIHZhciB0ZXh0TGlzdEl0ZW0gPSBmdW5jdGlvbiB0ZXh0TGlzdEl0ZW0odGl0bGUsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsIG51bGwsIHZhbHVlICYmIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGV4dExpc3RJdGVtLCB7XG4gICAgICBjb21wb25lbnQ6IFRleHRMaXN0SXRlbVZhcmlhbnRzLmR0XG4gICAgfSwgdGl0bGUpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRleHRMaXN0SXRlbSwge1xuICAgICAgY29tcG9uZW50OiBUZXh0TGlzdEl0ZW1WYXJpYW50cy5kZFxuICAgIH0sIHZhbHVlKSkpO1xuICB9O1xuXG4gIHZhciBwYW5lbENvbnRlbnQgPSBmdW5jdGlvbiBwYW5lbENvbnRlbnQoKSB7XG4gICAgdmFyIF9zZWxlY3RlZENvbm5lY3RvcnMkbSwgX3NlbGVjdGVkQ29ubmVjdG9ycyRrLCBfc2VsZWN0ZWRDb25uZWN0b3JzJG0yLCBfc2VsZWN0ZWRDb25uZWN0b3JzJG0zLCBfc2VsZWN0ZWRDb25uZWN0b3JzJG00O1xuXG4gICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRHJhd2VyUGFuZWxDb250ZW50LCB7XG4gICAgICB3aWR0aHM6IHtcbiAgICAgICAgXCJkZWZhdWx0XCI6ICd3aWR0aF81MCdcbiAgICAgIH1cbiAgICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KERyYXdlckhlYWQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGV4dENvbnRlbnQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgICAgY29tcG9uZW50OiBUZXh0VmFyaWFudHMuc21hbGwsXG4gICAgICBjbGFzc05hbWU6IFwiY29ubmVjdG9yLWRyYXdlcl9faGVhZGVyLXRleHRcIlxuICAgIH0sIFwiQ29ubmVjdG9yIG5hbWVcIiksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGl0bGUsIHtcbiAgICAgIGhlYWRpbmdMZXZlbDogJ2gyJyxcbiAgICAgIHNpemU6IFRpdGxlU2l6ZXNbJ3hsJ10sXG4gICAgICBjbGFzc05hbWU6IFwiY29ubmVjdG9yLWRyYXdlcl9faGVhZGVyLXRpdGxlXCJcbiAgICB9LCBzZWxlY3RlZENvbm5lY3RvcnMgPT0gbnVsbCA/IHZvaWQgMCA6IChfc2VsZWN0ZWRDb25uZWN0b3JzJG0gPSBzZWxlY3RlZENvbm5lY3RvcnMubWV0YWRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfc2VsZWN0ZWRDb25uZWN0b3JzJG0ubmFtZSkpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KERyYXdlckFjdGlvbnMsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRHJhd2VyQ2xvc2VCdXR0b24sIHtcbiAgICAgIG9uQ2xpY2s6IG9uQ2xvc2VcbiAgICB9KSkpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KERyYXdlclBhbmVsQm9keSwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUYWJzLCB7XG4gICAgICBhY3RpdmVLZXk6IGFjdGl2ZVRhYktleSxcbiAgICAgIG9uU2VsZWN0OiBzZWxlY3RBY3RpdmVLZXlcbiAgICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRhYiwge1xuICAgICAgZXZlbnRLZXk6IDAsXG4gICAgICB0aXRsZTogUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUYWJUaXRsZVRleHQsIG51bGwsIHQoJ292ZXJ2aWV3JykpXG4gICAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiY29ubmVjdG9yLWRyYXdlcl9fdGFiLWNvbnRlbnRcIlxuICAgIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGV4dENvbnRlbnQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGV4dExpc3QsIHtcbiAgICAgIGNvbXBvbmVudDogVGV4dExpc3RWYXJpYW50cy5kbFxuICAgIH0sIHRleHRMaXN0SXRlbSgnQm9vdHN0cmFwIHNlcnZlcicsIHNlbGVjdGVkQ29ubmVjdG9ycyA9PSBudWxsID8gdm9pZCAwIDogKF9zZWxlY3RlZENvbm5lY3RvcnMkayA9IHNlbGVjdGVkQ29ubmVjdG9ycy5rYWZrYSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zZWxlY3RlZENvbm5lY3RvcnMkay5ib290c3RyYXBfc2VydmVyKSwgdGV4dExpc3RJdGVtKCdDb25uZWN0b3InLCBzZWxlY3RlZENvbm5lY3RvcnMgPT0gbnVsbCA/IHZvaWQgMCA6IChfc2VsZWN0ZWRDb25uZWN0b3JzJG0yID0gc2VsZWN0ZWRDb25uZWN0b3JzLm1ldGFkYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX3NlbGVjdGVkQ29ubmVjdG9ycyRtMi5uYW1lKSwgdGV4dExpc3RJdGVtKCdLYWZrYV9pbnN0YW5jZScsIHNlbGVjdGVkQ29ubmVjdG9ycyA9PSBudWxsID8gdm9pZCAwIDogKF9zZWxlY3RlZENvbm5lY3RvcnMkbTMgPSBzZWxlY3RlZENvbm5lY3RvcnMubWV0YWRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfc2VsZWN0ZWRDb25uZWN0b3JzJG0zLmthZmthX2lkKSwgdGV4dExpc3RJdGVtKCdPd25lcicsIHNlbGVjdGVkQ29ubmVjdG9ycyA9PSBudWxsID8gdm9pZCAwIDogKF9zZWxlY3RlZENvbm5lY3RvcnMkbTQgPSBzZWxlY3RlZENvbm5lY3RvcnMubWV0YWRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfc2VsZWN0ZWRDb25uZWN0b3JzJG00Lm93bmVyKSkpKSkpKSk7XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRHJhd2VyLCB7XG4gICAgaXNFeHBhbmRlZDogaXNFeHBhbmRlZFxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KERyYXdlckNvbnRlbnQsIHtcbiAgICBwYW5lbENvbnRlbnQ6IHBhbmVsQ29udGVudCgpXG4gIH0sIGNoaWxkcmVuKSk7XG59O1xuXG52YXIgY3NzXzI0OHokMSA9IFwiLmNvbm5lY3Rvci10YWJsZS12aWV3X190YWJsZXstLXBmLWMtdGFibGUtcm93X19pdGVtLS1tLXNlbGVjdGVkLS1aSW5kZXg6dmFyKC0tcGYtZ2xvYmFsLS1aSW5kZXgtLXhzKTstLXBmLWMtdGFibGUtcm93X19pdGVtLS1tLXNlbGVjdGVkLS1Cb3hTaGFkb3c6dmFyKC0tcGYtZ2xvYmFsLS1Cb3hTaGFkb3ctLXNtLXRvcCksdmFyKC0tcGYtZ2xvYmFsLS1Cb3hTaGFkb3ctLXNtLWJvdHRvbSk7LS1wZi1jLXRhYmxlLXJvd19faXRlbS0tbS1zZWxlY3RhYmxlLS1mb2N1cy0tQm94U2hhZG93OnZhcigtLXBmLWdsb2JhbC0tQm94U2hhZG93LS1zbS10b3ApLHZhcigtLXBmLWdsb2JhbC0tQm94U2hhZG93LS1zbS1ib3R0b20pOy0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLW0tc2VsZWN0YWJsZS0taG92ZXItLVpJbmRleDpjYWxjKHZhcigtLXBmLWMtdGFibGUtcm93X19pdGVtLS1tLXNlbGVjdGVkLS1aSW5kZXgpICsgMSk7LS1wZi1jLXRhYmxlLXJvd19faXRlbS0tYmVmb3JlLS1CYWNrZ3JvdW5kQ29sb3I6dHJhbnNwYXJlbnQ7LS1wZi1jLXRhYmxlLXJvd19faXRlbS0tbS1zZWxlY3RlZC0tYmVmb3JlLS1CYWNrZ3JvdW5kQ29sb3I6dmFyKC0tcGYtZ2xvYmFsLS1hY3RpdmUtY29sb3ItLTEwMCk7LS1wZi1jLXRhYmxlLXJvd19faXRlbS0tYmVmb3JlLS1Ub3A6MDstLXBmLWMtdGFibGUtcm93X19pdGVtLS1iZWZvcmUtLVdpZHRoOnZhcigtLXBmLWdsb2JhbC0tQm9yZGVyV2lkdGgtLWxnKTstLXBmLWMtdGFibGUtcm93X19pdGVtLS1iZWZvcmUtLVRyYW5zaXRpb246dmFyKC0tcGYtZ2xvYmFsLS1UcmFuc2l0aW9uKTstLXBmLWMtdGFibGUtcm93X19pdGVtLS1tLXNlbGVjdGFibGUtLWFjdGl2ZS0tQm94U2hhZG93OnZhcigtLXBmLWdsb2JhbC0tQm94U2hhZG93LS1zbS10b3ApLHZhcigtLXBmLWdsb2JhbC0tQm94U2hhZG93LS1zbS1ib3R0b20pOy0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLW0tc2VsZWN0YWJsZS0tT3V0bGluZU9mZnNldDpjYWxjKHZhcigtLXBmLWdsb2JhbC0tc3BhY2VyLS14cykqLTEpOy0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLW0tc2VsZWN0YWJsZS0taG92ZXItLUJveFNoYWRvdzp2YXIoLS1wZi1nbG9iYWwtLUJveFNoYWRvdy0tc20tdG9wKSx2YXIoLS1wZi1nbG9iYWwtLUJveFNoYWRvdy0tc20tYm90dG9tKTttYXJnaW4tYm90dG9tOnZhcigtLXBmLWdsb2JhbC0tc3BhY2VyLS14cyl9QG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDo3NjhweCl7LnBmLWMtdGFibGUtcm93X19pdGVtIHRkOmZpcnN0LWNoaWxkOmJlZm9yZXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXBmLWMtdGFibGUtcm93X19pdGVtLS1iZWZvcmUtLUJhY2tncm91bmRDb2xvcik7Ym90dG9tOjA7Y29udGVudDpcXFwiXFxcIjtsZWZ0OjA7cG9zaXRpb246YWJzb2x1dGU7dG9wOnZhcigtLXBmLWMtdGFibGUtcm93X19pdGVtLS1iZWZvcmUtLVRvcCk7dHJhbnNpdGlvbjp2YXIoLS1wZi1jLXRhYmxlLXJvd19faXRlbS0tYmVmb3JlLS1UcmFuc2l0aW9uKTt3aWR0aDp2YXIoLS1wZi1jLXRhYmxlLXJvd19faXRlbS0tYmVmb3JlLS1XaWR0aCl9fS5wZi1jLXRhYmxlLXJvd19faXRlbS5wZi1tLXNlbGVjdGFibGV7Y3Vyc29yOnBvaW50ZXI7b3V0bGluZS1vZmZzZXQ6dmFyKC0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLW0tc2VsZWN0YWJsZS0tT3V0bGluZU9mZnNldCl9LnBmLWMtdGFibGUtcm93X19pdGVtLnBmLW0tc2VsZWN0YWJsZTpmb2N1cywucGYtYy10YWJsZS1yb3dfX2l0ZW0ucGYtbS1zZWxlY3RhYmxlOmhvdmVye3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6dmFyKC0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLW0tc2VsZWN0YWJsZS0taG92ZXItLVpJbmRleCl9LnBmLWMtdGFibGUtcm93X19pdGVtLnBmLW0tc2VsZWN0YWJsZTpob3Zlcntib3gtc2hhZG93OnZhcigtLXBmLWMtdGFibGUtcm93X19pdGVtLS1tLXNlbGVjdGFibGUtLWhvdmVyLS1Cb3hTaGFkb3cpfS5wZi1jLXRhYmxlLXJvd19faXRlbS5wZi1tLXNlbGVjdGFibGU6Zm9jdXN7Ym94LXNoYWRvdzp2YXIoLS1wZi1jLXRhYmxlLXJvd19faXRlbS0tbS1zZWxlY3RhYmxlLS1mb2N1cy0tQm94U2hhZG93KX0ucGYtYy10YWJsZS1yb3dfX2l0ZW0ucGYtbS1zZWxlY3RhYmxlOmFjdGl2ZXtib3gtc2hhZG93OnZhcigtLXBmLWMtdGFibGUtcm93X19pdGVtLS1tLXNlbGVjdGFibGUtLWFjdGl2ZS0tQm94U2hhZG93KX0ucGYtYy10YWJsZS1yb3dfX2l0ZW0ucGYtbS1zZWxlY3RhYmxlLnBmLW0tc2VsZWN0ZWR7LS1wZi1jLXRhYmxlLXJvd19faXRlbS0tYmVmb3JlLS1CYWNrZ3JvdW5kQ29sb3I6dmFyKC0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLW0tc2VsZWN0ZWQtLWJlZm9yZS0tQmFja2dyb3VuZENvbG9yKTtib3gtc2hhZG93OnZhcigtLXBmLWMtdGFibGUtcm93X19pdGVtLS1tLXNlbGVjdGVkLS1Cb3hTaGFkb3cpO3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6dmFyKC0tcGYtYy10YWJsZS1yb3dfX2l0ZW0tLW0tc2VsZWN0ZWQtLVpJbmRleCl9LnBmLWMtdGFibGUtcm93X19pdGVtLnBmLW0tZGlzYWJsZWQgdGR7Y29sb3I6dmFyKC0tcGYtZ2xvYmFsLS1Db2xvci0tMjAwKX1cIjtcbnN0eWxlSW5qZWN0KGNzc18yNDh6JDEpO1xuXG4vKipcclxuICogQSBtb2RhbCBkaWFsb2cgdG8gZGlzcGxheSBjb25maXJtYXRpb24gZm9yIGNvbm5lY3RvciBkZWxldGlvbi5cclxuICovXG5cbnZhciBEZWxldGVDb25uZWN0b3JDb25maXJtRGlhbG9nID0gZnVuY3Rpb24gRGVsZXRlQ29ubmVjdG9yQ29uZmlybURpYWxvZyhfcmVmKSB7XG4gIHZhciBjb25uZWN0b3JOYW1lID0gX3JlZi5jb25uZWN0b3JOYW1lLFxuICAgICAgaTE4bkNhbmNlbCA9IF9yZWYuaTE4bkNhbmNlbCxcbiAgICAgIGkxOG5EZWxldGUgPSBfcmVmLmkxOG5EZWxldGUsXG4gICAgICBpMThuVGl0bGUgPSBfcmVmLmkxOG5UaXRsZSxcbiAgICAgIG9uQ2FuY2VsID0gX3JlZi5vbkNhbmNlbCxcbiAgICAgIG9uQ29uZmlybSA9IF9yZWYub25Db25maXJtLFxuICAgICAgc2hvd0RpYWxvZyA9IF9yZWYuc2hvd0RpYWxvZztcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3RfX2RlZmF1bHQudXNlU3RhdGUoXCJcIiksXG4gICAgICBuYW1lVmFsdWUgPSBfUmVhY3QkdXNlU3RhdGVbMF0sXG4gICAgICBzZXROYW1lVmFsdWUgPSBfUmVhY3QkdXNlU3RhdGVbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTIgPSBSZWFjdF9fZGVmYXVsdC51c2VTdGF0ZShmYWxzZSksXG4gICAgICBjYW5EZWxldGUgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0Q2FuRGVsZXRlID0gX1JlYWN0JHVzZVN0YXRlMlsxXTsgLy8gZW5hYmxlIGRlbGV0ZSBidXR0b24gaWYgZW50ZXJlZCBuYW1lIG1hdGNoZXNcblxuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgc2V0Q2FuRGVsZXRlKG5hbWVWYWx1ZSA9PT0gY29ubmVjdG9yTmFtZSk7XG4gIH0sIFtuYW1lVmFsdWVdKTtcblxuICB2YXIgb25DYW5jZWxEZWxldGUgPSBmdW5jdGlvbiBvbkNhbmNlbERlbGV0ZSgpIHtcbiAgICBzZXROYW1lVmFsdWUoXCJcIik7XG4gICAgb25DYW5jZWwoKTtcbiAgfTtcblxuICB2YXIgb25Db25maXJtRGVsZXRlID0gZnVuY3Rpb24gb25Db25maXJtRGVsZXRlKCkge1xuICAgIHNldE5hbWVWYWx1ZShcIlwiKTtcbiAgICBvbkNvbmZpcm0oKTtcbiAgfTtcblxuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChNb2RhbCwge1xuICAgIHZhcmlhbnQ6IE1vZGFsVmFyaWFudC5zbWFsbCxcbiAgICB0aXRsZTogaTE4blRpdGxlLFxuICAgIHRpdGxlSWNvblZhcmlhbnQ6IFwid2FybmluZ1wiLFxuICAgIGlzT3Blbjogc2hvd0RpYWxvZyxcbiAgICBvbkNsb3NlOiBvbkNhbmNlbCxcbiAgICBhY3Rpb25zOiBbUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgIGtleTogXCJjb25maXJtXCIsXG4gICAgICB2YXJpYW50OiBcImRhbmdlclwiLFxuICAgICAgaXNEaXNhYmxlZDogIWNhbkRlbGV0ZSxcbiAgICAgIG9uQ2xpY2s6IG9uQ29uZmlybURlbGV0ZVxuICAgIH0sIGkxOG5EZWxldGUpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAga2V5OiBcImNhbmNlbFwiLFxuICAgICAgdmFyaWFudDogXCJsaW5rXCIsXG4gICAgICBvbkNsaWNrOiBvbkNhbmNlbERlbGV0ZVxuICAgIH0sIGkxOG5DYW5jZWwpXVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN0YWNrLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN0YWNrSXRlbSwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUcmFucywge1xuICAgIGkxOG5LZXk6IFwiZGVsZXRlQ29uZmlybU1lc3NhZ2VcIlxuICB9LCBcIkNvbm5lY3RvciBcIiwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiLCBudWxsLCB7XG4gICAgY29ubmVjdG9yTmFtZTogY29ubmVjdG9yTmFtZVxuICB9KSwgXCIgd2lsbCBiZSBkZWxldGVkLlwiKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU3RhY2tJdGVtLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRyYW5zLCB7XG4gICAgaTE4bktleTogXCJkZWxldGVUeXBlTmFtZU1lc3NhZ2VcIlxuICB9LCBcIlR5cGUgXCIsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzdHJvbmdcIiwgbnVsbCwge1xuICAgIGNvbm5lY3Rvck5hbWU6IGNvbm5lY3Rvck5hbWVcbiAgfSksIFwiIHRvIGNvbmZpcm0gdGhlIGRlbGV0aW9uLlwiKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU3RhY2tJdGVtLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRleHRJbnB1dCwge1xuICAgIHZhbHVlOiBuYW1lVmFsdWUsXG4gICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgb25DaGFuZ2U6IHNldE5hbWVWYWx1ZSxcbiAgICBcImFyaWEtbGFiZWxcIjogXCJuYW1lIGlucHV0XCJcbiAgfSkpKSk7XG59O1xuXG52YXIgQ29ubmVjdG9yVGFibGVWaWV3ID0gZnVuY3Rpb24gQ29ubmVjdG9yVGFibGVWaWV3KF9yZWYpIHtcbiAgdmFyIF9kYXRhJGl0ZW1zO1xuXG4gIHZhciBkYXRhID0gX3JlZi5kYXRhLFxuICAgICAgYWN0aXZlUm93ID0gX3JlZi5hY3RpdmVSb3csXG4gICAgICBzZXRBY3RpdmVSb3cgPSBfcmVmLnNldEFjdGl2ZVJvdyxcbiAgICAgIHNlbGVjdENvbm5lY3RvciA9IF9yZWYuc2VsZWN0Q29ubmVjdG9yO1xuXG4gIHZhciBfdXNlVHJhbnNsYXRpb24gPSB1c2VUcmFuc2xhdGlvbigpLFxuICAgICAgdCA9IF91c2VUcmFuc2xhdGlvbi50O1xuXG4gIHZhciByb3dDbGljayA9IGZ1bmN0aW9uIHJvd0NsaWNrKGMpIHtcbiAgICBzZWxlY3RDb25uZWN0b3IoYyk7XG4gICAgc2V0QWN0aXZlUm93KGMuaWQgfHwgJycpO1xuICB9O1xuXG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBhZ2VTZWN0aW9uLCB7XG4gICAgcGFkZGluZzoge1xuICAgICAgXCJkZWZhdWx0XCI6ICdub1BhZGRpbmcnXG4gICAgfSxcbiAgICBpc0ZpbGxlZDogdHJ1ZVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RvcnNUb29sYmFyLCBudWxsKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUYWJsZUNvbXBvc2FibGUsIHtcbiAgICBcImFyaWEtbGFiZWxcIjogXCJTb3J0YWJsZSBUYWJsZVwiLFxuICAgIGNsYXNzTmFtZTogY3NzKCdjb25uZWN0b3ItdGFibGUtdmlld19fdGFibGUnKVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRoZWFkLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRyLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRoLCBudWxsLCB0KCdpZCcpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUaCwgbnVsbCwgdCgnbmFtZScpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUaCwgbnVsbCwgdCgndHlwZScpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUaCwgbnVsbCwgdCgnY2F0ZWdvcnknKSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGgsIG51bGwsIHQoJ3N0YXR1cycpKSkpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRib2R5LCBudWxsLCBkYXRhID09IG51bGwgPyB2b2lkIDAgOiAoX2RhdGEkaXRlbXMgPSBkYXRhLml0ZW1zKSA9PSBudWxsID8gdm9pZCAwIDogX2RhdGEkaXRlbXMubWFwKGZ1bmN0aW9uIChyZWYpIHtcbiAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb25uZWN0b3JSb3csIHtcbiAgICAgIGFjdGl2ZVJvdzogYWN0aXZlUm93LFxuICAgICAgb25DbGljazogcm93Q2xpY2ssXG4gICAgICBjb25uZWN0b3JSZWY6IHJlZixcbiAgICAgIGtleTogcmVmLmlkXG4gICAgfSk7XG4gIH0pKSkpO1xufTtcbnZhciBDb25uZWN0b3JSb3cgPSBmdW5jdGlvbiBDb25uZWN0b3JSb3coX3JlZjIpIHtcbiAgdmFyIF9jb25uZWN0b3IkbWV0YWRhdGEsIF9jb25uZWN0b3IkbWV0YWRhdGEyO1xuXG4gIHZhciBhY3RpdmVSb3cgPSBfcmVmMi5hY3RpdmVSb3csXG4gICAgICBjb25uZWN0b3JSZWYgPSBfcmVmMi5jb25uZWN0b3JSZWYsXG4gICAgICBfb25DbGljayA9IF9yZWYyLm9uQ2xpY2s7XG5cbiAgdmFyIF91c2VUcmFuc2xhdGlvbjIgPSB1c2VUcmFuc2xhdGlvbigpLFxuICAgICAgdCA9IF91c2VUcmFuc2xhdGlvbjIudDtcblxuICB2YXIgX3VzZUNvbm5lY3RvciA9IHVzZUNvbm5lY3Rvcihjb25uZWN0b3JSZWYpLFxuICAgICAgY29ubmVjdG9yID0gX3VzZUNvbm5lY3Rvci5jb25uZWN0b3IsXG4gICAgICBjYW5TdGFydCA9IF91c2VDb25uZWN0b3IuY2FuU3RhcnQsXG4gICAgICBjYW5TdG9wID0gX3VzZUNvbm5lY3Rvci5jYW5TdG9wLFxuICAgICAgY2FuRGVsZXRlID0gX3VzZUNvbm5lY3Rvci5jYW5EZWxldGUsXG4gICAgICBvblN0YXJ0ID0gX3VzZUNvbm5lY3Rvci5vblN0YXJ0LFxuICAgICAgb25TdG9wID0gX3VzZUNvbm5lY3Rvci5vblN0b3AsXG4gICAgICBvbkRlbGV0ZSA9IF91c2VDb25uZWN0b3Iub25EZWxldGU7XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0X19kZWZhdWx0LnVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIHNob3dEZWxldGVDb25uZWN0b3JDb25maXJtID0gX1JlYWN0JHVzZVN0YXRlWzBdLFxuICAgICAgc2V0U2hvd0RlbGV0ZUNvbm5lY3RvckNvbmZpcm0gPSBfUmVhY3QkdXNlU3RhdGVbMV07XG5cbiAgdmFyIGRvQ2FuY2VsRGVsZXRlQ29ubmVjdG9yID0gZnVuY3Rpb24gZG9DYW5jZWxEZWxldGVDb25uZWN0b3IoKSB7XG4gICAgc2V0U2hvd0RlbGV0ZUNvbm5lY3RvckNvbmZpcm0oZmFsc2UpO1xuICB9O1xuXG4gIHZhciBkb0RlbGV0ZUNvbm5lY3RvciA9IGZ1bmN0aW9uIGRvRGVsZXRlQ29ubmVjdG9yKCkge1xuICAgIHNldFNob3dEZWxldGVDb25uZWN0b3JDb25maXJtKGZhbHNlKTtcbiAgICBvbkRlbGV0ZSgpO1xuICB9O1xuXG4gIHZhciBhY3Rpb25zID0gW3tcbiAgICB0aXRsZTogJ1N0YXJ0JyxcbiAgICBvbkNsaWNrOiBvblN0YXJ0LFxuICAgIGlzRGlzYWJsZWQ6ICFjYW5TdGFydFxuICB9LCB7XG4gICAgdGl0bGU6ICdTdG9wJyxcbiAgICBvbkNsaWNrOiBvblN0b3AsXG4gICAgaXNEaXNhYmxlZDogIWNhblN0b3BcbiAgfSwge1xuICAgIHRpdGxlOiAnRGVsZXRlJyxcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIHNldFNob3dEZWxldGVDb25uZWN0b3JDb25maXJtKHRydWUpO1xuICAgIH0sXG4gICAgaXNEaXNhYmxlZDogIWNhbkRlbGV0ZVxuICB9LCB7XG4gICAgaXNTZXBhcmF0b3I6IHRydWVcbiAgfSwge1xuICAgIHRpdGxlOiAnT3ZlcnZpZXcnLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gX29uQ2xpY2soY29ubmVjdG9yKTtcbiAgICB9XG4gIH1dO1xuICB2YXIgc3RhdHVzT3B0aW9ucyA9IFt7XG4gICAgdmFsdWU6ICdyZWFkeScsXG4gICAgbGFiZWw6IHQoJ1JlYWR5JylcbiAgfSwge1xuICAgIHZhbHVlOiAnZmFpbGVkJyxcbiAgICBsYWJlbDogdCgnRmFpbGVkJylcbiAgfSwge1xuICAgIHZhbHVlOiAnYXNzaWduaW5nJyxcbiAgICBsYWJlbDogdCgnQ3JlYXRpb24gcGVuZGluZycpXG4gIH0sIHtcbiAgICB2YWx1ZTogJ2Fzc2lnbmVkJyxcbiAgICBsYWJlbDogdCgnQ3JlYXRpb24gaW4gcHJvZ3Jlc3MnKVxuICB9LCB7XG4gICAgdmFsdWU6ICd1cGRhdGluZycsXG4gICAgbGFiZWw6IHQoJ0NyZWF0aW9uIGluIHByb2dyZXNzJylcbiAgfSwge1xuICAgIHZhbHVlOiAncHJvdmlzaW9uaW5nJyxcbiAgICBsYWJlbDogdCgnQ3JlYXRpb24gaW4gcHJvZ3Jlc3MnKVxuICB9LCB7XG4gICAgdmFsdWU6ICdkZWxldGluZycsXG4gICAgbGFiZWw6IHQoJ0RlbGV0aW9uIGluIHByb2dyZXNzJylcbiAgfSwge1xuICAgIHZhbHVlOiAnZGVsZXRlZCcsXG4gICAgbGFiZWw6IHQoJ0RlbGV0aW9uIGluIHByb2dyZXNzJylcbiAgfV07XG5cbiAgdmFyIGdldFN0YXR1c0xhYmVsID0gZnVuY3Rpb24gZ2V0U3RhdHVzTGFiZWwoc3RhdHVzKSB7XG4gICAgdmFyIF9zdGF0dXNPcHRpb25zJGZpbmQ7XG5cbiAgICByZXR1cm4gKChfc3RhdHVzT3B0aW9ucyRmaW5kID0gc3RhdHVzT3B0aW9ucy5maW5kKGZ1bmN0aW9uIChzKSB7XG4gICAgICByZXR1cm4gcy52YWx1ZSA9PT0gc3RhdHVzO1xuICAgIH0pKSA9PSBudWxsID8gdm9pZCAwIDogX3N0YXR1c09wdGlvbnMkZmluZC5sYWJlbCkgfHwgc3RhdHVzO1xuICB9O1xuXG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KERlbGV0ZUNvbm5lY3RvckNvbmZpcm1EaWFsb2csIHtcbiAgICBjb25uZWN0b3JOYW1lOiAoX2Nvbm5lY3RvciRtZXRhZGF0YSA9IGNvbm5lY3Rvci5tZXRhZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jb25uZWN0b3IkbWV0YWRhdGEubmFtZSxcbiAgICBpMThuQ2FuY2VsOiB0KCdjYW5jZWwnKSxcbiAgICBpMThuRGVsZXRlOiB0KCdkZWxldGUnKSxcbiAgICBpMThuVGl0bGU6IHQoJ2RlbGV0ZUNvbm5lY3RvcicpLFxuICAgIHNob3dEaWFsb2c6IHNob3dEZWxldGVDb25uZWN0b3JDb25maXJtLFxuICAgIG9uQ2FuY2VsOiBkb0NhbmNlbERlbGV0ZUNvbm5lY3RvcixcbiAgICBvbkNvbmZpcm06IGRvRGVsZXRlQ29ubmVjdG9yXG4gIH0pLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRyLCB7XG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgICAgdmFyIF9ldmVudCR0YXJnZXQ7XG5cbiAgICAgIC8vIHNlbmQgdGhlIGV2ZW50IG9ubHkgaWYgdGhlIGNsaWNrIGRpZG4ndCBoYXBwZW4gb24gdGhlIGFjdGlvbnMgYnV0dG9uXG4gICAgICBpZiAoKChfZXZlbnQkdGFyZ2V0ID0gZXZlbnQudGFyZ2V0KSA9PSBudWxsID8gdm9pZCAwIDogX2V2ZW50JHRhcmdldC50eXBlKSAhPT0gJ2J1dHRvbicpIHtcbiAgICAgICAgX29uQ2xpY2soY29ubmVjdG9yKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNsYXNzTmFtZTogY3NzKCdwZi1jLXRhYmxlLXJvd19faXRlbScsICdwZi1tLXNlbGVjdGFibGUnLCBhY3RpdmVSb3cgJiYgYWN0aXZlUm93ID09PSBjb25uZWN0b3IuaWQgJiYgJ3BmLW0tc2VsZWN0ZWQnKVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRkLCB7XG4gICAgZGF0YUxhYmVsOiB0KCdpZCcpXG4gIH0sIGNvbm5lY3Rvci5pZCksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGQsIHtcbiAgICBkYXRhTGFiZWw6IHQoJ25hbWUnKVxuICB9LCAoX2Nvbm5lY3RvciRtZXRhZGF0YTIgPSBjb25uZWN0b3IubWV0YWRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfY29ubmVjdG9yJG1ldGFkYXRhMi5uYW1lKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUZCwge1xuICAgIGRhdGFMYWJlbDogdCgndHlwZScpXG4gIH0sIGNvbm5lY3Rvci5jb25uZWN0b3JfdHlwZV9pZCksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVGQsIHtcbiAgICBkYXRhTGFiZWw6IHQoJ2NhdGVnb3J5JylcbiAgfSwgXCJUT0RPOiBNSVNTSU5HXCIpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRkLCB7XG4gICAgZGF0YUxhYmVsOiB0KCdzdGF0dXMnKVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZsZXgsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRmxleEl0ZW0sIHtcbiAgICBzcGFjZXI6IHtcbiAgICAgIFwiZGVmYXVsdFwiOiAnc3BhY2VyU20nXG4gICAgfVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RvclN0YXR1c0ljb24sIHtcbiAgICBpZDogY29ubmVjdG9yLmlkLFxuICAgIHN0YXR1czogY29ubmVjdG9yLnN0YXR1c1xuICB9KSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRmxleEl0ZW0sIG51bGwsIGdldFN0YXR1c0xhYmVsKGNvbm5lY3Rvci5zdGF0dXMpKSkpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRkLCB7XG4gICAgYWN0aW9uczoge1xuICAgICAgaXRlbXM6IGFjdGlvbnNcbiAgICB9XG4gIH0pKSk7XG59O1xuXG52YXIgQ29ubmVjdG9yU3RhdHVzSWNvbiA9IGZ1bmN0aW9uIENvbm5lY3RvclN0YXR1c0ljb24oX3JlZjMpIHtcbiAgdmFyIGlkID0gX3JlZjMuaWQsXG4gICAgICBzdGF0dXMgPSBfcmVmMy5zdGF0dXM7XG5cbiAgc3dpdGNoIChzdGF0dXMgPT0gbnVsbCA/IHZvaWQgMCA6IHN0YXR1cy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAncmVhZHknOlxuICAgICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ2hlY2tDaXJjbGVJY29uLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJtay0taW5zdGFuY2VzX190YWJsZS0taWNvbi0tY29tcGxldGVkXCJcbiAgICAgIH0pO1xuXG4gICAgY2FzZSAnZmFpbGVkJzpcbiAgICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEV4Y2xhbWF0aW9uQ2lyY2xlSWNvbiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibWstLWluc3RhbmNlc19fdGFibGUtLWljb24tLWZhaWxlZFwiXG4gICAgICB9KTtcblxuICAgIGNhc2UgJ2FjY2VwdGVkJzpcbiAgICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBlbmRpbmdJY29uLCBudWxsKTtcblxuICAgIGNhc2UgJ3Byb3Zpc2lvbmluZyc6XG4gICAgY2FzZSAncHJlcGFyaW5nJzpcbiAgICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNwaW5uZXIsIHtcbiAgICAgICAgc2l6ZTogXCJtZFwiLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogaWQsXG4gICAgICAgIFwiYXJpYS12YWx1ZXRleHRcIjogXCJDcmVhdGlvbiBpbiBwcm9ncmVzc1wiXG4gICAgICB9KTtcblxuICAgIGNhc2UgJ2RlcHJvdmlzaW9uJzpcbiAgICBjYXNlICdkZWxldGVkJzpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGVuZGluZ0ljb24sIG51bGwpO1xufTtcblxudmFyIENvbm5lY3RvcnNUb29sYmFyID0gZnVuY3Rpb24gQ29ubmVjdG9yc1Rvb2xiYXIoKSB7XG4gIHZhciBzZXJ2aWNlID0gdXNlQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlKCk7XG5cbiAgdmFyIF91c2VDb25uZWN0b3JzTWFjaGluZSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lKHNlcnZpY2UpLFxuICAgICAgcmVxdWVzdCA9IF91c2VDb25uZWN0b3JzTWFjaGluZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2UgPSBfdXNlQ29ubmVjdG9yc01hY2hpbmUucmVzcG9uc2U7XG5cbiAgdmFyIG9uQ2hhbmdlID0gZnVuY3Rpb24gb25DaGFuZ2UocmVxdWVzdCkge1xuICAgIHJldHVybiBzZXJ2aWNlLnNlbmQoX2V4dGVuZHMoe1xuICAgICAgdHlwZTogJ3F1ZXJ5J1xuICAgIH0sIHJlcXVlc3QpKTtcbiAgfTtcblxuICB2YXIgc2VhcmNoSW5wdXRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBkZWJvdW5jZWRPbkNoYW5nZSA9IHVzZURlYm91bmNlKG9uQ2hhbmdlLCAxMDAwKTtcbiAgdmFyIGRlZmF1bHRQZXJQYWdlT3B0aW9ucyA9IFt7XG4gICAgdGl0bGU6ICcxJyxcbiAgICB2YWx1ZTogMVxuICB9LCB7XG4gICAgdGl0bGU6ICc1JyxcbiAgICB2YWx1ZTogNVxuICB9LCB7XG4gICAgdGl0bGU6ICcxMCcsXG4gICAgdmFsdWU6IDEwXG4gIH1dOyAvLyBjb25zdCBbc3RhdHVzZXMsIHNldFN0YXR1c2VzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXG4gIC8vICAgJ1BlbmRpbmcnLFxuICAvLyAgICdDcmVhdGVkJyxcbiAgLy8gICAnQ2FuY2VsbGVkJyxcbiAgLy8gXSk7XG4gIC8vIGNvbnN0IFtzdGF0dXNlc1RvZ2dsZWQsIHNldFN0YXR1c2VzVG9nZ2xlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIC8vIGNvbnN0IGNsZWFyQWxsRmlsdGVycyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgLy8gICBzZXRTZWFyY2hWYWx1ZSgnJyk7XG4gIC8vICAgc2V0U3RhdHVzZXMoW10pO1xuICAvLyB9LCBbXSk7XG4gIC8vIGNvbnN0IHRvZ2dsZVN0YXR1c2VzID0gdXNlQ2FsbGJhY2soXG4gIC8vICAgKCkgPT4gc2V0U3RhdHVzZXNUb2dnbGVkKHByZXYgPT4gIXByZXYpLFxuICAvLyAgIFtdXG4gIC8vICk7XG4gIC8vIGNvbnN0IG9uU2VsZWN0U3RhdHVzID0gdXNlQ2FsbGJhY2soXG4gIC8vICAgKF8sIHN0YXR1cykgPT5cbiAgLy8gICAgIHNldFN0YXR1c2VzKHByZXYgPT5cbiAgLy8gICAgICAgcHJldi5pbmNsdWRlcyhzdGF0dXMpXG4gIC8vICAgICAgICAgPyBwcmV2LmZpbHRlcihzID0+IHMgIT09IHN0YXR1cylcbiAgLy8gICAgICAgICA6IFsuLi5wcmV2LCBzdGF0dXNdXG4gIC8vICAgICApLFxuICAvLyAgIFtdXG4gIC8vICk7XG4gIC8vIGNvbnN0IHN0YXR1c01lbnVJdGVtcyA9IFtcbiAgLy8gICA8U2VsZWN0T3B0aW9uIGtleT1cInN0YXR1c1BlbmRpbmdcIiB2YWx1ZT1cIlBlbmRpbmdcIiAvPixcbiAgLy8gICA8U2VsZWN0T3B0aW9uIGtleT1cInN0YXR1c0NyZWF0ZWRcIiB2YWx1ZT1cIkNyZWF0ZWRcIiAvPixcbiAgLy8gICA8U2VsZWN0T3B0aW9uIGtleT1cInN0YXR1c0NhbmNlbGxlZFwiIHZhbHVlPVwiQ2FuY2VsbGVkXCIgLz4sXG4gIC8vIF07XG4gIC8vIGVuc3VyZSB0aGUgc2VhcmNoIGlucHV0IHZhbHVlIHJlZmxlY3RzIHdoYXQncyBzcGVjaWZpZWQgaW4gdGhlIHJlcXVlc3Qgb2JqZWN0XG4gIC8vIHVzZUVmZmVjdCgoKSA9PiB7XG4gIC8vICAgaWYgKHNlYXJjaElucHV0UmVmLmN1cnJlbnQpIHtcbiAgLy8gICAgIHNlYXJjaElucHV0UmVmLmN1cnJlbnQudmFsdWUgPSAocmVxdWVzdC5uYW1lIGFzIHN0cmluZyB8IHVuZGVmaW5lZCkgfHwgJyc7XG4gIC8vICAgfVxuICAvLyB9LCBbc2VhcmNoSW5wdXRSZWYsIHJlcXVlc3RdKTtcblxuICB2YXIgdG9nZ2xlR3JvdXBJdGVtcyA9IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhckl0ZW0sIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoSW5wdXRHcm91cCwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUZXh0SW5wdXQsIHtcbiAgICBuYW1lOiBcInRleHRJbnB1dDJcIixcbiAgICBpZDogXCJ0ZXh0SW5wdXQyXCIsXG4gICAgdHlwZTogXCJzZWFyY2hcIixcbiAgICBcImFyaWEtbGFiZWxcIjogXCJzZWFyY2ggaW5wdXQgZXhhbXBsZVwiLFxuICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGRlYm91bmNlZE9uQ2hhbmdlKHtcbiAgICAgICAgc2l6ZTogcmVxdWVzdC5zaXplLFxuICAgICAgICBwYWdlOiAxLFxuICAgICAgICBuYW1lOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfSxcbiAgICByZWY6IHNlYXJjaElucHV0UmVmXG4gIH0pLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIHZhcmlhbnQ6ICdjb250cm9sJyxcbiAgICBcImFyaWEtbGFiZWxcIjogXCJzZWFyY2ggYnV0dG9uIGZvciBzZWFyY2ggaW5wdXRcIlxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNlYXJjaEljb24sIG51bGwpKSkpKTtcbiAgdmFyIHRvb2xiYXJJdGVtcyA9IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhclRvZ2dsZUdyb3VwLCB7XG4gICAgdG9nZ2xlSWNvbjogUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChGaWx0ZXJJY29uLCBudWxsKSxcbiAgICBicmVha3BvaW50OiBcInhsXCJcbiAgfSwgdG9nZ2xlR3JvdXBJdGVtcyksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhckdyb3VwLCB7XG4gICAgdmFyaWFudDogXCJpY29uLWJ1dHRvbi1ncm91cFwiXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhckl0ZW0sIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTmF2TGluaywge1xuICAgIGNsYXNzTmFtZTogXCJwZi1jLWJ1dHRvbiBwZi1tLXByaW1hcnlcIixcbiAgICB0bzogJy9jcmVhdGUtY29ubmVjdG9yJ1xuICB9LCBcIkNyZWF0ZSBDb25uZWN0b3JcIikpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUb29sYmFySXRlbSwge1xuICAgIHZhcmlhbnQ6IFwicGFnaW5hdGlvblwiLFxuICAgIGFsaWdubWVudDoge1xuICAgICAgXCJkZWZhdWx0XCI6ICdhbGlnblJpZ2h0J1xuICAgIH1cbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdpbmF0aW9uLCB7XG4gICAgaXRlbUNvdW50OiAocmVzcG9uc2UgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3BvbnNlLnRvdGFsKSB8fCAwLFxuICAgIHBhZ2U6IHJlcXVlc3QucGFnZSxcbiAgICBwZXJQYWdlOiByZXF1ZXN0LnNpemUsXG4gICAgcGVyUGFnZU9wdGlvbnM6IGRlZmF1bHRQZXJQYWdlT3B0aW9ucyxcbiAgICBvblNldFBhZ2U6IGZ1bmN0aW9uIG9uU2V0UGFnZShfLCBwYWdlLCBzaXplKSB7XG4gICAgICByZXR1cm4gb25DaGFuZ2UoX2V4dGVuZHMoe30sIHJlcXVlc3QsIHtcbiAgICAgICAgcGFnZTogcGFnZSxcbiAgICAgICAgc2l6ZTogc2l6ZSB8fCByZXF1ZXN0LnNpemVcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIG9uUGVyUGFnZVNlbGVjdDogZnVuY3Rpb24gb25QZXJQYWdlU2VsZWN0KCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgdmFyaWFudDogXCJ0b3BcIixcbiAgICBpc0NvbXBhY3Q6IHRydWVcbiAgfSkpKTtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhciwge1xuICAgIGlkOiBcInRvb2xiYXItZ3JvdXAtdHlwZXNcIixcbiAgICBjb2xsYXBzZUxpc3RlZEZpbHRlcnNCcmVha3BvaW50OiBcInhsXCJcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUb29sYmFyQ29udGVudCwgbnVsbCwgdG9vbGJhckl0ZW1zKSk7XG59O1xuXG52YXIgQ29ubmVjdGVkQ29ubmVjdG9yc1BhZ2UgPSBmdW5jdGlvbiBDb25uZWN0ZWRDb25uZWN0b3JzUGFnZSgpIHtcbiAgdmFyIF91c2VUcmFuc2xhdGlvbiA9IHVzZVRyYW5zbGF0aW9uKCksXG4gICAgICB0ID0gX3VzZVRyYW5zbGF0aW9uLnQ7XG5cbiAgdmFyIF91c2VBcHBDb250ZXh0ID0gdXNlQXBwQ29udGV4dCgpLFxuICAgICAgYmFzZVBhdGggPSBfdXNlQXBwQ29udGV4dC5iYXNlUGF0aCxcbiAgICAgIGF1dGhUb2tlbiA9IF91c2VBcHBDb250ZXh0LmF1dGhUb2tlbjtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUobnVsbCksXG4gICAgICBzZWxlY3RlZENvbm5lY3RvcnMgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRTZWxlY3RlZENvbm5lY3RvcnMgPSBfdXNlU3RhdGVbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTIgPSB1c2VTdGF0ZSgnJyksXG4gICAgICBhY3RpdmVSb3cgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0QWN0aXZlUm93ID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgb25EcmF3ZXJDbG9zZSA9IGZ1bmN0aW9uIG9uRHJhd2VyQ2xvc2UoKSB7XG4gICAgc2V0U2VsZWN0ZWRDb25uZWN0b3JzKG51bGwpO1xuICAgIHNldEFjdGl2ZVJvdygnJyk7XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdG9yc01hY2hpbmVQcm92aWRlciwge1xuICAgIGFjY2Vzc1Rva2VuOiBhdXRoVG9rZW4sXG4gICAgYmFzZVBhdGg6IGJhc2VQYXRoXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdG9yRHJhd2VyLCB7XG4gICAgaXNFeHBhbmRlZDogc2VsZWN0ZWRDb25uZWN0b3JzICE9IG51bGwsXG4gICAgc2VsZWN0ZWRDb25uZWN0b3JzOiBzZWxlY3RlZENvbm5lY3RvcnMsXG4gICAgb25DbG9zZTogb25EcmF3ZXJDbG9zZVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBhZ2VTZWN0aW9uLCB7XG4gICAgdmFyaWFudDogJ2xpZ2h0J1xuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRleHRDb250ZW50LCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRpdGxlLCB7XG4gICAgaGVhZGluZ0xldmVsOiBcImgxXCJcbiAgfSwgdCgnbWFuYWdlZENvbm5lY3RvcnMnKSkpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdlU2VjdGlvbiwge1xuICAgIHZhcmlhbnQ6ICdsaWdodCcsXG4gICAgcGFkZGluZzoge1xuICAgICAgXCJkZWZhdWx0XCI6ICdub1BhZGRpbmcnXG4gICAgfVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RvcnNQYWdlLCB7XG4gICAgc2VsZWN0Q29ubmVjdG9yOiBzZXRTZWxlY3RlZENvbm5lY3RvcnMsXG4gICAgYWN0aXZlUm93OiBhY3RpdmVSb3csXG4gICAgc2V0QWN0aXZlUm93OiBzZXRBY3RpdmVSb3dcbiAgfSkpKSk7XG59O1xudmFyIENvbm5lY3RvcnNQYWdlID0gZnVuY3Rpb24gQ29ubmVjdG9yc1BhZ2UoX3JlZikge1xuICB2YXIgYWN0aXZlUm93ID0gX3JlZi5hY3RpdmVSb3csXG4gICAgICBzZXRBY3RpdmVSb3cgPSBfcmVmLnNldEFjdGl2ZVJvdyxcbiAgICAgIHNlbGVjdENvbm5lY3RvciA9IF9yZWYuc2VsZWN0Q29ubmVjdG9yO1xuICB2YXIgc2VydmljZSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lU2VydmljZSgpO1xuICB2YXIgaXNSZWFkeSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lSXNSZWFkeShzZXJ2aWNlKTtcbiAgcmV0dXJuIGlzUmVhZHkgPyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RvcnNUYWJsZSwge1xuICAgIHNlbGVjdENvbm5lY3Rvcjogc2VsZWN0Q29ubmVjdG9yLFxuICAgIGFjdGl2ZVJvdzogYWN0aXZlUm93LFxuICAgIHNldEFjdGl2ZVJvdzogc2V0QWN0aXZlUm93XG4gIH0pIDogbnVsbDtcbn07XG5cbnZhciBDb25uZWN0b3JzVGFibGUgPSBmdW5jdGlvbiBDb25uZWN0b3JzVGFibGUoX3JlZjIpIHtcbiAgdmFyIGFjdGl2ZVJvdyA9IF9yZWYyLmFjdGl2ZVJvdyxcbiAgICAgIHNldEFjdGl2ZVJvdyA9IF9yZWYyLnNldEFjdGl2ZVJvdyxcbiAgICAgIHNlbGVjdENvbm5lY3RvciA9IF9yZWYyLnNlbGVjdENvbm5lY3RvcjtcbiAgdmFyIGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7XG4gIHZhciBzZXJ2aWNlID0gdXNlQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlKCk7XG5cbiAgdmFyIF91c2VDb25uZWN0b3JzTWFjaGluZSA9IHVzZUNvbm5lY3RvcnNNYWNoaW5lKHNlcnZpY2UpLFxuICAgICAgcmVzcG9uc2UgPSBfdXNlQ29ubmVjdG9yc01hY2hpbmUucmVzcG9uc2UsXG4gICAgICBsb2FkaW5nID0gX3VzZUNvbm5lY3RvcnNNYWNoaW5lLmxvYWRpbmcsXG4gICAgICBlcnJvciA9IF91c2VDb25uZWN0b3JzTWFjaGluZS5lcnJvcixcbiAgICAgIG5vUmVzdWx0cyA9IF91c2VDb25uZWN0b3JzTWFjaGluZS5ub1Jlc3VsdHMsXG4gICAgICBxdWVyeUVtcHR5ID0gX3VzZUNvbm5lY3RvcnNNYWNoaW5lLnF1ZXJ5RW1wdHksXG4gICAgICBmaXJzdFJlcXVlc3QgPSBfdXNlQ29ubmVjdG9yc01hY2hpbmUuZmlyc3RSZXF1ZXN0O1xuXG4gIHN3aXRjaCAodHJ1ZSkge1xuICAgIGNhc2UgZmlyc3RSZXF1ZXN0OlxuICAgICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGFnZVNlY3Rpb24sIHtcbiAgICAgICAgcGFkZGluZzoge1xuICAgICAgICAgIFwiZGVmYXVsdFwiOiAnbm9QYWRkaW5nJ1xuICAgICAgICB9LFxuICAgICAgICBpc0ZpbGxlZDogdHJ1ZVxuICAgICAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChMb2FkaW5nLCBudWxsKSk7XG5cbiAgICBjYXNlIHF1ZXJ5RW1wdHk6XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdlU2VjdGlvbiwge1xuICAgICAgICBwYWRkaW5nOiB7XG4gICAgICAgICAgXCJkZWZhdWx0XCI6ICdub1BhZGRpbmcnXG4gICAgICAgIH0sXG4gICAgICAgIGlzRmlsbGVkOiB0cnVlXG4gICAgICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KE5vTWF0Y2hGb3VuZCwge1xuICAgICAgICBvbkNsZWFyOiBmdW5jdGlvbiBvbkNsZWFyKCkge1xuICAgICAgICAgIHJldHVybiBzZXJ2aWNlLnNlbmQoe1xuICAgICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICBzaXplOiAxMFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KSk7XG5cbiAgICBjYXNlIGxvYWRpbmc6XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdlU2VjdGlvbiwge1xuICAgICAgICBwYWRkaW5nOiB7XG4gICAgICAgICAgXCJkZWZhdWx0XCI6ICdub1BhZGRpbmcnXG4gICAgICAgIH0sXG4gICAgICAgIGlzRmlsbGVkOiB0cnVlXG4gICAgICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3RvcnNUb29sYmFyLCBudWxsKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChMb2FkaW5nLCBudWxsKSk7XG5cbiAgICBjYXNlIG5vUmVzdWx0cyB8fCBlcnJvcjpcbiAgICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtcHR5U3RhdGUsIHtcbiAgICAgICAgZW1wdHlTdGF0ZVByb3BzOiB7XG4gICAgICAgICAgdmFyaWFudDogRW1wdHlTdGF0ZVZhcmlhbnQuR2V0dGluZ1N0YXJ0ZWRcbiAgICAgICAgfSxcbiAgICAgICAgdGl0bGVQcm9wczoge1xuICAgICAgICAgIHRpdGxlOiAnY29zLndlbGNvbWVfdG9fY29zJ1xuICAgICAgICB9LFxuICAgICAgICBlbXB0eVN0YXRlQm9keVByb3BzOiB7XG4gICAgICAgICAgYm9keTogJ2Nvcy53ZWxjb21lX2VtcHR5X3N0YXRlX2JvZHknXG4gICAgICAgIH0sXG4gICAgICAgIGJ1dHRvblByb3BzOiB7XG4gICAgICAgICAgdGl0bGU6ICdjb3MuY3JlYXRlX2NvcycsXG4gICAgICAgICAgdmFyaWFudDogQnV0dG9uVmFyaWFudC5wcmltYXJ5LFxuICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gaGlzdG9yeS5wdXNoKCcvY3JlYXRlLWNvbm5lY3RvcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdG9yVGFibGVWaWV3LCB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlLFxuICAgICAgICBzZWxlY3RDb25uZWN0b3I6IHNlbGVjdENvbm5lY3RvcixcbiAgICAgICAgYWN0aXZlUm93OiBhY3RpdmVSb3csXG4gICAgICAgIHNldEFjdGl2ZVJvdzogc2V0QWN0aXZlUm93XG4gICAgICB9KTtcbiAgfVxufTtcblxudmFyIGZldGNoQ29uZmlndXJhdG9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWYgPSAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9ydW50aW1lXzEubWFyayhmdW5jdGlvbiBfY2FsbGVlMihjb25uZWN0b3IsIGNvbmZpZykge1xuICAgIHZhciBkZWZhdWx0Q29uZmlnO1xuICAgIHJldHVybiBydW50aW1lXzEud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBkZWZhdWx0Q29uZmlnID0gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3RlcHM6IGZhbHNlLFxuICAgICAgICAgICAgICBDb25maWd1cmF0b3I6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIsIG5ldyBQcm9taXNlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3J1bnRpbWVfMS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIHZhciBmZWRlcmF0ZWRDb25maWd1cmF0b3I7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ1bnRpbWVfMS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXliZUdldEZlZGVyYXRlZENvbmZpZ3VyYXRvckZvckNvbm5lY3Rvcihjb25maWcsIGNvbm5lY3Rvcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBmZWRlcmF0ZWRDb25maWd1cmF0b3IgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5qZWN0RmVkZXJhdGVkTW9kdWxlU2NyaXB0KGZlZGVyYXRlZENvbmZpZ3VyYXRvci5yZW1vdGVFbnRyeSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGxvYWRGZWRlcmF0ZWRDb25maWd1cmF0b3IoZmVkZXJhdGVkQ29uZmlndXJhdG9yLnNjb3BlLCBmZWRlcmF0ZWRDb25maWd1cmF0b3IubW9kdWxlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA5O1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFtcImNhdGNoXCJdKDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkZWZhdWx0Q29uZmlnKTtcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgOV1dKTtcbiAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KCkpKTtcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWUyKTtcbiAgfSkpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBmZXRjaENvbmZpZ3VyYXRvcihfeCwgX3gyKSB7XG4gICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKTtcblxudmFyIGlzVmFsaWRDb25mID0gZnVuY3Rpb24gaXNWYWxpZENvbmYobWF5YmVDb25mKSB7XG4gIHJldHVybiBtYXliZUNvbmYgJiYgbWF5YmVDb25mLnJlbW90ZUVudHJ5ICYmIHR5cGVvZiBtYXliZUNvbmYucmVtb3RlRW50cnkgPT09ICdzdHJpbmcnICYmIG1heWJlQ29uZi5zY29wZSAmJiB0eXBlb2YgbWF5YmVDb25mLnNjb3BlID09PSAnc3RyaW5nJyAmJiBtYXliZUNvbmYubW9kdWxlICYmIHR5cGVvZiBtYXliZUNvbmYubW9kdWxlID09PSAnc3RyaW5nJztcbn07XG5cbnZhciBtYXliZUdldEZlZGVyYXRlZENvbmZpZ3VyYXRvckZvckNvbm5lY3RvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIHZhciBfcmVmMyA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3J1bnRpbWVfMS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGNvbmZpZywgY29ubmVjdG9yKSB7XG4gICAgdmFyIG1heWJlQ29uZmlndXJhdGlvbjtcbiAgICByZXR1cm4gcnVudGltZV8xLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoZWQgZmVkZXJhdGVkIGNvbmZpZ3VyYXRvciByZW1vdGVzIGNvbmZpZ3VyYXRpb24nLCBjb25maWcpO1xuICAgICAgICAgICAgbWF5YmVDb25maWd1cmF0aW9uID0gY29uZmlnW2Nvbm5lY3Rvci5pZF07XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNhbmRpZGF0ZSBjb25maWd1cmF0aW9uIGZvciBcXFwiXCIgKyBjb25uZWN0b3IuaWQgKyBcIlxcXCJcIiwgbWF5YmVDb25maWd1cmF0aW9uKTtcblxuICAgICAgICAgICAgaWYgKG1heWJlQ29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvdWxkbid0IGZpbmQgYW55IGNvbmZpZ3VyYXRpb24gZm9yIHRoZSByZXF1ZXN0ZWQgY29ubmVjdG9yXCIpO1xuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwgUHJvbWlzZS5yZWplY3QoKSk7XG5cbiAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICBpZiAoIWlzVmFsaWRDb25mKG1heWJlQ29uZmlndXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZvdW5kIGEgZ2VuZXJpYyBjb25maWd1cmF0aW9uIGZvciB0aGUgY29ubmVjdG9yJywgbWF5YmVDb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIsIG1heWJlQ29uZmlndXJhdGlvbik7XG5cbiAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvdWxkbid0IGZpbmQgYSB2YWxpZCBjb25maWd1cmF0aW9uIGZvciB0aGUgcmVxdWVzdGVkIGNvbm5lY3RvclwiKTtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIsIFByb21pc2UucmVqZWN0KCkpO1xuXG4gICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWUzKTtcbiAgfSkpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBtYXliZUdldEZlZGVyYXRlZENvbmZpZ3VyYXRvckZvckNvbm5lY3RvcihfeDQsIF94NSkge1xuICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpO1xuXG52YXIgaW5qZWN0RmVkZXJhdGVkTW9kdWxlU2NyaXB0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWY0ID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcnVudGltZV8xLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQodXJsKSB7XG4gICAgcmV0dXJuIHJ1bnRpbWVfMS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHtcbiAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KFwicmV0dXJuXCIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgICAgICAgZWxlbWVudC5zcmMgPSB1cmw7XG4gICAgICAgICAgICAgIGVsZW1lbnQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuICAgICAgICAgICAgICBlbGVtZW50LmFzeW5jID0gdHJ1ZTtcblxuICAgICAgICAgICAgICBlbGVtZW50Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkR5bmFtaWMgZmVkZXJhdGVkIG1vZHVsZSBsb2FkZWQ6IFwiICsgdXJsKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBlbGVtZW50Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkR5bmFtaWMgZmVkZXJhdGVkIG1vZHVsZSBFcnJvcjogXCIgKyB1cmwpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRHluYW1pYyBmZWRlcmF0ZWQgbW9kdWxlIFJlbW92ZWQ6IFwiICsgdXJsKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlNCk7XG4gIH0pKTtcblxuICByZXR1cm4gZnVuY3Rpb24gaW5qZWN0RmVkZXJhdGVkTW9kdWxlU2NyaXB0KF94Nikge1xuICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpO1xuZnVuY3Rpb24gbG9hZEZlZGVyYXRlZENvbmZpZ3VyYXRvcihfeDcsIF94OCkge1xuICByZXR1cm4gX2xvYWRGZWRlcmF0ZWRDb25maWd1cmF0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2xvYWRGZWRlcmF0ZWRDb25maWd1cmF0b3IoKSB7XG4gIF9sb2FkRmVkZXJhdGVkQ29uZmlndXJhdG9yID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9ydW50aW1lXzEubWFyayhmdW5jdGlvbiBfY2FsbGVlNShzY29wZSwgbW9kdWxlKSB7XG4gICAgdmFyIGNvbnRhaW5lciwgZmFjdG9yeSwgZmVkZXJhdGVkQ29uZmlndXJhdGlvbkNvbmZpZztcbiAgICByZXR1cm4gcnVudGltZV8xLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkge1xuICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyO1xuICAgICAgICAgICAgcmV0dXJuIF9fd2VicGFja19pbml0X3NoYXJpbmdfXygnZGVmYXVsdCcpO1xuXG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY29udGFpbmVyID0gd2luZG93W3Njb3BlXTsgLy8gb3IgZ2V0IHRoZSBjb250YWluZXIgc29tZXdoZXJlIGVsc2VcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGNvbnRhaW5lciwgaXQgbWF5IHByb3ZpZGUgc2hhcmVkIG1vZHVsZXNcblxuICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1O1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5pbml0KF9fd2VicGFja19zaGFyZV9zY29wZXNfX1tcImRlZmF1bHRcIl0pO1xuXG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA3O1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvd1tzY29wZV0uZ2V0KG1vZHVsZSk7XG5cbiAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICBmYWN0b3J5ID0gX2NvbnRleHQ1LnNlbnQ7XG4gICAgICAgICAgICBmZWRlcmF0ZWRDb25maWd1cmF0aW9uQ29uZmlnID0gZmFjdG9yeSgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJsb2FkZWQgZmVkZXJhdGVkIGNvbmZpZ3VyYXRvciBjb25maWd1cmF0aW9uIGZyb20gXCIgKyBzY29wZSwgZmVkZXJhdGVkQ29uZmlndXJhdGlvbkNvbmZpZyk7XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcInJldHVyblwiLCBmZWRlcmF0ZWRDb25maWd1cmF0aW9uQ29uZmlnW1wiZGVmYXVsdFwiXSk7XG5cbiAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTUpO1xuICB9KSk7XG4gIHJldHVybiBfbG9hZEZlZGVyYXRlZENvbmZpZ3VyYXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG52YXIgQ29zVWlSb3V0ZXMgPSBmdW5jdGlvbiBDb3NVaVJvdXRlcyhfcmVmKSB7XG4gIHZhciBnZXRUb2tlbiA9IF9yZWYuZ2V0VG9rZW4sXG4gICAgICBhcGlCYXNlcGF0aCA9IF9yZWYuYXBpQmFzZXBhdGg7XG5cbiAgdmFyIF91c2VDb25maWcgPSB1c2VDb25maWcoKSxcbiAgICAgIGNvcyA9IF91c2VDb25maWcuY29zO1xuXG4gIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpO1xuXG4gIHZhciBnb1RvQ29ubmVjdG9yc0xpc3QgPSBmdW5jdGlvbiBnb1RvQ29ubmVjdG9yc0xpc3QoKSB7XG4gICAgcmV0dXJuIGhpc3RvcnkucHVzaCgnLycpO1xuICB9O1xuXG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEFwcENvbnRleHRQcm92aWRlciwge1xuICAgIGF1dGhUb2tlbjogZ2V0VG9rZW4sXG4gICAgYmFzZVBhdGg6IGFwaUJhc2VwYXRoXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU3dpdGNoLCBudWxsLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7XG4gICAgcGF0aDogJy8nLFxuICAgIGV4YWN0OiB0cnVlXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdGVkQ29ubmVjdG9yc1BhZ2UsIG51bGwpKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSb3V0ZSwge1xuICAgIHBhdGg6ICcvY3JlYXRlLWNvbm5lY3RvcidcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQYWdlU2VjdGlvbiwge1xuICAgIHBhZGRpbmc6IHtcbiAgICAgIFwiZGVmYXVsdFwiOiAnbm9QYWRkaW5nJ1xuICAgIH1cbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDcmVhdGlvbldpemFyZE1hY2hpbmVQcm92aWRlciwge1xuICAgIGFjY2Vzc1Rva2VuOiBnZXRUb2tlbixcbiAgICBiYXNlUGF0aDogYXBpQmFzZXBhdGgsXG4gICAgZmV0Y2hDb25maWd1cmF0b3I6IGZ1bmN0aW9uIGZldGNoQ29uZmlndXJhdG9yJDEoY29ubmVjdG9yKSB7XG4gICAgICByZXR1cm4gZmV0Y2hDb25maWd1cmF0b3IoY29ubmVjdG9yLCBjb3MuY29uZmlndXJhdG9ycyk7XG4gICAgfSxcbiAgICBvblNhdmU6IGdvVG9Db25uZWN0b3JzTGlzdFxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENyZWF0aW9uV2l6YXJkLCB7XG4gICAgb25DbG9zZTogZ29Ub0Nvbm5lY3RvcnNMaXN0XG4gIH0pKSkpKSk7XG59O1xuXG52YXIga2V5Y2xvYWskMTtcbnZhciBEZW1vQXBwID0gZnVuY3Rpb24gRGVtb0FwcCgpIHtcbiAgdmFyIF9rZXljbG9haztcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgaW5pdGlhbGl6ZWQgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRJbml0aWFsaXplZCA9IF91c2VTdGF0ZVsxXTsgLy8gSW5pdGlhbGl6ZSB0aGUgY2xpZW50XG5cblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciBpbml0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9ydW50aW1lXzEubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgICByZXR1cm4gcnVudGltZV8xLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEtleWNsb2FrSW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAga2V5Y2xvYWskMSA9IF9jb250ZXh0LnNlbnQ7XG4gICAgICAgICAgICAgICAgc2V0SW5pdGlhbGl6ZWQodHJ1ZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUpO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpO1xuXG4gICAgaW5pdCgpO1xuICB9LCBbXSk7XG4gIHZhciBjb25maWcgPSB7XG4gICAgY29zOiB7XG4gICAgICBhcGlCYXNlUGF0aDogcHJvY2Vzcy5lbnYuQkFTRV9QQVRILFxuICAgICAgY29uZmlndXJhdG9yczoge1xuICAgICAgICAnZGViZXppdW0tbW9uZ29kYi0xLjUuMC5GaW5hbCc6IHtcbiAgICAgICAgICByZW1vdGVFbnRyeTogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODg4OC9kYnotY29ubmVjdG9yLWNvbmZpZ3VyYXRvci5yZW1vdGVFbnRyeS5qcycsXG4gICAgICAgICAgc2NvcGU6ICdkZWJleml1bV91aScsXG4gICAgICAgICAgbW9kdWxlOiAnLi9jb25maWcnXG4gICAgICAgIH0sXG4gICAgICAgICdkZWJleml1bS1teXNxbC0xLjUuMC5GaW5hbCc6IHtcbiAgICAgICAgICByZW1vdGVFbnRyeTogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODg4OC9kYnotY29ubmVjdG9yLWNvbmZpZ3VyYXRvci5yZW1vdGVFbnRyeS5qcycsXG4gICAgICAgICAgc2NvcGU6ICdkZWJleml1bV91aScsXG4gICAgICAgICAgbW9kdWxlOiAnLi9jb25maWcnXG4gICAgICAgIH0sXG4gICAgICAgICdkZWJleml1bS1wb3N0Z3Jlcy0xLjUuMC5GaW5hbCc6IHtcbiAgICAgICAgICByZW1vdGVFbnRyeTogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODg4OC9kYnotY29ubmVjdG9yLWNvbmZpZ3VyYXRvci5yZW1vdGVFbnRyeS5qcycsXG4gICAgICAgICAgc2NvcGU6ICdkZWJleml1bV91aScsXG4gICAgICAgICAgbW9kdWxlOiAnLi9jb25maWcnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEtleWNsb2FrQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB7XG4gICAgICBrZXljbG9hazoga2V5Y2xvYWskMSxcbiAgICAgIHByb2ZpbGU6IChfa2V5Y2xvYWsgPSBrZXljbG9hayQxKSA9PSBudWxsID8gdm9pZCAwIDogX2tleWNsb2FrLnByb2ZpbGVcbiAgICB9XG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoS2V5Y2xvYWtBdXRoUHJvdmlkZXIsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29uZmlnQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBjb25maWdcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChJMThuZXh0UHJvdmlkZXIsIHtcbiAgICBpMThuOiBpMThuXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuU3VzcGVuc2UsIHtcbiAgICBmYWxsYmFjazogUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChMb2FkaW5nLCBudWxsKVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJyb3dzZXJSb3V0ZXIsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQXBwTGF5b3V0LCBudWxsLCBpbml0aWFsaXplZCA/IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdGVkUm91dGVzLCBudWxsKSA6IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU3Bpbm5lciwgbnVsbCkpKSkpKSkpO1xufTtcblxudmFyIENvbm5lY3RlZFJvdXRlcyA9IGZ1bmN0aW9uIENvbm5lY3RlZFJvdXRlcygpIHtcbiAgdmFyIGF1dGggPSB1c2VBdXRoKCk7XG5cbiAgdmFyIF91c2VDb25maWcgPSB1c2VDb25maWcoKSxcbiAgICAgIGNvcyA9IF91c2VDb25maWcuY29zO1xuXG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvc1VpUm91dGVzLCB7XG4gICAgZ2V0VG9rZW46IGF1dGgua2FzLmdldFRva2VuLFxuICAgIGFwaUJhc2VwYXRoOiBjb3MuYXBpQmFzZVBhdGhcbiAgfSk7XG59O1xuXG52YXIgRmVkZXJhdGVkQXBwID0gZnVuY3Rpb24gRmVkZXJhdGVkQXBwKCkge1xuICB2YXIgX3VzZUNvbmZpZyA9IHVzZUNvbmZpZygpLFxuICAgICAgY29zID0gX3VzZUNvbmZpZy5jb3M7XG5cbiAgdmFyIF91c2VBdXRoID0gdXNlQXV0aCgpLFxuICAgICAga2FzID0gX3VzZUF1dGgua2FzO1xuXG4gIHZhciBfdXNlQmFzZW5hbWUgPSB1c2VCYXNlbmFtZSgpLFxuICAgICAgZ2V0QmFzZW5hbWUgPSBfdXNlQmFzZW5hbWUuZ2V0QmFzZW5hbWU7XG5cbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoSTE4bmV4dFByb3ZpZGVyLCB7XG4gICAgaTE4bjogaTE4blxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LlN1c3BlbnNlLCB7XG4gICAgZmFsbGJhY2s6IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZywgbnVsbClcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCcm93c2VyUm91dGVyLCB7XG4gICAgYmFzZW5hbWU6IGdldEJhc2VuYW1lKClcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb3NVaVJvdXRlcywge1xuICAgIGdldFRva2VuOiBrYXMuZ2V0VG9rZW4sXG4gICAgYXBpQmFzZXBhdGg6IGNvcy5hcGlCYXNlUGF0aFxuICB9KSkpKTtcbn07XG5cbmV4cG9ydCB7IERlbW9BcHAsIEZlZGVyYXRlZEFwcCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IEZlZGVyYXRlZEFwcCB9IGZyb20gJ0Bjb3MtdWkvYXBwJztcblxuZXhwb3J0IGRlZmF1bHQgRmVkZXJhdGVkQXBwO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///71487\n')},31100:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SecurityApi = exports.SecurityApiFactory = exports.SecurityApiFp = exports.SecurityApiAxiosParamCreator = exports.DefaultApi = exports.DefaultApiFactory = exports.DefaultApiFp = exports.DefaultApiAxiosParamCreator = exports.ConnectorsApi = exports.ConnectorsApiFactory = exports.ConnectorsApiFp = exports.ConnectorsApiAxiosParamCreator = exports.ConnectorTypesApi = exports.ConnectorTypesApiFactory = exports.ConnectorTypesApiFp = exports.ConnectorTypesApiAxiosParamCreator = exports.ConnectorClustersApi = exports.ConnectorClustersApiFactory = exports.ConnectorClustersApiFp = exports.ConnectorClustersApiAxiosParamCreator = exports.ConnectorTypeAllOfLabelsEnum = exports.ConnectorTypeLabelsEnum = void 0;\nconst axios_1 = __webpack_require__(40107);\n// Some imports not used depending on template conditions\n// @ts-ignore\nconst common_1 = __webpack_require__(98691);\n// @ts-ignore\nconst base_1 = __webpack_require__(50778);\n/**\n    * @export\n    * @enum {string}\n    */\nvar ConnectorTypeLabelsEnum;\n(function (ConnectorTypeLabelsEnum) {\n    ConnectorTypeLabelsEnum[\"Sink\"] = \"sink\";\n    ConnectorTypeLabelsEnum[\"Source\"] = \"source\";\n})(ConnectorTypeLabelsEnum = exports.ConnectorTypeLabelsEnum || (exports.ConnectorTypeLabelsEnum = {}));\n/**\n    * @export\n    * @enum {string}\n    */\nvar ConnectorTypeAllOfLabelsEnum;\n(function (ConnectorTypeAllOfLabelsEnum) {\n    ConnectorTypeAllOfLabelsEnum[\"Sink\"] = \"sink\";\n    ConnectorTypeAllOfLabelsEnum[\"Source\"] = \"source\";\n})(ConnectorTypeAllOfLabelsEnum = exports.ConnectorTypeAllOfLabelsEnum || (exports.ConnectorTypeAllOfLabelsEnum = {}));\n/**\n * ConnectorClustersApi - axios parameter creator\n * @export\n */\nconst ConnectorClustersApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Create a new connector cluster\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {ConnectorCluster} connectorCluster Connector cluster data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnectorCluster: (async, connectorCluster, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'async' is not null or undefined\n            common_1.assertParamExists('createConnectorCluster', 'async', async);\n            // verify required parameter 'connectorCluster' is not null or undefined\n            common_1.assertParamExists('createConnectorCluster', 'connectorCluster', connectorCluster);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (async !== undefined) {\n                localVarQueryParameter['async'] = async;\n            }\n            localVarHeaderParameter['Content-Type'] = 'application/json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(connectorCluster, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Delete a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnectorCluster: (connectorClusterId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorClusterId' is not null or undefined\n            common_1.assertParamExists('deleteConnectorCluster', 'connectorClusterId', connectorClusterId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters/{connector_cluster_id}`\n                .replace(`{${\"connector_cluster_id\"}}`, encodeURIComponent(String(connectorClusterId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'DELETE' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Get a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorCluster: (connectorClusterId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorClusterId' is not null or undefined\n            common_1.assertParamExists('getConnectorCluster', 'connectorClusterId', connectorClusterId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters/{connector_cluster_id}`\n                .replace(`{${\"connector_cluster_id\"}}`, encodeURIComponent(String(connectorClusterId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Get a connector cluster\\'s addon parameters\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorClusterAddonParameters: (connectorClusterId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorClusterId' is not null or undefined\n            common_1.assertParamExists('getConnectorClusterAddonParameters', 'connectorClusterId', connectorClusterId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters/{connector_cluster_id}/addon_parameters`\n                .replace(`{${\"connector_cluster_id\"}}`, encodeURIComponent(String(connectorClusterId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of connector clusters\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorClusters: (page, size, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_clusters`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.ConnectorClustersApiAxiosParamCreator = ConnectorClustersApiAxiosParamCreator;\n/**\n * ConnectorClustersApi - functional programming interface\n * @export\n */\nconst ConnectorClustersApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.ConnectorClustersApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Create a new connector cluster\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {ConnectorCluster} connectorCluster Connector cluster data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnectorCluster(async, connectorCluster, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.createConnectorCluster(async, connectorCluster, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Delete a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnectorCluster(connectorClusterId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteConnectorCluster(connectorClusterId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Get a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorCluster(connectorClusterId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getConnectorCluster(connectorClusterId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Get a connector cluster\\'s addon parameters\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorClusterAddonParameters(connectorClusterId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getConnectorClusterAddonParameters(connectorClusterId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of connector clusters\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorClusters(page, size, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.listConnectorClusters(page, size, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.ConnectorClustersApiFp = ConnectorClustersApiFp;\n/**\n * ConnectorClustersApi - factory interface\n * @export\n */\nconst ConnectorClustersApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.ConnectorClustersApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Create a new connector cluster\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {ConnectorCluster} connectorCluster Connector cluster data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnectorCluster(async, connectorCluster, options) {\n            return localVarFp.createConnectorCluster(async, connectorCluster, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Delete a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnectorCluster(connectorClusterId, options) {\n            return localVarFp.deleteConnectorCluster(connectorClusterId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Get a connector cluster\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorCluster(connectorClusterId, options) {\n            return localVarFp.getConnectorCluster(connectorClusterId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Get a connector cluster\\'s addon parameters\n         * @param {string} connectorClusterId The id of the connector cluster\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorClusterAddonParameters(connectorClusterId, options) {\n            return localVarFp.getConnectorClusterAddonParameters(connectorClusterId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of connector clusters\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorClusters(page, size, options) {\n            return localVarFp.listConnectorClusters(page, size, options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.ConnectorClustersApiFactory = ConnectorClustersApiFactory;\n/**\n * ConnectorClustersApi - object-oriented interface\n * @export\n * @class ConnectorClustersApi\n * @extends {BaseAPI}\n */\nclass ConnectorClustersApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Create a new connector cluster\n     * @param {boolean} async Perform the action in an asynchronous manner\n     * @param {ConnectorCluster} connectorCluster Connector cluster data\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    createConnectorCluster(async, connectorCluster, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).createConnectorCluster(async, connectorCluster, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Delete a connector cluster\n     * @param {string} connectorClusterId The id of the connector cluster\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    deleteConnectorCluster(connectorClusterId, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).deleteConnectorCluster(connectorClusterId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Get a connector cluster\n     * @param {string} connectorClusterId The id of the connector cluster\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    getConnectorCluster(connectorClusterId, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).getConnectorCluster(connectorClusterId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Get a connector cluster\\'s addon parameters\n     * @param {string} connectorClusterId The id of the connector cluster\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    getConnectorClusterAddonParameters(connectorClusterId, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).getConnectorClusterAddonParameters(connectorClusterId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of connector clusters\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorClustersApi\n     */\n    listConnectorClusters(page, size, options) {\n        return exports.ConnectorClustersApiFp(this.configuration).listConnectorClusters(page, size, options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.ConnectorClustersApi = ConnectorClustersApi;\n/**\n * ConnectorTypesApi - axios parameter creator\n * @export\n */\nconst ConnectorTypesApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Get a connector type by id\n         * @param {string} connectorTypeId The id of the connector type\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorTypeByID: (connectorTypeId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorTypeId' is not null or undefined\n            common_1.assertParamExists('getConnectorTypeByID', 'connectorTypeId', connectorTypeId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_types/{connector_type_id}`\n                .replace(`{${\"connector_type_id\"}}`, encodeURIComponent(String(connectorTypeId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorTypes: (page, size, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connector_types`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.ConnectorTypesApiAxiosParamCreator = ConnectorTypesApiAxiosParamCreator;\n/**\n * ConnectorTypesApi - functional programming interface\n * @export\n */\nconst ConnectorTypesApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.ConnectorTypesApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Get a connector type by id\n         * @param {string} connectorTypeId The id of the connector type\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorTypeByID(connectorTypeId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getConnectorTypeByID(connectorTypeId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorTypes(page, size, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.listConnectorTypes(page, size, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.ConnectorTypesApiFp = ConnectorTypesApiFp;\n/**\n * ConnectorTypesApi - factory interface\n * @export\n */\nconst ConnectorTypesApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.ConnectorTypesApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Get a connector type by id\n         * @param {string} connectorTypeId The id of the connector type\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnectorTypeByID(connectorTypeId, options) {\n            return localVarFp.getConnectorTypeByID(connectorTypeId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectorTypes(page, size, options) {\n            return localVarFp.listConnectorTypes(page, size, options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.ConnectorTypesApiFactory = ConnectorTypesApiFactory;\n/**\n * ConnectorTypesApi - object-oriented interface\n * @export\n * @class ConnectorTypesApi\n * @extends {BaseAPI}\n */\nclass ConnectorTypesApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Get a connector type by id\n     * @param {string} connectorTypeId The id of the connector type\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorTypesApi\n     */\n    getConnectorTypeByID(connectorTypeId, options) {\n        return exports.ConnectorTypesApiFp(this.configuration).getConnectorTypeByID(connectorTypeId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of connector types\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorTypesApi\n     */\n    listConnectorTypes(page, size, options) {\n        return exports.ConnectorTypesApiFp(this.configuration).listConnectorTypes(page, size, options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.ConnectorTypesApi = ConnectorTypesApi;\n/**\n * ConnectorsApi - axios parameter creator\n * @export\n */\nconst ConnectorsApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Create a new connector\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {Connector} connector Connector data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnector: (async, connector, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'async' is not null or undefined\n            common_1.assertParamExists('createConnector', 'async', async);\n            // verify required parameter 'connector' is not null or undefined\n            common_1.assertParamExists('createConnector', 'connector', connector);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (async !== undefined) {\n                localVarQueryParameter['async'] = async;\n            }\n            localVarHeaderParameter['Content-Type'] = 'application/json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(connector, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Delete a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnector: (connectorId, kafkaId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorId' is not null or undefined\n            common_1.assertParamExists('deleteConnector', 'connectorId', connectorId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors/{connector_id}`\n                .replace(`{${\"connector_id\"}}`, encodeURIComponent(String(connectorId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'DELETE' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (kafkaId !== undefined) {\n                localVarQueryParameter['kafka_id'] = kafkaId;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Get a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnector: (connectorId, kafkaId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorId' is not null or undefined\n            common_1.assertParamExists('getConnector', 'connectorId', connectorId);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors/{connector_id}`\n                .replace(`{${\"connector_id\"}}`, encodeURIComponent(String(connectorId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (kafkaId !== undefined) {\n                localVarQueryParameter['kafka_id'] = kafkaId;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectors: (page, size, kafkaId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            if (kafkaId !== undefined) {\n                localVarQueryParameter['kafka_id'] = kafkaId;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary patch a connector\n         * @param {string} connectorId The id of the connector\n         * @param {object} body Data to patch the connector with\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        patchConnector: (connectorId, body, kafkaId, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'connectorId' is not null or undefined\n            common_1.assertParamExists('patchConnector', 'connectorId', connectorId);\n            // verify required parameter 'body' is not null or undefined\n            common_1.assertParamExists('patchConnector', 'body', body);\n            const localVarPath = `/api/connector_mgmt/v1/kafka_connectors/{connector_id}`\n                .replace(`{${\"connector_id\"}}`, encodeURIComponent(String(connectorId)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'PATCH' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (kafkaId !== undefined) {\n                localVarQueryParameter['kafka_id'] = kafkaId;\n            }\n            localVarHeaderParameter['Content-Type'] = 'application/json-patch+json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(body, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.ConnectorsApiAxiosParamCreator = ConnectorsApiAxiosParamCreator;\n/**\n * ConnectorsApi - functional programming interface\n * @export\n */\nconst ConnectorsApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.ConnectorsApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Create a new connector\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {Connector} connector Connector data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnector(async, connector, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.createConnector(async, connector, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Delete a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnector(connectorId, kafkaId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteConnector(connectorId, kafkaId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Get a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnector(connectorId, kafkaId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getConnector(connectorId, kafkaId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectors(page, size, kafkaId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.listConnectors(page, size, kafkaId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary patch a connector\n         * @param {string} connectorId The id of the connector\n         * @param {object} body Data to patch the connector with\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        patchConnector(connectorId, body, kafkaId, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.patchConnector(connectorId, body, kafkaId, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.ConnectorsApiFp = ConnectorsApiFp;\n/**\n * ConnectorsApi - factory interface\n * @export\n */\nconst ConnectorsApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.ConnectorsApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Create a new connector\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {Connector} connector Connector data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createConnector(async, connector, options) {\n            return localVarFp.createConnector(async, connector, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Delete a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteConnector(connectorId, kafkaId, options) {\n            return localVarFp.deleteConnector(connectorId, kafkaId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Get a connector\n         * @param {string} connectorId The id of the connector\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getConnector(connectorId, kafkaId, options) {\n            return localVarFp.getConnector(connectorId, kafkaId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of connector types\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        listConnectors(page, size, kafkaId, options) {\n            return localVarFp.listConnectors(page, size, kafkaId, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary patch a connector\n         * @param {string} connectorId The id of the connector\n         * @param {object} body Data to patch the connector with\n         * @param {string} [kafkaId] The kafka cluster id\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        patchConnector(connectorId, body, kafkaId, options) {\n            return localVarFp.patchConnector(connectorId, body, kafkaId, options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.ConnectorsApiFactory = ConnectorsApiFactory;\n/**\n * ConnectorsApi - object-oriented interface\n * @export\n * @class ConnectorsApi\n * @extends {BaseAPI}\n */\nclass ConnectorsApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Create a new connector\n     * @param {boolean} async Perform the action in an asynchronous manner\n     * @param {Connector} connector Connector data\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    createConnector(async, connector, options) {\n        return exports.ConnectorsApiFp(this.configuration).createConnector(async, connector, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Delete a connector\n     * @param {string} connectorId The id of the connector\n     * @param {string} [kafkaId] The kafka cluster id\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    deleteConnector(connectorId, kafkaId, options) {\n        return exports.ConnectorsApiFp(this.configuration).deleteConnector(connectorId, kafkaId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Get a connector\n     * @param {string} connectorId The id of the connector\n     * @param {string} [kafkaId] The kafka cluster id\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    getConnector(connectorId, kafkaId, options) {\n        return exports.ConnectorsApiFp(this.configuration).getConnector(connectorId, kafkaId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of connector types\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {string} [kafkaId] The kafka cluster id\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    listConnectors(page, size, kafkaId, options) {\n        return exports.ConnectorsApiFp(this.configuration).listConnectors(page, size, kafkaId, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary patch a connector\n     * @param {string} connectorId The id of the connector\n     * @param {object} body Data to patch the connector with\n     * @param {string} [kafkaId] The kafka cluster id\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof ConnectorsApi\n     */\n    patchConnector(connectorId, body, kafkaId, options) {\n        return exports.ConnectorsApiFp(this.configuration).patchConnector(connectorId, body, kafkaId, options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.ConnectorsApi = ConnectorsApi;\n/**\n * DefaultApi - axios parameter creator\n * @export\n */\nconst DefaultApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Creates a Kafka request\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {KafkaRequestPayload} kafkaRequestPayload Kafka data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createKafka: (async, kafkaRequestPayload, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'async' is not null or undefined\n            common_1.assertParamExists('createKafka', 'async', async);\n            // verify required parameter 'kafkaRequestPayload' is not null or undefined\n            common_1.assertParamExists('createKafka', 'kafkaRequestPayload', kafkaRequestPayload);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (async !== undefined) {\n                localVarQueryParameter['async'] = async;\n            }\n            localVarHeaderParameter['Content-Type'] = 'application/json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(kafkaRequestPayload, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Deletes a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteKafkaById: (id, async, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('deleteKafkaById', 'id', id);\n            // verify required parameter 'async' is not null or undefined\n            common_1.assertParamExists('deleteKafkaById', 'async', async);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas/{id}`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'DELETE' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (async !== undefined) {\n                localVarQueryParameter['async'] = async;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns the list of supported regions of the supported cloud provider\n         * @param {string} id The ID of record\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviderRegions: (id, page, size, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getCloudProviderRegions', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/cloud_providers/{id}/regions`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns the list of supported cloud providers\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviders: (page, size, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1/cloud_providers`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkaById: (id, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getKafkaById', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas/{id}`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of Kafka requests\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [orderBy] Specifies the order by criteria. The syntax of this parameter is similar to the syntax of the &#x60;order by&#x60; clause of an SQL statement. Each query can be ordered by any of the &#x60;kafkaRequests&#x60; fields. For example, to return all Kafka instances ordered by their name, use the following syntax:  &#x60;&#x60;&#x60;sql name asc &#x60;&#x60;&#x60;  To return all Kafka instances ordered by their name _and_ created date, use the following syntax:  &#x60;&#x60;&#x60;sql name asc, created_at asc &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then the results are ordered by name.\n         * @param {string} [search] Search criteria.  The syntax of this parameter is similar to the syntax of the &#x60;where&#x60; clause of an SQL statement. Allowed fields in the search are &#x60;cloud_provider&#x60;, &#x60;name&#x60;, &#x60;owner&#x60;, &#x60;region&#x60;, and &#x60;status&#x60;. Allowed comparators are &#x60;&lt;&gt;&#x60;, &#x60;&#x3D;&#x60;, or &#x60;LIKE&#x60;. Allowed joins are &#x60;AND&#x60; and &#x60;OR&#x60;. However, you can use a maximum of 10 joins in a search query.  Examples:  To return a Kafka instance with the name &#x60;my-kafka&#x60; and the region &#x60;aws&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name &#x3D; my-kafka and cloud_provider &#x3D; aws &#x60;&#x60;&#x60;[p-]  To return a Kafka instance with a name that starts with &#x60;my&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name like my%25 &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then all the Kafka instances that the user has permission to see are returned.  Note. If the query is invalid, an error is returned.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkas: (page, size, orderBy, search, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (page !== undefined) {\n                localVarQueryParameter['page'] = page;\n            }\n            if (size !== undefined) {\n                localVarQueryParameter['size'] = size;\n            }\n            if (orderBy !== undefined) {\n                localVarQueryParameter['orderBy'] = orderBy;\n            }\n            if (search !== undefined) {\n                localVarQueryParameter['search'] = search;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns metrics with instant query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByInstantQuery: (id, filters, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getMetricsByInstantQuery', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas/{id}/metrics/query`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (filters) {\n                localVarQueryParameter['filters'] = filters;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns metrics with timeseries range query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {number} duration The length of time in minutes for which to return the metrics\n         * @param {number} interval The interval in seconds between data points\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByRangeQuery: (id, duration, interval, filters, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getMetricsByRangeQuery', 'id', id);\n            // verify required parameter 'duration' is not null or undefined\n            common_1.assertParamExists('getMetricsByRangeQuery', 'duration', duration);\n            // verify required parameter 'interval' is not null or undefined\n            common_1.assertParamExists('getMetricsByRangeQuery', 'interval', interval);\n            const localVarPath = `/api/kafkas_mgmt/v1/kafkas/{id}/metrics/query_range`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            if (duration !== undefined) {\n                localVarQueryParameter['duration'] = duration;\n            }\n            if (interval !== undefined) {\n                localVarQueryParameter['interval'] = interval;\n            }\n            if (filters) {\n                localVarQueryParameter['filters'] = filters;\n            }\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns the status of resources, such as whether maximum service capacity has been reached\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceStatus: (options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1/status`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns the version metadata\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getVersionMetadata: (options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.DefaultApiAxiosParamCreator = DefaultApiAxiosParamCreator;\n/**\n * DefaultApi - functional programming interface\n * @export\n */\nconst DefaultApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.DefaultApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Creates a Kafka request\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {KafkaRequestPayload} kafkaRequestPayload Kafka data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createKafka(async, kafkaRequestPayload, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.createKafka(async, kafkaRequestPayload, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Deletes a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteKafkaById(id, async, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteKafkaById(id, async, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns the list of supported regions of the supported cloud provider\n         * @param {string} id The ID of record\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviderRegions(id, page, size, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getCloudProviderRegions(id, page, size, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns the list of supported cloud providers\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviders(page, size, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getCloudProviders(page, size, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkaById(id, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getKafkaById(id, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of Kafka requests\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [orderBy] Specifies the order by criteria. The syntax of this parameter is similar to the syntax of the &#x60;order by&#x60; clause of an SQL statement. Each query can be ordered by any of the &#x60;kafkaRequests&#x60; fields. For example, to return all Kafka instances ordered by their name, use the following syntax:  &#x60;&#x60;&#x60;sql name asc &#x60;&#x60;&#x60;  To return all Kafka instances ordered by their name _and_ created date, use the following syntax:  &#x60;&#x60;&#x60;sql name asc, created_at asc &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then the results are ordered by name.\n         * @param {string} [search] Search criteria.  The syntax of this parameter is similar to the syntax of the &#x60;where&#x60; clause of an SQL statement. Allowed fields in the search are &#x60;cloud_provider&#x60;, &#x60;name&#x60;, &#x60;owner&#x60;, &#x60;region&#x60;, and &#x60;status&#x60;. Allowed comparators are &#x60;&lt;&gt;&#x60;, &#x60;&#x3D;&#x60;, or &#x60;LIKE&#x60;. Allowed joins are &#x60;AND&#x60; and &#x60;OR&#x60;. However, you can use a maximum of 10 joins in a search query.  Examples:  To return a Kafka instance with the name &#x60;my-kafka&#x60; and the region &#x60;aws&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name &#x3D; my-kafka and cloud_provider &#x3D; aws &#x60;&#x60;&#x60;[p-]  To return a Kafka instance with a name that starts with &#x60;my&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name like my%25 &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then all the Kafka instances that the user has permission to see are returned.  Note. If the query is invalid, an error is returned.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkas(page, size, orderBy, search, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getKafkas(page, size, orderBy, search, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns metrics with instant query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByInstantQuery(id, filters, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getMetricsByInstantQuery(id, filters, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns metrics with timeseries range query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {number} duration The length of time in minutes for which to return the metrics\n         * @param {number} interval The interval in seconds between data points\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByRangeQuery(id, duration, interval, filters, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getMetricsByRangeQuery(id, duration, interval, filters, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns the status of resources, such as whether maximum service capacity has been reached\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceStatus(options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getServiceStatus(options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns the version metadata\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getVersionMetadata(options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getVersionMetadata(options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.DefaultApiFp = DefaultApiFp;\n/**\n * DefaultApi - factory interface\n * @export\n */\nconst DefaultApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.DefaultApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Creates a Kafka request\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {KafkaRequestPayload} kafkaRequestPayload Kafka data\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createKafka(async, kafkaRequestPayload, options) {\n            return localVarFp.createKafka(async, kafkaRequestPayload, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Deletes a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {boolean} async Perform the action in an asynchronous manner\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteKafkaById(id, async, options) {\n            return localVarFp.deleteKafkaById(id, async, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns the list of supported regions of the supported cloud provider\n         * @param {string} id The ID of record\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviderRegions(id, page, size, options) {\n            return localVarFp.getCloudProviderRegions(id, page, size, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns the list of supported cloud providers\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getCloudProviders(page, size, options) {\n            return localVarFp.getCloudProviders(page, size, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a Kafka request by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkaById(id, options) {\n            return localVarFp.getKafkaById(id, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of Kafka requests\n         * @param {string} [page] Page index\n         * @param {string} [size] Number of items in each page\n         * @param {string} [orderBy] Specifies the order by criteria. The syntax of this parameter is similar to the syntax of the &#x60;order by&#x60; clause of an SQL statement. Each query can be ordered by any of the &#x60;kafkaRequests&#x60; fields. For example, to return all Kafka instances ordered by their name, use the following syntax:  &#x60;&#x60;&#x60;sql name asc &#x60;&#x60;&#x60;  To return all Kafka instances ordered by their name _and_ created date, use the following syntax:  &#x60;&#x60;&#x60;sql name asc, created_at asc &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then the results are ordered by name.\n         * @param {string} [search] Search criteria.  The syntax of this parameter is similar to the syntax of the &#x60;where&#x60; clause of an SQL statement. Allowed fields in the search are &#x60;cloud_provider&#x60;, &#x60;name&#x60;, &#x60;owner&#x60;, &#x60;region&#x60;, and &#x60;status&#x60;. Allowed comparators are &#x60;&lt;&gt;&#x60;, &#x60;&#x3D;&#x60;, or &#x60;LIKE&#x60;. Allowed joins are &#x60;AND&#x60; and &#x60;OR&#x60;. However, you can use a maximum of 10 joins in a search query.  Examples:  To return a Kafka instance with the name &#x60;my-kafka&#x60; and the region &#x60;aws&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name &#x3D; my-kafka and cloud_provider &#x3D; aws &#x60;&#x60;&#x60;[p-]  To return a Kafka instance with a name that starts with &#x60;my&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name like my%25 &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then all the Kafka instances that the user has permission to see are returned.  Note. If the query is invalid, an error is returned.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getKafkas(page, size, orderBy, search, options) {\n            return localVarFp.getKafkas(page, size, orderBy, search, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns metrics with instant query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByInstantQuery(id, filters, options) {\n            return localVarFp.getMetricsByInstantQuery(id, filters, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns metrics with timeseries range query by Kafka ID\n         * @param {string} id The ID of record\n         * @param {number} duration The length of time in minutes for which to return the metrics\n         * @param {number} interval The interval in seconds between data points\n         * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getMetricsByRangeQuery(id, duration, interval, filters, options) {\n            return localVarFp.getMetricsByRangeQuery(id, duration, interval, filters, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns the status of resources, such as whether maximum service capacity has been reached\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceStatus(options) {\n            return localVarFp.getServiceStatus(options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns the version metadata\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getVersionMetadata(options) {\n            return localVarFp.getVersionMetadata(options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.DefaultApiFactory = DefaultApiFactory;\n/**\n * DefaultApi - object-oriented interface\n * @export\n * @class DefaultApi\n * @extends {BaseAPI}\n */\nclass DefaultApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Creates a Kafka request\n     * @param {boolean} async Perform the action in an asynchronous manner\n     * @param {KafkaRequestPayload} kafkaRequestPayload Kafka data\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    createKafka(async, kafkaRequestPayload, options) {\n        return exports.DefaultApiFp(this.configuration).createKafka(async, kafkaRequestPayload, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Deletes a Kafka request by ID\n     * @param {string} id The ID of record\n     * @param {boolean} async Perform the action in an asynchronous manner\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    deleteKafkaById(id, async, options) {\n        return exports.DefaultApiFp(this.configuration).deleteKafkaById(id, async, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns the list of supported regions of the supported cloud provider\n     * @param {string} id The ID of record\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getCloudProviderRegions(id, page, size, options) {\n        return exports.DefaultApiFp(this.configuration).getCloudProviderRegions(id, page, size, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns the list of supported cloud providers\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getCloudProviders(page, size, options) {\n        return exports.DefaultApiFp(this.configuration).getCloudProviders(page, size, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a Kafka request by ID\n     * @param {string} id The ID of record\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getKafkaById(id, options) {\n        return exports.DefaultApiFp(this.configuration).getKafkaById(id, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of Kafka requests\n     * @param {string} [page] Page index\n     * @param {string} [size] Number of items in each page\n     * @param {string} [orderBy] Specifies the order by criteria. The syntax of this parameter is similar to the syntax of the &#x60;order by&#x60; clause of an SQL statement. Each query can be ordered by any of the &#x60;kafkaRequests&#x60; fields. For example, to return all Kafka instances ordered by their name, use the following syntax:  &#x60;&#x60;&#x60;sql name asc &#x60;&#x60;&#x60;  To return all Kafka instances ordered by their name _and_ created date, use the following syntax:  &#x60;&#x60;&#x60;sql name asc, created_at asc &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then the results are ordered by name.\n     * @param {string} [search] Search criteria.  The syntax of this parameter is similar to the syntax of the &#x60;where&#x60; clause of an SQL statement. Allowed fields in the search are &#x60;cloud_provider&#x60;, &#x60;name&#x60;, &#x60;owner&#x60;, &#x60;region&#x60;, and &#x60;status&#x60;. Allowed comparators are &#x60;&lt;&gt;&#x60;, &#x60;&#x3D;&#x60;, or &#x60;LIKE&#x60;. Allowed joins are &#x60;AND&#x60; and &#x60;OR&#x60;. However, you can use a maximum of 10 joins in a search query.  Examples:  To return a Kafka instance with the name &#x60;my-kafka&#x60; and the region &#x60;aws&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name &#x3D; my-kafka and cloud_provider &#x3D; aws &#x60;&#x60;&#x60;[p-]  To return a Kafka instance with a name that starts with &#x60;my&#x60;, use the following syntax:  &#x60;&#x60;&#x60; name like my%25 &#x60;&#x60;&#x60;  If the parameter isn\\&#39;t provided, or if the value is empty, then all the Kafka instances that the user has permission to see are returned.  Note. If the query is invalid, an error is returned.\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getKafkas(page, size, orderBy, search, options) {\n        return exports.DefaultApiFp(this.configuration).getKafkas(page, size, orderBy, search, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns metrics with instant query by Kafka ID\n     * @param {string} id The ID of record\n     * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getMetricsByInstantQuery(id, filters, options) {\n        return exports.DefaultApiFp(this.configuration).getMetricsByInstantQuery(id, filters, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns metrics with timeseries range query by Kafka ID\n     * @param {string} id The ID of record\n     * @param {number} duration The length of time in minutes for which to return the metrics\n     * @param {number} interval The interval in seconds between data points\n     * @param {Array<string>} [filters] List of metrics to fetch. Fetch all metrics when empty. List entries are Kafka internal metric names.\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getMetricsByRangeQuery(id, duration, interval, filters, options) {\n        return exports.DefaultApiFp(this.configuration).getMetricsByRangeQuery(id, duration, interval, filters, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns the status of resources, such as whether maximum service capacity has been reached\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getServiceStatus(options) {\n        return exports.DefaultApiFp(this.configuration).getServiceStatus(options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns the version metadata\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof DefaultApi\n     */\n    getVersionMetadata(options) {\n        return exports.DefaultApiFp(this.configuration).getVersionMetadata(options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.DefaultApi = DefaultApi;\n/**\n * SecurityApi - axios parameter creator\n * @export\n */\nconst SecurityApiAxiosParamCreator = function (configuration) {\n    return {\n        /**\n         *\n         * @summary Creates a service account\n         * @param {ServiceAccountRequest} serviceAccountRequest Service account request\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createServiceAccount: (serviceAccountRequest, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'serviceAccountRequest' is not null or undefined\n            common_1.assertParamExists('createServiceAccount', 'serviceAccountRequest', serviceAccountRequest);\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            localVarHeaderParameter['Content-Type'] = 'application/json';\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            localVarRequestOptions.data = common_1.serializeDataIfNeeded(serviceAccountRequest, localVarRequestOptions, configuration);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Deletes a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteServiceAccountById: (id, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('deleteServiceAccountById', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts/{id}`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'DELETE' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returned service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccountById: (id, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('getServiceAccountById', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts/{id}`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Returns a list of service accounts\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccounts: (options = {}) => __awaiter(this, void 0, void 0, function* () {\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts`;\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'GET' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n        /**\n         *\n         * @summary Resets the credentials for a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        resetServiceAccountCreds: (id, options = {}) => __awaiter(this, void 0, void 0, function* () {\n            // verify required parameter 'id' is not null or undefined\n            common_1.assertParamExists('resetServiceAccountCreds', 'id', id);\n            const localVarPath = `/api/kafkas_mgmt/v1/service_accounts/{id}/reset_credentials`\n                .replace(`{${\"id\"}}`, encodeURIComponent(String(id)));\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\n            const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);\n            let baseOptions;\n            if (configuration) {\n                baseOptions = configuration.baseOptions;\n            }\n            const localVarRequestOptions = Object.assign(Object.assign({ method: 'POST' }, baseOptions), options);\n            const localVarHeaderParameter = {};\n            const localVarQueryParameter = {};\n            // authentication Bearer required\n            // http bearer authentication required\n            yield common_1.setBearerAuthToObject(localVarHeaderParameter, configuration);\n            common_1.setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\n            localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);\n            return {\n                url: common_1.toPathString(localVarUrlObj),\n                options: localVarRequestOptions,\n            };\n        }),\n    };\n};\nexports.SecurityApiAxiosParamCreator = SecurityApiAxiosParamCreator;\n/**\n * SecurityApi - functional programming interface\n * @export\n */\nconst SecurityApiFp = function (configuration) {\n    const localVarAxiosParamCreator = exports.SecurityApiAxiosParamCreator(configuration);\n    return {\n        /**\n         *\n         * @summary Creates a service account\n         * @param {ServiceAccountRequest} serviceAccountRequest Service account request\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createServiceAccount(serviceAccountRequest, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.createServiceAccount(serviceAccountRequest, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Deletes a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteServiceAccountById(id, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteServiceAccountById(id, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returned service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccountById(id, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getServiceAccountById(id, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Returns a list of service accounts\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccounts(options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.getServiceAccounts(options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n        /**\n         *\n         * @summary Resets the credentials for a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        resetServiceAccountCreds(id, options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const localVarAxiosArgs = yield localVarAxiosParamCreator.resetServiceAccountCreds(id, options);\n                return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);\n            });\n        },\n    };\n};\nexports.SecurityApiFp = SecurityApiFp;\n/**\n * SecurityApi - factory interface\n * @export\n */\nconst SecurityApiFactory = function (configuration, basePath, axios) {\n    const localVarFp = exports.SecurityApiFp(configuration);\n    return {\n        /**\n         *\n         * @summary Creates a service account\n         * @param {ServiceAccountRequest} serviceAccountRequest Service account request\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        createServiceAccount(serviceAccountRequest, options) {\n            return localVarFp.createServiceAccount(serviceAccountRequest, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Deletes a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        deleteServiceAccountById(id, options) {\n            return localVarFp.deleteServiceAccountById(id, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returned service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccountById(id, options) {\n            return localVarFp.getServiceAccountById(id, options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Returns a list of service accounts\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        getServiceAccounts(options) {\n            return localVarFp.getServiceAccounts(options).then((request) => request(axios, basePath));\n        },\n        /**\n         *\n         * @summary Resets the credentials for a service account by ID\n         * @param {string} id The ID of record\n         * @param {*} [options] Override http request option.\n         * @throws {RequiredError}\n         */\n        resetServiceAccountCreds(id, options) {\n            return localVarFp.resetServiceAccountCreds(id, options).then((request) => request(axios, basePath));\n        },\n    };\n};\nexports.SecurityApiFactory = SecurityApiFactory;\n/**\n * SecurityApi - object-oriented interface\n * @export\n * @class SecurityApi\n * @extends {BaseAPI}\n */\nclass SecurityApi extends base_1.BaseAPI {\n    /**\n     *\n     * @summary Creates a service account\n     * @param {ServiceAccountRequest} serviceAccountRequest Service account request\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    createServiceAccount(serviceAccountRequest, options) {\n        return exports.SecurityApiFp(this.configuration).createServiceAccount(serviceAccountRequest, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Deletes a service account by ID\n     * @param {string} id The ID of record\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    deleteServiceAccountById(id, options) {\n        return exports.SecurityApiFp(this.configuration).deleteServiceAccountById(id, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returned service account by ID\n     * @param {string} id The ID of record\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    getServiceAccountById(id, options) {\n        return exports.SecurityApiFp(this.configuration).getServiceAccountById(id, options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Returns a list of service accounts\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    getServiceAccounts(options) {\n        return exports.SecurityApiFp(this.configuration).getServiceAccounts(options).then((request) => request(this.axios, this.basePath));\n    }\n    /**\n     *\n     * @summary Resets the credentials for a service account by ID\n     * @param {string} id The ID of record\n     * @param {*} [options] Override http request option.\n     * @throws {RequiredError}\n     * @memberof SecurityApi\n     */\n    resetServiceAccountCreds(id, options) {\n        return exports.SecurityApiFp(this.configuration).resetServiceAccountCreds(id, options).then((request) => request(this.axios, this.basePath));\n    }\n}\nexports.SecurityApi = SecurityApi;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2FwaS5qcz9iMjc0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwrREFBK0QsZ0JBQWdCLEVBQUUsRUFBRTtBQUM5RztBQUNBLG1DQUFtQyxNQUFNLDZCQUE2QixFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ2pHLGtDQUFrQyxNQUFNLGlDQUFpQyxFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ3BHLCtCQUErQixxRkFBcUY7QUFDcEg7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4Q0FBNkMsQ0FBQyxjQUFjLEVBQUM7QUFDN0QsbUJBQW1CLEdBQUcsMEJBQTBCLEdBQUcscUJBQXFCLEdBQUcsb0NBQW9DLEdBQUcsa0JBQWtCLEdBQUcseUJBQXlCLEdBQUcsb0JBQW9CLEdBQUcsbUNBQW1DLEdBQUcscUJBQXFCLEdBQUcsNEJBQTRCLEdBQUcsdUJBQXVCLEdBQUcsc0NBQXNDLEdBQUcseUJBQXlCLEdBQUcsZ0NBQWdDLEdBQUcsMkJBQTJCLEdBQUcsMENBQTBDLEdBQUcsNEJBQTRCLEdBQUcsbUNBQW1DLEdBQUcsOEJBQThCLEdBQUcsNkNBQTZDLEdBQUcsb0NBQW9DLEdBQUcsK0JBQStCO0FBQ2hzQixnQkFBZ0IsbUJBQU8sQ0FBQyxLQUFPO0FBQy9CO0FBQ0E7QUFDQSxpQkFBaUIsbUJBQU8sQ0FBQyxLQUFVO0FBQ25DO0FBQ0EsZUFBZSxtQkFBTyxDQUFDLEtBQVE7QUFDL0I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnRUFBZ0UsK0JBQStCLEtBQUs7QUFDckc7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywwRUFBMEUsb0NBQW9D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RUFBRTtBQUNyQixvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixPQUFPO0FBQzFCLG1CQUFtQixFQUFFO0FBQ3JCLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxzQkFBc0I7QUFDckMsZUFBZSxFQUFFO0FBQ2pCLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsRUFBRTtBQUNqQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLEVBQUU7QUFDakIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEVBQUU7QUFDakIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxFQUFFO0FBQ2pCLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIiLCJmaWxlIjoiMzExMDAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIHRzbGludDpkaXNhYmxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyoqXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyIGlzIGEgUmVzdCBBUEkgdG8gbWFuYWdlIGNvbm5lY3RvcnMuXG4gKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIE9wZW5BUEkgZG9jdW1lbnQ6IDAuMC4zXG4gKlxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNlY3VyaXR5QXBpID0gZXhwb3J0cy5TZWN1cml0eUFwaUZhY3RvcnkgPSBleHBvcnRzLlNlY3VyaXR5QXBpRnAgPSBleHBvcnRzLlNlY3VyaXR5QXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBleHBvcnRzLkRlZmF1bHRBcGkgPSBleHBvcnRzLkRlZmF1bHRBcGlGYWN0b3J5ID0gZXhwb3J0cy5EZWZhdWx0QXBpRnAgPSBleHBvcnRzLkRlZmF1bHRBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IGV4cG9ydHMuQ29ubmVjdG9yc0FwaSA9IGV4cG9ydHMuQ29ubmVjdG9yc0FwaUZhY3RvcnkgPSBleHBvcnRzLkNvbm5lY3RvcnNBcGlGcCA9IGV4cG9ydHMuQ29ubmVjdG9yc0FwaUF4aW9zUGFyYW1DcmVhdG9yID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaSA9IGV4cG9ydHMuQ29ubmVjdG9yVHlwZXNBcGlGYWN0b3J5ID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUZwID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUF4aW9zUGFyYW1DcmVhdG9yID0gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaSA9IGV4cG9ydHMuQ29ubmVjdG9yQ2x1c3RlcnNBcGlGYWN0b3J5ID0gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaUZwID0gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaUF4aW9zUGFyYW1DcmVhdG9yID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlQWxsT2ZMYWJlbHNFbnVtID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlTGFiZWxzRW51bSA9IHZvaWQgMDtcbmNvbnN0IGF4aW9zXzEgPSByZXF1aXJlKFwiYXhpb3NcIik7XG4vLyBTb21lIGltcG9ydHMgbm90IHVzZWQgZGVwZW5kaW5nIG9uIHRlbXBsYXRlIGNvbmRpdGlvbnNcbi8vIEB0cy1pZ25vcmVcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIi4vY29tbW9uXCIpO1xuLy8gQHRzLWlnbm9yZVxuY29uc3QgYmFzZV8xID0gcmVxdWlyZShcIi4vYmFzZVwiKTtcbi8qKlxuICAgICogQGV4cG9ydFxuICAgICogQGVudW0ge3N0cmluZ31cbiAgICAqL1xudmFyIENvbm5lY3RvclR5cGVMYWJlbHNFbnVtO1xuKGZ1bmN0aW9uIChDb25uZWN0b3JUeXBlTGFiZWxzRW51bSkge1xuICAgIENvbm5lY3RvclR5cGVMYWJlbHNFbnVtW1wiU2lua1wiXSA9IFwic2lua1wiO1xuICAgIENvbm5lY3RvclR5cGVMYWJlbHNFbnVtW1wiU291cmNlXCJdID0gXCJzb3VyY2VcIjtcbn0pKENvbm5lY3RvclR5cGVMYWJlbHNFbnVtID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlTGFiZWxzRW51bSB8fCAoZXhwb3J0cy5Db25uZWN0b3JUeXBlTGFiZWxzRW51bSA9IHt9KSk7XG4vKipcbiAgICAqIEBleHBvcnRcbiAgICAqIEBlbnVtIHtzdHJpbmd9XG4gICAgKi9cbnZhciBDb25uZWN0b3JUeXBlQWxsT2ZMYWJlbHNFbnVtO1xuKGZ1bmN0aW9uIChDb25uZWN0b3JUeXBlQWxsT2ZMYWJlbHNFbnVtKSB7XG4gICAgQ29ubmVjdG9yVHlwZUFsbE9mTGFiZWxzRW51bVtcIlNpbmtcIl0gPSBcInNpbmtcIjtcbiAgICBDb25uZWN0b3JUeXBlQWxsT2ZMYWJlbHNFbnVtW1wiU291cmNlXCJdID0gXCJzb3VyY2VcIjtcbn0pKENvbm5lY3RvclR5cGVBbGxPZkxhYmVsc0VudW0gPSBleHBvcnRzLkNvbm5lY3RvclR5cGVBbGxPZkxhYmVsc0VudW0gfHwgKGV4cG9ydHMuQ29ubmVjdG9yVHlwZUFsbE9mTGFiZWxzRW51bSA9IHt9KSk7XG4vKipcbiAqIENvbm5lY3RvckNsdXN0ZXJzQXBpIC0gYXhpb3MgcGFyYW1ldGVyIGNyZWF0b3JcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgQ29ubmVjdG9yQ2x1c3RlcnNBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7Q29ubmVjdG9yQ2x1c3Rlcn0gY29ubmVjdG9yQ2x1c3RlciBDb25uZWN0b3IgY2x1c3RlciBkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDb25uZWN0b3JDbHVzdGVyOiAoYXN5bmMsIGNvbm5lY3RvckNsdXN0ZXIsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYXN5bmMnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZUNvbm5lY3RvckNsdXN0ZXInLCAnYXN5bmMnLCBhc3luYyk7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdjb25uZWN0b3JDbHVzdGVyJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdjcmVhdGVDb25uZWN0b3JDbHVzdGVyJywgJ2Nvbm5lY3RvckNsdXN0ZXInLCBjb25uZWN0b3JDbHVzdGVyKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2Nvbm5lY3Rvcl9tZ210L3YxL2thZmthX2Nvbm5lY3Rvcl9jbHVzdGVyc2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ1BPU1QnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChhc3luYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnYXN5bmMnXSA9IGFzeW5jO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5kYXRhID0gY29tbW9uXzEuc2VyaWFsaXplRGF0YUlmTmVlZGVkKGNvbm5lY3RvckNsdXN0ZXIsIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgRGVsZXRlIGEgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVDb25uZWN0b3JDbHVzdGVyOiAoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2Nvbm5lY3RvckNsdXN0ZXJJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZGVsZXRlQ29ubmVjdG9yQ2x1c3RlcicsICdjb25uZWN0b3JDbHVzdGVySWQnLCBjb25uZWN0b3JDbHVzdGVySWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yX2NsdXN0ZXJzL3tjb25uZWN0b3JfY2x1c3Rlcl9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiY29ubmVjdG9yX2NsdXN0ZXJfaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjb25uZWN0b3JDbHVzdGVySWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0RFTEVURScgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb25uZWN0b3JDbHVzdGVyOiAoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2Nvbm5lY3RvckNsdXN0ZXJJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0Q29ubmVjdG9yQ2x1c3RlcicsICdjb25uZWN0b3JDbHVzdGVySWQnLCBjb25uZWN0b3JDbHVzdGVySWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yX2NsdXN0ZXJzL3tjb25uZWN0b3JfY2x1c3Rlcl9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiY29ubmVjdG9yX2NsdXN0ZXJfaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjb25uZWN0b3JDbHVzdGVySWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIGNsdXN0ZXJcXCdzIGFkZG9uIHBhcmFtZXRlcnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb25uZWN0b3JDbHVzdGVyQWRkb25QYXJhbWV0ZXJzOiAoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2Nvbm5lY3RvckNsdXN0ZXJJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0Q29ubmVjdG9yQ2x1c3RlckFkZG9uUGFyYW1ldGVycycsICdjb25uZWN0b3JDbHVzdGVySWQnLCBjb25uZWN0b3JDbHVzdGVySWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yX2NsdXN0ZXJzL3tjb25uZWN0b3JfY2x1c3Rlcl9pZH0vYWRkb25fcGFyYW1ldGVyc2BcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJjb25uZWN0b3JfY2x1c3Rlcl9pZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGNvbm5lY3RvckNsdXN0ZXJJZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgY2x1c3RlcnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENvbm5lY3RvckNsdXN0ZXJzOiAocGFnZSwgc2l6ZSwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9jb25uZWN0b3JfbWdtdC92MS9rYWZrYV9jb25uZWN0b3JfY2x1c3RlcnNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChwYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydwYWdlJ10gPSBwYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ3NpemUnXSA9IHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBDb25uZWN0b3JDbHVzdGVyc0FwaUF4aW9zUGFyYW1DcmVhdG9yO1xuLyoqXG4gKiBDb25uZWN0b3JDbHVzdGVyc0FwaSAtIGZ1bmN0aW9uYWwgcHJvZ3JhbW1pbmcgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvckNsdXN0ZXJzQXBpRnAgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbikge1xuICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IgPSBleHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpQXhpb3NQYXJhbUNyZWF0b3IoY29uZmlndXJhdGlvbik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7Q29ubmVjdG9yQ2x1c3Rlcn0gY29ubmVjdG9yQ2x1c3RlciBDb25uZWN0b3IgY2x1c3RlciBkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDb25uZWN0b3JDbHVzdGVyKGFzeW5jLCBjb25uZWN0b3JDbHVzdGVyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5jcmVhdGVDb25uZWN0b3JDbHVzdGVyKGFzeW5jLCBjb25uZWN0b3JDbHVzdGVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBEZWxldGUgYSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yQ2x1c3RlcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUNvbm5lY3RvckNsdXN0ZXIoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5kZWxldGVDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0Q29ubmVjdG9yQ2x1c3Rlcihjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvciBjbHVzdGVyXFwncyBhZGRvbiBwYXJhbWV0ZXJzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JDbHVzdGVySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29ubmVjdG9yQ2x1c3RlckFkZG9uUGFyYW1ldGVycyhjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldENvbm5lY3RvckNsdXN0ZXJBZGRvblBhcmFtZXRlcnMoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgY2x1c3RlcnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENvbm5lY3RvckNsdXN0ZXJzKHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmxpc3RDb25uZWN0b3JDbHVzdGVycyhwYWdlLCBzaXplLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpRnAgPSBDb25uZWN0b3JDbHVzdGVyc0FwaUZwO1xuLyoqXG4gKiBDb25uZWN0b3JDbHVzdGVyc0FwaSAtIGZhY3RvcnkgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvckNsdXN0ZXJzQXBpRmFjdG9yeSA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uLCBiYXNlUGF0aCwgYXhpb3MpIHtcbiAgICBjb25zdCBsb2NhbFZhckZwID0gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaUZwKGNvbmZpZ3VyYXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGUgYSBuZXcgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0ge0Nvbm5lY3RvckNsdXN0ZXJ9IGNvbm5lY3RvckNsdXN0ZXIgQ29ubmVjdG9yIGNsdXN0ZXIgZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlQ29ubmVjdG9yQ2x1c3Rlcihhc3luYywgY29ubmVjdG9yQ2x1c3Rlciwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuY3JlYXRlQ29ubmVjdG9yQ2x1c3Rlcihhc3luYywgY29ubmVjdG9yQ2x1c3Rlciwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JDbHVzdGVySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlQ29ubmVjdG9yQ2x1c3Rlcihjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmRlbGV0ZUNvbm5lY3RvckNsdXN0ZXIoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0Q29ubmVjdG9yQ2x1c3Rlcihjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3IgY2x1c3RlclxcJ3MgYWRkb24gcGFyYW1ldGVyc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yQ2x1c3RlcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3RvckNsdXN0ZXJBZGRvblBhcmFtZXRlcnMoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5nZXRDb25uZWN0b3JDbHVzdGVyQWRkb25QYXJhbWV0ZXJzKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIGNvbm5lY3RvciBjbHVzdGVyc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0Q29ubmVjdG9yQ2x1c3RlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAubGlzdENvbm5lY3RvckNsdXN0ZXJzKHBhZ2UsIHNpemUsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpRmFjdG9yeSA9IENvbm5lY3RvckNsdXN0ZXJzQXBpRmFjdG9yeTtcbi8qKlxuICogQ29ubmVjdG9yQ2x1c3RlcnNBcGkgLSBvYmplY3Qtb3JpZW50ZWQgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgQ29ubmVjdG9yQ2x1c3RlcnNBcGlcbiAqIEBleHRlbmRzIHtCYXNlQVBJfVxuICovXG5jbGFzcyBDb25uZWN0b3JDbHVzdGVyc0FwaSBleHRlbmRzIGJhc2VfMS5CYXNlQVBJIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBjb25uZWN0b3IgY2x1c3RlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXN5bmMgUGVyZm9ybSB0aGUgYWN0aW9uIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXJcbiAgICAgKiBAcGFyYW0ge0Nvbm5lY3RvckNsdXN0ZXJ9IGNvbm5lY3RvckNsdXN0ZXIgQ29ubmVjdG9yIGNsdXN0ZXIgZGF0YVxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yQ2x1c3RlcnNBcGlcbiAgICAgKi9cbiAgICBjcmVhdGVDb25uZWN0b3JDbHVzdGVyKGFzeW5jLCBjb25uZWN0b3JDbHVzdGVyLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5jcmVhdGVDb25uZWN0b3JDbHVzdGVyKGFzeW5jLCBjb25uZWN0b3JDbHVzdGVyLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBEZWxldGUgYSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JDbHVzdGVySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgY2x1c3RlclxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yQ2x1c3RlcnNBcGlcbiAgICAgKi9cbiAgICBkZWxldGVDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JDbHVzdGVyc0FwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuZGVsZXRlQ29ubmVjdG9yQ2x1c3Rlcihjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvckNsdXN0ZXJJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvciBjbHVzdGVyXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBDb25uZWN0b3JDbHVzdGVyc0FwaVxuICAgICAqL1xuICAgIGdldENvbm5lY3RvckNsdXN0ZXIoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRDb25uZWN0b3JDbHVzdGVyKGNvbm5lY3RvckNsdXN0ZXJJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIGNsdXN0ZXJcXCdzIGFkZG9uIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yQ2x1c3RlcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIGNsdXN0ZXJcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIENvbm5lY3RvckNsdXN0ZXJzQXBpXG4gICAgICovXG4gICAgZ2V0Q29ubmVjdG9yQ2x1c3RlckFkZG9uUGFyYW1ldGVycyhjb25uZWN0b3JDbHVzdGVySWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuQ29ubmVjdG9yQ2x1c3RlcnNBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmdldENvbm5lY3RvckNsdXN0ZXJBZGRvblBhcmFtZXRlcnMoY29ubmVjdG9yQ2x1c3RlcklkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgY2x1c3RlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIENvbm5lY3RvckNsdXN0ZXJzQXBpXG4gICAgICovXG4gICAgbGlzdENvbm5lY3RvckNsdXN0ZXJzKHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuQ29ubmVjdG9yQ2x1c3RlcnNBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmxpc3RDb25uZWN0b3JDbHVzdGVycyhwYWdlLCBzaXplLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG59XG5leHBvcnRzLkNvbm5lY3RvckNsdXN0ZXJzQXBpID0gQ29ubmVjdG9yQ2x1c3RlcnNBcGk7XG4vKipcbiAqIENvbm5lY3RvclR5cGVzQXBpIC0gYXhpb3MgcGFyYW1ldGVyIGNyZWF0b3JcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgQ29ubmVjdG9yVHlwZXNBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvciB0eXBlIGJ5IGlkXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JUeXBlSWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3IgdHlwZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29ubmVjdG9yVHlwZUJ5SUQ6IChjb25uZWN0b3JUeXBlSWQsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY29ubmVjdG9yVHlwZUlkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdnZXRDb25uZWN0b3JUeXBlQnlJRCcsICdjb25uZWN0b3JUeXBlSWQnLCBjb25uZWN0b3JUeXBlSWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yX3R5cGVzL3tjb25uZWN0b3JfdHlwZV9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiY29ubmVjdG9yX3R5cGVfaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjb25uZWN0b3JUeXBlSWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgY29ubmVjdG9yIHR5cGVzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RDb25uZWN0b3JUeXBlczogKHBhZ2UsIHNpemUsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yX3R5cGVzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAocGFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsncGFnZSddID0gcGFnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydzaXplJ10gPSBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgIH07XG59O1xuZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUF4aW9zUGFyYW1DcmVhdG9yID0gQ29ubmVjdG9yVHlwZXNBcGlBeGlvc1BhcmFtQ3JlYXRvcjtcbi8qKlxuICogQ29ubmVjdG9yVHlwZXNBcGkgLSBmdW5jdGlvbmFsIHByb2dyYW1taW5nIGludGVyZmFjZVxuICogQGV4cG9ydFxuICovXG5jb25zdCBDb25uZWN0b3JUeXBlc0FwaUZwID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24pIHtcbiAgICBjb25zdCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUF4aW9zUGFyYW1DcmVhdG9yKGNvbmZpZ3VyYXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3IgdHlwZSBieSBpZFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yVHlwZUlkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIHR5cGVcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3RvclR5cGVCeUlEKGNvbm5lY3RvclR5cGVJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0Q29ubmVjdG9yVHlwZUJ5SUQoY29ubmVjdG9yVHlwZUlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgdHlwZXNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENvbm5lY3RvclR5cGVzKHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmxpc3RDb25uZWN0b3JUeXBlcyhwYWdlLCBzaXplLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvclR5cGVzQXBpRnAgPSBDb25uZWN0b3JUeXBlc0FwaUZwO1xuLyoqXG4gKiBDb25uZWN0b3JUeXBlc0FwaSAtIGZhY3RvcnkgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvclR5cGVzQXBpRmFjdG9yeSA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uLCBiYXNlUGF0aCwgYXhpb3MpIHtcbiAgICBjb25zdCBsb2NhbFZhckZwID0gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUZwKGNvbmZpZ3VyYXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3IgdHlwZSBieSBpZFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yVHlwZUlkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIHR5cGVcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3RvclR5cGVCeUlEKGNvbm5lY3RvclR5cGVJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0Q29ubmVjdG9yVHlwZUJ5SUQoY29ubmVjdG9yVHlwZUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgY29ubmVjdG9yIHR5cGVzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RDb25uZWN0b3JUeXBlcyhwYWdlLCBzaXplLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5saXN0Q29ubmVjdG9yVHlwZXMocGFnZSwgc2l6ZSwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbmV4cG9ydHMuQ29ubmVjdG9yVHlwZXNBcGlGYWN0b3J5ID0gQ29ubmVjdG9yVHlwZXNBcGlGYWN0b3J5O1xuLyoqXG4gKiBDb25uZWN0b3JUeXBlc0FwaSAtIG9iamVjdC1vcmllbnRlZCBpbnRlcmZhY2VcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBDb25uZWN0b3JUeXBlc0FwaVxuICogQGV4dGVuZHMge0Jhc2VBUEl9XG4gKi9cbmNsYXNzIENvbm5lY3RvclR5cGVzQXBpIGV4dGVuZHMgYmFzZV8xLkJhc2VBUEkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgR2V0IGEgY29ubmVjdG9yIHR5cGUgYnkgaWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9yVHlwZUlkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yIHR5cGVcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIENvbm5lY3RvclR5cGVzQXBpXG4gICAgICovXG4gICAgZ2V0Q29ubmVjdG9yVHlwZUJ5SUQoY29ubmVjdG9yVHlwZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkNvbm5lY3RvclR5cGVzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRDb25uZWN0b3JUeXBlQnlJRChjb25uZWN0b3JUeXBlSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIGNvbm5lY3RvciB0eXBlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yVHlwZXNBcGlcbiAgICAgKi9cbiAgICBsaXN0Q29ubmVjdG9yVHlwZXMocGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JUeXBlc0FwaUZwKHRoaXMuY29uZmlndXJhdGlvbikubGlzdENvbm5lY3RvclR5cGVzKHBhZ2UsIHNpemUsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29ubmVjdG9yVHlwZXNBcGkgPSBDb25uZWN0b3JUeXBlc0FwaTtcbi8qKlxuICogQ29ubmVjdG9yc0FwaSAtIGF4aW9zIHBhcmFtZXRlciBjcmVhdG9yXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvcnNBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0ge0Nvbm5lY3Rvcn0gY29ubmVjdG9yIENvbm5lY3RvciBkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDb25uZWN0b3I6IChhc3luYywgY29ubmVjdG9yLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2FzeW5jJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdjcmVhdGVDb25uZWN0b3InLCAnYXN5bmMnLCBhc3luYyk7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdjb25uZWN0b3InIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZUNvbm5lY3RvcicsICdjb25uZWN0b3InLCBjb25uZWN0b3IpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkvY29ubmVjdG9yX21nbXQvdjEva2Fma2FfY29ubmVjdG9yc2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ1BPU1QnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChhc3luYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnYXN5bmMnXSA9IGFzeW5jO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5kYXRhID0gY29tbW9uXzEuc2VyaWFsaXplRGF0YUlmTmVlZGVkKGNvbm5lY3RvciwgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucywgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBEZWxldGUgYSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUNvbm5lY3RvcjogKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2Nvbm5lY3RvcklkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdkZWxldGVDb25uZWN0b3InLCAnY29ubmVjdG9ySWQnLCBjb25uZWN0b3JJZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9jb25uZWN0b3JfbWdtdC92MS9rYWZrYV9jb25uZWN0b3JzL3tjb25uZWN0b3JfaWR9YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImNvbm5lY3Rvcl9pZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGNvbm5lY3RvcklkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdERUxFVEUnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChrYWZrYUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydrYWZrYV9pZCddID0ga2Fma2FJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29ubmVjdG9yOiAoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY29ubmVjdG9ySWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2dldENvbm5lY3RvcicsICdjb25uZWN0b3JJZCcsIGNvbm5lY3RvcklkKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2Nvbm5lY3Rvcl9tZ210L3YxL2thZmthX2Nvbm5lY3RvcnMve2Nvbm5lY3Rvcl9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiY29ubmVjdG9yX2lkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoY29ubmVjdG9ySWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKGthZmthSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ2thZmthX2lkJ10gPSBrYWZrYUlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgY29ubmVjdG9yIHR5cGVzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENvbm5lY3RvcnM6IChwYWdlLCBzaXplLCBrYWZrYUlkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2Nvbm5lY3Rvcl9tZ210L3YxL2thZmthX2Nvbm5lY3RvcnNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChwYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydwYWdlJ10gPSBwYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ3NpemUnXSA9IHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2Fma2FJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsna2Fma2FfaWQnXSA9IGthZmthSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBwYXRjaCBhIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGJvZHkgRGF0YSB0byBwYXRjaCB0aGUgY29ubmVjdG9yIHdpdGhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgcGF0Y2hDb25uZWN0b3I6IChjb25uZWN0b3JJZCwgYm9keSwga2Fma2FJZCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdjb25uZWN0b3JJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygncGF0Y2hDb25uZWN0b3InLCAnY29ubmVjdG9ySWQnLCBjb25uZWN0b3JJZCk7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdib2R5JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdwYXRjaENvbm5lY3RvcicsICdib2R5JywgYm9keSk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9jb25uZWN0b3JfbWdtdC92MS9rYWZrYV9jb25uZWN0b3JzL3tjb25uZWN0b3JfaWR9YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImNvbm5lY3Rvcl9pZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGNvbm5lY3RvcklkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdQQVRDSCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKGthZmthSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ2thZmthX2lkJ10gPSBrYWZrYUlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24tcGF0Y2granNvbic7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmRhdGEgPSBjb21tb25fMS5zZXJpYWxpemVEYXRhSWZOZWVkZWQoYm9keSwgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucywgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvcnNBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IENvbm5lY3RvcnNBcGlBeGlvc1BhcmFtQ3JlYXRvcjtcbi8qKlxuICogQ29ubmVjdG9yc0FwaSAtIGZ1bmN0aW9uYWwgcHJvZ3JhbW1pbmcgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvcnNBcGlGcCA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgY29uc3QgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvciA9IGV4cG9ydHMuQ29ubmVjdG9yc0FwaUF4aW9zUGFyYW1DcmVhdG9yKGNvbmZpZ3VyYXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGUgYSBuZXcgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXN5bmMgUGVyZm9ybSB0aGUgYWN0aW9uIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXJcbiAgICAgICAgICogQHBhcmFtIHtDb25uZWN0b3J9IGNvbm5lY3RvciBDb25uZWN0b3IgZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlQ29ubmVjdG9yKGFzeW5jLCBjb25uZWN0b3IsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmNyZWF0ZUNvbm5lY3Rvcihhc3luYywgY29ubmVjdG9yLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBEZWxldGUgYSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUNvbm5lY3Rvcihjb25uZWN0b3JJZCwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZGVsZXRlQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3Rvcihjb25uZWN0b3JJZCwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0Q29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgdHlwZXNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2thZmthSWRdIFRoZSBrYWZrYSBjbHVzdGVyIGlkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0Q29ubmVjdG9ycyhwYWdlLCBzaXplLCBrYWZrYUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5saXN0Q29ubmVjdG9ycyhwYWdlLCBzaXplLCBrYWZrYUlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBwYXRjaCBhIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGJvZHkgRGF0YSB0byBwYXRjaCB0aGUgY29ubmVjdG9yIHdpdGhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgcGF0Y2hDb25uZWN0b3IoY29ubmVjdG9ySWQsIGJvZHksIGthZmthSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLnBhdGNoQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBib2R5LCBrYWZrYUlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvcnNBcGlGcCA9IENvbm5lY3RvcnNBcGlGcDtcbi8qKlxuICogQ29ubmVjdG9yc0FwaSAtIGZhY3RvcnkgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IENvbm5lY3RvcnNBcGlGYWN0b3J5ID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24sIGJhc2VQYXRoLCBheGlvcykge1xuICAgIGNvbnN0IGxvY2FsVmFyRnAgPSBleHBvcnRzLkNvbm5lY3RvcnNBcGlGcChjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlIGEgbmV3IGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7Q29ubmVjdG9yfSBjb25uZWN0b3IgQ29ubmVjdG9yIGRhdGFcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUNvbm5lY3Rvcihhc3luYywgY29ubmVjdG9yLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5jcmVhdGVDb25uZWN0b3IoYXN5bmMsIGNvbm5lY3Rvciwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgVGhlIGlkIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5kZWxldGVDb25uZWN0b3IoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgYSBjb25uZWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldENvbm5lY3Rvcihjb25uZWN0b3JJZCwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0Q29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgY29ubmVjdG9yIHR5cGVzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENvbm5lY3RvcnMocGFnZSwgc2l6ZSwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAubGlzdENvbm5lY3RvcnMocGFnZSwgc2l6ZSwga2Fma2FJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IHBhdGNoIGEgY29ubmVjdG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gYm9keSBEYXRhIHRvIHBhdGNoIHRoZSBjb25uZWN0b3Igd2l0aFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2thZmthSWRdIFRoZSBrYWZrYSBjbHVzdGVyIGlkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBwYXRjaENvbm5lY3Rvcihjb25uZWN0b3JJZCwgYm9keSwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAucGF0Y2hDb25uZWN0b3IoY29ubmVjdG9ySWQsIGJvZHksIGthZmthSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkNvbm5lY3RvcnNBcGlGYWN0b3J5ID0gQ29ubmVjdG9yc0FwaUZhY3Rvcnk7XG4vKipcbiAqIENvbm5lY3RvcnNBcGkgLSBvYmplY3Qtb3JpZW50ZWQgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgQ29ubmVjdG9yc0FwaVxuICogQGV4dGVuZHMge0Jhc2VBUEl9XG4gKi9cbmNsYXNzIENvbm5lY3RvcnNBcGkgZXh0ZW5kcyBiYXNlXzEuQmFzZUFQSSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBDcmVhdGUgYSBuZXcgY29ubmVjdG9yXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAqIEBwYXJhbSB7Q29ubmVjdG9yfSBjb25uZWN0b3IgQ29ubmVjdG9yIGRhdGFcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIENvbm5lY3RvcnNBcGlcbiAgICAgKi9cbiAgICBjcmVhdGVDb25uZWN0b3IoYXN5bmMsIGNvbm5lY3Rvciwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5jcmVhdGVDb25uZWN0b3IoYXN5bmMsIGNvbm5lY3Rvciwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgRGVsZXRlIGEgY29ubmVjdG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIFRoZSBpZCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yc0FwaVxuICAgICAqL1xuICAgIGRlbGV0ZUNvbm5lY3Rvcihjb25uZWN0b3JJZCwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5kZWxldGVDb25uZWN0b3IoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IEdldCBhIGNvbm5lY3RvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2Fma2FJZF0gVGhlIGthZmthIGNsdXN0ZXIgaWRcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIENvbm5lY3RvcnNBcGlcbiAgICAgKi9cbiAgICBnZXRDb25uZWN0b3IoY29ubmVjdG9ySWQsIGthZmthSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuQ29ubmVjdG9yc0FwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuZ2V0Q29ubmVjdG9yKGNvbm5lY3RvcklkLCBrYWZrYUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBjb25uZWN0b3IgdHlwZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2thZmthSWRdIFRoZSBrYWZrYSBjbHVzdGVyIGlkXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBDb25uZWN0b3JzQXBpXG4gICAgICovXG4gICAgbGlzdENvbm5lY3RvcnMocGFnZSwgc2l6ZSwga2Fma2FJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5Db25uZWN0b3JzQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5saXN0Q29ubmVjdG9ycyhwYWdlLCBzaXplLCBrYWZrYUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBwYXRjaCBhIGNvbm5lY3RvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCBUaGUgaWQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBib2R5IERhdGEgdG8gcGF0Y2ggdGhlIGNvbm5lY3RvciB3aXRoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrYWZrYUlkXSBUaGUga2Fma2EgY2x1c3RlciBpZFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgQ29ubmVjdG9yc0FwaVxuICAgICAqL1xuICAgIHBhdGNoQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBib2R5LCBrYWZrYUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkNvbm5lY3RvcnNBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLnBhdGNoQ29ubmVjdG9yKGNvbm5lY3RvcklkLCBib2R5LCBrYWZrYUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG59XG5leHBvcnRzLkNvbm5lY3RvcnNBcGkgPSBDb25uZWN0b3JzQXBpO1xuLyoqXG4gKiBEZWZhdWx0QXBpIC0gYXhpb3MgcGFyYW1ldGVyIGNyZWF0b3JcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgRGVmYXVsdEFwaUF4aW9zUGFyYW1DcmVhdG9yID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIEthZmthIHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0ge0thZmthUmVxdWVzdFBheWxvYWR9IGthZmthUmVxdWVzdFBheWxvYWQgS2Fma2EgZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlS2Fma2E6IChhc3luYywga2Fma2FSZXF1ZXN0UGF5bG9hZCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdhc3luYycgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnY3JlYXRlS2Fma2EnLCAnYXN5bmMnLCBhc3luYyk7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdrYWZrYVJlcXVlc3RQYXlsb2FkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdjcmVhdGVLYWZrYScsICdrYWZrYVJlcXVlc3RQYXlsb2FkJywga2Fma2FSZXF1ZXN0UGF5bG9hZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9rYWZrYXNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdQT1NUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAoYXN5bmMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ2FzeW5jJ10gPSBhc3luYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuZGF0YSA9IGNvbW1vbl8xLnNlcmlhbGl6ZURhdGFJZk5lZWRlZChrYWZrYVJlcXVlc3RQYXlsb2FkLCBsb2NhbFZhclJlcXVlc3RPcHRpb25zLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZXMgYSBLYWZrYSByZXF1ZXN0IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXN5bmMgUGVyZm9ybSB0aGUgYWN0aW9uIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUthZmthQnlJZDogKGlkLCBhc3luYywgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZGVsZXRlS2Fma2FCeUlkJywgJ2lkJywgaWQpO1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYXN5bmMnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2RlbGV0ZUthZmthQnlJZCcsICdhc3luYycsIGFzeW5jKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL2thZmthcy97aWR9YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImlkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0RFTEVURScgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKGFzeW5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydhc3luYyddID0gYXN5bmM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBsaXN0IG9mIHN1cHBvcnRlZCByZWdpb25zIG9mIHRoZSBzdXBwb3J0ZWQgY2xvdWQgcHJvdmlkZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnM6IChpZCwgcGFnZSwgc2l6ZSwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnMnLCAnaWQnLCBpZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9jbG91ZF9wcm92aWRlcnMve2lkfS9yZWdpb25zYFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImlkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKHBhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ3BhZ2UnXSA9IHBhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnc2l6ZSddID0gc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIGNsb3VkIHByb3ZpZGVyc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDbG91ZFByb3ZpZGVyczogKHBhZ2UsIHNpemUsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjEvY2xvdWRfcHJvdmlkZXJzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAocGFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsncGFnZSddID0gcGFnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydzaXplJ10gPSBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIEthZmthIHJlcXVlc3QgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldEthZmthQnlJZDogKGlkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2lkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdnZXRLYWZrYUJ5SWQnLCAnaWQnLCBpZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9rYWZrYXMve2lkfWBcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJpZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGlkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIEthZmthIHJlcXVlc3RzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcmRlckJ5XSBTcGVjaWZpZXMgdGhlIG9yZGVyIGJ5IGNyaXRlcmlhLiBUaGUgc3ludGF4IG9mIHRoaXMgcGFyYW1ldGVyIGlzIHNpbWlsYXIgdG8gdGhlIHN5bnRheCBvZiB0aGUgJiN4NjA7b3JkZXIgYnkmI3g2MDsgY2xhdXNlIG9mIGFuIFNRTCBzdGF0ZW1lbnQuIEVhY2ggcXVlcnkgY2FuIGJlIG9yZGVyZWQgYnkgYW55IG9mIHRoZSAmI3g2MDtrYWZrYVJlcXVlc3RzJiN4NjA7IGZpZWxkcy4gRm9yIGV4YW1wbGUsIHRvIHJldHVybiBhbGwgS2Fma2EgaW5zdGFuY2VzIG9yZGVyZWQgYnkgdGhlaXIgbmFtZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjICYjeDYwOyYjeDYwOyYjeDYwOyAgVG8gcmV0dXJuIGFsbCBLYWZrYSBpbnN0YW5jZXMgb3JkZXJlZCBieSB0aGVpciBuYW1lIF9hbmRfIGNyZWF0ZWQgZGF0ZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjLCBjcmVhdGVkX2F0IGFzYyAmI3g2MDsmI3g2MDsmI3g2MDsgIElmIHRoZSBwYXJhbWV0ZXIgaXNuXFwmIzM5O3QgcHJvdmlkZWQsIG9yIGlmIHRoZSB2YWx1ZSBpcyBlbXB0eSwgdGhlbiB0aGUgcmVzdWx0cyBhcmUgb3JkZXJlZCBieSBuYW1lLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlYXJjaF0gU2VhcmNoIGNyaXRlcmlhLiAgVGhlIHN5bnRheCBvZiB0aGlzIHBhcmFtZXRlciBpcyBzaW1pbGFyIHRvIHRoZSBzeW50YXggb2YgdGhlICYjeDYwO3doZXJlJiN4NjA7IGNsYXVzZSBvZiBhbiBTUUwgc3RhdGVtZW50LiBBbGxvd2VkIGZpZWxkcyBpbiB0aGUgc2VhcmNoIGFyZSAmI3g2MDtjbG91ZF9wcm92aWRlciYjeDYwOywgJiN4NjA7bmFtZSYjeDYwOywgJiN4NjA7b3duZXImI3g2MDssICYjeDYwO3JlZ2lvbiYjeDYwOywgYW5kICYjeDYwO3N0YXR1cyYjeDYwOy4gQWxsb3dlZCBjb21wYXJhdG9ycyBhcmUgJiN4NjA7Jmx0OyZndDsmI3g2MDssICYjeDYwOyYjeDNEOyYjeDYwOywgb3IgJiN4NjA7TElLRSYjeDYwOy4gQWxsb3dlZCBqb2lucyBhcmUgJiN4NjA7QU5EJiN4NjA7IGFuZCAmI3g2MDtPUiYjeDYwOy4gSG93ZXZlciwgeW91IGNhbiB1c2UgYSBtYXhpbXVtIG9mIDEwIGpvaW5zIGluIGEgc2VhcmNoIHF1ZXJ5LiAgRXhhbXBsZXM6ICBUbyByZXR1cm4gYSBLYWZrYSBpbnN0YW5jZSB3aXRoIHRoZSBuYW1lICYjeDYwO215LWthZmthJiN4NjA7IGFuZCB0aGUgcmVnaW9uICYjeDYwO2F3cyYjeDYwOywgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7IG5hbWUgJiN4M0Q7IG15LWthZmthIGFuZCBjbG91ZF9wcm92aWRlciAmI3gzRDsgYXdzICYjeDYwOyYjeDYwOyYjeDYwO1twLV0gIFRvIHJldHVybiBhIEthZmthIGluc3RhbmNlIHdpdGggYSBuYW1lIHRoYXQgc3RhcnRzIHdpdGggJiN4NjA7bXkmI3g2MDssIHVzZSB0aGUgZm9sbG93aW5nIHN5bnRheDogICYjeDYwOyYjeDYwOyYjeDYwOyBuYW1lIGxpa2UgbXklMjUgJiN4NjA7JiN4NjA7JiN4NjA7ICBJZiB0aGUgcGFyYW1ldGVyIGlzblxcJiMzOTt0IHByb3ZpZGVkLCBvciBpZiB0aGUgdmFsdWUgaXMgZW1wdHksIHRoZW4gYWxsIHRoZSBLYWZrYSBpbnN0YW5jZXMgdGhhdCB0aGUgdXNlciBoYXMgcGVybWlzc2lvbiB0byBzZWUgYXJlIHJldHVybmVkLiAgTm90ZS4gSWYgdGhlIHF1ZXJ5IGlzIGludmFsaWQsIGFuIGVycm9yIGlzIHJldHVybmVkLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0S2Fma2FzOiAocGFnZSwgc2l6ZSwgb3JkZXJCeSwgc2VhcmNoLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL2thZmthc2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgaWYgKHBhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ3BhZ2UnXSA9IHBhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnc2l6ZSddID0gc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcmRlckJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydvcmRlckJ5J10gPSBvcmRlckJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlYXJjaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnc2VhcmNoJ10gPSBzZWFyY2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIG1ldHJpY3Mgd2l0aCBpbnN0YW50IHF1ZXJ5IGJ5IEthZmthIElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gW2ZpbHRlcnNdIExpc3Qgb2YgbWV0cmljcyB0byBmZXRjaC4gRmV0Y2ggYWxsIG1ldHJpY3Mgd2hlbiBlbXB0eS4gTGlzdCBlbnRyaWVzIGFyZSBLYWZrYSBpbnRlcm5hbCBtZXRyaWMgbmFtZXMuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRNZXRyaWNzQnlJbnN0YW50UXVlcnk6IChpZCwgZmlsdGVycywgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0TWV0cmljc0J5SW5zdGFudFF1ZXJ5JywgJ2lkJywgaWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjEva2Fma2FzL3tpZH0vbWV0cmljcy9xdWVyeWBcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJpZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGlkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnZmlsdGVycyddID0gZmlsdGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgbWV0cmljcyB3aXRoIHRpbWVzZXJpZXMgcmFuZ2UgcXVlcnkgYnkgS2Fma2EgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBsZW5ndGggb2YgdGltZSBpbiBtaW51dGVzIGZvciB3aGljaCB0byByZXR1cm4gdGhlIG1ldHJpY3NcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGludGVydmFsIFRoZSBpbnRlcnZhbCBpbiBzZWNvbmRzIGJldHdlZW4gZGF0YSBwb2ludHNcbiAgICAgICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBbZmlsdGVyc10gTGlzdCBvZiBtZXRyaWNzIHRvIGZldGNoLiBGZXRjaCBhbGwgbWV0cmljcyB3aGVuIGVtcHR5LiBMaXN0IGVudHJpZXMgYXJlIEthZmthIGludGVybmFsIG1ldHJpYyBuYW1lcy5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldE1ldHJpY3NCeVJhbmdlUXVlcnk6IChpZCwgZHVyYXRpb24sIGludGVydmFsLCBmaWx0ZXJzLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2lkJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdnZXRNZXRyaWNzQnlSYW5nZVF1ZXJ5JywgJ2lkJywgaWQpO1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZHVyYXRpb24nIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2dldE1ldHJpY3NCeVJhbmdlUXVlcnknLCAnZHVyYXRpb24nLCBkdXJhdGlvbik7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpbnRlcnZhbCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0TWV0cmljc0J5UmFuZ2VRdWVyeScsICdpbnRlcnZhbCcsIGludGVydmFsKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL2thZmthcy97aWR9L21ldHJpY3MvcXVlcnlfcmFuZ2VgXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhpZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAoZHVyYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ2R1cmF0aW9uJ10gPSBkdXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbnRlcnZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJRdWVyeVBhcmFtZXRlclsnaW50ZXJ2YWwnXSA9IGludGVydmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyWydmaWx0ZXJzJ10gPSBmaWx0ZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgc3RhdHVzIG9mIHJlc291cmNlcywgc3VjaCBhcyB3aGV0aGVyIG1heGltdW0gc2VydmljZSBjYXBhY2l0eSBoYXMgYmVlbiByZWFjaGVkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZXJ2aWNlU3RhdHVzOiAob3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9zdGF0dXNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgLy8gYXV0aGVudGljYXRpb24gQmVhcmVyIHJlcXVpcmVkXG4gICAgICAgICAgICAvLyBodHRwIGJlYXJlciBhdXRoZW50aWNhdGlvbiByZXF1aXJlZFxuICAgICAgICAgICAgeWllbGQgY29tbW9uXzEuc2V0QmVhcmVyQXV0aFRvT2JqZWN0KGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciwgb3B0aW9ucy5xdWVyeSk7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIHZlcnNpb24gbWV0YWRhdGFcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFZlcnNpb25NZXRhZGF0YTogKG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjFgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgIH07XG59O1xuZXhwb3J0cy5EZWZhdWx0QXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBEZWZhdWx0QXBpQXhpb3NQYXJhbUNyZWF0b3I7XG4vKipcbiAqIERlZmF1bHRBcGkgLSBmdW5jdGlvbmFsIHByb2dyYW1taW5nIGludGVyZmFjZVxuICogQGV4cG9ydFxuICovXG5jb25zdCBEZWZhdWx0QXBpRnAgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbikge1xuICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IgPSBleHBvcnRzLkRlZmF1bHRBcGlBeGlvc1BhcmFtQ3JlYXRvcihjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIEthZmthIHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0ge0thZmthUmVxdWVzdFBheWxvYWR9IGthZmthUmVxdWVzdFBheWxvYWQgS2Fma2EgZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlS2Fma2EoYXN5bmMsIGthZmthUmVxdWVzdFBheWxvYWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmNyZWF0ZUthZmthKGFzeW5jLCBrYWZrYVJlcXVlc3RQYXlsb2FkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBEZWxldGVzIGEgS2Fma2EgcmVxdWVzdCBieSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVLYWZrYUJ5SWQoaWQsIGFzeW5jLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5kZWxldGVLYWZrYUJ5SWQoaWQsIGFzeW5jLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBsaXN0IG9mIHN1cHBvcnRlZCByZWdpb25zIG9mIHRoZSBzdXBwb3J0ZWQgY2xvdWQgcHJvdmlkZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnMoaWQsIHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldENsb3VkUHJvdmlkZXJSZWdpb25zKGlkLCBwYWdlLCBzaXplLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBsaXN0IG9mIHN1cHBvcnRlZCBjbG91ZCBwcm92aWRlcnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2xvdWRQcm92aWRlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0Q2xvdWRQcm92aWRlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIEthZmthIHJlcXVlc3QgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldEthZmthQnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0S2Fma2FCeUlkKGlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBLYWZrYSByZXF1ZXN0c1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3JkZXJCeV0gU3BlY2lmaWVzIHRoZSBvcmRlciBieSBjcml0ZXJpYS4gVGhlIHN5bnRheCBvZiB0aGlzIHBhcmFtZXRlciBpcyBzaW1pbGFyIHRvIHRoZSBzeW50YXggb2YgdGhlICYjeDYwO29yZGVyIGJ5JiN4NjA7IGNsYXVzZSBvZiBhbiBTUUwgc3RhdGVtZW50LiBFYWNoIHF1ZXJ5IGNhbiBiZSBvcmRlcmVkIGJ5IGFueSBvZiB0aGUgJiN4NjA7a2Fma2FSZXF1ZXN0cyYjeDYwOyBmaWVsZHMuIEZvciBleGFtcGxlLCB0byByZXR1cm4gYWxsIEthZmthIGluc3RhbmNlcyBvcmRlcmVkIGJ5IHRoZWlyIG5hbWUsIHVzZSB0aGUgZm9sbG93aW5nIHN5bnRheDogICYjeDYwOyYjeDYwOyYjeDYwO3NxbCBuYW1lIGFzYyAmI3g2MDsmI3g2MDsmI3g2MDsgIFRvIHJldHVybiBhbGwgS2Fma2EgaW5zdGFuY2VzIG9yZGVyZWQgYnkgdGhlaXIgbmFtZSBfYW5kXyBjcmVhdGVkIGRhdGUsIHVzZSB0aGUgZm9sbG93aW5nIHN5bnRheDogICYjeDYwOyYjeDYwOyYjeDYwO3NxbCBuYW1lIGFzYywgY3JlYXRlZF9hdCBhc2MgJiN4NjA7JiN4NjA7JiN4NjA7ICBJZiB0aGUgcGFyYW1ldGVyIGlzblxcJiMzOTt0IHByb3ZpZGVkLCBvciBpZiB0aGUgdmFsdWUgaXMgZW1wdHksIHRoZW4gdGhlIHJlc3VsdHMgYXJlIG9yZGVyZWQgYnkgbmFtZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzZWFyY2hdIFNlYXJjaCBjcml0ZXJpYS4gIFRoZSBzeW50YXggb2YgdGhpcyBwYXJhbWV0ZXIgaXMgc2ltaWxhciB0byB0aGUgc3ludGF4IG9mIHRoZSAmI3g2MDt3aGVyZSYjeDYwOyBjbGF1c2Ugb2YgYW4gU1FMIHN0YXRlbWVudC4gQWxsb3dlZCBmaWVsZHMgaW4gdGhlIHNlYXJjaCBhcmUgJiN4NjA7Y2xvdWRfcHJvdmlkZXImI3g2MDssICYjeDYwO25hbWUmI3g2MDssICYjeDYwO293bmVyJiN4NjA7LCAmI3g2MDtyZWdpb24mI3g2MDssIGFuZCAmI3g2MDtzdGF0dXMmI3g2MDsuIEFsbG93ZWQgY29tcGFyYXRvcnMgYXJlICYjeDYwOyZsdDsmZ3Q7JiN4NjA7LCAmI3g2MDsmI3gzRDsmI3g2MDssIG9yICYjeDYwO0xJS0UmI3g2MDsuIEFsbG93ZWQgam9pbnMgYXJlICYjeDYwO0FORCYjeDYwOyBhbmQgJiN4NjA7T1ImI3g2MDsuIEhvd2V2ZXIsIHlvdSBjYW4gdXNlIGEgbWF4aW11bSBvZiAxMCBqb2lucyBpbiBhIHNlYXJjaCBxdWVyeS4gIEV4YW1wbGVzOiAgVG8gcmV0dXJuIGEgS2Fma2EgaW5zdGFuY2Ugd2l0aCB0aGUgbmFtZSAmI3g2MDtteS1rYWZrYSYjeDYwOyBhbmQgdGhlIHJlZ2lvbiAmI3g2MDthd3MmI3g2MDssIHVzZSB0aGUgZm9sbG93aW5nIHN5bnRheDogICYjeDYwOyYjeDYwOyYjeDYwOyBuYW1lICYjeDNEOyBteS1rYWZrYSBhbmQgY2xvdWRfcHJvdmlkZXIgJiN4M0Q7IGF3cyAmI3g2MDsmI3g2MDsmI3g2MDtbcC1dICBUbyByZXR1cm4gYSBLYWZrYSBpbnN0YW5jZSB3aXRoIGEgbmFtZSB0aGF0IHN0YXJ0cyB3aXRoICYjeDYwO215JiN4NjA7LCB1c2UgdGhlIGZvbGxvd2luZyBzeW50YXg6ICAmI3g2MDsmI3g2MDsmI3g2MDsgbmFtZSBsaWtlIG15JTI1ICYjeDYwOyYjeDYwOyYjeDYwOyAgSWYgdGhlIHBhcmFtZXRlciBpc25cXCYjMzk7dCBwcm92aWRlZCwgb3IgaWYgdGhlIHZhbHVlIGlzIGVtcHR5LCB0aGVuIGFsbCB0aGUgS2Fma2EgaW5zdGFuY2VzIHRoYXQgdGhlIHVzZXIgaGFzIHBlcm1pc3Npb24gdG8gc2VlIGFyZSByZXR1cm5lZC4gIE5vdGUuIElmIHRoZSBxdWVyeSBpcyBpbnZhbGlkLCBhbiBlcnJvciBpcyByZXR1cm5lZC5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldEthZmthcyhwYWdlLCBzaXplLCBvcmRlckJ5LCBzZWFyY2gsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldEthZmthcyhwYWdlLCBzaXplLCBvcmRlckJ5LCBzZWFyY2gsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgbWV0cmljcyB3aXRoIGluc3RhbnQgcXVlcnkgYnkgS2Fma2EgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBbZmlsdGVyc10gTGlzdCBvZiBtZXRyaWNzIHRvIGZldGNoLiBGZXRjaCBhbGwgbWV0cmljcyB3aGVuIGVtcHR5LiBMaXN0IGVudHJpZXMgYXJlIEthZmthIGludGVybmFsIG1ldHJpYyBuYW1lcy5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldE1ldHJpY3NCeUluc3RhbnRRdWVyeShpZCwgZmlsdGVycywgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0TWV0cmljc0J5SW5zdGFudFF1ZXJ5KGlkLCBmaWx0ZXJzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIG1ldHJpY3Mgd2l0aCB0aW1lc2VyaWVzIHJhbmdlIHF1ZXJ5IGJ5IEthZmthIElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgbGVuZ3RoIG9mIHRpbWUgaW4gbWludXRlcyBmb3Igd2hpY2ggdG8gcmV0dXJuIHRoZSBtZXRyaWNzXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcnZhbCBUaGUgaW50ZXJ2YWwgaW4gc2Vjb25kcyBiZXR3ZWVuIGRhdGEgcG9pbnRzXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gW2ZpbHRlcnNdIExpc3Qgb2YgbWV0cmljcyB0byBmZXRjaC4gRmV0Y2ggYWxsIG1ldHJpY3Mgd2hlbiBlbXB0eS4gTGlzdCBlbnRyaWVzIGFyZSBLYWZrYSBpbnRlcm5hbCBtZXRyaWMgbmFtZXMuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRNZXRyaWNzQnlSYW5nZVF1ZXJ5KGlkLCBkdXJhdGlvbiwgaW50ZXJ2YWwsIGZpbHRlcnMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldE1ldHJpY3NCeVJhbmdlUXVlcnkoaWQsIGR1cmF0aW9uLCBpbnRlcnZhbCwgZmlsdGVycywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgc3RhdHVzIG9mIHJlc291cmNlcywgc3VjaCBhcyB3aGV0aGVyIG1heGltdW0gc2VydmljZSBjYXBhY2l0eSBoYXMgYmVlbiByZWFjaGVkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZXJ2aWNlU3RhdHVzKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldFNlcnZpY2VTdGF0dXMob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgdmVyc2lvbiBtZXRhZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VmVyc2lvbk1ldGFkYXRhKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmdldFZlcnNpb25NZXRhZGF0YShvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLkRlZmF1bHRBcGlGcCA9IERlZmF1bHRBcGlGcDtcbi8qKlxuICogRGVmYXVsdEFwaSAtIGZhY3RvcnkgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IERlZmF1bHRBcGlGYWN0b3J5ID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24sIGJhc2VQYXRoLCBheGlvcykge1xuICAgIGNvbnN0IGxvY2FsVmFyRnAgPSBleHBvcnRzLkRlZmF1bHRBcGlGcChjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIEthZmthIHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0ge0thZmthUmVxdWVzdFBheWxvYWR9IGthZmthUmVxdWVzdFBheWxvYWQgS2Fma2EgZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlS2Fma2EoYXN5bmMsIGthZmthUmVxdWVzdFBheWxvYWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmNyZWF0ZUthZmthKGFzeW5jLCBrYWZrYVJlcXVlc3RQYXlsb2FkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgRGVsZXRlcyBhIEthZmthIHJlcXVlc3QgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBhc3luYyBQZXJmb3JtIHRoZSBhY3Rpb24gaW4gYW4gYXN5bmNocm9ub3VzIG1hbm5lclxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlS2Fma2FCeUlkKGlkLCBhc3luYywgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZGVsZXRlS2Fma2FCeUlkKGlkLCBhc3luYywgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIHJlZ2lvbnMgb2YgdGhlIHN1cHBvcnRlZCBjbG91ZCBwcm92aWRlclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhZ2VdIFBhZ2UgaW5kZXhcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDbG91ZFByb3ZpZGVyUmVnaW9ucyhpZCwgcGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnMoaWQsIHBhZ2UsIHNpemUsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBsaXN0IG9mIHN1cHBvcnRlZCBjbG91ZCBwcm92aWRlcnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2xvdWRQcm92aWRlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0Q2xvdWRQcm92aWRlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBLYWZrYSByZXF1ZXN0IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRLYWZrYUJ5SWQoaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmdldEthZmthQnlJZChpZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIEthZmthIHJlcXVlc3RzXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpemVdIE51bWJlciBvZiBpdGVtcyBpbiBlYWNoIHBhZ2VcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcmRlckJ5XSBTcGVjaWZpZXMgdGhlIG9yZGVyIGJ5IGNyaXRlcmlhLiBUaGUgc3ludGF4IG9mIHRoaXMgcGFyYW1ldGVyIGlzIHNpbWlsYXIgdG8gdGhlIHN5bnRheCBvZiB0aGUgJiN4NjA7b3JkZXIgYnkmI3g2MDsgY2xhdXNlIG9mIGFuIFNRTCBzdGF0ZW1lbnQuIEVhY2ggcXVlcnkgY2FuIGJlIG9yZGVyZWQgYnkgYW55IG9mIHRoZSAmI3g2MDtrYWZrYVJlcXVlc3RzJiN4NjA7IGZpZWxkcy4gRm9yIGV4YW1wbGUsIHRvIHJldHVybiBhbGwgS2Fma2EgaW5zdGFuY2VzIG9yZGVyZWQgYnkgdGhlaXIgbmFtZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjICYjeDYwOyYjeDYwOyYjeDYwOyAgVG8gcmV0dXJuIGFsbCBLYWZrYSBpbnN0YW5jZXMgb3JkZXJlZCBieSB0aGVpciBuYW1lIF9hbmRfIGNyZWF0ZWQgZGF0ZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjLCBjcmVhdGVkX2F0IGFzYyAmI3g2MDsmI3g2MDsmI3g2MDsgIElmIHRoZSBwYXJhbWV0ZXIgaXNuXFwmIzM5O3QgcHJvdmlkZWQsIG9yIGlmIHRoZSB2YWx1ZSBpcyBlbXB0eSwgdGhlbiB0aGUgcmVzdWx0cyBhcmUgb3JkZXJlZCBieSBuYW1lLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlYXJjaF0gU2VhcmNoIGNyaXRlcmlhLiAgVGhlIHN5bnRheCBvZiB0aGlzIHBhcmFtZXRlciBpcyBzaW1pbGFyIHRvIHRoZSBzeW50YXggb2YgdGhlICYjeDYwO3doZXJlJiN4NjA7IGNsYXVzZSBvZiBhbiBTUUwgc3RhdGVtZW50LiBBbGxvd2VkIGZpZWxkcyBpbiB0aGUgc2VhcmNoIGFyZSAmI3g2MDtjbG91ZF9wcm92aWRlciYjeDYwOywgJiN4NjA7bmFtZSYjeDYwOywgJiN4NjA7b3duZXImI3g2MDssICYjeDYwO3JlZ2lvbiYjeDYwOywgYW5kICYjeDYwO3N0YXR1cyYjeDYwOy4gQWxsb3dlZCBjb21wYXJhdG9ycyBhcmUgJiN4NjA7Jmx0OyZndDsmI3g2MDssICYjeDYwOyYjeDNEOyYjeDYwOywgb3IgJiN4NjA7TElLRSYjeDYwOy4gQWxsb3dlZCBqb2lucyBhcmUgJiN4NjA7QU5EJiN4NjA7IGFuZCAmI3g2MDtPUiYjeDYwOy4gSG93ZXZlciwgeW91IGNhbiB1c2UgYSBtYXhpbXVtIG9mIDEwIGpvaW5zIGluIGEgc2VhcmNoIHF1ZXJ5LiAgRXhhbXBsZXM6ICBUbyByZXR1cm4gYSBLYWZrYSBpbnN0YW5jZSB3aXRoIHRoZSBuYW1lICYjeDYwO215LWthZmthJiN4NjA7IGFuZCB0aGUgcmVnaW9uICYjeDYwO2F3cyYjeDYwOywgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7IG5hbWUgJiN4M0Q7IG15LWthZmthIGFuZCBjbG91ZF9wcm92aWRlciAmI3gzRDsgYXdzICYjeDYwOyYjeDYwOyYjeDYwO1twLV0gIFRvIHJldHVybiBhIEthZmthIGluc3RhbmNlIHdpdGggYSBuYW1lIHRoYXQgc3RhcnRzIHdpdGggJiN4NjA7bXkmI3g2MDssIHVzZSB0aGUgZm9sbG93aW5nIHN5bnRheDogICYjeDYwOyYjeDYwOyYjeDYwOyBuYW1lIGxpa2UgbXklMjUgJiN4NjA7JiN4NjA7JiN4NjA7ICBJZiB0aGUgcGFyYW1ldGVyIGlzblxcJiMzOTt0IHByb3ZpZGVkLCBvciBpZiB0aGUgdmFsdWUgaXMgZW1wdHksIHRoZW4gYWxsIHRoZSBLYWZrYSBpbnN0YW5jZXMgdGhhdCB0aGUgdXNlciBoYXMgcGVybWlzc2lvbiB0byBzZWUgYXJlIHJldHVybmVkLiAgTm90ZS4gSWYgdGhlIHF1ZXJ5IGlzIGludmFsaWQsIGFuIGVycm9yIGlzIHJldHVybmVkLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0S2Fma2FzKHBhZ2UsIHNpemUsIG9yZGVyQnksIHNlYXJjaCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0S2Fma2FzKHBhZ2UsIHNpemUsIG9yZGVyQnksIHNlYXJjaCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgbWV0cmljcyB3aXRoIGluc3RhbnQgcXVlcnkgYnkgS2Fma2EgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBbZmlsdGVyc10gTGlzdCBvZiBtZXRyaWNzIHRvIGZldGNoLiBGZXRjaCBhbGwgbWV0cmljcyB3aGVuIGVtcHR5LiBMaXN0IGVudHJpZXMgYXJlIEthZmthIGludGVybmFsIG1ldHJpYyBuYW1lcy5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldE1ldHJpY3NCeUluc3RhbnRRdWVyeShpZCwgZmlsdGVycywgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0TWV0cmljc0J5SW5zdGFudFF1ZXJ5KGlkLCBmaWx0ZXJzLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBtZXRyaWNzIHdpdGggdGltZXNlcmllcyByYW5nZSBxdWVyeSBieSBLYWZrYSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGxlbmd0aCBvZiB0aW1lIGluIG1pbnV0ZXMgZm9yIHdoaWNoIHRvIHJldHVybiB0aGUgbWV0cmljc1xuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZXJ2YWwgVGhlIGludGVydmFsIGluIHNlY29uZHMgYmV0d2VlbiBkYXRhIHBvaW50c1xuICAgICAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtmaWx0ZXJzXSBMaXN0IG9mIG1ldHJpY3MgdG8gZmV0Y2guIEZldGNoIGFsbCBtZXRyaWNzIHdoZW4gZW1wdHkuIExpc3QgZW50cmllcyBhcmUgS2Fma2EgaW50ZXJuYWwgbWV0cmljIG5hbWVzLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TWV0cmljc0J5UmFuZ2VRdWVyeShpZCwgZHVyYXRpb24sIGludGVydmFsLCBmaWx0ZXJzLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5nZXRNZXRyaWNzQnlSYW5nZVF1ZXJ5KGlkLCBkdXJhdGlvbiwgaW50ZXJ2YWwsIGZpbHRlcnMsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBzdGF0dXMgb2YgcmVzb3VyY2VzLCBzdWNoIGFzIHdoZXRoZXIgbWF4aW11bSBzZXJ2aWNlIGNhcGFjaXR5IGhhcyBiZWVuIHJlYWNoZWRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlcnZpY2VTdGF0dXMob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZ2V0U2VydmljZVN0YXR1cyhvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgdmVyc2lvbiBtZXRhZGF0YVxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VmVyc2lvbk1ldGFkYXRhKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmdldFZlcnNpb25NZXRhZGF0YShvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuZXhwb3J0cy5EZWZhdWx0QXBpRmFjdG9yeSA9IERlZmF1bHRBcGlGYWN0b3J5O1xuLyoqXG4gKiBEZWZhdWx0QXBpIC0gb2JqZWN0LW9yaWVudGVkIGludGVyZmFjZVxuICogQGV4cG9ydFxuICogQGNsYXNzIERlZmF1bHRBcGlcbiAqIEBleHRlbmRzIHtCYXNlQVBJfVxuICovXG5jbGFzcyBEZWZhdWx0QXBpIGV4dGVuZHMgYmFzZV8xLkJhc2VBUEkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIEthZmthIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzeW5jIFBlcmZvcm0gdGhlIGFjdGlvbiBpbiBhbiBhc3luY2hyb25vdXMgbWFubmVyXG4gICAgICogQHBhcmFtIHtLYWZrYVJlcXVlc3RQYXlsb2FkfSBrYWZrYVJlcXVlc3RQYXlsb2FkIEthZmthIGRhdGFcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIERlZmF1bHRBcGlcbiAgICAgKi9cbiAgICBjcmVhdGVLYWZrYShhc3luYywga2Fma2FSZXF1ZXN0UGF5bG9hZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5jcmVhdGVLYWZrYShhc3luYywga2Fma2FSZXF1ZXN0UGF5bG9hZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgRGVsZXRlcyBhIEthZmthIHJlcXVlc3QgYnkgSURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXN5bmMgUGVyZm9ybSB0aGUgYWN0aW9uIGluIGFuIGFzeW5jaHJvbm91cyBtYW5uZXJcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIERlZmF1bHRBcGlcbiAgICAgKi9cbiAgICBkZWxldGVLYWZrYUJ5SWQoaWQsIGFzeW5jLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkRlZmF1bHRBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmRlbGV0ZUthZmthQnlJZChpZCwgYXN5bmMsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIHJlZ2lvbnMgb2YgdGhlIHN1cHBvcnRlZCBjbG91ZCBwcm92aWRlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QXBpXG4gICAgICovXG4gICAgZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnMoaWQsIHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuZ2V0Q2xvdWRQcm92aWRlclJlZ2lvbnMoaWQsIHBhZ2UsIHNpemUsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIGNsb3VkIHByb3ZpZGVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFnZV0gUGFnZSBpbmRleFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gTnVtYmVyIG9mIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGdldENsb3VkUHJvdmlkZXJzKHBhZ2UsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuRGVmYXVsdEFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuZ2V0Q2xvdWRQcm92aWRlcnMocGFnZSwgc2l6ZSwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgUmV0dXJucyBhIEthZmthIHJlcXVlc3QgYnkgSURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGdldEthZmthQnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRLYWZrYUJ5SWQoaWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIEthZmthIHJlcXVlc3RzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYWdlXSBQYWdlIGluZGV4XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBOdW1iZXIgb2YgaXRlbXMgaW4gZWFjaCBwYWdlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcmRlckJ5XSBTcGVjaWZpZXMgdGhlIG9yZGVyIGJ5IGNyaXRlcmlhLiBUaGUgc3ludGF4IG9mIHRoaXMgcGFyYW1ldGVyIGlzIHNpbWlsYXIgdG8gdGhlIHN5bnRheCBvZiB0aGUgJiN4NjA7b3JkZXIgYnkmI3g2MDsgY2xhdXNlIG9mIGFuIFNRTCBzdGF0ZW1lbnQuIEVhY2ggcXVlcnkgY2FuIGJlIG9yZGVyZWQgYnkgYW55IG9mIHRoZSAmI3g2MDtrYWZrYVJlcXVlc3RzJiN4NjA7IGZpZWxkcy4gRm9yIGV4YW1wbGUsIHRvIHJldHVybiBhbGwgS2Fma2EgaW5zdGFuY2VzIG9yZGVyZWQgYnkgdGhlaXIgbmFtZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjICYjeDYwOyYjeDYwOyYjeDYwOyAgVG8gcmV0dXJuIGFsbCBLYWZrYSBpbnN0YW5jZXMgb3JkZXJlZCBieSB0aGVpciBuYW1lIF9hbmRfIGNyZWF0ZWQgZGF0ZSwgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7c3FsIG5hbWUgYXNjLCBjcmVhdGVkX2F0IGFzYyAmI3g2MDsmI3g2MDsmI3g2MDsgIElmIHRoZSBwYXJhbWV0ZXIgaXNuXFwmIzM5O3QgcHJvdmlkZWQsIG9yIGlmIHRoZSB2YWx1ZSBpcyBlbXB0eSwgdGhlbiB0aGUgcmVzdWx0cyBhcmUgb3JkZXJlZCBieSBuYW1lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2VhcmNoXSBTZWFyY2ggY3JpdGVyaWEuICBUaGUgc3ludGF4IG9mIHRoaXMgcGFyYW1ldGVyIGlzIHNpbWlsYXIgdG8gdGhlIHN5bnRheCBvZiB0aGUgJiN4NjA7d2hlcmUmI3g2MDsgY2xhdXNlIG9mIGFuIFNRTCBzdGF0ZW1lbnQuIEFsbG93ZWQgZmllbGRzIGluIHRoZSBzZWFyY2ggYXJlICYjeDYwO2Nsb3VkX3Byb3ZpZGVyJiN4NjA7LCAmI3g2MDtuYW1lJiN4NjA7LCAmI3g2MDtvd25lciYjeDYwOywgJiN4NjA7cmVnaW9uJiN4NjA7LCBhbmQgJiN4NjA7c3RhdHVzJiN4NjA7LiBBbGxvd2VkIGNvbXBhcmF0b3JzIGFyZSAmI3g2MDsmbHQ7Jmd0OyYjeDYwOywgJiN4NjA7JiN4M0Q7JiN4NjA7LCBvciAmI3g2MDtMSUtFJiN4NjA7LiBBbGxvd2VkIGpvaW5zIGFyZSAmI3g2MDtBTkQmI3g2MDsgYW5kICYjeDYwO09SJiN4NjA7LiBIb3dldmVyLCB5b3UgY2FuIHVzZSBhIG1heGltdW0gb2YgMTAgam9pbnMgaW4gYSBzZWFyY2ggcXVlcnkuICBFeGFtcGxlczogIFRvIHJldHVybiBhIEthZmthIGluc3RhbmNlIHdpdGggdGhlIG5hbWUgJiN4NjA7bXkta2Fma2EmI3g2MDsgYW5kIHRoZSByZWdpb24gJiN4NjA7YXdzJiN4NjA7LCB1c2UgdGhlIGZvbGxvd2luZyBzeW50YXg6ICAmI3g2MDsmI3g2MDsmI3g2MDsgbmFtZSAmI3gzRDsgbXkta2Fma2EgYW5kIGNsb3VkX3Byb3ZpZGVyICYjeDNEOyBhd3MgJiN4NjA7JiN4NjA7JiN4NjA7W3AtXSAgVG8gcmV0dXJuIGEgS2Fma2EgaW5zdGFuY2Ugd2l0aCBhIG5hbWUgdGhhdCBzdGFydHMgd2l0aCAmI3g2MDtteSYjeDYwOywgdXNlIHRoZSBmb2xsb3dpbmcgc3ludGF4OiAgJiN4NjA7JiN4NjA7JiN4NjA7IG5hbWUgbGlrZSBteSUyNSAmI3g2MDsmI3g2MDsmI3g2MDsgIElmIHRoZSBwYXJhbWV0ZXIgaXNuXFwmIzM5O3QgcHJvdmlkZWQsIG9yIGlmIHRoZSB2YWx1ZSBpcyBlbXB0eSwgdGhlbiBhbGwgdGhlIEthZmthIGluc3RhbmNlcyB0aGF0IHRoZSB1c2VyIGhhcyBwZXJtaXNzaW9uIHRvIHNlZSBhcmUgcmV0dXJuZWQuICBOb3RlLiBJZiB0aGUgcXVlcnkgaXMgaW52YWxpZCwgYW4gZXJyb3IgaXMgcmV0dXJuZWQuXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QXBpXG4gICAgICovXG4gICAgZ2V0S2Fma2FzKHBhZ2UsIHNpemUsIG9yZGVyQnksIHNlYXJjaCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRLYWZrYXMocGFnZSwgc2l6ZSwgb3JkZXJCeSwgc2VhcmNoLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIG1ldHJpY3Mgd2l0aCBpbnN0YW50IHF1ZXJ5IGJ5IEthZmthIElEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtmaWx0ZXJzXSBMaXN0IG9mIG1ldHJpY3MgdG8gZmV0Y2guIEZldGNoIGFsbCBtZXRyaWNzIHdoZW4gZW1wdHkuIExpc3QgZW50cmllcyBhcmUgS2Fma2EgaW50ZXJuYWwgbWV0cmljIG5hbWVzLlxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGdldE1ldHJpY3NCeUluc3RhbnRRdWVyeShpZCwgZmlsdGVycywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRNZXRyaWNzQnlJbnN0YW50UXVlcnkoaWQsIGZpbHRlcnMsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgbWV0cmljcyB3aXRoIHRpbWVzZXJpZXMgcmFuZ2UgcXVlcnkgYnkgS2Fma2EgSURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgbGVuZ3RoIG9mIHRpbWUgaW4gbWludXRlcyBmb3Igd2hpY2ggdG8gcmV0dXJuIHRoZSBtZXRyaWNzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGludGVydmFsIFRoZSBpbnRlcnZhbCBpbiBzZWNvbmRzIGJldHdlZW4gZGF0YSBwb2ludHNcbiAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtmaWx0ZXJzXSBMaXN0IG9mIG1ldHJpY3MgdG8gZmV0Y2guIEZldGNoIGFsbCBtZXRyaWNzIHdoZW4gZW1wdHkuIExpc3QgZW50cmllcyBhcmUgS2Fma2EgaW50ZXJuYWwgbWV0cmljIG5hbWVzLlxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGdldE1ldHJpY3NCeVJhbmdlUXVlcnkoaWQsIGR1cmF0aW9uLCBpbnRlcnZhbCwgZmlsdGVycywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRNZXRyaWNzQnlSYW5nZVF1ZXJ5KGlkLCBkdXJhdGlvbiwgaW50ZXJ2YWwsIGZpbHRlcnMsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIHN0YXR1cyBvZiByZXNvdXJjZXMsIHN1Y2ggYXMgd2hldGhlciBtYXhpbXVtIHNlcnZpY2UgY2FwYWNpdHkgaGFzIGJlZW4gcmVhY2hlZFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEFwaVxuICAgICAqL1xuICAgIGdldFNlcnZpY2VTdGF0dXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRTZXJ2aWNlU3RhdHVzKG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIHZlcnNpb24gbWV0YWRhdGFcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIERlZmF1bHRBcGlcbiAgICAgKi9cbiAgICBnZXRWZXJzaW9uTWV0YWRhdGEob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5EZWZhdWx0QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRWZXJzaW9uTWV0YWRhdGEob3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxufVxuZXhwb3J0cy5EZWZhdWx0QXBpID0gRGVmYXVsdEFwaTtcbi8qKlxuICogU2VjdXJpdHlBcGkgLSBheGlvcyBwYXJhbWV0ZXIgY3JlYXRvclxuICogQGV4cG9ydFxuICovXG5jb25zdCBTZWN1cml0eUFwaUF4aW9zUGFyYW1DcmVhdG9yID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIHNlcnZpY2UgYWNjb3VudFxuICAgICAgICAgKiBAcGFyYW0ge1NlcnZpY2VBY2NvdW50UmVxdWVzdH0gc2VydmljZUFjY291bnRSZXF1ZXN0IFNlcnZpY2UgYWNjb3VudCByZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVTZXJ2aWNlQWNjb3VudDogKHNlcnZpY2VBY2NvdW50UmVxdWVzdCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdzZXJ2aWNlQWNjb3VudFJlcXVlc3QnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZVNlcnZpY2VBY2NvdW50JywgJ3NlcnZpY2VBY2NvdW50UmVxdWVzdCcsIHNlcnZpY2VBY2NvdW50UmVxdWVzdCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9zZXJ2aWNlX2FjY291bnRzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnUE9TVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5kYXRhID0gY29tbW9uXzEuc2VyaWFsaXplRGF0YUlmTmVlZGVkKHNlcnZpY2VBY2NvdW50UmVxdWVzdCwgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucywgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBEZWxldGVzIGEgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVTZXJ2aWNlQWNjb3VudEJ5SWQ6IChpZCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZGVsZXRlU2VydmljZUFjY291bnRCeUlkJywgJ2lkJywgaWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjEvc2VydmljZV9hY2NvdW50cy97aWR9YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImlkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0RFTEVURScgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJuZWQgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZXJ2aWNlQWNjb3VudEJ5SWQ6IChpZCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZ2V0U2VydmljZUFjY291bnRCeUlkJywgJ2lkJywgaWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hcGkva2Fma2FzX21nbXQvdjEvc2VydmljZV9hY2NvdW50cy97aWR9YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImlkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoaWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiBCZWFyZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIC8vIGh0dHAgYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkXG4gICAgICAgICAgICB5aWVsZCBjb21tb25fMS5zZXRCZWFyZXJBdXRoVG9PYmplY3QobG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyLCBvcHRpb25zLnF1ZXJ5KTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2Ygc2VydmljZSBhY2NvdW50c1xuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U2VydmljZUFjY291bnRzOiAob3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2FwaS9rYWZrYXNfbWdtdC92MS9zZXJ2aWNlX2FjY291bnRzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXNldHMgdGhlIGNyZWRlbnRpYWxzIGZvciBhIHNlcnZpY2UgYWNjb3VudCBieSBJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgcmVzZXRTZXJ2aWNlQWNjb3VudENyZWRzOiAoaWQsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnaWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ3Jlc2V0U2VydmljZUFjY291bnRDcmVkcycsICdpZCcsIGlkKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXBpL2thZmthc19tZ210L3YxL3NlcnZpY2VfYWNjb3VudHMve2lkfS9yZXNldF9jcmVkZW50aWFsc2BcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJpZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGlkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdQT1NUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIEJlYXJlciByZXF1aXJlZFxuICAgICAgICAgICAgLy8gaHR0cCBiZWFyZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWRcbiAgICAgICAgICAgIHlpZWxkIGNvbW1vbl8xLnNldEJlYXJlckF1dGhUb09iamVjdChsb2NhbFZhckhlYWRlclBhcmFtZXRlciwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIsIG9wdGlvbnMucXVlcnkpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgfTtcbn07XG5leHBvcnRzLlNlY3VyaXR5QXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBTZWN1cml0eUFwaUF4aW9zUGFyYW1DcmVhdG9yO1xuLyoqXG4gKiBTZWN1cml0eUFwaSAtIGZ1bmN0aW9uYWwgcHJvZ3JhbW1pbmcgaW50ZXJmYWNlXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IFNlY3VyaXR5QXBpRnAgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbikge1xuICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IgPSBleHBvcnRzLlNlY3VyaXR5QXBpQXhpb3NQYXJhbUNyZWF0b3IoY29uZmlndXJhdGlvbik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZXMgYSBzZXJ2aWNlIGFjY291bnRcbiAgICAgICAgICogQHBhcmFtIHtTZXJ2aWNlQWNjb3VudFJlcXVlc3R9IHNlcnZpY2VBY2NvdW50UmVxdWVzdCBTZXJ2aWNlIGFjY291bnQgcmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlU2VydmljZUFjY291bnQoc2VydmljZUFjY291bnRSZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5jcmVhdGVTZXJ2aWNlQWNjb3VudChzZXJ2aWNlQWNjb3VudFJlcXVlc3QsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZXMgYSBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZVNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZGVsZXRlU2VydmljZUFjY291bnRCeUlkKGlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5lZCBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0U2VydmljZUFjY291bnRCeUlkKGlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBzZXJ2aWNlIGFjY291bnRzXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZXJ2aWNlQWNjb3VudHMob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZ2V0U2VydmljZUFjY291bnRzKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJlc2V0cyB0aGUgY3JlZGVudGlhbHMgZm9yIGEgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICByZXNldFNlcnZpY2VBY2NvdW50Q3JlZHMoaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLnJlc2V0U2VydmljZUFjY291bnRDcmVkcyhpZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuZXhwb3J0cy5TZWN1cml0eUFwaUZwID0gU2VjdXJpdHlBcGlGcDtcbi8qKlxuICogU2VjdXJpdHlBcGkgLSBmYWN0b3J5IGludGVyZmFjZVxuICogQGV4cG9ydFxuICovXG5jb25zdCBTZWN1cml0eUFwaUZhY3RvcnkgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbiwgYmFzZVBhdGgsIGF4aW9zKSB7XG4gICAgY29uc3QgbG9jYWxWYXJGcCA9IGV4cG9ydHMuU2VjdXJpdHlBcGlGcChjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIHNlcnZpY2UgYWNjb3VudFxuICAgICAgICAgKiBAcGFyYW0ge1NlcnZpY2VBY2NvdW50UmVxdWVzdH0gc2VydmljZUFjY291bnRSZXF1ZXN0IFNlcnZpY2UgYWNjb3VudCByZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVTZXJ2aWNlQWNjb3VudChzZXJ2aWNlQWNjb3VudFJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmNyZWF0ZVNlcnZpY2VBY2NvdW50KHNlcnZpY2VBY2NvdW50UmVxdWVzdCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZXMgYSBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZVNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZGVsZXRlU2VydmljZUFjY291bnRCeUlkKGlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJuZWQgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZXJ2aWNlQWNjb3VudEJ5SWQoaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmdldFNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIHNlcnZpY2UgYWNjb3VudHNcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlcnZpY2VBY2NvdW50cyhvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5nZXRTZXJ2aWNlQWNjb3VudHMob3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJlc2V0cyB0aGUgY3JlZGVudGlhbHMgZm9yIGEgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICByZXNldFNlcnZpY2VBY2NvdW50Q3JlZHMoaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLnJlc2V0U2VydmljZUFjY291bnRDcmVkcyhpZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbmV4cG9ydHMuU2VjdXJpdHlBcGlGYWN0b3J5ID0gU2VjdXJpdHlBcGlGYWN0b3J5O1xuLyoqXG4gKiBTZWN1cml0eUFwaSAtIG9iamVjdC1vcmllbnRlZCBpbnRlcmZhY2VcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBTZWN1cml0eUFwaVxuICogQGV4dGVuZHMge0Jhc2VBUEl9XG4gKi9cbmNsYXNzIFNlY3VyaXR5QXBpIGV4dGVuZHMgYmFzZV8xLkJhc2VBUEkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIHNlcnZpY2UgYWNjb3VudFxuICAgICAqIEBwYXJhbSB7U2VydmljZUFjY291bnRSZXF1ZXN0fSBzZXJ2aWNlQWNjb3VudFJlcXVlc3QgU2VydmljZSBhY2NvdW50IHJlcXVlc3RcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIFNlY3VyaXR5QXBpXG4gICAgICovXG4gICAgY3JlYXRlU2VydmljZUFjY291bnQoc2VydmljZUFjY291bnRSZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLlNlY3VyaXR5QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5jcmVhdGVTZXJ2aWNlQWNjb3VudChzZXJ2aWNlQWNjb3VudFJlcXVlc3QsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IERlbGV0ZXMgYSBzZXJ2aWNlIGFjY291bnQgYnkgSURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHJlY29yZFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgU2VjdXJpdHlBcGlcbiAgICAgKi9cbiAgICBkZWxldGVTZXJ2aWNlQWNjb3VudEJ5SWQoaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuU2VjdXJpdHlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmRlbGV0ZVNlcnZpY2VBY2NvdW50QnlJZChpZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgUmV0dXJuZWQgc2VydmljZSBhY2NvdW50IGJ5IElEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiByZWNvcmRcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIFNlY3VyaXR5QXBpXG4gICAgICovXG4gICAgZ2V0U2VydmljZUFjY291bnRCeUlkKGlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLlNlY3VyaXR5QXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5nZXRTZXJ2aWNlQWNjb3VudEJ5SWQoaWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIHNlcnZpY2UgYWNjb3VudHNcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIFNlY3VyaXR5QXBpXG4gICAgICovXG4gICAgZ2V0U2VydmljZUFjY291bnRzKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuU2VjdXJpdHlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmdldFNlcnZpY2VBY2NvdW50cyhvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBSZXNldHMgdGhlIGNyZWRlbnRpYWxzIGZvciBhIHNlcnZpY2UgYWNjb3VudCBieSBJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgcmVjb3JkXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBTZWN1cml0eUFwaVxuICAgICAqL1xuICAgIHJlc2V0U2VydmljZUFjY291bnRDcmVkcyhpZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5TZWN1cml0eUFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikucmVzZXRTZXJ2aWNlQWNjb3VudENyZWRzKGlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG59XG5leHBvcnRzLlNlY3VyaXR5QXBpID0gU2VjdXJpdHlBcGk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///31100\n")},50778:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.RequiredError = exports.BaseAPI = exports.COLLECTION_FORMATS = exports.BASE_PATH = void 0;\n// Some imports not used depending on template conditions\n// @ts-ignore\nconst axios_1 = __webpack_require__(40107);\nexports.BASE_PATH = "https://api.openshift.com".replace(/\\/+$/, "");\n/**\n *\n * @export\n */\nexports.COLLECTION_FORMATS = {\n    csv: ",",\n    ssv: " ",\n    tsv: "\\t",\n    pipes: "|",\n};\n/**\n *\n * @export\n * @class BaseAPI\n */\nclass BaseAPI {\n    constructor(configuration, basePath = exports.BASE_PATH, axios = axios_1.default) {\n        this.basePath = basePath;\n        this.axios = axios;\n        if (configuration) {\n            this.configuration = configuration;\n            this.basePath = configuration.basePath || this.basePath;\n        }\n    }\n}\nexports.BaseAPI = BaseAPI;\n;\n/**\n *\n * @export\n * @class RequiredError\n * @extends {Error}\n */\nclass RequiredError extends Error {\n    constructor(field, msg) {\n        super(msg);\n        this.field = field;\n        this.name = "RequiredError";\n    }\n}\nexports.RequiredError = RequiredError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2Jhc2UuanM/MmIyNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLENBQUMsY0FBYyxFQUFDO0FBQzdELHFCQUFxQixHQUFHLGVBQWUsR0FBRywwQkFBMEIsR0FBRyxpQkFBaUI7QUFDeEY7QUFDQTtBQUNBLGdCQUFnQixtQkFBTyxDQUFDLEtBQU87QUFDL0IsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCIiwiZmlsZSI6IjUwNzc4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8qKlxuICogQ29ubmVjdG9yIFNlcnZpY2UgRmxlZXQgTWFuYWdlclxuICogQ29ubmVjdG9yIFNlcnZpY2UgRmxlZXQgTWFuYWdlciBpcyBhIFJlc3QgQVBJIHRvIG1hbmFnZSBjb25uZWN0b3JzLlxuICpcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBPcGVuQVBJIGRvY3VtZW50OiAwLjAuM1xuICpcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IE9wZW5BUEkgR2VuZXJhdG9yIChodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2gpLlxuICogaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoXG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVxdWlyZWRFcnJvciA9IGV4cG9ydHMuQmFzZUFQSSA9IGV4cG9ydHMuQ09MTEVDVElPTl9GT1JNQVRTID0gZXhwb3J0cy5CQVNFX1BBVEggPSB2b2lkIDA7XG4vLyBTb21lIGltcG9ydHMgbm90IHVzZWQgZGVwZW5kaW5nIG9uIHRlbXBsYXRlIGNvbmRpdGlvbnNcbi8vIEB0cy1pZ25vcmVcbmNvbnN0IGF4aW9zXzEgPSByZXF1aXJlKFwiYXhpb3NcIik7XG5leHBvcnRzLkJBU0VfUEFUSCA9IFwiaHR0cHM6Ly9hcGkub3BlbnNoaWZ0LmNvbVwiLnJlcGxhY2UoL1xcLyskLywgXCJcIik7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydHMuQ09MTEVDVElPTl9GT1JNQVRTID0ge1xuICAgIGNzdjogXCIsXCIsXG4gICAgc3N2OiBcIiBcIixcbiAgICB0c3Y6IFwiXFx0XCIsXG4gICAgcGlwZXM6IFwifFwiLFxufTtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBCYXNlQVBJXG4gKi9cbmNsYXNzIEJhc2VBUEkge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24sIGJhc2VQYXRoID0gZXhwb3J0cy5CQVNFX1BBVEgsIGF4aW9zID0gYXhpb3NfMS5kZWZhdWx0KSB7XG4gICAgICAgIHRoaXMuYmFzZVBhdGggPSBiYXNlUGF0aDtcbiAgICAgICAgdGhpcy5heGlvcyA9IGF4aW9zO1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuYmFzZVBhdGggPSBjb25maWd1cmF0aW9uLmJhc2VQYXRoIHx8IHRoaXMuYmFzZVBhdGg7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkJhc2VBUEkgPSBCYXNlQVBJO1xuO1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGNsYXNzIFJlcXVpcmVkRXJyb3JcbiAqIEBleHRlbmRzIHtFcnJvcn1cbiAqL1xuY2xhc3MgUmVxdWlyZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZCwgbXNnKSB7XG4gICAgICAgIHN1cGVyKG1zZyk7XG4gICAgICAgIHRoaXMuZmllbGQgPSBmaWVsZDtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJSZXF1aXJlZEVycm9yXCI7XG4gICAgfVxufVxuZXhwb3J0cy5SZXF1aXJlZEVycm9yID0gUmVxdWlyZWRFcnJvcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///50778\n')},98691:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.createRequestFunction = exports.toPathString = exports.serializeDataIfNeeded = exports.setSearchParams = exports.setOAuthToObject = exports.setBearerAuthToObject = exports.setBasicAuthToObject = exports.setApiKeyToObject = exports.assertParamExists = exports.DUMMY_BASE_URL = void 0;\nconst base_1 = __webpack_require__(50778);\n/**\n *\n * @export\n */\nexports.DUMMY_BASE_URL = \'https://example.com\';\n/**\n *\n * @throws {RequiredError}\n * @export\n */\nconst assertParamExists = function (functionName, paramName, paramValue) {\n    if (paramValue === null || paramValue === undefined) {\n        throw new base_1.RequiredError(paramName, `Required parameter ${paramName} was null or undefined when calling ${functionName}.`);\n    }\n};\nexports.assertParamExists = assertParamExists;\n/**\n *\n * @export\n */\nconst setApiKeyToObject = function (object, keyParamName, configuration) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (configuration && configuration.apiKey) {\n            const localVarApiKeyValue = typeof configuration.apiKey === \'function\'\n                ? yield configuration.apiKey(keyParamName)\n                : yield configuration.apiKey;\n            object[keyParamName] = localVarApiKeyValue;\n        }\n    });\n};\nexports.setApiKeyToObject = setApiKeyToObject;\n/**\n *\n * @export\n */\nconst setBasicAuthToObject = function (object, configuration) {\n    if (configuration && (configuration.username || configuration.password)) {\n        object["auth"] = { username: configuration.username, password: configuration.password };\n    }\n};\nexports.setBasicAuthToObject = setBasicAuthToObject;\n/**\n *\n * @export\n */\nconst setBearerAuthToObject = function (object, configuration) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (configuration && configuration.accessToken) {\n            const accessToken = typeof configuration.accessToken === \'function\'\n                ? yield configuration.accessToken()\n                : yield configuration.accessToken;\n            object["Authorization"] = "Bearer " + accessToken;\n        }\n    });\n};\nexports.setBearerAuthToObject = setBearerAuthToObject;\n/**\n *\n * @export\n */\nconst setOAuthToObject = function (object, name, scopes, configuration) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (configuration && configuration.accessToken) {\n            const localVarAccessTokenValue = typeof configuration.accessToken === \'function\'\n                ? yield configuration.accessToken(name, scopes)\n                : yield configuration.accessToken;\n            object["Authorization"] = "Bearer " + localVarAccessTokenValue;\n        }\n    });\n};\nexports.setOAuthToObject = setOAuthToObject;\n/**\n *\n * @export\n */\nconst setSearchParams = function (url, ...objects) {\n    const searchParams = new URLSearchParams(url.search);\n    for (const object of objects) {\n        for (const key in object) {\n            if (Array.isArray(object[key])) {\n                searchParams.delete(key);\n                for (const item of object[key]) {\n                    searchParams.append(key, item);\n                }\n            }\n            else {\n                searchParams.set(key, object[key]);\n            }\n        }\n    }\n    url.search = searchParams.toString();\n};\nexports.setSearchParams = setSearchParams;\n/**\n *\n * @export\n */\nconst serializeDataIfNeeded = function (value, requestOptions, configuration) {\n    const nonString = typeof value !== \'string\';\n    const needsSerialization = nonString && configuration && configuration.isJsonMime\n        ? configuration.isJsonMime(requestOptions.headers[\'Content-Type\'])\n        : nonString;\n    return needsSerialization\n        ? JSON.stringify(value !== undefined ? value : {})\n        : (value || "");\n};\nexports.serializeDataIfNeeded = serializeDataIfNeeded;\n/**\n *\n * @export\n */\nconst toPathString = function (url) {\n    return url.pathname + url.search + url.hash;\n};\nexports.toPathString = toPathString;\n/**\n *\n * @export\n */\nconst createRequestFunction = function (axiosArgs, globalAxios, BASE_PATH, configuration) {\n    return (axios = globalAxios, basePath = BASE_PATH) => {\n        const axiosRequestArgs = Object.assign(Object.assign({}, axiosArgs.options), { url: ((configuration === null || configuration === void 0 ? void 0 : configuration.basePath) || basePath) + axiosArgs.url });\n        return axios.request(axiosRequestArgs);\n    };\n};\nexports.createRequestFunction = createRequestFunction;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2NvbW1vbi5qcz84ZDY0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwrREFBK0QsZ0JBQWdCLEVBQUUsRUFBRTtBQUM5RztBQUNBLG1DQUFtQyxNQUFNLDZCQUE2QixFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ2pHLGtDQUFrQyxNQUFNLGlDQUFpQyxFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ3BHLCtCQUErQixxRkFBcUY7QUFDcEg7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4Q0FBNkMsQ0FBQyxjQUFjLEVBQUM7QUFDN0QsNkJBQTZCLEdBQUcsb0JBQW9CLEdBQUcsNkJBQTZCLEdBQUcsdUJBQXVCLEdBQUcsd0JBQXdCLEdBQUcsNkJBQTZCLEdBQUcsNEJBQTRCLEdBQUcseUJBQXlCLEdBQUcseUJBQXlCLEdBQUcsc0JBQXNCO0FBQ3pSLGVBQWUsbUJBQU8sQ0FBQyxLQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsVUFBVSxzQ0FBc0MsYUFBYTtBQUNySTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCx1QkFBdUIsNEhBQTRIO0FBQ2xOO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiIsImZpbGUiOiI5ODY5MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIENvbm5lY3RvciBTZXJ2aWNlIEZsZWV0IE1hbmFnZXJcbiAqIENvbm5lY3RvciBTZXJ2aWNlIEZsZWV0IE1hbmFnZXIgaXMgYSBSZXN0IEFQSSB0byBtYW5hZ2UgY29ubmVjdG9ycy5cbiAqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgT3BlbkFQSSBkb2N1bWVudDogMC4wLjNcbiAqXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSBPcGVuQVBJIEdlbmVyYXRvciAoaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoKS5cbiAqIGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uID0gZXhwb3J0cy50b1BhdGhTdHJpbmcgPSBleHBvcnRzLnNlcmlhbGl6ZURhdGFJZk5lZWRlZCA9IGV4cG9ydHMuc2V0U2VhcmNoUGFyYW1zID0gZXhwb3J0cy5zZXRPQXV0aFRvT2JqZWN0ID0gZXhwb3J0cy5zZXRCZWFyZXJBdXRoVG9PYmplY3QgPSBleHBvcnRzLnNldEJhc2ljQXV0aFRvT2JqZWN0ID0gZXhwb3J0cy5zZXRBcGlLZXlUb09iamVjdCA9IGV4cG9ydHMuYXNzZXJ0UGFyYW1FeGlzdHMgPSBleHBvcnRzLkRVTU1ZX0JBU0VfVVJMID0gdm9pZCAwO1xuY29uc3QgYmFzZV8xID0gcmVxdWlyZShcIi4vYmFzZVwiKTtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0cy5EVU1NWV9CQVNFX1VSTCA9ICdodHRwczovL2V4YW1wbGUuY29tJztcbi8qKlxuICpcbiAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IGFzc2VydFBhcmFtRXhpc3RzID0gZnVuY3Rpb24gKGZ1bmN0aW9uTmFtZSwgcGFyYW1OYW1lLCBwYXJhbVZhbHVlKSB7XG4gICAgaWYgKHBhcmFtVmFsdWUgPT09IG51bGwgfHwgcGFyYW1WYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBiYXNlXzEuUmVxdWlyZWRFcnJvcihwYXJhbU5hbWUsIGBSZXF1aXJlZCBwYXJhbWV0ZXIgJHtwYXJhbU5hbWV9IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgJHtmdW5jdGlvbk5hbWV9LmApO1xuICAgIH1cbn07XG5leHBvcnRzLmFzc2VydFBhcmFtRXhpc3RzID0gYXNzZXJ0UGFyYW1FeGlzdHM7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IHNldEFwaUtleVRvT2JqZWN0ID0gZnVuY3Rpb24gKG9iamVjdCwga2V5UGFyYW1OYW1lLCBjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24gJiYgY29uZmlndXJhdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXBpS2V5VmFsdWUgPSB0eXBlb2YgY29uZmlndXJhdGlvbi5hcGlLZXkgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICA/IHlpZWxkIGNvbmZpZ3VyYXRpb24uYXBpS2V5KGtleVBhcmFtTmFtZSlcbiAgICAgICAgICAgICAgICA6IHlpZWxkIGNvbmZpZ3VyYXRpb24uYXBpS2V5O1xuICAgICAgICAgICAgb2JqZWN0W2tleVBhcmFtTmFtZV0gPSBsb2NhbFZhckFwaUtleVZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuZXhwb3J0cy5zZXRBcGlLZXlUb09iamVjdCA9IHNldEFwaUtleVRvT2JqZWN0O1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICovXG5jb25zdCBzZXRCYXNpY0F1dGhUb09iamVjdCA9IGZ1bmN0aW9uIChvYmplY3QsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICBpZiAoY29uZmlndXJhdGlvbiAmJiAoY29uZmlndXJhdGlvbi51c2VybmFtZSB8fCBjb25maWd1cmF0aW9uLnBhc3N3b3JkKSkge1xuICAgICAgICBvYmplY3RbXCJhdXRoXCJdID0geyB1c2VybmFtZTogY29uZmlndXJhdGlvbi51c2VybmFtZSwgcGFzc3dvcmQ6IGNvbmZpZ3VyYXRpb24ucGFzc3dvcmQgfTtcbiAgICB9XG59O1xuZXhwb3J0cy5zZXRCYXNpY0F1dGhUb09iamVjdCA9IHNldEJhc2ljQXV0aFRvT2JqZWN0O1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICovXG5jb25zdCBzZXRCZWFyZXJBdXRoVG9PYmplY3QgPSBmdW5jdGlvbiAob2JqZWN0LCBjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24gJiYgY29uZmlndXJhdGlvbi5hY2Nlc3NUb2tlbikge1xuICAgICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSB0eXBlb2YgY29uZmlndXJhdGlvbi5hY2Nlc3NUb2tlbiA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgID8geWllbGQgY29uZmlndXJhdGlvbi5hY2Nlc3NUb2tlbigpXG4gICAgICAgICAgICAgICAgOiB5aWVsZCBjb25maWd1cmF0aW9uLmFjY2Vzc1Rva2VuO1xuICAgICAgICAgICAgb2JqZWN0W1wiQXV0aG9yaXphdGlvblwiXSA9IFwiQmVhcmVyIFwiICsgYWNjZXNzVG9rZW47XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5leHBvcnRzLnNldEJlYXJlckF1dGhUb09iamVjdCA9IHNldEJlYXJlckF1dGhUb09iamVjdDtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqL1xuY29uc3Qgc2V0T0F1dGhUb09iamVjdCA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWUsIHNjb3BlcywgY29uZmlndXJhdGlvbikge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uICYmIGNvbmZpZ3VyYXRpb24uYWNjZXNzVG9rZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQWNjZXNzVG9rZW5WYWx1ZSA9IHR5cGVvZiBjb25maWd1cmF0aW9uLmFjY2Vzc1Rva2VuID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyB5aWVsZCBjb25maWd1cmF0aW9uLmFjY2Vzc1Rva2VuKG5hbWUsIHNjb3BlcylcbiAgICAgICAgICAgICAgICA6IHlpZWxkIGNvbmZpZ3VyYXRpb24uYWNjZXNzVG9rZW47XG4gICAgICAgICAgICBvYmplY3RbXCJBdXRob3JpemF0aW9uXCJdID0gXCJCZWFyZXIgXCIgKyBsb2NhbFZhckFjY2Vzc1Rva2VuVmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5leHBvcnRzLnNldE9BdXRoVG9PYmplY3QgPSBzZXRPQXV0aFRvT2JqZWN0O1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICovXG5jb25zdCBzZXRTZWFyY2hQYXJhbXMgPSBmdW5jdGlvbiAodXJsLCAuLi5vYmplY3RzKSB7XG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoKTtcbiAgICBmb3IgKGNvbnN0IG9iamVjdCBvZiBvYmplY3RzKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0W2tleV0pKSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1zLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBvYmplY3Rba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1zLnNldChrZXksIG9iamVjdFtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1cmwuc2VhcmNoID0gc2VhcmNoUGFyYW1zLnRvU3RyaW5nKCk7XG59O1xuZXhwb3J0cy5zZXRTZWFyY2hQYXJhbXMgPSBzZXRTZWFyY2hQYXJhbXM7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IHNlcmlhbGl6ZURhdGFJZk5lZWRlZCA9IGZ1bmN0aW9uICh2YWx1ZSwgcmVxdWVzdE9wdGlvbnMsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICBjb25zdCBub25TdHJpbmcgPSB0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnO1xuICAgIGNvbnN0IG5lZWRzU2VyaWFsaXphdGlvbiA9IG5vblN0cmluZyAmJiBjb25maWd1cmF0aW9uICYmIGNvbmZpZ3VyYXRpb24uaXNKc29uTWltZVxuICAgICAgICA/IGNvbmZpZ3VyYXRpb24uaXNKc29uTWltZShyZXF1ZXN0T3B0aW9ucy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSlcbiAgICAgICAgOiBub25TdHJpbmc7XG4gICAgcmV0dXJuIG5lZWRzU2VyaWFsaXphdGlvblxuICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHt9KVxuICAgICAgICA6ICh2YWx1ZSB8fCBcIlwiKTtcbn07XG5leHBvcnRzLnNlcmlhbGl6ZURhdGFJZk5lZWRlZCA9IHNlcmlhbGl6ZURhdGFJZk5lZWRlZDtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqL1xuY29uc3QgdG9QYXRoU3RyaW5nID0gZnVuY3Rpb24gKHVybCkge1xuICAgIHJldHVybiB1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoICsgdXJsLmhhc2g7XG59O1xuZXhwb3J0cy50b1BhdGhTdHJpbmcgPSB0b1BhdGhTdHJpbmc7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmNvbnN0IGNyZWF0ZVJlcXVlc3RGdW5jdGlvbiA9IGZ1bmN0aW9uIChheGlvc0FyZ3MsIGdsb2JhbEF4aW9zLCBCQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICByZXR1cm4gKGF4aW9zID0gZ2xvYmFsQXhpb3MsIGJhc2VQYXRoID0gQkFTRV9QQVRIKSA9PiB7XG4gICAgICAgIGNvbnN0IGF4aW9zUmVxdWVzdEFyZ3MgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGF4aW9zQXJncy5vcHRpb25zKSwgeyB1cmw6ICgoY29uZmlndXJhdGlvbiA9PT0gbnVsbCB8fCBjb25maWd1cmF0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWd1cmF0aW9uLmJhc2VQYXRoKSB8fCBiYXNlUGF0aCkgKyBheGlvc0FyZ3MudXJsIH0pO1xuICAgICAgICByZXR1cm4gYXhpb3MucmVxdWVzdChheGlvc1JlcXVlc3RBcmdzKTtcbiAgICB9O1xufTtcbmV4cG9ydHMuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uID0gY3JlYXRlUmVxdWVzdEZ1bmN0aW9uO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///98691\n')},8722:(__unused_webpack_module,exports)=>{"use strict";eval("\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Configuration = void 0;\nclass Configuration {\n    constructor(param = {}) {\n        this.apiKey = param.apiKey;\n        this.username = param.username;\n        this.password = param.password;\n        this.accessToken = param.accessToken;\n        this.basePath = param.basePath;\n        this.baseOptions = param.baseOptions;\n        this.formDataCtor = param.formDataCtor;\n    }\n    /**\n     * Check if the given MIME is a JSON MIME.\n     * JSON MIME examples:\n     *   application/json\n     *   application/json; charset=UTF8\n     *   APPLICATION/JSON\n     *   application/vnd.company+json\n     * @param mime - MIME (Multipurpose Internet Mail Extensions)\n     * @return True if the given MIME is JSON, false otherwise.\n     */\n    isJsonMime(mime) {\n        const jsonMime = new RegExp('^(application\\/json|[^;/ \\t]+\\/[^;/ \\t]+[+]json)[ \\t]*(;.*)?$', 'i');\n        return mime !== null && (jsonMime.test(mime) || mime.toLowerCase() === 'application/json-patch+json');\n    }\n}\nexports.Configuration = Configuration;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2NvbmZpZ3VyYXRpb24uanM/OWQ5NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLENBQUMsY0FBYyxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQjtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELFdBQVcsc0JBQXNCO0FBQzdGO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiIsImZpbGUiOiI4NzIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8qKlxuICogQ29ubmVjdG9yIFNlcnZpY2UgRmxlZXQgTWFuYWdlclxuICogQ29ubmVjdG9yIFNlcnZpY2UgRmxlZXQgTWFuYWdlciBpcyBhIFJlc3QgQVBJIHRvIG1hbmFnZSBjb25uZWN0b3JzLlxuICpcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBPcGVuQVBJIGRvY3VtZW50OiAwLjAuM1xuICpcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IE9wZW5BUEkgR2VuZXJhdG9yIChodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2gpLlxuICogaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoXG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29uZmlndXJhdGlvbiA9IHZvaWQgMDtcbmNsYXNzIENvbmZpZ3VyYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtID0ge30pIHtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBwYXJhbS5hcGlLZXk7XG4gICAgICAgIHRoaXMudXNlcm5hbWUgPSBwYXJhbS51c2VybmFtZTtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhcmFtLnBhc3N3b3JkO1xuICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuID0gcGFyYW0uYWNjZXNzVG9rZW47XG4gICAgICAgIHRoaXMuYmFzZVBhdGggPSBwYXJhbS5iYXNlUGF0aDtcbiAgICAgICAgdGhpcy5iYXNlT3B0aW9ucyA9IHBhcmFtLmJhc2VPcHRpb25zO1xuICAgICAgICB0aGlzLmZvcm1EYXRhQ3RvciA9IHBhcmFtLmZvcm1EYXRhQ3RvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIGdpdmVuIE1JTUUgaXMgYSBKU09OIE1JTUUuXG4gICAgICogSlNPTiBNSU1FIGV4YW1wbGVzOlxuICAgICAqICAgYXBwbGljYXRpb24vanNvblxuICAgICAqICAgYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEY4XG4gICAgICogICBBUFBMSUNBVElPTi9KU09OXG4gICAgICogICBhcHBsaWNhdGlvbi92bmQuY29tcGFueStqc29uXG4gICAgICogQHBhcmFtIG1pbWUgLSBNSU1FIChNdWx0aXB1cnBvc2UgSW50ZXJuZXQgTWFpbCBFeHRlbnNpb25zKVxuICAgICAqIEByZXR1cm4gVHJ1ZSBpZiB0aGUgZ2l2ZW4gTUlNRSBpcyBKU09OLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgaXNKc29uTWltZShtaW1lKSB7XG4gICAgICAgIGNvbnN0IGpzb25NaW1lID0gbmV3IFJlZ0V4cCgnXihhcHBsaWNhdGlvblxcL2pzb258W147LyBcXHRdK1xcL1teOy8gXFx0XStbK11qc29uKVsgXFx0XSooOy4qKT8kJywgJ2knKTtcbiAgICAgICAgcmV0dXJuIG1pbWUgIT09IG51bGwgJiYgKGpzb25NaW1lLnRlc3QobWltZSkgfHwgbWltZS50b0xvd2VyQ2FzZSgpID09PSAnYXBwbGljYXRpb24vanNvbi1wYXRjaCtqc29uJyk7XG4gICAgfVxufVxuZXhwb3J0cy5Db25maWd1cmF0aW9uID0gQ29uZmlndXJhdGlvbjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8722\n")},22750:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n/* tslint:disable */\n/* eslint-disable */\n/**\n * Connector Service Fleet Manager\n * Connector Service Fleet Manager is a Rest API to manage connectors.\n *\n * The version of the OpenAPI document: 0.0.3\n *\n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\n__exportStar(__webpack_require__(31100), exports);\n__exportStar(__webpack_require__(8722), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2FwaS9kaXN0L2luZGV4LmpzPzVlZDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msb0NBQW9DLGFBQWEsRUFBRSxFQUFFO0FBQ3ZGLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxDQUFDLGNBQWMsRUFBQztBQUM3RCxhQUFhLG1CQUFPLENBQUMsS0FBTztBQUM1QixhQUFhLG1CQUFPLENBQUMsSUFBaUIiLCJmaWxlIjoiMjI3NTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIHRzbGludDpkaXNhYmxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyoqXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyXG4gKiBDb25uZWN0b3IgU2VydmljZSBGbGVldCBNYW5hZ2VyIGlzIGEgUmVzdCBBUEkgdG8gbWFuYWdlIGNvbm5lY3RvcnMuXG4gKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIE9wZW5BUEkgZG9jdW1lbnQ6IDAuMC4zXG4gKlxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vYXBpXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jb25maWd1cmF0aW9uXCIpLCBleHBvcnRzKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22750\n')},81778:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports, "__esModule", ({value:!0}));var t=__webpack_require__(42403),n=e(t),a=__webpack_require__(35471),r=__webpack_require__(83255),i=__webpack_require__(42259),o=e(__webpack_require__(53778)),l=__webpack_require__(63583),c=__webpack_require__(41361),u=__webpack_require__(39576),s=__webpack_require__(14170),d=__webpack_require__(25102),m=__webpack_require__(66170),p=__webpack_require__(63585),g=__webpack_require__(94963);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function E(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return v(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function h(e){for(var t,n=[],a=E(e);!(t=a()).done;){var r=t.value;if(r.steps)for(var i,o=E(r.steps);!(i=o()).done;)n.push(i.value);else n.push(r)}return n}var b=function(e){var t,a;function r(t){var n;(n=e.call(this,t)||this).titleId=void 0,n.descriptionId=void 0,n.handleKeyClicks=function(e){e.keyCode===l.KEY_CODES.ESCAPE_KEY&&(n.state.isNavOpen?n.setState({isNavOpen:!n.state.isNavOpen}):n.props.isOpen&&n.props.onClose&&n.props.onClose())},n.getFlattenedSteps=function(){return h(n.props.steps)},n.getFlattenedStepsIndex=function(e,t){for(var n=0;n<e.length;n++)if(e[n].name===t)return n+1;return 0},n.initSteps=function(e){for(var t=0;t<e.length;t++){if(e[t].steps)for(var n=0;n<e[t].steps.length;n++)e[t].steps[n]=Object.assign({canJumpTo:!0},e[t].steps[n]);e[t]=Object.assign({canJumpTo:!0},e[t])}return e},n.getElement=function(e){return"function"==typeof e?e():e||document.body};var a=r.currentId++;return n.titleId=t.titleId||"pf-wizard-title-"+a,n.descriptionId=t.descriptionId||"pf-wizard-description-"+a,n.state={isNavOpen:!1},n}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var c=r.prototype;return c.componentDidMount=function(){var e="undefined"!=typeof document?document.body:null;e&&e.addEventListener("keydown",this.handleKeyClicks,!1)},c.componentWillUnmount=function(){var e="undefined"!=typeof document&&document.body||null;e&&e.removeEventListener("keydown",this.handleKeyClicks,!1)},c.render=function(){var e=this,t=this.props,a=t.width,r=t.height,c=t.title,u=t.description,s=t.onClose,d=t.onBack,m=t.onNext,p=t.goToStep,g=t.goToStepById,v=t.goToStepByName,h=t.className,b=t.steps,C=t.currentStep,y=t.nextButtonText,S=void 0===y?"Next":y,T=t.backButtonText,x=void 0===T?"Back":T,I=t.cancelButtonText,k=void 0===I?"Cancel":I,P=t.hideClose,B=t.closeButtonAriaLabel,L=void 0===B?"Close":B,N=t.navAriaLabel,z=t.navAriaLabelledBy,A=t.mainAriaLabel,D=t.mainAriaLabelledBy,F=t.hasNoBodyPadding,w=t.footer,M=t.isOpen,O=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t.indexOf(n=i[a])>=0||(r[n]=e[n]);return r}(t,["width","height","title","description","onClose","onSave","onBack","onNext","onGoToStep","goToStep","goToStepById","goToStepByName","className","steps","currentStep","nextButtonText","backButtonText","cancelButtonText","hideClose","closeButtonAriaLabel","navAriaLabel","navAriaLabelledBy","mainAriaLabel","mainAriaLabelledBy","hasNoBodyPadding","footer","appendTo","isOpen","titleId","descriptionId"]),W=this.getFlattenedSteps(),G=W[(W.length<C?W.length:C)-1],q=this.initSteps(b),R=G===W[0],j=!G||void 0===G.enableNext||G.enableNext,_={goToStepById:g,goToStepByName:v,onNext:m,onBack:d,onClose:s,activeStep:G},J=f({},r?{height:r}:{},a?{width:a}:{}),K=n.createElement(l.WizardContextProvider,{value:_},n.createElement("div",f({},O,{className:i.css(o.wizard,G&&G.isFinishedStep&&"pf-m-finished",h),style:Object.keys(J).length?J:void 0}),c&&n.createElement(l.WizardHeader,{titleId:this.titleId,descriptionId:this.descriptionId,onClose:s,title:c,description:u,closeButtonAriaLabel:L,hideClose:P}),n.createElement(l.WizardToggle,{mainAriaLabel:A,isInPage:void 0===M,mainAriaLabelledBy:(c||D)&&(D||this.titleId),isNavOpen:this.state.isNavOpen,onNavToggle:function(t){return e.setState({isNavOpen:t})},nav:function(t){var a={isOpen:t,"aria-label":N,"aria-labelledby":(c||z)&&(z||e.titleId)};return n.createElement(l.WizardNav,f({},a),q.map((function(t,r){if(t.isFinishedStep)return null;var i;if(t.steps){for(var o,c=!1,u=!1,s=E(t.steps);!(o=s()).done;){var d=o.value;G.name===d.name&&(c=!0),d.canJumpTo&&(u=!0)}return i=e.getFlattenedStepsIndex(W,t.steps[0].name),n.createElement(l.WizardNavItem,{key:r,content:t.name,isCurrent:c,isDisabled:!u,step:i,onNavItemClick:p},n.createElement(l.WizardNav,f({},a,{returnList:!0}),t.steps.map((function(t,a){return t.isFinishedStep?null:(i=e.getFlattenedStepsIndex(W,t.name),n.createElement(l.WizardNavItem,{key:"child_"+a,content:t.name,isCurrent:G.name===t.name,isDisabled:!t.canJumpTo,step:i,onNavItemClick:p}))}))))}return i=e.getFlattenedStepsIndex(W,t.name),n.createElement(l.WizardNavItem,f({},t.stepNavItemProps,{key:r,content:t.name,isCurrent:G.name===t.name,isDisabled:!t.canJumpTo,step:i,onNavItemClick:p}))})))},steps:b,activeStep:G,hasNoBodyPadding:F},w||n.createElement("footer",{className:i.css(o.wizardFooter)},n.createElement(l.Button,{variant:l.ButtonVariant.primary,type:"submit",onClick:m,isDisabled:!j},G&&G.nextButtonText||S),!G.hideBackButton&&n.createElement(l.Button,{variant:l.ButtonVariant.secondary,onClick:d,className:i.css(R&&"pf-m-disabled")},x),!G.hideCancelButton&&n.createElement("div",{className:o.wizardFooterCancel},n.createElement(l.Button,{variant:l.ButtonVariant.link,onClick:s},k))))));return void 0!==M?n.createElement(l.Modal,{width:null!==a?a:void 0,isOpen:M,variant:l.ModalVariant.large,"aria-labelledby":this.titleId,"aria-describedby":this.descriptionId,showClose:!1,hasNoBodyWrapper:!0},K):K},r}(t.Component);function C(){var e=r.useCreationWizardMachineKafkasActor();return r.useKafkasMachineIsReady(e)?n.createElement(y,null):null}b.displayName="Wizard",b.currentId=0,b.defaultProps={title:void 0,description:"",className:"",nextButtonText:"Next",backButtonText:"Back",cancelButtonText:"Cancel",hideClose:!1,closeButtonAriaLabel:"Close",navAriaLabel:void 0,navAriaLabelledBy:void 0,mainAriaLabel:void 0,mainAriaLabelledBy:void 0,hasNoBodyPadding:!1,onGoToStep:void 0,width:void 0,height:void 0,footer:void 0,appendTo:void 0,isOpen:void 0};var y=function(){var e,t=s.useHistory(),a=r.useCreationWizardMachineKafkasActor(),i=r.useKafkasMachine(a),o=i.response,u=i.selectedId,d=i.onSelect,m=i.onQuery;switch(!0){case i.firstRequest:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(c.Loading,null));case i.queryEmpty:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(S,null),n.createElement(c.NoMatchFound,{onClear:function(){return m({page:1,size:10})}}));case i.noResults||i.error:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(c.EmptyState,{emptyStateProps:{variant:c.EmptyStateVariant.GettingStarted},titleProps:{title:"cos.no_kafka_instance"},emptyStateBodyProps:{body:"cos.no_kafka_instance_body"},buttonProps:{title:"cos.create_kafka_instance",variant:l.ButtonVariant.primary,onClick:function(){return t.push("/create-connector")}}}));case i.loading:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(S,null),n.createElement(c.Loading,null));default:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(S,null),n.createElement(l.PageSection,{isFilled:!0},n.createElement(l.Gallery,{hasGutter:!0},null==o||null==(e=o.items)?void 0:e.map((function(e){return n.createElement(l.Card,{isHoverable:!0,key:e.id,isSelectable:!0,isSelected:u===e.id,onClick:function(){return d(e.id)}},n.createElement(l.CardHeader,null,n.createElement(l.CardTitle,null,e.name)),n.createElement(l.CardBody,null,n.createElement(l.DescriptionList,null,n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Region"),n.createElement(l.DescriptionListDescription,null,e.region)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Owner"),n.createElement(l.DescriptionListDescription,null,e.owner)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Created"),n.createElement(l.DescriptionListDescription,null,e.created_at)))))})))))}},S=function(){var e=r.useCreationWizardMachineKafkasActor(),a=r.useKafkasMachine(e),i=a.request,o=a.response,s=a.onQuery,d=i.query||{},m=d.name,p=void 0===m?"":m,g=d.statuses,v=void 0===g?[]:g,E=t.useCallback((function(){return s({page:1,size:i.size})}),[s,i.size]),h=t.useRef(null),b=c.useDebounce(s,1e3),C=function(e,t){return s(f({},i,{query:f({},i.query||{},{statuses:(null==v?void 0:v.includes(t))?v.filter((function(e){return e!==t})):[].concat(v||[],[t])})}))},y=t.useState(!1),S=y[0],x=y[1],I=t.useCallback((function(){return x((function(e){return!e}))}),[]),k=T.map((function(e){var t=e.value;return n.createElement(l.SelectOption,{key:t,value:t},e.label)}));t.useEffect((function(){h.current&&(h.current.value=p)}),[h,p]);var P=n.createElement(n.Fragment,null,n.createElement(l.ToolbarItem,null,n.createElement(l.InputGroup,null,n.createElement(l.TextInput,{name:"textInput2",id:"textInput2",type:"search","aria-label":"search input example",onChange:function(e){return b({size:i.size,page:1,query:{name:e,statuses:v}})},ref:h}),n.createElement(l.Button,{variant:"control","aria-label":"search button for search input"},n.createElement(u.SearchIcon,null)))),n.createElement(l.ToolbarGroup,{variant:"filter-group"},n.createElement(l.ToolbarFilter,{chips:v,deleteChip:C,deleteChipGroup:function(){return s(f({},i,{query:f({},i.query||{},{statuses:void 0})}))},categoryName:"Status"},n.createElement(l.Select,{variant:"checkbox","aria-label":"Status",onToggle:I,onSelect:function(e,t){return C(0,t)},selections:v,isOpen:S,placeholderText:"Status"},k)))),B=n.createElement(n.Fragment,null,n.createElement(l.ToolbarToggleGroup,{toggleIcon:n.createElement(u.FilterIcon,null),breakpoint:"xl"},P),n.createElement(l.ToolbarGroup,{variant:"icon-button-group"},n.createElement(l.ToolbarItem,null,n.createElement(l.Button,{variant:"primary"},"Create Kafka Instance"))),n.createElement(l.ToolbarItem,{variant:"pagination",alignment:{default:"alignRight"}},n.createElement(l.Pagination,{itemCount:(null==o?void 0:o.total)||0,page:i.page,perPage:i.size,perPageOptions:[{title:"1",value:1},{title:"5",value:5},{title:"10",value:10}],onSetPage:function(e,t,n){return s(f({},i,{page:t,size:n||i.size}))},onPerPageSelect:function(){return!1},variant:"top",isCompact:!0})));return n.createElement(l.Toolbar,{id:"toolbar-group-types",collapseListedFiltersBreakpoint:"xl",clearAllFilters:E},n.createElement(l.ToolbarContent,null,B))},T=[{value:"ready",label:"Ready"},{value:"failed",label:"Failed"},{value:"accepted",label:"Creation pending"},{value:"provisioning",label:"Creation in progress"},{value:"preparing",label:"Creation in progress"},{value:"deprovision",label:"Deletion in progress"},{value:"deleted",label:"Deletion in progress"}];function x(){var e=r.useCreationWizardMachineClustersActor();return r.useClustersMachineIsReady(e)?n.createElement(I,null):null}var I=function(){var e,t=s.useHistory(),a=r.useCreationWizardMachineClustersActor(),i=r.useClustersMachine(a),o=i.response,u=i.selectedId,d=i.onSelect,m=i.onQuery;switch(!0){case i.firstRequest:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(c.Loading,null));case i.queryEmpty:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(k,null),n.createElement(c.NoMatchFound,{onClear:function(){return m({page:1,size:10})}}));case i.noResults||i.error:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(c.EmptyState,{emptyStateProps:{variant:c.EmptyStateVariant.GettingStarted},titleProps:{title:"cos.no_clusters_instance"},emptyStateBodyProps:{body:"cos.no_clusters_instance_body"},buttonProps:{title:"cos.create_clusters_instance",variant:l.ButtonVariant.primary,onClick:function(){return t.push("/create-connector")}}}));case i.loading:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(k,null),n.createElement(c.Loading,null));default:return n.createElement(l.PageSection,{padding:{default:"noPadding"},isFilled:!0},n.createElement(k,null),n.createElement(l.PageSection,{isFilled:!0},n.createElement(l.Gallery,{hasGutter:!0},null==o||null==(e=o.items)?void 0:e.map((function(e){var t,a,r;return n.createElement(l.Card,{isHoverable:!0,key:e.id,isSelectable:!0,isSelected:u===e.id,onClick:function(){return d(e.id)}},n.createElement(l.CardHeader,null,n.createElement(l.CardTitle,null,null==(t=e.metadata)?void 0:t.name)),n.createElement(l.CardBody,null,n.createElement(l.DescriptionList,null,n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Owner"),n.createElement(l.DescriptionListDescription,null,null==(a=e.metadata)?void 0:a.owner)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Created"),n.createElement(l.DescriptionListDescription,null,null==(r=e.metadata)?void 0:r.created_at)))))})))))}},k=function(){var e=r.useCreationWizardMachineClustersActor(),a=r.useClustersMachine(e),i=a.request,o=a.response,s=a.onQuery,d=t.useRef(null),m=c.useDebounce(s,1e3),p=n.createElement(n.Fragment,null,n.createElement(l.ToolbarItem,null,n.createElement(l.InputGroup,null,n.createElement(l.TextInput,{name:"textInput2",id:"textInput2",type:"search","aria-label":"search input example",onChange:function(e){return m({size:i.size,page:1,name:e})},ref:d}),n.createElement(l.Button,{variant:"control","aria-label":"search button for search input"},n.createElement(u.SearchIcon,null))))),g=n.createElement(n.Fragment,null,n.createElement(l.ToolbarToggleGroup,{toggleIcon:n.createElement(u.FilterIcon,null),breakpoint:"xl"},p),n.createElement(l.ToolbarGroup,{variant:"icon-button-group"},n.createElement(l.ToolbarItem,null,n.createElement(l.Button,{variant:"primary"},"Create Clusters Instance"))),n.createElement(l.ToolbarItem,{variant:"pagination",alignment:{default:"alignRight"}},n.createElement(l.Pagination,{itemCount:(null==o?void 0:o.total)||0,page:i.page,perPage:i.size,perPageOptions:[{title:"1",value:1},{title:"5",value:5},{title:"10",value:10}],onSetPage:function(e,t,n){return s(f({},i,{page:t,size:n||i.size}))},onPerPageSelect:function(){return!1},variant:"top",isCompact:!0})));return n.createElement(l.Toolbar,{id:"toolbar-group-types",collapseListedFiltersBreakpoint:"xl"},n.createElement(l.ToolbarContent,null,g))},P=[{title:"1",value:1},{title:"5",value:5},{title:"10",value:10}];function B(){var e,a,i,o,s=r.useCreationWizardMachineConnectorTypesActor(),d=t.useState(""),m=d[0],p=d[1],g=t.useState(["Sink","Source"]),f=g[0],v=g[1],E=t.useState(!1),h=E[0],b=E[1],C=t.useCallback((function(){p(""),v([])}),[]),y=t.useCallback((function(){return b((function(e){return!e}))}),[]),S=t.useCallback((function(e,t){return v((function(e){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(e,[t])}))}),[]);switch(!0){case s.state.matches("loading"):return n.createElement(l.EmptyState,null,n.createElement(l.EmptyStateIcon,{variant:"container",component:l.Spinner}),n.createElement(l.Title,{size:"lg",headingLevel:"h4"},"Loading"));case s.state.matches("failure"):return n.createElement(c.NoMatchFound,null);default:var T=[n.createElement(l.SelectOption,{key:"Sink",value:"Sink"}),n.createElement(l.SelectOption,{key:"Source",value:"Source"})],x=n.createElement(n.Fragment,null,n.createElement(l.ToolbarItem,null,n.createElement(l.InputGroup,null,n.createElement(l.TextInput,{name:"textInput2",id:"textInput2",type:"search","aria-label":"search input example",onChange:p,value:m}),n.createElement(l.Button,{variant:"control","aria-label":"search button for search input"},n.createElement(u.SearchIcon,null)))),n.createElement(l.ToolbarGroup,{variant:"filter-group"},n.createElement(l.ToolbarFilter,{chips:f,deleteChip:S,deleteChipGroup:function(){return v([])},categoryName:"Connector type"},n.createElement(l.Select,{variant:"checkbox","aria-label":"Connector type",onToggle:y,onSelect:S,selections:f,isOpen:h,placeholderText:"Connector type"},T)))),I=n.createElement(n.Fragment,null,n.createElement(l.ToolbarToggleGroup,{toggleIcon:n.createElement(u.FilterIcon,null),breakpoint:"xl"},x),n.createElement(l.ToolbarItem,{variant:"pagination",alignment:{default:"alignRight"}},n.createElement(l.Pagination,{itemCount:(null==(e=s.state.context.connectors)?void 0:e.total)||0,page:((null==(a=s.state.context.connectors)?void 0:a.page)||0)+1,perPage:(null==(i=s.state.context.connectors)?void 0:i.size)||0,perPageOptions:P,onSetPage:function(){return!1},onPerPageSelect:function(){return!1},variant:"top",isCompact:!0})));return n.createElement(l.PageSection,{padding:{default:"noPadding"}},n.createElement(l.Toolbar,{id:"toolbar-group-types",collapseListedFiltersBreakpoint:"xl",clearAllFilters:C},n.createElement(l.ToolbarContent,null,I)),n.createElement(l.PageSection,{isFilled:!0},n.createElement(l.Gallery,{hasGutter:!0},null==(o=s.state.context.connectors)?void 0:o.items.filter((function(e){return""===m||e.name.includes(m)})).map((function(e){var t;return n.createElement(l.Card,{isHoverable:!0,key:e.id,isSelectable:!0,isSelected:(null==(t=s.state.context.selectedConnector)?void 0:t.id)===e.id,onClick:function(){s.send({type:"selectConnector",selectedConnector:e.id})}},n.createElement(l.CardHeader,null,n.createElement(l.CardTitle,null,e.name)),n.createElement(l.CardBody,null,n.createElement(l.DescriptionList,null,n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListDescription,null,e.description)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"Version"),n.createElement(l.DescriptionListDescription,null,e.version)),n.createElement(l.DescriptionListGroup,null,n.createElement(l.DescriptionListTerm,null,"ID"),n.createElement(l.DescriptionListDescription,null,e.id)))))})))))}}var L=function(e){var r=e.actor,i=e.Configurator,o=a.useSelector(r,t.useCallback((function(e){return{connector:e.context.connector,activeStep:e.context.activeStep,configuration:e.context.configuration}}),[r]));return n.createElement(i,{activeStep:o.activeStep,configuration:o.configuration,connector:o.connector,onChange:function(e,t){return r.send({type:"change",configuration:e,isValid:t})}})},N=function(e){var r=e.actor,i=a.useSelector(r,t.useCallback((function(e){return{connector:e.context.connector,configuration:e.context.configuration}}),[r]));return n.createElement(d.JsonSchemaConfigurator,{schema:i.connector.json_schema,configuration:i.configuration||{},onChange:function(e,t){return r.send({type:"change",configuration:e,isValid:t})}})},z=function(){var e=m.useTranslation().t,i=r.useCreationWizardMachineService(),o=a.useSelector(i,t.useCallback((function(e){return{isLoading:e.matches({configureConnector:"loadConfigurator"}),hasErrors:e.matches("failure"),hasCustomConfigurator:!1!==e.context.Configurator&&void 0!==e.context.Configurator,configuration:e.context.connectorConfiguration,Configurator:e.context.Configurator,configuratorRef:e.children.configuratorRef}}),[i])),c=o.Configurator,s=o.configuratorRef;switch(!0){case o.isLoading:return n.createElement(l.EmptyState,null,n.createElement(l.EmptyStateIcon,{variant:"container",component:l.Spinner}),n.createElement(l.Title,{size:"lg",headingLevel:"h4"},e("loading")));case o.hasErrors:return n.createElement(l.EmptyState,null,n.createElement(l.EmptyStateIcon,{icon:u.ExclamationCircleIcon}),n.createElement(l.Title,{size:"lg",headingLevel:"h4"},"Error message"));case o.hasCustomConfigurator:return n.createElement(l.PageSection,{variant:"light"},n.createElement(n.Suspense,{fallback:null},n.createElement(L,{actor:s,Configurator:c})));default:return n.createElement(l.PageSection,{variant:"light"},n.createElement(N,{actor:s}))}};function A(){var e=r.useCreationWizardMachineReviewActor(),a=r.useReviewMachine(e),i=a.name,o=a.serviceAccount,c=a.configString,u=a.configStringError,s=a.configStringWarnings,d=a.isSaving,m=a.savingError,g=a.onSetName,v=a.onSetServiceAccount,E=a.onUpdateConfiguration,h=t.useCallback((function(e,t){e.layout(),e.focus()}),[]);return n.createElement(l.PageSection,{variant:"light"},n.createElement(l.Form,null,m&&n.createElement(l.FormAlert,null,n.createElement(l.Alert,{variant:"danger",title:m,"aria-live":"polite",isInline:!0})),n.createElement(l.FormGroup,{label:"Name",isRequired:!0,fieldId:"name",helperText:"Please provide a unique name for the connector"},n.createElement(l.TextInput,{isDisabled:d,value:i,onChange:g,id:"name"})),n.createElement(l.FormGroup,{label:"Service Account",isRequired:!0,fieldId:"service-account"},n.createElement(l.Radio,{isDisabled:d,isChecked:void 0===o,name:"service-account",onChange:function(){return v(void 0)},label:"Automatically create a Service Account for this connector",id:"service-account-automatic",value:"automatic"}),n.createElement(l.Radio,{isDisabled:d,isChecked:void 0!==o,name:"service-account",onChange:function(){return v({clientId:"",clientSecret:""})},label:"Provide the credentials manually",id:"service-account-user",value:"user"}),void 0!==o&&n.createElement(n.Fragment,null,n.createElement(l.FormGroup,{label:"Client ID",isRequired:!0,fieldId:"clientId"},n.createElement(l.TextInput,{isDisabled:d,value:o.clientId,onChange:function(e){return v(f({},o,{clientId:e}))},id:"clientId"})),n.createElement(l.FormGroup,{label:"Client Secret",isRequired:!0,fieldId:"clientSecret"},n.createElement(l.TextInput,{isDisabled:d,value:o.clientSecret,onChange:function(e){return v(f({},o,{clientSecret:e}))},id:"clientSecret"})))),n.createElement(l.FormGroup,{label:"Configuration",isRequired:!0,fieldId:"configuration",helperText:"Please review the configuration data.",helperTextInvalid:u,validated:void 0!==u?"error":void 0!==s?"warning":"default"},n.createElement(p.CodeEditor,{id:"configuration",isDarkTheme:!1,isLineNumbersVisible:!0,isReadOnly:d,isMinimapVisible:!1,isLanguageLabelVisible:!0,code:c,onChange:E,language:p.Language.json,onEditorDidMount:h,height:"400px"}),n.createElement(l.AlertGroup,null,null==s?void 0:s.map((function(e,t){return n.createElement(l.Alert,{key:t,title:e,variant:"warning",isInline:!0})}))))))}var D=function(e){var t=e.error;return n.createElement("div",{role:"alert"},n.createElement("p",null,"Something went wrong:"),n.createElement("pre",null,t.message))},F=function(e){var t=e.children;return n.createElement(g.ErrorBoundary,{FallbackComponent:D,resetKeys:[Date.now()]},t)};Object.keys(r).forEach((function(e){"default"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})})),exports.CreationWizard=function(e){var i=e.onClose,o=m.useTranslation().t,l=r.useCreationWizardMachineService(),c=a.useService(l),u=c[0],s=c[1],d=function(){var e=r.useCreationWizardMachineService(),i=a.useSelector(e,t.useCallback((function(e){return{isActive:e.matches("selectKafka"),canJumpTo:r.creationWizardMachine.transition(e,"jumpToSelectKafka").changed||e.matches("selectKafka"),enableNext:r.creationWizardMachine.transition(e,"next").changed}}),[e])),o=i.canJumpTo,l=i.enableNext;return{name:"Select kafka instance",isActive:i.isActive,component:n.createElement(F,null,n.createElement(C,null)),canJumpTo:o,enableNext:l}}(),p=function(){var e=r.useCreationWizardMachineService(),i=a.useSelector(e,t.useCallback((function(e){return{isActive:e.matches("configureConnector"),canJumpTo:r.creationWizardMachine.transition(e,"jumpToConfigureConnector").changed||e.matches("configureConnector"),enableNext:r.creationWizardMachine.transition(e,"next").changed,steps:e.context.configurationSteps,activeStep:e.context.activeConfigurationStep,canJumpToStep:function(t){return r.creationWizardMachine.transition(e,{type:"jumpToConfigureConnector",subStep:t}).changed}}}),[e])),o=i.isActive,l=i.activeStep,c=i.canJumpToStep,u=i.enableNext,s=i.steps;return{name:"Configuration",isActive:o,canJumpTo:i.canJumpTo,steps:s?s.map((function(e,t){return{name:e,isActive:o&&l===t,canJumpTo:c(t),enableNext:u,component:n.createElement(F,null,n.createElement(z,null))}})):void 0,enableNext:u,component:n.createElement(F,null,n.createElement(z,null))}}();if("saved"===u.value)return null;var g=[{name:"Connector",isActive:u.matches("selectConnector"),component:n.createElement(F,null,n.createElement(B,null)),canJumpTo:r.creationWizardMachine.transition(u,"jumpToSelectConnector").changed||u.matches("selectConnector"),enableNext:r.creationWizardMachine.transition(u,"next").changed},d,{name:o("selectOcmCluster"),isActive:u.matches("selectCluster"),component:n.createElement(F,null,n.createElement(x,null)),canJumpTo:r.creationWizardMachine.transition(u,"jumpToSelectCluster").changed||u.matches("selectCluster"),enableNext:r.creationWizardMachine.transition(u,"next").changed},p,{name:"Review",isActive:u.matches("reviewConfiguration"),component:n.createElement(F,null,n.createElement(A,null)),canJumpTo:r.creationWizardMachine.transition(u,"jumpToReviewConfiguration").changed||u.matches("reviewConfiguration"),enableNext:r.creationWizardMachine.transition(u,"next").changed,nextButtonText:"Create connector"}],f=h(g),v=f.reduceRight((function(e,t,n){return t.isActive&&n>e?n:e}),-1)+1;return n.createElement(b,{className:"cos",steps:g,currentStep:v,onNext:function(){return s("next")},onBack:function(){return s("prev")},onClose:i,onSave:function(){return!1},goToStep:function(e){switch(e){case 1:s("jumpToSelectConnector");break;case 2:s("jumpToSelectKafka");break;case 3:s("jumpToSelectCluster");break;case f.length:s("jumpToReviewConfiguration");break;default:e<f.length&&s({type:"jumpToConfigureConnector",subStep:e-4})}},goToStepById:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.log("goToStepById",t)},goToStepByName:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.log("goToStepByName",t)},hasNoBodyPadding:!0})};\n//# sourceMappingURL=creation-wizard.cjs.production.min.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2NyZWF0aW9uV2l6YXJkL2Rpc3QvY3JlYXRpb24td2l6YXJkLmNqcy5wcm9kdWN0aW9uLm1pbi5qcz9hNDcwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhLGNBQWMsd0RBQXdELDhDQUEyQyxDQUFDLFNBQVMsRUFBQyxDQUFDLE1BQU0sbUJBQU8sQ0FBQyxLQUFPLFdBQVcsbUJBQU8sQ0FBQyxLQUFlLElBQUksbUJBQU8sQ0FBQyxLQUFrQixJQUFJLG1CQUFPLENBQUMsS0FBMEIsTUFBTSxtQkFBTyxDQUFDLEtBQXVELEtBQUssbUJBQU8sQ0FBQyxLQUF3QixJQUFJLG1CQUFPLENBQUMsS0FBZSxJQUFJLG1CQUFPLENBQUMsS0FBeUIsSUFBSSxtQkFBTyxDQUFDLEtBQWMsSUFBSSxtQkFBTyxDQUFDLEtBQWtDLElBQUksbUJBQU8sQ0FBQyxLQUFlLElBQUksbUJBQU8sQ0FBQyxLQUErQixJQUFJLG1CQUFPLENBQUMsS0FBc0IsRUFBRSxhQUFhLG9DQUFvQyxZQUFZLG1CQUFtQixLQUFLLG1CQUFtQixzRUFBc0UsU0FBUyx3QkFBd0IsZ0JBQWdCLG9DQUFvQywyQkFBMkIsSUFBSSxjQUFjLFNBQVMsZ0JBQWdCLE1BQU0seURBQXlELHNDQUFzQyxNQUFNLHlDQUF5QyxvREFBb0QscUxBQXFMLHVDQUF1QyxTQUFTLFFBQVEsa0JBQWtCLG9CQUFvQixRQUFRLEVBQUUsdUJBQXVCLDZKQUE2Siw0Q0FBNEMsY0FBYyxzQkFBc0IsY0FBYyxFQUFFLGNBQWMsa0NBQWtDLGNBQWMsaUJBQWlCLGVBQWUsU0FBUyxrQkFBa0IsUUFBUSxjQUFjLE1BQU0sNkZBQTZGLG1FQUFtRSw2QkFBNkIsc0RBQXNELGdDQUFnQyx3QkFBd0Isd0NBQXdDLFlBQVksV0FBVyxnQ0FBZ0MsU0FBUyx5QkFBeUIsWUFBWSxXQUFXLEtBQUssMEJBQTBCLG9CQUFvQixpQ0FBaUMsYUFBYSxnQkFBZ0Isb0JB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LG1CQUFtQixpQkFBaUIsNkJBQTZCLFNBQVMsc0JBQXNCLFVBQVUsa0NBQWtDLE1BQU0sOEJBQThCLE1BQU0sZ0NBQWdDLE1BQU0sNkNBQTZDLE1BQU0sdUJBQXVCLDRDQUE0QyxHQUFHLHlCQUF5Qiw4Q0FBOEMsSUFBSSxzQkFBc0IscUNBQXFDLDJCQUEyQiw4Q0FBOEMsSUFBSSxzQkFBc0IsdUNBQXVDLHFCQUFxQjtBQUMvODBCIiwiZmlsZSI6IjgxNzc4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShlKXtyZXR1cm4gZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJlwiZGVmYXVsdFwiaW4gZT9lLmRlZmF1bHQ6ZX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdD1yZXF1aXJlKFwicmVhY3RcIiksbj1lKHQpLGE9cmVxdWlyZShcIkB4c3RhdGUvcmVhY3RcIikscj1yZXF1aXJlKFwiQGNvcy11aS9tYWNoaW5lc1wiKSxpPXJlcXVpcmUoXCJAcGF0dGVybmZseS9yZWFjdC1zdHlsZXNcIiksbz1lKHJlcXVpcmUoXCJAcGF0dGVybmZseS9yZWFjdC1zdHlsZXMvY3NzL2NvbXBvbmVudHMvV2l6YXJkL3dpemFyZFwiKSksbD1yZXF1aXJlKFwiQHBhdHRlcm5mbHkvcmVhY3QtY29yZVwiKSxjPXJlcXVpcmUoXCJAY29zLXVpL3V0aWxzXCIpLHU9cmVxdWlyZShcIkBwYXR0ZXJuZmx5L3JlYWN0LWljb25zXCIpLHM9cmVxdWlyZShcInJlYWN0LXJvdXRlclwiKSxkPXJlcXVpcmUoXCJAY29zLXVpL2pzb24tc2NoZW1hLWNvbmZpZ3VyYXRvclwiKSxtPXJlcXVpcmUoXCJyZWFjdC1pMThuZXh0XCIpLHA9cmVxdWlyZShcIkBwYXR0ZXJuZmx5L3JlYWN0LWNvZGUtZWRpdG9yXCIpLGc9cmVxdWlyZShcInJlYWN0LWVycm9yLWJvdW5kYXJ5XCIpO2Z1bmN0aW9uIGYoKXtyZXR1cm4oZj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciBhIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sYSkmJihlW2FdPW5bYV0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHYoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxhPW5ldyBBcnJheSh0KTtuPHQ7bisrKWFbbl09ZVtuXTtyZXR1cm4gYX1mdW5jdGlvbiBFKGUsdCl7dmFyIG47aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFN5bWJvbHx8bnVsbD09ZVtTeW1ib2wuaXRlcmF0b3JdKXtpZihBcnJheS5pc0FycmF5KGUpfHwobj1mdW5jdGlvbihlLHQpe2lmKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiB2KGUsdm9pZCAwKTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20oZSk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP3YoZSx2b2lkIDApOnZvaWQgMH19KGUpKXx8dCYmZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXtuJiYoZT1uKTt2YXIgYT0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVthKytdfX19dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXJldHVybihuPWVbU3ltYm9sLml0ZXJhdG9yXSgpKS5uZXh0LmJpbmQobil9ZnVuY3Rpb24gaChlKXtmb3IodmFyIHQsbj1bXSxhPUUoZSk7ISh0PWEoKSkuZG9uZTspe3ZhciByPXQudmFsdWU7aWYoci5zdGVwcylmb3IodmFyIGksbz1FKHIuc3RlcHMpOyEoaT1vKCkpLmRvbmU7KW4ucHVzaChpLnZhbHVlKTtlbHNlIG4ucHVzaChyKX1yZXR1cm4gbn12YXIgYj1mdW5jdGlvbihlKXt2YXIgdCxhO2Z1bmN0aW9uIHIodCl7dmFyIG47KG49ZS5jYWxsKHRoaXMsdCl8fHRoaXMpLnRpdGxlSWQ9dm9pZCAwLG4uZGVzY3JpcHRpb25JZD12b2lkIDAsbi5oYW5kbGVLZXlDbGlja3M9ZnVuY3Rpb24oZSl7ZS5rZXlDb2RlPT09bC5LRVlfQ09ERVMuRVNDQVBFX0tFWSYmKG4uc3RhdGUuaXNOYXZPcGVuP24uc2V0U3RhdGUoe2lzTmF2T3Blbjohbi5zdGF0ZS5pc05hdk9wZW59KTpuLnByb3BzLmlzT3BlbiYmbi5wcm9wcy5vbkNsb3NlJiZuLnByb3BzLm9uQ2xvc2UoKSl9LG4uZ2V0RmxhdHRlbmVkU3RlcHM9ZnVuY3Rpb24oKXtyZXR1cm4gaChuLnByb3BzLnN0ZXBzKX0sbi5nZXRGbGF0dGVuZWRTdGVwc0luZGV4PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXS5uYW1lPT09dClyZXR1cm4gbisxO3JldHVybiAwfSxuLmluaXRTdGVwcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7aWYoZVt0XS5zdGVwcylmb3IodmFyIG49MDtuPGVbdF0uc3RlcHMubGVuZ3RoO24rKyllW3RdLnN0ZXBzW25dPU9iamVjdC5hc3NpZ24oe2Nhbkp1bXBUbzohMH0sZVt0XS5zdGVwc1tuXSk7ZVt0XT1PYmplY3QuYXNzaWduKHtjYW5KdW1wVG86ITB9LGVbdF0pfXJldHVybiBlfSxuLmdldEVsZW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZT9lKCk6ZXx8ZG9jdW1lbnQuYm9keX07dmFyIGE9ci5jdXJyZW50SWQrKztyZXR1cm4gbi50aXRsZUlkPXQudGl0bGVJZHx8XCJwZi13aXphcmQtdGl0bGUtXCIrYSxuLmRlc2NyaXB0aW9uSWQ9dC5kZXNjcmlwdGlvbklkfHxcInBmLXdpemFyZC1kZXNjcmlwdGlvbi1cIithLG4uc3RhdGU9e2lzTmF2T3BlbjohMX0sbn1hPWUsKHQ9cikucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsdC5fX3Byb3RvX189YTt2YXIgYz1yLnByb3RvdHlwZTtyZXR1cm4gYy5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3ZhciBlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudC5ib2R5Om51bGw7ZSYmZS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuaGFuZGxlS2V5Q2xpY2tzLCExKX0sYy5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe3ZhciBlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuYm9keXx8bnVsbDtlJiZlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5oYW5kbGVLZXlDbGlja3MsITEpfSxjLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnByb3BzLGE9dC53aWR0aCxyPXQuaGVpZ2h0LGM9dC50aXRsZSx1PXQuZGVzY3JpcHRpb24scz10Lm9uQ2xvc2UsZD10Lm9uQmFjayxtPXQub25OZXh0LHA9dC5nb1RvU3RlcCxnPXQuZ29Ub1N0ZXBCeUlkLHY9dC5nb1RvU3RlcEJ5TmFtZSxoPXQuY2xhc3NOYW1lLGI9dC5zdGVwcyxDPXQuY3VycmVudFN0ZXAseT10Lm5leHRCdXR0b25UZXh0LFM9dm9pZCAwPT09eT9cIk5leHRcIjp5LFQ9dC5iYWNrQnV0dG9uVGV4dCx4PXZvaWQgMD09PVQ/XCJCYWNrXCI6VCxJPXQuY2FuY2VsQnV0dG9uVGV4dCxrPXZvaWQgMD09PUk/XCJDYW5jZWxcIjpJLFA9dC5oaWRlQ2xvc2UsQj10LmNsb3NlQnV0dG9uQXJpYUxhYmVsLEw9dm9pZCAwPT09Qj9cIkNsb3NlXCI6QixOPXQubmF2QXJpYUxhYmVsLHo9dC5uYXZBcmlhTGFiZWxsZWRCeSxBPXQubWFpbkFyaWFMYWJlbCxEPXQubWFpbkFyaWFMYWJlbGxlZEJ5LEY9dC5oYXNOb0JvZHlQYWRkaW5nLHc9dC5mb290ZXIsTT10LmlzT3BlbixPPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgbixhLHI9e30saT1PYmplY3Qua2V5cyhlKTtmb3IoYT0wO2E8aS5sZW5ndGg7YSsrKXQuaW5kZXhPZihuPWlbYV0pPj0wfHwocltuXT1lW25dKTtyZXR1cm4gcn0odCxbXCJ3aWR0aFwiLFwiaGVpZ2h0XCIsXCJ0aXRsZVwiLFwiZGVzY3JpcHRpb25cIixcIm9uQ2xvc2VcIixcIm9uU2F2ZVwiLFwib25CYWNrXCIsXCJvbk5leHRcIixcIm9uR29Ub1N0ZXBcIixcImdvVG9TdGVwXCIsXCJnb1RvU3RlcEJ5SWRcIixcImdvVG9TdGVwQnlOYW1lXCIsXCJjbGFzc05hbWVcIixcInN0ZXBzXCIsXCJjdXJyZW50U3RlcFwiLFwibmV4dEJ1dHRvblRleHRcIixcImJhY2tCdXR0b25UZXh0XCIsXCJjYW5jZWxCdXR0b25UZXh0XCIsXCJoaWRlQ2xvc2VcIixcImNsb3NlQnV0dG9uQXJpYUxhYmVsXCIsXCJuYXZBcmlhTGFiZWxcIixcIm5hdkFyaWFMYWJlbGxlZEJ5XCIsXCJtYWluQXJpYUxhYmVsXCIsXCJtYWluQXJpYUxhYmVsbGVkQnlcIixcImhhc05vQm9keVBhZGRpbmdcIixcImZvb3RlclwiLFwiYXBwZW5kVG9cIixcImlzT3BlblwiLFwidGl0bGVJZFwiLFwiZGVzY3JpcHRpb25JZFwiXSksVz10aGlzLmdldEZsYXR0ZW5lZFN0ZXBzKCksRz1XWyhXLmxlbmd0aDxDP1cubGVuZ3RoOkMpLTFdLHE9dGhpcy5pbml0U3RlcHMoYiksUj1HPT09V1swXSxqPSFHfHx2b2lkIDA9PT1HLmVuYWJsZU5leHR8fEcuZW5hYmxlTmV4dCxfPXtnb1RvU3RlcEJ5SWQ6Zyxnb1RvU3RlcEJ5TmFtZTp2LG9uTmV4dDptLG9uQmFjazpkLG9uQ2xvc2U6cyxhY3RpdmVTdGVwOkd9LEo9Zih7fSxyP3toZWlnaHQ6cn06e30sYT97d2lkdGg6YX06e30pLEs9bi5jcmVhdGVFbGVtZW50KGwuV2l6YXJkQ29udGV4dFByb3ZpZGVyLHt2YWx1ZTpffSxuLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixmKHt9LE8se2NsYXNzTmFtZTppLmNzcyhvLndpemFyZCxHJiZHLmlzRmluaXNoZWRTdGVwJiZcInBmLW0tZmluaXNoZWRcIixoKSxzdHlsZTpPYmplY3Qua2V5cyhKKS5sZW5ndGg/Sjp2b2lkIDB9KSxjJiZuLmNyZWF0ZUVsZW1lbnQobC5XaXphcmRIZWFkZXIse3RpdGxlSWQ6dGhpcy50aXRsZUlkLGRlc2NyaXB0aW9uSWQ6dGhpcy5kZXNjcmlwdGlvbklkLG9uQ2xvc2U6cyx0aXRsZTpjLGRlc2NyaXB0aW9uOnUsY2xvc2VCdXR0b25BcmlhTGFiZWw6TCxoaWRlQ2xvc2U6UH0pLG4uY3JlYXRlRWxlbWVudChsLldpemFyZFRvZ2dsZSx7bWFpbkFyaWFMYWJlbDpBLGlzSW5QYWdlOnZvaWQgMD09PU0sbWFpbkFyaWFMYWJlbGxlZEJ5OihjfHxEKSYmKER8fHRoaXMudGl0bGVJZCksaXNOYXZPcGVuOnRoaXMuc3RhdGUuaXNOYXZPcGVuLG9uTmF2VG9nZ2xlOmZ1bmN0aW9uKHQpe3JldHVybiBlLnNldFN0YXRlKHtpc05hdk9wZW46dH0pfSxuYXY6ZnVuY3Rpb24odCl7dmFyIGE9e2lzT3Blbjp0LFwiYXJpYS1sYWJlbFwiOk4sXCJhcmlhLWxhYmVsbGVkYnlcIjooY3x8eikmJih6fHxlLnRpdGxlSWQpfTtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuV2l6YXJkTmF2LGYoe30sYSkscS5tYXAoKGZ1bmN0aW9uKHQscil7aWYodC5pc0ZpbmlzaGVkU3RlcClyZXR1cm4gbnVsbDt2YXIgaTtpZih0LnN0ZXBzKXtmb3IodmFyIG8sYz0hMSx1PSExLHM9RSh0LnN0ZXBzKTshKG89cygpKS5kb25lOyl7dmFyIGQ9by52YWx1ZTtHLm5hbWU9PT1kLm5hbWUmJihjPSEwKSxkLmNhbkp1bXBUbyYmKHU9ITApfXJldHVybiBpPWUuZ2V0RmxhdHRlbmVkU3RlcHNJbmRleChXLHQuc3RlcHNbMF0ubmFtZSksbi5jcmVhdGVFbGVtZW50KGwuV2l6YXJkTmF2SXRlbSx7a2V5OnIsY29udGVudDp0Lm5hbWUsaXNDdXJyZW50OmMsaXNEaXNhYmxlZDohdSxzdGVwOmksb25OYXZJdGVtQ2xpY2s6cH0sbi5jcmVhdGVFbGVtZW50KGwuV2l6YXJkTmF2LGYoe30sYSx7cmV0dXJuTGlzdDohMH0pLHQuc3RlcHMubWFwKChmdW5jdGlvbih0LGEpe3JldHVybiB0LmlzRmluaXNoZWRTdGVwP251bGw6KGk9ZS5nZXRGbGF0dGVuZWRTdGVwc0luZGV4KFcsdC5uYW1lKSxuLmNyZWF0ZUVsZW1lbnQobC5XaXphcmROYXZJdGVtLHtrZXk6XCJjaGlsZF9cIithLGNvbnRlbnQ6dC5uYW1lLGlzQ3VycmVudDpHLm5hbWU9PT10Lm5hbWUsaXNEaXNhYmxlZDohdC5jYW5KdW1wVG8sc3RlcDppLG9uTmF2SXRlbUNsaWNrOnB9KSl9KSkpKX1yZXR1cm4gaT1lLmdldEZsYXR0ZW5lZFN0ZXBzSW5kZXgoVyx0Lm5hbWUpLG4uY3JlYXRlRWxlbWVudChsLldpemFyZE5hdkl0ZW0sZih7fSx0LnN0ZXBOYXZJdGVtUHJvcHMse2tleTpyLGNvbnRlbnQ6dC5uYW1lLGlzQ3VycmVudDpHLm5hbWU9PT10Lm5hbWUsaXNEaXNhYmxlZDohdC5jYW5KdW1wVG8sc3RlcDppLG9uTmF2SXRlbUNsaWNrOnB9KSl9KSkpfSxzdGVwczpiLGFjdGl2ZVN0ZXA6RyxoYXNOb0JvZHlQYWRkaW5nOkZ9LHd8fG4uY3JlYXRlRWxlbWVudChcImZvb3RlclwiLHtjbGFzc05hbWU6aS5jc3Moby53aXphcmRGb290ZXIpfSxuLmNyZWF0ZUVsZW1lbnQobC5CdXR0b24se3ZhcmlhbnQ6bC5CdXR0b25WYXJpYW50LnByaW1hcnksdHlwZTpcInN1Ym1pdFwiLG9uQ2xpY2s6bSxpc0Rpc2FibGVkOiFqfSxHJiZHLm5leHRCdXR0b25UZXh0fHxTKSwhRy5oaWRlQmFja0J1dHRvbiYmbi5jcmVhdGVFbGVtZW50KGwuQnV0dG9uLHt2YXJpYW50OmwuQnV0dG9uVmFyaWFudC5zZWNvbmRhcnksb25DbGljazpkLGNsYXNzTmFtZTppLmNzcyhSJiZcInBmLW0tZGlzYWJsZWRcIil9LHgpLCFHLmhpZGVDYW5jZWxCdXR0b24mJm4uY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6by53aXphcmRGb290ZXJDYW5jZWx9LG4uY3JlYXRlRWxlbWVudChsLkJ1dHRvbix7dmFyaWFudDpsLkJ1dHRvblZhcmlhbnQubGluayxvbkNsaWNrOnN9LGspKSkpKSk7cmV0dXJuIHZvaWQgMCE9PU0/bi5jcmVhdGVFbGVtZW50KGwuTW9kYWwse3dpZHRoOm51bGwhPT1hP2E6dm9pZCAwLGlzT3BlbjpNLHZhcmlhbnQ6bC5Nb2RhbFZhcmlhbnQubGFyZ2UsXCJhcmlhLWxhYmVsbGVkYnlcIjp0aGlzLnRpdGxlSWQsXCJhcmlhLWRlc2NyaWJlZGJ5XCI6dGhpcy5kZXNjcmlwdGlvbklkLHNob3dDbG9zZTohMSxoYXNOb0JvZHlXcmFwcGVyOiEwfSxLKTpLfSxyfSh0LkNvbXBvbmVudCk7ZnVuY3Rpb24gQygpe3ZhciBlPXIudXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lS2Fma2FzQWN0b3IoKTtyZXR1cm4gci51c2VLYWZrYXNNYWNoaW5lSXNSZWFkeShlKT9uLmNyZWF0ZUVsZW1lbnQoeSxudWxsKTpudWxsfWIuZGlzcGxheU5hbWU9XCJXaXphcmRcIixiLmN1cnJlbnRJZD0wLGIuZGVmYXVsdFByb3BzPXt0aXRsZTp2b2lkIDAsZGVzY3JpcHRpb246XCJcIixjbGFzc05hbWU6XCJcIixuZXh0QnV0dG9uVGV4dDpcIk5leHRcIixiYWNrQnV0dG9uVGV4dDpcIkJhY2tcIixjYW5jZWxCdXR0b25UZXh0OlwiQ2FuY2VsXCIsaGlkZUNsb3NlOiExLGNsb3NlQnV0dG9uQXJpYUxhYmVsOlwiQ2xvc2VcIixuYXZBcmlhTGFiZWw6dm9pZCAwLG5hdkFyaWFMYWJlbGxlZEJ5OnZvaWQgMCxtYWluQXJpYUxhYmVsOnZvaWQgMCxtYWluQXJpYUxhYmVsbGVkQnk6dm9pZCAwLGhhc05vQm9keVBhZGRpbmc6ITEsb25Hb1RvU3RlcDp2b2lkIDAsd2lkdGg6dm9pZCAwLGhlaWdodDp2b2lkIDAsZm9vdGVyOnZvaWQgMCxhcHBlbmRUbzp2b2lkIDAsaXNPcGVuOnZvaWQgMH07dmFyIHk9ZnVuY3Rpb24oKXt2YXIgZSx0PXMudXNlSGlzdG9yeSgpLGE9ci51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVLYWZrYXNBY3RvcigpLGk9ci51c2VLYWZrYXNNYWNoaW5lKGEpLG89aS5yZXNwb25zZSx1PWkuc2VsZWN0ZWRJZCxkPWkub25TZWxlY3QsbT1pLm9uUXVlcnk7c3dpdGNoKCEwKXtjYXNlIGkuZmlyc3RSZXF1ZXN0OnJldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5QYWdlU2VjdGlvbix7cGFkZGluZzp7ZGVmYXVsdDpcIm5vUGFkZGluZ1wifSxpc0ZpbGxlZDohMH0sbi5jcmVhdGVFbGVtZW50KGMuTG9hZGluZyxudWxsKSk7Y2FzZSBpLnF1ZXJ5RW1wdHk6cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLlBhZ2VTZWN0aW9uLHtwYWRkaW5nOntkZWZhdWx0Olwibm9QYWRkaW5nXCJ9LGlzRmlsbGVkOiEwfSxuLmNyZWF0ZUVsZW1lbnQoUyxudWxsKSxuLmNyZWF0ZUVsZW1lbnQoYy5Ob01hdGNoRm91bmQse29uQ2xlYXI6ZnVuY3Rpb24oKXtyZXR1cm4gbSh7cGFnZToxLHNpemU6MTB9KX19KSk7Y2FzZSBpLm5vUmVzdWx0c3x8aS5lcnJvcjpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuUGFnZVNlY3Rpb24se3BhZGRpbmc6e2RlZmF1bHQ6XCJub1BhZGRpbmdcIn0saXNGaWxsZWQ6ITB9LG4uY3JlYXRlRWxlbWVudChjLkVtcHR5U3RhdGUse2VtcHR5U3RhdGVQcm9wczp7dmFyaWFudDpjLkVtcHR5U3RhdGVWYXJpYW50LkdldHRpbmdTdGFydGVkfSx0aXRsZVByb3BzOnt0aXRsZTpcImNvcy5ub19rYWZrYV9pbnN0YW5jZVwifSxlbXB0eVN0YXRlQm9keVByb3BzOntib2R5OlwiY29zLm5vX2thZmthX2luc3RhbmNlX2JvZHlcIn0sYnV0dG9uUHJvcHM6e3RpdGxlOlwiY29zLmNyZWF0ZV9rYWZrYV9pbnN0YW5jZVwiLHZhcmlhbnQ6bC5CdXR0b25WYXJpYW50LnByaW1hcnksb25DbGljazpmdW5jdGlvbigpe3JldHVybiB0LnB1c2goXCIvY3JlYXRlLWNvbm5lY3RvclwiKX19fSkpO2Nhc2UgaS5sb2FkaW5nOnJldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5QYWdlU2VjdGlvbix7cGFkZGluZzp7ZGVmYXVsdDpcIm5vUGFkZGluZ1wifSxpc0ZpbGxlZDohMH0sbi5jcmVhdGVFbGVtZW50KFMsbnVsbCksbi5jcmVhdGVFbGVtZW50KGMuTG9hZGluZyxudWxsKSk7ZGVmYXVsdDpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuUGFnZVNlY3Rpb24se3BhZGRpbmc6e2RlZmF1bHQ6XCJub1BhZGRpbmdcIn0saXNGaWxsZWQ6ITB9LG4uY3JlYXRlRWxlbWVudChTLG51bGwpLG4uY3JlYXRlRWxlbWVudChsLlBhZ2VTZWN0aW9uLHtpc0ZpbGxlZDohMH0sbi5jcmVhdGVFbGVtZW50KGwuR2FsbGVyeSx7aGFzR3V0dGVyOiEwfSxudWxsPT1vfHxudWxsPT0oZT1vLml0ZW1zKT92b2lkIDA6ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5DYXJkLHtpc0hvdmVyYWJsZTohMCxrZXk6ZS5pZCxpc1NlbGVjdGFibGU6ITAsaXNTZWxlY3RlZDp1PT09ZS5pZCxvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIGQoZS5pZCl9fSxuLmNyZWF0ZUVsZW1lbnQobC5DYXJkSGVhZGVyLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuQ2FyZFRpdGxlLG51bGwsZS5uYW1lKSksbi5jcmVhdGVFbGVtZW50KGwuQ2FyZEJvZHksbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3QsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RHcm91cCxudWxsLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdFRlcm0sbnVsbCxcIlJlZ2lvblwiKSxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3REZXNjcmlwdGlvbixudWxsLGUucmVnaW9uKSksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RUZXJtLG51bGwsXCJPd25lclwiKSxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3REZXNjcmlwdGlvbixudWxsLGUub3duZXIpKSxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RHcm91cCxudWxsLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdFRlcm0sbnVsbCxcIkNyZWF0ZWRcIiksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0RGVzY3JpcHRpb24sbnVsbCxlLmNyZWF0ZWRfYXQpKSkpKX0pKSkpKX19LFM9ZnVuY3Rpb24oKXt2YXIgZT1yLnVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUthZmthc0FjdG9yKCksYT1yLnVzZUthZmthc01hY2hpbmUoZSksaT1hLnJlcXVlc3Qsbz1hLnJlc3BvbnNlLHM9YS5vblF1ZXJ5LGQ9aS5xdWVyeXx8e30sbT1kLm5hbWUscD12b2lkIDA9PT1tP1wiXCI6bSxnPWQuc3RhdHVzZXMsdj12b2lkIDA9PT1nP1tdOmcsRT10LnVzZUNhbGxiYWNrKChmdW5jdGlvbigpe3JldHVybiBzKHtwYWdlOjEsc2l6ZTppLnNpemV9KX0pLFtzLGkuc2l6ZV0pLGg9dC51c2VSZWYobnVsbCksYj1jLnVzZURlYm91bmNlKHMsMWUzKSxDPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoZih7fSxpLHtxdWVyeTpmKHt9LGkucXVlcnl8fHt9LHtzdGF0dXNlczoobnVsbD09dj92b2lkIDA6di5pbmNsdWRlcyh0KSk/di5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dH0pKTpbXS5jb25jYXQodnx8W10sW3RdKX0pfSkpfSx5PXQudXNlU3RhdGUoITEpLFM9eVswXSx4PXlbMV0sST10LnVzZUNhbGxiYWNrKChmdW5jdGlvbigpe3JldHVybiB4KChmdW5jdGlvbihlKXtyZXR1cm4hZX0pKX0pLFtdKSxrPVQubWFwKChmdW5jdGlvbihlKXt2YXIgdD1lLnZhbHVlO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5TZWxlY3RPcHRpb24se2tleTp0LHZhbHVlOnR9LGUubGFiZWwpfSkpO3QudXNlRWZmZWN0KChmdW5jdGlvbigpe2guY3VycmVudCYmKGguY3VycmVudC52YWx1ZT1wKX0pLFtoLHBdKTt2YXIgUD1uLmNyZWF0ZUVsZW1lbnQobi5GcmFnbWVudCxudWxsLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJJdGVtLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuSW5wdXRHcm91cCxudWxsLG4uY3JlYXRlRWxlbWVudChsLlRleHRJbnB1dCx7bmFtZTpcInRleHRJbnB1dDJcIixpZDpcInRleHRJbnB1dDJcIix0eXBlOlwic2VhcmNoXCIsXCJhcmlhLWxhYmVsXCI6XCJzZWFyY2ggaW5wdXQgZXhhbXBsZVwiLG9uQ2hhbmdlOmZ1bmN0aW9uKGUpe3JldHVybiBiKHtzaXplOmkuc2l6ZSxwYWdlOjEscXVlcnk6e25hbWU6ZSxzdGF0dXNlczp2fX0pfSxyZWY6aH0pLG4uY3JlYXRlRWxlbWVudChsLkJ1dHRvbix7dmFyaWFudDpcImNvbnRyb2xcIixcImFyaWEtbGFiZWxcIjpcInNlYXJjaCBidXR0b24gZm9yIHNlYXJjaCBpbnB1dFwifSxuLmNyZWF0ZUVsZW1lbnQodS5TZWFyY2hJY29uLG51bGwpKSkpLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJHcm91cCx7dmFyaWFudDpcImZpbHRlci1ncm91cFwifSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyRmlsdGVyLHtjaGlwczp2LGRlbGV0ZUNoaXA6QyxkZWxldGVDaGlwR3JvdXA6ZnVuY3Rpb24oKXtyZXR1cm4gcyhmKHt9LGkse3F1ZXJ5OmYoe30saS5xdWVyeXx8e30se3N0YXR1c2VzOnZvaWQgMH0pfSkpfSxjYXRlZ29yeU5hbWU6XCJTdGF0dXNcIn0sbi5jcmVhdGVFbGVtZW50KGwuU2VsZWN0LHt2YXJpYW50OlwiY2hlY2tib3hcIixcImFyaWEtbGFiZWxcIjpcIlN0YXR1c1wiLG9uVG9nZ2xlOkksb25TZWxlY3Q6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQygwLHQpfSxzZWxlY3Rpb25zOnYsaXNPcGVuOlMscGxhY2Vob2xkZXJUZXh0OlwiU3RhdHVzXCJ9LGspKSkpLEI9bi5jcmVhdGVFbGVtZW50KG4uRnJhZ21lbnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyVG9nZ2xlR3JvdXAse3RvZ2dsZUljb246bi5jcmVhdGVFbGVtZW50KHUuRmlsdGVySWNvbixudWxsKSxicmVha3BvaW50OlwieGxcIn0sUCksbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckdyb3VwLHt2YXJpYW50OlwiaWNvbi1idXR0b24tZ3JvdXBcIn0sbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckl0ZW0sbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5CdXR0b24se3ZhcmlhbnQ6XCJwcmltYXJ5XCJ9LFwiQ3JlYXRlIEthZmthIEluc3RhbmNlXCIpKSksbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckl0ZW0se3ZhcmlhbnQ6XCJwYWdpbmF0aW9uXCIsYWxpZ25tZW50OntkZWZhdWx0OlwiYWxpZ25SaWdodFwifX0sbi5jcmVhdGVFbGVtZW50KGwuUGFnaW5hdGlvbix7aXRlbUNvdW50OihudWxsPT1vP3ZvaWQgMDpvLnRvdGFsKXx8MCxwYWdlOmkucGFnZSxwZXJQYWdlOmkuc2l6ZSxwZXJQYWdlT3B0aW9uczpbe3RpdGxlOlwiMVwiLHZhbHVlOjF9LHt0aXRsZTpcIjVcIix2YWx1ZTo1fSx7dGl0bGU6XCIxMFwiLHZhbHVlOjEwfV0sb25TZXRQYWdlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gcyhmKHt9LGkse3BhZ2U6dCxzaXplOm58fGkuc2l6ZX0pKX0sb25QZXJQYWdlU2VsZWN0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LHZhcmlhbnQ6XCJ0b3BcIixpc0NvbXBhY3Q6ITB9KSkpO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyLHtpZDpcInRvb2xiYXItZ3JvdXAtdHlwZXNcIixjb2xsYXBzZUxpc3RlZEZpbHRlcnNCcmVha3BvaW50OlwieGxcIixjbGVhckFsbEZpbHRlcnM6RX0sbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckNvbnRlbnQsbnVsbCxCKSl9LFQ9W3t2YWx1ZTpcInJlYWR5XCIsbGFiZWw6XCJSZWFkeVwifSx7dmFsdWU6XCJmYWlsZWRcIixsYWJlbDpcIkZhaWxlZFwifSx7dmFsdWU6XCJhY2NlcHRlZFwiLGxhYmVsOlwiQ3JlYXRpb24gcGVuZGluZ1wifSx7dmFsdWU6XCJwcm92aXNpb25pbmdcIixsYWJlbDpcIkNyZWF0aW9uIGluIHByb2dyZXNzXCJ9LHt2YWx1ZTpcInByZXBhcmluZ1wiLGxhYmVsOlwiQ3JlYXRpb24gaW4gcHJvZ3Jlc3NcIn0se3ZhbHVlOlwiZGVwcm92aXNpb25cIixsYWJlbDpcIkRlbGV0aW9uIGluIHByb2dyZXNzXCJ9LHt2YWx1ZTpcImRlbGV0ZWRcIixsYWJlbDpcIkRlbGV0aW9uIGluIHByb2dyZXNzXCJ9XTtmdW5jdGlvbiB4KCl7dmFyIGU9ci51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVDbHVzdGVyc0FjdG9yKCk7cmV0dXJuIHIudXNlQ2x1c3RlcnNNYWNoaW5lSXNSZWFkeShlKT9uLmNyZWF0ZUVsZW1lbnQoSSxudWxsKTpudWxsfXZhciBJPWZ1bmN0aW9uKCl7dmFyIGUsdD1zLnVzZUhpc3RvcnkoKSxhPXIudXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lQ2x1c3RlcnNBY3RvcigpLGk9ci51c2VDbHVzdGVyc01hY2hpbmUoYSksbz1pLnJlc3BvbnNlLHU9aS5zZWxlY3RlZElkLGQ9aS5vblNlbGVjdCxtPWkub25RdWVyeTtzd2l0Y2goITApe2Nhc2UgaS5maXJzdFJlcXVlc3Q6cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLlBhZ2VTZWN0aW9uLHtwYWRkaW5nOntkZWZhdWx0Olwibm9QYWRkaW5nXCJ9LGlzRmlsbGVkOiEwfSxuLmNyZWF0ZUVsZW1lbnQoYy5Mb2FkaW5nLG51bGwpKTtjYXNlIGkucXVlcnlFbXB0eTpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuUGFnZVNlY3Rpb24se3BhZGRpbmc6e2RlZmF1bHQ6XCJub1BhZGRpbmdcIn0saXNGaWxsZWQ6ITB9LG4uY3JlYXRlRWxlbWVudChrLG51bGwpLG4uY3JlYXRlRWxlbWVudChjLk5vTWF0Y2hGb3VuZCx7b25DbGVhcjpmdW5jdGlvbigpe3JldHVybiBtKHtwYWdlOjEsc2l6ZToxMH0pfX0pKTtjYXNlIGkubm9SZXN1bHRzfHxpLmVycm9yOnJldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5QYWdlU2VjdGlvbix7cGFkZGluZzp7ZGVmYXVsdDpcIm5vUGFkZGluZ1wifSxpc0ZpbGxlZDohMH0sbi5jcmVhdGVFbGVtZW50KGMuRW1wdHlTdGF0ZSx7ZW1wdHlTdGF0ZVByb3BzOnt2YXJpYW50OmMuRW1wdHlTdGF0ZVZhcmlhbnQuR2V0dGluZ1N0YXJ0ZWR9LHRpdGxlUHJvcHM6e3RpdGxlOlwiY29zLm5vX2NsdXN0ZXJzX2luc3RhbmNlXCJ9LGVtcHR5U3RhdGVCb2R5UHJvcHM6e2JvZHk6XCJjb3Mubm9fY2x1c3RlcnNfaW5zdGFuY2VfYm9keVwifSxidXR0b25Qcm9wczp7dGl0bGU6XCJjb3MuY3JlYXRlX2NsdXN0ZXJzX2luc3RhbmNlXCIsdmFyaWFudDpsLkJ1dHRvblZhcmlhbnQucHJpbWFyeSxvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIHQucHVzaChcIi9jcmVhdGUtY29ubmVjdG9yXCIpfX19KSk7Y2FzZSBpLmxvYWRpbmc6cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLlBhZ2VTZWN0aW9uLHtwYWRkaW5nOntkZWZhdWx0Olwibm9QYWRkaW5nXCJ9LGlzRmlsbGVkOiEwfSxuLmNyZWF0ZUVsZW1lbnQoayxudWxsKSxuLmNyZWF0ZUVsZW1lbnQoYy5Mb2FkaW5nLG51bGwpKTtkZWZhdWx0OnJldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5QYWdlU2VjdGlvbix7cGFkZGluZzp7ZGVmYXVsdDpcIm5vUGFkZGluZ1wifSxpc0ZpbGxlZDohMH0sbi5jcmVhdGVFbGVtZW50KGssbnVsbCksbi5jcmVhdGVFbGVtZW50KGwuUGFnZVNlY3Rpb24se2lzRmlsbGVkOiEwfSxuLmNyZWF0ZUVsZW1lbnQobC5HYWxsZXJ5LHtoYXNHdXR0ZXI6ITB9LG51bGw9PW98fG51bGw9PShlPW8uaXRlbXMpP3ZvaWQgMDplLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQsYSxyO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5DYXJkLHtpc0hvdmVyYWJsZTohMCxrZXk6ZS5pZCxpc1NlbGVjdGFibGU6ITAsaXNTZWxlY3RlZDp1PT09ZS5pZCxvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIGQoZS5pZCl9fSxuLmNyZWF0ZUVsZW1lbnQobC5DYXJkSGVhZGVyLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuQ2FyZFRpdGxlLG51bGwsbnVsbD09KHQ9ZS5tZXRhZGF0YSk/dm9pZCAwOnQubmFtZSkpLG4uY3JlYXRlRWxlbWVudChsLkNhcmRCb2R5LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RUZXJtLG51bGwsXCJPd25lclwiKSxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3REZXNjcmlwdGlvbixudWxsLG51bGw9PShhPWUubWV0YWRhdGEpP3ZvaWQgMDphLm93bmVyKSksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RUZXJtLG51bGwsXCJDcmVhdGVkXCIpLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdERlc2NyaXB0aW9uLG51bGwsbnVsbD09KHI9ZS5tZXRhZGF0YSk/dm9pZCAwOnIuY3JlYXRlZF9hdCkpKSkpfSkpKSkpfX0saz1mdW5jdGlvbigpe3ZhciBlPXIudXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lQ2x1c3RlcnNBY3RvcigpLGE9ci51c2VDbHVzdGVyc01hY2hpbmUoZSksaT1hLnJlcXVlc3Qsbz1hLnJlc3BvbnNlLHM9YS5vblF1ZXJ5LGQ9dC51c2VSZWYobnVsbCksbT1jLnVzZURlYm91bmNlKHMsMWUzKSxwPW4uY3JlYXRlRWxlbWVudChuLkZyYWdtZW50LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckl0ZW0sbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5JbnB1dEdyb3VwLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuVGV4dElucHV0LHtuYW1lOlwidGV4dElucHV0MlwiLGlkOlwidGV4dElucHV0MlwiLHR5cGU6XCJzZWFyY2hcIixcImFyaWEtbGFiZWxcIjpcInNlYXJjaCBpbnB1dCBleGFtcGxlXCIsb25DaGFuZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG0oe3NpemU6aS5zaXplLHBhZ2U6MSxuYW1lOmV9KX0scmVmOmR9KSxuLmNyZWF0ZUVsZW1lbnQobC5CdXR0b24se3ZhcmlhbnQ6XCJjb250cm9sXCIsXCJhcmlhLWxhYmVsXCI6XCJzZWFyY2ggYnV0dG9uIGZvciBzZWFyY2ggaW5wdXRcIn0sbi5jcmVhdGVFbGVtZW50KHUuU2VhcmNoSWNvbixudWxsKSkpKSksZz1uLmNyZWF0ZUVsZW1lbnQobi5GcmFnbWVudCxudWxsLG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXJUb2dnbGVHcm91cCx7dG9nZ2xlSWNvbjpuLmNyZWF0ZUVsZW1lbnQodS5GaWx0ZXJJY29uLG51bGwpLGJyZWFrcG9pbnQ6XCJ4bFwifSxwKSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyR3JvdXAse3ZhcmlhbnQ6XCJpY29uLWJ1dHRvbi1ncm91cFwifSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFySXRlbSxudWxsLG4uY3JlYXRlRWxlbWVudChsLkJ1dHRvbix7dmFyaWFudDpcInByaW1hcnlcIn0sXCJDcmVhdGUgQ2x1c3RlcnMgSW5zdGFuY2VcIikpKSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFySXRlbSx7dmFyaWFudDpcInBhZ2luYXRpb25cIixhbGlnbm1lbnQ6e2RlZmF1bHQ6XCJhbGlnblJpZ2h0XCJ9fSxuLmNyZWF0ZUVsZW1lbnQobC5QYWdpbmF0aW9uLHtpdGVtQ291bnQ6KG51bGw9PW8/dm9pZCAwOm8udG90YWwpfHwwLHBhZ2U6aS5wYWdlLHBlclBhZ2U6aS5zaXplLHBlclBhZ2VPcHRpb25zOlt7dGl0bGU6XCIxXCIsdmFsdWU6MX0se3RpdGxlOlwiNVwiLHZhbHVlOjV9LHt0aXRsZTpcIjEwXCIsdmFsdWU6MTB9XSxvblNldFBhZ2U6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBzKGYoe30saSx7cGFnZTp0LHNpemU6bnx8aS5zaXplfSkpfSxvblBlclBhZ2VTZWxlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdmFyaWFudDpcInRvcFwiLGlzQ29tcGFjdDohMH0pKSk7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXIse2lkOlwidG9vbGJhci1ncm91cC10eXBlc1wiLGNvbGxhcHNlTGlzdGVkRmlsdGVyc0JyZWFrcG9pbnQ6XCJ4bFwifSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyQ29udGVudCxudWxsLGcpKX0sUD1be3RpdGxlOlwiMVwiLHZhbHVlOjF9LHt0aXRsZTpcIjVcIix2YWx1ZTo1fSx7dGl0bGU6XCIxMFwiLHZhbHVlOjEwfV07ZnVuY3Rpb24gQigpe3ZhciBlLGEsaSxvLHM9ci51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVDb25uZWN0b3JUeXBlc0FjdG9yKCksZD10LnVzZVN0YXRlKFwiXCIpLG09ZFswXSxwPWRbMV0sZz10LnVzZVN0YXRlKFtcIlNpbmtcIixcIlNvdXJjZVwiXSksZj1nWzBdLHY9Z1sxXSxFPXQudXNlU3RhdGUoITEpLGg9RVswXSxiPUVbMV0sQz10LnVzZUNhbGxiYWNrKChmdW5jdGlvbigpe3AoXCJcIiksdihbXSl9KSxbXSkseT10LnVzZUNhbGxiYWNrKChmdW5jdGlvbigpe3JldHVybiBiKChmdW5jdGlvbihlKXtyZXR1cm4hZX0pKX0pLFtdKSxTPXQudXNlQ2FsbGJhY2soKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHYoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmluY2x1ZGVzKHQpP2UuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSE9PXR9KSk6W10uY29uY2F0KGUsW3RdKX0pKX0pLFtdKTtzd2l0Y2goITApe2Nhc2Ugcy5zdGF0ZS5tYXRjaGVzKFwibG9hZGluZ1wiKTpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuRW1wdHlTdGF0ZSxudWxsLG4uY3JlYXRlRWxlbWVudChsLkVtcHR5U3RhdGVJY29uLHt2YXJpYW50OlwiY29udGFpbmVyXCIsY29tcG9uZW50OmwuU3Bpbm5lcn0pLG4uY3JlYXRlRWxlbWVudChsLlRpdGxlLHtzaXplOlwibGdcIixoZWFkaW5nTGV2ZWw6XCJoNFwifSxcIkxvYWRpbmdcIikpO2Nhc2Ugcy5zdGF0ZS5tYXRjaGVzKFwiZmFpbHVyZVwiKTpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGMuTm9NYXRjaEZvdW5kLG51bGwpO2RlZmF1bHQ6dmFyIFQ9W24uY3JlYXRlRWxlbWVudChsLlNlbGVjdE9wdGlvbix7a2V5OlwiU2lua1wiLHZhbHVlOlwiU2lua1wifSksbi5jcmVhdGVFbGVtZW50KGwuU2VsZWN0T3B0aW9uLHtrZXk6XCJTb3VyY2VcIix2YWx1ZTpcIlNvdXJjZVwifSldLHg9bi5jcmVhdGVFbGVtZW50KG4uRnJhZ21lbnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFySXRlbSxudWxsLG4uY3JlYXRlRWxlbWVudChsLklucHV0R3JvdXAsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5UZXh0SW5wdXQse25hbWU6XCJ0ZXh0SW5wdXQyXCIsaWQ6XCJ0ZXh0SW5wdXQyXCIsdHlwZTpcInNlYXJjaFwiLFwiYXJpYS1sYWJlbFwiOlwic2VhcmNoIGlucHV0IGV4YW1wbGVcIixvbkNoYW5nZTpwLHZhbHVlOm19KSxuLmNyZWF0ZUVsZW1lbnQobC5CdXR0b24se3ZhcmlhbnQ6XCJjb250cm9sXCIsXCJhcmlhLWxhYmVsXCI6XCJzZWFyY2ggYnV0dG9uIGZvciBzZWFyY2ggaW5wdXRcIn0sbi5jcmVhdGVFbGVtZW50KHUuU2VhcmNoSWNvbixudWxsKSkpKSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyR3JvdXAse3ZhcmlhbnQ6XCJmaWx0ZXItZ3JvdXBcIn0sbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckZpbHRlcix7Y2hpcHM6ZixkZWxldGVDaGlwOlMsZGVsZXRlQ2hpcEdyb3VwOmZ1bmN0aW9uKCl7cmV0dXJuIHYoW10pfSxjYXRlZ29yeU5hbWU6XCJDb25uZWN0b3IgdHlwZVwifSxuLmNyZWF0ZUVsZW1lbnQobC5TZWxlY3Qse3ZhcmlhbnQ6XCJjaGVja2JveFwiLFwiYXJpYS1sYWJlbFwiOlwiQ29ubmVjdG9yIHR5cGVcIixvblRvZ2dsZTp5LG9uU2VsZWN0OlMsc2VsZWN0aW9uczpmLGlzT3BlbjpoLHBsYWNlaG9sZGVyVGV4dDpcIkNvbm5lY3RvciB0eXBlXCJ9LFQpKSkpLEk9bi5jcmVhdGVFbGVtZW50KG4uRnJhZ21lbnQsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyVG9nZ2xlR3JvdXAse3RvZ2dsZUljb246bi5jcmVhdGVFbGVtZW50KHUuRmlsdGVySWNvbixudWxsKSxicmVha3BvaW50OlwieGxcIn0seCksbi5jcmVhdGVFbGVtZW50KGwuVG9vbGJhckl0ZW0se3ZhcmlhbnQ6XCJwYWdpbmF0aW9uXCIsYWxpZ25tZW50OntkZWZhdWx0OlwiYWxpZ25SaWdodFwifX0sbi5jcmVhdGVFbGVtZW50KGwuUGFnaW5hdGlvbix7aXRlbUNvdW50OihudWxsPT0oZT1zLnN0YXRlLmNvbnRleHQuY29ubmVjdG9ycyk/dm9pZCAwOmUudG90YWwpfHwwLHBhZ2U6KChudWxsPT0oYT1zLnN0YXRlLmNvbnRleHQuY29ubmVjdG9ycyk/dm9pZCAwOmEucGFnZSl8fDApKzEscGVyUGFnZToobnVsbD09KGk9cy5zdGF0ZS5jb250ZXh0LmNvbm5lY3RvcnMpP3ZvaWQgMDppLnNpemUpfHwwLHBlclBhZ2VPcHRpb25zOlAsb25TZXRQYWdlOmZ1bmN0aW9uKCl7cmV0dXJuITF9LG9uUGVyUGFnZVNlbGVjdDpmdW5jdGlvbigpe3JldHVybiExfSx2YXJpYW50OlwidG9wXCIsaXNDb21wYWN0OiEwfSkpKTtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuUGFnZVNlY3Rpb24se3BhZGRpbmc6e2RlZmF1bHQ6XCJub1BhZGRpbmdcIn19LG4uY3JlYXRlRWxlbWVudChsLlRvb2xiYXIse2lkOlwidG9vbGJhci1ncm91cC10eXBlc1wiLGNvbGxhcHNlTGlzdGVkRmlsdGVyc0JyZWFrcG9pbnQ6XCJ4bFwiLGNsZWFyQWxsRmlsdGVyczpDfSxuLmNyZWF0ZUVsZW1lbnQobC5Ub29sYmFyQ29udGVudCxudWxsLEkpKSxuLmNyZWF0ZUVsZW1lbnQobC5QYWdlU2VjdGlvbix7aXNGaWxsZWQ6ITB9LG4uY3JlYXRlRWxlbWVudChsLkdhbGxlcnkse2hhc0d1dHRlcjohMH0sbnVsbD09KG89cy5zdGF0ZS5jb250ZXh0LmNvbm5lY3RvcnMpP3ZvaWQgMDpvLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuXCJcIj09PW18fGUubmFtZS5pbmNsdWRlcyhtKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5DYXJkLHtpc0hvdmVyYWJsZTohMCxrZXk6ZS5pZCxpc1NlbGVjdGFibGU6ITAsaXNTZWxlY3RlZDoobnVsbD09KHQ9cy5zdGF0ZS5jb250ZXh0LnNlbGVjdGVkQ29ubmVjdG9yKT92b2lkIDA6dC5pZCk9PT1lLmlkLG9uQ2xpY2s6ZnVuY3Rpb24oKXtzLnNlbmQoe3R5cGU6XCJzZWxlY3RDb25uZWN0b3JcIixzZWxlY3RlZENvbm5lY3RvcjplLmlkfSl9fSxuLmNyZWF0ZUVsZW1lbnQobC5DYXJkSGVhZGVyLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuQ2FyZFRpdGxlLG51bGwsZS5uYW1lKSksbi5jcmVhdGVFbGVtZW50KGwuQ2FyZEJvZHksbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3QsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3RHcm91cCxudWxsLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdERlc2NyaXB0aW9uLG51bGwsZS5kZXNjcmlwdGlvbikpLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdEdyb3VwLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0VGVybSxudWxsLFwiVmVyc2lvblwiKSxuLmNyZWF0ZUVsZW1lbnQobC5EZXNjcmlwdGlvbkxpc3REZXNjcmlwdGlvbixudWxsLGUudmVyc2lvbikpLG4uY3JlYXRlRWxlbWVudChsLkRlc2NyaXB0aW9uTGlzdEdyb3VwLG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0VGVybSxudWxsLFwiSURcIiksbi5jcmVhdGVFbGVtZW50KGwuRGVzY3JpcHRpb25MaXN0RGVzY3JpcHRpb24sbnVsbCxlLmlkKSkpKSl9KSkpKSl9fXZhciBMPWZ1bmN0aW9uKGUpe3ZhciByPWUuYWN0b3IsaT1lLkNvbmZpZ3VyYXRvcixvPWEudXNlU2VsZWN0b3Iocix0LnVzZUNhbGxiYWNrKChmdW5jdGlvbihlKXtyZXR1cm57Y29ubmVjdG9yOmUuY29udGV4dC5jb25uZWN0b3IsYWN0aXZlU3RlcDplLmNvbnRleHQuYWN0aXZlU3RlcCxjb25maWd1cmF0aW9uOmUuY29udGV4dC5jb25maWd1cmF0aW9ufX0pLFtyXSkpO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQoaSx7YWN0aXZlU3RlcDpvLmFjdGl2ZVN0ZXAsY29uZmlndXJhdGlvbjpvLmNvbmZpZ3VyYXRpb24sY29ubmVjdG9yOm8uY29ubmVjdG9yLG9uQ2hhbmdlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuc2VuZCh7dHlwZTpcImNoYW5nZVwiLGNvbmZpZ3VyYXRpb246ZSxpc1ZhbGlkOnR9KX19KX0sTj1mdW5jdGlvbihlKXt2YXIgcj1lLmFjdG9yLGk9YS51c2VTZWxlY3RvcihyLHQudXNlQ2FsbGJhY2soKGZ1bmN0aW9uKGUpe3JldHVybntjb25uZWN0b3I6ZS5jb250ZXh0LmNvbm5lY3Rvcixjb25maWd1cmF0aW9uOmUuY29udGV4dC5jb25maWd1cmF0aW9ufX0pLFtyXSkpO3JldHVybiBuLmNyZWF0ZUVsZW1lbnQoZC5Kc29uU2NoZW1hQ29uZmlndXJhdG9yLHtzY2hlbWE6aS5jb25uZWN0b3IuanNvbl9zY2hlbWEsY29uZmlndXJhdGlvbjppLmNvbmZpZ3VyYXRpb258fHt9LG9uQ2hhbmdlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuc2VuZCh7dHlwZTpcImNoYW5nZVwiLGNvbmZpZ3VyYXRpb246ZSxpc1ZhbGlkOnR9KX19KX0sej1mdW5jdGlvbigpe3ZhciBlPW0udXNlVHJhbnNsYXRpb24oKS50LGk9ci51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlKCksbz1hLnVzZVNlbGVjdG9yKGksdC51c2VDYWxsYmFjaygoZnVuY3Rpb24oZSl7cmV0dXJue2lzTG9hZGluZzplLm1hdGNoZXMoe2NvbmZpZ3VyZUNvbm5lY3RvcjpcImxvYWRDb25maWd1cmF0b3JcIn0pLGhhc0Vycm9yczplLm1hdGNoZXMoXCJmYWlsdXJlXCIpLGhhc0N1c3RvbUNvbmZpZ3VyYXRvcjohMSE9PWUuY29udGV4dC5Db25maWd1cmF0b3ImJnZvaWQgMCE9PWUuY29udGV4dC5Db25maWd1cmF0b3IsY29uZmlndXJhdGlvbjplLmNvbnRleHQuY29ubmVjdG9yQ29uZmlndXJhdGlvbixDb25maWd1cmF0b3I6ZS5jb250ZXh0LkNvbmZpZ3VyYXRvcixjb25maWd1cmF0b3JSZWY6ZS5jaGlsZHJlbi5jb25maWd1cmF0b3JSZWZ9fSksW2ldKSksYz1vLkNvbmZpZ3VyYXRvcixzPW8uY29uZmlndXJhdG9yUmVmO3N3aXRjaCghMCl7Y2FzZSBvLmlzTG9hZGluZzpyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuRW1wdHlTdGF0ZSxudWxsLG4uY3JlYXRlRWxlbWVudChsLkVtcHR5U3RhdGVJY29uLHt2YXJpYW50OlwiY29udGFpbmVyXCIsY29tcG9uZW50OmwuU3Bpbm5lcn0pLG4uY3JlYXRlRWxlbWVudChsLlRpdGxlLHtzaXplOlwibGdcIixoZWFkaW5nTGV2ZWw6XCJoNFwifSxlKFwibG9hZGluZ1wiKSkpO2Nhc2Ugby5oYXNFcnJvcnM6cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLkVtcHR5U3RhdGUsbnVsbCxuLmNyZWF0ZUVsZW1lbnQobC5FbXB0eVN0YXRlSWNvbix7aWNvbjp1LkV4Y2xhbWF0aW9uQ2lyY2xlSWNvbn0pLG4uY3JlYXRlRWxlbWVudChsLlRpdGxlLHtzaXplOlwibGdcIixoZWFkaW5nTGV2ZWw6XCJoNFwifSxcIkVycm9yIG1lc3NhZ2VcIikpO2Nhc2Ugby5oYXNDdXN0b21Db25maWd1cmF0b3I6cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLlBhZ2VTZWN0aW9uLHt2YXJpYW50OlwibGlnaHRcIn0sbi5jcmVhdGVFbGVtZW50KG4uU3VzcGVuc2Use2ZhbGxiYWNrOm51bGx9LG4uY3JlYXRlRWxlbWVudChMLHthY3RvcjpzLENvbmZpZ3VyYXRvcjpjfSkpKTtkZWZhdWx0OnJldHVybiBuLmNyZWF0ZUVsZW1lbnQobC5QYWdlU2VjdGlvbix7dmFyaWFudDpcImxpZ2h0XCJ9LG4uY3JlYXRlRWxlbWVudChOLHthY3RvcjpzfSkpfX07ZnVuY3Rpb24gQSgpe3ZhciBlPXIudXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lUmV2aWV3QWN0b3IoKSxhPXIudXNlUmV2aWV3TWFjaGluZShlKSxpPWEubmFtZSxvPWEuc2VydmljZUFjY291bnQsYz1hLmNvbmZpZ1N0cmluZyx1PWEuY29uZmlnU3RyaW5nRXJyb3Iscz1hLmNvbmZpZ1N0cmluZ1dhcm5pbmdzLGQ9YS5pc1NhdmluZyxtPWEuc2F2aW5nRXJyb3IsZz1hLm9uU2V0TmFtZSx2PWEub25TZXRTZXJ2aWNlQWNjb3VudCxFPWEub25VcGRhdGVDb25maWd1cmF0aW9uLGg9dC51c2VDYWxsYmFjaygoZnVuY3Rpb24oZSx0KXtlLmxheW91dCgpLGUuZm9jdXMoKX0pLFtdKTtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGwuUGFnZVNlY3Rpb24se3ZhcmlhbnQ6XCJsaWdodFwifSxuLmNyZWF0ZUVsZW1lbnQobC5Gb3JtLG51bGwsbSYmbi5jcmVhdGVFbGVtZW50KGwuRm9ybUFsZXJ0LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuQWxlcnQse3ZhcmlhbnQ6XCJkYW5nZXJcIix0aXRsZTptLFwiYXJpYS1saXZlXCI6XCJwb2xpdGVcIixpc0lubGluZTohMH0pKSxuLmNyZWF0ZUVsZW1lbnQobC5Gb3JtR3JvdXAse2xhYmVsOlwiTmFtZVwiLGlzUmVxdWlyZWQ6ITAsZmllbGRJZDpcIm5hbWVcIixoZWxwZXJUZXh0OlwiUGxlYXNlIHByb3ZpZGUgYSB1bmlxdWUgbmFtZSBmb3IgdGhlIGNvbm5lY3RvclwifSxuLmNyZWF0ZUVsZW1lbnQobC5UZXh0SW5wdXQse2lzRGlzYWJsZWQ6ZCx2YWx1ZTppLG9uQ2hhbmdlOmcsaWQ6XCJuYW1lXCJ9KSksbi5jcmVhdGVFbGVtZW50KGwuRm9ybUdyb3VwLHtsYWJlbDpcIlNlcnZpY2UgQWNjb3VudFwiLGlzUmVxdWlyZWQ6ITAsZmllbGRJZDpcInNlcnZpY2UtYWNjb3VudFwifSxuLmNyZWF0ZUVsZW1lbnQobC5SYWRpbyx7aXNEaXNhYmxlZDpkLGlzQ2hlY2tlZDp2b2lkIDA9PT1vLG5hbWU6XCJzZXJ2aWNlLWFjY291bnRcIixvbkNoYW5nZTpmdW5jdGlvbigpe3JldHVybiB2KHZvaWQgMCl9LGxhYmVsOlwiQXV0b21hdGljYWxseSBjcmVhdGUgYSBTZXJ2aWNlIEFjY291bnQgZm9yIHRoaXMgY29ubmVjdG9yXCIsaWQ6XCJzZXJ2aWNlLWFjY291bnQtYXV0b21hdGljXCIsdmFsdWU6XCJhdXRvbWF0aWNcIn0pLG4uY3JlYXRlRWxlbWVudChsLlJhZGlvLHtpc0Rpc2FibGVkOmQsaXNDaGVja2VkOnZvaWQgMCE9PW8sbmFtZTpcInNlcnZpY2UtYWNjb3VudFwiLG9uQ2hhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIHYoe2NsaWVudElkOlwiXCIsY2xpZW50U2VjcmV0OlwiXCJ9KX0sbGFiZWw6XCJQcm92aWRlIHRoZSBjcmVkZW50aWFscyBtYW51YWxseVwiLGlkOlwic2VydmljZS1hY2NvdW50LXVzZXJcIix2YWx1ZTpcInVzZXJcIn0pLHZvaWQgMCE9PW8mJm4uY3JlYXRlRWxlbWVudChuLkZyYWdtZW50LG51bGwsbi5jcmVhdGVFbGVtZW50KGwuRm9ybUdyb3VwLHtsYWJlbDpcIkNsaWVudCBJRFwiLGlzUmVxdWlyZWQ6ITAsZmllbGRJZDpcImNsaWVudElkXCJ9LG4uY3JlYXRlRWxlbWVudChsLlRleHRJbnB1dCx7aXNEaXNhYmxlZDpkLHZhbHVlOm8uY2xpZW50SWQsb25DaGFuZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHYoZih7fSxvLHtjbGllbnRJZDplfSkpfSxpZDpcImNsaWVudElkXCJ9KSksbi5jcmVhdGVFbGVtZW50KGwuRm9ybUdyb3VwLHtsYWJlbDpcIkNsaWVudCBTZWNyZXRcIixpc1JlcXVpcmVkOiEwLGZpZWxkSWQ6XCJjbGllbnRTZWNyZXRcIn0sbi5jcmVhdGVFbGVtZW50KGwuVGV4dElucHV0LHtpc0Rpc2FibGVkOmQsdmFsdWU6by5jbGllbnRTZWNyZXQsb25DaGFuZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHYoZih7fSxvLHtjbGllbnRTZWNyZXQ6ZX0pKX0saWQ6XCJjbGllbnRTZWNyZXRcIn0pKSkpLG4uY3JlYXRlRWxlbWVudChsLkZvcm1Hcm91cCx7bGFiZWw6XCJDb25maWd1cmF0aW9uXCIsaXNSZXF1aXJlZDohMCxmaWVsZElkOlwiY29uZmlndXJhdGlvblwiLGhlbHBlclRleHQ6XCJQbGVhc2UgcmV2aWV3IHRoZSBjb25maWd1cmF0aW9uIGRhdGEuXCIsaGVscGVyVGV4dEludmFsaWQ6dSx2YWxpZGF0ZWQ6dm9pZCAwIT09dT9cImVycm9yXCI6dm9pZCAwIT09cz9cIndhcm5pbmdcIjpcImRlZmF1bHRcIn0sbi5jcmVhdGVFbGVtZW50KHAuQ29kZUVkaXRvcix7aWQ6XCJjb25maWd1cmF0aW9uXCIsaXNEYXJrVGhlbWU6ITEsaXNMaW5lTnVtYmVyc1Zpc2libGU6ITAsaXNSZWFkT25seTpkLGlzTWluaW1hcFZpc2libGU6ITEsaXNMYW5ndWFnZUxhYmVsVmlzaWJsZTohMCxjb2RlOmMsb25DaGFuZ2U6RSxsYW5ndWFnZTpwLkxhbmd1YWdlLmpzb24sb25FZGl0b3JEaWRNb3VudDpoLGhlaWdodDpcIjQwMHB4XCJ9KSxuLmNyZWF0ZUVsZW1lbnQobC5BbGVydEdyb3VwLG51bGwsbnVsbD09cz92b2lkIDA6cy5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChsLkFsZXJ0LHtrZXk6dCx0aXRsZTplLHZhcmlhbnQ6XCJ3YXJuaW5nXCIsaXNJbmxpbmU6ITB9KX0pKSkpKSl9dmFyIEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5lcnJvcjtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KFwiZGl2XCIse3JvbGU6XCJhbGVydFwifSxuLmNyZWF0ZUVsZW1lbnQoXCJwXCIsbnVsbCxcIlNvbWV0aGluZyB3ZW50IHdyb25nOlwiKSxuLmNyZWF0ZUVsZW1lbnQoXCJwcmVcIixudWxsLHQubWVzc2FnZSkpfSxGPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY2hpbGRyZW47cmV0dXJuIG4uY3JlYXRlRWxlbWVudChnLkVycm9yQm91bmRhcnkse0ZhbGxiYWNrQ29tcG9uZW50OkQscmVzZXRLZXlzOltEYXRlLm5vdygpXX0sdCl9O09iamVjdC5rZXlzKHIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe1wiZGVmYXVsdFwiIT09ZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsZSx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcltlXX19KX0pKSxleHBvcnRzLkNyZWF0aW9uV2l6YXJkPWZ1bmN0aW9uKGUpe3ZhciBpPWUub25DbG9zZSxvPW0udXNlVHJhbnNsYXRpb24oKS50LGw9ci51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlKCksYz1hLnVzZVNlcnZpY2UobCksdT1jWzBdLHM9Y1sxXSxkPWZ1bmN0aW9uKCl7dmFyIGU9ci51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlKCksaT1hLnVzZVNlbGVjdG9yKGUsdC51c2VDYWxsYmFjaygoZnVuY3Rpb24oZSl7cmV0dXJue2lzQWN0aXZlOmUubWF0Y2hlcyhcInNlbGVjdEthZmthXCIpLGNhbkp1bXBUbzpyLmNyZWF0aW9uV2l6YXJkTWFjaGluZS50cmFuc2l0aW9uKGUsXCJqdW1wVG9TZWxlY3RLYWZrYVwiKS5jaGFuZ2VkfHxlLm1hdGNoZXMoXCJzZWxlY3RLYWZrYVwiKSxlbmFibGVOZXh0OnIuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24oZSxcIm5leHRcIikuY2hhbmdlZH19KSxbZV0pKSxvPWkuY2FuSnVtcFRvLGw9aS5lbmFibGVOZXh0O3JldHVybntuYW1lOlwiU2VsZWN0IGthZmthIGluc3RhbmNlXCIsaXNBY3RpdmU6aS5pc0FjdGl2ZSxjb21wb25lbnQ6bi5jcmVhdGVFbGVtZW50KEYsbnVsbCxuLmNyZWF0ZUVsZW1lbnQoQyxudWxsKSksY2FuSnVtcFRvOm8sZW5hYmxlTmV4dDpsfX0oKSxwPWZ1bmN0aW9uKCl7dmFyIGU9ci51c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlKCksaT1hLnVzZVNlbGVjdG9yKGUsdC51c2VDYWxsYmFjaygoZnVuY3Rpb24oZSl7cmV0dXJue2lzQWN0aXZlOmUubWF0Y2hlcyhcImNvbmZpZ3VyZUNvbm5lY3RvclwiKSxjYW5KdW1wVG86ci5jcmVhdGlvbldpemFyZE1hY2hpbmUudHJhbnNpdGlvbihlLFwianVtcFRvQ29uZmlndXJlQ29ubmVjdG9yXCIpLmNoYW5nZWR8fGUubWF0Y2hlcyhcImNvbmZpZ3VyZUNvbm5lY3RvclwiKSxlbmFibGVOZXh0OnIuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24oZSxcIm5leHRcIikuY2hhbmdlZCxzdGVwczplLmNvbnRleHQuY29uZmlndXJhdGlvblN0ZXBzLGFjdGl2ZVN0ZXA6ZS5jb250ZXh0LmFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwLGNhbkp1bXBUb1N0ZXA6ZnVuY3Rpb24odCl7cmV0dXJuIHIuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24oZSx7dHlwZTpcImp1bXBUb0NvbmZpZ3VyZUNvbm5lY3RvclwiLHN1YlN0ZXA6dH0pLmNoYW5nZWR9fX0pLFtlXSkpLG89aS5pc0FjdGl2ZSxsPWkuYWN0aXZlU3RlcCxjPWkuY2FuSnVtcFRvU3RlcCx1PWkuZW5hYmxlTmV4dCxzPWkuc3RlcHM7cmV0dXJue25hbWU6XCJDb25maWd1cmF0aW9uXCIsaXNBY3RpdmU6byxjYW5KdW1wVG86aS5jYW5KdW1wVG8sc3RlcHM6cz9zLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm57bmFtZTplLGlzQWN0aXZlOm8mJmw9PT10LGNhbkp1bXBUbzpjKHQpLGVuYWJsZU5leHQ6dSxjb21wb25lbnQ6bi5jcmVhdGVFbGVtZW50KEYsbnVsbCxuLmNyZWF0ZUVsZW1lbnQoeixudWxsKSl9fSkpOnZvaWQgMCxlbmFibGVOZXh0OnUsY29tcG9uZW50Om4uY3JlYXRlRWxlbWVudChGLG51bGwsbi5jcmVhdGVFbGVtZW50KHosbnVsbCkpfX0oKTtpZihcInNhdmVkXCI9PT11LnZhbHVlKXJldHVybiBudWxsO3ZhciBnPVt7bmFtZTpcIkNvbm5lY3RvclwiLGlzQWN0aXZlOnUubWF0Y2hlcyhcInNlbGVjdENvbm5lY3RvclwiKSxjb21wb25lbnQ6bi5jcmVhdGVFbGVtZW50KEYsbnVsbCxuLmNyZWF0ZUVsZW1lbnQoQixudWxsKSksY2FuSnVtcFRvOnIuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24odSxcImp1bXBUb1NlbGVjdENvbm5lY3RvclwiKS5jaGFuZ2VkfHx1Lm1hdGNoZXMoXCJzZWxlY3RDb25uZWN0b3JcIiksZW5hYmxlTmV4dDpyLmNyZWF0aW9uV2l6YXJkTWFjaGluZS50cmFuc2l0aW9uKHUsXCJuZXh0XCIpLmNoYW5nZWR9LGQse25hbWU6byhcInNlbGVjdE9jbUNsdXN0ZXJcIiksaXNBY3RpdmU6dS5tYXRjaGVzKFwic2VsZWN0Q2x1c3RlclwiKSxjb21wb25lbnQ6bi5jcmVhdGVFbGVtZW50KEYsbnVsbCxuLmNyZWF0ZUVsZW1lbnQoeCxudWxsKSksY2FuSnVtcFRvOnIuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24odSxcImp1bXBUb1NlbGVjdENsdXN0ZXJcIikuY2hhbmdlZHx8dS5tYXRjaGVzKFwic2VsZWN0Q2x1c3RlclwiKSxlbmFibGVOZXh0OnIuY3JlYXRpb25XaXphcmRNYWNoaW5lLnRyYW5zaXRpb24odSxcIm5leHRcIikuY2hhbmdlZH0scCx7bmFtZTpcIlJldmlld1wiLGlzQWN0aXZlOnUubWF0Y2hlcyhcInJldmlld0NvbmZpZ3VyYXRpb25cIiksY29tcG9uZW50Om4uY3JlYXRlRWxlbWVudChGLG51bGwsbi5jcmVhdGVFbGVtZW50KEEsbnVsbCkpLGNhbkp1bXBUbzpyLmNyZWF0aW9uV2l6YXJkTWFjaGluZS50cmFuc2l0aW9uKHUsXCJqdW1wVG9SZXZpZXdDb25maWd1cmF0aW9uXCIpLmNoYW5nZWR8fHUubWF0Y2hlcyhcInJldmlld0NvbmZpZ3VyYXRpb25cIiksZW5hYmxlTmV4dDpyLmNyZWF0aW9uV2l6YXJkTWFjaGluZS50cmFuc2l0aW9uKHUsXCJuZXh0XCIpLmNoYW5nZWQsbmV4dEJ1dHRvblRleHQ6XCJDcmVhdGUgY29ubmVjdG9yXCJ9XSxmPWgoZyksdj1mLnJlZHVjZVJpZ2h0KChmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQuaXNBY3RpdmUmJm4+ZT9uOmV9KSwtMSkrMTtyZXR1cm4gbi5jcmVhdGVFbGVtZW50KGIse2NsYXNzTmFtZTpcImNvc1wiLHN0ZXBzOmcsY3VycmVudFN0ZXA6dixvbk5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gcyhcIm5leHRcIil9LG9uQmFjazpmdW5jdGlvbigpe3JldHVybiBzKFwicHJldlwiKX0sb25DbG9zZTppLG9uU2F2ZTpmdW5jdGlvbigpe3JldHVybiExfSxnb1RvU3RlcDpmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSAxOnMoXCJqdW1wVG9TZWxlY3RDb25uZWN0b3JcIik7YnJlYWs7Y2FzZSAyOnMoXCJqdW1wVG9TZWxlY3RLYWZrYVwiKTticmVhaztjYXNlIDM6cyhcImp1bXBUb1NlbGVjdENsdXN0ZXJcIik7YnJlYWs7Y2FzZSBmLmxlbmd0aDpzKFwianVtcFRvUmV2aWV3Q29uZmlndXJhdGlvblwiKTticmVhaztkZWZhdWx0OmU8Zi5sZW5ndGgmJnMoe3R5cGU6XCJqdW1wVG9Db25maWd1cmVDb25uZWN0b3JcIixzdWJTdGVwOmUtNH0pfX0sZ29Ub1N0ZXBCeUlkOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGNvbnNvbGUubG9nKFwiZ29Ub1N0ZXBCeUlkXCIsdCl9LGdvVG9TdGVwQnlOYW1lOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGNvbnNvbGUubG9nKFwiZ29Ub1N0ZXBCeU5hbWVcIix0KX0saGFzTm9Cb2R5UGFkZGluZzohMH0pfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0aW9uLXdpemFyZC5janMucHJvZHVjdGlvbi5taW4uanMubWFwXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///81778\n')},70793:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\n\nif (true) {\n  module.exports = __webpack_require__(81778)\n} else {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2NyZWF0aW9uV2l6YXJkL2Rpc3QvaW5kZXguanM/MDNhMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ1k7O0FBRVosSUFBSSxJQUFxQztBQUN6QyxFQUFFLDJDQUFtRTtBQUNyRSxDQUFDLE1BQU0sRUFFTiIsImZpbGUiOiI3MDc5My5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuJ3VzZSBzdHJpY3QnXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jcmVhdGlvbi13aXphcmQuY2pzLnByb2R1Y3Rpb24ubWluLmpzJylcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jcmVhdGlvbi13aXphcmQuY2pzLmRldmVsb3BtZW50LmpzJylcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///70793\n")},25102:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"JsonSchemaConfigurator\": () => (/* binding */ JsonSchemaConfigurator),\n/* harmony export */   \"createValidator\": () => (/* binding */ createValidator)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(42403);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(53379);\n/* harmony import */ var uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var uniforms_bridge_json_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(25646);\n/* harmony import */ var uniforms_bridge_json_schema__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uniforms_bridge_json_schema__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var ajv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(77586);\n/* harmony import */ var ajv__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ajv__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var uniforms_es5__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(59267);\n/* harmony import */ var uniforms_es5__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(uniforms_es5__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\nvar ajv = /*#__PURE__*/new (ajv__WEBPACK_IMPORTED_MODULE_3___default())({\n  allErrors: true,\n  useDefaults: false,\n  strict: 'log',\n  strictSchema: false\n});\nfunction createValidator(schema) {\n  var validator = ajv.compile(schema);\n  return function (model) {\n    var _validator$errors;\n\n    validator(model);\n    return ((_validator$errors = validator.errors) == null ? void 0 : _validator$errors.length) ? {\n      details: validator.errors\n    } : null;\n  };\n}\nvar JsonSchemaConfigurator = function JsonSchemaConfigurator(_ref) {\n  var schema = _ref.schema,\n      configuration = _ref.configuration,\n      onChange = _ref.onChange;\n  schema.type = schema.type || 'object';\n  var schemaValidator = createValidator(schema);\n  var bridge = new uniforms_bridge_json_schema__WEBPACK_IMPORTED_MODULE_2__.JSONSchemaBridge(schema, schemaValidator);\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__.AutoForm, {\n    schema: bridge,\n    model: configuration,\n    autosave: true,\n    autosaveDelay: 0\n  }, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__.AutoFields, null), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(uniforms_patternfly__WEBPACK_IMPORTED_MODULE_1__.ErrorsField, null), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(WizardNext, {\n    onChange: onChange\n  }));\n};\n\nvar WizardNext = function WizardNext(_ref2) {\n  var onChange = _ref2.onChange;\n\n  var _useForm = (0,uniforms_es5__WEBPACK_IMPORTED_MODULE_4__.useForm)(),\n      changed = _useForm.changed,\n      submitted = _useForm.submitted,\n      error = _useForm.error,\n      model = _useForm.model;\n\n  var isValid = !error;\n  var prevChangeModel = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (prevChangeModel.current !== model && changed && submitted) {\n      prevChangeModel.current = model;\n      onChange(isValid ? model : undefined, isValid);\n    }\n  }, [prevChangeModel, changed, submitted, isValid, model, onChange]);\n  return null;\n};\n\n\n//# sourceMappingURL=json-schema-configurator.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL2pzb25TY2hlbWFDb25maWd1cmF0b3IvZGlzdC9qc29uLXNjaGVtYS1jb25maWd1cmF0b3IuZXNtLmpzPzZmMzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQWlEO0FBQ3VCO0FBQ1Q7QUFDekM7QUFDaUI7O0FBRXZDLDJCQUEyQiw0Q0FBRztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix5RUFBZ0I7QUFDbkMsU0FBUywwREFBbUIsQ0FBQyx5REFBUTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsRUFBRSwwREFBbUIsQ0FBQywyREFBVSxTQUFTLDBEQUFtQixDQUFDLDREQUFXLFNBQVMsMERBQW1CO0FBQ3ZHO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUEsaUJBQWlCLHFEQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLDZDQUFNO0FBQzlCLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVtRDtBQUNuRCIsImZpbGUiOiIyNTEwMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEF1dG9Gb3JtLCBBdXRvRmllbGRzLCBFcnJvcnNGaWVsZCB9IGZyb20gJ3VuaWZvcm1zLXBhdHRlcm5mbHknO1xuaW1wb3J0IHsgSlNPTlNjaGVtYUJyaWRnZSB9IGZyb20gJ3VuaWZvcm1zLWJyaWRnZS1qc29uLXNjaGVtYSc7XG5pbXBvcnQgQWp2IGZyb20gJ2Fqdic7XG5pbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSAndW5pZm9ybXMvZXM1JztcblxudmFyIGFqdiA9IC8qI19fUFVSRV9fKi9uZXcgQWp2KHtcbiAgYWxsRXJyb3JzOiB0cnVlLFxuICB1c2VEZWZhdWx0czogZmFsc2UsXG4gIHN0cmljdDogJ2xvZycsXG4gIHN0cmljdFNjaGVtYTogZmFsc2Vcbn0pO1xuZnVuY3Rpb24gY3JlYXRlVmFsaWRhdG9yKHNjaGVtYSkge1xuICB2YXIgdmFsaWRhdG9yID0gYWp2LmNvbXBpbGUoc2NoZW1hKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChtb2RlbCkge1xuICAgIHZhciBfdmFsaWRhdG9yJGVycm9ycztcblxuICAgIHZhbGlkYXRvcihtb2RlbCk7XG4gICAgcmV0dXJuICgoX3ZhbGlkYXRvciRlcnJvcnMgPSB2YWxpZGF0b3IuZXJyb3JzKSA9PSBudWxsID8gdm9pZCAwIDogX3ZhbGlkYXRvciRlcnJvcnMubGVuZ3RoKSA/IHtcbiAgICAgIGRldGFpbHM6IHZhbGlkYXRvci5lcnJvcnNcbiAgICB9IDogbnVsbDtcbiAgfTtcbn1cbnZhciBKc29uU2NoZW1hQ29uZmlndXJhdG9yID0gZnVuY3Rpb24gSnNvblNjaGVtYUNvbmZpZ3VyYXRvcihfcmVmKSB7XG4gIHZhciBzY2hlbWEgPSBfcmVmLnNjaGVtYSxcbiAgICAgIGNvbmZpZ3VyYXRpb24gPSBfcmVmLmNvbmZpZ3VyYXRpb24sXG4gICAgICBvbkNoYW5nZSA9IF9yZWYub25DaGFuZ2U7XG4gIHNjaGVtYS50eXBlID0gc2NoZW1hLnR5cGUgfHwgJ29iamVjdCc7XG4gIHZhciBzY2hlbWFWYWxpZGF0b3IgPSBjcmVhdGVWYWxpZGF0b3Ioc2NoZW1hKTtcbiAgdmFyIGJyaWRnZSA9IG5ldyBKU09OU2NoZW1hQnJpZGdlKHNjaGVtYSwgc2NoZW1hVmFsaWRhdG9yKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXV0b0Zvcm0sIHtcbiAgICBzY2hlbWE6IGJyaWRnZSxcbiAgICBtb2RlbDogY29uZmlndXJhdGlvbixcbiAgICBhdXRvc2F2ZTogdHJ1ZSxcbiAgICBhdXRvc2F2ZURlbGF5OiAwXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXV0b0ZpZWxkcywgbnVsbCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRXJyb3JzRmllbGQsIG51bGwpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFdpemFyZE5leHQsIHtcbiAgICBvbkNoYW5nZTogb25DaGFuZ2VcbiAgfSkpO1xufTtcblxudmFyIFdpemFyZE5leHQgPSBmdW5jdGlvbiBXaXphcmROZXh0KF9yZWYyKSB7XG4gIHZhciBvbkNoYW5nZSA9IF9yZWYyLm9uQ2hhbmdlO1xuXG4gIHZhciBfdXNlRm9ybSA9IHVzZUZvcm0oKSxcbiAgICAgIGNoYW5nZWQgPSBfdXNlRm9ybS5jaGFuZ2VkLFxuICAgICAgc3VibWl0dGVkID0gX3VzZUZvcm0uc3VibWl0dGVkLFxuICAgICAgZXJyb3IgPSBfdXNlRm9ybS5lcnJvcixcbiAgICAgIG1vZGVsID0gX3VzZUZvcm0ubW9kZWw7XG5cbiAgdmFyIGlzVmFsaWQgPSAhZXJyb3I7XG4gIHZhciBwcmV2Q2hhbmdlTW9kZWwgPSB1c2VSZWYoKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJldkNoYW5nZU1vZGVsLmN1cnJlbnQgIT09IG1vZGVsICYmIGNoYW5nZWQgJiYgc3VibWl0dGVkKSB7XG4gICAgICBwcmV2Q2hhbmdlTW9kZWwuY3VycmVudCA9IG1vZGVsO1xuICAgICAgb25DaGFuZ2UoaXNWYWxpZCA/IG1vZGVsIDogdW5kZWZpbmVkLCBpc1ZhbGlkKTtcbiAgICB9XG4gIH0sIFtwcmV2Q2hhbmdlTW9kZWwsIGNoYW5nZWQsIHN1Ym1pdHRlZCwgaXNWYWxpZCwgbW9kZWwsIG9uQ2hhbmdlXSk7XG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IHsgSnNvblNjaGVtYUNvbmZpZ3VyYXRvciwgY3JlYXRlVmFsaWRhdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qc29uLXNjaGVtYS1jb25maWd1cmF0b3IuZXNtLmpzLm1hcFxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///25102\n")},83255:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ConnectorsMachineProvider\": () => (/* binding */ ConnectorsMachineProvider),\n/* harmony export */   \"CreationWizardMachineProvider\": () => (/* binding */ CreationWizardMachineProvider),\n/* harmony export */   \"PAGINATED_MACHINE_ID\": () => (/* binding */ PAGINATED_MACHINE_ID),\n/* harmony export */   \"clustersMachine\": () => (/* binding */ clustersMachine),\n/* harmony export */   \"configuratorLoaderMachine\": () => (/* binding */ configuratorLoaderMachine),\n/* harmony export */   \"configuratorMachine\": () => (/* binding */ configuratorMachine),\n/* harmony export */   \"connectorMachine\": () => (/* binding */ connectorMachine),\n/* harmony export */   \"connectorTypesMachine\": () => (/* binding */ connectorTypesMachine),\n/* harmony export */   \"connectorsMachine\": () => (/* binding */ connectorsMachine),\n/* harmony export */   \"creationWizardMachine\": () => (/* binding */ creationWizardMachine),\n/* harmony export */   \"getPaginatedApiMachineEvents\": () => (/* binding */ getPaginatedApiMachineEvents),\n/* harmony export */   \"getPaginatedApiMachineEventsHandlers\": () => (/* binding */ getPaginatedApiMachineEventsHandlers),\n/* harmony export */   \"kafkasMachine\": () => (/* binding */ kafkasMachine),\n/* harmony export */   \"makeConnectorMachine\": () => (/* binding */ makeConnectorMachine),\n/* harmony export */   \"makeFetchMachine\": () => (/* binding */ makeFetchMachine),\n/* harmony export */   \"makePaginatedApiMachine\": () => (/* binding */ makePaginatedApiMachine),\n/* harmony export */   \"reviewMachine\": () => (/* binding */ reviewMachine),\n/* harmony export */   \"useClustersMachine\": () => (/* binding */ useClustersMachine),\n/* harmony export */   \"useClustersMachineIsReady\": () => (/* binding */ useClustersMachineIsReady),\n/* harmony export */   \"useConnector\": () => (/* binding */ useConnector),\n/* harmony export */   \"useConnectorsMachine\": () => (/* binding */ useConnectorsMachine),\n/* harmony export */   \"useConnectorsMachineIsReady\": () => (/* binding */ useConnectorsMachineIsReady),\n/* harmony export */   \"useConnectorsMachineService\": () => (/* binding */ useConnectorsMachineService),\n/* harmony export */   \"useCreationWizardMachineClustersActor\": () => (/* binding */ useCreationWizardMachineClustersActor),\n/* harmony export */   \"useCreationWizardMachineConnectorTypesActor\": () => (/* binding */ useCreationWizardMachineConnectorTypesActor),\n/* harmony export */   \"useCreationWizardMachineKafkasActor\": () => (/* binding */ useCreationWizardMachineKafkasActor),\n/* harmony export */   \"useCreationWizardMachineReviewActor\": () => (/* binding */ useCreationWizardMachineReviewActor),\n/* harmony export */   \"useCreationWizardMachineService\": () => (/* binding */ useCreationWizardMachineService),\n/* harmony export */   \"useKafkasMachine\": () => (/* binding */ useKafkasMachine),\n/* harmony export */   \"useKafkasMachineIsReady\": () => (/* binding */ useKafkasMachineIsReady),\n/* harmony export */   \"usePagination\": () => (/* binding */ usePagination),\n/* harmony export */   \"useReviewMachine\": () => (/* binding */ useReviewMachine)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(42403);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(77616);\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(xstate__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(25612);\n/* harmony import */ var xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(32292);\n/* harmony import */ var xstate_lib_model__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _xstate_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(35471);\n/* harmony import */ var _xstate_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_xstate_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(40107);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(22750);\n/* harmony import */ var _cos_ui_api__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_cos_ui_api__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _cos_ui_json_schema_configurator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(25102);\n\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar startConnector = function startConnector(_ref) {\n  var accessToken = _ref.accessToken,\n      basePath = _ref.basePath,\n      connector = _ref.connector;\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (callback) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    apisService.patchConnector(connector.id, {\n      desired_state: 'ready'\n    }, undefined, {\n      cancelToken: source.token,\n      headers: {\n        'Content-type': 'application/merge-patch+json'\n      }\n    }).then(function (response) {\n      callback({\n        type: 'success',\n        connector: response.data\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        callback({\n          type: 'error',\n          error: error.response.data.reason\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\nvar stopConnector = function stopConnector(_ref2) {\n  var accessToken = _ref2.accessToken,\n      basePath = _ref2.basePath,\n      connector = _ref2.connector;\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (callback) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    apisService.patchConnector(connector.id, {\n      desired_state: 'stopped'\n    }, undefined, {\n      cancelToken: source.token,\n      headers: {\n        'Content-type': 'application/merge-patch+json'\n      }\n    }).then(function (response) {\n      callback({\n        type: 'success',\n        connector: response.data\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        callback({\n          type: 'error',\n          error: error.response.data.reason\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\nvar deleteConnector = function deleteConnector(_ref3) {\n  var accessToken = _ref3.accessToken,\n      basePath = _ref3.basePath,\n      connector = _ref3.connector;\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (callback) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    apisService.deleteConnector(connector.id, undefined, {\n      cancelToken: source.token\n    }).then(function () {\n      callback({\n        type: 'success',\n        connector: _extends({}, connector, {\n          status: 'deleting',\n          desired_state: 'deleted'\n        })\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        callback({\n          type: 'error',\n          error: error.response.data.reason\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\nvar fetchConnectors = function fetchConnectors(accessToken, basePath) {\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (request, onSuccess, onError) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    var page = request.page,\n        size = request.size; // const query = name.length > 0 ? `name LIKE ${name}` : undefined;\n\n    apisService.listConnectors(\"\" + page, \"\" + size, undefined, {\n      cancelToken: source.token\n    }).then(function (response) {\n      onSuccess({\n        items: response.data.items,\n        total: response.data.total,\n        page: response.data.page,\n        size: response.data.size\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        onError({\n          error: error.message,\n          page: request.page\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nvar connectorMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar connectorMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  accessToken: function accessToken() {\n    return Promise.resolve('');\n  },\n  basePath: '',\n  connector: {}\n}, {\n  events: {\n    start: function start() {\n      return {};\n    },\n    stop: function stop() {\n      return {};\n    },\n    remove: function remove() {\n      return {};\n    },\n    success: function success(payload) {\n      return payload;\n    },\n    error: function error(payload) {\n      return payload;\n    }\n  }\n});\nvar connectorMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: connectorMachineSchema,\n  id: 'connector',\n  initial: 'verify',\n  context: connectorMachineModel.initialContext,\n  states: {\n    verify: {\n      always: [{\n        target: 'ready',\n        cond: 'isReady'\n      }, {\n        target: 'stopped',\n        cond: 'isStopped'\n      }, {\n        target: 'deleted',\n        cond: 'isDeleted'\n      }]\n    },\n    ready: {\n      on: {\n        stop: 'stoppingConnector',\n        remove: 'deletingConnector'\n      }\n    },\n    stopped: {\n      on: {\n        start: 'startingConnector',\n        remove: 'deletingConnector'\n      }\n    },\n    deleted: {},\n    startingConnector: {\n      invoke: {\n        id: 'startingConnectorCb',\n        src: function src(context) {\n          return startConnector({\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            connector: context.connector\n          });\n        }\n      },\n      on: {\n        success: {\n          target: 'verify',\n          actions: ['updateState', 'notifySuccessToParent']\n        },\n        error: {\n          target: 'verify',\n          actions: 'notifyErrorToParent'\n        }\n      }\n    },\n    stoppingConnector: {\n      invoke: {\n        id: 'stoppingConnectorCb',\n        src: function src(context) {\n          return stopConnector({\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            connector: context.connector\n          });\n        }\n      },\n      on: {\n        success: {\n          target: 'verify',\n          actions: ['updateState', 'notifySuccessToParent']\n        },\n        error: {\n          target: 'verify',\n          actions: 'notifyErrorToParent'\n        }\n      }\n    },\n    deletingConnector: {\n      invoke: {\n        id: 'deletingConnectorCb',\n        src: function src(context) {\n          return deleteConnector({\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            connector: context.connector\n          });\n        }\n      },\n      on: {\n        success: {\n          target: 'deleted',\n          actions: ['updateState', 'notifySuccessToParent']\n        },\n        error: {\n          target: 'verify',\n          actions: 'notifyErrorToParent'\n        }\n      }\n    }\n  }\n}, {\n  guards: {\n    isReady: function isReady(context) {\n      return context.connector.desired_state === 'ready';\n    },\n    isStopped: function isStopped(context) {\n      return context.connector.desired_state === 'stopped';\n    },\n    isDeleted: function isDeleted(context) {\n      return context.connector.desired_state === 'deleted';\n    }\n  },\n  actions: {\n    updateState: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'success') return {};\n      return {\n        connector: event.connector\n      };\n    }),\n    notifySuccessToParent: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)('connector.action-success'),\n    notifyErrorToParent: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)('connector.action-failure')\n  }\n});\nvar makeConnectorMachine = function makeConnectorMachine(context) {\n  return connectorMachine.withContext(context);\n};\nvar useConnector = function useConnector(ref) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(ref, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return {\n      connector: state.context.connector,\n      canStart: connectorMachine.transition(state, 'start').changed === true,\n      canStop: connectorMachine.transition(state, 'stop').changed === true,\n      canDelete: connectorMachine.transition(state, 'remove').changed === true,\n      onStart: function onStart() {\n        return ref.send({\n          type: 'start'\n        });\n      },\n      onStop: function onStop() {\n        return ref.send({\n          type: 'stop'\n        });\n      },\n      onDelete: function onDelete() {\n        return ref.send({\n          type: 'remove'\n        });\n      }\n    };\n  }, [ref]));\n};\n\nfunction makeFetchMachine() {\n  var fetchMachineSchema = {\n    context: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n  };\n  var fetchMachineModel = (0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n    data: undefined,\n    error: undefined\n  });\n  return (0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n    schema: fetchMachineSchema,\n    id: 'fetchMachine',\n    context: {},\n    initial: 'loading',\n    states: {\n      loading: {\n        invoke: {\n          id: 'fetchService',\n          src: 'fetchService',\n          onDone: {\n            target: 'success',\n            actions: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n              return {\n                data: event.data\n              };\n            })\n          },\n          onError: {\n            target: 'failure',\n            actions: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n              error: function error(_context, event) {\n                return event.data;\n              }\n            })\n          }\n        }\n      },\n      failure: {\n        type: 'final'\n      },\n      success: {\n        type: 'final',\n        data: function data(_ref) {\n          var _data = _ref.data;\n          return _extends({}, _data);\n        }\n      }\n    }\n  });\n}\n\nvar paginatedApiMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar getPaginatedApiMachineEvents = function getPaginatedApiMachineEvents() {\n  return {\n    refresh: function refresh() {\n      return {};\n    },\n    nextPage: function nextPage() {\n      return {};\n    },\n    prevPage: function prevPage() {\n      return {};\n    },\n    query: function query(payload) {\n      return payload;\n    },\n    setResponse: function setResponse(payload) {\n      return payload;\n    },\n    setError: function setError(payload) {\n      return payload;\n    },\n    // notifyParent\n    ready: function ready() {\n      return {};\n    },\n    loading: function loading(payload) {\n      return payload;\n    },\n    success: function success(payload) {\n      return payload;\n    },\n    error: function error(payload) {\n      return payload;\n    }\n  };\n};\nvar getPaginatedApiMachineEventsHandlers = function getPaginatedApiMachineEventsHandlers(to) {\n  return {\n    refresh: {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    },\n    nextPage: {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    },\n    prevPage: {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    },\n    query: {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    },\n    setResponse: {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    },\n    setError: {\n      actions: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n        return e;\n      }, {\n        to: to\n      })\n    }\n  };\n};\nfunction makePaginatedApiMachine(service, dataTransformer) {\n  var paginatedApiMachineModel = (0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n    request: {\n      page: 1,\n      size: 10\n    },\n    response: undefined,\n    dataTransformer: dataTransformer\n  }, {\n    events: _extends({}, getPaginatedApiMachineEvents())\n  });\n\n  var callApi = function callApi(context) {\n    return function (callback) {\n      return service(context.request, function (payload) {\n        return callback(paginatedApiMachineModel.events.setResponse(payload));\n      }, function (payload) {\n        return callback(paginatedApiMachineModel.events.setError(payload));\n      });\n    };\n  };\n\n  return (0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n    schema: paginatedApiMachineSchema,\n    id: 'paginatedApiMachine',\n    context: paginatedApiMachineModel.initialContext,\n    initial: 'idle',\n    states: {\n      idle: {\n        entry: 'notifyReady',\n        on: {\n          query: {\n            target: 'loading',\n            actions: 'query'\n          }\n        }\n      },\n      success: {\n        always: [{\n          target: 'queryEmpty',\n          cond: 'isQueryEmpty'\n        }, {\n          target: 'queryResults',\n          cond: 'isQuerySuccesful'\n        }, {\n          target: 'empty',\n          cond: 'isTotalZero'\n        }, {\n          target: 'results'\n        }]\n      },\n      queryEmpty: {\n        tags: 'queryEmpty',\n        on: {\n          query: {\n            target: 'loading',\n            actions: 'query'\n          },\n          prevPage: {\n            target: 'loading',\n            actions: 'decreasePage',\n            cond: 'isNotFirstPage'\n          },\n          refresh: {\n            target: 'loading',\n            actions: 'fetch'\n          }\n        }\n      },\n      queryResults: {\n        tags: 'queryResults',\n        on: {\n          query: {\n            target: 'loading',\n            actions: 'query'\n          },\n          nextPage: {\n            target: 'loading',\n            actions: 'increasePage',\n            cond: 'isNotLastPage'\n          },\n          prevPage: {\n            target: 'loading',\n            actions: 'decreasePage',\n            cond: 'isNotFirstPage'\n          },\n          refresh: {\n            target: 'loading',\n            actions: 'fetch'\n          }\n        }\n      },\n      empty: {\n        tags: 'empty',\n        on: {\n          query: {\n            target: 'loading',\n            actions: 'query'\n          },\n          refresh: {\n            target: 'loading',\n            actions: 'fetch'\n          }\n        }\n      },\n      results: {\n        tags: 'results',\n        on: {\n          query: {\n            target: 'loading',\n            actions: 'query'\n          },\n          nextPage: {\n            target: 'loading',\n            actions: 'increasePage',\n            cond: 'isNotLastPage'\n          },\n          prevPage: {\n            target: 'loading',\n            actions: 'decreasePage',\n            cond: 'isNotFirstPage'\n          },\n          refresh: {\n            target: 'loading',\n            actions: 'fetch'\n          }\n        }\n      },\n      error: {\n        tags: 'error',\n        on: {\n          query: {\n            target: 'loading',\n            actions: 'query'\n          },\n          refresh: {\n            target: 'loading',\n            actions: 'fetch'\n          },\n          prevPage: {\n            target: 'loading',\n            actions: 'decreasePage',\n            cond: 'isNotFirstPage'\n          }\n        }\n      },\n      loading: {\n        entry: ['notifyLoading', 'fetch'],\n        on: {\n          query: {\n            target: 'loading',\n            actions: 'query'\n          },\n          setResponse: {\n            target: 'success',\n            actions: ['setResponse', 'notifySuccess']\n          },\n          setError: {\n            target: 'error',\n            actions: ['setError', 'notifyError']\n          }\n        }\n      }\n    },\n    on: {\n      '*': {\n        actions: 'forwardUnknownEventsToParent'\n      }\n    }\n  }, {\n    actions: {\n      fetch: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n        if (context.actor && context.actor.stop) {\n          context.actor.stop();\n        }\n\n        var actor = (0,xstate__WEBPACK_IMPORTED_MODULE_1__.spawn)(callApi(context));\n        return {\n          actor: actor\n        };\n      }),\n      setResponse: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context, e) {\n        if (e.type !== 'setResponse' || e.page !== context.request.page) return {};\n        return {\n          response: {\n            items: e.items.map(function (i) {\n              return context.dataTransformer(i);\n            }),\n            total: e.total,\n            error: undefined\n          }\n        };\n      }),\n      setError: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context, e) {\n        var _context$response;\n\n        if (e.type !== 'setError' || e.page !== context.request.page) return {};\n        return {\n          response: {\n            items: undefined,\n            total: ((_context$response = context.response) == null ? void 0 : _context$response.total) || 0,\n            error: e.error\n          }\n        };\n      }),\n      increasePage: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n        return {\n          request: _extends({}, context.request, {\n            page: context.request.page + 1\n          })\n        };\n      }),\n      decreasePage: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n        return {\n          request: _extends({}, context.request, {\n            page: context.request.page - 1\n          })\n        };\n      }),\n      query: (0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context, event) {\n        if (event.type !== 'query') return {};\n        var page = event.page,\n            size = event.size,\n            query = event.query;\n        return {\n          request: {\n            page: page || context.request.page,\n            size: size || context.request.size,\n            query: query\n          }\n        };\n      }),\n      notifyReady: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)({\n        type: 'ready'\n      }),\n      notifySuccess: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (context) {\n        return _extends({\n          type: 'success'\n        }, context.response);\n      }),\n      notifyError: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (context) {\n        var _context$response2;\n\n        return {\n          type: 'error',\n          error: (_context$response2 = context.response) == null ? void 0 : _context$response2.error\n        };\n      }),\n      notifyLoading: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (context) {\n        return _extends({\n          type: 'loading'\n        }, context.request);\n      }),\n      forwardUnknownEventsToParent: (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.pure)(function (_context, event) {\n        if (Object.keys(paginatedApiMachineModel.events).includes(event.type) === false) {\n          return (0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)(function (_context, _event, meta) {\n            return meta._event.data;\n          });\n        }\n\n        return [];\n      })\n    },\n    guards: {\n      isNotFirstPage: function isNotFirstPage(context) {\n        return context.response !== undefined && context.request.page > 1;\n      },\n      isNotLastPage: function isNotLastPage(context) {\n        return context.response !== undefined && context.request.size > 0 && context.request.page < Math.ceil(context.response.total / context.request.size);\n      },\n      isTotalZero: function isTotalZero(context) {\n        var _context$response3;\n\n        return ((_context$response3 = context.response) == null ? void 0 : _context$response3.total) === 0;\n      },\n      isQuerySuccesful: function isQuerySuccesful(context) {\n        var _context$response4;\n\n        return context.request.query !== undefined && context.response !== undefined && ((_context$response4 = context.response) == null ? void 0 : _context$response4.total) > 0;\n      },\n      isQueryEmpty: function isQueryEmpty(context) {\n        var _context$response5;\n\n        return context.request.query !== undefined && context.response !== undefined && ((_context$response5 = context.response) == null ? void 0 : _context$response5.total) === 0;\n      }\n    }\n  });\n} // https://stackoverflow.com/questions/50321419/typescript-returntype-of-generic-function/64919133#64919133\n// https://discord.com/channels/795785288994652170/799416943324823592/847466843290730527\n\n\nvar usePagination = function usePagination(actor) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return {\n      request: state.context.request,\n      response: state.context.response,\n      loading: state.matches('loading'),\n      queryEmpty: state.hasTag('queryEmpty'),\n      queryResults: state.hasTag('queryResults'),\n      noResults: state.hasTag('empty'),\n      results: state.hasTag('results'),\n      error: state.hasTag('error'),\n      firstRequest: state.context.response === undefined\n    };\n  }, [actor]));\n};\n\nvar PAGINATED_MACHINE_ID = 'paginatedApi';\nvar connectorsMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar connectorsMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  accessToken: function accessToken() {\n    return Promise.resolve('');\n  },\n  basePath: '',\n  selectedInstance: undefined,\n  error: undefined\n}, {\n  events: /*#__PURE__*/_extends({}, /*#__PURE__*/getPaginatedApiMachineEvents(), {\n    'connector.action-success': function connectorActionSuccess() {\n      return {};\n    },\n    'connector.action-failure': function connectorActionFailure() {\n      return {};\n    }\n  })\n});\nvar connectorsMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: connectorsMachineSchema,\n  id: 'connectors',\n  initial: 'root',\n  context: connectorsMachineModel.initialContext,\n  states: {\n    root: {\n      type: 'parallel',\n      states: {\n        api: {\n          initial: 'idle',\n          invoke: {\n            id: PAGINATED_MACHINE_ID,\n            src: function src(context) {\n              return makePaginatedApiMachine(fetchConnectors(context.accessToken, context.basePath), function (connector) {\n                return (0,xstate__WEBPACK_IMPORTED_MODULE_1__.spawn)(makeConnectorMachine({\n                  accessToken: context.accessToken,\n                  basePath: context.basePath,\n                  connector: connector\n                }), \"connector-\" + connector.id);\n              });\n            }\n          },\n          states: {\n            idle: {\n              on: {\n                ready: 'ready'\n              }\n            },\n            ready: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('query', {\n                to: PAGINATED_MACHINE_ID\n              })\n            }\n          },\n          on: /*#__PURE__*/_extends({}, /*#__PURE__*/getPaginatedApiMachineEventsHandlers(PAGINATED_MACHINE_ID), {\n            'connector.action-success': {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('query', {\n                to: PAGINATED_MACHINE_ID\n              })\n            },\n            'connector.action-failure': {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('query', {\n                to: PAGINATED_MACHINE_ID\n              })\n            }\n          })\n        },\n        listing: {}\n      }\n    }\n  }\n});\nvar useConnectorsMachine = function useConnectorsMachine(service) {\n  return usePagination(service.state.children[PAGINATED_MACHINE_ID]);\n};\n\nvar ConnectorsMachineServiceContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar ConnectorsMachineProvider = function ConnectorsMachineProvider(_ref) {\n  var children = _ref.children,\n      accessToken = _ref.accessToken,\n      basePath = _ref.basePath;\n  var service = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useInterpret)(connectorsMachine, {\n    context: {\n      accessToken: accessToken,\n      basePath: basePath\n    },\n    devTools: true\n  });\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ConnectorsMachineServiceContext.Provider, {\n    value: service\n  }, children);\n};\nvar useConnectorsMachineService = function useConnectorsMachineService() {\n  var service = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ConnectorsMachineServiceContext);\n\n  if (!service) {\n    throw new Error(\"useConnectorsMachineService() must be used in a child of <ConnectorsMachineProvider>\");\n  }\n\n  return service;\n};\nvar useConnectorsMachineIsReady = function useConnectorsMachineIsReady(service) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.matches({\n      root: {\n        api: 'ready'\n      }\n    });\n  }, [service]));\n};\n\nvar PAGINATED_MACHINE_ID$1 = 'paginatedApi';\n\nvar fetchClusters = function fetchClusters(accessToken, basePath) {\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorClustersApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (request, onSuccess, onError) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    var page = request.page,\n        size = request.size;\n    apisService.listConnectorClusters(\"\" + page, \"\" + size, {\n      cancelToken: source.token\n    }).then(function (response) {\n      onSuccess({\n        items: response.data.items,\n        total: response.data.total,\n        page: response.data.page,\n        size: response.data.size\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        onError({\n          error: error.message,\n          page: request.page\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nvar clustersMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar clustersMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  accessToken: function accessToken() {\n    return Promise.resolve('');\n  },\n  basePath: '',\n  clusters: undefined,\n  selectedCluster: undefined,\n  error: undefined\n}, {\n  events: /*#__PURE__*/_extends({\n    selectCluster: function selectCluster(payload) {\n      return _extends({}, payload);\n    },\n    deselectCluster: function deselectCluster() {\n      return {};\n    },\n    confirm: function confirm() {\n      return {};\n    }\n  }, /*#__PURE__*/getPaginatedApiMachineEvents())\n});\nvar clustersMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: clustersMachineSchema,\n  id: 'clusters',\n  initial: 'root',\n  context: clustersMachineModel.initialContext,\n  states: {\n    root: {\n      type: 'parallel',\n      states: {\n        api: {\n          initial: 'idle',\n          invoke: {\n            id: PAGINATED_MACHINE_ID$1,\n            src: function src(context) {\n              return makePaginatedApiMachine(fetchClusters(context.accessToken, context.basePath), function (i) {\n                return i;\n              });\n            }\n          },\n          states: {\n            idle: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('query', {\n                to: PAGINATED_MACHINE_ID$1\n              }),\n              on: {\n                ready: 'ready'\n              }\n            },\n            ready: {}\n          },\n          on: /*#__PURE__*/_extends({}, /*#__PURE__*/getPaginatedApiMachineEventsHandlers(PAGINATED_MACHINE_ID$1), {\n            success: {\n              actions: 'success'\n            }\n          })\n        },\n        selection: {\n          id: 'selection',\n          initial: 'verify',\n          states: {\n            verify: {\n              always: [{\n                target: 'selecting',\n                cond: 'noClusterSelected'\n              }, {\n                target: 'valid',\n                cond: 'clusterSelected'\n              }]\n            },\n            selecting: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isInvalid'),\n              on: {\n                selectCluster: {\n                  target: 'valid',\n                  actions: 'selectCluster'\n                }\n              }\n            },\n            valid: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isValid'),\n              on: {\n                selectCluster: {\n                  target: 'verify',\n                  actions: 'selectCluster',\n                  cond: function cond(_, event) {\n                    return event.selectedCluster !== undefined;\n                  }\n                },\n                deselectCluster: {\n                  target: 'verify',\n                  actions: 'reset'\n                },\n                confirm: {\n                  target: '#done',\n                  cond: 'clusterSelected'\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    done: {\n      id: 'done',\n      type: 'final',\n      data: {\n        selectedCluster: function selectedCluster(context) {\n          return context.selectedCluster;\n        }\n      }\n    }\n  }\n}, {\n  actions: {\n    success: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'success') return {};\n\n      var response = _objectWithoutPropertiesLoose(event, [\"type\"]);\n\n      return {\n        response: response\n      };\n    }),\n    selectCluster: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedCluster: function selectedCluster(context, event) {\n        if (event.type === 'selectCluster') {\n          var _context$response, _context$response$ite;\n\n          return (_context$response = context.response) == null ? void 0 : (_context$response$ite = _context$response.items) == null ? void 0 : _context$response$ite.find(function (i) {\n            return i.id === event.selectedCluster;\n          });\n        }\n\n        return context.selectedCluster;\n      }\n    }),\n    reset: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedCluster: function selectedCluster(context, event) {\n        return event.type === 'deselectCluster' ? undefined : context.selectedCluster;\n      }\n    })\n  },\n  guards: {\n    clusterSelected: function clusterSelected(context) {\n      return context.selectedCluster !== undefined;\n    },\n    noClusterSelected: function noClusterSelected(context) {\n      return context.selectedCluster === undefined;\n    }\n  }\n});\nvar useClustersMachineIsReady = function useClustersMachineIsReady(actor) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.matches({\n      root: {\n        api: 'ready'\n      }\n    });\n  }, [actor]));\n};\nvar useClustersMachine = function useClustersMachine(actor) {\n  var api = usePagination(actor.state.children[PAGINATED_MACHINE_ID$1]);\n\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    var _state$context$select;\n\n    return {\n      selectedId: (_state$context$select = state.context.selectedCluster) == null ? void 0 : _state$context$select.id\n    };\n  }, [actor])),\n      selectedId = _useSelector.selectedId;\n\n  var onSelect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (selectedCluster) {\n    actor.send({\n      type: 'selectCluster',\n      selectedCluster: selectedCluster\n    });\n  }, [actor]);\n  var onQuery = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (request) {\n    actor.send(_extends({\n      type: 'query'\n    }, request));\n  }, [actor]);\n  return _extends({}, api, {\n    selectedId: selectedId,\n    onSelect: onSelect,\n    onQuery: onQuery\n  });\n};\n\nvar configuratorLoaderMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar configuratorLoaderMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: configuratorLoaderMachineSchema,\n  id: 'configurator',\n  initial: 'loading',\n  states: {\n    loading: {\n      invoke: {\n        id: 'fetchConfigurator',\n        src: 'fetchConfigurator',\n        onDone: {\n          target: 'success',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n            return event.data;\n          })\n        },\n        onError: {\n          target: 'failure',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            error: function error(_context, event) {\n              return event.data;\n            }\n          })\n        }\n      }\n    },\n    failure: {\n      entry: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.escalate)(function (context) {\n        return {\n          message: context.error\n        };\n      })\n    },\n    success: {\n      type: 'final',\n      data: function data(_ref) {\n        var Configurator = _ref.Configurator,\n            steps = _ref.steps;\n        return {\n          Configurator: Configurator,\n          steps: steps\n        };\n      }\n    }\n  }\n});\n\nvar configuratorMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar configuratorMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: configuratorMachineSchema,\n  id: 'configurator',\n  initial: 'configuring',\n  context: {\n    connector: {\n      id: 'something',\n      name: 'something',\n      version: '0.1',\n      json_schema: {}\n    },\n    steps: ['one', 'two', 'three'],\n    activeStep: 0,\n    isActiveStepValid: false,\n    configuration: undefined\n  },\n  states: {\n    configuring: {\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isInvalid'),\n      always: [{\n        target: 'valid',\n        cond: 'activeStepValid'\n      }]\n    },\n    valid: {\n      id: 'valid',\n      initial: 'determineStep',\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isValid'),\n      states: {\n        determineStep: {\n          always: [{\n            target: '#valid.lastStep',\n            cond: 'isLastStep'\n          }, {\n            target: '#valid.hasNextStep'\n          }]\n        },\n        hasNextStep: {\n          on: {\n            next: {\n              target: '#configurator.configuring',\n              actions: ['nextStep', 'changedStep']\n            }\n          }\n        },\n        lastStep: {\n          on: {\n            next: '#configurator.configured'\n          }\n        }\n      }\n    },\n    configured: {\n      type: 'final',\n      data: function data(_ref2) {\n        var configuration = _ref2.configuration;\n        return {\n          configuration: configuration\n        };\n      }\n    }\n  },\n  on: {\n    change: {\n      target: 'configuring',\n      actions: 'change'\n    },\n    prev: {\n      target: 'configuring',\n      actions: ['prevStep', 'changedStep']\n    }\n  }\n}, {\n  actions: {\n    nextStep: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n      return {\n        activeStep: Math.min(context.activeStep + 1, context.steps.length - 1),\n        isActiveStepValid: false\n      };\n    }),\n    prevStep: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n      return {\n        activeStep: Math.max(context.activeStep - 1, 0),\n        isActiveStepValid: false\n      };\n    }),\n    change: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      return event.type === 'change' ? {\n        configuration: event.configuration,\n        isActiveStepValid: event.isValid\n      } : {};\n    }),\n    changedStep: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)(function (context) {\n      return {\n        type: 'changedStep',\n        step: context.activeStep\n      };\n    })\n  },\n  guards: {\n    isLastStep: function isLastStep(context) {\n      return context.activeStep === context.steps.length - 1;\n    },\n    activeStepValid: function activeStepValid(context) {\n      return context.isActiveStepValid;\n    }\n  }\n});\n\nvar fetchConnectorTypes = function fetchConnectorTypes(accessToken, basePath) {\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorTypesApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return apisService.listConnectorTypes();\n};\n\nvar connectorTypesMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar connectorTypesMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: connectorTypesMachineSchema,\n  id: 'connectors',\n  initial: 'loading',\n  states: {\n    loading: {\n      invoke: {\n        id: 'fetchConnectors',\n        src: function src(context) {\n          return fetchConnectorTypes(context.accessToken, context.basePath);\n        },\n        onDone: {\n          target: 'verify',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            connectors: function connectors(_context, event) {\n              return event.data.data;\n            }\n          })\n        },\n        onError: {\n          target: 'failure',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            error: function error(_context, event) {\n              return event.data;\n            }\n          })\n        }\n      }\n    },\n    failure: {\n      entry: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.escalate)(function (context) {\n        return {\n          message: context.error\n        };\n      })\n    },\n    verify: {\n      always: [{\n        target: 'selecting',\n        cond: 'noConnectorSelected'\n      }, {\n        target: 'valid',\n        cond: 'connectorSelected'\n      }]\n    },\n    selecting: {\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isInvalid'),\n      on: {\n        selectConnector: {\n          target: 'valid',\n          actions: 'selectConnector',\n          cond: function cond(_, event) {\n            return event.selectedConnector !== undefined;\n          }\n        }\n      }\n    },\n    valid: {\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isValid'),\n      on: {\n        selectConnector: {\n          target: 'verify',\n          actions: 'selectConnector'\n        },\n        deselectConnector: {\n          target: 'verify',\n          actions: 'reset'\n        },\n        confirm: {\n          target: 'done',\n          cond: 'connectorSelected'\n        }\n      }\n    },\n    done: {\n      type: 'final',\n      data: {\n        selectedConnector: function selectedConnector(context) {\n          return context.selectedConnector;\n        }\n      }\n    }\n  }\n}, {\n  actions: {\n    selectConnector: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedConnector: function selectedConnector(context, event) {\n        if (event.type === 'selectConnector') {\n          var _context$connectors, _context$connectors$i;\n\n          return (_context$connectors = context.connectors) == null ? void 0 : (_context$connectors$i = _context$connectors.items) == null ? void 0 : _context$connectors$i.find(function (i) {\n            return i.id === event.selectedConnector;\n          });\n        }\n\n        return context.selectedConnector;\n      }\n    }),\n    reset: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedConnector: function selectedConnector(context, event) {\n        return event.type === 'deselectConnector' ? undefined : context.selectedConnector;\n      }\n    })\n  },\n  guards: {\n    connectorSelected: function connectorSelected(context) {\n      return context.selectedConnector !== undefined;\n    },\n    noConnectorSelected: function noConnectorSelected(context) {\n      return context.selectedConnector === undefined;\n    }\n  }\n});\n\nvar PAGINATED_MACHINE_ID$2 = 'paginatedApi';\n\nvar fetchKafkaInstances = function fetchKafkaInstances(accessToken, basePath) {\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.DefaultApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (request, onSuccess, onError) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    var page = request.page,\n        size = request.size,\n        query = request.query;\n\n    var _ref = query || {},\n        name = _ref.name,\n        statuses = _ref.statuses;\n\n    var nameSearch = name && name.length > 0 ? \" name LIKE \" + name : undefined;\n    var statusSearch = statuses && statuses.length > 0 ? statuses.map(function (s) {\n      return \"status = \" + s;\n    }).join(' OR ') : undefined;\n    var search = [nameSearch, statusSearch].filter(Boolean).join(' AND ');\n    apisService.getKafkas(\"\" + page, \"\" + size, undefined, search, {\n      cancelToken: source.token\n    }).then(function (response) {\n      onSuccess({\n        items: response.data.items,\n        total: response.data.total,\n        page: response.data.page,\n        size: response.data.size\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        onError({\n          error: error.message,\n          page: request.page\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nvar kafkasMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar kafkasMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  accessToken: function accessToken() {\n    return Promise.resolve('');\n  },\n  basePath: '',\n  instances: undefined,\n  selectedInstance: undefined,\n  error: undefined\n}, {\n  events: /*#__PURE__*/_extends({\n    selectInstance: function selectInstance(payload) {\n      return _extends({}, payload);\n    },\n    deselectInstance: function deselectInstance() {\n      return {};\n    },\n    confirm: function confirm() {\n      return {};\n    }\n  }, /*#__PURE__*/getPaginatedApiMachineEvents())\n});\nvar kafkasMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: kafkasMachineSchema,\n  id: 'kafkas',\n  initial: 'root',\n  context: kafkasMachineModel.initialContext,\n  states: {\n    root: {\n      type: 'parallel',\n      states: {\n        api: {\n          initial: 'idle',\n          invoke: {\n            id: PAGINATED_MACHINE_ID$2,\n            src: function src(context) {\n              return makePaginatedApiMachine(fetchKafkaInstances(context.accessToken, context.basePath), function (i) {\n                return i;\n              });\n            }\n          },\n          states: {\n            idle: {\n              entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('query', {\n                to: PAGINATED_MACHINE_ID$2\n              }),\n              on: {\n                ready: 'ready'\n              }\n            },\n            ready: {}\n          },\n          on: /*#__PURE__*/_extends({}, /*#__PURE__*/getPaginatedApiMachineEventsHandlers(PAGINATED_MACHINE_ID$2), {\n            success: {\n              actions: 'success'\n            }\n          })\n        },\n        selection: {\n          id: 'selection',\n          initial: 'verify',\n          states: {\n            verify: {\n              always: [{\n                target: 'selecting',\n                cond: 'noInstanceSelected'\n              }, {\n                target: 'valid',\n                cond: 'instanceSelected'\n              }]\n            },\n            selecting: {\n              entry: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)('isInvalid'),\n              on: {\n                selectInstance: {\n                  target: 'valid',\n                  actions: 'selectInstance'\n                }\n              }\n            },\n            valid: {\n              entry: /*#__PURE__*/(0,xstate_lib_actions__WEBPACK_IMPORTED_MODULE_7__.sendParent)('isValid'),\n              on: {\n                selectInstance: {\n                  target: 'verify',\n                  actions: 'selectInstance',\n                  cond: function cond(_, event) {\n                    return event.selectedInstance !== undefined;\n                  }\n                },\n                deselectInstance: {\n                  target: 'verify',\n                  actions: 'reset'\n                },\n                confirm: {\n                  target: '#done',\n                  cond: 'instanceSelected'\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    done: {\n      id: 'done',\n      type: 'final',\n      data: {\n        selectedInstance: function selectedInstance(context) {\n          return context.selectedInstance;\n        }\n      }\n    }\n  }\n}, {\n  actions: {\n    success: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n      if (event.type !== 'success') return {};\n\n      var response = _objectWithoutPropertiesLoose(event, [\"type\"]);\n\n      return {\n        response: response\n      };\n    }),\n    selectInstance: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedInstance: function selectedInstance(context, event) {\n        if (event.type === 'selectInstance') {\n          var _context$response, _context$response$ite;\n\n          return (_context$response = context.response) == null ? void 0 : (_context$response$ite = _context$response.items) == null ? void 0 : _context$response$ite.find(function (i) {\n            return i.id === event.selectedInstance;\n          });\n        }\n\n        return context.selectedInstance;\n      }\n    }),\n    reset: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n      selectedInstance: function selectedInstance(context, event) {\n        return event.type === 'deselectInstance' ? undefined : context.selectedInstance;\n      }\n    })\n  },\n  guards: {\n    instanceSelected: function instanceSelected(context) {\n      return context.selectedInstance !== undefined;\n    },\n    noInstanceSelected: function noInstanceSelected(context) {\n      return context.selectedInstance === undefined;\n    }\n  }\n});\nvar useKafkasMachineIsReady = function useKafkasMachineIsReady(actor) {\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.matches({\n      root: {\n        api: 'ready'\n      }\n    });\n  }, [actor]));\n};\nvar useKafkasMachine = function useKafkasMachine(actor) {\n  var api = usePagination(actor.state.children[PAGINATED_MACHINE_ID$2]);\n\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    var _state$context$select;\n\n    return {\n      selectedId: (_state$context$select = state.context.selectedInstance) == null ? void 0 : _state$context$select.id\n    };\n  }, [actor])),\n      selectedId = _useSelector.selectedId;\n\n  var onSelect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (selectedInstance) {\n    actor.send({\n      type: 'selectInstance',\n      selectedInstance: selectedInstance\n    });\n  }, [actor]);\n  var onQuery = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (request) {\n    actor.send(_extends({\n      type: 'query'\n    }, request));\n  }, [actor]);\n  return _extends({}, api, {\n    selectedId: selectedId,\n    onSelect: onSelect,\n    onQuery: onQuery\n  });\n};\n\nvar saveConnector = function saveConnector(_ref) {\n  var accessToken = _ref.accessToken,\n      basePath = _ref.basePath,\n      kafka = _ref.kafka,\n      cluster = _ref.cluster,\n      connectorType = _ref.connectorType,\n      configuration = _ref.configuration,\n      name = _ref.name,\n      userServiceAccount = _ref.userServiceAccount;\n  var apisService = new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.ConnectorsApi(new _cos_ui_api__WEBPACK_IMPORTED_MODULE_4__.Configuration({\n    accessToken: accessToken,\n    basePath: basePath\n  }));\n  return function (callback) {\n    var CancelToken = (axios__WEBPACK_IMPORTED_MODULE_3___default().CancelToken);\n    var source = CancelToken.source();\n    var async = true;\n    var connector = {\n      kind: 'Connector',\n      metadata: {\n        name: name,\n        kafka_id: kafka.id\n      },\n      deployment_location: {\n        kind: 'addon',\n        cluster_id: cluster.id\n      },\n      connector_type_id: connectorType.id,\n      kafka: {\n        bootstrap_server: kafka.bootstrap_server_host || 'demo',\n        client_id: userServiceAccount == null ? void 0 : userServiceAccount.clientId,\n        client_secret: userServiceAccount == null ? void 0 : userServiceAccount.clientSecret\n      },\n      connector_spec: configuration\n    };\n    apisService.createConnector(async, connector, {\n      cancelToken: source.token\n    }).then(function () {\n      callback({\n        type: 'success'\n      });\n    })[\"catch\"](function (error) {\n      if (!axios__WEBPACK_IMPORTED_MODULE_3___default().isCancel(error)) {\n        callback({\n          type: 'failure',\n          message: error.response.data.reason\n        });\n      }\n    });\n    return function () {\n      source.cancel('Operation canceled by the user.');\n    };\n  };\n};\n\nvar reviewMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar reviewMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({\n  initialConfiguration: undefined,\n  configString: '',\n  name: '',\n  validator: /*#__PURE__*/(0,_cos_ui_json_schema_configurator__WEBPACK_IMPORTED_MODULE_5__.createValidator)({})\n}, {\n  events: {\n    setName: function setName(payload) {\n      return payload;\n    },\n    setServiceAccount: function setServiceAccount(payload) {\n      return payload;\n    },\n    updateConfiguration: function updateConfiguration(payload) {\n      return payload;\n    },\n    save: function save() {\n      return {};\n    },\n    success: function success() {\n      return {};\n    },\n    failure: function failure(payload) {\n      return payload;\n    }\n  }\n});\nvar reviewMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: reviewMachineSchema,\n  id: 'review',\n  initial: 'verify',\n  context: reviewMachineModel.initialContext,\n  entry: 'initialize',\n  states: {\n    verify: {\n      entry: 'verifyConfigString',\n      always: [{\n        target: 'valid',\n        cond: 'isAllConfigured'\n      }, {\n        target: 'reviewing'\n      }]\n    },\n    reviewing: {\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isInvalid'),\n      on: {\n        setName: {\n          target: 'verify',\n          actions: 'setName'\n        },\n        setServiceAccount: {\n          target: 'verify',\n          actions: 'setServiceAccount'\n        },\n        updateConfiguration: {\n          target: 'verify',\n          actions: 'updateConfiguration'\n        }\n      }\n    },\n    valid: {\n      id: 'valid',\n      entry: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.sendParent)('isValid'),\n      on: {\n        setName: {\n          target: 'verify',\n          actions: 'setName'\n        },\n        setServiceAccount: {\n          target: 'verify',\n          actions: 'setServiceAccount'\n        },\n        updateConfiguration: {\n          target: 'verify',\n          actions: 'updateConfiguration'\n        },\n        save: 'saving'\n      }\n    },\n    saving: {\n      invoke: {\n        src: function src(context) {\n          return saveConnector({\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            kafka: context.kafka,\n            cluster: context.cluster,\n            connectorType: context.connectorType,\n            configuration: JSON.parse(context.configString),\n            name: context.name,\n            userServiceAccount: context.userServiceAccount\n          });\n        }\n      },\n      on: {\n        success: 'saved',\n        failure: {\n          target: 'valid',\n          actions: 'setSavingError'\n        }\n      },\n      tags: ['saving']\n    },\n    saved: {\n      type: 'final'\n    }\n  }\n}, {\n  actions: {\n    initialize: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n      return {\n        configString: dataToPrettyString(context.initialConfiguration),\n        validator: (0,_cos_ui_json_schema_configurator__WEBPACK_IMPORTED_MODULE_5__.createValidator)(context.connectorType.json_schema)\n      };\n    }),\n    setName: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      return event.type === 'setName' ? {\n        name: event.name\n      } : {};\n    }),\n    setServiceAccount: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      return event.type === 'setServiceAccount' ? {\n        userServiceAccount: event.serviceAccount\n      } : {};\n    }),\n    updateConfiguration: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      return event.type === 'updateConfiguration' ? {\n        configString: event.data\n      } : {};\n    }),\n    verifyConfigString: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (context) {\n      var _verifyData = verifyData(context.configString, context.validator),\n          warnings = _verifyData.warnings,\n          error = _verifyData.error;\n\n      return {\n        configStringWarnings: warnings,\n        configStringError: error\n      };\n    }),\n    setSavingError: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n      if (event.type !== 'failure') return {};\n      return {\n        savingError: event.message\n      };\n    })\n  },\n  guards: {\n    isAllConfigured: function isAllConfigured(context) {\n      return context.configString !== undefined && context.configStringError === undefined && context.name.length > 0;\n    }\n  }\n});\n\nfunction dataToPrettyString(data) {\n  var dataVal = data instanceof Map ? mapToObject(data) : data;\n\n  try {\n    return JSON.stringify(dataVal, null, 2);\n  } catch (e) {\n    return '';\n  }\n}\n\nfunction mapToObject(inputMap) {\n  var obj = {};\n  inputMap.forEach(function (value, key) {\n    obj[key] = value;\n  });\n  return obj;\n}\n\nfunction verifyData(data, validator) {\n  try {\n    var parsedData = JSON.parse(data);\n    var validationResult = validator(parsedData);\n    return {\n      warnings: validationResult ? validationResult.details.map(function (d) {\n        return d.instancePath + \" \" + d.message;\n      }) : undefined,\n      error: undefined\n    };\n  } catch (e) {\n    return {\n      warnings: undefined,\n      error: \"Invalid JSON: \" + e.message\n    };\n  }\n}\n\nvar useReviewMachine = function useReviewMachine(actor) {\n  var _useSelector = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(actor, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return {\n      name: state.context.name,\n      serviceAccount: state.context.userServiceAccount,\n      configString: state.context.configString,\n      configStringError: state.context.configStringError,\n      configStringWarnings: state.context.configStringWarnings,\n      isSaving: state.hasTag('saving'),\n      savingError: state.context.savingError\n    };\n  }, [actor])),\n      name = _useSelector.name,\n      serviceAccount = _useSelector.serviceAccount,\n      configString = _useSelector.configString,\n      configStringError = _useSelector.configStringError,\n      configStringWarnings = _useSelector.configStringWarnings,\n      isSaving = _useSelector.isSaving,\n      savingError = _useSelector.savingError;\n\n  var onSetName = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (name) {\n    actor.send({\n      type: 'setName',\n      name: name\n    });\n  }, [actor]);\n  var onSetServiceAccount = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (serviceAccount) {\n    actor.send({\n      type: 'setServiceAccount',\n      serviceAccount: serviceAccount\n    });\n  }, [actor]);\n  var onUpdateConfiguration = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (data) {\n    actor.send({\n      type: 'updateConfiguration',\n      data: data || ''\n    });\n  }, [actor]);\n  return {\n    name: name,\n    serviceAccount: serviceAccount,\n    configString: configString,\n    configStringError: configStringError,\n    configStringWarnings: configStringWarnings,\n    isSaving: isSaving,\n    savingError: savingError,\n    onSetName: onSetName,\n    onSetServiceAccount: onSetServiceAccount,\n    onUpdateConfiguration: onUpdateConfiguration\n  };\n};\n\nvar creationWizardMachineSchema = {\n  context: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createSchema)()\n};\nvar creationWizardMachineModel = /*#__PURE__*/(0,xstate_lib_model__WEBPACK_IMPORTED_MODULE_6__.createModel)({}, {\n  events: {\n    isValid: function isValid() {\n      return {};\n    },\n    isInvalid: function isInvalid() {\n      return {};\n    },\n    prev: function prev() {\n      return {};\n    },\n    next: function next() {\n      return {};\n    },\n    changedStep: function changedStep(_ref) {\n      var step = _ref.step;\n      return {\n        step: step\n      };\n    },\n    jumpToSelectKafka: function jumpToSelectKafka() {\n      return {};\n    },\n    jumpToSelectCluster: function jumpToSelectCluster() {\n      return {};\n    },\n    jumpToSelectConnector: function jumpToSelectConnector() {\n      return {};\n    },\n    jumpToConfigureConnector: function jumpToConfigureConnector(_ref2) {\n      var subStep = _ref2.subStep;\n      return {\n        subStep: subStep\n      };\n    },\n    jumpToReviewConfiguration: function jumpToReviewConfiguration() {\n      return {};\n    }\n  }\n});\nvar creationWizardMachine = /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.createMachine)({\n  schema: creationWizardMachineSchema,\n  id: 'creationWizard',\n  initial: 'selectConnector',\n  context: creationWizardMachineModel.initialContext,\n  states: {\n    selectConnector: {\n      initial: 'selecting',\n      invoke: {\n        id: 'selectConnectorRef',\n        src: connectorTypesMachine,\n        data: function data(context) {\n          return {\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            selectedConnector: context.selectedConnector\n          };\n        },\n        onDone: {\n          target: 'selectKafka',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n            return {\n              selectedConnector: event.data.selectedConnector,\n              connectorConfiguration: false,\n              activeConfigurationStep: 0,\n              isConfigurationValid: false,\n              configurationSteps: false\n            };\n          })\n        },\n        onError: '.error'\n      },\n      states: {\n        error: {},\n        selecting: {\n          on: {\n            isValid: 'valid'\n          }\n        },\n        valid: {\n          on: {\n            isInvalid: 'selecting',\n            next: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('confirm', {\n                to: 'selectConnectorRef'\n              })\n            }\n          }\n        }\n      }\n    },\n    selectKafka: {\n      initial: 'selecting',\n      invoke: {\n        id: 'selectKafkaInstanceRef',\n        src: kafkasMachine,\n        data: function data(context) {\n          return {\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            selectedInstance: context.selectedKafkaInstance,\n            request: {\n              page: 1,\n              size: 10\n            }\n          };\n        },\n        onDone: {\n          target: 'selectCluster',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            selectedKafkaInstance: function selectedKafkaInstance(_, event) {\n              return event.data.selectedInstance;\n            }\n          })\n        },\n        onError: '.error'\n      },\n      states: {\n        error: {},\n        selecting: {\n          on: {\n            isValid: 'valid'\n          }\n        },\n        valid: {\n          on: {\n            isInvalid: 'selecting',\n            next: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('confirm', {\n                to: 'selectKafkaInstanceRef'\n              })\n            }\n          }\n        }\n      },\n      on: {\n        prev: 'selectConnector'\n      }\n    },\n    selectCluster: {\n      initial: 'selecting',\n      invoke: {\n        id: 'selectClusterRef',\n        src: clustersMachine,\n        data: function data(context) {\n          return {\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            selectedCluster: context.selectedCluster\n          };\n        },\n        onDone: {\n          target: 'configureConnector',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            selectedCluster: function selectedCluster(_, event) {\n              return event.data.selectedCluster;\n            }\n          })\n        },\n        onError: '.error'\n      },\n      states: {\n        error: {},\n        selecting: {\n          on: {\n            isValid: 'valid'\n          }\n        },\n        valid: {\n          on: {\n            isInvalid: 'selecting',\n            next: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('confirm', {\n                to: 'selectClusterRef'\n              })\n            }\n          }\n        }\n      },\n      on: {\n        prev: 'selectKafka'\n      }\n    },\n    configureConnector: {\n      initial: 'loadConfigurator',\n      states: {\n        loadConfigurator: {\n          invoke: {\n            id: 'configuratorLoader',\n            src: 'makeConfiguratorLoaderMachine',\n            data: function data(context) {\n              return {\n                connector: context.selectedConnector\n              };\n            },\n            onDone: {\n              target: 'configure',\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_context, event) {\n                return {\n                  Configurator: event.data.Configurator,\n                  configurationSteps: event.data.steps\n                };\n              })\n            },\n            onError: {\n              actions: function actions(_context, event) {\n                return console.error(event.data.message);\n              }\n            }\n          }\n        },\n        configure: {\n          id: 'configure',\n          initial: 'configuring',\n          invoke: {\n            id: 'configuratorRef',\n            src: configuratorMachine,\n            data: function data(context) {\n              return {\n                connector: context.selectedConnector,\n                configuration: context.connectorConfiguration,\n                steps: context.configurationSteps || ['single step'],\n                activeStep: context.activeConfigurationStep || 0,\n                isActiveStepValid: context.connectorConfiguration !== false\n              };\n            },\n            onDone: {\n              target: '#creationWizard.reviewConfiguration',\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n                return {\n                  connectorConfiguration: event.data.configuration || true\n                };\n              })\n            },\n            onError: {\n              actions: function actions(_context, event) {\n                return console.error(event.data.message);\n              }\n            }\n          },\n          states: {\n            configuring: {\n              on: {\n                isValid: 'valid'\n              }\n            },\n            valid: {\n              on: {\n                isInvalid: 'configuring',\n                next: {\n                  actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('next', {\n                    to: 'configuratorRef'\n                  })\n                }\n              }\n            }\n          },\n          on: {\n            prev: [{\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('prev', {\n                to: 'configuratorRef'\n              }),\n              cond: 'areThereSubsteps'\n            }, {\n              target: '#creationWizard.selectCluster'\n            }],\n            changedStep: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)({\n                activeConfigurationStep: function activeConfigurationStep(_, event) {\n                  return event.step;\n                }\n              })\n            }\n          }\n        }\n      }\n    },\n    reviewConfiguration: {\n      id: 'review',\n      initial: 'reviewing',\n      invoke: {\n        id: 'reviewRef',\n        src: reviewMachine,\n        data: function data(context) {\n          return {\n            accessToken: context.accessToken,\n            basePath: context.basePath,\n            kafka: context.selectedKafkaInstance,\n            cluster: context.selectedCluster,\n            connectorType: context.selectedConnector,\n            initialConfiguration: context.connectorConfiguration,\n            name: ''\n          };\n        },\n        onDone: {\n          target: '#creationWizard.saved',\n          actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n            return {\n              connectorConfiguration: event.data\n            };\n          })\n        },\n        onError: {\n          actions: function actions(_context, event) {\n            return console.error(event.data.message);\n          }\n        }\n      },\n      states: {\n        reviewing: {\n          on: {\n            isValid: 'valid'\n          }\n        },\n        valid: {\n          on: {\n            isInvalid: 'reviewing',\n            next: {\n              actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.send)('save', {\n                to: 'reviewRef'\n              })\n            }\n          }\n        }\n      },\n      on: {\n        prev: 'configureConnector'\n      }\n    },\n    saved: {\n      id: 'saved',\n      type: 'final'\n    }\n  },\n  on: {\n    jumpToSelectConnector: {\n      target: 'selectConnector'\n    },\n    jumpToSelectKafka: {\n      target: 'selectKafka',\n      cond: 'isConnectorSelected'\n    },\n    jumpToSelectCluster: {\n      target: 'selectCluster',\n      cond: 'isKafkaInstanceSelected'\n    },\n    jumpToConfigureConnector: {\n      target: 'configureConnector',\n      cond: 'isClusterSelected',\n      actions: /*#__PURE__*/(0,xstate__WEBPACK_IMPORTED_MODULE_1__.assign)(function (_, event) {\n        return {\n          activeConfigurationStep: event.subStep || 0\n        };\n      })\n    },\n    jumpToReviewConfiguration: {\n      target: 'reviewConfiguration',\n      cond: 'isConnectorConfigured'\n    }\n  }\n}, {\n  guards: {\n    isKafkaInstanceSelected: function isKafkaInstanceSelected(context) {\n      return context.selectedKafkaInstance !== undefined;\n    },\n    isClusterSelected: function isClusterSelected(context) {\n      return context.selectedCluster !== undefined;\n    },\n    isConnectorSelected: function isConnectorSelected(context, event) {\n      var subStep = event.subStep;\n\n      if (subStep) {\n        return context.selectedConnector !== undefined && (context.connectorConfiguration !== undefined || subStep <= context.activeConfigurationStep);\n      }\n\n      return context.selectedConnector !== undefined;\n    },\n    isConnectorConfigured: function isConnectorConfigured(context) {\n      if (!context.configurationSteps) {\n        return context.connectorConfiguration !== undefined && context.connectorConfiguration !== false;\n      }\n\n      return context.connectorConfiguration !== undefined && context.connectorConfiguration !== false || context.activeConfigurationStep === context.configurationSteps.length - 1 && context.isConfigurationValid === true;\n    },\n    areThereSubsteps: function areThereSubsteps(context) {\n      return context.activeConfigurationStep > 0;\n    }\n  },\n  services: {\n    makeConfiguratorLoaderMachine: function makeConfiguratorLoaderMachine() {\n      return configuratorLoaderMachine;\n    }\n  }\n});\n\nvar CreationWizardMachineService = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar CreationWizardMachineProvider = function CreationWizardMachineProvider(_ref) {\n  var children = _ref.children,\n      accessToken = _ref.accessToken,\n      basePath = _ref.basePath,\n      _fetchConfigurator = _ref.fetchConfigurator,\n      onSave = _ref.onSave;\n  var makeConfiguratorLoaderMachine = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    return configuratorLoaderMachine.withConfig({\n      services: {\n        fetchConfigurator: function fetchConfigurator(context) {\n          return _fetchConfigurator(context.connector);\n        }\n      }\n    });\n  }, [_fetchConfigurator]);\n  var service = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useInterpret)(creationWizardMachine, {\n    devTools: true,\n    context: {\n      accessToken: accessToken,\n      basePath: basePath\n    },\n    services: {\n      makeConfiguratorLoaderMachine: makeConfiguratorLoaderMachine\n    }\n  }, function (state) {\n    if (state.done) {\n      onSave();\n    }\n  });\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(CreationWizardMachineService.Provider, {\n    value: service\n  }, children);\n};\nvar useCreationWizardMachineService = function useCreationWizardMachineService() {\n  var service = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CreationWizardMachineService);\n\n  if (!service) {\n    throw new Error(\"useCreationWizardMachineService() must be used in a child of <CreationWizardMachineProvider>\");\n  }\n\n  return service;\n};\nvar useCreationWizardMachineConnectorTypesActor = function useCreationWizardMachineConnectorTypesActor() {\n  var service = useCreationWizardMachineService();\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.children.selectConnectorRef;\n  }, [service]));\n};\nvar useCreationWizardMachineKafkasActor = function useCreationWizardMachineKafkasActor() {\n  var service = useCreationWizardMachineService();\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.children.selectKafkaInstanceRef;\n  }, [service]));\n};\nvar useCreationWizardMachineClustersActor = function useCreationWizardMachineClustersActor() {\n  var service = useCreationWizardMachineService();\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.children.selectClusterRef;\n  }, [service]));\n};\nvar useCreationWizardMachineReviewActor = function useCreationWizardMachineReviewActor() {\n  var service = useCreationWizardMachineService();\n  return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_2__.useSelector)(service, (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (state) {\n    return state.children.reviewRef;\n  }, [service]));\n};\n\n\n//# sourceMappingURL=machines.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL21hY2hpbmVzL2Rpc3QvbWFjaGluZXMuZXNtLmpzPzY1OGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0U7QUFDMEM7QUFDMUM7QUFDdkI7QUFDVztBQUNoQztBQUNzRjtBQUM3Qzs7QUFFbkU7QUFDQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGFBQWEsdUJBQXVCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQWEsS0FBSyxzREFBYTtBQUN2RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esc0JBQXNCLDBEQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxXQUFXLHFEQUFjO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQWEsS0FBSyxzREFBYTtBQUN2RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esc0JBQXNCLDBEQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxXQUFXLHFEQUFjO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtB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O0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsNkRBQVc7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsdUJBQXVCO0FBQ3ZCLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQSxTQUFTLHFEQUFhO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFD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QTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELGdEQUFnRCxvREFBYTtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msa0RBQVc7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxnQkFBZ0IsMkRBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxTQUFTLDBEQUFtQjtBQUM1QjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsZ0JBQWdCLGlEQUFVOztBQUUxQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDBEQUFXLFVBQVUsa0RBQVc7QUFDekM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsU0FBUywwREFBVyxVQUFVLGtEQUFXO0FBQ3pDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMERBQVcsVUFBVSxrREFBVztBQUN6QztBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxTQUFTLDBEQUFXLFVBQVUsa0RBQVc7QUFDekM7QUFDQSxHQUFHO0FBQ0g7O0FBRXl5QjtBQUN6eUIiLCJmaWxlIjoiODMyNTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQsIGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjcmVhdGVNYWNoaW5lLCBhc3NpZ24sIGNyZWF0ZVNjaGVtYSwgc3Bhd24sIHNlbmQgYXMgc2VuZCQxLCBzZW5kUGFyZW50IGFzIHNlbmRQYXJlbnQkMSB9IGZyb20gJ3hzdGF0ZSc7XG5pbXBvcnQgeyBzZW5kUGFyZW50LCBzZW5kLCBwdXJlLCBlc2NhbGF0ZSB9IGZyb20gJ3hzdGF0ZS9saWIvYWN0aW9ucyc7XG5pbXBvcnQgeyBjcmVhdGVNb2RlbCB9IGZyb20gJ3hzdGF0ZS9saWIvbW9kZWwnO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IsIHVzZUludGVycHJldCB9IGZyb20gJ0B4c3RhdGUvcmVhY3QnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IENvbm5lY3RvcnNBcGksIENvbmZpZ3VyYXRpb24sIENvbm5lY3RvckNsdXN0ZXJzQXBpLCBDb25uZWN0b3JUeXBlc0FwaSwgRGVmYXVsdEFwaSB9IGZyb20gJ0Bjb3MtdWkvYXBpJztcbmltcG9ydCB7IGNyZWF0ZVZhbGlkYXRvciB9IGZyb20gJ0Bjb3MtdWkvanNvbi1zY2hlbWEtY29uZmlndXJhdG9yJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbnZhciBzdGFydENvbm5lY3RvciA9IGZ1bmN0aW9uIHN0YXJ0Q29ubmVjdG9yKF9yZWYpIHtcbiAgdmFyIGFjY2Vzc1Rva2VuID0gX3JlZi5hY2Nlc3NUb2tlbixcbiAgICAgIGJhc2VQYXRoID0gX3JlZi5iYXNlUGF0aCxcbiAgICAgIGNvbm5lY3RvciA9IF9yZWYuY29ubmVjdG9yO1xuICB2YXIgYXBpc1NlcnZpY2UgPSBuZXcgQ29ubmVjdG9yc0FwaShuZXcgQ29uZmlndXJhdGlvbih7XG4gICAgYWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuLFxuICAgIGJhc2VQYXRoOiBiYXNlUGF0aFxuICB9KSk7XG4gIHJldHVybiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgQ2FuY2VsVG9rZW4gPSBheGlvcy5DYW5jZWxUb2tlbjtcbiAgICB2YXIgc291cmNlID0gQ2FuY2VsVG9rZW4uc291cmNlKCk7XG4gICAgYXBpc1NlcnZpY2UucGF0Y2hDb25uZWN0b3IoY29ubmVjdG9yLmlkLCB7XG4gICAgICBkZXNpcmVkX3N0YXRlOiAncmVhZHknXG4gICAgfSwgdW5kZWZpbmVkLCB7XG4gICAgICBjYW5jZWxUb2tlbjogc291cmNlLnRva2VuLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL21lcmdlLXBhdGNoK2pzb24nXG4gICAgICB9XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgICBjb25uZWN0b3I6IHJlc3BvbnNlLmRhdGFcbiAgICAgIH0pO1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoIWF4aW9zLmlzQ2FuY2VsKGVycm9yKSkge1xuICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICBlcnJvcjogZXJyb3IucmVzcG9uc2UuZGF0YS5yZWFzb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNvdXJjZS5jYW5jZWwoJ09wZXJhdGlvbiBjYW5jZWxlZCBieSB0aGUgdXNlci4nKTtcbiAgICB9O1xuICB9O1xufTtcbnZhciBzdG9wQ29ubmVjdG9yID0gZnVuY3Rpb24gc3RvcENvbm5lY3RvcihfcmVmMikge1xuICB2YXIgYWNjZXNzVG9rZW4gPSBfcmVmMi5hY2Nlc3NUb2tlbixcbiAgICAgIGJhc2VQYXRoID0gX3JlZjIuYmFzZVBhdGgsXG4gICAgICBjb25uZWN0b3IgPSBfcmVmMi5jb25uZWN0b3I7XG4gIHZhciBhcGlzU2VydmljZSA9IG5ldyBDb25uZWN0b3JzQXBpKG5ldyBDb25maWd1cmF0aW9uKHtcbiAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXG4gICAgYmFzZVBhdGg6IGJhc2VQYXRoXG4gIH0pKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBDYW5jZWxUb2tlbiA9IGF4aW9zLkNhbmNlbFRva2VuO1xuICAgIHZhciBzb3VyY2UgPSBDYW5jZWxUb2tlbi5zb3VyY2UoKTtcbiAgICBhcGlzU2VydmljZS5wYXRjaENvbm5lY3Rvcihjb25uZWN0b3IuaWQsIHtcbiAgICAgIGRlc2lyZWRfc3RhdGU6ICdzdG9wcGVkJ1xuICAgIH0sIHVuZGVmaW5lZCwge1xuICAgICAgY2FuY2VsVG9rZW46IHNvdXJjZS50b2tlbixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9tZXJnZS1wYXRjaCtqc29uJ1xuICAgICAgfVxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBjYWxsYmFjayh7XG4gICAgICAgIHR5cGU6ICdzdWNjZXNzJyxcbiAgICAgICAgY29ubmVjdG9yOiByZXNwb25zZS5kYXRhXG4gICAgICB9KTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKCFheGlvcy5pc0NhbmNlbChlcnJvcikpIHtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgZXJyb3I6IGVycm9yLnJlc3BvbnNlLmRhdGEucmVhc29uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBzb3VyY2UuY2FuY2VsKCdPcGVyYXRpb24gY2FuY2VsZWQgYnkgdGhlIHVzZXIuJyk7XG4gICAgfTtcbiAgfTtcbn07XG52YXIgZGVsZXRlQ29ubmVjdG9yID0gZnVuY3Rpb24gZGVsZXRlQ29ubmVjdG9yKF9yZWYzKSB7XG4gIHZhciBhY2Nlc3NUb2tlbiA9IF9yZWYzLmFjY2Vzc1Rva2VuLFxuICAgICAgYmFzZVBhdGggPSBfcmVmMy5iYXNlUGF0aCxcbiAgICAgIGNvbm5lY3RvciA9IF9yZWYzLmNvbm5lY3RvcjtcbiAgdmFyIGFwaXNTZXJ2aWNlID0gbmV3IENvbm5lY3RvcnNBcGkobmV3IENvbmZpZ3VyYXRpb24oe1xuICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICBiYXNlUGF0aDogYmFzZVBhdGhcbiAgfSkpO1xuICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIENhbmNlbFRva2VuID0gYXhpb3MuQ2FuY2VsVG9rZW47XG4gICAgdmFyIHNvdXJjZSA9IENhbmNlbFRva2VuLnNvdXJjZSgpO1xuICAgIGFwaXNTZXJ2aWNlLmRlbGV0ZUNvbm5lY3Rvcihjb25uZWN0b3IuaWQsIHVuZGVmaW5lZCwge1xuICAgICAgY2FuY2VsVG9rZW46IHNvdXJjZS50b2tlblxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2soe1xuICAgICAgICB0eXBlOiAnc3VjY2VzcycsXG4gICAgICAgIGNvbm5lY3RvcjogX2V4dGVuZHMoe30sIGNvbm5lY3Rvciwge1xuICAgICAgICAgIHN0YXR1czogJ2RlbGV0aW5nJyxcbiAgICAgICAgICBkZXNpcmVkX3N0YXRlOiAnZGVsZXRlZCdcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoIWF4aW9zLmlzQ2FuY2VsKGVycm9yKSkge1xuICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICBlcnJvcjogZXJyb3IucmVzcG9uc2UuZGF0YS5yZWFzb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNvdXJjZS5jYW5jZWwoJ09wZXJhdGlvbiBjYW5jZWxlZCBieSB0aGUgdXNlci4nKTtcbiAgICB9O1xuICB9O1xufTtcbnZhciBmZXRjaENvbm5lY3RvcnMgPSBmdW5jdGlvbiBmZXRjaENvbm5lY3RvcnMoYWNjZXNzVG9rZW4sIGJhc2VQYXRoKSB7XG4gIHZhciBhcGlzU2VydmljZSA9IG5ldyBDb25uZWN0b3JzQXBpKG5ldyBDb25maWd1cmF0aW9uKHtcbiAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXG4gICAgYmFzZVBhdGg6IGJhc2VQYXRoXG4gIH0pKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChyZXF1ZXN0LCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgQ2FuY2VsVG9rZW4gPSBheGlvcy5DYW5jZWxUb2tlbjtcbiAgICB2YXIgc291cmNlID0gQ2FuY2VsVG9rZW4uc291cmNlKCk7XG4gICAgdmFyIHBhZ2UgPSByZXF1ZXN0LnBhZ2UsXG4gICAgICAgIHNpemUgPSByZXF1ZXN0LnNpemU7IC8vIGNvbnN0IHF1ZXJ5ID0gbmFtZS5sZW5ndGggPiAwID8gYG5hbWUgTElLRSAke25hbWV9YCA6IHVuZGVmaW5lZDtcblxuICAgIGFwaXNTZXJ2aWNlLmxpc3RDb25uZWN0b3JzKFwiXCIgKyBwYWdlLCBcIlwiICsgc2l6ZSwgdW5kZWZpbmVkLCB7XG4gICAgICBjYW5jZWxUb2tlbjogc291cmNlLnRva2VuXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIG9uU3VjY2Vzcyh7XG4gICAgICAgIGl0ZW1zOiByZXNwb25zZS5kYXRhLml0ZW1zLFxuICAgICAgICB0b3RhbDogcmVzcG9uc2UuZGF0YS50b3RhbCxcbiAgICAgICAgcGFnZTogcmVzcG9uc2UuZGF0YS5wYWdlLFxuICAgICAgICBzaXplOiByZXNwb25zZS5kYXRhLnNpemVcbiAgICAgIH0pO1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoIWF4aW9zLmlzQ2FuY2VsKGVycm9yKSkge1xuICAgICAgICBvbkVycm9yKHtcbiAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBwYWdlOiByZXF1ZXN0LnBhZ2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNvdXJjZS5jYW5jZWwoJ09wZXJhdGlvbiBjYW5jZWxlZCBieSB0aGUgdXNlci4nKTtcbiAgICB9O1xuICB9O1xufTtcblxudmFyIGNvbm5lY3Rvck1hY2hpbmVTY2hlbWEgPSB7XG4gIGNvbnRleHQ6IC8qI19fUFVSRV9fKi9jcmVhdGVTY2hlbWEoKVxufTtcbnZhciBjb25uZWN0b3JNYWNoaW5lTW9kZWwgPSAvKiNfX1BVUkVfXyovY3JlYXRlTW9kZWwoe1xuICBhY2Nlc3NUb2tlbjogZnVuY3Rpb24gYWNjZXNzVG9rZW4oKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgnJyk7XG4gIH0sXG4gIGJhc2VQYXRoOiAnJyxcbiAgY29ubmVjdG9yOiB7fVxufSwge1xuICBldmVudHM6IHtcbiAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0sXG4gICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH1cbiAgfVxufSk7XG52YXIgY29ubmVjdG9yTWFjaGluZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVNYWNoaW5lKHtcbiAgc2NoZW1hOiBjb25uZWN0b3JNYWNoaW5lU2NoZW1hLFxuICBpZDogJ2Nvbm5lY3RvcicsXG4gIGluaXRpYWw6ICd2ZXJpZnknLFxuICBjb250ZXh0OiBjb25uZWN0b3JNYWNoaW5lTW9kZWwuaW5pdGlhbENvbnRleHQsXG4gIHN0YXRlczoge1xuICAgIHZlcmlmeToge1xuICAgICAgYWx3YXlzOiBbe1xuICAgICAgICB0YXJnZXQ6ICdyZWFkeScsXG4gICAgICAgIGNvbmQ6ICdpc1JlYWR5J1xuICAgICAgfSwge1xuICAgICAgICB0YXJnZXQ6ICdzdG9wcGVkJyxcbiAgICAgICAgY29uZDogJ2lzU3RvcHBlZCdcbiAgICAgIH0sIHtcbiAgICAgICAgdGFyZ2V0OiAnZGVsZXRlZCcsXG4gICAgICAgIGNvbmQ6ICdpc0RlbGV0ZWQnXG4gICAgICB9XVxuICAgIH0sXG4gICAgcmVhZHk6IHtcbiAgICAgIG9uOiB7XG4gICAgICAgIHN0b3A6ICdzdG9wcGluZ0Nvbm5lY3RvcicsXG4gICAgICAgIHJlbW92ZTogJ2RlbGV0aW5nQ29ubmVjdG9yJ1xuICAgICAgfVxuICAgIH0sXG4gICAgc3RvcHBlZDoge1xuICAgICAgb246IHtcbiAgICAgICAgc3RhcnQ6ICdzdGFydGluZ0Nvbm5lY3RvcicsXG4gICAgICAgIHJlbW92ZTogJ2RlbGV0aW5nQ29ubmVjdG9yJ1xuICAgICAgfVxuICAgIH0sXG4gICAgZGVsZXRlZDoge30sXG4gICAgc3RhcnRpbmdDb25uZWN0b3I6IHtcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ3N0YXJ0aW5nQ29ubmVjdG9yQ2InLFxuICAgICAgICBzcmM6IGZ1bmN0aW9uIHNyYyhjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXJ0Q29ubmVjdG9yKHtcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBjb250ZXh0LmFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgYmFzZVBhdGg6IGNvbnRleHQuYmFzZVBhdGgsXG4gICAgICAgICAgICBjb25uZWN0b3I6IGNvbnRleHQuY29ubmVjdG9yXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBzdWNjZXNzOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiBbJ3VwZGF0ZVN0YXRlJywgJ25vdGlmeVN1Y2Nlc3NUb1BhcmVudCddXG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiAnbm90aWZ5RXJyb3JUb1BhcmVudCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgc3RvcHBpbmdDb25uZWN0b3I6IHtcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ3N0b3BwaW5nQ29ubmVjdG9yQ2InLFxuICAgICAgICBzcmM6IGZ1bmN0aW9uIHNyYyhjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIHN0b3BDb25uZWN0b3Ioe1xuICAgICAgICAgICAgYWNjZXNzVG9rZW46IGNvbnRleHQuYWNjZXNzVG9rZW4sXG4gICAgICAgICAgICBiYXNlUGF0aDogY29udGV4dC5iYXNlUGF0aCxcbiAgICAgICAgICAgIGNvbm5lY3RvcjogY29udGV4dC5jb25uZWN0b3JcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHN1Y2Nlc3M6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgIGFjdGlvbnM6IFsndXBkYXRlU3RhdGUnLCAnbm90aWZ5U3VjY2Vzc1RvUGFyZW50J11cbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgIGFjdGlvbnM6ICdub3RpZnlFcnJvclRvUGFyZW50J1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkZWxldGluZ0Nvbm5lY3Rvcjoge1xuICAgICAgaW52b2tlOiB7XG4gICAgICAgIGlkOiAnZGVsZXRpbmdDb25uZWN0b3JDYicsXG4gICAgICAgIHNyYzogZnVuY3Rpb24gc3JjKGNvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm4gZGVsZXRlQ29ubmVjdG9yKHtcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBjb250ZXh0LmFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgYmFzZVBhdGg6IGNvbnRleHQuYmFzZVBhdGgsXG4gICAgICAgICAgICBjb25uZWN0b3I6IGNvbnRleHQuY29ubmVjdG9yXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBzdWNjZXNzOiB7XG4gICAgICAgICAgdGFyZ2V0OiAnZGVsZXRlZCcsXG4gICAgICAgICAgYWN0aW9uczogWyd1cGRhdGVTdGF0ZScsICdub3RpZnlTdWNjZXNzVG9QYXJlbnQnXVxuICAgICAgICB9LFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogJ25vdGlmeUVycm9yVG9QYXJlbnQnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn0sIHtcbiAgZ3VhcmRzOiB7XG4gICAgaXNSZWFkeTogZnVuY3Rpb24gaXNSZWFkeShjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dC5jb25uZWN0b3IuZGVzaXJlZF9zdGF0ZSA9PT0gJ3JlYWR5JztcbiAgICB9LFxuICAgIGlzU3RvcHBlZDogZnVuY3Rpb24gaXNTdG9wcGVkKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmNvbm5lY3Rvci5kZXNpcmVkX3N0YXRlID09PSAnc3RvcHBlZCc7XG4gICAgfSxcbiAgICBpc0RlbGV0ZWQ6IGZ1bmN0aW9uIGlzRGVsZXRlZChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dC5jb25uZWN0b3IuZGVzaXJlZF9zdGF0ZSA9PT0gJ2RlbGV0ZWQnO1xuICAgIH1cbiAgfSxcbiAgYWN0aW9uczoge1xuICAgIHVwZGF0ZVN0YXRlOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50eXBlICE9PSAnc3VjY2VzcycpIHJldHVybiB7fTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbm5lY3RvcjogZXZlbnQuY29ubmVjdG9yXG4gICAgICB9O1xuICAgIH0pLFxuICAgIG5vdGlmeVN1Y2Nlc3NUb1BhcmVudDogLyojX19QVVJFX18qL3NlbmRQYXJlbnQoJ2Nvbm5lY3Rvci5hY3Rpb24tc3VjY2VzcycpLFxuICAgIG5vdGlmeUVycm9yVG9QYXJlbnQ6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50KCdjb25uZWN0b3IuYWN0aW9uLWZhaWx1cmUnKVxuICB9XG59KTtcbnZhciBtYWtlQ29ubmVjdG9yTWFjaGluZSA9IGZ1bmN0aW9uIG1ha2VDb25uZWN0b3JNYWNoaW5lKGNvbnRleHQpIHtcbiAgcmV0dXJuIGNvbm5lY3Rvck1hY2hpbmUud2l0aENvbnRleHQoY29udGV4dCk7XG59O1xudmFyIHVzZUNvbm5lY3RvciA9IGZ1bmN0aW9uIHVzZUNvbm5lY3RvcihyZWYpIHtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKHJlZiwgdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbm5lY3Rvcjogc3RhdGUuY29udGV4dC5jb25uZWN0b3IsXG4gICAgICBjYW5TdGFydDogY29ubmVjdG9yTWFjaGluZS50cmFuc2l0aW9uKHN0YXRlLCAnc3RhcnQnKS5jaGFuZ2VkID09PSB0cnVlLFxuICAgICAgY2FuU3RvcDogY29ubmVjdG9yTWFjaGluZS50cmFuc2l0aW9uKHN0YXRlLCAnc3RvcCcpLmNoYW5nZWQgPT09IHRydWUsXG4gICAgICBjYW5EZWxldGU6IGNvbm5lY3Rvck1hY2hpbmUudHJhbnNpdGlvbihzdGF0ZSwgJ3JlbW92ZScpLmNoYW5nZWQgPT09IHRydWUsXG4gICAgICBvblN0YXJ0OiBmdW5jdGlvbiBvblN0YXJ0KCkge1xuICAgICAgICByZXR1cm4gcmVmLnNlbmQoe1xuICAgICAgICAgIHR5cGU6ICdzdGFydCdcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgb25TdG9wOiBmdW5jdGlvbiBvblN0b3AoKSB7XG4gICAgICAgIHJldHVybiByZWYuc2VuZCh7XG4gICAgICAgICAgdHlwZTogJ3N0b3AnXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIG9uRGVsZXRlOiBmdW5jdGlvbiBvbkRlbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHJlZi5zZW5kKHtcbiAgICAgICAgICB0eXBlOiAncmVtb3ZlJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbcmVmXSkpO1xufTtcblxuZnVuY3Rpb24gbWFrZUZldGNoTWFjaGluZSgpIHtcbiAgdmFyIGZldGNoTWFjaGluZVNjaGVtYSA9IHtcbiAgICBjb250ZXh0OiBjcmVhdGVTY2hlbWEoKVxuICB9O1xuICB2YXIgZmV0Y2hNYWNoaW5lTW9kZWwgPSBjcmVhdGVNb2RlbCh7XG4gICAgZGF0YTogdW5kZWZpbmVkLFxuICAgIGVycm9yOiB1bmRlZmluZWRcbiAgfSk7XG4gIHJldHVybiBjcmVhdGVNYWNoaW5lKHtcbiAgICBzY2hlbWE6IGZldGNoTWFjaGluZVNjaGVtYSxcbiAgICBpZDogJ2ZldGNoTWFjaGluZScsXG4gICAgY29udGV4dDoge30sXG4gICAgaW5pdGlhbDogJ2xvYWRpbmcnLFxuICAgIHN0YXRlczoge1xuICAgICAgbG9hZGluZzoge1xuICAgICAgICBpbnZva2U6IHtcbiAgICAgICAgICBpZDogJ2ZldGNoU2VydmljZScsXG4gICAgICAgICAgc3JjOiAnZmV0Y2hTZXJ2aWNlJyxcbiAgICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICAgIHRhcmdldDogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgYWN0aW9uczogYXNzaWduKGZ1bmN0aW9uIChfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkYXRhOiBldmVudC5kYXRhXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb25FcnJvcjoge1xuICAgICAgICAgICAgdGFyZ2V0OiAnZmFpbHVyZScsXG4gICAgICAgICAgICBhY3Rpb25zOiBhc3NpZ24oe1xuICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LmRhdGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZmFpbHVyZToge1xuICAgICAgICB0eXBlOiAnZmluYWwnXG4gICAgICB9LFxuICAgICAgc3VjY2Vzczoge1xuICAgICAgICB0eXBlOiAnZmluYWwnLFxuICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKF9yZWYpIHtcbiAgICAgICAgICB2YXIgX2RhdGEgPSBfcmVmLmRhdGE7XG4gICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBfZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG52YXIgcGFnaW5hdGVkQXBpTWFjaGluZVNjaGVtYSA9IHtcbiAgY29udGV4dDogLyojX19QVVJFX18qL2NyZWF0ZVNjaGVtYSgpXG59O1xudmFyIGdldFBhZ2luYXRlZEFwaU1hY2hpbmVFdmVudHMgPSBmdW5jdGlvbiBnZXRQYWdpbmF0ZWRBcGlNYWNoaW5lRXZlbnRzKCkge1xuICByZXR1cm4ge1xuICAgIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBuZXh0UGFnZTogZnVuY3Rpb24gbmV4dFBhZ2UoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBwcmV2UGFnZTogZnVuY3Rpb24gcHJldlBhZ2UoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBxdWVyeTogZnVuY3Rpb24gcXVlcnkocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSxcbiAgICBzZXRSZXNwb25zZTogZnVuY3Rpb24gc2V0UmVzcG9uc2UocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSxcbiAgICBzZXRFcnJvcjogZnVuY3Rpb24gc2V0RXJyb3IocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSxcbiAgICAvLyBub3RpZnlQYXJlbnRcbiAgICByZWFkeTogZnVuY3Rpb24gcmVhZHkoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBsb2FkaW5nOiBmdW5jdGlvbiBsb2FkaW5nKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0sXG4gICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9XG4gIH07XG59O1xudmFyIGdldFBhZ2luYXRlZEFwaU1hY2hpbmVFdmVudHNIYW5kbGVycyA9IGZ1bmN0aW9uIGdldFBhZ2luYXRlZEFwaU1hY2hpbmVFdmVudHNIYW5kbGVycyh0bykge1xuICByZXR1cm4ge1xuICAgIHJlZnJlc2g6IHtcbiAgICAgIGFjdGlvbnM6IHNlbmQoZnVuY3Rpb24gKF8sIGUpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9LCB7XG4gICAgICAgIHRvOiB0b1xuICAgICAgfSlcbiAgICB9LFxuICAgIG5leHRQYWdlOiB7XG4gICAgICBhY3Rpb25zOiBzZW5kKGZ1bmN0aW9uIChfLCBlKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfSwge1xuICAgICAgICB0bzogdG9cbiAgICAgIH0pXG4gICAgfSxcbiAgICBwcmV2UGFnZToge1xuICAgICAgYWN0aW9uczogc2VuZChmdW5jdGlvbiAoXywgZSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH0sIHtcbiAgICAgICAgdG86IHRvXG4gICAgICB9KVxuICAgIH0sXG4gICAgcXVlcnk6IHtcbiAgICAgIGFjdGlvbnM6IHNlbmQoZnVuY3Rpb24gKF8sIGUpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9LCB7XG4gICAgICAgIHRvOiB0b1xuICAgICAgfSlcbiAgICB9LFxuICAgIHNldFJlc3BvbnNlOiB7XG4gICAgICBhY3Rpb25zOiBzZW5kKGZ1bmN0aW9uIChfLCBlKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfSwge1xuICAgICAgICB0bzogdG9cbiAgICAgIH0pXG4gICAgfSxcbiAgICBzZXRFcnJvcjoge1xuICAgICAgYWN0aW9uczogc2VuZChmdW5jdGlvbiAoXywgZSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH0sIHtcbiAgICAgICAgdG86IHRvXG4gICAgICB9KVxuICAgIH1cbiAgfTtcbn07XG5mdW5jdGlvbiBtYWtlUGFnaW5hdGVkQXBpTWFjaGluZShzZXJ2aWNlLCBkYXRhVHJhbnNmb3JtZXIpIHtcbiAgdmFyIHBhZ2luYXRlZEFwaU1hY2hpbmVNb2RlbCA9IGNyZWF0ZU1vZGVsKHtcbiAgICByZXF1ZXN0OiB7XG4gICAgICBwYWdlOiAxLFxuICAgICAgc2l6ZTogMTBcbiAgICB9LFxuICAgIHJlc3BvbnNlOiB1bmRlZmluZWQsXG4gICAgZGF0YVRyYW5zZm9ybWVyOiBkYXRhVHJhbnNmb3JtZXJcbiAgfSwge1xuICAgIGV2ZW50czogX2V4dGVuZHMoe30sIGdldFBhZ2luYXRlZEFwaU1hY2hpbmVFdmVudHMoKSlcbiAgfSk7XG5cbiAgdmFyIGNhbGxBcGkgPSBmdW5jdGlvbiBjYWxsQXBpKGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gc2VydmljZShjb250ZXh0LnJlcXVlc3QsIGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhwYWdpbmF0ZWRBcGlNYWNoaW5lTW9kZWwuZXZlbnRzLnNldFJlc3BvbnNlKHBheWxvYWQpKTtcbiAgICAgIH0sIGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhwYWdpbmF0ZWRBcGlNYWNoaW5lTW9kZWwuZXZlbnRzLnNldEVycm9yKHBheWxvYWQpKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIGNyZWF0ZU1hY2hpbmUoe1xuICAgIHNjaGVtYTogcGFnaW5hdGVkQXBpTWFjaGluZVNjaGVtYSxcbiAgICBpZDogJ3BhZ2luYXRlZEFwaU1hY2hpbmUnLFxuICAgIGNvbnRleHQ6IHBhZ2luYXRlZEFwaU1hY2hpbmVNb2RlbC5pbml0aWFsQ29udGV4dCxcbiAgICBpbml0aWFsOiAnaWRsZScsXG4gICAgc3RhdGVzOiB7XG4gICAgICBpZGxlOiB7XG4gICAgICAgIGVudHJ5OiAnbm90aWZ5UmVhZHknLFxuICAgICAgICBvbjoge1xuICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgIGFjdGlvbnM6ICdxdWVyeSdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzdWNjZXNzOiB7XG4gICAgICAgIGFsd2F5czogW3tcbiAgICAgICAgICB0YXJnZXQ6ICdxdWVyeUVtcHR5JyxcbiAgICAgICAgICBjb25kOiAnaXNRdWVyeUVtcHR5J1xuICAgICAgICB9LCB7XG4gICAgICAgICAgdGFyZ2V0OiAncXVlcnlSZXN1bHRzJyxcbiAgICAgICAgICBjb25kOiAnaXNRdWVyeVN1Y2Nlc2Z1bCdcbiAgICAgICAgfSwge1xuICAgICAgICAgIHRhcmdldDogJ2VtcHR5JyxcbiAgICAgICAgICBjb25kOiAnaXNUb3RhbFplcm8nXG4gICAgICAgIH0sIHtcbiAgICAgICAgICB0YXJnZXQ6ICdyZXN1bHRzJ1xuICAgICAgICB9XVxuICAgICAgfSxcbiAgICAgIHF1ZXJ5RW1wdHk6IHtcbiAgICAgICAgdGFnczogJ3F1ZXJ5RW1wdHknLFxuICAgICAgICBvbjoge1xuICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgIGFjdGlvbnM6ICdxdWVyeSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByZXZQYWdlOiB7XG4gICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgIGFjdGlvbnM6ICdkZWNyZWFzZVBhZ2UnLFxuICAgICAgICAgICAgY29uZDogJ2lzTm90Rmlyc3RQYWdlJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVmcmVzaDoge1xuICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICBhY3Rpb25zOiAnZmV0Y2gnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcXVlcnlSZXN1bHRzOiB7XG4gICAgICAgIHRhZ3M6ICdxdWVyeVJlc3VsdHMnLFxuICAgICAgICBvbjoge1xuICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgIGFjdGlvbnM6ICdxdWVyeSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIG5leHRQYWdlOiB7XG4gICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgIGFjdGlvbnM6ICdpbmNyZWFzZVBhZ2UnLFxuICAgICAgICAgICAgY29uZDogJ2lzTm90TGFzdFBhZ2UnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwcmV2UGFnZToge1xuICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICBhY3Rpb25zOiAnZGVjcmVhc2VQYWdlJyxcbiAgICAgICAgICAgIGNvbmQ6ICdpc05vdEZpcnN0UGFnZSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlZnJlc2g6IHtcbiAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnLFxuICAgICAgICAgICAgYWN0aW9uczogJ2ZldGNoJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVtcHR5OiB7XG4gICAgICAgIHRhZ3M6ICdlbXB0eScsXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnLFxuICAgICAgICAgICAgYWN0aW9uczogJ3F1ZXJ5J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVmcmVzaDoge1xuICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICBhY3Rpb25zOiAnZmV0Y2gnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVzdWx0czoge1xuICAgICAgICB0YWdzOiAncmVzdWx0cycsXG4gICAgICAgIG9uOiB7XG4gICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnLFxuICAgICAgICAgICAgYWN0aW9uczogJ3F1ZXJ5J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbmV4dFBhZ2U6IHtcbiAgICAgICAgICAgIHRhcmdldDogJ2xvYWRpbmcnLFxuICAgICAgICAgICAgYWN0aW9uczogJ2luY3JlYXNlUGFnZScsXG4gICAgICAgICAgICBjb25kOiAnaXNOb3RMYXN0UGFnZSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByZXZQYWdlOiB7XG4gICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgIGFjdGlvbnM6ICdkZWNyZWFzZVBhZ2UnLFxuICAgICAgICAgICAgY29uZDogJ2lzTm90Rmlyc3RQYWdlJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVmcmVzaDoge1xuICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICBhY3Rpb25zOiAnZmV0Y2gnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgdGFnczogJ2Vycm9yJyxcbiAgICAgICAgb246IHtcbiAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgdGFyZ2V0OiAnbG9hZGluZycsXG4gICAgICAgICAgICBhY3Rpb25zOiAncXVlcnknXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZWZyZXNoOiB7XG4gICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgIGFjdGlvbnM6ICdmZXRjaCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByZXZQYWdlOiB7XG4gICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgIGFjdGlvbnM6ICdkZWNyZWFzZVBhZ2UnLFxuICAgICAgICAgICAgY29uZDogJ2lzTm90Rmlyc3RQYWdlJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGxvYWRpbmc6IHtcbiAgICAgICAgZW50cnk6IFsnbm90aWZ5TG9hZGluZycsICdmZXRjaCddLFxuICAgICAgICBvbjoge1xuICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICB0YXJnZXQ6ICdsb2FkaW5nJyxcbiAgICAgICAgICAgIGFjdGlvbnM6ICdxdWVyeSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldFJlc3BvbnNlOiB7XG4gICAgICAgICAgICB0YXJnZXQ6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgIGFjdGlvbnM6IFsnc2V0UmVzcG9uc2UnLCAnbm90aWZ5U3VjY2VzcyddXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXRFcnJvcjoge1xuICAgICAgICAgICAgdGFyZ2V0OiAnZXJyb3InLFxuICAgICAgICAgICAgYWN0aW9uczogWydzZXRFcnJvcicsICdub3RpZnlFcnJvciddXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgJyonOiB7XG4gICAgICAgIGFjdGlvbnM6ICdmb3J3YXJkVW5rbm93bkV2ZW50c1RvUGFyZW50J1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGFjdGlvbnM6IHtcbiAgICAgIGZldGNoOiBhc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQuYWN0b3IgJiYgY29udGV4dC5hY3Rvci5zdG9wKSB7XG4gICAgICAgICAgY29udGV4dC5hY3Rvci5zdG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0b3IgPSBzcGF3bihjYWxsQXBpKGNvbnRleHQpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhY3RvcjogYWN0b3JcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgc2V0UmVzcG9uc2U6IGFzc2lnbihmdW5jdGlvbiAoY29udGV4dCwgZSkge1xuICAgICAgICBpZiAoZS50eXBlICE9PSAnc2V0UmVzcG9uc2UnIHx8IGUucGFnZSAhPT0gY29udGV4dC5yZXF1ZXN0LnBhZ2UpIHJldHVybiB7fTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgaXRlbXM6IGUuaXRlbXMubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmRhdGFUcmFuc2Zvcm1lcihpKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdG90YWw6IGUudG90YWwsXG4gICAgICAgICAgICBlcnJvcjogdW5kZWZpbmVkXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBzZXRFcnJvcjogYXNzaWduKGZ1bmN0aW9uIChjb250ZXh0LCBlKSB7XG4gICAgICAgIHZhciBfY29udGV4dCRyZXNwb25zZTtcblxuICAgICAgICBpZiAoZS50eXBlICE9PSAnc2V0RXJyb3InIHx8IGUucGFnZSAhPT0gY29udGV4dC5yZXF1ZXN0LnBhZ2UpIHJldHVybiB7fTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgaXRlbXM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRvdGFsOiAoKF9jb250ZXh0JHJlc3BvbnNlID0gY29udGV4dC5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jb250ZXh0JHJlc3BvbnNlLnRvdGFsKSB8fCAwLFxuICAgICAgICAgICAgZXJyb3I6IGUuZXJyb3JcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIGluY3JlYXNlUGFnZTogYXNzaWduKGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVxdWVzdDogX2V4dGVuZHMoe30sIGNvbnRleHQucmVxdWVzdCwge1xuICAgICAgICAgICAgcGFnZTogY29udGV4dC5yZXF1ZXN0LnBhZ2UgKyAxXG4gICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgZGVjcmVhc2VQYWdlOiBhc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXF1ZXN0OiBfZXh0ZW5kcyh7fSwgY29udGV4dC5yZXF1ZXN0LCB7XG4gICAgICAgICAgICBwYWdlOiBjb250ZXh0LnJlcXVlc3QucGFnZSAtIDFcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBxdWVyeTogYXNzaWduKGZ1bmN0aW9uIChjb250ZXh0LCBldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSAhPT0gJ3F1ZXJ5JykgcmV0dXJuIHt9O1xuICAgICAgICB2YXIgcGFnZSA9IGV2ZW50LnBhZ2UsXG4gICAgICAgICAgICBzaXplID0gZXZlbnQuc2l6ZSxcbiAgICAgICAgICAgIHF1ZXJ5ID0gZXZlbnQucXVlcnk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVxdWVzdDoge1xuICAgICAgICAgICAgcGFnZTogcGFnZSB8fCBjb250ZXh0LnJlcXVlc3QucGFnZSxcbiAgICAgICAgICAgIHNpemU6IHNpemUgfHwgY29udGV4dC5yZXF1ZXN0LnNpemUsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnlcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIG5vdGlmeVJlYWR5OiBzZW5kUGFyZW50KHtcbiAgICAgICAgdHlwZTogJ3JlYWR5J1xuICAgICAgfSksXG4gICAgICBub3RpZnlTdWNjZXNzOiBzZW5kUGFyZW50KGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnXG4gICAgICAgIH0sIGNvbnRleHQucmVzcG9uc2UpO1xuICAgICAgfSksXG4gICAgICBub3RpZnlFcnJvcjogc2VuZFBhcmVudChmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICB2YXIgX2NvbnRleHQkcmVzcG9uc2UyO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICBlcnJvcjogKF9jb250ZXh0JHJlc3BvbnNlMiA9IGNvbnRleHQucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfY29udGV4dCRyZXNwb25zZTIuZXJyb3JcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgbm90aWZ5TG9hZGluZzogc2VuZFBhcmVudChmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgICAgIHR5cGU6ICdsb2FkaW5nJ1xuICAgICAgICB9LCBjb250ZXh0LnJlcXVlc3QpO1xuICAgICAgfSksXG4gICAgICBmb3J3YXJkVW5rbm93bkV2ZW50c1RvUGFyZW50OiBwdXJlKGZ1bmN0aW9uIChfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHBhZ2luYXRlZEFwaU1hY2hpbmVNb2RlbC5ldmVudHMpLmluY2x1ZGVzKGV2ZW50LnR5cGUpID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBzZW5kUGFyZW50KGZ1bmN0aW9uIChfY29udGV4dCwgX2V2ZW50LCBtZXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gbWV0YS5fZXZlbnQuZGF0YTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH0pXG4gICAgfSxcbiAgICBndWFyZHM6IHtcbiAgICAgIGlzTm90Rmlyc3RQYWdlOiBmdW5jdGlvbiBpc05vdEZpcnN0UGFnZShjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LnJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiYgY29udGV4dC5yZXF1ZXN0LnBhZ2UgPiAxO1xuICAgICAgfSxcbiAgICAgIGlzTm90TGFzdFBhZ2U6IGZ1bmN0aW9uIGlzTm90TGFzdFBhZ2UoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gY29udGV4dC5yZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmIGNvbnRleHQucmVxdWVzdC5zaXplID4gMCAmJiBjb250ZXh0LnJlcXVlc3QucGFnZSA8IE1hdGguY2VpbChjb250ZXh0LnJlc3BvbnNlLnRvdGFsIC8gY29udGV4dC5yZXF1ZXN0LnNpemUpO1xuICAgICAgfSxcbiAgICAgIGlzVG90YWxaZXJvOiBmdW5jdGlvbiBpc1RvdGFsWmVybyhjb250ZXh0KSB7XG4gICAgICAgIHZhciBfY29udGV4dCRyZXNwb25zZTM7XG5cbiAgICAgICAgcmV0dXJuICgoX2NvbnRleHQkcmVzcG9uc2UzID0gY29udGV4dC5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jb250ZXh0JHJlc3BvbnNlMy50b3RhbCkgPT09IDA7XG4gICAgICB9LFxuICAgICAgaXNRdWVyeVN1Y2Nlc2Z1bDogZnVuY3Rpb24gaXNRdWVyeVN1Y2Nlc2Z1bChjb250ZXh0KSB7XG4gICAgICAgIHZhciBfY29udGV4dCRyZXNwb25zZTQ7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRleHQucmVxdWVzdC5xdWVyeSAhPT0gdW5kZWZpbmVkICYmIGNvbnRleHQucmVzcG9uc2UgIT09IHVuZGVmaW5lZCAmJiAoKF9jb250ZXh0JHJlc3BvbnNlNCA9IGNvbnRleHQucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfY29udGV4dCRyZXNwb25zZTQudG90YWwpID4gMDtcbiAgICAgIH0sXG4gICAgICBpc1F1ZXJ5RW1wdHk6IGZ1bmN0aW9uIGlzUXVlcnlFbXB0eShjb250ZXh0KSB7XG4gICAgICAgIHZhciBfY29udGV4dCRyZXNwb25zZTU7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRleHQucmVxdWVzdC5xdWVyeSAhPT0gdW5kZWZpbmVkICYmIGNvbnRleHQucmVzcG9uc2UgIT09IHVuZGVmaW5lZCAmJiAoKF9jb250ZXh0JHJlc3BvbnNlNSA9IGNvbnRleHQucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfY29udGV4dCRyZXNwb25zZTUudG90YWwpID09PSAwO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59IC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzUwMzIxNDE5L3R5cGVzY3JpcHQtcmV0dXJudHlwZS1vZi1nZW5lcmljLWZ1bmN0aW9uLzY0OTE5MTMzIzY0OTE5MTMzXG4vLyBodHRwczovL2Rpc2NvcmQuY29tL2NoYW5uZWxzLzc5NTc4NTI4ODk5NDY1MjE3MC83OTk0MTY5NDMzMjQ4MjM1OTIvODQ3NDY2ODQzMjkwNzMwNTI3XG5cblxudmFyIHVzZVBhZ2luYXRpb24gPSBmdW5jdGlvbiB1c2VQYWdpbmF0aW9uKGFjdG9yKSB7XG4gIHJldHVybiB1c2VTZWxlY3RvcihhY3RvciwgdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcXVlc3Q6IHN0YXRlLmNvbnRleHQucmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlOiBzdGF0ZS5jb250ZXh0LnJlc3BvbnNlLFxuICAgICAgbG9hZGluZzogc3RhdGUubWF0Y2hlcygnbG9hZGluZycpLFxuICAgICAgcXVlcnlFbXB0eTogc3RhdGUuaGFzVGFnKCdxdWVyeUVtcHR5JyksXG4gICAgICBxdWVyeVJlc3VsdHM6IHN0YXRlLmhhc1RhZygncXVlcnlSZXN1bHRzJyksXG4gICAgICBub1Jlc3VsdHM6IHN0YXRlLmhhc1RhZygnZW1wdHknKSxcbiAgICAgIHJlc3VsdHM6IHN0YXRlLmhhc1RhZygncmVzdWx0cycpLFxuICAgICAgZXJyb3I6IHN0YXRlLmhhc1RhZygnZXJyb3InKSxcbiAgICAgIGZpcnN0UmVxdWVzdDogc3RhdGUuY29udGV4dC5yZXNwb25zZSA9PT0gdW5kZWZpbmVkXG4gICAgfTtcbiAgfSwgW2FjdG9yXSkpO1xufTtcblxudmFyIFBBR0lOQVRFRF9NQUNISU5FX0lEID0gJ3BhZ2luYXRlZEFwaSc7XG52YXIgY29ubmVjdG9yc01hY2hpbmVTY2hlbWEgPSB7XG4gIGNvbnRleHQ6IC8qI19fUFVSRV9fKi9jcmVhdGVTY2hlbWEoKVxufTtcbnZhciBjb25uZWN0b3JzTWFjaGluZU1vZGVsID0gLyojX19QVVJFX18qL2NyZWF0ZU1vZGVsKHtcbiAgYWNjZXNzVG9rZW46IGZ1bmN0aW9uIGFjY2Vzc1Rva2VuKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJycpO1xuICB9LFxuICBiYXNlUGF0aDogJycsXG4gIHNlbGVjdGVkSW5zdGFuY2U6IHVuZGVmaW5lZCxcbiAgZXJyb3I6IHVuZGVmaW5lZFxufSwge1xuICBldmVudHM6IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7fSwgLyojX19QVVJFX18qL2dldFBhZ2luYXRlZEFwaU1hY2hpbmVFdmVudHMoKSwge1xuICAgICdjb25uZWN0b3IuYWN0aW9uLXN1Y2Nlc3MnOiBmdW5jdGlvbiBjb25uZWN0b3JBY3Rpb25TdWNjZXNzKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgJ2Nvbm5lY3Rvci5hY3Rpb24tZmFpbHVyZSc6IGZ1bmN0aW9uIGNvbm5lY3RvckFjdGlvbkZhaWx1cmUoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9KVxufSk7XG52YXIgY29ubmVjdG9yc01hY2hpbmUgPSAvKiNfX1BVUkVfXyovY3JlYXRlTWFjaGluZSh7XG4gIHNjaGVtYTogY29ubmVjdG9yc01hY2hpbmVTY2hlbWEsXG4gIGlkOiAnY29ubmVjdG9ycycsXG4gIGluaXRpYWw6ICdyb290JyxcbiAgY29udGV4dDogY29ubmVjdG9yc01hY2hpbmVNb2RlbC5pbml0aWFsQ29udGV4dCxcbiAgc3RhdGVzOiB7XG4gICAgcm9vdDoge1xuICAgICAgdHlwZTogJ3BhcmFsbGVsJyxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBhcGk6IHtcbiAgICAgICAgICBpbml0aWFsOiAnaWRsZScsXG4gICAgICAgICAgaW52b2tlOiB7XG4gICAgICAgICAgICBpZDogUEFHSU5BVEVEX01BQ0hJTkVfSUQsXG4gICAgICAgICAgICBzcmM6IGZ1bmN0aW9uIHNyYyhjb250ZXh0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBtYWtlUGFnaW5hdGVkQXBpTWFjaGluZShmZXRjaENvbm5lY3RvcnMoY29udGV4dC5hY2Nlc3NUb2tlbiwgY29udGV4dC5iYXNlUGF0aCksIGZ1bmN0aW9uIChjb25uZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Bhd24obWFrZUNvbm5lY3Rvck1hY2hpbmUoe1xuICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IGNvbnRleHQuYWNjZXNzVG9rZW4sXG4gICAgICAgICAgICAgICAgICBiYXNlUGF0aDogY29udGV4dC5iYXNlUGF0aCxcbiAgICAgICAgICAgICAgICAgIGNvbm5lY3RvcjogY29ubmVjdG9yXG4gICAgICAgICAgICAgICAgfSksIFwiY29ubmVjdG9yLVwiICsgY29ubmVjdG9yLmlkKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdGF0ZXM6IHtcbiAgICAgICAgICAgIGlkbGU6IHtcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICByZWFkeTogJ3JlYWR5J1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVhZHk6IHtcbiAgICAgICAgICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kJDEoJ3F1ZXJ5Jywge1xuICAgICAgICAgICAgICAgIHRvOiBQQUdJTkFURURfTUFDSElORV9JRFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb246IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7fSwgLyojX19QVVJFX18qL2dldFBhZ2luYXRlZEFwaU1hY2hpbmVFdmVudHNIYW5kbGVycyhQQUdJTkFURURfTUFDSElORV9JRCksIHtcbiAgICAgICAgICAgICdjb25uZWN0b3IuYWN0aW9uLXN1Y2Nlc3MnOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IC8qI19fUFVSRV9fKi9zZW5kJDEoJ3F1ZXJ5Jywge1xuICAgICAgICAgICAgICAgIHRvOiBQQUdJTkFURURfTUFDSElORV9JRFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdjb25uZWN0b3IuYWN0aW9uLWZhaWx1cmUnOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IC8qI19fUFVSRV9fKi9zZW5kJDEoJ3F1ZXJ5Jywge1xuICAgICAgICAgICAgICAgIHRvOiBQQUdJTkFURURfTUFDSElORV9JRFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIGxpc3Rpbmc6IHt9XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcbnZhciB1c2VDb25uZWN0b3JzTWFjaGluZSA9IGZ1bmN0aW9uIHVzZUNvbm5lY3RvcnNNYWNoaW5lKHNlcnZpY2UpIHtcbiAgcmV0dXJuIHVzZVBhZ2luYXRpb24oc2VydmljZS5zdGF0ZS5jaGlsZHJlbltQQUdJTkFURURfTUFDSElORV9JRF0pO1xufTtcblxudmFyIENvbm5lY3RvcnNNYWNoaW5lU2VydmljZUNvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChudWxsKTtcbnZhciBDb25uZWN0b3JzTWFjaGluZVByb3ZpZGVyID0gZnVuY3Rpb24gQ29ubmVjdG9yc01hY2hpbmVQcm92aWRlcihfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBhY2Nlc3NUb2tlbiA9IF9yZWYuYWNjZXNzVG9rZW4sXG4gICAgICBiYXNlUGF0aCA9IF9yZWYuYmFzZVBhdGg7XG4gIHZhciBzZXJ2aWNlID0gdXNlSW50ZXJwcmV0KGNvbm5lY3RvcnNNYWNoaW5lLCB7XG4gICAgY29udGV4dDoge1xuICAgICAgYWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuLFxuICAgICAgYmFzZVBhdGg6IGJhc2VQYXRoXG4gICAgfSxcbiAgICBkZXZUb29sczogdHJ1ZVxuICB9KTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBzZXJ2aWNlXG4gIH0sIGNoaWxkcmVuKTtcbn07XG52YXIgdXNlQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlID0gZnVuY3Rpb24gdXNlQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlKCkge1xuICB2YXIgc2VydmljZSA9IHVzZUNvbnRleHQoQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlQ29udGV4dCk7XG5cbiAgaWYgKCFzZXJ2aWNlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlKCkgbXVzdCBiZSB1c2VkIGluIGEgY2hpbGQgb2YgPENvbm5lY3RvcnNNYWNoaW5lUHJvdmlkZXI+XCIpO1xuICB9XG5cbiAgcmV0dXJuIHNlcnZpY2U7XG59O1xudmFyIHVzZUNvbm5lY3RvcnNNYWNoaW5lSXNSZWFkeSA9IGZ1bmN0aW9uIHVzZUNvbm5lY3RvcnNNYWNoaW5lSXNSZWFkeShzZXJ2aWNlKSB7XG4gIHJldHVybiB1c2VTZWxlY3RvcihzZXJ2aWNlLCB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUubWF0Y2hlcyh7XG4gICAgICByb290OiB7XG4gICAgICAgIGFwaTogJ3JlYWR5J1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbc2VydmljZV0pKTtcbn07XG5cbnZhciBQQUdJTkFURURfTUFDSElORV9JRCQxID0gJ3BhZ2luYXRlZEFwaSc7XG5cbnZhciBmZXRjaENsdXN0ZXJzID0gZnVuY3Rpb24gZmV0Y2hDbHVzdGVycyhhY2Nlc3NUb2tlbiwgYmFzZVBhdGgpIHtcbiAgdmFyIGFwaXNTZXJ2aWNlID0gbmV3IENvbm5lY3RvckNsdXN0ZXJzQXBpKG5ldyBDb25maWd1cmF0aW9uKHtcbiAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXG4gICAgYmFzZVBhdGg6IGJhc2VQYXRoXG4gIH0pKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChyZXF1ZXN0LCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgQ2FuY2VsVG9rZW4gPSBheGlvcy5DYW5jZWxUb2tlbjtcbiAgICB2YXIgc291cmNlID0gQ2FuY2VsVG9rZW4uc291cmNlKCk7XG4gICAgdmFyIHBhZ2UgPSByZXF1ZXN0LnBhZ2UsXG4gICAgICAgIHNpemUgPSByZXF1ZXN0LnNpemU7XG4gICAgYXBpc1NlcnZpY2UubGlzdENvbm5lY3RvckNsdXN0ZXJzKFwiXCIgKyBwYWdlLCBcIlwiICsgc2l6ZSwge1xuICAgICAgY2FuY2VsVG9rZW46IHNvdXJjZS50b2tlblxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBvblN1Y2Nlc3Moe1xuICAgICAgICBpdGVtczogcmVzcG9uc2UuZGF0YS5pdGVtcyxcbiAgICAgICAgdG90YWw6IHJlc3BvbnNlLmRhdGEudG90YWwsXG4gICAgICAgIHBhZ2U6IHJlc3BvbnNlLmRhdGEucGFnZSxcbiAgICAgICAgc2l6ZTogcmVzcG9uc2UuZGF0YS5zaXplXG4gICAgICB9KTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKCFheGlvcy5pc0NhbmNlbChlcnJvcikpIHtcbiAgICAgICAgb25FcnJvcih7XG4gICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgcGFnZTogcmVxdWVzdC5wYWdlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBzb3VyY2UuY2FuY2VsKCdPcGVyYXRpb24gY2FuY2VsZWQgYnkgdGhlIHVzZXIuJyk7XG4gICAgfTtcbiAgfTtcbn07XG5cbnZhciBjbHVzdGVyc01hY2hpbmVTY2hlbWEgPSB7XG4gIGNvbnRleHQ6IC8qI19fUFVSRV9fKi9jcmVhdGVTY2hlbWEoKVxufTtcbnZhciBjbHVzdGVyc01hY2hpbmVNb2RlbCA9IC8qI19fUFVSRV9fKi9jcmVhdGVNb2RlbCh7XG4gIGFjY2Vzc1Rva2VuOiBmdW5jdGlvbiBhY2Nlc3NUb2tlbigpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCcnKTtcbiAgfSxcbiAgYmFzZVBhdGg6ICcnLFxuICBjbHVzdGVyczogdW5kZWZpbmVkLFxuICBzZWxlY3RlZENsdXN0ZXI6IHVuZGVmaW5lZCxcbiAgZXJyb3I6IHVuZGVmaW5lZFxufSwge1xuICBldmVudHM6IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7XG4gICAgc2VsZWN0Q2x1c3RlcjogZnVuY3Rpb24gc2VsZWN0Q2x1c3RlcihwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHBheWxvYWQpO1xuICAgIH0sXG4gICAgZGVzZWxlY3RDbHVzdGVyOiBmdW5jdGlvbiBkZXNlbGVjdENsdXN0ZXIoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBjb25maXJtOiBmdW5jdGlvbiBjb25maXJtKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfSwgLyojX19QVVJFX18qL2dldFBhZ2luYXRlZEFwaU1hY2hpbmVFdmVudHMoKSlcbn0pO1xudmFyIGNsdXN0ZXJzTWFjaGluZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVNYWNoaW5lKHtcbiAgc2NoZW1hOiBjbHVzdGVyc01hY2hpbmVTY2hlbWEsXG4gIGlkOiAnY2x1c3RlcnMnLFxuICBpbml0aWFsOiAncm9vdCcsXG4gIGNvbnRleHQ6IGNsdXN0ZXJzTWFjaGluZU1vZGVsLmluaXRpYWxDb250ZXh0LFxuICBzdGF0ZXM6IHtcbiAgICByb290OiB7XG4gICAgICB0eXBlOiAncGFyYWxsZWwnLFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGFwaToge1xuICAgICAgICAgIGluaXRpYWw6ICdpZGxlJyxcbiAgICAgICAgICBpbnZva2U6IHtcbiAgICAgICAgICAgIGlkOiBQQUdJTkFURURfTUFDSElORV9JRCQxLFxuICAgICAgICAgICAgc3JjOiBmdW5jdGlvbiBzcmMoY29udGV4dCkge1xuICAgICAgICAgICAgICByZXR1cm4gbWFrZVBhZ2luYXRlZEFwaU1hY2hpbmUoZmV0Y2hDbHVzdGVycyhjb250ZXh0LmFjY2Vzc1Rva2VuLCBjb250ZXh0LmJhc2VQYXRoKSwgZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdGF0ZXM6IHtcbiAgICAgICAgICAgIGlkbGU6IHtcbiAgICAgICAgICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kJDEoJ3F1ZXJ5Jywge1xuICAgICAgICAgICAgICAgIHRvOiBQQUdJTkFURURfTUFDSElORV9JRCQxXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgIHJlYWR5OiAncmVhZHknXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWFkeToge31cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uOiAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9nZXRQYWdpbmF0ZWRBcGlNYWNoaW5lRXZlbnRzSGFuZGxlcnMoUEFHSU5BVEVEX01BQ0hJTkVfSUQkMSksIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogJ3N1Y2Nlc3MnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0aW9uOiB7XG4gICAgICAgICAgaWQ6ICdzZWxlY3Rpb24nLFxuICAgICAgICAgIGluaXRpYWw6ICd2ZXJpZnknLFxuICAgICAgICAgIHN0YXRlczoge1xuICAgICAgICAgICAgdmVyaWZ5OiB7XG4gICAgICAgICAgICAgIGFsd2F5czogW3tcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdzZWxlY3RpbmcnLFxuICAgICAgICAgICAgICAgIGNvbmQ6ICdub0NsdXN0ZXJTZWxlY3RlZCdcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRhcmdldDogJ3ZhbGlkJyxcbiAgICAgICAgICAgICAgICBjb25kOiAnY2x1c3RlclNlbGVjdGVkJ1xuICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdGluZzoge1xuICAgICAgICAgICAgICBlbnRyeTogLyojX19QVVJFX18qL3NlbmRQYXJlbnQkMSgnaXNJbnZhbGlkJyksXG4gICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0Q2x1c3Rlcjoge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAndmFsaWQnLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uczogJ3NlbGVjdENsdXN0ZXInXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmFsaWQ6IHtcbiAgICAgICAgICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50JDEoJ2lzVmFsaWQnKSxcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICBzZWxlY3RDbHVzdGVyOiB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uczogJ3NlbGVjdENsdXN0ZXInLFxuICAgICAgICAgICAgICAgICAgY29uZDogZnVuY3Rpb24gY29uZChfLCBldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuc2VsZWN0ZWRDbHVzdGVyICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZXNlbGVjdENsdXN0ZXI6IHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zOiAncmVzZXQnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb25maXJtOiB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXQ6ICcjZG9uZScsXG4gICAgICAgICAgICAgICAgICBjb25kOiAnY2x1c3RlclNlbGVjdGVkJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZG9uZToge1xuICAgICAgaWQ6ICdkb25lJyxcbiAgICAgIHR5cGU6ICdmaW5hbCcsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNlbGVjdGVkQ2x1c3RlcjogZnVuY3Rpb24gc2VsZWN0ZWRDbHVzdGVyKGNvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZENsdXN0ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn0sIHtcbiAgYWN0aW9uczoge1xuICAgIHN1Y2Nlc3M6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdzdWNjZXNzJykgcmV0dXJuIHt9O1xuXG4gICAgICB2YXIgcmVzcG9uc2UgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShldmVudCwgW1widHlwZVwiXSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3BvbnNlOiByZXNwb25zZVxuICAgICAgfTtcbiAgICB9KSxcbiAgICBzZWxlY3RDbHVzdGVyOiAvKiNfX1BVUkVfXyovYXNzaWduKHtcbiAgICAgIHNlbGVjdGVkQ2x1c3RlcjogZnVuY3Rpb24gc2VsZWN0ZWRDbHVzdGVyKGNvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAnc2VsZWN0Q2x1c3RlcicpIHtcbiAgICAgICAgICB2YXIgX2NvbnRleHQkcmVzcG9uc2UsIF9jb250ZXh0JHJlc3BvbnNlJGl0ZTtcblxuICAgICAgICAgIHJldHVybiAoX2NvbnRleHQkcmVzcG9uc2UgPSBjb250ZXh0LnJlc3BvbnNlKSA9PSBudWxsID8gdm9pZCAwIDogKF9jb250ZXh0JHJlc3BvbnNlJGl0ZSA9IF9jb250ZXh0JHJlc3BvbnNlLml0ZW1zKSA9PSBudWxsID8gdm9pZCAwIDogX2NvbnRleHQkcmVzcG9uc2UkaXRlLmZpbmQoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHJldHVybiBpLmlkID09PSBldmVudC5zZWxlY3RlZENsdXN0ZXI7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZENsdXN0ZXI7XG4gICAgICB9XG4gICAgfSksXG4gICAgcmVzZXQ6IC8qI19fUFVSRV9fKi9hc3NpZ24oe1xuICAgICAgc2VsZWN0ZWRDbHVzdGVyOiBmdW5jdGlvbiBzZWxlY3RlZENsdXN0ZXIoY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnR5cGUgPT09ICdkZXNlbGVjdENsdXN0ZXInID8gdW5kZWZpbmVkIDogY29udGV4dC5zZWxlY3RlZENsdXN0ZXI7XG4gICAgICB9XG4gICAgfSlcbiAgfSxcbiAgZ3VhcmRzOiB7XG4gICAgY2x1c3RlclNlbGVjdGVkOiBmdW5jdGlvbiBjbHVzdGVyU2VsZWN0ZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRDbHVzdGVyICE9PSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBub0NsdXN0ZXJTZWxlY3RlZDogZnVuY3Rpb24gbm9DbHVzdGVyU2VsZWN0ZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRDbHVzdGVyID09PSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG59KTtcbnZhciB1c2VDbHVzdGVyc01hY2hpbmVJc1JlYWR5ID0gZnVuY3Rpb24gdXNlQ2x1c3RlcnNNYWNoaW5lSXNSZWFkeShhY3Rvcikge1xuICByZXR1cm4gdXNlU2VsZWN0b3IoYWN0b3IsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5tYXRjaGVzKHtcbiAgICAgIHJvb3Q6IHtcbiAgICAgICAgYXBpOiAncmVhZHknXG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFthY3Rvcl0pKTtcbn07XG52YXIgdXNlQ2x1c3RlcnNNYWNoaW5lID0gZnVuY3Rpb24gdXNlQ2x1c3RlcnNNYWNoaW5lKGFjdG9yKSB7XG4gIHZhciBhcGkgPSB1c2VQYWdpbmF0aW9uKGFjdG9yLnN0YXRlLmNoaWxkcmVuW1BBR0lOQVRFRF9NQUNISU5FX0lEJDFdKTtcblxuICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoYWN0b3IsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHZhciBfc3RhdGUkY29udGV4dCRzZWxlY3Q7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc2VsZWN0ZWRJZDogKF9zdGF0ZSRjb250ZXh0JHNlbGVjdCA9IHN0YXRlLmNvbnRleHQuc2VsZWN0ZWRDbHVzdGVyKSA9PSBudWxsID8gdm9pZCAwIDogX3N0YXRlJGNvbnRleHQkc2VsZWN0LmlkXG4gICAgfTtcbiAgfSwgW2FjdG9yXSkpLFxuICAgICAgc2VsZWN0ZWRJZCA9IF91c2VTZWxlY3Rvci5zZWxlY3RlZElkO1xuXG4gIHZhciBvblNlbGVjdCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzZWxlY3RlZENsdXN0ZXIpIHtcbiAgICBhY3Rvci5zZW5kKHtcbiAgICAgIHR5cGU6ICdzZWxlY3RDbHVzdGVyJyxcbiAgICAgIHNlbGVjdGVkQ2x1c3Rlcjogc2VsZWN0ZWRDbHVzdGVyXG4gICAgfSk7XG4gIH0sIFthY3Rvcl0pO1xuICB2YXIgb25RdWVyeSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgYWN0b3Iuc2VuZChfZXh0ZW5kcyh7XG4gICAgICB0eXBlOiAncXVlcnknXG4gICAgfSwgcmVxdWVzdCkpO1xuICB9LCBbYWN0b3JdKTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBhcGksIHtcbiAgICBzZWxlY3RlZElkOiBzZWxlY3RlZElkLFxuICAgIG9uU2VsZWN0OiBvblNlbGVjdCxcbiAgICBvblF1ZXJ5OiBvblF1ZXJ5XG4gIH0pO1xufTtcblxudmFyIGNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmVTY2hlbWEgPSB7XG4gIGNvbnRleHQ6IC8qI19fUFVSRV9fKi9jcmVhdGVTY2hlbWEoKVxufTtcbnZhciBjb25maWd1cmF0b3JMb2FkZXJNYWNoaW5lID0gLyojX19QVVJFX18qL2NyZWF0ZU1hY2hpbmUoe1xuICBzY2hlbWE6IGNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmVTY2hlbWEsXG4gIGlkOiAnY29uZmlndXJhdG9yJyxcbiAgaW5pdGlhbDogJ2xvYWRpbmcnLFxuICBzdGF0ZXM6IHtcbiAgICBsb2FkaW5nOiB7XG4gICAgICBpbnZva2U6IHtcbiAgICAgICAgaWQ6ICdmZXRjaENvbmZpZ3VyYXRvcicsXG4gICAgICAgIHNyYzogJ2ZldGNoQ29uZmlndXJhdG9yJyxcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgdGFyZ2V0OiAnc3VjY2VzcycsXG4gICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQuZGF0YTtcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiB7XG4gICAgICAgICAgdGFyZ2V0OiAnZmFpbHVyZScsXG4gICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbih7XG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBldmVudC5kYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGZhaWx1cmU6IHtcbiAgICAgIGVudHJ5OiAvKiNfX1BVUkVfXyovZXNjYWxhdGUoZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtZXNzYWdlOiBjb250ZXh0LmVycm9yXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgIH0sXG4gICAgc3VjY2Vzczoge1xuICAgICAgdHlwZTogJ2ZpbmFsJyxcbiAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoX3JlZikge1xuICAgICAgICB2YXIgQ29uZmlndXJhdG9yID0gX3JlZi5Db25maWd1cmF0b3IsXG4gICAgICAgICAgICBzdGVwcyA9IF9yZWYuc3RlcHM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgQ29uZmlndXJhdG9yOiBDb25maWd1cmF0b3IsXG4gICAgICAgICAgc3RlcHM6IHN0ZXBzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcblxudmFyIGNvbmZpZ3VyYXRvck1hY2hpbmVTY2hlbWEgPSB7XG4gIGNvbnRleHQ6IC8qI19fUFVSRV9fKi9jcmVhdGVTY2hlbWEoKVxufTtcbnZhciBjb25maWd1cmF0b3JNYWNoaW5lID0gLyojX19QVVJFX18qL2NyZWF0ZU1hY2hpbmUoe1xuICBzY2hlbWE6IGNvbmZpZ3VyYXRvck1hY2hpbmVTY2hlbWEsXG4gIGlkOiAnY29uZmlndXJhdG9yJyxcbiAgaW5pdGlhbDogJ2NvbmZpZ3VyaW5nJyxcbiAgY29udGV4dDoge1xuICAgIGNvbm5lY3Rvcjoge1xuICAgICAgaWQ6ICdzb21ldGhpbmcnLFxuICAgICAgbmFtZTogJ3NvbWV0aGluZycsXG4gICAgICB2ZXJzaW9uOiAnMC4xJyxcbiAgICAgIGpzb25fc2NoZW1hOiB7fVxuICAgIH0sXG4gICAgc3RlcHM6IFsnb25lJywgJ3R3bycsICd0aHJlZSddLFxuICAgIGFjdGl2ZVN0ZXA6IDAsXG4gICAgaXNBY3RpdmVTdGVwVmFsaWQ6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYXRpb246IHVuZGVmaW5lZFxuICB9LFxuICBzdGF0ZXM6IHtcbiAgICBjb25maWd1cmluZzoge1xuICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50JDEoJ2lzSW52YWxpZCcpLFxuICAgICAgYWx3YXlzOiBbe1xuICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgIGNvbmQ6ICdhY3RpdmVTdGVwVmFsaWQnXG4gICAgICB9XVxuICAgIH0sXG4gICAgdmFsaWQ6IHtcbiAgICAgIGlkOiAndmFsaWQnLFxuICAgICAgaW5pdGlhbDogJ2RldGVybWluZVN0ZXAnLFxuICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50JDEoJ2lzVmFsaWQnKSxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBkZXRlcm1pbmVTdGVwOiB7XG4gICAgICAgICAgYWx3YXlzOiBbe1xuICAgICAgICAgICAgdGFyZ2V0OiAnI3ZhbGlkLmxhc3RTdGVwJyxcbiAgICAgICAgICAgIGNvbmQ6ICdpc0xhc3RTdGVwJ1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRhcmdldDogJyN2YWxpZC5oYXNOZXh0U3RlcCdcbiAgICAgICAgICB9XVxuICAgICAgICB9LFxuICAgICAgICBoYXNOZXh0U3RlcDoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBuZXh0OiB7XG4gICAgICAgICAgICAgIHRhcmdldDogJyNjb25maWd1cmF0b3IuY29uZmlndXJpbmcnLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBbJ25leHRTdGVwJywgJ2NoYW5nZWRTdGVwJ11cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGxhc3RTdGVwOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIG5leHQ6ICcjY29uZmlndXJhdG9yLmNvbmZpZ3VyZWQnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjb25maWd1cmVkOiB7XG4gICAgICB0eXBlOiAnZmluYWwnLFxuICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShfcmVmMikge1xuICAgICAgICB2YXIgY29uZmlndXJhdGlvbiA9IF9yZWYyLmNvbmZpZ3VyYXRpb247XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY29uZmlndXJhdGlvbjogY29uZmlndXJhdGlvblxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgb246IHtcbiAgICBjaGFuZ2U6IHtcbiAgICAgIHRhcmdldDogJ2NvbmZpZ3VyaW5nJyxcbiAgICAgIGFjdGlvbnM6ICdjaGFuZ2UnXG4gICAgfSxcbiAgICBwcmV2OiB7XG4gICAgICB0YXJnZXQ6ICdjb25maWd1cmluZycsXG4gICAgICBhY3Rpb25zOiBbJ3ByZXZTdGVwJywgJ2NoYW5nZWRTdGVwJ11cbiAgICB9XG4gIH1cbn0sIHtcbiAgYWN0aW9uczoge1xuICAgIG5leHRTdGVwOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhY3RpdmVTdGVwOiBNYXRoLm1pbihjb250ZXh0LmFjdGl2ZVN0ZXAgKyAxLCBjb250ZXh0LnN0ZXBzLmxlbmd0aCAtIDEpLFxuICAgICAgICBpc0FjdGl2ZVN0ZXBWYWxpZDogZmFsc2VcbiAgICAgIH07XG4gICAgfSksXG4gICAgcHJldlN0ZXA6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFjdGl2ZVN0ZXA6IE1hdGgubWF4KGNvbnRleHQuYWN0aXZlU3RlcCAtIDEsIDApLFxuICAgICAgICBpc0FjdGl2ZVN0ZXBWYWxpZDogZmFsc2VcbiAgICAgIH07XG4gICAgfSksXG4gICAgY2hhbmdlOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfLCBldmVudCkge1xuICAgICAgcmV0dXJuIGV2ZW50LnR5cGUgPT09ICdjaGFuZ2UnID8ge1xuICAgICAgICBjb25maWd1cmF0aW9uOiBldmVudC5jb25maWd1cmF0aW9uLFxuICAgICAgICBpc0FjdGl2ZVN0ZXBWYWxpZDogZXZlbnQuaXNWYWxpZFxuICAgICAgfSA6IHt9O1xuICAgIH0pLFxuICAgIGNoYW5nZWRTdGVwOiAvKiNfX1BVUkVfXyovc2VuZFBhcmVudCQxKGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnY2hhbmdlZFN0ZXAnLFxuICAgICAgICBzdGVwOiBjb250ZXh0LmFjdGl2ZVN0ZXBcbiAgICAgIH07XG4gICAgfSlcbiAgfSxcbiAgZ3VhcmRzOiB7XG4gICAgaXNMYXN0U3RlcDogZnVuY3Rpb24gaXNMYXN0U3RlcChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dC5hY3RpdmVTdGVwID09PSBjb250ZXh0LnN0ZXBzLmxlbmd0aCAtIDE7XG4gICAgfSxcbiAgICBhY3RpdmVTdGVwVmFsaWQ6IGZ1bmN0aW9uIGFjdGl2ZVN0ZXBWYWxpZChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dC5pc0FjdGl2ZVN0ZXBWYWxpZDtcbiAgICB9XG4gIH1cbn0pO1xuXG52YXIgZmV0Y2hDb25uZWN0b3JUeXBlcyA9IGZ1bmN0aW9uIGZldGNoQ29ubmVjdG9yVHlwZXMoYWNjZXNzVG9rZW4sIGJhc2VQYXRoKSB7XG4gIHZhciBhcGlzU2VydmljZSA9IG5ldyBDb25uZWN0b3JUeXBlc0FwaShuZXcgQ29uZmlndXJhdGlvbih7XG4gICAgYWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuLFxuICAgIGJhc2VQYXRoOiBiYXNlUGF0aFxuICB9KSk7XG4gIHJldHVybiBhcGlzU2VydmljZS5saXN0Q29ubmVjdG9yVHlwZXMoKTtcbn07XG5cbnZhciBjb25uZWN0b3JUeXBlc01hY2hpbmVTY2hlbWEgPSB7XG4gIGNvbnRleHQ6IC8qI19fUFVSRV9fKi9jcmVhdGVTY2hlbWEoKVxufTtcbnZhciBjb25uZWN0b3JUeXBlc01hY2hpbmUgPSAvKiNfX1BVUkVfXyovY3JlYXRlTWFjaGluZSh7XG4gIHNjaGVtYTogY29ubmVjdG9yVHlwZXNNYWNoaW5lU2NoZW1hLFxuICBpZDogJ2Nvbm5lY3RvcnMnLFxuICBpbml0aWFsOiAnbG9hZGluZycsXG4gIHN0YXRlczoge1xuICAgIGxvYWRpbmc6IHtcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ2ZldGNoQ29ubmVjdG9ycycsXG4gICAgICAgIHNyYzogZnVuY3Rpb24gc3JjKGNvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm4gZmV0Y2hDb25uZWN0b3JUeXBlcyhjb250ZXh0LmFjY2Vzc1Rva2VuLCBjb250ZXh0LmJhc2VQYXRoKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovYXNzaWduKHtcbiAgICAgICAgICAgIGNvbm5lY3RvcnM6IGZ1bmN0aW9uIGNvbm5lY3RvcnMoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBldmVudC5kYXRhLmRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcjoge1xuICAgICAgICAgIHRhcmdldDogJ2ZhaWx1cmUnLFxuICAgICAgICAgIGFjdGlvbnM6IC8qI19fUFVSRV9fKi9hc3NpZ24oe1xuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBmYWlsdXJlOiB7XG4gICAgICBlbnRyeTogLyojX19QVVJFX18qL2VzY2FsYXRlKGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWVzc2FnZTogY29udGV4dC5lcnJvclxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICB9LFxuICAgIHZlcmlmeToge1xuICAgICAgYWx3YXlzOiBbe1xuICAgICAgICB0YXJnZXQ6ICdzZWxlY3RpbmcnLFxuICAgICAgICBjb25kOiAnbm9Db25uZWN0b3JTZWxlY3RlZCdcbiAgICAgIH0sIHtcbiAgICAgICAgdGFyZ2V0OiAndmFsaWQnLFxuICAgICAgICBjb25kOiAnY29ubmVjdG9yU2VsZWN0ZWQnXG4gICAgICB9XVxuICAgIH0sXG4gICAgc2VsZWN0aW5nOiB7XG4gICAgICBlbnRyeTogLyojX19QVVJFX18qL3NlbmRQYXJlbnQkMSgnaXNJbnZhbGlkJyksXG4gICAgICBvbjoge1xuICAgICAgICBzZWxlY3RDb25uZWN0b3I6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgICAgYWN0aW9uczogJ3NlbGVjdENvbm5lY3RvcicsXG4gICAgICAgICAgY29uZDogZnVuY3Rpb24gY29uZChfLCBldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50LnNlbGVjdGVkQ29ubmVjdG9yICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB2YWxpZDoge1xuICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50JDEoJ2lzVmFsaWQnKSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHNlbGVjdENvbm5lY3Rvcjoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogJ3NlbGVjdENvbm5lY3RvcidcbiAgICAgICAgfSxcbiAgICAgICAgZGVzZWxlY3RDb25uZWN0b3I6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgIGFjdGlvbnM6ICdyZXNldCdcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlybToge1xuICAgICAgICAgIHRhcmdldDogJ2RvbmUnLFxuICAgICAgICAgIGNvbmQ6ICdjb25uZWN0b3JTZWxlY3RlZCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZG9uZToge1xuICAgICAgdHlwZTogJ2ZpbmFsJyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc2VsZWN0ZWRDb25uZWN0b3I6IGZ1bmN0aW9uIHNlbGVjdGVkQ29ubmVjdG9yKGNvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZENvbm5lY3RvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufSwge1xuICBhY3Rpb25zOiB7XG4gICAgc2VsZWN0Q29ubmVjdG9yOiAvKiNfX1BVUkVfXyovYXNzaWduKHtcbiAgICAgIHNlbGVjdGVkQ29ubmVjdG9yOiBmdW5jdGlvbiBzZWxlY3RlZENvbm5lY3Rvcihjb250ZXh0LCBldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3NlbGVjdENvbm5lY3RvcicpIHtcbiAgICAgICAgICB2YXIgX2NvbnRleHQkY29ubmVjdG9ycywgX2NvbnRleHQkY29ubmVjdG9ycyRpO1xuXG4gICAgICAgICAgcmV0dXJuIChfY29udGV4dCRjb25uZWN0b3JzID0gY29udGV4dC5jb25uZWN0b3JzKSA9PSBudWxsID8gdm9pZCAwIDogKF9jb250ZXh0JGNvbm5lY3RvcnMkaSA9IF9jb250ZXh0JGNvbm5lY3RvcnMuaXRlbXMpID09IG51bGwgPyB2b2lkIDAgOiBfY29udGV4dCRjb25uZWN0b3JzJGkuZmluZChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuIGkuaWQgPT09IGV2ZW50LnNlbGVjdGVkQ29ubmVjdG9yO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3I7XG4gICAgICB9XG4gICAgfSksXG4gICAgcmVzZXQ6IC8qI19fUFVSRV9fKi9hc3NpZ24oe1xuICAgICAgc2VsZWN0ZWRDb25uZWN0b3I6IGZ1bmN0aW9uIHNlbGVjdGVkQ29ubmVjdG9yKGNvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBldmVudC50eXBlID09PSAnZGVzZWxlY3RDb25uZWN0b3InID8gdW5kZWZpbmVkIDogY29udGV4dC5zZWxlY3RlZENvbm5lY3RvcjtcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuICBndWFyZHM6IHtcbiAgICBjb25uZWN0b3JTZWxlY3RlZDogZnVuY3Rpb24gY29ubmVjdG9yU2VsZWN0ZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3IgIT09IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIG5vQ29ubmVjdG9yU2VsZWN0ZWQ6IGZ1bmN0aW9uIG5vQ29ubmVjdG9yU2VsZWN0ZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3IgPT09IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn0pO1xuXG52YXIgUEFHSU5BVEVEX01BQ0hJTkVfSUQkMiA9ICdwYWdpbmF0ZWRBcGknO1xuXG52YXIgZmV0Y2hLYWZrYUluc3RhbmNlcyA9IGZ1bmN0aW9uIGZldGNoS2Fma2FJbnN0YW5jZXMoYWNjZXNzVG9rZW4sIGJhc2VQYXRoKSB7XG4gIHZhciBhcGlzU2VydmljZSA9IG5ldyBEZWZhdWx0QXBpKG5ldyBDb25maWd1cmF0aW9uKHtcbiAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXG4gICAgYmFzZVBhdGg6IGJhc2VQYXRoXG4gIH0pKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChyZXF1ZXN0LCBvblN1Y2Nlc3MsIG9uRXJyb3IpIHtcbiAgICB2YXIgQ2FuY2VsVG9rZW4gPSBheGlvcy5DYW5jZWxUb2tlbjtcbiAgICB2YXIgc291cmNlID0gQ2FuY2VsVG9rZW4uc291cmNlKCk7XG4gICAgdmFyIHBhZ2UgPSByZXF1ZXN0LnBhZ2UsXG4gICAgICAgIHNpemUgPSByZXF1ZXN0LnNpemUsXG4gICAgICAgIHF1ZXJ5ID0gcmVxdWVzdC5xdWVyeTtcblxuICAgIHZhciBfcmVmID0gcXVlcnkgfHwge30sXG4gICAgICAgIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICAgIHN0YXR1c2VzID0gX3JlZi5zdGF0dXNlcztcblxuICAgIHZhciBuYW1lU2VhcmNoID0gbmFtZSAmJiBuYW1lLmxlbmd0aCA+IDAgPyBcIiBuYW1lIExJS0UgXCIgKyBuYW1lIDogdW5kZWZpbmVkO1xuICAgIHZhciBzdGF0dXNTZWFyY2ggPSBzdGF0dXNlcyAmJiBzdGF0dXNlcy5sZW5ndGggPiAwID8gc3RhdHVzZXMubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICByZXR1cm4gXCJzdGF0dXMgPSBcIiArIHM7XG4gICAgfSkuam9pbignIE9SICcpIDogdW5kZWZpbmVkO1xuICAgIHZhciBzZWFyY2ggPSBbbmFtZVNlYXJjaCwgc3RhdHVzU2VhcmNoXS5maWx0ZXIoQm9vbGVhbikuam9pbignIEFORCAnKTtcbiAgICBhcGlzU2VydmljZS5nZXRLYWZrYXMoXCJcIiArIHBhZ2UsIFwiXCIgKyBzaXplLCB1bmRlZmluZWQsIHNlYXJjaCwge1xuICAgICAgY2FuY2VsVG9rZW46IHNvdXJjZS50b2tlblxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBvblN1Y2Nlc3Moe1xuICAgICAgICBpdGVtczogcmVzcG9uc2UuZGF0YS5pdGVtcyxcbiAgICAgICAgdG90YWw6IHJlc3BvbnNlLmRhdGEudG90YWwsXG4gICAgICAgIHBhZ2U6IHJlc3BvbnNlLmRhdGEucGFnZSxcbiAgICAgICAgc2l6ZTogcmVzcG9uc2UuZGF0YS5zaXplXG4gICAgICB9KTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKCFheGlvcy5pc0NhbmNlbChlcnJvcikpIHtcbiAgICAgICAgb25FcnJvcih7XG4gICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgcGFnZTogcmVxdWVzdC5wYWdlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBzb3VyY2UuY2FuY2VsKCdPcGVyYXRpb24gY2FuY2VsZWQgYnkgdGhlIHVzZXIuJyk7XG4gICAgfTtcbiAgfTtcbn07XG5cbnZhciBrYWZrYXNNYWNoaW5lU2NoZW1hID0ge1xuICBjb250ZXh0OiAvKiNfX1BVUkVfXyovY3JlYXRlU2NoZW1hKClcbn07XG52YXIga2Fma2FzTWFjaGluZU1vZGVsID0gLyojX19QVVJFX18qL2NyZWF0ZU1vZGVsKHtcbiAgYWNjZXNzVG9rZW46IGZ1bmN0aW9uIGFjY2Vzc1Rva2VuKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJycpO1xuICB9LFxuICBiYXNlUGF0aDogJycsXG4gIGluc3RhbmNlczogdW5kZWZpbmVkLFxuICBzZWxlY3RlZEluc3RhbmNlOiB1bmRlZmluZWQsXG4gIGVycm9yOiB1bmRlZmluZWRcbn0sIHtcbiAgZXZlbnRzOiAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe1xuICAgIHNlbGVjdEluc3RhbmNlOiBmdW5jdGlvbiBzZWxlY3RJbnN0YW5jZShwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHBheWxvYWQpO1xuICAgIH0sXG4gICAgZGVzZWxlY3RJbnN0YW5jZTogZnVuY3Rpb24gZGVzZWxlY3RJbnN0YW5jZSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0oKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9LCAvKiNfX1BVUkVfXyovZ2V0UGFnaW5hdGVkQXBpTWFjaGluZUV2ZW50cygpKVxufSk7XG52YXIga2Fma2FzTWFjaGluZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVNYWNoaW5lKHtcbiAgc2NoZW1hOiBrYWZrYXNNYWNoaW5lU2NoZW1hLFxuICBpZDogJ2thZmthcycsXG4gIGluaXRpYWw6ICdyb290JyxcbiAgY29udGV4dDoga2Fma2FzTWFjaGluZU1vZGVsLmluaXRpYWxDb250ZXh0LFxuICBzdGF0ZXM6IHtcbiAgICByb290OiB7XG4gICAgICB0eXBlOiAncGFyYWxsZWwnLFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGFwaToge1xuICAgICAgICAgIGluaXRpYWw6ICdpZGxlJyxcbiAgICAgICAgICBpbnZva2U6IHtcbiAgICAgICAgICAgIGlkOiBQQUdJTkFURURfTUFDSElORV9JRCQyLFxuICAgICAgICAgICAgc3JjOiBmdW5jdGlvbiBzcmMoY29udGV4dCkge1xuICAgICAgICAgICAgICByZXR1cm4gbWFrZVBhZ2luYXRlZEFwaU1hY2hpbmUoZmV0Y2hLYWZrYUluc3RhbmNlcyhjb250ZXh0LmFjY2Vzc1Rva2VuLCBjb250ZXh0LmJhc2VQYXRoKSwgZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdGF0ZXM6IHtcbiAgICAgICAgICAgIGlkbGU6IHtcbiAgICAgICAgICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kJDEoJ3F1ZXJ5Jywge1xuICAgICAgICAgICAgICAgIHRvOiBQQUdJTkFURURfTUFDSElORV9JRCQyXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgIHJlYWR5OiAncmVhZHknXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWFkeToge31cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uOiAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9nZXRQYWdpbmF0ZWRBcGlNYWNoaW5lRXZlbnRzSGFuZGxlcnMoUEFHSU5BVEVEX01BQ0hJTkVfSUQkMiksIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogJ3N1Y2Nlc3MnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0aW9uOiB7XG4gICAgICAgICAgaWQ6ICdzZWxlY3Rpb24nLFxuICAgICAgICAgIGluaXRpYWw6ICd2ZXJpZnknLFxuICAgICAgICAgIHN0YXRlczoge1xuICAgICAgICAgICAgdmVyaWZ5OiB7XG4gICAgICAgICAgICAgIGFsd2F5czogW3tcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdzZWxlY3RpbmcnLFxuICAgICAgICAgICAgICAgIGNvbmQ6ICdub0luc3RhbmNlU2VsZWN0ZWQnXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgICAgICAgICAgY29uZDogJ2luc3RhbmNlU2VsZWN0ZWQnXG4gICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VsZWN0aW5nOiB7XG4gICAgICAgICAgICAgIGVudHJ5OiAvKiNfX1BVUkVfXyovc2VuZFBhcmVudCgnaXNJbnZhbGlkJyksXG4gICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0SW5zdGFuY2U6IHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogJ3ZhbGlkJyxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdzZWxlY3RJbnN0YW5jZSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2YWxpZDoge1xuICAgICAgICAgICAgICBlbnRyeTogLyojX19QVVJFX18qL3NlbmRQYXJlbnQoJ2lzVmFsaWQnKSxcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICBzZWxlY3RJbnN0YW5jZToge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnM6ICdzZWxlY3RJbnN0YW5jZScsXG4gICAgICAgICAgICAgICAgICBjb25kOiBmdW5jdGlvbiBjb25kKF8sIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudC5zZWxlY3RlZEluc3RhbmNlICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZXNlbGVjdEluc3RhbmNlOiB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uczogJ3Jlc2V0J1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29uZmlybToge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAnI2RvbmUnLFxuICAgICAgICAgICAgICAgICAgY29uZDogJ2luc3RhbmNlU2VsZWN0ZWQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkb25lOiB7XG4gICAgICBpZDogJ2RvbmUnLFxuICAgICAgdHlwZTogJ2ZpbmFsJyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc2VsZWN0ZWRJbnN0YW5jZTogZnVuY3Rpb24gc2VsZWN0ZWRJbnN0YW5jZShjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRJbnN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufSwge1xuICBhY3Rpb25zOiB7XG4gICAgc3VjY2VzczogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudHlwZSAhPT0gJ3N1Y2Nlc3MnKSByZXR1cm4ge307XG5cbiAgICAgIHZhciByZXNwb25zZSA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKGV2ZW50LCBbXCJ0eXBlXCJdKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlXG4gICAgICB9O1xuICAgIH0pLFxuICAgIHNlbGVjdEluc3RhbmNlOiAvKiNfX1BVUkVfXyovYXNzaWduKHtcbiAgICAgIHNlbGVjdGVkSW5zdGFuY2U6IGZ1bmN0aW9uIHNlbGVjdGVkSW5zdGFuY2UoY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdzZWxlY3RJbnN0YW5jZScpIHtcbiAgICAgICAgICB2YXIgX2NvbnRleHQkcmVzcG9uc2UsIF9jb250ZXh0JHJlc3BvbnNlJGl0ZTtcblxuICAgICAgICAgIHJldHVybiAoX2NvbnRleHQkcmVzcG9uc2UgPSBjb250ZXh0LnJlc3BvbnNlKSA9PSBudWxsID8gdm9pZCAwIDogKF9jb250ZXh0JHJlc3BvbnNlJGl0ZSA9IF9jb250ZXh0JHJlc3BvbnNlLml0ZW1zKSA9PSBudWxsID8gdm9pZCAwIDogX2NvbnRleHQkcmVzcG9uc2UkaXRlLmZpbmQoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHJldHVybiBpLmlkID09PSBldmVudC5zZWxlY3RlZEluc3RhbmNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRJbnN0YW5jZTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICByZXNldDogLyojX19QVVJFX18qL2Fzc2lnbih7XG4gICAgICBzZWxlY3RlZEluc3RhbmNlOiBmdW5jdGlvbiBzZWxlY3RlZEluc3RhbmNlKGNvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBldmVudC50eXBlID09PSAnZGVzZWxlY3RJbnN0YW5jZScgPyB1bmRlZmluZWQgOiBjb250ZXh0LnNlbGVjdGVkSW5zdGFuY2U7XG4gICAgICB9XG4gICAgfSlcbiAgfSxcbiAgZ3VhcmRzOiB7XG4gICAgaW5zdGFuY2VTZWxlY3RlZDogZnVuY3Rpb24gaW5zdGFuY2VTZWxlY3RlZChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZEluc3RhbmNlICE9PSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBub0luc3RhbmNlU2VsZWN0ZWQ6IGZ1bmN0aW9uIG5vSW5zdGFuY2VTZWxlY3RlZChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZEluc3RhbmNlID09PSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG59KTtcbnZhciB1c2VLYWZrYXNNYWNoaW5lSXNSZWFkeSA9IGZ1bmN0aW9uIHVzZUthZmthc01hY2hpbmVJc1JlYWR5KGFjdG9yKSB7XG4gIHJldHVybiB1c2VTZWxlY3RvcihhY3RvciwgdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLm1hdGNoZXMoe1xuICAgICAgcm9vdDoge1xuICAgICAgICBhcGk6ICdyZWFkeSdcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW2FjdG9yXSkpO1xufTtcbnZhciB1c2VLYWZrYXNNYWNoaW5lID0gZnVuY3Rpb24gdXNlS2Fma2FzTWFjaGluZShhY3Rvcikge1xuICB2YXIgYXBpID0gdXNlUGFnaW5hdGlvbihhY3Rvci5zdGF0ZS5jaGlsZHJlbltQQUdJTkFURURfTUFDSElORV9JRCQyXSk7XG5cbiAgdmFyIF91c2VTZWxlY3RvciA9IHVzZVNlbGVjdG9yKGFjdG9yLCB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICB2YXIgX3N0YXRlJGNvbnRleHQkc2VsZWN0O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbGVjdGVkSWQ6IChfc3RhdGUkY29udGV4dCRzZWxlY3QgPSBzdGF0ZS5jb250ZXh0LnNlbGVjdGVkSW5zdGFuY2UpID09IG51bGwgPyB2b2lkIDAgOiBfc3RhdGUkY29udGV4dCRzZWxlY3QuaWRcbiAgICB9O1xuICB9LCBbYWN0b3JdKSksXG4gICAgICBzZWxlY3RlZElkID0gX3VzZVNlbGVjdG9yLnNlbGVjdGVkSWQ7XG5cbiAgdmFyIG9uU2VsZWN0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHNlbGVjdGVkSW5zdGFuY2UpIHtcbiAgICBhY3Rvci5zZW5kKHtcbiAgICAgIHR5cGU6ICdzZWxlY3RJbnN0YW5jZScsXG4gICAgICBzZWxlY3RlZEluc3RhbmNlOiBzZWxlY3RlZEluc3RhbmNlXG4gICAgfSk7XG4gIH0sIFthY3Rvcl0pO1xuICB2YXIgb25RdWVyeSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgYWN0b3Iuc2VuZChfZXh0ZW5kcyh7XG4gICAgICB0eXBlOiAncXVlcnknXG4gICAgfSwgcmVxdWVzdCkpO1xuICB9LCBbYWN0b3JdKTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBhcGksIHtcbiAgICBzZWxlY3RlZElkOiBzZWxlY3RlZElkLFxuICAgIG9uU2VsZWN0OiBvblNlbGVjdCxcbiAgICBvblF1ZXJ5OiBvblF1ZXJ5XG4gIH0pO1xufTtcblxudmFyIHNhdmVDb25uZWN0b3IgPSBmdW5jdGlvbiBzYXZlQ29ubmVjdG9yKF9yZWYpIHtcbiAgdmFyIGFjY2Vzc1Rva2VuID0gX3JlZi5hY2Nlc3NUb2tlbixcbiAgICAgIGJhc2VQYXRoID0gX3JlZi5iYXNlUGF0aCxcbiAgICAgIGthZmthID0gX3JlZi5rYWZrYSxcbiAgICAgIGNsdXN0ZXIgPSBfcmVmLmNsdXN0ZXIsXG4gICAgICBjb25uZWN0b3JUeXBlID0gX3JlZi5jb25uZWN0b3JUeXBlLFxuICAgICAgY29uZmlndXJhdGlvbiA9IF9yZWYuY29uZmlndXJhdGlvbixcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICB1c2VyU2VydmljZUFjY291bnQgPSBfcmVmLnVzZXJTZXJ2aWNlQWNjb3VudDtcbiAgdmFyIGFwaXNTZXJ2aWNlID0gbmV3IENvbm5lY3RvcnNBcGkobmV3IENvbmZpZ3VyYXRpb24oe1xuICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICBiYXNlUGF0aDogYmFzZVBhdGhcbiAgfSkpO1xuICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIENhbmNlbFRva2VuID0gYXhpb3MuQ2FuY2VsVG9rZW47XG4gICAgdmFyIHNvdXJjZSA9IENhbmNlbFRva2VuLnNvdXJjZSgpO1xuICAgIHZhciBhc3luYyA9IHRydWU7XG4gICAgdmFyIGNvbm5lY3RvciA9IHtcbiAgICAgIGtpbmQ6ICdDb25uZWN0b3InLFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAga2Fma2FfaWQ6IGthZmthLmlkXG4gICAgICB9LFxuICAgICAgZGVwbG95bWVudF9sb2NhdGlvbjoge1xuICAgICAgICBraW5kOiAnYWRkb24nLFxuICAgICAgICBjbHVzdGVyX2lkOiBjbHVzdGVyLmlkXG4gICAgICB9LFxuICAgICAgY29ubmVjdG9yX3R5cGVfaWQ6IGNvbm5lY3RvclR5cGUuaWQsXG4gICAgICBrYWZrYToge1xuICAgICAgICBib290c3RyYXBfc2VydmVyOiBrYWZrYS5ib290c3RyYXBfc2VydmVyX2hvc3QgfHwgJ2RlbW8nLFxuICAgICAgICBjbGllbnRfaWQ6IHVzZXJTZXJ2aWNlQWNjb3VudCA9PSBudWxsID8gdm9pZCAwIDogdXNlclNlcnZpY2VBY2NvdW50LmNsaWVudElkLFxuICAgICAgICBjbGllbnRfc2VjcmV0OiB1c2VyU2VydmljZUFjY291bnQgPT0gbnVsbCA/IHZvaWQgMCA6IHVzZXJTZXJ2aWNlQWNjb3VudC5jbGllbnRTZWNyZXRcbiAgICAgIH0sXG4gICAgICBjb25uZWN0b3Jfc3BlYzogY29uZmlndXJhdGlvblxuICAgIH07XG4gICAgYXBpc1NlcnZpY2UuY3JlYXRlQ29ubmVjdG9yKGFzeW5jLCBjb25uZWN0b3IsIHtcbiAgICAgIGNhbmNlbFRva2VuOiBzb3VyY2UudG9rZW5cbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnXG4gICAgICB9KTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKCFheGlvcy5pc0NhbmNlbChlcnJvcikpIHtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgIHR5cGU6ICdmYWlsdXJlJyxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvci5yZXNwb25zZS5kYXRhLnJlYXNvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgc291cmNlLmNhbmNlbCgnT3BlcmF0aW9uIGNhbmNlbGVkIGJ5IHRoZSB1c2VyLicpO1xuICAgIH07XG4gIH07XG59O1xuXG52YXIgcmV2aWV3TWFjaGluZVNjaGVtYSA9IHtcbiAgY29udGV4dDogLyojX19QVVJFX18qL2NyZWF0ZVNjaGVtYSgpXG59O1xudmFyIHJldmlld01hY2hpbmVNb2RlbCA9IC8qI19fUFVSRV9fKi9jcmVhdGVNb2RlbCh7XG4gIGluaXRpYWxDb25maWd1cmF0aW9uOiB1bmRlZmluZWQsXG4gIGNvbmZpZ1N0cmluZzogJycsXG4gIG5hbWU6ICcnLFxuICB2YWxpZGF0b3I6IC8qI19fUFVSRV9fKi9jcmVhdGVWYWxpZGF0b3Ioe30pXG59LCB7XG4gIGV2ZW50czoge1xuICAgIHNldE5hbWU6IGZ1bmN0aW9uIHNldE5hbWUocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSxcbiAgICBzZXRTZXJ2aWNlQWNjb3VudDogZnVuY3Rpb24gc2V0U2VydmljZUFjY291bnQocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSxcbiAgICB1cGRhdGVDb25maWd1cmF0aW9uOiBmdW5jdGlvbiB1cGRhdGVDb25maWd1cmF0aW9uKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0sXG4gICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBmYWlsdXJlOiBmdW5jdGlvbiBmYWlsdXJlKHBheWxvYWQpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH1cbiAgfVxufSk7XG52YXIgcmV2aWV3TWFjaGluZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVNYWNoaW5lKHtcbiAgc2NoZW1hOiByZXZpZXdNYWNoaW5lU2NoZW1hLFxuICBpZDogJ3JldmlldycsXG4gIGluaXRpYWw6ICd2ZXJpZnknLFxuICBjb250ZXh0OiByZXZpZXdNYWNoaW5lTW9kZWwuaW5pdGlhbENvbnRleHQsXG4gIGVudHJ5OiAnaW5pdGlhbGl6ZScsXG4gIHN0YXRlczoge1xuICAgIHZlcmlmeToge1xuICAgICAgZW50cnk6ICd2ZXJpZnlDb25maWdTdHJpbmcnLFxuICAgICAgYWx3YXlzOiBbe1xuICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgIGNvbmQ6ICdpc0FsbENvbmZpZ3VyZWQnXG4gICAgICB9LCB7XG4gICAgICAgIHRhcmdldDogJ3Jldmlld2luZydcbiAgICAgIH1dXG4gICAgfSxcbiAgICByZXZpZXdpbmc6IHtcbiAgICAgIGVudHJ5OiAvKiNfX1BVUkVfXyovc2VuZFBhcmVudCQxKCdpc0ludmFsaWQnKSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHNldE5hbWU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgIGFjdGlvbnM6ICdzZXROYW1lJ1xuICAgICAgICB9LFxuICAgICAgICBzZXRTZXJ2aWNlQWNjb3VudDoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogJ3NldFNlcnZpY2VBY2NvdW50J1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVDb25maWd1cmF0aW9uOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiAndXBkYXRlQ29uZmlndXJhdGlvbidcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgdmFsaWQ6IHtcbiAgICAgIGlkOiAndmFsaWQnLFxuICAgICAgZW50cnk6IC8qI19fUFVSRV9fKi9zZW5kUGFyZW50JDEoJ2lzVmFsaWQnKSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHNldE5hbWU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2ZXJpZnknLFxuICAgICAgICAgIGFjdGlvbnM6ICdzZXROYW1lJ1xuICAgICAgICB9LFxuICAgICAgICBzZXRTZXJ2aWNlQWNjb3VudDoge1xuICAgICAgICAgIHRhcmdldDogJ3ZlcmlmeScsXG4gICAgICAgICAgYWN0aW9uczogJ3NldFNlcnZpY2VBY2NvdW50J1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVDb25maWd1cmF0aW9uOiB7XG4gICAgICAgICAgdGFyZ2V0OiAndmVyaWZ5JyxcbiAgICAgICAgICBhY3Rpb25zOiAndXBkYXRlQ29uZmlndXJhdGlvbidcbiAgICAgICAgfSxcbiAgICAgICAgc2F2ZTogJ3NhdmluZydcbiAgICAgIH1cbiAgICB9LFxuICAgIHNhdmluZzoge1xuICAgICAgaW52b2tlOiB7XG4gICAgICAgIHNyYzogZnVuY3Rpb24gc3JjKGNvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm4gc2F2ZUNvbm5lY3Rvcih7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY29udGV4dC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VQYXRoOiBjb250ZXh0LmJhc2VQYXRoLFxuICAgICAgICAgICAga2Fma2E6IGNvbnRleHQua2Fma2EsXG4gICAgICAgICAgICBjbHVzdGVyOiBjb250ZXh0LmNsdXN0ZXIsXG4gICAgICAgICAgICBjb25uZWN0b3JUeXBlOiBjb250ZXh0LmNvbm5lY3RvclR5cGUsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uOiBKU09OLnBhcnNlKGNvbnRleHQuY29uZmlnU3RyaW5nKSxcbiAgICAgICAgICAgIG5hbWU6IGNvbnRleHQubmFtZSxcbiAgICAgICAgICAgIHVzZXJTZXJ2aWNlQWNjb3VudDogY29udGV4dC51c2VyU2VydmljZUFjY291bnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHN1Y2Nlc3M6ICdzYXZlZCcsXG4gICAgICAgIGZhaWx1cmU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICd2YWxpZCcsXG4gICAgICAgICAgYWN0aW9uczogJ3NldFNhdmluZ0Vycm9yJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGFnczogWydzYXZpbmcnXVxuICAgIH0sXG4gICAgc2F2ZWQ6IHtcbiAgICAgIHR5cGU6ICdmaW5hbCdcbiAgICB9XG4gIH1cbn0sIHtcbiAgYWN0aW9uczoge1xuICAgIGluaXRpYWxpemU6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbmZpZ1N0cmluZzogZGF0YVRvUHJldHR5U3RyaW5nKGNvbnRleHQuaW5pdGlhbENvbmZpZ3VyYXRpb24pLFxuICAgICAgICB2YWxpZGF0b3I6IGNyZWF0ZVZhbGlkYXRvcihjb250ZXh0LmNvbm5lY3RvclR5cGUuanNvbl9zY2hlbWEpXG4gICAgICB9O1xuICAgIH0pLFxuICAgIHNldE5hbWU6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF8sIGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQudHlwZSA9PT0gJ3NldE5hbWUnID8ge1xuICAgICAgICBuYW1lOiBldmVudC5uYW1lXG4gICAgICB9IDoge307XG4gICAgfSksXG4gICAgc2V0U2VydmljZUFjY291bnQ6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF8sIGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQudHlwZSA9PT0gJ3NldFNlcnZpY2VBY2NvdW50JyA/IHtcbiAgICAgICAgdXNlclNlcnZpY2VBY2NvdW50OiBldmVudC5zZXJ2aWNlQWNjb3VudFxuICAgICAgfSA6IHt9O1xuICAgIH0pLFxuICAgIHVwZGF0ZUNvbmZpZ3VyYXRpb246IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF8sIGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQudHlwZSA9PT0gJ3VwZGF0ZUNvbmZpZ3VyYXRpb24nID8ge1xuICAgICAgICBjb25maWdTdHJpbmc6IGV2ZW50LmRhdGFcbiAgICAgIH0gOiB7fTtcbiAgICB9KSxcbiAgICB2ZXJpZnlDb25maWdTdHJpbmc6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIHZhciBfdmVyaWZ5RGF0YSA9IHZlcmlmeURhdGEoY29udGV4dC5jb25maWdTdHJpbmcsIGNvbnRleHQudmFsaWRhdG9yKSxcbiAgICAgICAgICB3YXJuaW5ncyA9IF92ZXJpZnlEYXRhLndhcm5pbmdzLFxuICAgICAgICAgIGVycm9yID0gX3ZlcmlmeURhdGEuZXJyb3I7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbmZpZ1N0cmluZ1dhcm5pbmdzOiB3YXJuaW5ncyxcbiAgICAgICAgY29uZmlnU3RyaW5nRXJyb3I6IGVycm9yXG4gICAgICB9O1xuICAgIH0pLFxuICAgIHNldFNhdmluZ0Vycm9yOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfLCBldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdmYWlsdXJlJykgcmV0dXJuIHt9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2F2aW5nRXJyb3I6IGV2ZW50Lm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfSlcbiAgfSxcbiAgZ3VhcmRzOiB7XG4gICAgaXNBbGxDb25maWd1cmVkOiBmdW5jdGlvbiBpc0FsbENvbmZpZ3VyZWQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuY29uZmlnU3RyaW5nICE9PSB1bmRlZmluZWQgJiYgY29udGV4dC5jb25maWdTdHJpbmdFcnJvciA9PT0gdW5kZWZpbmVkICYmIGNvbnRleHQubmFtZS5sZW5ndGggPiAwO1xuICAgIH1cbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGRhdGFUb1ByZXR0eVN0cmluZyhkYXRhKSB7XG4gIHZhciBkYXRhVmFsID0gZGF0YSBpbnN0YW5jZW9mIE1hcCA/IG1hcFRvT2JqZWN0KGRhdGEpIDogZGF0YTtcblxuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhVmFsLCBudWxsLCAyKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXBUb09iamVjdChpbnB1dE1hcCkge1xuICB2YXIgb2JqID0ge307XG4gIGlucHV0TWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gdmVyaWZ5RGF0YShkYXRhLCB2YWxpZGF0b3IpIHtcbiAgdHJ5IHtcbiAgICB2YXIgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgdmFyIHZhbGlkYXRpb25SZXN1bHQgPSB2YWxpZGF0b3IocGFyc2VkRGF0YSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdhcm5pbmdzOiB2YWxpZGF0aW9uUmVzdWx0ID8gdmFsaWRhdGlvblJlc3VsdC5kZXRhaWxzLm1hcChmdW5jdGlvbiAoZCkge1xuICAgICAgICByZXR1cm4gZC5pbnN0YW5jZVBhdGggKyBcIiBcIiArIGQubWVzc2FnZTtcbiAgICAgIH0pIDogdW5kZWZpbmVkLFxuICAgICAgZXJyb3I6IHVuZGVmaW5lZFxuICAgIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2FybmluZ3M6IHVuZGVmaW5lZCxcbiAgICAgIGVycm9yOiBcIkludmFsaWQgSlNPTjogXCIgKyBlLm1lc3NhZ2VcbiAgICB9O1xuICB9XG59XG5cbnZhciB1c2VSZXZpZXdNYWNoaW5lID0gZnVuY3Rpb24gdXNlUmV2aWV3TWFjaGluZShhY3Rvcikge1xuICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoYWN0b3IsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBzdGF0ZS5jb250ZXh0Lm5hbWUsXG4gICAgICBzZXJ2aWNlQWNjb3VudDogc3RhdGUuY29udGV4dC51c2VyU2VydmljZUFjY291bnQsXG4gICAgICBjb25maWdTdHJpbmc6IHN0YXRlLmNvbnRleHQuY29uZmlnU3RyaW5nLFxuICAgICAgY29uZmlnU3RyaW5nRXJyb3I6IHN0YXRlLmNvbnRleHQuY29uZmlnU3RyaW5nRXJyb3IsXG4gICAgICBjb25maWdTdHJpbmdXYXJuaW5nczogc3RhdGUuY29udGV4dC5jb25maWdTdHJpbmdXYXJuaW5ncyxcbiAgICAgIGlzU2F2aW5nOiBzdGF0ZS5oYXNUYWcoJ3NhdmluZycpLFxuICAgICAgc2F2aW5nRXJyb3I6IHN0YXRlLmNvbnRleHQuc2F2aW5nRXJyb3JcbiAgICB9O1xuICB9LCBbYWN0b3JdKSksXG4gICAgICBuYW1lID0gX3VzZVNlbGVjdG9yLm5hbWUsXG4gICAgICBzZXJ2aWNlQWNjb3VudCA9IF91c2VTZWxlY3Rvci5zZXJ2aWNlQWNjb3VudCxcbiAgICAgIGNvbmZpZ1N0cmluZyA9IF91c2VTZWxlY3Rvci5jb25maWdTdHJpbmcsXG4gICAgICBjb25maWdTdHJpbmdFcnJvciA9IF91c2VTZWxlY3Rvci5jb25maWdTdHJpbmdFcnJvcixcbiAgICAgIGNvbmZpZ1N0cmluZ1dhcm5pbmdzID0gX3VzZVNlbGVjdG9yLmNvbmZpZ1N0cmluZ1dhcm5pbmdzLFxuICAgICAgaXNTYXZpbmcgPSBfdXNlU2VsZWN0b3IuaXNTYXZpbmcsXG4gICAgICBzYXZpbmdFcnJvciA9IF91c2VTZWxlY3Rvci5zYXZpbmdFcnJvcjtcblxuICB2YXIgb25TZXROYW1lID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBhY3Rvci5zZW5kKHtcbiAgICAgIHR5cGU6ICdzZXROYW1lJyxcbiAgICAgIG5hbWU6IG5hbWVcbiAgICB9KTtcbiAgfSwgW2FjdG9yXSk7XG4gIHZhciBvblNldFNlcnZpY2VBY2NvdW50ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHNlcnZpY2VBY2NvdW50KSB7XG4gICAgYWN0b3Iuc2VuZCh7XG4gICAgICB0eXBlOiAnc2V0U2VydmljZUFjY291bnQnLFxuICAgICAgc2VydmljZUFjY291bnQ6IHNlcnZpY2VBY2NvdW50XG4gICAgfSk7XG4gIH0sIFthY3Rvcl0pO1xuICB2YXIgb25VcGRhdGVDb25maWd1cmF0aW9uID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBhY3Rvci5zZW5kKHtcbiAgICAgIHR5cGU6ICd1cGRhdGVDb25maWd1cmF0aW9uJyxcbiAgICAgIGRhdGE6IGRhdGEgfHwgJydcbiAgICB9KTtcbiAgfSwgW2FjdG9yXSk7XG4gIHJldHVybiB7XG4gICAgbmFtZTogbmFtZSxcbiAgICBzZXJ2aWNlQWNjb3VudDogc2VydmljZUFjY291bnQsXG4gICAgY29uZmlnU3RyaW5nOiBjb25maWdTdHJpbmcsXG4gICAgY29uZmlnU3RyaW5nRXJyb3I6IGNvbmZpZ1N0cmluZ0Vycm9yLFxuICAgIGNvbmZpZ1N0cmluZ1dhcm5pbmdzOiBjb25maWdTdHJpbmdXYXJuaW5ncyxcbiAgICBpc1NhdmluZzogaXNTYXZpbmcsXG4gICAgc2F2aW5nRXJyb3I6IHNhdmluZ0Vycm9yLFxuICAgIG9uU2V0TmFtZTogb25TZXROYW1lLFxuICAgIG9uU2V0U2VydmljZUFjY291bnQ6IG9uU2V0U2VydmljZUFjY291bnQsXG4gICAgb25VcGRhdGVDb25maWd1cmF0aW9uOiBvblVwZGF0ZUNvbmZpZ3VyYXRpb25cbiAgfTtcbn07XG5cbnZhciBjcmVhdGlvbldpemFyZE1hY2hpbmVTY2hlbWEgPSB7XG4gIGNvbnRleHQ6IC8qI19fUFVSRV9fKi9jcmVhdGVTY2hlbWEoKVxufTtcbnZhciBjcmVhdGlvbldpemFyZE1hY2hpbmVNb2RlbCA9IC8qI19fUFVSRV9fKi9jcmVhdGVNb2RlbCh7fSwge1xuICBldmVudHM6IHtcbiAgICBpc1ZhbGlkOiBmdW5jdGlvbiBpc1ZhbGlkKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgaXNJbnZhbGlkOiBmdW5jdGlvbiBpc0ludmFsaWQoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBwcmV2OiBmdW5jdGlvbiBwcmV2KCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGNoYW5nZWRTdGVwOiBmdW5jdGlvbiBjaGFuZ2VkU3RlcChfcmVmKSB7XG4gICAgICB2YXIgc3RlcCA9IF9yZWYuc3RlcDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0ZXA6IHN0ZXBcbiAgICAgIH07XG4gICAgfSxcbiAgICBqdW1wVG9TZWxlY3RLYWZrYTogZnVuY3Rpb24ganVtcFRvU2VsZWN0S2Fma2EoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBqdW1wVG9TZWxlY3RDbHVzdGVyOiBmdW5jdGlvbiBqdW1wVG9TZWxlY3RDbHVzdGVyKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAganVtcFRvU2VsZWN0Q29ubmVjdG9yOiBmdW5jdGlvbiBqdW1wVG9TZWxlY3RDb25uZWN0b3IoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBqdW1wVG9Db25maWd1cmVDb25uZWN0b3I6IGZ1bmN0aW9uIGp1bXBUb0NvbmZpZ3VyZUNvbm5lY3RvcihfcmVmMikge1xuICAgICAgdmFyIHN1YlN0ZXAgPSBfcmVmMi5zdWJTdGVwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3ViU3RlcDogc3ViU3RlcFxuICAgICAgfTtcbiAgICB9LFxuICAgIGp1bXBUb1Jldmlld0NvbmZpZ3VyYXRpb246IGZ1bmN0aW9uIGp1bXBUb1Jldmlld0NvbmZpZ3VyYXRpb24oKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XG59KTtcbnZhciBjcmVhdGlvbldpemFyZE1hY2hpbmUgPSAvKiNfX1BVUkVfXyovY3JlYXRlTWFjaGluZSh7XG4gIHNjaGVtYTogY3JlYXRpb25XaXphcmRNYWNoaW5lU2NoZW1hLFxuICBpZDogJ2NyZWF0aW9uV2l6YXJkJyxcbiAgaW5pdGlhbDogJ3NlbGVjdENvbm5lY3RvcicsXG4gIGNvbnRleHQ6IGNyZWF0aW9uV2l6YXJkTWFjaGluZU1vZGVsLmluaXRpYWxDb250ZXh0LFxuICBzdGF0ZXM6IHtcbiAgICBzZWxlY3RDb25uZWN0b3I6IHtcbiAgICAgIGluaXRpYWw6ICdzZWxlY3RpbmcnLFxuICAgICAgaW52b2tlOiB7XG4gICAgICAgIGlkOiAnc2VsZWN0Q29ubmVjdG9yUmVmJyxcbiAgICAgICAgc3JjOiBjb25uZWN0b3JUeXBlc01hY2hpbmUsXG4gICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY29udGV4dC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VQYXRoOiBjb250ZXh0LmJhc2VQYXRoLFxuICAgICAgICAgICAgc2VsZWN0ZWRDb25uZWN0b3I6IGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3JcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICdzZWxlY3RLYWZrYScsXG4gICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBzZWxlY3RlZENvbm5lY3RvcjogZXZlbnQuZGF0YS5zZWxlY3RlZENvbm5lY3RvcixcbiAgICAgICAgICAgICAgY29ubmVjdG9yQ29uZmlndXJhdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgIGFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwOiAwLFxuICAgICAgICAgICAgICBpc0NvbmZpZ3VyYXRpb25WYWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb25TdGVwczogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcjogJy5lcnJvcidcbiAgICAgIH0sXG4gICAgICBzdGF0ZXM6IHtcbiAgICAgICAgZXJyb3I6IHt9LFxuICAgICAgICBzZWxlY3Rpbmc6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgaXNWYWxpZDogJ3ZhbGlkJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmFsaWQ6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgaXNJbnZhbGlkOiAnc2VsZWN0aW5nJyxcbiAgICAgICAgICAgIG5leHQ6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL3NlbmQkMSgnY29uZmlybScsIHtcbiAgICAgICAgICAgICAgICB0bzogJ3NlbGVjdENvbm5lY3RvclJlZidcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHNlbGVjdEthZmthOiB7XG4gICAgICBpbml0aWFsOiAnc2VsZWN0aW5nJyxcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ3NlbGVjdEthZmthSW5zdGFuY2VSZWYnLFxuICAgICAgICBzcmM6IGthZmthc01hY2hpbmUsXG4gICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY29udGV4dC5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIGJhc2VQYXRoOiBjb250ZXh0LmJhc2VQYXRoLFxuICAgICAgICAgICAgc2VsZWN0ZWRJbnN0YW5jZTogY29udGV4dC5zZWxlY3RlZEthZmthSW5zdGFuY2UsXG4gICAgICAgICAgICByZXF1ZXN0OiB7XG4gICAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICAgIHNpemU6IDEwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgdGFyZ2V0OiAnc2VsZWN0Q2x1c3RlcicsXG4gICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbih7XG4gICAgICAgICAgICBzZWxlY3RlZEthZmthSW5zdGFuY2U6IGZ1bmN0aW9uIHNlbGVjdGVkS2Fma2FJbnN0YW5jZShfLCBldmVudCkge1xuICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuZGF0YS5zZWxlY3RlZEluc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIG9uRXJyb3I6ICcuZXJyb3InXG4gICAgICB9LFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIGVycm9yOiB7fSxcbiAgICAgICAgc2VsZWN0aW5nOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIGlzVmFsaWQ6ICd2YWxpZCdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIGlzSW52YWxpZDogJ3NlbGVjdGluZycsXG4gICAgICAgICAgICBuZXh0OiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IC8qI19fUFVSRV9fKi9zZW5kJDEoJ2NvbmZpcm0nLCB7XG4gICAgICAgICAgICAgICAgdG86ICdzZWxlY3RLYWZrYUluc3RhbmNlUmVmJ1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHByZXY6ICdzZWxlY3RDb25uZWN0b3InXG4gICAgICB9XG4gICAgfSxcbiAgICBzZWxlY3RDbHVzdGVyOiB7XG4gICAgICBpbml0aWFsOiAnc2VsZWN0aW5nJyxcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ3NlbGVjdENsdXN0ZXJSZWYnLFxuICAgICAgICBzcmM6IGNsdXN0ZXJzTWFjaGluZSxcbiAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBjb250ZXh0LmFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgYmFzZVBhdGg6IGNvbnRleHQuYmFzZVBhdGgsXG4gICAgICAgICAgICBzZWxlY3RlZENsdXN0ZXI6IGNvbnRleHQuc2VsZWN0ZWRDbHVzdGVyXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgdGFyZ2V0OiAnY29uZmlndXJlQ29ubmVjdG9yJyxcbiAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovYXNzaWduKHtcbiAgICAgICAgICAgIHNlbGVjdGVkQ2x1c3RlcjogZnVuY3Rpb24gc2VsZWN0ZWRDbHVzdGVyKF8sIGV2ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBldmVudC5kYXRhLnNlbGVjdGVkQ2x1c3RlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiAnLmVycm9yJ1xuICAgICAgfSxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBlcnJvcjoge30sXG4gICAgICAgIHNlbGVjdGluZzoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBpc1ZhbGlkOiAndmFsaWQnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWxpZDoge1xuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBpc0ludmFsaWQ6ICdzZWxlY3RpbmcnLFxuICAgICAgICAgICAgbmV4dDoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovc2VuZCQxKCdjb25maXJtJywge1xuICAgICAgICAgICAgICAgIHRvOiAnc2VsZWN0Q2x1c3RlclJlZidcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBwcmV2OiAnc2VsZWN0S2Fma2EnXG4gICAgICB9XG4gICAgfSxcbiAgICBjb25maWd1cmVDb25uZWN0b3I6IHtcbiAgICAgIGluaXRpYWw6ICdsb2FkQ29uZmlndXJhdG9yJyxcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBsb2FkQ29uZmlndXJhdG9yOiB7XG4gICAgICAgICAgaW52b2tlOiB7XG4gICAgICAgICAgICBpZDogJ2NvbmZpZ3VyYXRvckxvYWRlcicsXG4gICAgICAgICAgICBzcmM6ICdtYWtlQ29uZmlndXJhdG9yTG9hZGVyTWFjaGluZScsXG4gICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0b3I6IGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3JcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiAnY29uZmlndXJlJyxcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbihmdW5jdGlvbiAoX2NvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIENvbmZpZ3VyYXRvcjogZXZlbnQuZGF0YS5Db25maWd1cmF0b3IsXG4gICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uU3RlcHM6IGV2ZW50LmRhdGEuc3RlcHNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRXJyb3I6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogZnVuY3Rpb24gYWN0aW9ucyhfY29udGV4dCwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihldmVudC5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb25maWd1cmU6IHtcbiAgICAgICAgICBpZDogJ2NvbmZpZ3VyZScsXG4gICAgICAgICAgaW5pdGlhbDogJ2NvbmZpZ3VyaW5nJyxcbiAgICAgICAgICBpbnZva2U6IHtcbiAgICAgICAgICAgIGlkOiAnY29uZmlndXJhdG9yUmVmJyxcbiAgICAgICAgICAgIHNyYzogY29uZmlndXJhdG9yTWFjaGluZSxcbiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoY29udGV4dCkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNvbm5lY3RvcjogY29udGV4dC5zZWxlY3RlZENvbm5lY3RvcixcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uOiBjb250ZXh0LmNvbm5lY3RvckNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAgICAgc3RlcHM6IGNvbnRleHQuY29uZmlndXJhdGlvblN0ZXBzIHx8IFsnc2luZ2xlIHN0ZXAnXSxcbiAgICAgICAgICAgICAgICBhY3RpdmVTdGVwOiBjb250ZXh0LmFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwIHx8IDAsXG4gICAgICAgICAgICAgICAgaXNBY3RpdmVTdGVwVmFsaWQ6IGNvbnRleHQuY29ubmVjdG9yQ29uZmlndXJhdGlvbiAhPT0gZmFsc2VcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0OiAnI2NyZWF0aW9uV2l6YXJkLnJldmlld0NvbmZpZ3VyYXRpb24nLFxuICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfLCBldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBjb25uZWN0b3JDb25maWd1cmF0aW9uOiBldmVudC5kYXRhLmNvbmZpZ3VyYXRpb24gfHwgdHJ1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FcnJvcjoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBmdW5jdGlvbiBhY3Rpb25zKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGV2ZW50LmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YXRlczoge1xuICAgICAgICAgICAgY29uZmlndXJpbmc6IHtcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICBpc1ZhbGlkOiAndmFsaWQnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2YWxpZDoge1xuICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgIGlzSW52YWxpZDogJ2NvbmZpZ3VyaW5nJyxcbiAgICAgICAgICAgICAgICBuZXh0OiB7XG4gICAgICAgICAgICAgICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovc2VuZCQxKCduZXh0Jywge1xuICAgICAgICAgICAgICAgICAgICB0bzogJ2NvbmZpZ3VyYXRvclJlZidcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgcHJldjogW3tcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL3NlbmQkMSgncHJldicsIHtcbiAgICAgICAgICAgICAgICB0bzogJ2NvbmZpZ3VyYXRvclJlZidcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIGNvbmQ6ICdhcmVUaGVyZVN1YnN0ZXBzJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICB0YXJnZXQ6ICcjY3JlYXRpb25XaXphcmQuc2VsZWN0Q2x1c3RlcidcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgY2hhbmdlZFN0ZXA6IHtcbiAgICAgICAgICAgICAgYWN0aW9uczogLyojX19QVVJFX18qL2Fzc2lnbih7XG4gICAgICAgICAgICAgICAgYWN0aXZlQ29uZmlndXJhdGlvblN0ZXA6IGZ1bmN0aW9uIGFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwKF8sIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuc3RlcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICByZXZpZXdDb25maWd1cmF0aW9uOiB7XG4gICAgICBpZDogJ3JldmlldycsXG4gICAgICBpbml0aWFsOiAncmV2aWV3aW5nJyxcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogJ3Jldmlld1JlZicsXG4gICAgICAgIHNyYzogcmV2aWV3TWFjaGluZSxcbiAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YShjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBjb250ZXh0LmFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgYmFzZVBhdGg6IGNvbnRleHQuYmFzZVBhdGgsXG4gICAgICAgICAgICBrYWZrYTogY29udGV4dC5zZWxlY3RlZEthZmthSW5zdGFuY2UsXG4gICAgICAgICAgICBjbHVzdGVyOiBjb250ZXh0LnNlbGVjdGVkQ2x1c3RlcixcbiAgICAgICAgICAgIGNvbm5lY3RvclR5cGU6IGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3IsXG4gICAgICAgICAgICBpbml0aWFsQ29uZmlndXJhdGlvbjogY29udGV4dC5jb25uZWN0b3JDb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgbmFtZTogJydcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICB0YXJnZXQ6ICcjY3JlYXRpb25XaXphcmQuc2F2ZWQnLFxuICAgICAgICAgIGFjdGlvbnM6IC8qI19fUFVSRV9fKi9hc3NpZ24oZnVuY3Rpb24gKF8sIGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBjb25uZWN0b3JDb25maWd1cmF0aW9uOiBldmVudC5kYXRhXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIG9uRXJyb3I6IHtcbiAgICAgICAgICBhY3Rpb25zOiBmdW5jdGlvbiBhY3Rpb25zKF9jb250ZXh0LCBldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXZlbnQuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzdGF0ZXM6IHtcbiAgICAgICAgcmV2aWV3aW5nOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIGlzVmFsaWQ6ICd2YWxpZCdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIGlzSW52YWxpZDogJ3Jldmlld2luZycsXG4gICAgICAgICAgICBuZXh0OiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IC8qI19fUFVSRV9fKi9zZW5kJDEoJ3NhdmUnLCB7XG4gICAgICAgICAgICAgICAgdG86ICdyZXZpZXdSZWYnXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgcHJldjogJ2NvbmZpZ3VyZUNvbm5lY3RvcidcbiAgICAgIH1cbiAgICB9LFxuICAgIHNhdmVkOiB7XG4gICAgICBpZDogJ3NhdmVkJyxcbiAgICAgIHR5cGU6ICdmaW5hbCdcbiAgICB9XG4gIH0sXG4gIG9uOiB7XG4gICAganVtcFRvU2VsZWN0Q29ubmVjdG9yOiB7XG4gICAgICB0YXJnZXQ6ICdzZWxlY3RDb25uZWN0b3InXG4gICAgfSxcbiAgICBqdW1wVG9TZWxlY3RLYWZrYToge1xuICAgICAgdGFyZ2V0OiAnc2VsZWN0S2Fma2EnLFxuICAgICAgY29uZDogJ2lzQ29ubmVjdG9yU2VsZWN0ZWQnXG4gICAgfSxcbiAgICBqdW1wVG9TZWxlY3RDbHVzdGVyOiB7XG4gICAgICB0YXJnZXQ6ICdzZWxlY3RDbHVzdGVyJyxcbiAgICAgIGNvbmQ6ICdpc0thZmthSW5zdGFuY2VTZWxlY3RlZCdcbiAgICB9LFxuICAgIGp1bXBUb0NvbmZpZ3VyZUNvbm5lY3Rvcjoge1xuICAgICAgdGFyZ2V0OiAnY29uZmlndXJlQ29ubmVjdG9yJyxcbiAgICAgIGNvbmQ6ICdpc0NsdXN0ZXJTZWxlY3RlZCcsXG4gICAgICBhY3Rpb25zOiAvKiNfX1BVUkVfXyovYXNzaWduKGZ1bmN0aW9uIChfLCBldmVudCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwOiBldmVudC5zdWJTdGVwIHx8IDBcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgfSxcbiAgICBqdW1wVG9SZXZpZXdDb25maWd1cmF0aW9uOiB7XG4gICAgICB0YXJnZXQ6ICdyZXZpZXdDb25maWd1cmF0aW9uJyxcbiAgICAgIGNvbmQ6ICdpc0Nvbm5lY3RvckNvbmZpZ3VyZWQnXG4gICAgfVxuICB9XG59LCB7XG4gIGd1YXJkczoge1xuICAgIGlzS2Fma2FJbnN0YW5jZVNlbGVjdGVkOiBmdW5jdGlvbiBpc0thZmthSW5zdGFuY2VTZWxlY3RlZChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZEthZmthSW5zdGFuY2UgIT09IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGlzQ2x1c3RlclNlbGVjdGVkOiBmdW5jdGlvbiBpc0NsdXN0ZXJTZWxlY3RlZChjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY29udGV4dC5zZWxlY3RlZENsdXN0ZXIgIT09IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGlzQ29ubmVjdG9yU2VsZWN0ZWQ6IGZ1bmN0aW9uIGlzQ29ubmVjdG9yU2VsZWN0ZWQoY29udGV4dCwgZXZlbnQpIHtcbiAgICAgIHZhciBzdWJTdGVwID0gZXZlbnQuc3ViU3RlcDtcblxuICAgICAgaWYgKHN1YlN0ZXApIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3IgIT09IHVuZGVmaW5lZCAmJiAoY29udGV4dC5jb25uZWN0b3JDb25maWd1cmF0aW9uICE9PSB1bmRlZmluZWQgfHwgc3ViU3RlcCA8PSBjb250ZXh0LmFjdGl2ZUNvbmZpZ3VyYXRpb25TdGVwKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZWN0ZWRDb25uZWN0b3IgIT09IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGlzQ29ubmVjdG9yQ29uZmlndXJlZDogZnVuY3Rpb24gaXNDb25uZWN0b3JDb25maWd1cmVkKGNvbnRleHQpIHtcbiAgICAgIGlmICghY29udGV4dC5jb25maWd1cmF0aW9uU3RlcHMpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuY29ubmVjdG9yQ29uZmlndXJhdGlvbiAhPT0gdW5kZWZpbmVkICYmIGNvbnRleHQuY29ubmVjdG9yQ29uZmlndXJhdGlvbiAhPT0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZXh0LmNvbm5lY3RvckNvbmZpZ3VyYXRpb24gIT09IHVuZGVmaW5lZCAmJiBjb250ZXh0LmNvbm5lY3RvckNvbmZpZ3VyYXRpb24gIT09IGZhbHNlIHx8IGNvbnRleHQuYWN0aXZlQ29uZmlndXJhdGlvblN0ZXAgPT09IGNvbnRleHQuY29uZmlndXJhdGlvblN0ZXBzLmxlbmd0aCAtIDEgJiYgY29udGV4dC5pc0NvbmZpZ3VyYXRpb25WYWxpZCA9PT0gdHJ1ZTtcbiAgICB9LFxuICAgIGFyZVRoZXJlU3Vic3RlcHM6IGZ1bmN0aW9uIGFyZVRoZXJlU3Vic3RlcHMoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuYWN0aXZlQ29uZmlndXJhdGlvblN0ZXAgPiAwO1xuICAgIH1cbiAgfSxcbiAgc2VydmljZXM6IHtcbiAgICBtYWtlQ29uZmlndXJhdG9yTG9hZGVyTWFjaGluZTogZnVuY3Rpb24gbWFrZUNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUoKSB7XG4gICAgICByZXR1cm4gY29uZmlndXJhdG9yTG9hZGVyTWFjaGluZTtcbiAgICB9XG4gIH1cbn0pO1xuXG52YXIgQ3JlYXRpb25XaXphcmRNYWNoaW5lU2VydmljZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb250ZXh0KG51bGwpO1xudmFyIENyZWF0aW9uV2l6YXJkTWFjaGluZVByb3ZpZGVyID0gZnVuY3Rpb24gQ3JlYXRpb25XaXphcmRNYWNoaW5lUHJvdmlkZXIoX3JlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgYWNjZXNzVG9rZW4gPSBfcmVmLmFjY2Vzc1Rva2VuLFxuICAgICAgYmFzZVBhdGggPSBfcmVmLmJhc2VQYXRoLFxuICAgICAgX2ZldGNoQ29uZmlndXJhdG9yID0gX3JlZi5mZXRjaENvbmZpZ3VyYXRvcixcbiAgICAgIG9uU2F2ZSA9IF9yZWYub25TYXZlO1xuICB2YXIgbWFrZUNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmUud2l0aENvbmZpZyh7XG4gICAgICBzZXJ2aWNlczoge1xuICAgICAgICBmZXRjaENvbmZpZ3VyYXRvcjogZnVuY3Rpb24gZmV0Y2hDb25maWd1cmF0b3IoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBfZmV0Y2hDb25maWd1cmF0b3IoY29udGV4dC5jb25uZWN0b3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtfZmV0Y2hDb25maWd1cmF0b3JdKTtcbiAgdmFyIHNlcnZpY2UgPSB1c2VJbnRlcnByZXQoY3JlYXRpb25XaXphcmRNYWNoaW5lLCB7XG4gICAgZGV2VG9vbHM6IHRydWUsXG4gICAgY29udGV4dDoge1xuICAgICAgYWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuLFxuICAgICAgYmFzZVBhdGg6IGJhc2VQYXRoXG4gICAgfSxcbiAgICBzZXJ2aWNlczoge1xuICAgICAgbWFrZUNvbmZpZ3VyYXRvckxvYWRlck1hY2hpbmU6IG1ha2VDb25maWd1cmF0b3JMb2FkZXJNYWNoaW5lXG4gICAgfVxuICB9LCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUuZG9uZSkge1xuICAgICAgb25TYXZlKCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ3JlYXRpb25XaXphcmRNYWNoaW5lU2VydmljZS5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBzZXJ2aWNlXG4gIH0sIGNoaWxkcmVuKTtcbn07XG52YXIgdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lU2VydmljZSA9IGZ1bmN0aW9uIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKSB7XG4gIHZhciBzZXJ2aWNlID0gdXNlQ29udGV4dChDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlKTtcblxuICBpZiAoIXNlcnZpY2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlKCkgbXVzdCBiZSB1c2VkIGluIGEgY2hpbGQgb2YgPENyZWF0aW9uV2l6YXJkTWFjaGluZVByb3ZpZGVyPlwiKTtcbiAgfVxuXG4gIHJldHVybiBzZXJ2aWNlO1xufTtcbnZhciB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVDb25uZWN0b3JUeXBlc0FjdG9yID0gZnVuY3Rpb24gdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lQ29ubmVjdG9yVHlwZXNBY3RvcigpIHtcbiAgdmFyIHNlcnZpY2UgPSB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlKCk7XG4gIHJldHVybiB1c2VTZWxlY3RvcihzZXJ2aWNlLCB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuY2hpbGRyZW4uc2VsZWN0Q29ubmVjdG9yUmVmO1xuICB9LCBbc2VydmljZV0pKTtcbn07XG52YXIgdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lS2Fma2FzQWN0b3IgPSBmdW5jdGlvbiB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVLYWZrYXNBY3RvcigpIHtcbiAgdmFyIHNlcnZpY2UgPSB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlKCk7XG4gIHJldHVybiB1c2VTZWxlY3RvcihzZXJ2aWNlLCB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuY2hpbGRyZW4uc2VsZWN0S2Fma2FJbnN0YW5jZVJlZjtcbiAgfSwgW3NlcnZpY2VdKSk7XG59O1xudmFyIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZUNsdXN0ZXJzQWN0b3IgPSBmdW5jdGlvbiB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVDbHVzdGVyc0FjdG9yKCkge1xuICB2YXIgc2VydmljZSA9IHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UoKTtcbiAgcmV0dXJuIHVzZVNlbGVjdG9yKHNlcnZpY2UsIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5jaGlsZHJlbi5zZWxlY3RDbHVzdGVyUmVmO1xuICB9LCBbc2VydmljZV0pKTtcbn07XG52YXIgdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lUmV2aWV3QWN0b3IgPSBmdW5jdGlvbiB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVSZXZpZXdBY3RvcigpIHtcbiAgdmFyIHNlcnZpY2UgPSB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVTZXJ2aWNlKCk7XG4gIHJldHVybiB1c2VTZWxlY3RvcihzZXJ2aWNlLCB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuY2hpbGRyZW4ucmV2aWV3UmVmO1xuICB9LCBbc2VydmljZV0pKTtcbn07XG5cbmV4cG9ydCB7IENvbm5lY3RvcnNNYWNoaW5lUHJvdmlkZXIsIENyZWF0aW9uV2l6YXJkTWFjaGluZVByb3ZpZGVyLCBQQUdJTkFURURfTUFDSElORV9JRCwgY2x1c3RlcnNNYWNoaW5lLCBjb25maWd1cmF0b3JMb2FkZXJNYWNoaW5lLCBjb25maWd1cmF0b3JNYWNoaW5lLCBjb25uZWN0b3JNYWNoaW5lLCBjb25uZWN0b3JUeXBlc01hY2hpbmUsIGNvbm5lY3RvcnNNYWNoaW5lLCBjcmVhdGlvbldpemFyZE1hY2hpbmUsIGdldFBhZ2luYXRlZEFwaU1hY2hpbmVFdmVudHMsIGdldFBhZ2luYXRlZEFwaU1hY2hpbmVFdmVudHNIYW5kbGVycywga2Fma2FzTWFjaGluZSwgbWFrZUNvbm5lY3Rvck1hY2hpbmUsIG1ha2VGZXRjaE1hY2hpbmUsIG1ha2VQYWdpbmF0ZWRBcGlNYWNoaW5lLCByZXZpZXdNYWNoaW5lLCB1c2VDbHVzdGVyc01hY2hpbmUsIHVzZUNsdXN0ZXJzTWFjaGluZUlzUmVhZHksIHVzZUNvbm5lY3RvciwgdXNlQ29ubmVjdG9yc01hY2hpbmUsIHVzZUNvbm5lY3RvcnNNYWNoaW5lSXNSZWFkeSwgdXNlQ29ubmVjdG9yc01hY2hpbmVTZXJ2aWNlLCB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVDbHVzdGVyc0FjdG9yLCB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVDb25uZWN0b3JUeXBlc0FjdG9yLCB1c2VDcmVhdGlvbldpemFyZE1hY2hpbmVLYWZrYXNBY3RvciwgdXNlQ3JlYXRpb25XaXphcmRNYWNoaW5lUmV2aWV3QWN0b3IsIHVzZUNyZWF0aW9uV2l6YXJkTWFjaGluZVNlcnZpY2UsIHVzZUthZmthc01hY2hpbmUsIHVzZUthZmthc01hY2hpbmVJc1JlYWR5LCB1c2VQYWdpbmF0aW9uLCB1c2VSZXZpZXdNYWNoaW5lIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYWNoaW5lcy5lc20uanMubWFwXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///83255\n")},41361:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "EmptyState": () => (/* binding */ EmptyState),\n/* harmony export */   "EmptyStateVariant": () => (/* binding */ EmptyStateVariant),\n/* harmony export */   "Loading": () => (/* binding */ Loading),\n/* harmony export */   "NoMatchFound": () => (/* binding */ NoMatchFound),\n/* harmony export */   "useDebounce": () => (/* binding */ useDebounce)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(42403);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(63583);\n/* harmony import */ var _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_plus_circle_icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(21191);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_space_shuttle_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(99717);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_lock_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(41469);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_search_icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(53106);\n/* harmony import */ var _patternfly_react_icons_dist_js_icons_exclamation_circle_icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(47442);\n/* harmony import */ var _patternfly_react_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(42259);\n/* harmony import */ var _patternfly_react_styles__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_patternfly_react_styles__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(13857);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\n\n\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar NotFoundIcon = "data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20%20viewBox%3D%220%200%20100%20109%22%20style%3D%22enable-background%3Anew%200%200%20100%20109%3B%22%20xml%3Aspace%3D%22preserve%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%20.st0%7Bfill%3Anone%3Bstroke%3A%236A6E73%3Bstroke-linecap%3Around%3Bstroke-linejoin%3Around%3Bstroke-miterlimit%3A10%3Bstroke-dasharray%3A3%2C5%3B%7D%20.st1%7Bfill%3A%23FFFFFF%3Bstroke%3A%236A6E73%3Bstroke-linecap%3Around%3Bstroke-linejoin%3Around%3Bstroke-miterlimit%3A10%3B%7D%20.st2%7Bfill%3A%236A6E73%3B%7D%3C%2Fstyle%3E%3Cpath%20class%3D%22st0%22%20d%3D%22M12.5%2C96.5c3-33%2C17.4-35.8%2C38-24c19.1%2C11%2C36-8.1%2C21-27c-15.4-19.4-8-23-8-23%22%2F%3E%3Cpath%20class%3D%22st1%22%20d%3D%22M13%2C25v50%20M27.8%2C71.8V104%20M27.8%2C15v47.6%20M42.6%2C74v34%20M42.6%2C10v54.2%20M57.4%2C79.2V108%20M57.4%2C32v38%20M72.2%2C77v27%20%20M72.2%2C54.8v9.5%20M72.2%2C29v10.2%20M87%2C25v68%20M56%2C22.5l-40-0.2%20M59.6%2C37.1L5%2C37.1%20M59.6%2C37.1%20M95%2C37.1l-24.1%2C0%20M70.4%2C51.9L1%2C51.9%20%20M70.4%2C51.9%20M80.8%2C51.9%20M99%2C51.9l-18.2%2C0%20M18.6%2C66.6L1%2C66.6%20M70.4%2C66.6l-21.9%2C0%20M99%2C66.6l-17.9%2C0%20M10.5%2C81.4H6%20M95%2C81.4l-75%2C0%20%20M84%2C96.2l-67%2C0%22%2F%3E%3Cg%3E%20%3Cpath%20class%3D%22st2%22%20d%3D%22M81.3%2C15.7c-0.9%2C1.5-2.1%2C2.7-3.6%2C3.6c-1.5%2C0.9-3.2%2C1.3-5%2C1.3s-3.4-0.4-5-1.3c-1.5-0.9-2.7-2.1-3.6-3.6%20%20c-0.9-1.5-1.3-3.2-1.3-5s0.4-3.4%2C1.3-5c0.9-1.5%2C2.1-2.7%2C3.6-3.6c1.5-0.9%2C3.2-1.3%2C5-1.3s3.4%2C0.4%2C5%2C1.3c1.5%2C0.9%2C2.7%2C2.1%2C3.6%2C3.6%20%20c0.9%2C1.5%2C1.3%2C3.2%2C1.3%2C5S82.2%2C14.2%2C81.3%2C15.7z%20M70.3%2C4.8c-0.7%2C0.4-1.4%2C1-1.9%2C1.9c-0.1%2C0.1-0.1%2C0.2-0.1%2C0.3c0%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3%20%20l1.4%2C1c0.1%2C0.1%2C0.2%2C0.1%2C0.3%2C0.1c0.1%2C0%2C0.2-0.1%2C0.3-0.2c0.4-0.5%2C0.8-0.9%2C1-1c0.4-0.3%2C0.8-0.4%2C1.3-0.4c0.5%2C0%2C0.9%2C0.1%2C1.3%2C0.4%20%20c0.4%2C0.3%2C0.6%2C0.6%2C0.6%2C0.9c0%2C0.3-0.1%2C0.5-0.4%2C0.8c-0.2%2C0.1-0.5%2C0.3-0.9%2C0.6l-0.1%2C0c-0.7%2C0.4-1.1%2C0.7-1.4%2C1c-0.5%2C0.5-0.7%2C1.1-0.7%2C1.8%20%20v0.2c0%2C0.1%2C0%2C0.2%2C0.1%2C0.3c0.1%2C0.1%2C0.2%2C0.1%2C0.3%2C0.1h2.2c0.1%2C0%2C0.2%2C0%2C0.3-0.1c0.1-0.1%2C0.1-0.2%2C0.1-0.3v0c0-0.2%2C0.1-0.4%2C0.3-0.6%20%20c0.1-0.1%2C0.4-0.3%2C0.8-0.5c0.7-0.4%2C1.2-0.8%2C1.5-1.1c0.5-0.6%2C0.8-1.3%2C0.8-2.1c0-0.7-0.2-1.4-0.7-2.1s-1-1.1-1.8-1.5s-1.5-0.5-2.2-0.5%20%20C72%2C4.2%2C71.1%2C4.4%2C70.3%2C4.8z%20M71.5%2C14.6c-0.4%2C0.4-0.5%2C0.8-0.5%2C1.3s0.2%2C0.9%2C0.5%2C1.3s0.8%2C0.5%2C1.3%2C0.5s0.9-0.2%2C1.3-0.5s0.5-0.8%2C0.5-1.3%20%20s-0.2-0.9-0.5-1.3s-0.8-0.5-1.3-0.5S71.8%2C14.2%2C71.5%2C14.6z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E";\n\nvar NotFoundImg = function NotFoundImg() {\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", {\n    src: NotFoundIcon,\n    alt: "Not found page",\n    width: "128px"\n  });\n};\n\nvar EmptyStateVariant;\n\n(function (EmptyStateVariant) {\n  EmptyStateVariant["GettingStarted"] = "GettingStarted";\n  EmptyStateVariant["NoAccess"] = "NoAccess";\n  EmptyStateVariant["NoResult"] = "NoResult";\n  EmptyStateVariant["NoItems"] = "NoItems";\n  EmptyStateVariant["UnexpectedError"] = "UnexpectedError";\n  EmptyStateVariant["PageNotFound"] = "PageNotFound";\n})(EmptyStateVariant || (EmptyStateVariant = {}));\n\nvar EmptyState = function EmptyState(_ref) {\n  var titleProps = _ref.titleProps,\n      buttonProps = _ref.buttonProps,\n      emptyStateIconProps = _ref.emptyStateIconProps,\n      emptyStateProps = _ref.emptyStateProps,\n      emptyStateBodyProps = _ref.emptyStateBodyProps,\n      children = _ref.children;\n\n  var _ref2 = buttonProps || {},\n      _ref2$variant = _ref2.variant,\n      buttonVariant = _ref2$variant === void 0 ? _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.ButtonVariant.primary : _ref2$variant,\n      onClick = _ref2.onClick,\n      restButtonProps = _objectWithoutPropertiesLoose(_ref2, ["variant", "onClick"]);\n\n  var _ref3 = titleProps || {},\n      title = _ref3.title,\n      restTitleProps = _objectWithoutPropertiesLoose(_ref3, ["title"]);\n\n  var _ref4 = emptyStateBodyProps || {},\n      body = _ref4.body,\n      restEmptyStateBodyProps = _objectWithoutPropertiesLoose(_ref4, ["body"]);\n\n  var _ref5 = emptyStateProps || {},\n      _ref5$variant = _ref5.variant,\n      emptyStateVariant = _ref5$variant === void 0 ? EmptyStateVariant.GettingStarted : _ref5$variant,\n      className = _ref5.className,\n      restEmptyStateProps = _objectWithoutPropertiesLoose(_ref5, ["variant", "className"]);\n\n  var _getVariantConfig = getVariantConfig({\n    variant: emptyStateVariant,\n    emptyStateIconProps: emptyStateIconProps,\n    titleProps: titleProps\n  }),\n      variant = _getVariantConfig.variant,\n      icon = _getVariantConfig.icon,\n      titleSize = _getVariantConfig.titleSize,\n      headingLevel = _getVariantConfig.headingLevel;\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyState, _extends({\n    variant: variant,\n    className: (0,_patternfly_react_styles__WEBPACK_IMPORTED_MODULE_2__.css)(\'pf-u-pt-2xl pf-u-pt-3xl-on-md\', className)\n  }, restEmptyStateProps), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateIcon, _extends({\n    icon: icon\n  }, emptyStateIconProps)), title && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Title, _extends({\n    headingLevel: headingLevel,\n    size: titleSize\n  }, restTitleProps), title), body && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateBody, _extends({}, restEmptyStateBodyProps), body), (buttonProps == null ? void 0 : buttonProps.title) && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Button, _extends({\n    variant: buttonVariant,\n    onClick: onClick\n  }, restButtonProps), buttonProps == null ? void 0 : buttonProps.title), children);\n};\n\nvar getVariantConfig = function getVariantConfig(_ref6) {\n  var variant = _ref6.variant,\n      emptyStateIconProps = _ref6.emptyStateIconProps,\n      titleProps = _ref6.titleProps;\n  var varaintConfig = {};\n\n  switch (variant) {\n    case EmptyStateVariant.GettingStarted:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.xl,\n        icon: _patternfly_react_icons_dist_js_icons_space_shuttle_icon__WEBPACK_IMPORTED_MODULE_4__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes["4xl"],\n        headingLevel: \'h1\'\n      };\n      break;\n\n    case EmptyStateVariant.NoAccess:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.large,\n        icon: _patternfly_react_icons_dist_js_icons_lock_icon__WEBPACK_IMPORTED_MODULE_5__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.xl,\n        headingLevel: \'h2\'\n      };\n      break;\n\n    case EmptyStateVariant.NoItems:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.large,\n        icon: _patternfly_react_icons_dist_js_icons_plus_circle_icon__WEBPACK_IMPORTED_MODULE_6__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.xl,\n        headingLevel: \'h2\'\n      };\n      break;\n\n    case EmptyStateVariant.NoResult:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.large,\n        icon: _patternfly_react_icons_dist_js_icons_search_icon__WEBPACK_IMPORTED_MODULE_7__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.lg,\n        headingLevel: \'h2\'\n      };\n      break;\n\n    case EmptyStateVariant.UnexpectedError:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.full,\n        icon: _patternfly_react_icons_dist_js_icons_exclamation_circle_icon__WEBPACK_IMPORTED_MODULE_8__/* .default */ .ZP,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.lg,\n        headingLevel: \'h1\'\n      };\n      break;\n\n    case EmptyStateVariant.PageNotFound:\n      varaintConfig = {\n        variant: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.full,\n        icon: NotFoundImg,\n        titleSize: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.TitleSizes.lg,\n        headingLevel: \'h1\'\n      };\n      break;\n\n    default:\n      varaintConfig = {\n        variant: variant || _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateVariant.full,\n        icon: emptyStateIconProps == null ? void 0 : emptyStateIconProps.icon,\n        titleSize: titleProps == null ? void 0 : titleProps.size,\n        headingLevel: titleProps == null ? void 0 : titleProps.headingLevel\n      };\n      break;\n  }\n\n  return varaintConfig;\n};\n\nvar Loading = function Loading() {\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyState, null, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.EmptyStateIcon, {\n    variant: "container",\n    component: _patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Spinner\n  }), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_patternfly_react_core__WEBPACK_IMPORTED_MODULE_1__.Title, {\n    size: "lg",\n    headingLevel: "h4"\n  }, "Loading"));\n};\n\nvar NoMatchFound = function NoMatchFound(_ref) {\n  var onClear = _ref.onClear;\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(EmptyState, {\n    emptyStateProps: {\n      variant: EmptyStateVariant.NoItems\n    },\n    titleProps: {\n      title: \'No results found\'\n    },\n    emptyStateBodyProps: {\n      body: \'No results match the filter criteria. Clear all filters to show results.\'\n    },\n    buttonProps: onClear && {\n      title: \'Clear all filters\',\n      onClick: onClear\n    }\n  });\n};\n\nvar useDebounce = function useDebounce(fnToDebounce, durationInMs) {\n  if (durationInMs === void 0) {\n    durationInMs = 200;\n  }\n\n  if (isNaN(durationInMs)) {\n    throw new TypeError(\'durationInMs for debounce should be a number\');\n  }\n\n  if (typeof fnToDebounce !== \'function\') {\n    throw new TypeError(\'fnToDebounce should be a function\');\n  } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default()(fnToDebounce, durationInMs), [fnToDebounce, durationInMs]);\n};\n\n\n//# sourceMappingURL=utils.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29zLXVpLWFwcHMvY29zLXVpLy4uLy4uL3BhY2thZ2VzL3V0aWxzL2Rpc3QvdXRpbHMuZXNtLmpzPzZmYmYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9EO0FBQzZJO0FBQzdHO0FBQ0k7QUFDakI7QUFDSTtBQUN1QjtBQUNuRDtBQUNSOztBQUV2QztBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYSx1QkFBdUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVMsMERBQTRCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsOENBQThDOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0I7QUFDL0I7QUFDQSxpREFBaUQseUVBQXFCO0FBQ3RFO0FBQ0E7O0FBRUEsOEJBQThCO0FBQzlCO0FBQ0E7O0FBRUEsdUNBQXVDO0FBQ3ZDO0FBQ0E7O0FBRUEsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsMERBQTRCLENBQUMsOERBQVk7QUFDbEQ7QUFDQSxlQUFlLDZEQUFHO0FBQ2xCLEdBQUcsd0JBQXdCLDBEQUE0QixDQUFDLGtFQUFjO0FBQ3RFO0FBQ0EsR0FBRyxrQ0FBa0MsMERBQTRCLENBQUMseURBQUs7QUFDdkU7QUFDQTtBQUNBLEdBQUcsbUNBQW1DLDBEQUE0QixDQUFDLGtFQUFjLGFBQWEseUZBQXlGLDBEQUE0QixDQUFDLDBEQUFNO0FBQzFOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0VBQXNCO0FBQ3ZDLGNBQWMsdUdBQWdCO0FBQzlCLG1CQUFtQixxRUFBaUI7QUFDcEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsMkVBQXlCO0FBQzFDLGNBQWMsOEZBQVE7QUFDdEIsbUJBQW1CLGlFQUFhO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLDJFQUF5QjtBQUMxQyxjQUFjLHFHQUFjO0FBQzVCLG1CQUFtQixpRUFBYTtBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQiwyRUFBeUI7QUFDMUMsY0FBYyxnR0FBVTtBQUN4QixtQkFBbUIsaUVBQWE7QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsMEVBQXdCO0FBQ3pDLGNBQWMsNEdBQXFCO0FBQ25DLG1CQUFtQixpRUFBYTtBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQiwwRUFBd0I7QUFDekM7QUFDQSxtQkFBbUIsaUVBQWE7QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0QkFBNEIsMEVBQXdCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsU0FBUywwREFBNEIsQ0FBQyw4REFBWSxRQUFRLDBEQUE0QixDQUFDLGtFQUFjO0FBQ3JHO0FBQ0EsZUFBZSwyREFBTztBQUN0QixHQUFHLEdBQUcsMERBQTRCLENBQUMseURBQUs7QUFDeEM7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsU0FBUywwREFBNEI7QUFDckM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSCxTQUFTLGtEQUFXLENBQUMsc0RBQVE7QUFDN0I7O0FBRTZFO0FBQzdFIiwiZmlsZSI6IjQxMzYxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0X19kZWZhdWx0LCB7IHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRW1wdHlTdGF0ZSBhcyBFbXB0eVN0YXRlJDEsIEVtcHR5U3RhdGVJY29uLCBUaXRsZSwgRW1wdHlTdGF0ZUJvZHksIEJ1dHRvbiwgQnV0dG9uVmFyaWFudCwgRW1wdHlTdGF0ZVZhcmlhbnQgYXMgRW1wdHlTdGF0ZVZhcmlhbnQkMSwgVGl0bGVTaXplcywgU3Bpbm5lciB9IGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LWNvcmUnO1xuaW1wb3J0IFBsdXNDaXJjbGVJY29uIGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LWljb25zL2Rpc3QvanMvaWNvbnMvcGx1cy1jaXJjbGUtaWNvbic7XG5pbXBvcnQgU3BhY2VTaHV0dGxlSWNvbiBmcm9tICdAcGF0dGVybmZseS9yZWFjdC1pY29ucy9kaXN0L2pzL2ljb25zL3NwYWNlLXNodXR0bGUtaWNvbic7XG5pbXBvcnQgTG9ja0ljb24gZnJvbSAnQHBhdHRlcm5mbHkvcmVhY3QtaWNvbnMvZGlzdC9qcy9pY29ucy9sb2NrLWljb24nO1xuaW1wb3J0IFNlYXJjaEljb24gZnJvbSAnQHBhdHRlcm5mbHkvcmVhY3QtaWNvbnMvZGlzdC9qcy9pY29ucy9zZWFyY2gtaWNvbic7XG5pbXBvcnQgRXhjbGFtYXRpb25DaXJjbGVJY29uIGZyb20gJ0BwYXR0ZXJuZmx5L3JlYWN0LWljb25zL2Rpc3QvanMvaWNvbnMvZXhjbGFtYXRpb24tY2lyY2xlLWljb24nO1xuaW1wb3J0IHsgY3NzIH0gZnJvbSAnQHBhdHRlcm5mbHkvcmVhY3Qtc3R5bGVzJztcbmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2guZGVib3VuY2UnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIE5vdEZvdW5kSWNvbiA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyUzRnhtbCUyMHZlcnNpb24lM0QlMjIxLjAlMjIlMjBlbmNvZGluZyUzRCUyMnV0Zi04JTIyJTNGJTNFJTNDc3ZnJTIwdmVyc2lvbiUzRCUyMjEuMSUyMiUyMGlkJTNEJTIyTGF5ZXJfMSUyMiUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTIweG1sbnMlM0F4bGluayUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMTk5OSUyRnhsaW5rJTIyJTIweCUzRCUyMjBweCUyMiUyMHklM0QlMjIwcHglMjIlMjAlMjB2aWV3Qm94JTNEJTIyMCUyMDAlMjAxMDAlMjAxMDklMjIlMjBzdHlsZSUzRCUyMmVuYWJsZS1iYWNrZ3JvdW5kJTNBbmV3JTIwMCUyMDAlMjAxMDAlMjAxMDklM0IlMjIlMjB4bWwlM0FzcGFjZSUzRCUyMnByZXNlcnZlJTIyJTNFJTNDc3R5bGUlMjB0eXBlJTNEJTIydGV4dCUyRmNzcyUyMiUzRSUyMC5zdDAlN0JmaWxsJTNBbm9uZSUzQnN0cm9rZSUzQSUyMzZBNkU3MyUzQnN0cm9rZS1saW5lY2FwJTNBcm91bmQlM0JzdHJva2UtbGluZWpvaW4lM0Fyb3VuZCUzQnN0cm9rZS1taXRlcmxpbWl0JTNBMTAlM0JzdHJva2UtZGFzaGFycmF5JTNBMyUyQzUlM0IlN0QlMjAuc3QxJTdCZmlsbCUzQSUyM0ZGRkZGRiUzQnN0cm9rZSUzQSUyMzZBNkU3MyUzQnN0cm9rZS1saW5lY2FwJTNBcm91bmQlM0JzdHJva2UtbGluZWpvaW4lM0Fyb3VuZCUzQnN0cm9rZS1taXRlcmxpbWl0JTNBMTAlM0IlN0QlMjAuc3QyJTdCZmlsbCUzQSUyMzZBNkU3MyUzQiU3RCUzQyUyRnN0eWxlJTNFJTNDcGF0aCUyMGNsYXNzJTNEJTIyc3QwJTIyJTIwZCUzRCUyMk0xMi41JTJDOTYuNWMzLTMzJTJDMTcuNC0zNS44JTJDMzgtMjRjMTkuMSUyQzExJTJDMzYtOC4xJTJDMjEtMjdjLTE1LjQtMTkuNC04LTIzLTgtMjMlMjIlMkYlM0UlM0NwYXRoJTIwY2xhc3MlM0QlMjJzdDElMjIlMjBkJTNEJTIyTTEzJTJDMjV2NTAlMjBNMjcuOCUyQzcxLjhWMTA0JTIwTTI3LjglMkMxNXY0Ny42JTIwTTQyLjYlMkM3NHYzNCUyME00Mi42JTJDMTB2NTQuMiUyME01Ny40JTJDNzkuMlYxMDglMjBNNTcuNCUyQzMydjM4JTIwTTcyLjIlMkM3N3YyNyUyMCUyME03Mi4yJTJDNTQuOHY5LjUlMjBNNzIuMiUyQzI5djEwLjIlMjBNODclMkMyNXY2OCUyME01NiUyQzIyLjVsLTQwLTAuMiUyME01OS42JTJDMzcuMUw1JTJDMzcuMSUyME01OS42JTJDMzcuMSUyME05NSUyQzM3LjFsLTI0LjElMkMwJTIwTTcwLjQlMkM1MS45TDElMkM1MS45JTIwJTIwTTcwLjQlMkM1MS45JTIwTTgwLjglMkM1MS45JTIwTTk5JTJDNTEuOWwtMTguMiUyQzAlMjBNMTguNiUyQzY2LjZMMSUyQzY2LjYlMjBNNzAuNCUyQzY2LjZsLTIxLjklMkMwJTIwTTk5JTJDNjYuNmwtMTcuOSUyQzAlMjBNMTAuNSUyQzgxLjRINiUyME05NSUyQzgxLjRsLTc1JTJDMCUyMCUyME04NCUyQzk2LjJsLTY3JTJDMCUyMiUyRiUzRSUzQ2clM0UlMjAlM0NwYXRoJTIwY2xhc3MlM0QlMjJzdDIlMjIlMjBkJTNEJTIyTTgxLjMlMkMxNS43Yy0wLjklMkMxLjUtMi4xJTJDMi43LTMuNiUyQzMuNmMtMS41JTJDMC45LTMuMiUyQzEuMy01JTJDMS4zcy0zLjQtMC40LTUtMS4zYy0xLjUtMC45LTIuNy0yLjEtMy42LTMuNiUyMCUyMGMtMC45LTEuNS0xLjMtMy4yLTEuMy01czAuNC0zLjQlMkMxLjMtNWMwLjktMS41JTJDMi4xLTIuNyUyQzMuNi0zLjZjMS41LTAuOSUyQzMuMi0xLjMlMkM1LTEuM3MzLjQlMkMwLjQlMkM1JTJDMS4zYzEuNSUyQzAuOSUyQzIuNyUyQzIuMSUyQzMuNiUyQzMuNiUyMCUyMGMwLjklMkMxLjUlMkMxLjMlMkMzLjIlMkMxLjMlMkM1UzgyLjIlMkMxNC4yJTJDODEuMyUyQzE1Ljd6JTIwTTcwLjMlMkM0LjhjLTAuNyUyQzAuNC0xLjQlMkMxLTEuOSUyQzEuOWMtMC4xJTJDMC4xLTAuMSUyQzAuMi0wLjElMkMwLjNjMCUyQzAuMSUyQzAuMSUyQzAuMiUyQzAuMiUyQzAuMyUyMCUyMGwxLjQlMkMxYzAuMSUyQzAuMSUyQzAuMiUyQzAuMSUyQzAuMyUyQzAuMWMwLjElMkMwJTJDMC4yLTAuMSUyQzAuMy0wLjJjMC40LTAuNSUyQzAuOC0wLjklMkMxLTFjMC40LTAuMyUyQzAuOC0wLjQlMkMxLjMtMC40YzAuNSUyQzAlMkMwLjklMkMwLjElMkMxLjMlMkMwLjQlMjAlMjBjMC40JTJDMC4zJTJDMC42JTJDMC42JTJDMC42JTJDMC45YzAlMkMwLjMtMC4xJTJDMC41LTAuNCUyQzAuOGMtMC4yJTJDMC4xLTAuNSUyQzAuMy0wLjklMkMwLjZsLTAuMSUyQzBjLTAuNyUyQzAuNC0xLjElMkMwLjctMS40JTJDMWMtMC41JTJDMC41LTAuNyUyQzEuMS0wLjclMkMxLjglMjAlMjB2MC4yYzAlMkMwLjElMkMwJTJDMC4yJTJDMC4xJTJDMC4zYzAuMSUyQzAuMSUyQzAuMiUyQzAuMSUyQzAuMyUyQzAuMWgyLjJjMC4xJTJDMCUyQzAuMiUyQzAlMkMwLjMtMC4xYzAuMS0wLjElMkMwLjEtMC4yJTJDMC4xLTAuM3YwYzAtMC4yJTJDMC4xLTAuNCUyQzAuMy0wLjYlMjAlMjBjMC4xLTAuMSUyQzAuNC0wLjMlMkMwLjgtMC41YzAuNy0wLjQlMkMxLjItMC44JTJDMS41LTEuMWMwLjUtMC42JTJDMC44LTEuMyUyQzAuOC0yLjFjMC0wLjctMC4yLTEuNC0wLjctMi4xcy0xLTEuMS0xLjgtMS41cy0xLjUtMC41LTIuMi0wLjUlMjAlMjBDNzIlMkM0LjIlMkM3MS4xJTJDNC40JTJDNzAuMyUyQzQuOHolMjBNNzEuNSUyQzE0LjZjLTAuNCUyQzAuNC0wLjUlMkMwLjgtMC41JTJDMS4zczAuMiUyQzAuOSUyQzAuNSUyQzEuM3MwLjglMkMwLjUlMkMxLjMlMkMwLjVzMC45LTAuMiUyQzEuMy0wLjVzMC41LTAuOCUyQzAuNS0xLjMlMjAlMjBzLTAuMi0wLjktMC41LTEuM3MtMC44LTAuNS0xLjMtMC41UzcxLjglMkMxNC4yJTJDNzEuNSUyQzE0LjZ6JTIyJTJGJTNFJTNDJTJGZyUzRSUzQyUyRnN2ZyUzRVwiO1xuXG52YXIgTm90Rm91bmRJbWcgPSBmdW5jdGlvbiBOb3RGb3VuZEltZygpIHtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwge1xuICAgIHNyYzogTm90Rm91bmRJY29uLFxuICAgIGFsdDogXCJOb3QgZm91bmQgcGFnZVwiLFxuICAgIHdpZHRoOiBcIjEyOHB4XCJcbiAgfSk7XG59O1xuXG52YXIgRW1wdHlTdGF0ZVZhcmlhbnQ7XG5cbihmdW5jdGlvbiAoRW1wdHlTdGF0ZVZhcmlhbnQpIHtcbiAgRW1wdHlTdGF0ZVZhcmlhbnRbXCJHZXR0aW5nU3RhcnRlZFwiXSA9IFwiR2V0dGluZ1N0YXJ0ZWRcIjtcbiAgRW1wdHlTdGF0ZVZhcmlhbnRbXCJOb0FjY2Vzc1wiXSA9IFwiTm9BY2Nlc3NcIjtcbiAgRW1wdHlTdGF0ZVZhcmlhbnRbXCJOb1Jlc3VsdFwiXSA9IFwiTm9SZXN1bHRcIjtcbiAgRW1wdHlTdGF0ZVZhcmlhbnRbXCJOb0l0ZW1zXCJdID0gXCJOb0l0ZW1zXCI7XG4gIEVtcHR5U3RhdGVWYXJpYW50W1wiVW5leHBlY3RlZEVycm9yXCJdID0gXCJVbmV4cGVjdGVkRXJyb3JcIjtcbiAgRW1wdHlTdGF0ZVZhcmlhbnRbXCJQYWdlTm90Rm91bmRcIl0gPSBcIlBhZ2VOb3RGb3VuZFwiO1xufSkoRW1wdHlTdGF0ZVZhcmlhbnQgfHwgKEVtcHR5U3RhdGVWYXJpYW50ID0ge30pKTtcblxudmFyIEVtcHR5U3RhdGUgPSBmdW5jdGlvbiBFbXB0eVN0YXRlKF9yZWYpIHtcbiAgdmFyIHRpdGxlUHJvcHMgPSBfcmVmLnRpdGxlUHJvcHMsXG4gICAgICBidXR0b25Qcm9wcyA9IF9yZWYuYnV0dG9uUHJvcHMsXG4gICAgICBlbXB0eVN0YXRlSWNvblByb3BzID0gX3JlZi5lbXB0eVN0YXRlSWNvblByb3BzLFxuICAgICAgZW1wdHlTdGF0ZVByb3BzID0gX3JlZi5lbXB0eVN0YXRlUHJvcHMsXG4gICAgICBlbXB0eVN0YXRlQm9keVByb3BzID0gX3JlZi5lbXB0eVN0YXRlQm9keVByb3BzLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuXG4gIHZhciBfcmVmMiA9IGJ1dHRvblByb3BzIHx8IHt9LFxuICAgICAgX3JlZjIkdmFyaWFudCA9IF9yZWYyLnZhcmlhbnQsXG4gICAgICBidXR0b25WYXJpYW50ID0gX3JlZjIkdmFyaWFudCA9PT0gdm9pZCAwID8gQnV0dG9uVmFyaWFudC5wcmltYXJ5IDogX3JlZjIkdmFyaWFudCxcbiAgICAgIG9uQ2xpY2sgPSBfcmVmMi5vbkNsaWNrLFxuICAgICAgcmVzdEJ1dHRvblByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjIsIFtcInZhcmlhbnRcIiwgXCJvbkNsaWNrXCJdKTtcblxuICB2YXIgX3JlZjMgPSB0aXRsZVByb3BzIHx8IHt9LFxuICAgICAgdGl0bGUgPSBfcmVmMy50aXRsZSxcbiAgICAgIHJlc3RUaXRsZVByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjMsIFtcInRpdGxlXCJdKTtcblxuICB2YXIgX3JlZjQgPSBlbXB0eVN0YXRlQm9keVByb3BzIHx8IHt9LFxuICAgICAgYm9keSA9IF9yZWY0LmJvZHksXG4gICAgICByZXN0RW1wdHlTdGF0ZUJvZHlQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWY0LCBbXCJib2R5XCJdKTtcblxuICB2YXIgX3JlZjUgPSBlbXB0eVN0YXRlUHJvcHMgfHwge30sXG4gICAgICBfcmVmNSR2YXJpYW50ID0gX3JlZjUudmFyaWFudCxcbiAgICAgIGVtcHR5U3RhdGVWYXJpYW50ID0gX3JlZjUkdmFyaWFudCA9PT0gdm9pZCAwID8gRW1wdHlTdGF0ZVZhcmlhbnQuR2V0dGluZ1N0YXJ0ZWQgOiBfcmVmNSR2YXJpYW50LFxuICAgICAgY2xhc3NOYW1lID0gX3JlZjUuY2xhc3NOYW1lLFxuICAgICAgcmVzdEVtcHR5U3RhdGVQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWY1LCBbXCJ2YXJpYW50XCIsIFwiY2xhc3NOYW1lXCJdKTtcblxuICB2YXIgX2dldFZhcmlhbnRDb25maWcgPSBnZXRWYXJpYW50Q29uZmlnKHtcbiAgICB2YXJpYW50OiBlbXB0eVN0YXRlVmFyaWFudCxcbiAgICBlbXB0eVN0YXRlSWNvblByb3BzOiBlbXB0eVN0YXRlSWNvblByb3BzLFxuICAgIHRpdGxlUHJvcHM6IHRpdGxlUHJvcHNcbiAgfSksXG4gICAgICB2YXJpYW50ID0gX2dldFZhcmlhbnRDb25maWcudmFyaWFudCxcbiAgICAgIGljb24gPSBfZ2V0VmFyaWFudENvbmZpZy5pY29uLFxuICAgICAgdGl0bGVTaXplID0gX2dldFZhcmlhbnRDb25maWcudGl0bGVTaXplLFxuICAgICAgaGVhZGluZ0xldmVsID0gX2dldFZhcmlhbnRDb25maWcuaGVhZGluZ0xldmVsO1xuXG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtcHR5U3RhdGUkMSwgX2V4dGVuZHMoe1xuICAgIHZhcmlhbnQ6IHZhcmlhbnQsXG4gICAgY2xhc3NOYW1lOiBjc3MoJ3BmLXUtcHQtMnhsIHBmLXUtcHQtM3hsLW9uLW1kJywgY2xhc3NOYW1lKVxuICB9LCByZXN0RW1wdHlTdGF0ZVByb3BzKSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFbXB0eVN0YXRlSWNvbiwgX2V4dGVuZHMoe1xuICAgIGljb246IGljb25cbiAgfSwgZW1wdHlTdGF0ZUljb25Qcm9wcykpLCB0aXRsZSAmJiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRpdGxlLCBfZXh0ZW5kcyh7XG4gICAgaGVhZGluZ0xldmVsOiBoZWFkaW5nTGV2ZWwsXG4gICAgc2l6ZTogdGl0bGVTaXplXG4gIH0sIHJlc3RUaXRsZVByb3BzKSwgdGl0bGUpLCBib2R5ICYmIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRW1wdHlTdGF0ZUJvZHksIF9leHRlbmRzKHt9LCByZXN0RW1wdHlTdGF0ZUJvZHlQcm9wcyksIGJvZHkpLCAoYnV0dG9uUHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IGJ1dHRvblByb3BzLnRpdGxlKSAmJiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgX2V4dGVuZHMoe1xuICAgIHZhcmlhbnQ6IGJ1dHRvblZhcmlhbnQsXG4gICAgb25DbGljazogb25DbGlja1xuICB9LCByZXN0QnV0dG9uUHJvcHMpLCBidXR0b25Qcm9wcyA9PSBudWxsID8gdm9pZCAwIDogYnV0dG9uUHJvcHMudGl0bGUpLCBjaGlsZHJlbik7XG59O1xuXG52YXIgZ2V0VmFyaWFudENvbmZpZyA9IGZ1bmN0aW9uIGdldFZhcmlhbnRDb25maWcoX3JlZjYpIHtcbiAgdmFyIHZhcmlhbnQgPSBfcmVmNi52YXJpYW50LFxuICAgICAgZW1wdHlTdGF0ZUljb25Qcm9wcyA9IF9yZWY2LmVtcHR5U3RhdGVJY29uUHJvcHMsXG4gICAgICB0aXRsZVByb3BzID0gX3JlZjYudGl0bGVQcm9wcztcbiAgdmFyIHZhcmFpbnRDb25maWcgPSB7fTtcblxuICBzd2l0Y2ggKHZhcmlhbnQpIHtcbiAgICBjYXNlIEVtcHR5U3RhdGVWYXJpYW50LkdldHRpbmdTdGFydGVkOlxuICAgICAgdmFyYWludENvbmZpZyA9IHtcbiAgICAgICAgdmFyaWFudDogRW1wdHlTdGF0ZVZhcmlhbnQkMS54bCxcbiAgICAgICAgaWNvbjogU3BhY2VTaHV0dGxlSWNvbixcbiAgICAgICAgdGl0bGVTaXplOiBUaXRsZVNpemVzWyc0eGwnXSxcbiAgICAgICAgaGVhZGluZ0xldmVsOiAnaDEnXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEVtcHR5U3RhdGVWYXJpYW50Lk5vQWNjZXNzOlxuICAgICAgdmFyYWludENvbmZpZyA9IHtcbiAgICAgICAgdmFyaWFudDogRW1wdHlTdGF0ZVZhcmlhbnQkMS5sYXJnZSxcbiAgICAgICAgaWNvbjogTG9ja0ljb24sXG4gICAgICAgIHRpdGxlU2l6ZTogVGl0bGVTaXplcy54bCxcbiAgICAgICAgaGVhZGluZ0xldmVsOiAnaDInXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEVtcHR5U3RhdGVWYXJpYW50Lk5vSXRlbXM6XG4gICAgICB2YXJhaW50Q29uZmlnID0ge1xuICAgICAgICB2YXJpYW50OiBFbXB0eVN0YXRlVmFyaWFudCQxLmxhcmdlLFxuICAgICAgICBpY29uOiBQbHVzQ2lyY2xlSWNvbixcbiAgICAgICAgdGl0bGVTaXplOiBUaXRsZVNpemVzLnhsLFxuICAgICAgICBoZWFkaW5nTGV2ZWw6ICdoMidcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgRW1wdHlTdGF0ZVZhcmlhbnQuTm9SZXN1bHQ6XG4gICAgICB2YXJhaW50Q29uZmlnID0ge1xuICAgICAgICB2YXJpYW50OiBFbXB0eVN0YXRlVmFyaWFudCQxLmxhcmdlLFxuICAgICAgICBpY29uOiBTZWFyY2hJY29uLFxuICAgICAgICB0aXRsZVNpemU6IFRpdGxlU2l6ZXMubGcsXG4gICAgICAgIGhlYWRpbmdMZXZlbDogJ2gyJ1xuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBFbXB0eVN0YXRlVmFyaWFudC5VbmV4cGVjdGVkRXJyb3I6XG4gICAgICB2YXJhaW50Q29uZmlnID0ge1xuICAgICAgICB2YXJpYW50OiBFbXB0eVN0YXRlVmFyaWFudCQxLmZ1bGwsXG4gICAgICAgIGljb246IEV4Y2xhbWF0aW9uQ2lyY2xlSWNvbixcbiAgICAgICAgdGl0bGVTaXplOiBUaXRsZVNpemVzLmxnLFxuICAgICAgICBoZWFkaW5nTGV2ZWw6ICdoMSdcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgRW1wdHlTdGF0ZVZhcmlhbnQuUGFnZU5vdEZvdW5kOlxuICAgICAgdmFyYWludENvbmZpZyA9IHtcbiAgICAgICAgdmFyaWFudDogRW1wdHlTdGF0ZVZhcmlhbnQkMS5mdWxsLFxuICAgICAgICBpY29uOiBOb3RGb3VuZEltZyxcbiAgICAgICAgdGl0bGVTaXplOiBUaXRsZVNpemVzLmxnLFxuICAgICAgICBoZWFkaW5nTGV2ZWw6ICdoMSdcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICB2YXJhaW50Q29uZmlnID0ge1xuICAgICAgICB2YXJpYW50OiB2YXJpYW50IHx8IEVtcHR5U3RhdGVWYXJpYW50JDEuZnVsbCxcbiAgICAgICAgaWNvbjogZW1wdHlTdGF0ZUljb25Qcm9wcyA9PSBudWxsID8gdm9pZCAwIDogZW1wdHlTdGF0ZUljb25Qcm9wcy5pY29uLFxuICAgICAgICB0aXRsZVNpemU6IHRpdGxlUHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IHRpdGxlUHJvcHMuc2l6ZSxcbiAgICAgICAgaGVhZGluZ0xldmVsOiB0aXRsZVByb3BzID09IG51bGwgPyB2b2lkIDAgOiB0aXRsZVByb3BzLmhlYWRpbmdMZXZlbFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIHZhcmFpbnRDb25maWc7XG59O1xuXG52YXIgTG9hZGluZyA9IGZ1bmN0aW9uIExvYWRpbmcoKSB7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtcHR5U3RhdGUkMSwgbnVsbCwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFbXB0eVN0YXRlSWNvbiwge1xuICAgIHZhcmlhbnQ6IFwiY29udGFpbmVyXCIsXG4gICAgY29tcG9uZW50OiBTcGlubmVyXG4gIH0pLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRpdGxlLCB7XG4gICAgc2l6ZTogXCJsZ1wiLFxuICAgIGhlYWRpbmdMZXZlbDogXCJoNFwiXG4gIH0sIFwiTG9hZGluZ1wiKSk7XG59O1xuXG52YXIgTm9NYXRjaEZvdW5kID0gZnVuY3Rpb24gTm9NYXRjaEZvdW5kKF9yZWYpIHtcbiAgdmFyIG9uQ2xlYXIgPSBfcmVmLm9uQ2xlYXI7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtcHR5U3RhdGUsIHtcbiAgICBlbXB0eVN0YXRlUHJvcHM6IHtcbiAgICAgIHZhcmlhbnQ6IEVtcHR5U3RhdGVWYXJpYW50Lk5vSXRlbXNcbiAgICB9LFxuICAgIHRpdGxlUHJvcHM6IHtcbiAgICAgIHRpdGxlOiAnTm8gcmVzdWx0cyBmb3VuZCdcbiAgICB9LFxuICAgIGVtcHR5U3RhdGVCb2R5UHJvcHM6IHtcbiAgICAgIGJvZHk6ICdObyByZXN1bHRzIG1hdGNoIHRoZSBmaWx0ZXIgY3JpdGVyaWEuIENsZWFyIGFsbCBmaWx0ZXJzIHRvIHNob3cgcmVzdWx0cy4nXG4gICAgfSxcbiAgICBidXR0b25Qcm9wczogb25DbGVhciAmJiB7XG4gICAgICB0aXRsZTogJ0NsZWFyIGFsbCBmaWx0ZXJzJyxcbiAgICAgIG9uQ2xpY2s6IG9uQ2xlYXJcbiAgICB9XG4gIH0pO1xufTtcblxudmFyIHVzZURlYm91bmNlID0gZnVuY3Rpb24gdXNlRGVib3VuY2UoZm5Ub0RlYm91bmNlLCBkdXJhdGlvbkluTXMpIHtcbiAgaWYgKGR1cmF0aW9uSW5NcyA9PT0gdm9pZCAwKSB7XG4gICAgZHVyYXRpb25Jbk1zID0gMjAwO1xuICB9XG5cbiAgaWYgKGlzTmFOKGR1cmF0aW9uSW5NcykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdkdXJhdGlvbkluTXMgZm9yIGRlYm91bmNlIHNob3VsZCBiZSBhIG51bWJlcicpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBmblRvRGVib3VuY2UgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdmblRvRGVib3VuY2Ugc2hvdWxkIGJlIGEgZnVuY3Rpb24nKTtcbiAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG5cblxuICByZXR1cm4gdXNlQ2FsbGJhY2soZGVib3VuY2UoZm5Ub0RlYm91bmNlLCBkdXJhdGlvbkluTXMpLCBbZm5Ub0RlYm91bmNlLCBkdXJhdGlvbkluTXNdKTtcbn07XG5cbmV4cG9ydCB7IEVtcHR5U3RhdGUsIEVtcHR5U3RhdGVWYXJpYW50LCBMb2FkaW5nLCBOb01hdGNoRm91bmQsIHVzZURlYm91bmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5lc20uanMubWFwXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///41361\n')}}]);