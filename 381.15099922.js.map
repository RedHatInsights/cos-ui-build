{"version":3,"file":"381.15099922.js","mappings":"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","sources":["webpack://cos-ui/./node_modules/@xstate/inspect/es/_virtual/_tslib.js","webpack://cos-ui/./node_modules/@xstate/inspect/es/utils.js","webpack://cos-ui/./node_modules/@xstate/inspect/es/serialize.js","webpack://cos-ui/./node_modules/@xstate/inspect/es/browser.js","webpack://cos-ui/./node_modules/@xstate/inspect/es/inspectMachine.js","webpack://cos-ui/./node_modules/fast-safe-stringify/index.js","webpack://cos-ui/./node_modules/js-sha256/src/sha256.js","webpack://cos-ui/./node_modules/keycloak-js/dist/keycloak.js","webpack://cos-ui/./node_modules/keycloak-js/node_modules/base64-js/index.js","webpack://cos-ui/./node_modules/xstate/lib/utils.js"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\n\nexport { __assign, __values };\n","import { __assign } from './_virtual/_tslib.js';\nimport { createMachine, State } from 'xstate';\nimport safeStringify from 'fast-safe-stringify';\n\nfunction getLazy(value) {\r\n    return typeof value === 'function' ? value() : value;\r\n}\r\nfunction stringify(value, replacer) {\r\n    try {\r\n        return JSON.stringify(value, replacer);\r\n    }\r\n    catch (e) {\r\n        return safeStringify(value, replacer);\r\n    }\r\n}\r\nfunction isReceiverEvent(event) {\r\n    if (!event) {\r\n        return false;\r\n    }\r\n    try {\r\n        if (typeof event === 'object' &&\r\n            'type' in event &&\r\n            event.type.startsWith('service.')) {\r\n            return true;\r\n        }\r\n    }\r\n    catch (e) {\r\n        return false;\r\n    }\r\n    return false;\r\n}\r\nfunction parseState(stateJSON) {\r\n    var state = State.create(JSON.parse(stateJSON));\r\n    delete state.history;\r\n    return state;\r\n}\r\nfunction parseReceiverEvent(event) {\r\n    switch (event.type) {\r\n        case 'service.event':\r\n            return __assign(__assign({}, event), { event: JSON.parse(event.event) });\r\n        case 'service.register':\r\n            return __assign(__assign({}, event), { machine: createMachine(JSON.parse(event.machine)), state: parseState(event.state) });\r\n        case 'service.state':\r\n            return __assign(__assign({}, event), { state: parseState(event.state) });\r\n        default:\r\n            return event;\r\n    }\r\n}\n\nexport { getLazy, isReceiverEvent, parseReceiverEvent, parseState, stringify };\n","import { __assign, __values } from './_virtual/_tslib.js';\nimport { stringify } from './utils.js';\n\nfunction selectivelyStringify(value, keys, replacer) {\r\n    var e_1, _a;\r\n    var selected = {};\r\n    try {\r\n        for (var keys_1 = __values(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {\r\n            var key = keys_1_1.value;\r\n            selected[key] = value[key];\r\n        }\r\n    }\r\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n    finally {\r\n        try {\r\n            if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return)) _a.call(keys_1);\r\n        }\r\n        finally { if (e_1) throw e_1.error; }\r\n    }\r\n    var serialized = JSON.parse(stringify(selected, replacer));\r\n    return stringify(__assign(__assign({}, value), serialized));\r\n}\r\nfunction stringifyState(state, replacer) {\r\n    return selectivelyStringify(state, ['context', 'event', '_event'], replacer);\r\n}\r\nfunction stringifyMachine(machine, replacer) {\r\n    return selectivelyStringify(machine, ['context'], replacer);\r\n}\n\nexport { selectivelyStringify, stringifyMachine, stringifyState };\n","import { __assign } from './_virtual/_tslib.js';\nimport { interpret } from 'xstate';\nimport { toSCXMLEvent, toEventObject, toObserver, interopSymbols } from 'xstate/lib/utils';\nimport { getLazy, stringify, isReceiverEvent, parseReceiverEvent } from './utils.js';\nimport { stringifyMachine, stringifyState } from './serialize.js';\nimport { createInspectMachine } from './inspectMachine.js';\n\nvar serviceMap = new Map();\r\nfunction createDevTools() {\r\n    var services = new Set();\r\n    var serviceListeners = new Set();\r\n    return {\r\n        services: services,\r\n        register: function (service) {\r\n            services.add(service);\r\n            serviceMap.set(service.sessionId, service);\r\n            serviceListeners.forEach(function (listener) { return listener(service); });\r\n            service.onStop(function () {\r\n                services.delete(service);\r\n                serviceMap.delete(service.sessionId);\r\n            });\r\n        },\r\n        unregister: function (service) {\r\n            services.delete(service);\r\n            serviceMap.delete(service.sessionId);\r\n        },\r\n        onRegister: function (listener) {\r\n            serviceListeners.add(listener);\r\n            services.forEach(function (service) { return listener(service); });\r\n            return {\r\n                unsubscribe: function () {\r\n                    serviceListeners.delete(listener);\r\n                }\r\n            };\r\n        }\r\n    };\r\n}\r\nvar defaultInspectorOptions = {\r\n    url: 'https://statecharts.io/inspect',\r\n    iframe: function () {\r\n        return document.querySelector('iframe[data-xstate]');\r\n    },\r\n    devTools: function () {\r\n        var devTools = createDevTools();\r\n        globalThis.__xstate__ = devTools;\r\n        return devTools;\r\n    },\r\n    serialize: undefined\r\n};\r\nvar getFinalOptions = function (options) {\r\n    var withDefaults = __assign(__assign({}, defaultInspectorOptions), options);\r\n    return __assign(__assign({}, withDefaults), { url: new URL(withDefaults.url), iframe: getLazy(withDefaults.iframe), devTools: getLazy(withDefaults.devTools) });\r\n};\r\nfunction inspect(options) {\r\n    var _a = getFinalOptions(options), iframe = _a.iframe, url = _a.url, devTools = _a.devTools;\r\n    if (iframe === null) {\r\n        console.warn('No suitable <iframe> found to embed the inspector. Please pass an <iframe> element to `inspect(iframe)` or create an <iframe data-xstate></iframe> element.');\r\n        return undefined;\r\n    }\r\n    var inspectMachine = createInspectMachine(devTools, options);\r\n    var inspectService = interpret(inspectMachine).start();\r\n    var listeners = new Set();\r\n    var sub = inspectService.subscribe(function (state) {\r\n        listeners.forEach(function (listener) { return listener.next(state); });\r\n    });\r\n    var targetWindow;\r\n    var client;\r\n    var messageHandler = function (event) {\r\n        if (typeof event.data === 'object' &&\r\n            event.data !== null &&\r\n            'type' in event.data) {\r\n            if (iframe && !targetWindow) {\r\n                targetWindow = iframe.contentWindow;\r\n            }\r\n            if (!client) {\r\n                client = {\r\n                    send: function (e) {\r\n                        targetWindow.postMessage(e, url.origin);\r\n                    }\r\n                };\r\n            }\r\n            var inspectEvent = __assign(__assign({}, event.data), { client: client });\r\n            inspectService.send(inspectEvent);\r\n        }\r\n    };\r\n    window.addEventListener('message', messageHandler);\r\n    window.addEventListener('unload', function () {\r\n        inspectService.send({ type: 'unload' });\r\n    });\r\n    var stringifyWithSerializer = function (value) {\r\n        return stringify(value, options === null || options === void 0 ? void 0 : options.serialize);\r\n    };\r\n    devTools.onRegister(function (service) {\r\n        var _a;\r\n        var state = service.state || service.initialState;\r\n        inspectService.send({\r\n            type: 'service.register',\r\n            machine: stringifyMachine(service.machine, options === null || options === void 0 ? void 0 : options.serialize),\r\n            state: stringifyState(state, options === null || options === void 0 ? void 0 : options.serialize),\r\n            sessionId: service.sessionId,\r\n            id: service.id,\r\n            parent: (_a = service.parent) === null || _a === void 0 ? void 0 : _a.sessionId\r\n        });\r\n        inspectService.send({\r\n            type: 'service.event',\r\n            event: stringifyWithSerializer(state._event),\r\n            sessionId: service.sessionId\r\n        });\r\n        // monkey-patch service.send so that we know when an event was sent\r\n        // to a service *before* it is processed, since other events might occur\r\n        // while the sent one is being processed, which throws the order off\r\n        var originalSend = service.send.bind(service);\r\n        service.send = function inspectSend(event, payload) {\r\n            inspectService.send({\r\n                type: 'service.event',\r\n                event: stringifyWithSerializer(toSCXMLEvent(toEventObject(event, payload))),\r\n                sessionId: service.sessionId\r\n            });\r\n            return originalSend(event, payload);\r\n        };\r\n        service.subscribe(function (state) {\r\n            // filter out synchronous notification from within `.start()` call\r\n            // when the `service.state` has not yet been assigned\r\n            if (state === undefined) {\r\n                return;\r\n            }\r\n            inspectService.send({\r\n                type: 'service.state',\r\n                // TODO: investigate usage of structuredClone in browsers if available\r\n                state: stringifyState(state, options === null || options === void 0 ? void 0 : options.serialize),\r\n                sessionId: service.sessionId\r\n            });\r\n        });\r\n        service.onStop(function () {\r\n            inspectService.send({\r\n                type: 'service.stop',\r\n                sessionId: service.sessionId\r\n            });\r\n        });\r\n    });\r\n    if (iframe) {\r\n        iframe.addEventListener('load', function () {\r\n            targetWindow = iframe.contentWindow;\r\n        });\r\n        iframe.setAttribute('src', String(url));\r\n    }\r\n    else {\r\n        targetWindow = window.open(String(url), 'xstateinspector');\r\n    }\r\n    return {\r\n        send: function (event) {\r\n            inspectService.send(event);\r\n        },\r\n        subscribe: function (next, onError, onComplete) {\r\n            var observer = toObserver(next, onError, onComplete);\r\n            listeners.add(observer);\r\n            observer.next(inspectService.state);\r\n            return {\r\n                unsubscribe: function () {\r\n                    listeners.delete(observer);\r\n                }\r\n            };\r\n        },\r\n        disconnect: function () {\r\n            inspectService.send('disconnect');\r\n            window.removeEventListener('message', messageHandler);\r\n            sub.unsubscribe();\r\n        }\r\n    };\r\n}\r\nfunction createWindowReceiver(options) {\r\n    var _a = options || {}, _b = _a.window, ownWindow = _b === void 0 ? window : _b, _c = _a.targetWindow, targetWindow = _c === void 0 ? window.self === window.top ? window.opener : window.parent : _c;\r\n    var observers = new Set();\r\n    var latestEvent;\r\n    var handler = function (event) {\r\n        var data = event.data;\r\n        if (isReceiverEvent(data)) {\r\n            latestEvent = parseReceiverEvent(data);\r\n            observers.forEach(function (listener) { return listener.next(latestEvent); });\r\n        }\r\n    };\r\n    ownWindow.addEventListener('message', handler);\r\n    var actorRef = __assign({ id: 'xstate.windowReceiver', send: function (event) {\r\n            if (!targetWindow) {\r\n                return;\r\n            }\r\n            targetWindow.postMessage(event, '*');\r\n        }, subscribe: function (next, onError, onComplete) {\r\n            var observer = toObserver(next, onError, onComplete);\r\n            observers.add(observer);\r\n            return {\r\n                unsubscribe: function () {\r\n                    observers.delete(observer);\r\n                }\r\n            };\r\n        }, stop: function () {\r\n            observers.clear();\r\n            ownWindow.removeEventListener('message', handler);\r\n        }, getSnapshot: function () {\r\n            return latestEvent;\r\n        } }, interopSymbols);\r\n    actorRef.send({\r\n        type: 'xstate.inspecting'\r\n    });\r\n    return actorRef;\r\n}\r\nfunction createWebSocketReceiver(options) {\r\n    var _a = options.protocol, protocol = _a === void 0 ? 'ws' : _a;\r\n    var ws = new WebSocket(\"\".concat(protocol, \"://\").concat(options.server));\r\n    var observers = new Set();\r\n    var latestEvent;\r\n    var actorRef = __assign({ id: 'xstate.webSocketReceiver', send: function (event) {\r\n            ws.send(stringify(event, options.serialize));\r\n        }, subscribe: function (next, onError, onComplete) {\r\n            var observer = toObserver(next, onError, onComplete);\r\n            observers.add(observer);\r\n            return {\r\n                unsubscribe: function () {\r\n                    observers.delete(observer);\r\n                }\r\n            };\r\n        }, getSnapshot: function () {\r\n            return latestEvent;\r\n        } }, interopSymbols);\r\n    ws.onopen = function () {\r\n        actorRef.send({\r\n            type: 'xstate.inspecting'\r\n        });\r\n    };\r\n    ws.onmessage = function (event) {\r\n        if (typeof event.data !== 'string') {\r\n            return;\r\n        }\r\n        try {\r\n            var eventObject = JSON.parse(event.data);\r\n            if (isReceiverEvent(eventObject)) {\r\n                latestEvent = parseReceiverEvent(eventObject);\r\n                observers.forEach(function (observer) {\r\n                    observer.next(latestEvent);\r\n                });\r\n            }\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n        }\r\n    };\r\n    ws.onerror = function (err) {\r\n        observers.forEach(function (observer) {\r\n            var _a;\r\n            (_a = observer.error) === null || _a === void 0 ? void 0 : _a.call(observer, err);\r\n        });\r\n    };\r\n    return actorRef;\r\n}\n\nexport { createDevTools, createWebSocketReceiver, createWindowReceiver, inspect, serviceMap };\n","import { createMachine, assign } from 'xstate';\nimport { stringifyMachine, stringifyState } from './serialize.js';\n\nfunction createInspectMachine(devTools, options) {\r\n    if (devTools === void 0) { devTools = globalThis.__xstate__; }\r\n    var serviceMap = new Map();\r\n    // Listen for services being registered and index them\r\n    // by their sessionId for quicker lookup\r\n    var sub = devTools.onRegister(function (service) {\r\n        serviceMap.set(service.sessionId, service);\r\n    });\r\n    return createMachine({\r\n        initial: 'pendingConnection',\r\n        context: {\r\n            client: undefined\r\n        },\r\n        states: {\r\n            pendingConnection: {},\r\n            connected: {\r\n                on: {\r\n                    'service.state': {\r\n                        actions: function (ctx, e) { return ctx.client.send(e); }\r\n                    },\r\n                    'service.event': {\r\n                        actions: function (ctx, e) { return ctx.client.send(e); }\r\n                    },\r\n                    'service.register': {\r\n                        actions: function (ctx, e) { return ctx.client.send(e); }\r\n                    },\r\n                    'service.stop': {\r\n                        actions: function (ctx, e) { return ctx.client.send(e); }\r\n                    },\r\n                    'xstate.event': {\r\n                        actions: function (_, e) {\r\n                            var event = e.event;\r\n                            var scxmlEventObject = JSON.parse(event);\r\n                            var service = serviceMap.get(scxmlEventObject.origin);\r\n                            service === null || service === void 0 ? void 0 : service.send(scxmlEventObject);\r\n                        }\r\n                    },\r\n                    unload: {\r\n                        actions: function (ctx) {\r\n                            ctx.client.send({ type: 'xstate.disconnect' });\r\n                        }\r\n                    },\r\n                    disconnect: 'disconnected'\r\n                }\r\n            },\r\n            disconnected: {\r\n                entry: function () {\r\n                    sub.unsubscribe();\r\n                },\r\n                type: 'final'\r\n            }\r\n        },\r\n        on: {\r\n            'xstate.inspecting': {\r\n                target: '.connected',\r\n                actions: [\r\n                    assign({\r\n                        client: function (_, e) { return e.client; }\r\n                    }),\r\n                    function (ctx) {\r\n                        devTools.services.forEach(function (service) {\r\n                            var _a;\r\n                            (_a = ctx.client) === null || _a === void 0 ? void 0 : _a.send({\r\n                                type: 'service.register',\r\n                                machine: stringifyMachine(service.machine, options === null || options === void 0 ? void 0 : options.serialize),\r\n                                state: stringifyState(service.state || service.initialState, options === null || options === void 0 ? void 0 : options.serialize),\r\n                                sessionId: service.sessionId\r\n                            });\r\n                        });\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    });\r\n}\n\nexport { createInspectMachine };\n","module.exports = stringify\nstringify.default = stringify\nstringify.stable = deterministicStringify\nstringify.stableStringify = deterministicStringify\n\nvar LIMIT_REPLACE_NODE = '[...]'\nvar CIRCULAR_REPLACE_NODE = '[Circular]'\n\nvar arr = []\nvar replacerStack = []\n\nfunction defaultOptions () {\n  return {\n    depthLimit: Number.MAX_SAFE_INTEGER,\n    edgesLimit: Number.MAX_SAFE_INTEGER\n  }\n}\n\n// Regular stringify\nfunction stringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  decirc(obj, '', 0, [], undefined, 0, options)\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(obj, replacer, spacer)\n    } else {\n      res = JSON.stringify(obj, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction setReplace (replace, val, k, parent) {\n  var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n  if (propertyDescriptor.get !== undefined) {\n    if (propertyDescriptor.configurable) {\n      Object.defineProperty(parent, k, { value: replace })\n      arr.push([parent, k, val, propertyDescriptor])\n    } else {\n      replacerStack.push([val, k, replace])\n    }\n  } else {\n    parent[k] = replace\n    arr.push([parent, k, val])\n  }\n}\n\nfunction decirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        decirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      var keys = Object.keys(val)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        decirc(val[key], key, i, stack, val, depth, options)\n      }\n    }\n    stack.pop()\n  }\n}\n\n// Stable-stringify\nfunction compareFunction (a, b) {\n  if (a < b) {\n    return -1\n  }\n  if (a > b) {\n    return 1\n  }\n  return 0\n}\n\nfunction deterministicStringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  var tmp = deterministicDecirc(obj, '', 0, [], undefined, 0, options) || obj\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(tmp, replacer, spacer)\n    } else {\n      res = JSON.stringify(tmp, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    // Ensure that we restore the object as it was.\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction deterministicDecirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n    try {\n      if (typeof val.toJSON === 'function') {\n        return\n      }\n    } catch (_) {\n      return\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        deterministicDecirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      // Create a temporary object in the required way\n      var tmp = {}\n      var keys = Object.keys(val).sort(compareFunction)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        deterministicDecirc(val[key], key, i, stack, val, depth, options)\n        tmp[key] = val[key]\n      }\n      if (typeof parent !== 'undefined') {\n        arr.push([parent, k, val])\n        parent[k] = tmp\n      } else {\n        return tmp\n      }\n    }\n    stack.pop()\n  }\n}\n\n// wraps replacer function to handle values we couldn't replace\n// and mark them as replaced value\nfunction replaceGetterValues (replacer) {\n  replacer =\n    typeof replacer !== 'undefined'\n      ? replacer\n      : function (k, v) {\n        return v\n      }\n  return function (key, val) {\n    if (replacerStack.length > 0) {\n      for (var i = 0; i < replacerStack.length; i++) {\n        var part = replacerStack[i]\n        if (part[1] === key && part[0] === val) {\n          val = part[2]\n          replacerStack.splice(i, 1)\n          break\n        }\n      }\n    }\n    return replacer.call(this, key, val)\n  }\n}\n","/**\n * [js-sha256]{@link https://github.com/emn178/js-sha256}\n *\n * @version 0.9.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2017\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA256_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var K = [\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n  ];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  var createOutputMethod = function (outputType, is224) {\n    return function (message) {\n      return new Sha256(is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function (is224) {\n    var method = createOutputMethod('hex', is224);\n    if (NODE_JS) {\n      method = nodeWrap(method, is224);\n    }\n    method.create = function () {\n      return new Sha256(is224);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  var nodeWrap = function (method, is224) {\n    var crypto = eval(\"require('crypto')\");\n    var Buffer = eval(\"require('buffer').Buffer\");\n    var algorithm = is224 ? 'sha224' : 'sha256';\n    var nodeMethod = function (message) {\n      if (typeof message === 'string') {\n        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw new Error(ERROR);\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n      if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n        message.constructor === Buffer) {\n        return crypto.createHash(algorithm).update(new Buffer(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n    return nodeMethod;\n  };\n\n  var createHmacOutputMethod = function (outputType, is224) {\n    return function (key, message) {\n      return new HmacSha256(key, is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createHmacMethod = function (is224) {\n    var method = createHmacOutputMethod('hex', is224);\n    method.create = function (key) {\n      return new HmacSha256(key, is224);\n    };\n    method.update = function (key, message) {\n      return method.create(key).update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createHmacOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  function Sha256(is224, sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    if (is224) {\n      this.h0 = 0xc1059ed8;\n      this.h1 = 0x367cd507;\n      this.h2 = 0x3070dd17;\n      this.h3 = 0xf70e5939;\n      this.h4 = 0xffc00b31;\n      this.h5 = 0x68581511;\n      this.h6 = 0x64f98fa7;\n      this.h7 = 0xbefa4fa4;\n    } else { // 256\n      this.h0 = 0x6a09e667;\n      this.h1 = 0xbb67ae85;\n      this.h2 = 0x3c6ef372;\n      this.h3 = 0xa54ff53a;\n      this.h4 = 0x510e527f;\n      this.h5 = 0x9b05688c;\n      this.h6 = 0x1f83d9ab;\n      this.h7 = 0x5be0cd19;\n    }\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n    this.is224 = is224;\n  }\n\n  Sha256.prototype.update = function (message) {\n    if (this.finalized) {\n      return;\n    }\n    var notString, type = typeof message;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (message === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        } else if (!Array.isArray(message)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n      notString = true;\n    }\n    var code, index = 0, i, length = message.length, blocks = this.blocks;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n          blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n          blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n          blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (notString) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.block = blocks[16];\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha256.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[16] = this.block;\n    blocks[i >> 2] |= EXTRA[i & 3];\n    this.block = blocks[16];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;\n    blocks[15] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha256.prototype.hash = function () {\n    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,\n      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\n    for (j = 16; j < 64; ++j) {\n      // rightrotate\n      t1 = blocks[j - 15];\n      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);\n      t1 = blocks[j - 2];\n      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);\n      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;\n    }\n\n    bc = b & c;\n    for (j = 0; j < 64; j += 4) {\n      if (this.first) {\n        if (this.is224) {\n          ab = 300032;\n          t1 = blocks[0] - 1413257819;\n          h = t1 - 150054599 << 0;\n          d = t1 + 24177077 << 0;\n        } else {\n          ab = 704751109;\n          t1 = blocks[0] - 210244248;\n          h = t1 - 1521486534 << 0;\n          d = t1 + 143694565 << 0;\n        }\n        this.first = false;\n      } else {\n        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));\n        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));\n        ab = a & b;\n        maj = ab ^ (a & c) ^ bc;\n        ch = (e & f) ^ (~e & g);\n        t1 = h + s1 + ch + K[j] + blocks[j];\n        t2 = s0 + maj;\n        h = d + t1 << 0;\n        d = t1 + t2 << 0;\n      }\n      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));\n      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));\n      da = d & a;\n      maj = da ^ (d & b) ^ ab;\n      ch = (h & e) ^ (~h & f);\n      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];\n      t2 = s0 + maj;\n      g = c + t1 << 0;\n      c = t1 + t2 << 0;\n      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));\n      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));\n      cd = c & d;\n      maj = cd ^ (c & a) ^ da;\n      ch = (g & h) ^ (~g & e);\n      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];\n      t2 = s0 + maj;\n      f = b + t1 << 0;\n      b = t1 + t2 << 0;\n      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));\n      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));\n      bc = b & c;\n      maj = bc ^ (b & d) ^ cd;\n      ch = (f & g) ^ (~f & h);\n      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];\n      t2 = s0 + maj;\n      e = a + t1 << 0;\n      a = t1 + t2 << 0;\n    }\n\n    this.h0 = this.h0 + a << 0;\n    this.h1 = this.h1 + b << 0;\n    this.h2 = this.h2 + c << 0;\n    this.h3 = this.h3 + d << 0;\n    this.h4 = this.h4 + e << 0;\n    this.h5 = this.h5 + f << 0;\n    this.h6 = this.h6 + g << 0;\n    this.h7 = this.h7 + h << 0;\n  };\n\n  Sha256.prototype.hex = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var hex = HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n      HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +\n      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n      HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +\n      HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +\n      HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +\n      HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +\n      HEX_CHARS[(h5 >> 28) & 0x0F] + HEX_CHARS[(h5 >> 24) & 0x0F] +\n      HEX_CHARS[(h5 >> 20) & 0x0F] + HEX_CHARS[(h5 >> 16) & 0x0F] +\n      HEX_CHARS[(h5 >> 12) & 0x0F] + HEX_CHARS[(h5 >> 8) & 0x0F] +\n      HEX_CHARS[(h5 >> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +\n      HEX_CHARS[(h6 >> 28) & 0x0F] + HEX_CHARS[(h6 >> 24) & 0x0F] +\n      HEX_CHARS[(h6 >> 20) & 0x0F] + HEX_CHARS[(h6 >> 16) & 0x0F] +\n      HEX_CHARS[(h6 >> 12) & 0x0F] + HEX_CHARS[(h6 >> 8) & 0x0F] +\n      HEX_CHARS[(h6 >> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];\n    if (!this.is224) {\n      hex += HEX_CHARS[(h7 >> 28) & 0x0F] + HEX_CHARS[(h7 >> 24) & 0x0F] +\n        HEX_CHARS[(h7 >> 20) & 0x0F] + HEX_CHARS[(h7 >> 16) & 0x0F] +\n        HEX_CHARS[(h7 >> 12) & 0x0F] + HEX_CHARS[(h7 >> 8) & 0x0F] +\n        HEX_CHARS[(h7 >> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];\n    }\n    return hex;\n  };\n\n  Sha256.prototype.toString = Sha256.prototype.hex;\n\n  Sha256.prototype.digest = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var arr = [\n      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,\n      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,\n      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,\n      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,\n      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF,\n      (h5 >> 24) & 0xFF, (h5 >> 16) & 0xFF, (h5 >> 8) & 0xFF, h5 & 0xFF,\n      (h6 >> 24) & 0xFF, (h6 >> 16) & 0xFF, (h6 >> 8) & 0xFF, h6 & 0xFF\n    ];\n    if (!this.is224) {\n      arr.push((h7 >> 24) & 0xFF, (h7 >> 16) & 0xFF, (h7 >> 8) & 0xFF, h7 & 0xFF);\n    }\n    return arr;\n  };\n\n  Sha256.prototype.array = Sha256.prototype.digest;\n\n  Sha256.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0);\n    dataView.setUint32(4, this.h1);\n    dataView.setUint32(8, this.h2);\n    dataView.setUint32(12, this.h3);\n    dataView.setUint32(16, this.h4);\n    dataView.setUint32(20, this.h5);\n    dataView.setUint32(24, this.h6);\n    if (!this.is224) {\n      dataView.setUint32(28, this.h7);\n    }\n    return buffer;\n  };\n\n  function HmacSha256(key, is224, sharedMemory) {\n    var i, type = typeof key;\n    if (type === 'string') {\n      var bytes = [], length = key.length, index = 0, code;\n      for (i = 0; i < length; ++i) {\n        code = key.charCodeAt(i);\n        if (code < 0x80) {\n          bytes[index++] = code;\n        } else if (code < 0x800) {\n          bytes[index++] = (0xc0 | (code >> 6));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes[index++] = (0xe0 | (code >> 12));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));\n          bytes[index++] = (0xf0 | (code >> 18));\n          bytes[index++] = (0x80 | ((code >> 12) & 0x3f));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        }\n      }\n      key = bytes;\n    } else {\n      if (type === 'object') {\n        if (key === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && key.constructor === ArrayBuffer) {\n          key = new Uint8Array(key);\n        } else if (!Array.isArray(key)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n    }\n\n    if (key.length > 64) {\n      key = (new Sha256(is224, true)).update(key).array();\n    }\n\n    var oKeyPad = [], iKeyPad = [];\n    for (i = 0; i < 64; ++i) {\n      var b = key[i] || 0;\n      oKeyPad[i] = 0x5c ^ b;\n      iKeyPad[i] = 0x36 ^ b;\n    }\n\n    Sha256.call(this, is224, sharedMemory);\n\n    this.update(iKeyPad);\n    this.oKeyPad = oKeyPad;\n    this.inner = true;\n    this.sharedMemory = sharedMemory;\n  }\n  HmacSha256.prototype = new Sha256();\n\n  HmacSha256.prototype.finalize = function () {\n    Sha256.prototype.finalize.call(this);\n    if (this.inner) {\n      this.inner = false;\n      var innerHash = this.array();\n      Sha256.call(this, this.is224, this.sharedMemory);\n      this.update(this.oKeyPad);\n      this.update(innerHash);\n      Sha256.prototype.finalize.call(this);\n    }\n  };\n\n  var exports = createMethod();\n  exports.sha256 = exports;\n  exports.sha224 = createMethod(true);\n  exports.sha256.hmac = createHmacMethod();\n  exports.sha224.hmac = createHmacMethod(true);\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha256 = exports.sha256;\n    root.sha224 = exports.sha224;\n    if (AMD) {\n      define(function () {\n        return exports;\n      });\n    }\n  }\n})();\n","/*\n * Copyright 2016 Red Hat, Inc. and/or its affiliates\n * and other contributors as indicated by the @author tags.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(function(root, factory) {\n    if ( typeof exports === 'object' ) {\n        if ( typeof module === 'object' ) {\n            module.exports = factory( require(\"js-sha256\"), require(\"base64-js\") );    \n        } else {\n            exports[\"keycloak\"] = factory( require(\"js-sha256\"), require(\"base64-js\") );    \n        }\n    } else {\n        /**\n        * [js-sha256]{@link https://github.com/emn178/js-sha256}\n        *\n        * @version 0.9.0\n        * @author Chen, Yi-Cyuan [emn178@gmail.com]\n        * @copyright Chen, Yi-Cyuan 2014-2017\n        * @license MIT\n        */\n        !function () { \"use strict\"; function t(t, i) { i ? (d[0] = d[16] = d[1] = d[2] = d[3] = d[4] = d[5] = d[6] = d[7] = d[8] = d[9] = d[10] = d[11] = d[12] = d[13] = d[14] = d[15] = 0, this.blocks = d) : this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], t ? (this.h0 = 3238371032, this.h1 = 914150663, this.h2 = 812702999, this.h3 = 4144912697, this.h4 = 4290775857, this.h5 = 1750603025, this.h6 = 1694076839, this.h7 = 3204075428) : (this.h0 = 1779033703, this.h1 = 3144134277, this.h2 = 1013904242, this.h3 = 2773480762, this.h4 = 1359893119, this.h5 = 2600822924, this.h6 = 528734635, this.h7 = 1541459225), this.block = this.start = this.bytes = this.hBytes = 0, this.finalized = this.hashed = !1, this.first = !0, this.is224 = t } function i(i, r, s) { var e, n = typeof i; if (\"string\" === n) { var o, a = [], u = i.length, c = 0; for (e = 0; e < u; ++e)(o = i.charCodeAt(e)) < 128 ? a[c++] = o : o < 2048 ? (a[c++] = 192 | o >> 6, a[c++] = 128 | 63 & o) : o < 55296 || o >= 57344 ? (a[c++] = 224 | o >> 12, a[c++] = 128 | o >> 6 & 63, a[c++] = 128 | 63 & o) : (o = 65536 + ((1023 & o) << 10 | 1023 & i.charCodeAt(++e)), a[c++] = 240 | o >> 18, a[c++] = 128 | o >> 12 & 63, a[c++] = 128 | o >> 6 & 63, a[c++] = 128 | 63 & o); i = a } else { if (\"object\" !== n) throw new Error(h); if (null === i) throw new Error(h); if (f && i.constructor === ArrayBuffer) i = new Uint8Array(i); else if (!(Array.isArray(i) || f && ArrayBuffer.isView(i))) throw new Error(h) } i.length > 64 && (i = new t(r, !0).update(i).array()); var y = [], p = []; for (e = 0; e < 64; ++e) { var l = i[e] || 0; y[e] = 92 ^ l, p[e] = 54 ^ l } t.call(this, r, s), this.update(p), this.oKeyPad = y, this.inner = !0, this.sharedMemory = s } var h = \"input is invalid type\", r = \"object\" == typeof window, s = r ? window : {}; s.JS_SHA256_NO_WINDOW && (r = !1); var e = !r && \"object\" == typeof self, n = !s.JS_SHA256_NO_NODE_JS && \"object\" == typeof process && process.versions && process.versions.node; n ? s = global : e && (s = self); var o = !s.JS_SHA256_NO_COMMON_JS && \"object\" == typeof module && module.exports, a = \"function\" == typeof define && define.amd, f = !s.JS_SHA256_NO_ARRAY_BUFFER && \"undefined\" != typeof ArrayBuffer, u = \"0123456789abcdef\".split(\"\"), c = [-2147483648, 8388608, 32768, 128], y = [24, 16, 8, 0], p = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298], l = [\"hex\", \"array\", \"digest\", \"arrayBuffer\"], d = []; !s.JS_SHA256_NO_NODE_JS && Array.isArray || (Array.isArray = function (t) { return \"[object Array]\" === Object.prototype.toString.call(t) }), !f || !s.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW && ArrayBuffer.isView || (ArrayBuffer.isView = function (t) { return \"object\" == typeof t && t.buffer && t.buffer.constructor === ArrayBuffer }); var A = function (i, h) { return function (r) { return new t(h, !0).update(r)[i]() } }, w = function (i) { var h = A(\"hex\", i); n && (h = b(h, i)), h.create = function () { return new t(i) }, h.update = function (t) { return h.create().update(t) }; for (var r = 0; r < l.length; ++r) { var s = l[r]; h[s] = A(s, i) } return h }, b = function (t, i) { var r = eval(\"require('crypto')\"), s = eval(\"require('buffer').Buffer\"), e = i ? \"sha224\" : \"sha256\", n = function (i) { if (\"string\" == typeof i) return r.createHash(e).update(i, \"utf8\").digest(\"hex\"); if (null === i || void 0 === i) throw new Error(h); return i.constructor === ArrayBuffer && (i = new Uint8Array(i)), Array.isArray(i) || ArrayBuffer.isView(i) || i.constructor === s ? r.createHash(e).update(new s(i)).digest(\"hex\") : t(i) }; return n }, v = function (t, h) { return function (r, s) { return new i(r, h, !0).update(s)[t]() } }, _ = function (t) { var h = v(\"hex\", t); h.create = function (h) { return new i(h, t) }, h.update = function (t, i) { return h.create(t).update(i) }; for (var r = 0; r < l.length; ++r) { var s = l[r]; h[s] = v(s, t) } return h }; t.prototype.update = function (t) { if (!this.finalized) { var i, r = typeof t; if (\"string\" !== r) { if (\"object\" !== r) throw new Error(h); if (null === t) throw new Error(h); if (f && t.constructor === ArrayBuffer) t = new Uint8Array(t); else if (!(Array.isArray(t) || f && ArrayBuffer.isView(t))) throw new Error(h); i = !0 } for (var s, e, n = 0, o = t.length, a = this.blocks; n < o;) { if (this.hashed && (this.hashed = !1, a[0] = this.block, a[16] = a[1] = a[2] = a[3] = a[4] = a[5] = a[6] = a[7] = a[8] = a[9] = a[10] = a[11] = a[12] = a[13] = a[14] = a[15] = 0), i) for (e = this.start; n < o && e < 64; ++n)a[e >> 2] |= t[n] << y[3 & e++]; else for (e = this.start; n < o && e < 64; ++n)(s = t.charCodeAt(n)) < 128 ? a[e >> 2] |= s << y[3 & e++] : s < 2048 ? (a[e >> 2] |= (192 | s >> 6) << y[3 & e++], a[e >> 2] |= (128 | 63 & s) << y[3 & e++]) : s < 55296 || s >= 57344 ? (a[e >> 2] |= (224 | s >> 12) << y[3 & e++], a[e >> 2] |= (128 | s >> 6 & 63) << y[3 & e++], a[e >> 2] |= (128 | 63 & s) << y[3 & e++]) : (s = 65536 + ((1023 & s) << 10 | 1023 & t.charCodeAt(++n)), a[e >> 2] |= (240 | s >> 18) << y[3 & e++], a[e >> 2] |= (128 | s >> 12 & 63) << y[3 & e++], a[e >> 2] |= (128 | s >> 6 & 63) << y[3 & e++], a[e >> 2] |= (128 | 63 & s) << y[3 & e++]); this.lastByteIndex = e, this.bytes += e - this.start, e >= 64 ? (this.block = a[16], this.start = e - 64, this.hash(), this.hashed = !0) : this.start = e } return this.bytes > 4294967295 && (this.hBytes += this.bytes / 4294967296 << 0, this.bytes = this.bytes % 4294967296), this } }, t.prototype.finalize = function () { if (!this.finalized) { this.finalized = !0; var t = this.blocks, i = this.lastByteIndex; t[16] = this.block, t[i >> 2] |= c[3 & i], this.block = t[16], i >= 56 && (this.hashed || this.hash(), t[0] = this.block, t[16] = t[1] = t[2] = t[3] = t[4] = t[5] = t[6] = t[7] = t[8] = t[9] = t[10] = t[11] = t[12] = t[13] = t[14] = t[15] = 0), t[14] = this.hBytes << 3 | this.bytes >>> 29, t[15] = this.bytes << 3, this.hash() } }, t.prototype.hash = function () { var t, i, h, r, s, e, n, o, a, f = this.h0, u = this.h1, c = this.h2, y = this.h3, l = this.h4, d = this.h5, A = this.h6, w = this.h7, b = this.blocks; for (t = 16; t < 64; ++t)i = ((s = b[t - 15]) >>> 7 | s << 25) ^ (s >>> 18 | s << 14) ^ s >>> 3, h = ((s = b[t - 2]) >>> 17 | s << 15) ^ (s >>> 19 | s << 13) ^ s >>> 10, b[t] = b[t - 16] + i + b[t - 7] + h << 0; for (a = u & c, t = 0; t < 64; t += 4)this.first ? (this.is224 ? (e = 300032, w = (s = b[0] - 1413257819) - 150054599 << 0, y = s + 24177077 << 0) : (e = 704751109, w = (s = b[0] - 210244248) - 1521486534 << 0, y = s + 143694565 << 0), this.first = !1) : (i = (f >>> 2 | f << 30) ^ (f >>> 13 | f << 19) ^ (f >>> 22 | f << 10), r = (e = f & u) ^ f & c ^ a, w = y + (s = w + (h = (l >>> 6 | l << 26) ^ (l >>> 11 | l << 21) ^ (l >>> 25 | l << 7)) + (l & d ^ ~l & A) + p[t] + b[t]) << 0, y = s + (i + r) << 0), i = (y >>> 2 | y << 30) ^ (y >>> 13 | y << 19) ^ (y >>> 22 | y << 10), r = (n = y & f) ^ y & u ^ e, A = c + (s = A + (h = (w >>> 6 | w << 26) ^ (w >>> 11 | w << 21) ^ (w >>> 25 | w << 7)) + (w & l ^ ~w & d) + p[t + 1] + b[t + 1]) << 0, i = ((c = s + (i + r) << 0) >>> 2 | c << 30) ^ (c >>> 13 | c << 19) ^ (c >>> 22 | c << 10), r = (o = c & y) ^ c & f ^ n, d = u + (s = d + (h = (A >>> 6 | A << 26) ^ (A >>> 11 | A << 21) ^ (A >>> 25 | A << 7)) + (A & w ^ ~A & l) + p[t + 2] + b[t + 2]) << 0, i = ((u = s + (i + r) << 0) >>> 2 | u << 30) ^ (u >>> 13 | u << 19) ^ (u >>> 22 | u << 10), r = (a = u & c) ^ u & y ^ o, l = f + (s = l + (h = (d >>> 6 | d << 26) ^ (d >>> 11 | d << 21) ^ (d >>> 25 | d << 7)) + (d & A ^ ~d & w) + p[t + 3] + b[t + 3]) << 0, f = s + (i + r) << 0; this.h0 = this.h0 + f << 0, this.h1 = this.h1 + u << 0, this.h2 = this.h2 + c << 0, this.h3 = this.h3 + y << 0, this.h4 = this.h4 + l << 0, this.h5 = this.h5 + d << 0, this.h6 = this.h6 + A << 0, this.h7 = this.h7 + w << 0 }, t.prototype.hex = function () { this.finalize(); var t = this.h0, i = this.h1, h = this.h2, r = this.h3, s = this.h4, e = this.h5, n = this.h6, o = this.h7, a = u[t >> 28 & 15] + u[t >> 24 & 15] + u[t >> 20 & 15] + u[t >> 16 & 15] + u[t >> 12 & 15] + u[t >> 8 & 15] + u[t >> 4 & 15] + u[15 & t] + u[i >> 28 & 15] + u[i >> 24 & 15] + u[i >> 20 & 15] + u[i >> 16 & 15] + u[i >> 12 & 15] + u[i >> 8 & 15] + u[i >> 4 & 15] + u[15 & i] + u[h >> 28 & 15] + u[h >> 24 & 15] + u[h >> 20 & 15] + u[h >> 16 & 15] + u[h >> 12 & 15] + u[h >> 8 & 15] + u[h >> 4 & 15] + u[15 & h] + u[r >> 28 & 15] + u[r >> 24 & 15] + u[r >> 20 & 15] + u[r >> 16 & 15] + u[r >> 12 & 15] + u[r >> 8 & 15] + u[r >> 4 & 15] + u[15 & r] + u[s >> 28 & 15] + u[s >> 24 & 15] + u[s >> 20 & 15] + u[s >> 16 & 15] + u[s >> 12 & 15] + u[s >> 8 & 15] + u[s >> 4 & 15] + u[15 & s] + u[e >> 28 & 15] + u[e >> 24 & 15] + u[e >> 20 & 15] + u[e >> 16 & 15] + u[e >> 12 & 15] + u[e >> 8 & 15] + u[e >> 4 & 15] + u[15 & e] + u[n >> 28 & 15] + u[n >> 24 & 15] + u[n >> 20 & 15] + u[n >> 16 & 15] + u[n >> 12 & 15] + u[n >> 8 & 15] + u[n >> 4 & 15] + u[15 & n]; return this.is224 || (a += u[o >> 28 & 15] + u[o >> 24 & 15] + u[o >> 20 & 15] + u[o >> 16 & 15] + u[o >> 12 & 15] + u[o >> 8 & 15] + u[o >> 4 & 15] + u[15 & o]), a }, t.prototype.toString = t.prototype.hex, t.prototype.digest = function () { this.finalize(); var t = this.h0, i = this.h1, h = this.h2, r = this.h3, s = this.h4, e = this.h5, n = this.h6, o = this.h7, a = [t >> 24 & 255, t >> 16 & 255, t >> 8 & 255, 255 & t, i >> 24 & 255, i >> 16 & 255, i >> 8 & 255, 255 & i, h >> 24 & 255, h >> 16 & 255, h >> 8 & 255, 255 & h, r >> 24 & 255, r >> 16 & 255, r >> 8 & 255, 255 & r, s >> 24 & 255, s >> 16 & 255, s >> 8 & 255, 255 & s, e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e, n >> 24 & 255, n >> 16 & 255, n >> 8 & 255, 255 & n]; return this.is224 || a.push(o >> 24 & 255, o >> 16 & 255, o >> 8 & 255, 255 & o), a }, t.prototype.array = t.prototype.digest, t.prototype.arrayBuffer = function () { this.finalize(); var t = new ArrayBuffer(this.is224 ? 28 : 32), i = new DataView(t); return i.setUint32(0, this.h0), i.setUint32(4, this.h1), i.setUint32(8, this.h2), i.setUint32(12, this.h3), i.setUint32(16, this.h4), i.setUint32(20, this.h5), i.setUint32(24, this.h6), this.is224 || i.setUint32(28, this.h7), t }, i.prototype = new t, i.prototype.finalize = function () { if (t.prototype.finalize.call(this), this.inner) { this.inner = !1; var i = this.array(); t.call(this, this.is224, this.sharedMemory), this.update(this.oKeyPad), this.update(i), t.prototype.finalize.call(this) } }; var B = w(); B.sha256 = B, B.sha224 = w(!0), B.sha256.hmac = _(), B.sha224.hmac = _(!0), o ? module.exports = B : (s.sha256 = B.sha256, s.sha224 = B.sha224, a && define(function () { return B })) }();\n\n        /**\n         * [base64-js]{@link https://github.com/beatgammit/base64-js}\n         *\n         * @version v1.3.0 \n         * @author Kirill, Fomichev\n         * @copyright Kirill, Fomichev 2014\n         * @license MIT\n         */\n        (function (r) { if (typeof exports === \"object\" && typeof module !== \"undefined\") { module.exports = r() } else if (typeof define === \"function\" && define.amd) { define([], r) } else { var e; if (typeof window !== \"undefined\") { e = window } else if (typeof global !== \"undefined\") { e = global } else if (typeof self !== \"undefined\") { e = self } else { e = this } e.base64js = r() } })(function () { var r, e, n; return function () { function r(e, n, t) { function o(f, i) { if (!n[f]) { if (!e[f]) { var u = \"function\" == typeof require && require; if (!i && u) return u(f, !0); if (a) return a(f, !0); var v = new Error(\"Cannot find module '\" + f + \"'\"); throw v.code = \"MODULE_NOT_FOUND\", v } var d = n[f] = { exports: {} }; e[f][0].call(d.exports, function (r) { var n = e[f][1][r]; return o(n || r) }, d, d.exports, r, e, n, t) } return n[f].exports } for (var a = \"function\" == typeof require && require, f = 0; f < t.length; f++)o(t[f]); return o } return r }()({ \"/\": [function (r, e, n) { \"use strict\"; n.byteLength = d; n.toByteArray = h; n.fromByteArray = p; var t = []; var o = []; var a = typeof Uint8Array !== \"undefined\" ? Uint8Array : Array; var f = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"; for (var i = 0, u = f.length; i < u; ++i) { t[i] = f[i]; o[f.charCodeAt(i)] = i } o[\"-\".charCodeAt(0)] = 62; o[\"_\".charCodeAt(0)] = 63; function v(r) { var e = r.length; if (e % 4 > 0) { throw new Error(\"Invalid string. Length must be a multiple of 4\") } var n = r.indexOf(\"=\"); if (n === -1) n = e; var t = n === e ? 0 : 4 - n % 4; return [n, t] } function d(r) { var e = v(r); var n = e[0]; var t = e[1]; return (n + t) * 3 / 4 - t } function c(r, e, n) { return (e + n) * 3 / 4 - n } function h(r) { var e; var n = v(r); var t = n[0]; var f = n[1]; var i = new a(c(r, t, f)); var u = 0; var d = f > 0 ? t - 4 : t; for (var h = 0; h < d; h += 4) { e = o[r.charCodeAt(h)] << 18 | o[r.charCodeAt(h + 1)] << 12 | o[r.charCodeAt(h + 2)] << 6 | o[r.charCodeAt(h + 3)]; i[u++] = e >> 16 & 255; i[u++] = e >> 8 & 255; i[u++] = e & 255 } if (f === 2) { e = o[r.charCodeAt(h)] << 2 | o[r.charCodeAt(h + 1)] >> 4; i[u++] = e & 255 } if (f === 1) { e = o[r.charCodeAt(h)] << 10 | o[r.charCodeAt(h + 1)] << 4 | o[r.charCodeAt(h + 2)] >> 2; i[u++] = e >> 8 & 255; i[u++] = e & 255 } return i } function s(r) { return t[r >> 18 & 63] + t[r >> 12 & 63] + t[r >> 6 & 63] + t[r & 63] } function l(r, e, n) { var t; var o = []; for (var a = e; a < n; a += 3) { t = (r[a] << 16 & 16711680) + (r[a + 1] << 8 & 65280) + (r[a + 2] & 255); o.push(s(t)) } return o.join(\"\") } function p(r) { var e; var n = r.length; var o = n % 3; var a = []; var f = 16383; for (var i = 0, u = n - o; i < u; i += f) { a.push(l(r, i, i + f > u ? u : i + f)) } if (o === 1) { e = r[n - 1]; a.push(t[e >> 2] + t[e << 4 & 63] + \"==\") } else if (o === 2) { e = (r[n - 2] << 8) + r[n - 1]; a.push(t[e >> 10] + t[e >> 4 & 63] + t[e << 2 & 63] + \"=\") } return a.join(\"\") } }, {}] }, {}, [])(\"/\") });\n\n        var Keycloak = factory( root[\"sha256\"], root[\"base64js\"] );\n        root[\"Keycloak\"] = Keycloak;\n\n        if ( typeof define === \"function\" && define.amd ) { \n            define( \"keycloak\", [], function () { return Keycloak; } );\n        }\n    }\n})(window, function (sha256_imported, base64js_imported) {\n    function Keycloak (config) {\n        if (!(this instanceof Keycloak)) {\n            return new Keycloak(config);\n        }\n\n        var kc = this;\n        var adapter;\n        var refreshQueue = [];\n        var callbackStorage;\n\n        var loginIframe = {\n            enable: true,\n            callbackList: [],\n            interval: 5\n        };\n\n        var scripts = document.getElementsByTagName('script');\n        for (var i = 0; i < scripts.length; i++) {\n            if ((scripts[i].src.indexOf('keycloak.js') !== -1 || scripts[i].src.indexOf('keycloak.min.js') !== -1) && scripts[i].src.indexOf('version=') !== -1) {\n                kc.iframeVersion = scripts[i].src.substring(scripts[i].src.indexOf('version=') + 8).split('&')[0];\n            }\n        }\n\n        var useNonce = true;\n        var logInfo = createLogger(console.info);\n        var logWarn = createLogger(console.warn);\n        \n        kc.init = function (initOptions) {\n            kc.authenticated = false;\n\n            callbackStorage = createCallbackStorage();\n            var adapters = ['default', 'cordova', 'cordova-native'];\n\n            if (initOptions && adapters.indexOf(initOptions.adapter) > -1) {\n                adapter = loadAdapter(initOptions.adapter);\n            } else if (initOptions && typeof initOptions.adapter === \"object\") {\n                adapter = initOptions.adapter;\n            } else {\n                if (window.Cordova || window.cordova) {\n                    adapter = loadAdapter('cordova');\n                } else {\n                    adapter = loadAdapter();\n                }\n            }\n\n            if (initOptions) {\n                if (typeof initOptions.useNonce !== 'undefined') {\n                    useNonce = initOptions.useNonce;\n                }\n\n                if (typeof initOptions.checkLoginIframe !== 'undefined') {\n                    loginIframe.enable = initOptions.checkLoginIframe;\n                }\n\n                if (initOptions.checkLoginIframeInterval) {\n                    loginIframe.interval = initOptions.checkLoginIframeInterval;\n                }\n\n                if (initOptions.promiseType === 'native') {\n                    kc.useNativePromise = true;\n                } else {\n                    console.warn('[KEYCLOAK] Using legacy promises is deprecated and will be removed in future versions. You can opt in to using native promises by setting `promiseType` to \\'native\\' when initializing Keycloak.');\n                    kc.useNativePromise = false;\n                }\n\n                if (initOptions.onLoad === 'login-required') {\n                    kc.loginRequired = true;\n                }\n\n                if (initOptions.responseMode) {\n                    if (initOptions.responseMode === 'query' || initOptions.responseMode === 'fragment') {\n                        kc.responseMode = initOptions.responseMode;\n                    } else {\n                        throw 'Invalid value for responseMode';\n                    }\n                }\n\n                if (initOptions.flow) {\n                    switch (initOptions.flow) {\n                        case 'standard':\n                            kc.responseType = 'code';\n                            break;\n                        case 'implicit':\n                            kc.responseType = 'id_token token';\n                            break;\n                        case 'hybrid':\n                            kc.responseType = 'code id_token token';\n                            break;\n                        default:\n                            throw 'Invalid value for flow';\n                    }\n                    kc.flow = initOptions.flow;\n                }\n\n                if (initOptions.timeSkew != null) {\n                    kc.timeSkew = initOptions.timeSkew;\n                }\n\n                if(initOptions.redirectUri) {\n                    kc.redirectUri = initOptions.redirectUri;\n                }\n\n                if (initOptions.silentCheckSsoRedirectUri) {\n                    kc.silentCheckSsoRedirectUri = initOptions.silentCheckSsoRedirectUri;\n                }\n\n                if (initOptions.pkceMethod) {\n                    if (initOptions.pkceMethod !== \"S256\") {\n                        throw 'Invalid value for pkceMethod';\n                    }\n                    kc.pkceMethod = initOptions.pkceMethod;\n                }\n\n                if (typeof initOptions.enableLogging === 'boolean') {\n                    kc.enableLogging = initOptions.enableLogging;\n                } else {\n                    kc.enableLogging = false;\n                }\n            }\n\n            if (!kc.responseMode) {\n                kc.responseMode = 'fragment';\n            }\n            if (!kc.responseType) {\n                kc.responseType = 'code';\n                kc.flow = 'standard';\n            }\n\n            var promise = createPromise(false);\n\n            var initPromise = createPromise(true);\n            initPromise.promise.success(function() {\n                kc.onReady && kc.onReady(kc.authenticated);\n                promise.setSuccess(kc.authenticated);\n            }).error(function(errorData) {\n                promise.setError(errorData);\n            });\n\n            var configPromise = loadConfig(config);\n\n            function onLoad() {\n                var doLogin = function(prompt) {\n                    if (!prompt) {\n                        options.prompt = 'none';\n                    }\n                    if (kc.useNativePromise) {\n                        kc.login(options).then(function () {\n                            initPromise.setSuccess();\n                        }).catch(function () {\n                            initPromise.setError();\n                        });\n                    } else {\n                        kc.login(options).success(function () {\n                            initPromise.setSuccess();\n                        }).error(function () {\n                            initPromise.setError();\n                        });\n                    }\n                }\n\n                var checkSsoSilently = function() {\n                    var ifrm = document.createElement(\"iframe\");\n                    var src = kc.createLoginUrl({prompt: 'none', redirectUri: kc.silentCheckSsoRedirectUri});\n                    ifrm.setAttribute(\"src\", src);\n                    ifrm.setAttribute(\"title\", \"keycloak-silent-check-sso\");\n                    ifrm.style.display = \"none\";\n                    document.body.appendChild(ifrm);\n\n                    var messageCallback = function(event) {\n                        if (event.origin !== window.location.origin || ifrm.contentWindow !== event.source) {\n                            return;\n                        }\n\n                        var oauth = parseCallback(event.data);\n                        processCallback(oauth, initPromise);\n\n                        document.body.removeChild(ifrm);\n                        window.removeEventListener(\"message\", messageCallback);\n                    };\n\n                    window.addEventListener(\"message\", messageCallback);\n                };\n\n                var options = {};\n                switch (initOptions.onLoad) {\n                    case 'check-sso':\n                        if (loginIframe.enable) {\n                            setupCheckLoginIframe().success(function() {\n                                checkLoginIframe().success(function (unchanged) {\n                                    if (!unchanged) {\n                                        kc.silentCheckSsoRedirectUri ? checkSsoSilently() : doLogin(false);\n                                    } else {\n                                        initPromise.setSuccess();\n                                    }\n                                }).error(function () {\n                                    initPromise.setError();\n                                });\n                            });\n                        } else {\n                            kc.silentCheckSsoRedirectUri ? checkSsoSilently() : doLogin(false);\n                        }\n                        break;\n                    case 'login-required':\n                        doLogin(true);\n                        break;\n                    default:\n                        throw 'Invalid value for onLoad';\n                }\n            }\n\n            function processInit() {\n                var callback = parseCallback(window.location.href);\n\n                if (callback) {\n                    window.history.replaceState(window.history.state, null, callback.newUrl);\n                }\n\n                if (callback && callback.valid) {\n                    return setupCheckLoginIframe().success(function() {\n                        processCallback(callback, initPromise);\n                    }).error(function (e) {\n                        initPromise.setError();\n                    });\n                } else if (initOptions) {\n                    if (initOptions.token && initOptions.refreshToken) {\n                        setToken(initOptions.token, initOptions.refreshToken, initOptions.idToken);\n\n                        if (loginIframe.enable) {\n                            setupCheckLoginIframe().success(function() {\n                                checkLoginIframe().success(function (unchanged) {\n                                    if (unchanged) {\n                                        kc.onAuthSuccess && kc.onAuthSuccess();\n                                        initPromise.setSuccess();\n                                        scheduleCheckIframe();\n                                    } else {\n                                        initPromise.setSuccess();\n                                    }\n                                }).error(function () {\n                                    initPromise.setError();\n                                });\n                            });\n                        } else {\n                            kc.updateToken(-1).success(function() {\n                                kc.onAuthSuccess && kc.onAuthSuccess();\n                                initPromise.setSuccess();\n                            }).error(function() {\n                                kc.onAuthError && kc.onAuthError();\n                                if (initOptions.onLoad) {\n                                    onLoad();\n                                } else {\n                                    initPromise.setError();\n                                }\n                            });\n                        }\n                    } else if (initOptions.onLoad) {\n                        onLoad();\n                    } else {\n                        initPromise.setSuccess();\n                    }\n                } else {\n                    initPromise.setSuccess();\n                }\n            }\n\n            configPromise.success(processInit);\n            configPromise.error(function() {\n                promise.setError();\n            });\n\n            return promise.promise;\n        }\n\n        kc.login = function (options) {\n            return adapter.login(options);\n        }\n\n        function generateRandomData(len) {\n            // use web crypto APIs if possible\n            var array = null;\n            var crypto = window.crypto || window.msCrypto;\n            if (crypto && crypto.getRandomValues && window.Uint8Array) {\n                array = new Uint8Array(len);\n                crypto.getRandomValues(array);\n                return array;\n            }\n\n            // fallback to Math random\n            array = new Array(len);\n            for (var j = 0; j < array.length; j++) {\n                array[j] = Math.floor(256 * Math.random());\n            }\n            return array;\n        }\n\n        function generateCodeVerifier(len) {\n            return generateRandomString(len, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789');\n        }\n\n        function generateRandomString(len, alphabet){\n            var randomData = generateRandomData(len);\n            var chars = new Array(len);\n            for (var i = 0; i < len; i++) {\n                chars[i] = alphabet.charCodeAt(randomData[i] % alphabet.length);\n            }\n            return String.fromCharCode.apply(null, chars);\n        }\n\n        function generatePkceChallenge(pkceMethod, codeVerifier) {\n            switch (pkceMethod) {\n                // The use of the \"plain\" method is considered insecure and therefore not supported.\n                case \"S256\":\n                    // hash codeVerifier, then encode as url-safe base64 without padding\n                    var hashBytes = new Uint8Array(sha256_imported.arrayBuffer(codeVerifier));\n                    var encodedHash = base64js_imported.fromByteArray(hashBytes)\n                        .replace(/\\+/g, '-')\n                        .replace(/\\//g, '_')\n                        .replace(/\\=/g, '');\n                    return encodedHash;\n                default:\n                    throw 'Invalid value for pkceMethod';\n            }\n        }\n\n        kc.createLoginUrl = function(options) {\n            var state = createUUID();\n            var nonce = createUUID();\n\n            var redirectUri = adapter.redirectUri(options);\n\n            var callbackState = {\n                state: state,\n                nonce: nonce,\n                redirectUri: encodeURIComponent(redirectUri)\n            };\n\n            if (options && options.prompt) {\n                callbackState.prompt = options.prompt;\n            }\n\n            var baseUrl;\n            if (options && options.action == 'register') {\n                baseUrl = kc.endpoints.register();\n            } else {\n                baseUrl = kc.endpoints.authorize();\n            }\n\n            var scope;\n            if (options && options.scope) {\n                if (options.scope.indexOf(\"openid\") != -1) {\n                    scope = options.scope;\n                } else {\n                    scope = \"openid \" + options.scope;\n                }\n            } else {\n                scope = \"openid\";\n            }\n\n            var url = baseUrl\n                + '?client_id=' + encodeURIComponent(kc.clientId)\n                + '&redirect_uri=' + encodeURIComponent(redirectUri)\n                + '&state=' + encodeURIComponent(state)\n                + '&response_mode=' + encodeURIComponent(kc.responseMode)\n                + '&response_type=' + encodeURIComponent(kc.responseType)\n                + '&scope=' + encodeURIComponent(scope);\n            if (useNonce) {\n                url = url + '&nonce=' + encodeURIComponent(nonce);\n            }\n\n            if (options && options.prompt) {\n                url += '&prompt=' + encodeURIComponent(options.prompt);\n            }\n\n            if (options && options.maxAge) {\n                url += '&max_age=' + encodeURIComponent(options.maxAge);\n            }\n\n            if (options && options.loginHint) {\n                url += '&login_hint=' + encodeURIComponent(options.loginHint);\n            }\n\n            if (options && options.idpHint) {\n                url += '&kc_idp_hint=' + encodeURIComponent(options.idpHint);\n            }\n\n            if (options && options.locale) {\n                url += '&ui_locales=' + encodeURIComponent(options.locale);\n            }\n\n            if (kc.pkceMethod) {\n                var codeVerifier = generateCodeVerifier(96);\n                callbackState.pkceCodeVerifier = codeVerifier;\n                var pkceChallenge = generatePkceChallenge(kc.pkceMethod, codeVerifier);\n                url += '&code_challenge=' + pkceChallenge;\n                url += '&code_challenge_method=' + kc.pkceMethod;\n            }\n\n            callbackStorage.add(callbackState);\n\n            return url;\n        }\n\n        kc.logout = function(options) {\n            return adapter.logout(options);\n        }\n\n        kc.createLogoutUrl = function(options) {\n            var url = kc.endpoints.logout()\n                + '?redirect_uri=' + encodeURIComponent(adapter.redirectUri(options, false));\n\n            return url;\n        }\n\n        kc.register = function (options) {\n            return adapter.register(options);\n        }\n\n        kc.createRegisterUrl = function(options) {\n            if (!options) {\n                options = {};\n            }\n            options.action = 'register';\n            return kc.createLoginUrl(options);\n        }\n\n        kc.createAccountUrl = function(options) {\n            var realm = getRealmUrl();\n            var url = undefined;\n            if (typeof realm !== 'undefined') {\n                url = realm\n                + '/account'\n                + '?referrer=' + encodeURIComponent(kc.clientId)\n                + '&referrer_uri=' + encodeURIComponent(adapter.redirectUri(options));\n            }\n            return url;\n        }\n\n        kc.accountManagement = function() {\n            return adapter.accountManagement();\n        }\n\n        kc.hasRealmRole = function (role) {\n            var access = kc.realmAccess;\n            return !!access && access.roles.indexOf(role) >= 0;\n        }\n\n        kc.hasResourceRole = function(role, resource) {\n            if (!kc.resourceAccess) {\n                return false;\n            }\n\n            var access = kc.resourceAccess[resource || kc.clientId];\n            return !!access && access.roles.indexOf(role) >= 0;\n        }\n\n        kc.loadUserProfile = function() {\n            var url = getRealmUrl() + '/account';\n            var req = new XMLHttpRequest();\n            req.open('GET', url, true);\n            req.setRequestHeader('Accept', 'application/json');\n            req.setRequestHeader('Authorization', 'bearer ' + kc.token);\n\n            var promise = createPromise(false);\n\n            req.onreadystatechange = function () {\n                if (req.readyState == 4) {\n                    if (req.status == 200) {\n                        kc.profile = JSON.parse(req.responseText);\n                        promise.setSuccess(kc.profile);\n                    } else {\n                        promise.setError();\n                    }\n                }\n            }\n\n            req.send();\n\n            return promise.promise;\n        }\n\n        kc.loadUserInfo = function() {\n            var url = kc.endpoints.userinfo();\n            var req = new XMLHttpRequest();\n            req.open('GET', url, true);\n            req.setRequestHeader('Accept', 'application/json');\n            req.setRequestHeader('Authorization', 'bearer ' + kc.token);\n\n            var promise = createPromise(false);\n\n            req.onreadystatechange = function () {\n                if (req.readyState == 4) {\n                    if (req.status == 200) {\n                        kc.userInfo = JSON.parse(req.responseText);\n                        promise.setSuccess(kc.userInfo);\n                    } else {\n                        promise.setError();\n                    }\n                }\n            }\n\n            req.send();\n\n            return promise.promise;\n        }\n\n        kc.isTokenExpired = function(minValidity) {\n            if (!kc.tokenParsed || (!kc.refreshToken && kc.flow != 'implicit' )) {\n                throw 'Not authenticated';\n            }\n\n            if (kc.timeSkew == null) {\n                logInfo('[KEYCLOAK] Unable to determine if token is expired as timeskew is not set');\n                return true;\n            }\n\n            var expiresIn = kc.tokenParsed['exp'] - Math.ceil(new Date().getTime() / 1000) + kc.timeSkew;\n            if (minValidity) {\n                if (isNaN(minValidity)) {\n                    throw 'Invalid minValidity';\n                }\n                expiresIn -= minValidity;\n            }\n            return expiresIn < 0;\n        }\n\n        kc.updateToken = function(minValidity) {\n            var promise = createPromise(false);\n\n            if (!kc.refreshToken) {\n                promise.setError();\n                return promise.promise;\n            }\n\n            minValidity = minValidity || 5;\n\n            var exec = function() {\n                var refreshToken = false;\n                if (minValidity == -1) {\n                    refreshToken = true;\n                    logInfo('[KEYCLOAK] Refreshing token: forced refresh');\n                } else if (!kc.tokenParsed || kc.isTokenExpired(minValidity)) {\n                    refreshToken = true;\n                    logInfo('[KEYCLOAK] Refreshing token: token expired');\n                }\n\n                if (!refreshToken) {\n                    promise.setSuccess(false);\n                } else {\n                    var params = 'grant_type=refresh_token&' + 'refresh_token=' + kc.refreshToken;\n                    var url = kc.endpoints.token();\n\n                    refreshQueue.push(promise);\n\n                    if (refreshQueue.length == 1) {\n                        var req = new XMLHttpRequest();\n                        req.open('POST', url, true);\n                        req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n                        req.withCredentials = true;\n\n                        params += '&client_id=' + encodeURIComponent(kc.clientId);\n\n                        var timeLocal = new Date().getTime();\n\n                        req.onreadystatechange = function () {\n                            if (req.readyState == 4) {\n                                if (req.status == 200) {\n                                    logInfo('[KEYCLOAK] Token refreshed');\n\n                                    timeLocal = (timeLocal + new Date().getTime()) / 2;\n\n                                    var tokenResponse = JSON.parse(req.responseText);\n\n                                    setToken(tokenResponse['access_token'], tokenResponse['refresh_token'], tokenResponse['id_token'], timeLocal);\n\n                                    kc.onAuthRefreshSuccess && kc.onAuthRefreshSuccess();\n                                    for (var p = refreshQueue.pop(); p != null; p = refreshQueue.pop()) {\n                                        p.setSuccess(true);\n                                    }\n                                } else {\n                                    logWarn('[KEYCLOAK] Failed to refresh token');\n\n                                    if (req.status == 400) {\n                                        kc.clearToken();\n                                    }\n\n                                    kc.onAuthRefreshError && kc.onAuthRefreshError();\n                                    for (var p = refreshQueue.pop(); p != null; p = refreshQueue.pop()) {\n                                        p.setError(true);\n                                    }\n                                }\n                            }\n                        };\n\n                        req.send(params);\n                    }\n                }\n            }\n\n            if (loginIframe.enable) {\n                var iframePromise = checkLoginIframe();\n                iframePromise.success(function() {\n                    exec();\n                }).error(function() {\n                    promise.setError();\n                });\n            } else {\n                exec();\n            }\n\n            return promise.promise;\n        }\n\n        kc.clearToken = function() {\n            if (kc.token) {\n                setToken(null, null, null);\n                kc.onAuthLogout && kc.onAuthLogout();\n                if (kc.loginRequired) {\n                    kc.login();\n                }\n            }\n        }\n\n        function getRealmUrl() {\n            if (typeof kc.authServerUrl !== 'undefined') {\n                if (kc.authServerUrl.charAt(kc.authServerUrl.length - 1) == '/') {\n                    return kc.authServerUrl + 'realms/' + encodeURIComponent(kc.realm);\n                } else {\n                    return kc.authServerUrl + '/realms/' + encodeURIComponent(kc.realm);\n                }\n            } else {\n            \treturn undefined;\n            }\n        }\n\n        function getOrigin() {\n            if (!window.location.origin) {\n                return window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port: '');\n            } else {\n                return window.location.origin;\n            }\n        }\n\n        function processCallback(oauth, promise) {\n            var code = oauth.code;\n            var error = oauth.error;\n            var prompt = oauth.prompt;\n\n            var timeLocal = new Date().getTime();\n\n            if (error) {\n                if (prompt != 'none') {\n                    var errorData = { error: error, error_description: oauth.error_description };\n                    kc.onAuthError && kc.onAuthError(errorData);\n                    promise && promise.setError(errorData);\n                } else {\n                    promise && promise.setSuccess();\n                }\n                return;\n            } else if ((kc.flow != 'standard') && (oauth.access_token || oauth.id_token)) {\n                authSuccess(oauth.access_token, null, oauth.id_token, true);\n            }\n\n            if ((kc.flow != 'implicit') && code) {\n                var params = 'code=' + code + '&grant_type=authorization_code';\n                var url = kc.endpoints.token();\n\n                var req = new XMLHttpRequest();\n                req.open('POST', url, true);\n                req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n\n                params += '&client_id=' + encodeURIComponent(kc.clientId);\n                params += '&redirect_uri=' + oauth.redirectUri;\n\n                if (oauth.pkceCodeVerifier) {\n                    params += '&code_verifier=' + oauth.pkceCodeVerifier;\n                }\n\n                req.withCredentials = true;\n\n                req.onreadystatechange = function() {\n                    if (req.readyState == 4) {\n                        if (req.status == 200) {\n\n                            var tokenResponse = JSON.parse(req.responseText);\n                            authSuccess(tokenResponse['access_token'], tokenResponse['refresh_token'], tokenResponse['id_token'], kc.flow === 'standard');\n                            scheduleCheckIframe();\n                        } else {\n                            kc.onAuthError && kc.onAuthError();\n                            promise && promise.setError();\n                        }\n                    }\n                };\n\n                req.send(params);\n            }\n\n            function authSuccess(accessToken, refreshToken, idToken, fulfillPromise) {\n                timeLocal = (timeLocal + new Date().getTime()) / 2;\n\n                setToken(accessToken, refreshToken, idToken, timeLocal);\n\n                if (useNonce && ((kc.tokenParsed && kc.tokenParsed.nonce != oauth.storedNonce) ||\n                    (kc.refreshTokenParsed && kc.refreshTokenParsed.nonce != oauth.storedNonce) ||\n                    (kc.idTokenParsed && kc.idTokenParsed.nonce != oauth.storedNonce))) {\n\n                    logInfo('[KEYCLOAK] Invalid nonce, clearing token');\n                    kc.clearToken();\n                    promise && promise.setError();\n                } else {\n                    if (fulfillPromise) {\n                        kc.onAuthSuccess && kc.onAuthSuccess();\n                        promise && promise.setSuccess();\n                    }\n                }\n            }\n\n        }\n\n        function loadConfig(url) {\n            var promise = createPromise(true);\n            var configUrl;\n\n            if (!config) {\n                configUrl = 'keycloak.json';\n            } else if (typeof config === 'string') {\n                configUrl = config;\n            }\n\n            function setupOidcEndoints(oidcConfiguration) {\n                if (! oidcConfiguration) {\n                    kc.endpoints = {\n                        authorize: function() {\n                            return getRealmUrl() + '/protocol/openid-connect/auth';\n                        },\n                        token: function() {\n                            return getRealmUrl() + '/protocol/openid-connect/token';\n                        },\n                        logout: function() {\n                            return getRealmUrl() + '/protocol/openid-connect/logout';\n                        },\n                        checkSessionIframe: function() {\n                            var src = getRealmUrl() + '/protocol/openid-connect/login-status-iframe.html';\n                            if (kc.iframeVersion) {\n                              src = src + '?version=' + kc.iframeVersion;\n                            }\n                            return src;\n                        },\n                        register: function() {\n                            return getRealmUrl() + '/protocol/openid-connect/registrations';\n                        },\n                        userinfo: function() {\n                            return getRealmUrl() + '/protocol/openid-connect/userinfo';\n                        }\n                    };\n                } else {\n                    kc.endpoints = {\n                        authorize: function() {\n                            return oidcConfiguration.authorization_endpoint;\n                        },\n                        token: function() {\n                            return oidcConfiguration.token_endpoint;\n                        },\n                        logout: function() {\n                            if (!oidcConfiguration.end_session_endpoint) {\n                                throw \"Not supported by the OIDC server\";\n                            }\n                            return oidcConfiguration.end_session_endpoint;\n                        },\n                        checkSessionIframe: function() {\n                            if (!oidcConfiguration.check_session_iframe) {\n                                throw \"Not supported by the OIDC server\";\n                            }\n                            return oidcConfiguration.check_session_iframe;\n                        },\n                        register: function() {\n                            throw 'Redirection to \"Register user\" page not supported in standard OIDC mode';\n                        },\n                        userinfo: function() {\n                            if (!oidcConfiguration.userinfo_endpoint) {\n                                throw \"Not supported by the OIDC server\";\n                            }\n                            return oidcConfiguration.userinfo_endpoint;\n                        }\n                    }\n                }\n            }\n\n            if (configUrl) {\n                var req = new XMLHttpRequest();\n                req.open('GET', configUrl, true);\n                req.setRequestHeader('Accept', 'application/json');\n\n                req.onreadystatechange = function () {\n                    if (req.readyState == 4) {\n                        if (req.status == 200 || fileLoaded(req)) {\n                            var config = JSON.parse(req.responseText);\n\n                            kc.authServerUrl = config['auth-server-url'];\n                            kc.realm = config['realm'];\n                            kc.clientId = config['resource'];\n                            setupOidcEndoints(null);\n                            promise.setSuccess();\n                        } else {\n                            promise.setError();\n                        }\n                    }\n                };\n\n                req.send();\n            } else {\n                if (!config.clientId) {\n                    throw 'clientId missing';\n                }\n\n                kc.clientId = config.clientId;\n\n                var oidcProvider = config['oidcProvider'];\n                if (!oidcProvider) {\n                    if (!config['url']) {\n                        var scripts = document.getElementsByTagName('script');\n                        for (var i = 0; i < scripts.length; i++) {\n                            if (scripts[i].src.match(/.*keycloak\\.js/)) {\n                                config.url = scripts[i].src.substr(0, scripts[i].src.indexOf('/js/keycloak.js'));\n                                break;\n                            }\n                        }\n                    }\n                    if (!config.realm) {\n                        throw 'realm missing';\n                    }\n\n                    kc.authServerUrl = config.url;\n                    kc.realm = config.realm;\n                    setupOidcEndoints(null);\n                    promise.setSuccess();\n                } else {\n                    if (typeof oidcProvider === 'string') {\n                        var oidcProviderConfigUrl;\n                        if (oidcProvider.charAt(oidcProvider.length - 1) == '/') {\n                            oidcProviderConfigUrl = oidcProvider + '.well-known/openid-configuration';\n                        } else {\n                            oidcProviderConfigUrl = oidcProvider + '/.well-known/openid-configuration';\n                        }\n                        var req = new XMLHttpRequest();\n                        req.open('GET', oidcProviderConfigUrl, true);\n                        req.setRequestHeader('Accept', 'application/json');\n\n                        req.onreadystatechange = function () {\n                            if (req.readyState == 4) {\n                                if (req.status == 200 || fileLoaded(req)) {\n                                    var oidcProviderConfig = JSON.parse(req.responseText);\n                                    setupOidcEndoints(oidcProviderConfig);\n                                    promise.setSuccess();\n                                } else {\n                                    promise.setError();\n                                }\n                            }\n                        };\n\n                        req.send();\n                    } else {\n                        setupOidcEndoints(oidcProvider);\n                        promise.setSuccess();\n                    }\n                }\n            }\n\n            return promise.promise;\n        }\n\n        function fileLoaded(xhr) {\n            return xhr.status == 0 && xhr.responseText && xhr.responseURL.startsWith('file:');\n        }\n\n        function setToken(token, refreshToken, idToken, timeLocal) {\n            if (kc.tokenTimeoutHandle) {\n                clearTimeout(kc.tokenTimeoutHandle);\n                kc.tokenTimeoutHandle = null;\n            }\n\n            if (refreshToken) {\n                kc.refreshToken = refreshToken;\n                kc.refreshTokenParsed = decodeToken(refreshToken);\n            } else {\n                delete kc.refreshToken;\n                delete kc.refreshTokenParsed;\n            }\n\n            if (idToken) {\n                kc.idToken = idToken;\n                kc.idTokenParsed = decodeToken(idToken);\n            } else {\n                delete kc.idToken;\n                delete kc.idTokenParsed;\n            }\n\n            if (token) {\n                kc.token = token;\n                kc.tokenParsed = decodeToken(token);\n                kc.sessionId = kc.tokenParsed.session_state;\n                kc.authenticated = true;\n                kc.subject = kc.tokenParsed.sub;\n                kc.realmAccess = kc.tokenParsed.realm_access;\n                kc.resourceAccess = kc.tokenParsed.resource_access;\n\n                if (timeLocal) {\n                    kc.timeSkew = Math.floor(timeLocal / 1000) - kc.tokenParsed.iat;\n                }\n\n                if (kc.timeSkew != null) {\n                    logInfo('[KEYCLOAK] Estimated time difference between browser and server is ' + kc.timeSkew + ' seconds');\n\n                    if (kc.onTokenExpired) {\n                        var expiresIn = (kc.tokenParsed['exp'] - (new Date().getTime() / 1000) + kc.timeSkew) * 1000;\n                        logInfo('[KEYCLOAK] Token expires in ' + Math.round(expiresIn / 1000) + ' s');\n                        if (expiresIn <= 0) {\n                            kc.onTokenExpired();\n                        } else {\n                            kc.tokenTimeoutHandle = setTimeout(kc.onTokenExpired, expiresIn);\n                        }\n                    }\n                }\n            } else {\n                delete kc.token;\n                delete kc.tokenParsed;\n                delete kc.subject;\n                delete kc.realmAccess;\n                delete kc.resourceAccess;\n\n                kc.authenticated = false;\n            }\n        }\n\n        function decodeToken(str) {\n            str = str.split('.')[1];\n\n            str = str.replace('/-/g', '+');\n            str = str.replace('/_/g', '/');\n            switch (str.length % 4)\n            {\n                case 0:\n                    break;\n                case 2:\n                    str += '==';\n                    break;\n                case 3:\n                    str += '=';\n                    break;\n                default:\n                    throw 'Invalid token';\n            }\n\n            str = (str + '===').slice(0, str.length + (str.length % 4));\n            str = str.replace(/-/g, '+').replace(/_/g, '/');\n\n            str = decodeURIComponent(escape(atob(str)));\n\n            str = JSON.parse(str);\n            return str;\n        }\n\n        function createUUID() {\n            var hexDigits = '0123456789abcdef';\n            var s = generateRandomString(36, hexDigits).split(\"\");\n            s[14] = '4';\n            s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);\n            s[8] = s[13] = s[18] = s[23] = '-';\n            var uuid = s.join('');\n            return uuid;\n        }\n\n        function parseCallback(url) {\n            var oauth = parseCallbackUrl(url);\n            if (!oauth) {\n                return;\n            }\n\n            var oauthState = callbackStorage.get(oauth.state);\n\n            if (oauthState) {\n                oauth.valid = true;\n                oauth.redirectUri = oauthState.redirectUri;\n                oauth.storedNonce = oauthState.nonce;\n                oauth.prompt = oauthState.prompt;\n                oauth.pkceCodeVerifier = oauthState.pkceCodeVerifier;\n            }\n\n            return oauth;\n        }\n\n        function parseCallbackUrl(url) {\n            var supportedParams;\n            switch (kc.flow) {\n                case 'standard':\n                    supportedParams = ['code', 'state', 'session_state'];\n                    break;\n                case 'implicit':\n                    supportedParams = ['access_token', 'token_type', 'id_token', 'state', 'session_state', 'expires_in'];\n                    break;\n                case 'hybrid':\n                    supportedParams = ['access_token', 'id_token', 'code', 'state', 'session_state'];\n                    break;\n            }\n\n            supportedParams.push('error');\n            supportedParams.push('error_description');\n            supportedParams.push('error_uri');\n\n            var queryIndex = url.indexOf('?');\n            var fragmentIndex = url.indexOf('#');\n\n            var newUrl;\n            var parsed;\n\n            if (kc.responseMode === 'query' && queryIndex !== -1) {\n                newUrl = url.substring(0, queryIndex);\n                parsed = parseCallbackParams(url.substring(queryIndex + 1, fragmentIndex !== -1 ? fragmentIndex : url.length), supportedParams);\n                if (parsed.paramsString !== '') {\n                    newUrl += '?' + parsed.paramsString;\n                }\n                if (fragmentIndex !== -1) {\n                    newUrl += url.substring(fragmentIndex);\n                }\n            } else if (kc.responseMode === 'fragment' && fragmentIndex !== -1) {\n                newUrl = url.substring(0, fragmentIndex);\n                parsed = parseCallbackParams(url.substring(fragmentIndex + 1), supportedParams);\n                if (parsed.paramsString !== '') {\n                    newUrl += '#' + parsed.paramsString;\n                }\n            }\n\n            if (parsed && parsed.oauthParams) {\n                if (kc.flow === 'standard' || kc.flow === 'hybrid') {\n                    if ((parsed.oauthParams.code || parsed.oauthParams.error) && parsed.oauthParams.state) {\n                        parsed.oauthParams.newUrl = newUrl;\n                        return parsed.oauthParams;\n                    }\n                } else if (kc.flow === 'implicit') {\n                    if ((parsed.oauthParams.access_token || parsed.oauthParams.error) && parsed.oauthParams.state) {\n                        parsed.oauthParams.newUrl = newUrl;\n                        return parsed.oauthParams;\n                    }\n                }\n            }\n        }\n\n        function parseCallbackParams(paramsString, supportedParams) {\n            var p = paramsString.split('&');\n            var result = {\n                paramsString: '',\n                oauthParams: {}\n            }\n            for (var i = 0; i < p.length; i++) {\n                var t = p[i].split('=');\n                if (supportedParams.indexOf(t[0]) !== -1) {\n                    result.oauthParams[t[0]] = t[1];\n                } else {\n                    if (result.paramsString !== '') {\n                        result.paramsString += '&';\n                    }\n                    result.paramsString += p[i];\n                }\n            }\n            return result;\n        }\n\n        function createPromise(internal) {\n            if (!internal && kc.useNativePromise) {\n                return createNativePromise();\n            } else {\n                return createLegacyPromise();\n            }\n        }\n\n        function createNativePromise() {\n            // Need to create a native Promise which also preserves the\n            // interface of the custom promise type previously used by the API\n            var p = {\n                setSuccess: function(result) {\n                    p.resolve(result);\n                },\n\n                setError: function(result) {\n                    p.reject(result);\n                }\n            };\n            p.promise = new Promise(function(resolve, reject) {\n                p.resolve = resolve;\n                p.reject = reject;\n            });\n            return p;\n        }\n\n        function createLegacyPromise() {\n            var p = {\n                setSuccess: function(result) {\n                    p.success = true;\n                    p.result = result;\n                    if (p.successCallback) {\n                        p.successCallback(result);\n                    }\n                },\n\n                setError: function(result) {\n                    p.error = true;\n                    p.result = result;\n                    if (p.errorCallback) {\n                        p.errorCallback(result);\n                    }\n                },\n\n                promise: {\n                    success: function(callback) {\n                        if (p.success) {\n                            callback(p.result);\n                        } else if (!p.error) {\n                            p.successCallback = callback;\n                        }\n                        return p.promise;\n                    },\n                    error: function(callback) {\n                        if (p.error) {\n                            callback(p.result);\n                        } else if (!p.success) {\n                            p.errorCallback = callback;\n                        }\n                        return p.promise;\n                    }\n                }\n            }\n            return p;\n        }\n\n        function setupCheckLoginIframe() {\n            var promise = createPromise(true);\n\n            if (!loginIframe.enable) {\n                promise.setSuccess();\n                return promise.promise;\n            }\n\n            if (loginIframe.iframe) {\n                promise.setSuccess();\n                return promise.promise;\n            }\n\n            var iframe = document.createElement('iframe');\n            loginIframe.iframe = iframe;\n\n            iframe.onload = function() {\n                var authUrl = kc.endpoints.authorize();\n                if (authUrl.charAt(0) === '/') {\n                    loginIframe.iframeOrigin = getOrigin();\n                } else {\n                    loginIframe.iframeOrigin = authUrl.substring(0, authUrl.indexOf('/', 8));\n                }\n                promise.setSuccess();\n            }\n\n            var src = kc.endpoints.checkSessionIframe();\n            iframe.setAttribute('src', src );\n            iframe.setAttribute('title', 'keycloak-session-iframe' );\n            iframe.style.display = 'none';\n            document.body.appendChild(iframe);\n\n            var messageCallback = function(event) {\n                if ((event.origin !== loginIframe.iframeOrigin) || (loginIframe.iframe.contentWindow !== event.source)) {\n                    return;\n                }\n\n                if (!(event.data == 'unchanged' || event.data == 'changed' || event.data == 'error')) {\n                    return;\n                }\n\n\n                if (event.data != 'unchanged') {\n                    kc.clearToken();\n                }\n\n                var callbacks = loginIframe.callbackList.splice(0, loginIframe.callbackList.length);\n\n                for (var i = callbacks.length - 1; i >= 0; --i) {\n                    var promise = callbacks[i];\n                    if (event.data == 'error') {\n                        promise.setError();\n                    } else {\n                        promise.setSuccess(event.data == 'unchanged');\n                    }\n                }\n            };\n\n            window.addEventListener('message', messageCallback, false);\n\n            return promise.promise;\n        }\n\n        function scheduleCheckIframe() {\n            if (loginIframe.enable) {\n                if (kc.token) {\n                    setTimeout(function() {\n                        checkLoginIframe().success(function(unchanged) {\n                            if (unchanged) {\n                                scheduleCheckIframe();\n                            }\n                        });\n                    }, loginIframe.interval * 1000);\n                }\n            }\n        }\n\n        function checkLoginIframe() {\n            var promise = createPromise(true);\n\n            if (loginIframe.iframe && loginIframe.iframeOrigin ) {\n                var msg = kc.clientId + ' ' + (kc.sessionId ? kc.sessionId : '');\n                loginIframe.callbackList.push(promise);\n                var origin = loginIframe.iframeOrigin;\n                if (loginIframe.callbackList.length == 1) {\n                    loginIframe.iframe.contentWindow.postMessage(msg, origin);\n                }\n            } else {\n                promise.setSuccess();\n            }\n\n            return promise.promise;\n        }\n\n        function loadAdapter(type) {\n            if (!type || type == 'default') {\n                return {\n                    login: function(options) {\n                        window.location.replace(kc.createLoginUrl(options));\n                        return createPromise(false).promise;\n                    },\n\n                    logout: function(options) {\n                        window.location.replace(kc.createLogoutUrl(options));\n                        return createPromise(false).promise;\n                    },\n\n                    register: function(options) {\n                        window.location.replace(kc.createRegisterUrl(options));\n                        return createPromise(false).promise;\n                    },\n\n                    accountManagement : function() {\n                        var accountUrl = kc.createAccountUrl();\n                        if (typeof accountUrl !== 'undefined') {\n                            window.location.href = accountUrl;\n                        } else {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                        return createPromise(false).promise;\n                    },\n\n                    redirectUri: function(options, encodeHash) {\n                        if (arguments.length == 1) {\n                            encodeHash = true;\n                        }\n\n                        if (options && options.redirectUri) {\n                            return options.redirectUri;\n                        } else if (kc.redirectUri) {\n                            return kc.redirectUri;\n                        } else {\n                            return location.href;\n                        }\n                    }\n                };\n            }\n\n            if (type == 'cordova') {\n                loginIframe.enable = false;\n                var cordovaOpenWindowWrapper = function(loginUrl, target, options) {\n                    if (window.cordova && window.cordova.InAppBrowser) {\n                        // Use inappbrowser for IOS and Android if available\n                        return window.cordova.InAppBrowser.open(loginUrl, target, options);\n                    } else {\n                        return window.open(loginUrl, target, options);\n                    }\n                };\n\n                var shallowCloneCordovaOptions = function (userOptions) {\n                    if (userOptions && userOptions.cordovaOptions) {\n                        return Object.keys(userOptions.cordovaOptions).reduce(function (options, optionName) {\n                            options[optionName] = userOptions.cordovaOptions[optionName];\n                            return options;\n                        }, {});\n                    } else {\n                        return {};\n                    }\n                };\n\n                var formatCordovaOptions = function (cordovaOptions) {\n                    return Object.keys(cordovaOptions).reduce(function (options, optionName) {\n                        options.push(optionName+\"=\"+cordovaOptions[optionName]);\n                        return options;\n                    }, []).join(\",\");\n                };\n\n                var createCordovaOptions = function (userOptions) {\n                    var cordovaOptions = shallowCloneCordovaOptions(userOptions);\n                    cordovaOptions.location = 'no';\n                    if (userOptions && userOptions.prompt == 'none') {\n                        cordovaOptions.hidden = 'yes';\n                    }\n                    return formatCordovaOptions(cordovaOptions);\n                };\n\n                return {\n                    login: function(options) {\n                        var promise = createPromise(false);\n\n                        var cordovaOptions = createCordovaOptions(options);\n                        var loginUrl = kc.createLoginUrl(options);\n                        var ref = cordovaOpenWindowWrapper(loginUrl, '_blank', cordovaOptions);\n                        var completed = false;\n\n                        var closed = false;\n                        var closeBrowser = function() {\n                            closed = true;\n                            ref.close();\n                        };\n\n                        ref.addEventListener('loadstart', function(event) {\n                            if (event.url.indexOf('http://localhost') == 0) {\n                                var callback = parseCallback(event.url);\n                                processCallback(callback, promise);\n                                closeBrowser();\n                                completed = true;\n                            }\n                        });\n\n                        ref.addEventListener('loaderror', function(event) {\n                            if (!completed) {\n                                if (event.url.indexOf('http://localhost') == 0) {\n                                    var callback = parseCallback(event.url);\n                                    processCallback(callback, promise);\n                                    closeBrowser();\n                                    completed = true;\n                                } else {\n                                    promise.setError();\n                                    closeBrowser();\n                                }\n                            }\n                        });\n\n                        ref.addEventListener('exit', function(event) {\n                            if (!closed) {\n                                promise.setError({\n                                    reason: \"closed_by_user\"\n                                });\n                            }\n                        });\n\n                        return promise.promise;\n                    },\n\n                    logout: function(options) {\n                        var promise = createPromise(false);\n\n                        var logoutUrl = kc.createLogoutUrl(options);\n                        var ref = cordovaOpenWindowWrapper(logoutUrl, '_blank', 'location=no,hidden=yes');\n\n                        var error;\n\n                        ref.addEventListener('loadstart', function(event) {\n                            if (event.url.indexOf('http://localhost') == 0) {\n                                ref.close();\n                            }\n                        });\n\n                        ref.addEventListener('loaderror', function(event) {\n                            if (event.url.indexOf('http://localhost') == 0) {\n                                ref.close();\n                            } else {\n                                error = true;\n                                ref.close();\n                            }\n                        });\n\n                        ref.addEventListener('exit', function(event) {\n                            if (error) {\n                                promise.setError();\n                            } else {\n                                kc.clearToken();\n                                promise.setSuccess();\n                            }\n                        });\n\n                        return promise.promise;\n                    },\n\n                    register : function(options) {\n                        var promise = createPromise(false);\n                        var registerUrl = kc.createRegisterUrl();\n                        var cordovaOptions = createCordovaOptions(options);\n                        var ref = cordovaOpenWindowWrapper(registerUrl, '_blank', cordovaOptions);\n                        ref.addEventListener('loadstart', function(event) {\n                            if (event.url.indexOf('http://localhost') == 0) {\n                                ref.close();\n                                var oauth = parseCallback(event.url);\n                                processCallback(oauth, promise);\n                            }\n                        });\n                        return promise.promise;\n                    },\n\n                    accountManagement : function() {\n                        var accountUrl = kc.createAccountUrl();\n                        if (typeof accountUrl !== 'undefined') {\n                            var ref = cordovaOpenWindowWrapper(accountUrl, '_blank', 'location=no');\n                            ref.addEventListener('loadstart', function(event) {\n                                if (event.url.indexOf('http://localhost') == 0) {\n                                    ref.close();\n                                }\n                            });\n                        } else {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                    },\n\n                    redirectUri: function(options) {\n                        return 'http://localhost';\n                    }\n                }\n            }\n\n            if (type == 'cordova-native') {\n                loginIframe.enable = false;\n\n                return {\n                    login: function(options) {\n                        var promise = createPromise(false);\n                        var loginUrl = kc.createLoginUrl(options);\n\n                        universalLinks.subscribe('keycloak', function(event) {\n                            universalLinks.unsubscribe('keycloak');\n                            window.cordova.plugins.browsertab.close();\n                            var oauth = parseCallback(event.url);\n                            processCallback(oauth, promise);\n                        });\n\n                        window.cordova.plugins.browsertab.openUrl(loginUrl);\n                        return promise.promise;\n                    },\n\n                    logout: function(options) {\n                        var promise = createPromise(false);\n                        var logoutUrl = kc.createLogoutUrl(options);\n\n                        universalLinks.subscribe('keycloak', function(event) {\n                            universalLinks.unsubscribe('keycloak');\n                            window.cordova.plugins.browsertab.close();\n                            kc.clearToken();\n                            promise.setSuccess();\n                        });\n\n                        window.cordova.plugins.browsertab.openUrl(logoutUrl);\n                        return promise.promise;\n                    },\n\n                    register : function(options) {\n                        var promise = createPromise(false);\n                        var registerUrl = kc.createRegisterUrl(options);\n                        universalLinks.subscribe('keycloak' , function(event) {\n                            universalLinks.unsubscribe('keycloak');\n                            window.cordova.plugins.browsertab.close();\n                            var oauth = parseCallback(event.url);\n                            processCallback(oauth, promise);\n                        });\n                        window.cordova.plugins.browsertab.openUrl(registerUrl);\n                        return promise.promise;\n\n                    },\n\n                    accountManagement : function() {\n                        var accountUrl = kc.createAccountUrl();\n                        if (typeof accountUrl !== 'undefined') {\n                            window.cordova.plugins.browsertab.openUrl(accountUrl);\n                        } else {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                    },\n\n                    redirectUri: function(options) {\n                        if (options && options.redirectUri) {\n                            return options.redirectUri;\n                        } else if (kc.redirectUri) {\n                            return kc.redirectUri;\n                        } else {\n                            return \"http://localhost\";\n                        }\n                    }\n                }\n            }\n\n            throw 'invalid adapter type: ' + type;\n        }\n\n        var LocalStorage = function() {\n            if (!(this instanceof LocalStorage)) {\n                return new LocalStorage();\n            }\n\n            localStorage.setItem('kc-test', 'test');\n            localStorage.removeItem('kc-test');\n\n            var cs = this;\n\n            function clearExpired() {\n                var time = new Date().getTime();\n                for (var i = 0; i < localStorage.length; i++)  {\n                    var key = localStorage.key(i);\n                    if (key && key.indexOf('kc-callback-') == 0) {\n                        var value = localStorage.getItem(key);\n                        if (value) {\n                            try {\n                                var expires = JSON.parse(value).expires;\n                                if (!expires || expires < time) {\n                                    localStorage.removeItem(key);\n                                }\n                            } catch (err) {\n                                localStorage.removeItem(key);\n                            }\n                        }\n                    }\n                }\n            }\n\n            cs.get = function(state) {\n                if (!state) {\n                    return;\n                }\n\n                var key = 'kc-callback-' + state;\n                var value = localStorage.getItem(key);\n                if (value) {\n                    localStorage.removeItem(key);\n                    value = JSON.parse(value);\n                }\n\n                clearExpired();\n                return value;\n            };\n\n            cs.add = function(state) {\n                clearExpired();\n\n                var key = 'kc-callback-' + state.state;\n                state.expires = new Date().getTime() + (60 * 60 * 1000);\n                localStorage.setItem(key, JSON.stringify(state));\n            };\n        };\n\n        var CookieStorage = function() {\n            if (!(this instanceof CookieStorage)) {\n                return new CookieStorage();\n            }\n\n            var cs = this;\n\n            cs.get = function(state) {\n                if (!state) {\n                    return;\n                }\n\n                var value = getCookie('kc-callback-' + state);\n                setCookie('kc-callback-' + state, '', cookieExpiration(-100));\n                if (value) {\n                    return JSON.parse(value);\n                }\n            };\n\n            cs.add = function(state) {\n                setCookie('kc-callback-' + state.state, JSON.stringify(state), cookieExpiration(60));\n            };\n\n            cs.removeItem = function(key) {\n                setCookie(key, '', cookieExpiration(-100));\n            };\n\n            var cookieExpiration = function (minutes) {\n                var exp = new Date();\n                exp.setTime(exp.getTime() + (minutes*60*1000));\n                return exp;\n            };\n\n            var getCookie = function (key) {\n                var name = key + '=';\n                var ca = document.cookie.split(';');\n                for (var i = 0; i < ca.length; i++) {\n                    var c = ca[i];\n                    while (c.charAt(0) == ' ') {\n                        c = c.substring(1);\n                    }\n                    if (c.indexOf(name) == 0) {\n                        return c.substring(name.length, c.length);\n                    }\n                }\n                return '';\n            };\n\n            var setCookie = function (key, value, expirationDate) {\n                var cookie = key + '=' + value + '; '\n                    + 'expires=' + expirationDate.toUTCString() + '; ';\n                document.cookie = cookie;\n            }\n        };\n\n        function createCallbackStorage() {\n            try {\n                return new LocalStorage();\n            } catch (err) {\n            }\n\n            return new CookieStorage();\n        }\n\n        function createLogger(fn) {\n            return function() {\n                if (kc.enableLogging) {\n                    fn.apply(console, Array.prototype.slice.call(arguments));\n                }\n            };\n        }\n    }\n\n    return Keycloak;\n})\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar _tslib = require('./_virtual/_tslib.js');\nvar constants = require('./constants.js');\nvar environment = require('./environment.js');\n\nvar _a;\nfunction keys(value) {\n  return Object.keys(value);\n}\nfunction matchesState(parentStateId, childStateId, delimiter) {\n  if (delimiter === void 0) {\n    delimiter = constants.STATE_DELIMITER;\n  }\n\n  var parentStateValue = toStateValue(parentStateId, delimiter);\n  var childStateValue = toStateValue(childStateId, delimiter);\n\n  if (isString(childStateValue)) {\n    if (isString(parentStateValue)) {\n      return childStateValue === parentStateValue;\n    } // Parent more specific than child\n\n\n    return false;\n  }\n\n  if (isString(parentStateValue)) {\n    return parentStateValue in childStateValue;\n  }\n\n  return keys(parentStateValue).every(function (key) {\n    if (!(key in childStateValue)) {\n      return false;\n    }\n\n    return matchesState(parentStateValue[key], childStateValue[key]);\n  });\n}\nfunction getEventType(event) {\n  try {\n    return isString(event) || typeof event === 'number' ? \"\".concat(event) : event.type;\n  } catch (e) {\n    throw new Error('Events must be strings or objects with a string event.type property.');\n  }\n}\nfunction toStatePath(stateId, delimiter) {\n  try {\n    if (isArray(stateId)) {\n      return stateId;\n    }\n\n    return stateId.toString().split(delimiter);\n  } catch (e) {\n    throw new Error(\"'\".concat(stateId, \"' is not a valid state path.\"));\n  }\n}\nfunction isStateLike(state) {\n  return typeof state === 'object' && 'value' in state && 'context' in state && 'event' in state && '_event' in state;\n}\nfunction toStateValue(stateValue, delimiter) {\n  if (isStateLike(stateValue)) {\n    return stateValue.value;\n  }\n\n  if (isArray(stateValue)) {\n    return pathToStateValue(stateValue);\n  }\n\n  if (typeof stateValue !== 'string') {\n    return stateValue;\n  }\n\n  var statePath = toStatePath(stateValue, delimiter);\n  return pathToStateValue(statePath);\n}\nfunction pathToStateValue(statePath) {\n  if (statePath.length === 1) {\n    return statePath[0];\n  }\n\n  var value = {};\n  var marker = value;\n\n  for (var i = 0; i < statePath.length - 1; i++) {\n    if (i === statePath.length - 2) {\n      marker[statePath[i]] = statePath[i + 1];\n    } else {\n      marker[statePath[i]] = {};\n      marker = marker[statePath[i]];\n    }\n  }\n\n  return value;\n}\nfunction mapValues(collection, iteratee) {\n  var result = {};\n  var collectionKeys = keys(collection);\n\n  for (var i = 0; i < collectionKeys.length; i++) {\n    var key = collectionKeys[i];\n    result[key] = iteratee(collection[key], key, collection, i);\n  }\n\n  return result;\n}\nfunction mapFilterValues(collection, iteratee, predicate) {\n  var e_1, _a;\n\n  var result = {};\n\n  try {\n    for (var _b = _tslib.__values(keys(collection)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var item = collection[key];\n\n      if (!predicate(item)) {\n        continue;\n      }\n\n      result[key] = iteratee(item, key, collection);\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return result;\n}\n/**\r\n * Retrieves a value at the given path.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\nvar path = function (props) {\n  return function (object) {\n    var e_2, _a;\n\n    var result = object;\n\n    try {\n      for (var props_1 = _tslib.__values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n        var prop = props_1_1.value;\n        result = result[prop];\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    return result;\n  };\n};\n/**\r\n * Retrieves a value at the given path via the nested accessor prop.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\nfunction nestedPath(props, accessorProp) {\n  return function (object) {\n    var e_3, _a;\n\n    var result = object;\n\n    try {\n      for (var props_2 = _tslib.__values(props), props_2_1 = props_2.next(); !props_2_1.done; props_2_1 = props_2.next()) {\n        var prop = props_2_1.value;\n        result = result[accessorProp][prop];\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (props_2_1 && !props_2_1.done && (_a = props_2.return)) _a.call(props_2);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    return result;\n  };\n}\nfunction toStatePaths(stateValue) {\n  if (!stateValue) {\n    return [[]];\n  }\n\n  if (isString(stateValue)) {\n    return [[stateValue]];\n  }\n\n  var result = flatten(keys(stateValue).map(function (key) {\n    var subStateValue = stateValue[key];\n\n    if (typeof subStateValue !== 'string' && (!subStateValue || !Object.keys(subStateValue).length)) {\n      return [[key]];\n    }\n\n    return toStatePaths(stateValue[key]).map(function (subPath) {\n      return [key].concat(subPath);\n    });\n  }));\n  return result;\n}\nfunction flatten(array) {\n  var _a;\n\n  return (_a = []).concat.apply(_a, _tslib.__spreadArray([], _tslib.__read(array), false));\n}\nfunction toArrayStrict(value) {\n  if (isArray(value)) {\n    return value;\n  }\n\n  return [value];\n}\nfunction toArray(value) {\n  if (value === undefined) {\n    return [];\n  }\n\n  return toArrayStrict(value);\n}\nfunction mapContext(mapper, context, _event) {\n  var e_5, _a;\n\n  if (isFunction(mapper)) {\n    return mapper(context, _event.data);\n  }\n\n  var result = {};\n\n  try {\n    for (var _b = _tslib.__values(Object.keys(mapper)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var subMapper = mapper[key];\n\n      if (isFunction(subMapper)) {\n        result[key] = subMapper(context, _event.data);\n      } else {\n        result[key] = subMapper;\n      }\n    }\n  } catch (e_5_1) {\n    e_5 = {\n      error: e_5_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_5) throw e_5.error;\n    }\n  }\n\n  return result;\n}\nfunction isBuiltInEvent(eventType) {\n  return /^(done|error)\\./.test(eventType);\n}\nfunction isPromiseLike(value) {\n  if (value instanceof Promise) {\n    return true;\n  } // Check if shape matches the Promise/A+ specification for a \"thenable\".\n\n\n  if (value !== null && (isFunction(value) || typeof value === 'object') && isFunction(value.then)) {\n    return true;\n  }\n\n  return false;\n}\nfunction isBehavior(value) {\n  return value !== null && typeof value === 'object' && 'transition' in value && typeof value.transition === 'function';\n}\nfunction partition(items, predicate) {\n  var e_6, _a;\n\n  var _b = _tslib.__read([[], []], 2),\n      truthy = _b[0],\n      falsy = _b[1];\n\n  try {\n    for (var items_1 = _tslib.__values(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {\n      var item = items_1_1.value;\n\n      if (predicate(item)) {\n        truthy.push(item);\n      } else {\n        falsy.push(item);\n      }\n    }\n  } catch (e_6_1) {\n    e_6 = {\n      error: e_6_1\n    };\n  } finally {\n    try {\n      if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);\n    } finally {\n      if (e_6) throw e_6.error;\n    }\n  }\n\n  return [truthy, falsy];\n}\nfunction updateHistoryStates(hist, stateValue) {\n  return mapValues(hist.states, function (subHist, key) {\n    if (!subHist) {\n      return undefined;\n    }\n\n    var subStateValue = (isString(stateValue) ? undefined : stateValue[key]) || (subHist ? subHist.current : undefined);\n\n    if (!subStateValue) {\n      return undefined;\n    }\n\n    return {\n      current: subStateValue,\n      states: updateHistoryStates(subHist, subStateValue)\n    };\n  });\n}\nfunction updateHistoryValue(hist, stateValue) {\n  return {\n    current: stateValue,\n    states: updateHistoryStates(hist, stateValue)\n  };\n}\nfunction updateContext(context, _event, assignActions, state) {\n  if (!environment.IS_PRODUCTION) {\n    exports.warn(!!context, 'Attempting to update undefined context');\n  }\n\n  var updatedContext = context ? assignActions.reduce(function (acc, assignAction) {\n    var e_7, _a;\n\n    var assignment = assignAction.assignment;\n    var meta = {\n      state: state,\n      action: assignAction,\n      _event: _event\n    };\n    var partialUpdate = {};\n\n    if (isFunction(assignment)) {\n      partialUpdate = assignment(acc, _event.data, meta);\n    } else {\n      try {\n        for (var _b = _tslib.__values(keys(assignment)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var key = _c.value;\n          var propAssignment = assignment[key];\n          partialUpdate[key] = isFunction(propAssignment) ? propAssignment(acc, _event.data, meta) : propAssignment;\n        }\n      } catch (e_7_1) {\n        e_7 = {\n          error: e_7_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_7) throw e_7.error;\n        }\n      }\n    }\n\n    return Object.assign({}, acc, partialUpdate);\n  }, context) : context;\n  return updatedContext;\n} // tslint:disable-next-line:no-empty\n\nexports.warn = function () {};\n\nif (!environment.IS_PRODUCTION) {\n  exports.warn = function (condition, message) {\n    var error = condition instanceof Error ? condition : undefined;\n\n    if (!error && condition) {\n      return;\n    }\n\n    if (console !== undefined) {\n      var args = [\"Warning: \".concat(message)];\n\n      if (error) {\n        args.push(error);\n      } // tslint:disable-next-line:no-console\n\n\n      console.warn.apply(console, args);\n    }\n  };\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n} // tslint:disable-next-line:ban-types\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\nfunction isString(value) {\n  return typeof value === 'string';\n} // export function memoizedGetter<T, TP extends { prototype: object }>(\n//   o: TP,\n//   property: string,\n//   getter: () => T\n// ): void {\n//   Object.defineProperty(o.prototype, property, {\n//     get: getter,\n//     enumerable: false,\n//     configurable: false\n//   });\n// }\n\nfunction toGuard(condition, guardMap) {\n  if (!condition) {\n    return undefined;\n  }\n\n  if (isString(condition)) {\n    return {\n      type: constants.DEFAULT_GUARD_TYPE,\n      name: condition,\n      predicate: guardMap ? guardMap[condition] : undefined\n    };\n  }\n\n  if (isFunction(condition)) {\n    return {\n      type: constants.DEFAULT_GUARD_TYPE,\n      name: condition.name,\n      predicate: condition\n    };\n  }\n\n  return condition;\n}\nfunction isObservable(value) {\n  try {\n    return 'subscribe' in value && isFunction(value.subscribe);\n  } catch (e) {\n    return false;\n  }\n}\nvar symbolObservable = /*#__PURE__*/function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}();\nvar interopSymbols = (_a = {}, _a[symbolObservable] = function () {\n  return this;\n}, _a);\nfunction isMachine(value) {\n  try {\n    return '__xstatenode' in value;\n  } catch (e) {\n    return false;\n  }\n}\nfunction isActor(value) {\n  return !!value && typeof value.send === 'function';\n}\nvar uniqueId = /*#__PURE__*/function () {\n  var currentId = 0;\n  return function () {\n    currentId++;\n    return currentId.toString(16);\n  };\n}();\nfunction toEventObject(event, payload // id?: TEvent['type']\n) {\n  if (isString(event) || typeof event === 'number') {\n    return _tslib.__assign({\n      type: event\n    }, payload);\n  }\n\n  return event;\n}\nfunction toSCXMLEvent(event, scxmlEvent) {\n  if (!isString(event) && '$$type' in event && event.$$type === 'scxml') {\n    return event;\n  }\n\n  var eventObject = toEventObject(event);\n  return _tslib.__assign({\n    name: eventObject.type,\n    data: eventObject,\n    $$type: 'scxml',\n    type: 'external'\n  }, scxmlEvent);\n}\nfunction toTransitionConfigArray(event, configLike) {\n  var transitions = toArrayStrict(configLike).map(function (transitionLike) {\n    if (typeof transitionLike === 'undefined' || typeof transitionLike === 'string' || isMachine(transitionLike)) {\n      return {\n        target: transitionLike,\n        event: event\n      };\n    }\n\n    return _tslib.__assign(_tslib.__assign({}, transitionLike), {\n      event: event\n    });\n  });\n  return transitions;\n}\nfunction normalizeTarget(target) {\n  if (target === undefined || target === constants.TARGETLESS_KEY) {\n    return undefined;\n  }\n\n  return toArray(target);\n}\nfunction reportUnhandledExceptionOnInvocation(originalError, currentError, id) {\n  if (!environment.IS_PRODUCTION) {\n    var originalStackTrace = originalError.stack ? \" Stacktrace was '\".concat(originalError.stack, \"'\") : '';\n\n    if (originalError === currentError) {\n      // tslint:disable-next-line:no-console\n      console.error(\"Missing onError handler for invocation '\".concat(id, \"', error was '\").concat(originalError, \"'.\").concat(originalStackTrace));\n    } else {\n      var stackTrace = currentError.stack ? \" Stacktrace was '\".concat(currentError.stack, \"'\") : ''; // tslint:disable-next-line:no-console\n\n      console.error(\"Missing onError handler and/or unhandled exception/promise rejection for invocation '\".concat(id, \"'. \") + \"Original error: '\".concat(originalError, \"'. \").concat(originalStackTrace, \" Current error is '\").concat(currentError, \"'.\").concat(stackTrace));\n    }\n  }\n}\nfunction evaluateGuard(machine, guard, context, _event, state) {\n  var guards = machine.options.guards;\n  var guardMeta = {\n    state: state,\n    cond: guard,\n    _event: _event\n  }; // TODO: do not hardcode!\n\n  if (guard.type === constants.DEFAULT_GUARD_TYPE) {\n    return ((guards === null || guards === void 0 ? void 0 : guards[guard.name]) || guard.predicate)(context, _event.data, guardMeta);\n  }\n\n  var condFn = guards[guard.type];\n\n  if (!condFn) {\n    throw new Error(\"Guard '\".concat(guard.type, \"' is not implemented on machine '\").concat(machine.id, \"'.\"));\n  }\n\n  return condFn(context, _event.data, guardMeta);\n}\nfunction toInvokeSource(src) {\n  if (typeof src === 'string') {\n    return {\n      type: src\n    };\n  }\n\n  return src;\n}\nfunction toObserver(nextHandler, errorHandler, completionHandler) {\n  if (typeof nextHandler === 'object') {\n    return nextHandler;\n  }\n\n  var noop = function () {\n    return void 0;\n  };\n\n  return {\n    next: nextHandler,\n    error: errorHandler || noop,\n    complete: completionHandler || noop\n  };\n}\nfunction createInvokeId(stateNodeId, index) {\n  return \"\".concat(stateNodeId, \":invocation[\").concat(index, \"]\");\n}\n\nexports.createInvokeId = createInvokeId;\nexports.evaluateGuard = evaluateGuard;\nexports.flatten = flatten;\nexports.getEventType = getEventType;\nexports.interopSymbols = interopSymbols;\nexports.isActor = isActor;\nexports.isArray = isArray;\nexports.isBehavior = isBehavior;\nexports.isBuiltInEvent = isBuiltInEvent;\nexports.isFunction = isFunction;\nexports.isMachine = isMachine;\nexports.isObservable = isObservable;\nexports.isPromiseLike = isPromiseLike;\nexports.isStateLike = isStateLike;\nexports.isString = isString;\nexports.keys = keys;\nexports.mapContext = mapContext;\nexports.mapFilterValues = mapFilterValues;\nexports.mapValues = mapValues;\nexports.matchesState = matchesState;\nexports.nestedPath = nestedPath;\nexports.normalizeTarget = normalizeTarget;\nexports.partition = partition;\nexports.path = path;\nexports.pathToStateValue = pathToStateValue;\nexports.reportUnhandledExceptionOnInvocation = reportUnhandledExceptionOnInvocation;\nexports.symbolObservable = symbolObservable;\nexports.toArray = toArray;\nexports.toArrayStrict = toArrayStrict;\nexports.toEventObject = toEventObject;\nexports.toGuard = toGuard;\nexports.toInvokeSource = toInvokeSource;\nexports.toObserver = toObserver;\nexports.toSCXMLEvent = toSCXMLEvent;\nexports.toStatePath = toStatePath;\nexports.toStatePaths = toStatePaths;\nexports.toStateValue = toStateValue;\nexports.toTransitionConfigArray = toTransitionConfigArray;\nexports.uniqueId = uniqueId;\nexports.updateContext = updateContext;\nexports.updateHistoryStates = updateHistoryStates;\nexports.updateHistoryValue = updateHistoryValue;\n"],"names":["Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","getLazy","value","replacer","JSON","stringify","e","selectivelyStringify","keys","e_1","_a","selected","keys_1","o","Symbol","iterator","m","next","done","TypeError","__values","keys_1_1","key","e_1_1","error","return","serialized","parse","stringifyState","state","stringifyMachine","machine","serviceMap","Map","defaultInspectorOptions","url","iframe","document","querySelector","devTools","services","serviceListeners","Set","register","service","add","set","sessionId","forEach","listener","onStop","delete","unregister","onRegister","unsubscribe","globalThis","__xstate__","serialize","undefined","inspect","options","withDefaults","URL","getFinalOptions","targetWindow","client","inspectMachine","sub","createMachine","initial","context","states","pendingConnection","connected","on","actions","ctx","send","_","event","scxmlEventObject","get","origin","unload","type","disconnect","disconnected","entry","target","initialState","createInspectMachine","inspectService","interpret","start","listeners","subscribe","messageHandler","data","contentWindow","postMessage","inspectEvent","window","addEventListener","stringifyWithSerializer","id","parent","_event","originalSend","bind","payload","toSCXMLEvent","toEventObject","setAttribute","String","open","onError","onComplete","observer","toObserver","removeEventListener","console","warn","module","exports","default","stable","deterministicStringify","stableStringify","LIMIT_REPLACE_NODE","CIRCULAR_REPLACE_NODE","arr","replacerStack","defaultOptions","depthLimit","Number","MAX_SAFE_INTEGER","edgesLimit","obj","spacer","res","decirc","replaceGetterValues","part","pop","defineProperty","setReplace","replace","val","k","propertyDescriptor","getOwnPropertyDescriptor","configurable","push","edgeIndex","stack","depth","Array","isArray","compareFunction","a","b","tmp","deterministicDecirc","toJSON","sort","v","splice","ERROR","WINDOW","root","JS_SHA256_NO_WINDOW","WEB_WORKER","self","NODE_JS","JS_SHA256_NO_NODE_JS","process","versions","node","g","COMMON_JS","JS_SHA256_NO_COMMON_JS","AMD","ARRAY_BUFFER","JS_SHA256_NO_ARRAY_BUFFER","ArrayBuffer","HEX_CHARS","split","EXTRA","SHIFT","K","OUTPUT_TYPES","blocks","toString","JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW","isView","buffer","constructor","createOutputMethod","outputType","is224","message","Sha256","update","createMethod","method","nodeWrap","create","crypto","eval","Buffer","algorithm","nodeMethod","createHash","digest","Error","Uint8Array","createHmacOutputMethod","HmacSha256","createHmacMethod","sharedMemory","h0","h1","h2","h3","h4","h5","h6","h7","block","bytes","hBytes","finalized","hashed","first","code","index","charCodeAt","array","oKeyPad","iKeyPad","inner","notString","lastByteIndex","hash","finalize","j","s0","s1","maj","t1","ab","da","cd","bc","c","d","f","h","hex","arrayBuffer","dataView","DataView","setUint32","innerHash","sha256","sha224","hmac","sha256_imported","base64js_imported","Keycloak","config","adapter","callbackStorage","kc","refreshQueue","loginIframe","enable","callbackList","interval","scripts","getElementsByTagName","src","indexOf","iframeVersion","substring","useNonce","logInfo","createLogger","info","logWarn","generateRandomData","len","msCrypto","getRandomValues","Math","floor","random","generateCodeVerifier","generateRandomString","alphabet","randomData","chars","fromCharCode","generatePkceChallenge","pkceMethod","codeVerifier","hashBytes","fromByteArray","getRealmUrl","authServerUrl","charAt","encodeURIComponent","realm","getOrigin","location","protocol","hostname","port","processCallback","oauth","promise","prompt","timeLocal","Date","getTime","errorData","error_description","onAuthError","setError","setSuccess","flow","access_token","id_token","authSuccess","params","endpoints","token","req","XMLHttpRequest","setRequestHeader","clientId","redirectUri","pkceCodeVerifier","withCredentials","onreadystatechange","readyState","status","tokenResponse","responseText","scheduleCheckIframe","accessToken","refreshToken","idToken","fulfillPromise","setToken","tokenParsed","nonce","storedNonce","refreshTokenParsed","idTokenParsed","clearToken","onAuthSuccess","loadConfig","configUrl","createPromise","setupOidcEndoints","oidcConfiguration","authorize","authorization_endpoint","token_endpoint","logout","end_session_endpoint","checkSessionIframe","check_session_iframe","userinfo","userinfo_endpoint","fileLoaded","oidcProvider","oidcProviderConfigUrl","match","substr","xhr","responseURL","startsWith","tokenTimeoutHandle","clearTimeout","decodeToken","session_state","authenticated","subject","realmAccess","realm_access","resourceAccess","resource_access","timeSkew","iat","onTokenExpired","expiresIn","round","setTimeout","str","slice","decodeURIComponent","escape","atob","createUUID","hexDigits","join","parseCallback","parseCallbackUrl","oauthState","valid","supportedParams","newUrl","parsed","queryIndex","fragmentIndex","responseMode","parseCallbackParams","paramsString","oauthParams","result","internal","useNativePromise","createNativePromise","createLegacyPromise","resolve","reject","Promise","success","successCallback","errorCallback","callback","setupCheckLoginIframe","createElement","onload","authUrl","iframeOrigin","style","display","body","appendChild","messageCallback","source","callbacks","checkLoginIframe","unchanged","msg","loadAdapter","login","createLoginUrl","createLogoutUrl","createRegisterUrl","accountManagement","accountUrl","createAccountUrl","href","encodeHash","cordovaOpenWindowWrapper","loginUrl","cordova","InAppBrowser","shallowCloneCordovaOptions","userOptions","cordovaOptions","reduce","optionName","formatCordovaOptions","createCordovaOptions","hidden","ref","completed","closed","closeBrowser","close","reason","logoutUrl","registerUrl","universalLinks","plugins","browsertab","openUrl","init","initOptions","createCallbackStorage","Cordova","checkLoginIframeInterval","promiseType","onLoad","loginRequired","responseType","silentCheckSsoRedirectUri","enableLogging","initPromise","onReady","configPromise","doLogin","then","catch","checkSsoSilently","ifrm","removeChild","processInit","history","replaceState","updateToken","baseUrl","scope","callbackState","action","maxAge","loginHint","idpHint","locale","hasRealmRole","role","access","roles","hasResourceRole","resource","loadUserProfile","profile","loadUserInfo","userInfo","isTokenExpired","minValidity","ceil","isNaN","exec","onAuthRefreshSuccess","onAuthRefreshError","onAuthLogout","LocalStorage","localStorage","setItem","removeItem","cs","clearExpired","time","getItem","expires","err","CookieStorage","getCookie","setCookie","cookieExpiration","minutes","exp","setTime","name","ca","cookie","expirationDate","toUTCString","fn","factory","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","end","num","output","_tslib","constants","environment","toStatePath","stateId","delimiter","concat","isStateLike","toStateValue","stateValue","pathToStateValue","statePath","marker","mapValues","collection","iteratee","collectionKeys","flatten","__spreadArray","__read","toArrayStrict","toArray","updateHistoryStates","hist","subHist","subStateValue","isString","current","isFunction","IS_PRODUCTION","condition","args","symbolObservable","observable","interopSymbols","isMachine","uniqueId","currentId","__assign","createInvokeId","stateNodeId","evaluateGuard","guard","guards","guardMeta","cond","DEFAULT_GUARD_TYPE","predicate","condFn","getEventType","isActor","isBehavior","transition","isBuiltInEvent","eventType","test","isObservable","isPromiseLike","mapContext","mapper","e_5","_b","_c","subMapper","e_5_1","mapFilterValues","item","matchesState","parentStateId","childStateId","STATE_DELIMITER","parentStateValue","childStateValue","every","nestedPath","props","accessorProp","object","e_3","props_2","props_2_1","prop","e_3_1","normalizeTarget","TARGETLESS_KEY","partition","items","e_6","truthy","falsy","items_1","items_1_1","e_6_1","path","e_2","props_1","props_1_1","e_2_1","reportUnhandledExceptionOnInvocation","originalError","currentError","originalStackTrace","stackTrace","toGuard","guardMap","toInvokeSource","nextHandler","errorHandler","completionHandler","noop","complete","scxmlEvent","$$type","eventObject","toStatePaths","map","subPath","toTransitionConfigArray","configLike","transitionLike","updateContext","assignActions","updatedContext","acc","assignAction","e_7","assignment","meta","partialUpdate","propAssignment","e_7_1","updateHistoryValue"],"sourceRoot":""}